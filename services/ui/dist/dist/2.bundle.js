(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1112:function(e,t,n){"use strict";var r=n(509),o=n(8),a=n(69),i=n(1083),l=n(410),c=n(130),u=n(1139),s=n(0),f=n.n(s),p=n(1113),m=n(44),d=n(20),b=n(110),y=n(488),v=n(278);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T(e);if(t){var o=T(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(m,e);var t,n,o,s=O(m);function m(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),S(w(t=s.call(this,e)),"_toggleMap",(function(){t.setState({mapVisible:!t.state.mapVisible})})),S(w(t),"_print",(function(){window.print()})),t.state={mapVisible:!0},t}return t=m,(n=[{key:"componentDidUpdate",value:function(){Object(p.a)()}},{key:"componentWillUnmount",value:function(){Object(p.b)()}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.header,o=e.itinerary,s=e.mapElement,p=e.onClose,m=e.subTitle,h=void 0===m?"":m,g=e.title,E=this.context.LegIcon;return f.a.createElement("div",{className:"otp print-layout"},f.a.createElement(b.a,{title:[g,h]}),f.a.createElement("div",{className:"header"},f.a.createElement("div",{style:{float:"right"}},f.a.createElement(y.a,{margin:.25},f.a.createElement(r.a,{"aria-expanded":this.state.mapVisible,bsSize:"small",onClick:this._toggleMap},f.a.createElement(d.b,{Icon:i.a},f.a.createElement(a.a,{id:"components.PrintLayout.toggleMap"})))),f.a.createElement(y.a,{margin:.25},f.a.createElement(r.a,{bsSize:"small",onClick:this._print},f.a.createElement(d.b,{Icon:l.a},f.a.createElement(a.a,{id:"common.forms.print"})))),p&&f.a.createElement(r.a,{bsSize:"small",onClick:p,role:"link"},f.a.createElement(d.b,{Icon:c.a},f.a.createElement(a.a,{id:"common.forms.close"})))),n),this.state.mapVisible&&s,o&&f.a.createElement(f.a.Fragment,null,f.a.createElement(u.a,{config:t,itinerary:o,LegIcon:E}),f.a.createElement(v.a,{className:"percy-hide",itinerary:o})))}}])&&g(t.prototype,n),o&&g(t,o),m}(s.Component);S(P,"contextType",m.a);t.a=Object(o.c)((function(e){return{config:e.otp.config}}))(P)},1113:function(e,t,n){"use strict";function r(){return document.getElementsByTagName("html")[0]}function o(){r().setAttribute("class","print-view")}function a(){r().removeAttribute("class")}n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}))},1190:function(e,t,n){"use strict";n.r(t);var r=n(8),o=n(69),a=n(153),i=n(0),l=n.n(i),c=n(25),u=n(46),s=n(16),f=n(293),p=n(112),m=n(1112);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return E(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(i,e);var t,n,r,a=h(i);function i(){var e;b(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return j(E(e=a.call.apply(a,[this].concat(n))),"_close",(function(){window.location.replace(String(window.location).replace("print/",""))})),e}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.itinerary,n=e.location,r=e.parseUrlQueryString;!t&&n&&n.search&&r()}},{key:"render",value:function(){var e=this.props,t=e.activeSearch,n=e.intl,r=e.itinerary,a=e.user,i=n.formatMessage({id:"common.forms.print"});return l.a.createElement(m.a,{header:l.a.createElement(o.a,{id:"components.PrintLayout.itinerary"}),itinerary:r,mapElement:l.a.createElement("div",{className:"map-container"},l.a.createElement(p.a,null)),onClose:this._close,subTitle:t&&Object(f.a)(t.query,n,a.savedLocations),title:i})}}])&&y(t.prototype,n),r&&y(t,r),i}(i.Component),T={parseUrlQueryString:u.e,routingQuery:c.O};t.default=Object(r.c)((function(e){var t=Object(s.getActiveSearch)(e),n=e.user,r=n.localUser,o=n.loggedInUser||r;return{activeSearch:t,itinerary:Object(s.getActiveItinerary)(e),user:o}}),T)(Object(a.c)(w))},1219:function(e,t,n){"use strict";n.r(t);var r,o,a,i,l,c,u,s,f,p,m=n(509),d=n(8),b=n(153),y=n(410),v=n(1139),h=n(0),g=n.n(h),E=n(205),O=n(484),j=n(1113),w=n(44),T=n(73),S=n(20),P=n(1),x=n(26),_=n(278);function k(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var R=P.default.div(r||(r=k(["\n  font-size: 16px;\n  line-height: 115%;\n  margin: 8px;\n"]))),I=P.default.div(o||(o=k([""]))),L=P.default.h1(a||(a=k(["\n  border-bottom: 3px solid gray;\n  font-size: 30px;\n  font-weight: bold;\n"]))),C=P.default.ul(i||(i=k(["\n  font-size: 16px;\n  list-style: none;\n  margin-top: 1em;\n  padding: 0;\n"]))),z=P.default.span(l||(l=k(["\n  :empty:before {\n    content: 'N/A';\n  }\n"]))),A=P.default.div(c||(c=k(["\n  background: ",";\n  margin-top: 1em;\n\n  & > h2 {\n    font-size: 20px;\n    font-weight: bold;\n    margin: 0;\n    padding: 4px;\n  }\n"])),x.j[100]),N=P.default.div(u||(u=k(["\n  padding: 8px;\n"]))),M=x.j[800],D=P.default.div(s||(s=k(["\n  border: 3px solid ",";\n  margin-top: 0.5em;\n\n  & > h3 {\n    background: ",";\n    color: white;\n    font-size: 18px;\n    font-weight: bold;\n    margin: 0;\n    padding: 4px;\n  }\n"])),M,M),q=P.default.div(f||(f=k(["\n  background: white;\n  padding: 12px;\n"]))),F=Object(P.default)(_.a)(p||(p=k(["\n  background: ",";\n  border: 1px solid ",";\n  border-radius: 0;\n  margin-top: 15px;\n  padding: 5px;\n"])),x.j[50],x.j[200]);function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=G(e);if(t){var o=G(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Z(this,n)}}function Z(e,t){if(t&&("object"===U(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return W(e)}function W(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(a,e);var t,n,r,o=Q(a);function a(){var e;B(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return H(W(e=o.call.apply(o,[this].concat(n))),"_print",(function(){window.print()})),e}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.initializeModules,n=e.intl;Object(j.a)(),t(n)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.fetchFieldTripDetails,r=t.intl,o=t.receivedFieldTrips,a=t.request,i=t.requestId,l=t.session;if(!e.session&&l&&(o({fieldTrips:[{endTime:0,id:i}]}),n(i,r)),a&&a!==e.request){var c=a.endLocation,u=a.schoolName;document.title="Field Trip: ".concat(u," to ").concat(c)}}},{key:"componentWillUnmount",value:function(){Object(j.b)()}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.request,r=this.context.LegIcon;if(!n)return null;var o=n.address,a=n.classpassId,i=n.emailAddress,l=n.endLocation,c=n.faxNumber,u=n.grade,s=n.numChaperones,f=n.numFreeStudents,p=n.numStudents,d=n.phoneNumber,b=n.schoolName,h=n.teacherName,E=n.timeStamp,O=[{title:"Outbound Trip (to Destination)",trip:Object(T.c)(n,!0),tripAbsentMessage:"No Outbound Trip Planned"},{title:"Inbound Trip (from Destination)",trip:Object(T.c)(n,!1),tripAbsentMessage:"No Inbound Trip Planned"}];return g.a.createElement(R,null,g.a.createElement(I,null,g.a.createElement(m.a,{bsSize:"small",onClick:this._print,style:{float:"right"}},g.a.createElement(S.b,{Icon:y.a},"Print")),g.a.createElement(L,null,"Field Trip Plan: ",b," to ",l)),g.a.createElement(C,null,g.a.createElement("li",null,g.a.createElement("b",null,"Teacher"),": ",g.a.createElement(z,null,h)," (",b,", Grade:"," ",g.a.createElement(z,null,u),")"),g.a.createElement("li",null,g.a.createElement("b",null,"Teacher Address"),": ",g.a.createElement(z,null,o)),g.a.createElement("li",null,g.a.createElement("b",null,"Phone"),": ",g.a.createElement(z,null,d)," / ",g.a.createElement("b",null,"Fax"),":"," ",g.a.createElement(z,null,c)),g.a.createElement("li",null,g.a.createElement("b",null,"Email"),": ",g.a.createElement(z,null,i)),g.a.createElement("li",null,g.a.createElement("b",null,"Students Age 7 and Over"),": ",p||0),g.a.createElement("li",null,g.a.createElement("b",null,"Students Age 6 and Under"),": ",f||0),g.a.createElement("li",null,g.a.createElement("b",null,"Chaperones"),": ",s||0),a&&g.a.createElement("li",null,g.a.createElement("b",null,"Class Pass Hop Card #"),": ",a),g.a.createElement("li",null,g.a.createElement("i",null,"Request submitted: ",E))),O.map((function(e,n){var o,a=e.title,i=e.trip,l=e.tripAbsentMessage;return g.a.createElement(A,{key:n},g.a.createElement("h2",null,a),i?null===(o=i.groupItineraries)||void 0===o?void 0:o.map((function(e,n){var o=JSON.parse(Object(T.d)(e.itinData));return g.a.createElement(N,{key:n},g.a.createElement(D,null,g.a.createElement("h3",null,e.passengers," passengers on following itinerary:"),g.a.createElement(q,null,g.a.createElement(v.a,{config:t,itinerary:o,LegIcon:r}),g.a.createElement(F,{itinerary:o}))))})):g.a.createElement(N,null,g.a.createElement("i",null,l)))})))}}])&&V(t.prototype,n),r&&V(t,r),a}(h.Component);H(K,"contextType",w.a);var X={fetchFieldTripDetails:O.a,initializeModules:E.a,receivedFieldTrips:O.b};t.default=Object(d.c)((function(e,t){var n=parseInt(e.router.location.query.requestId),r=e.callTaker.fieldTrip.requests.data.find((function(e){return e.id===n}));return{config:e.otp.config,request:r,requestId:n,session:e.callTaker.session}}),X)(Object(b.c)(K))},1220:function(e,t,n){"use strict";n.r(t);var r,o=n(8),a=n(84),i=n(216),l=n(0),c=n.n(l),u=n(1),s=n(32),f=n(19),p=n(92),m=n(493),d=n(295),b=n(44),y=Object(o.c)((function(e){return{config:e.otp.config}}))((function(e){var t,n,r=e.config,o=e.itinerary,i=Object(a.a)(),u=Object(l.useContext)(b.a).getTransitiveRouteLabel,s=r.map||{},y=s.baseLayers,v=s.initLat,h=void 0===v?0:v,g=s.initLon,E=void 0===g?0:g,O=s.initZoom,j=s.maxZoom,w=s.navigationControlPosition,T=void 0===w?"bottom-right":w,S=s.transitive,P=null==y?void 0:y.map((function(e){return e.url})),x=(S||{}).disableFlexArc,_=(o||{}).legs,k=void 0===_?[]:_;return c.a.createElement(p.d,{baseLayer:((null==P?void 0:P.length)||0)>1?P:null==P?void 0:P[0],center:[h,E],mapLibreProps:{reuseMaps:!0},maxZoom:j,zoom:O},c.a.createElement(m.a,{fromLocation:null===(t=k[0])||void 0===t?void 0:t.from,toLocation:null===(n=k[k.length-1])||void 0===n?void 0:n.to}),c.a.createElement(f.a,{position:"top-left"}),o&&c.a.createElement(d.a,{transitiveData:Object(d.b)(o,{companies:r.companies,disableFlexArc:x,getRouteLabel:u,intl:i})}),c.a.createElement(f.f,{position:T}))})),v=n(274),h=n(1112);var g,E,O=u.default.div(r||(g=["\n  height: 100%;\n  width: 100%;\n\n  .map {\n    height: 100%;\n    width: 100%;\n  }\n"],E||(E=g.slice(0)),r=Object.freeze(Object.defineProperties(g,{raw:{value:Object.freeze(E)}}))));t.default=Object(v.a)(Object(i.d)(Object(o.c)((function(e,t){var n=e.user.loggedInUserMonitoredTrips,r=t.match.params.id;return{monitoredTrip:null==n?void 0:n.find((function(e){return e.id===r}))}}))((function(e){var t,n=e.monitoredTrip,r=Object(a.a)().formatMessage({id:"components.TripPreviewLayout.previewTrip"}),o=(null==n||null===(t=n.journeyState)||void 0===t?void 0:t.matchingItinerary)||(null==n?void 0:n.itinerary);return c.a.createElement(h.a,{header:r,itinerary:o,mapElement:c.a.createElement(O,{className:"map-container percy-hide"},c.a.createElement(y,{itinerary:o})),subTitle:null==n?void 0:n.tripName,title:r})})),s.b),!0)}}]);