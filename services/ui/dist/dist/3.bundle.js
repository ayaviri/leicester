(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{1071:function(e,t,n){"use strict";var r=n(8),a=n(105),o=n(216),i=n(0),l=n.n(i),c=n(21),u=n(38),s=n(32),d=n(340),p=n(339),f=n(69),m=n(104),y=n(272),b=function(e){var t=e.title;return l.a.createElement(y.f,null,l.a.createElement("div",{className:"container"},l.a.createElement("h1",{style:{display:"inline",paddingTop:"10px"}},t||l.a.createElement(f.a,{id:"components.SubNav.myAccount"})),l.a.createElement(y.g,{className:"pull-right"},l.a.createElement(m.a,{to:u.s,tracking:!0},l.a.createElement(f.a,{id:"components.SubNav.trips"})),l.a.createElement(m.a,{to:u.b,tracking:!0},l.a.createElement(f.a,{id:"components.SubNav.settings"})))))},h=n(274);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var a=w(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return S(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(i,e);var t,n,r,o=T(i);function i(){var e;g(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return P(S(e=o.call.apply(o,[this].concat(n))),"_checkAccountCreated",(function(){var t=e.props,n=t.isTermsOrVerifyPage,r=t.loggedInUser,o=t.routeTo;r.hasConsentedToTerms||n||o(u.e,null,a.e)})),e}return t=i,(n=[{key:"componentDidMount",value:function(){this._checkAccountCreated()}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.popupContent,r=e.setPopupContent,a=e.subnav,o=void 0===a||a;return l.a.createElement(d.a,{SubNav:o&&b},l.a.createElement(p.a,{content:n,hideModal:function(){r&&r(null)}}),t)}}])&&E(t.prototype,n),r&&E(t,r),i}(i.Component),C={routeTo:c.d,setPopupContent:c.l};t.a=Object(h.a)(Object(o.d)(Object(r.c)((function(e){var t=e.router.location.pathname;return{isTermsOrVerifyPage:t===u.g||t===u.h,loggedInUser:e.user.loggedInUser,popupContent:e.otp.ui.popup}}),C)(x),s.b),!0)},1077:function(e,t,n){"use strict";var r,a=n(1056),o=n(69),i=n(0),l=n.n(i),c=n(1),u=n(47);var s,d,p=Object(c.default)(a.a)(r||(s=["\n  padding: 0.2em 0.5em 0.2em !important;\n"],d||(d=s.slice(0)),r=Object.freeze(Object.defineProperties(s,{raw:{value:Object.freeze(d)}}))));t.a=function(e){var t=e.status;return l.a.createElement(l.a.Fragment,null,l.a.createElement(u.a,null," ("),function(e){switch(null==e?void 0:e.toLowerCase()){case"pending":return l.a.createElement(p,{bsStyle:"warning"},l.a.createElement(o.a,{id:"components.StatusBadge.pending"}));case"confirmed":return l.a.createElement(p,{style:{background:"green"}},l.a.createElement(o.a,{id:"components.StatusBadge.verified"}));case"invalid":return l.a.createElement(p,null,l.a.createElement(o.a,{id:"components.StatusBadge.invalid"}));default:return null}}(t),l.a.createElement(u.a,null,") "))}},1078:function(e,t,n){"use strict";var r,a,o,i=n(1191),l=n(509),c=n(84),u=n(0),s=n.n(u),d=n(1);function p(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var f=Object(d.default)(i.a)(r||(r=p(["\n  padding: 20px 0px;\n  margin-bottom: 100px;\n"]))),m=Object(d.default)(l.a)(a||(a=p(["\n  float: left;\n"]))),y=Object(d.default)(l.a)(o||(o=p(["\n  float: right;\n"])));t.a=function(e){var t=e.backButton,n=e.extraButton,r=e.okayButton,a=Object(c.a)();return s.a.createElement(f,null,s.a.createElement("nav",{"aria-label":a.formatMessage({id:"components.FormNavigationButtons.ariaLabel"})},t&&(t.content||s.a.createElement(m,{disabled:t.disabled,onClick:t.onClick,type:"button"},t.text)),r&&s.a.createElement(y,{bsStyle:"primary",disabled:r.disabled,onClick:r.onClick,type:r.type||"button"},r.text),null==n?void 0:n.content))}},1097:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r,a=n(111),o=n(509),i=n(69),l=n(0),c=n.n(l),u=n(1),s=n(20),d=n(32);var p,f,m=Object(u.default)(o.a)(r||(p=["\n  display: block;\n  padding: 0;\n"],f||(f=p.slice(0)),r=Object.freeze(Object.defineProperties(p,{raw:{value:Object.freeze(f)}})))),y=function(){return c.a.createElement(s.b,{Icon:a.a},c.a.createElement(i.a,{id:"common.forms.back"}))};t.b=function(){return c.a.createElement(m,{bsStyle:"link",onClick:d.l},c.a.createElement(y,null))}},1098:function(e,t,n){"use strict";var r,a=n(0),o=n.n(a),i=n(1),l=n(272);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var u,s,d=i.default.summary(r||(u=["\n  /* Revert display:block set by Bootstrap that hides the native expand/collapse caret. */\n  display: revert-layer;\n  font-size: 24px;\n  /* Format summary as labels */\n  font-weight: 500;\n  margin-bottom: 0.5em;\n  margin-top: 0.5em;\n\n  &::before {\n    content: '';\n    display: inline-block;\n    width: 0.5em; /* Adjust this value to increase or decrease space */\n  }\n"],s||(s=u.slice(0)),r=Object.freeze(Object.defineProperties(u,{raw:{value:Object.freeze(s)}}))));t.a=function(e){var t=e.canceling,n=e.panes,r=e.title;return o.a.createElement(o.a.Fragment,null,o.a.createElement(l.c,null,r),n.map((function(e,n){var r=e.collapsible,a=e.hidden,i=e.pane,u=e.props,s=e.title;return!a&&o.a.createElement(l.e,{key:n},r?o.a.createElement("details",null,o.a.createElement(d,null,s),o.a.createElement(i,c({canceled:t},u))):o.a.createElement(o.a.Fragment,null,s&&o.a.createElement("h3",null,s),o.a.createElement("div",null,o.a.createElement(i,c({canceled:t},u)))))})))}},1099:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return p}));var r=n(1062),a=n(1217),o=n(84),i=n(0),l=n.n(i),c=function(e){var t=e.Control,n=void 0===t?a.a:t,o=e.children,i=e.defaultValue,c=e.label,u=e.name,s=e.onChange,d={as:n,componentClass:"select",defaultValue:i,id:u,name:u,onChange:s};return s||delete d.onChange,l.a.createElement(l.a.Fragment,null,c&&l.a.createElement("label",{htmlFor:u},c),l.a.createElement(r.Field,d,o))};function u(e){var t=e.defaultValue,n=e.hideDefaultIndication,r=e.options,a=Object(o.a)();return l.a.createElement(l.a.Fragment,null,r.map((function(e,r){var o=e.text,i=e.value;return l.a.createElement("option",{key:r,value:i},n||i!==t?o:a.formatMessage({id:"common.forms.defaultValue"},{value:o}))})))}var s=[{id:"yes",value:"true"},{id:"no",value:"false"}];function d(e){var t=e.defaultValue,n=e.hideDefaultIndication,r=Object(o.a)(),a=s.map((function(e){var t=e.id,n=e.value;return{text:r.formatMessage({id:"common.forms.".concat(t)}),value:n}}));return l.a.createElement(u,{defaultValue:(t||!1).toString(),hideDefaultIndication:n,options:a})}function p(e){var t=e.decoratorFunc,n=e.defaultValue,r=e.minuteOptions,a=Object(o.a)(),i=r.map((function(e){return{text:60===e?a.formatMessage({id:"components.TripNotificationsPane.oneHour"}):a.formatMessage({id:"common.time.tripDurationFormat"},{hours:0,minutes:e,seconds:0}),value:e}})),c=t?i.map((function(e){var n=e.text,r=e.value;return{text:t(n,a),value:r}})):i;return l.a.createElement(u,{defaultValue:n,options:c})}},1109:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(69),a=n(0),o=n.n(a),i=n(48),l=n(70),c=n(157);function u(e){var t,n,a,i={body:o.a.createElement(r.a,{id:"components.TripStatusRenderers.base.unknownState"}),headingText:o.a.createElement(r.a,{id:"components.TripStatusRenderers.base.unknownState"}),journeyState:null==e?void 0:e.journeyState,lastCheckedText:o.a.createElement(r.a,{id:"components.TripStatusRenderers.base.lastCheckedDefaultText"}),monitoredTrip:e,tripIsActive:null==e?void 0:e.isActive,tripIsSnoozed:null==e?void 0:e.snoozed};if(i.matchingItinerary=null===(t=i.journeyState)||void 0===t?void 0:t.matchingItinerary,i.journeyState){var u=Object(c.a)(new Date,new Date(i.journeyState.lastCheckedEpochMillis));i.lastCheckedText=o.a.createElement(r.a,{id:"components.TripStatusRenderers.base.lastCheckedText",values:{formattedDuration:o.a.createElement(l.a,{duration:u,includeSeconds:!1})}})}return i.alerts=null===(n=i.matchingItinerary)||void 0===n?void 0:n.alerts,i.hasMoreThanOneAlert=!!((null===(a=i.alerts)||void 0===a?void 0:a.length)>0),i.shouldRenderAlerts=i.hasMoreThanOneAlert,i.shouldRenderDeleteTripButton=!1,i.shouldRenderPlanNewTripButton=!1,i.shouldRenderTogglePauseTripButton=!1,i.shouldRenderToggleSnoozeTripButton=!1,i.tripIsActive?(i.togglePauseTripButtonGlyphIcon="pause",i.togglePauseTripButtonText=o.a.createElement(r.a,{id:"components.TripStatusRenderers.base.togglePause"})):(i.togglePauseTripButtonGlyphIcon="play",i.togglePauseTripButtonText=o.a.createElement(r.a,{id:"components.TripStatusRenderers.base.untogglePause"})),i.tripIsSnoozed?(i.toggleSnoozeTripButtonGlyphIcon="play",i.toggleSnoozeTripButtonText=o.a.createElement(r.a,{id:"components.TripStatusRenderers.base.tripIsSnoozed"})):(i.toggleSnoozeTripButtonGlyphIcon="pause",i.toggleSnoozeTripButtonText=o.a.createElement(r.a,{id:"components.TripStatusRenderers.base.tripIsNotSnoozed"})),i}function s(e){var t=u(e);return t.headingText=o.a.createElement(r.a,{id:"components.TripStatusRenderers.notCalculated.heading"}),t.lastCheckedText=o.a.createElement(r.a,{id:"components.TripStatusRenderers.notCalculated.awaiting"}),t.bodyText=o.a.createElement(r.a,{id:"components.TripStatusRenderers.notCalculated.description"}),t.shouldRenderAlerts=!1,t}var d=n(72);function p(e){var t=e.monitoredTrip,n=t&&t.journeyState;return t&&n?t.isActive?t.snoozed?function(e){var t=u(e);return t.headingText=o.a.createElement(r.a,{id:"components.TripStatusRenderers.snoozed.heading"}),t.bodyText=o.a.createElement(r.a,{id:"components.TripStatusRenderers.snoozed.description"}),t.shouldRenderAlerts=!1,t.shouldRenderToggleSnoozeTripButton=!0,t}(t):"NO_LONGER_POSSIBLE"===n.tripStatus?function(e){var t=u(e);return t.headingText=o.a.createElement(r.a,{id:"components.TripStatusRenderers.noLongerPossible.heading"}),t.bodyText=o.a.createElement(r.a,{id:"components.TripStatusRenderers.noLongerPossible.description"}),t.shouldRenderAlerts=!1,t.shouldRenderDeleteTripButton=!0,t.shouldRenderPlanNewTripButton=!0,t}(t):"NEXT_TRIP_NOT_POSSIBLE"===n.tripStatus?function(e){var t=u(e);return t.headingText=o.a.createElement(r.a,{id:"components.TripStatusRenderers.nextTripNotPossible.heading"}),t.bodyText=o.a.createElement(r.a,{id:"components.TripStatusRenderers.nextTripNotPossible.description"}),t.shouldRenderAlerts=!1,t.shouldRenderPlanNewTripButton=!0,t.shouldRenderTogglePauseTripButton=!0,t}(t):"TRIP_UPCOMING"===n.tripStatus?function(e){var t=e.monitoredTrip,n=e.onTimeThresholdSeconds,a=u(t),c=Object(d.getMinutesUntilItineraryStart)(a.matchingItinerary);a.panelBsStyle="info";var s=a.matchingItinerary.startTime,p=s-6e4*t.leadTimeInMinutes;if(a.bodyText=o.a.createElement(r.a,{id:"components.TripStatusRenderers.upcoming.tripBegins",values:{monitoringStart:p,tripStart:s}}),c>t.leadTimeInMinutes)a.panelBsStyle=void 0,a.headingText=o.a.createElement(r.a,{id:"components.TripStatusRenderers.upcoming.nextTripBegins",values:{tripDatetime:s}}),a.shouldRenderAlerts=!1;else if(a.journeyState.hasRealtimeData){var f=(a.matchingItinerary.startTime-a.journeyState.scheduledDepartureTimeEpochMillis)/1e3,m=Math.abs(f),y=Object(i.l)(!0,f,n);y===i.a.ON_TIME?(a.headingText=o.a.createElement(r.a,{id:"components.TripStatusRenderers.upcoming.tripStartsSoonOnTime"}),a.panelBsStyle="success"):y===i.a.LATE?(a.headingText=o.a.createElement(r.a,{id:"components.TripStatusRenderers.upcoming.tripStartIsDelayed",values:{duration:o.a.createElement(l.a,{duration:m,includeSeconds:!1})}}),a.panelBsStyle="warning"):(a.headingText=o.a.createElement(r.a,{id:"components.TripStatusRenderers.upcoming.tripStartIsEarly",values:{duration:o.a.createElement(l.a,{duration:m,includeSeconds:!1})}}),a.panelBsStyle="warning")}else a.headingText=o.a.createElement(r.a,{id:"components.TripStatusRenderers.upcoming.tripStartsSoonNoUpdates"});return a.shouldRenderTogglePauseTripButton=!0,a.shouldRenderToggleSnoozeTripButton=!0,a}(e):"TRIP_ACTIVE"===n.tripStatus?function(e){var t=e.monitoredTrip,n=e.onTimeThresholdSeconds,a=u(t);if(a.journeyState.hasRealtimeData){var c=(a.matchingItinerary.endTime-a.journeyState.scheduledArrivalTimeEpochMillis)/1e3,s=Object(i.l)(!0,c,n);s===i.a.ON_TIME?(a.panelBsStyle="success",a.headingText=o.a.createElement(r.a,{id:"components.TripStatusRenderers.active.onTimeHeading"})):s===i.a.LATE?(a.panelBsStyle="warning",a.headingText=o.a.createElement(r.a,{id:"components.TripStatusRenderers.active.delayedHeading",values:{formattedDuration:o.a.createElement(l.a,{duration:Math.abs(c),includeSeconds:!1})}})):(a.panelBsStyle="warning",a.headingText=o.a.createElement(r.a,{id:"components.TripStatusRenderers.active.earlyHeading",values:{formattedDuration:o.a.createElement(l.a,{duration:Math.abs(c),includeSeconds:!1})}}))}else a.panelBsStyle="info",a.headingText=o.a.createElement(r.a,{id:"components.TripStatusRenderers.active.noDataHeading"});return a.bodyText=o.a.createElement(r.a,{id:"components.TripStatusRenderers.active.description",values:{arrivalTime:a.matchingItinerary.endTime}}),a.shouldRenderTogglePauseTripButton=!0,a.shouldRenderToggleSnoozeTripButton=!0,a}(e):"PAST_TRIP"===n.tripStatus?function(e){var t=u(e);return t.headingText=o.a.createElement(r.a,{id:"components.TripStatusRenderers.past.heading"}),t.bodyText=o.a.createElement(r.a,{id:"components.TripStatusRenderers.past.description"}),t.shouldRenderAlerts=!1,t}(t):s(t):function(e){var t=u(e);return t.headingText=o.a.createElement(r.a,{id:"components.TripStatusRenderers.inactive.heading"}),t.bodyText=o.a.createElement(r.a,{id:"components.TripStatusRenderers.inactive.description"}),t.shouldRenderAlerts=!1,t.shouldRenderTogglePauseTripButton=!0,t}(t):s()}},1124:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(69),a=n(2),o=n.n(a),i=n(0),l=n.n(i);function c(e){switch(e.type){case"invalid-address":return l.a.createElement(r.a,{id:"components.FavoritePlaceScreen.invalidAddress"});case"invalid-name":return l.a.createElement(r.a,{id:"components.FavoritePlaceScreen.invalidName"});case"placename-already-used":return l.a.createElement(r.a,{id:"components.FavoritePlaceScreen.nameAlreadyUsed"});case"trip-name-already-used":return l.a.createElement(r.a,{id:"components.SavedTripScreen.tripNameAlreadyUsed"});case"trip-name-required":return l.a.createElement(r.a,{id:"components.SavedTripScreen.tripNameRequired"});case"select-at-least-one-day":return l.a.createElement(r.a,{id:"components.SavedTripScreen.selectAtLeastOneDay"});default:return null}}c.propTypes={type:o.a.string.isRequired},c.defaultProps={type:""}},1158:function(e,t,n){var r,a=n(0),o=n(1062),i=(r=n(1159))&&"object"==typeof r&&"default"in r?r.default:r;var l=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidUpdate=function(e){var t=e.formik,n=t.isSubmitting,r=t.isValidating,a=t.errors,o=Object.keys(a);if(o.length>0&&n&&!r){var l='[data-error-key="'+o[0]+'"]',c='[name="'+o[0]+'"]',u=document.querySelector(l)||document.querySelector(c);if(u){var s=this.props,d=s.offset,p=s.ease,f=s.duration,m=s.focusDelay,y=s.align;i(u,{offset:d,ease:p,duration:f,align:y}),this.timeout=setTimeout((function(){return u.focus()}),f+m)}}},a.componentWillUnmount=function(){this.timeout&&clearTimeout(this.timeout)},a.render=function(){return null},r}(a.Component);l.defaultProps={offset:0,align:"top",focusDelay:200,ease:"linear",duration:1e3};var c=o.connect(l);e.exports=c},1159:function(e,t,n){var r=n(1160);e.exports=function(e,t){if(t=t||{},"string"==typeof e&&(e=document.querySelector(e)),e)return r(0,function(e,t,n){var r,a=document.body,o=document.documentElement,i=e.getBoundingClientRect(),l=o.clientHeight,c=Math.max(a.scrollHeight,a.offsetHeight,o.clientHeight,o.scrollHeight,o.offsetHeight);t=t||0,r="bottom"===n?i.bottom-l:"middle"===n?i.bottom-l/2-i.height/2:i.top;var u=c-l;return Math.min(r+t+window.pageYOffset,u)}(e,t.offset,t.align),t)}},1160:function(e,t,n){var r=n(1161),a=n(1164);e.exports=function(e,t,n){n=n||{};var o={top:window.pageYOffset||document.documentElement.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft},i=r(o).ease(n.ease||"out-circ").to({top:t,left:e}).duration(n.duration||1e3);function l(){a(l),i.update()}return i.update((function(e){window.scrollTo(0|e.left,0|e.top)})),i.on("end",(function(){l=function(){}})),l(),i}},1161:function(e,t,n){var r=n(1162);function a(e){if(!(this instanceof a))return new a(e);this._from=e,this.ease("linear"),this.duration(500)}n(1163)(a.prototype),a.prototype.reset=function(){return this.isArray="[object Array]"===Object.prototype.toString.call(this._from),this._curr=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}({},this._from),this._done=!1,this._start=Date.now(),this},a.prototype.to=function(e){return this.reset(),this._to=e,this},a.prototype.duration=function(e){return this._duration=e,this},a.prototype.ease=function(e){if(!(e="function"==typeof e?e:r[e]))throw new TypeError("invalid easing function");return this._ease=e,this},a.prototype.stop=function(){return this.stopped=!0,this._done=!0,this.emit("stop"),this.emit("end"),this},a.prototype.step=function(){if(!this._done){var e=this._duration,t=Date.now();if(t-this._start>=e)return this._from=this._to,this._update(this._to),this._done=!0,this.emit("end"),this;var n=this._from,r=this._to,a=this._curr,o=(0,this._ease)((t-this._start)/e);if(this.isArray){for(var i=0;i<n.length;++i)a[i]=n[i]+(r[i]-n[i])*o;return this._update(a),this}for(var l in n)a[l]=n[l]+(r[l]-n[l])*o;return this._update(a),this}},a.prototype.update=function(e){return 0==arguments.length?this.step():(this._update=e,this)},e.exports=a},1162:function(e,t){t.linear=function(e){return e},t.inQuad=function(e){return e*e},t.outQuad=function(e){return e*(2-e)},t.inOutQuad=function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},t.inCube=function(e){return e*e*e},t.outCube=function(e){return--e*e*e+1},t.inOutCube=function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},t.inQuart=function(e){return e*e*e*e},t.outQuart=function(e){return 1- --e*e*e*e},t.inOutQuart=function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},t.inQuint=function(e){return e*e*e*e*e},t.outQuint=function(e){return--e*e*e*e*e+1},t.inOutQuint=function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},t.inSine=function(e){return 1-Math.cos(e*Math.PI/2)},t.outSine=function(e){return Math.sin(e*Math.PI/2)},t.inOutSine=function(e){return.5*(1-Math.cos(Math.PI*e))},t.inExpo=function(e){return 0==e?0:Math.pow(1024,e-1)},t.outExpo=function(e){return 1==e?e:1-Math.pow(2,-10*e)},t.inOutExpo=function(e){return 0==e?0:1==e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))},t.inCirc=function(e){return 1-Math.sqrt(1-e*e)},t.outCirc=function(e){return Math.sqrt(1- --e*e)},t.inOutCirc=function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},t.inBack=function(e){var t=1.70158;return e*e*((t+1)*e-t)},t.outBack=function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},t.inOutBack=function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)},t.inBounce=function(e){return 1-t.outBounce(1-e)},t.outBounce=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},t.inOutBounce=function(e){return e<.5?.5*t.inBounce(2*e):.5*t.outBounce(2*e-1)+.5},t.inElastic=function(e){var t,n=.1;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4))},t.outElastic=function(e){var t,n=.1;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/.4)+1)},t.inOutElastic=function(e){var t,n=.1,r=.4;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=r*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r)*-.5:n*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r)*.5+1)},t["in-quad"]=t.inQuad,t["out-quad"]=t.outQuad,t["in-out-quad"]=t.inOutQuad,t["in-cube"]=t.inCube,t["out-cube"]=t.outCube,t["in-out-cube"]=t.inOutCube,t["in-quart"]=t.inQuart,t["out-quart"]=t.outQuart,t["in-out-quart"]=t.inOutQuart,t["in-quint"]=t.inQuint,t["out-quint"]=t.outQuint,t["in-out-quint"]=t.inOutQuint,t["in-sine"]=t.inSine,t["out-sine"]=t.outSine,t["in-out-sine"]=t.inOutSine,t["in-expo"]=t.inExpo,t["out-expo"]=t.outExpo,t["in-out-expo"]=t.inOutExpo,t["in-circ"]=t.inCirc,t["out-circ"]=t.outCirc,t["in-out-circ"]=t.inOutCirc,t["in-back"]=t.inBack,t["out-back"]=t.outBack,t["in-out-back"]=t.inOutBack,t["in-bounce"]=t.inBounce,t["out-bounce"]=t.outBounce,t["in-out-bounce"]=t.inOutBounce,t["in-elastic"]=t.inElastic,t["out-elastic"]=t.outElastic,t["in-out-elastic"]=t.inOutElastic},1163:function(e,t,n){function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var a=0;a<r.length;a++)if((n=r[a])===t||n.fn===t){r.splice(a,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,a=(n=n.slice(0)).length;r<a;++r)n[r].apply(this,t);return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length},e.exports=r},1164:function(e,t,n){(function(t){for(var r=n(1165),a="undefined"==typeof window?t:window,o=["moz","webkit"],i="AnimationFrame",l=a["request"+i],c=a["cancel"+i]||a["cancelRequest"+i],u=0;!l&&u<o.length;u++)l=a[o[u]+"Request"+i],c=a[o[u]+"Cancel"+i]||a[o[u]+"CancelRequest"+i];if(!l||!c){var s=0,d=0,p=[];l=function(e){if(0===p.length){var t=r(),n=Math.max(0,16.666666666666668-(t-s));s=n+t,setTimeout((function(){var e=p.slice(0);p.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(s)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(n))}return p.push({handle:++d,callback:e,cancelled:!1}),d},c=function(e){for(var t=0;t<p.length;t++)p[t].handle===e&&(p[t].cancelled=!0)}}e.exports=function(e){return l.call(a,e)},e.exports.cancel=function(){c.apply(a,arguments)},e.exports.polyfill=function(e){e||(e=a),e.requestAnimationFrame=l,e.cancelAnimationFrame=c}}).call(this,n(93))},1165:function(e,t,n){(function(t){(function(){var n,r,a,o,i,l;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=t&&t.hrtime?(e.exports=function(){return(n()-i)/1e6},r=t.hrtime,o=(n=function(){var e;return 1e9*(e=r())[0]+e[1]})(),l=1e9*t.uptime(),i=o-l):Date.now?(e.exports=function(){return Date.now()-a},a=Date.now()):(e.exports=function(){return(new Date).getTime()-a},a=(new Date).getTime())}).call(this)}).call(this,n(254))},1215:function(e,t,n){"use strict";n.r(t);var r=n(1074),a=n(8),o=n(1062),i=n(69),l=n(153),c=n(216),u=n(75),s=n.n(u),d=n(0),p=n.n(d),f=n(46),m=n(21),y=n(88),b=n(203),h=n(72),v=n(16),g=n(52),E=n(32),O=n(38),T=n(1071),j=n(411),S=n(47),w=n(84),P=n(1077),x=Object(d.lazy)((function(){return n.e(10).then(n.bind(null,1214))}));function C(e){return!!e}function k(e){return{label:(null==e?void 0:e.nickname)||(null==e?void 0:e.email),value:e}}function R(e){return"CONFIRMED"===e.status}function I(e){return R(e.value)?e.label:p.a.createElement(p.a.Fragment,null,e.label," ",p.a.createElement(P.a,{status:e.value.status}))}var _=Object(a.c)((function(e){return{loggedInUser:e.user.loggedInUser}}))((function(e){var t=e.disabled,n=e.excludedUsers,r=void 0===n?[]:n,a=e.loggedInUser,o=e.multi,i=void 0!==o&&o,l=e.onChange,c=e.selectedCompanions,u=((null==a?void 0:a.relatedUsers)||[]).filter(C).filter(R).map(k),s=i?null==c?void 0:c.filter(C).map(k):(null==c?void 0:c[0])?k(c[0]):null,f=Object(d.useCallback)((function(e){return r.includes(null==e?void 0:e.value)}),[r]);return p.a.createElement(d.Suspense,{fallback:p.a.createElement("span",null,"...")},p.a.createElement(x,{formatOptionLabel:I,isClearable:!0,isDisabled:t,isMulti:i,isOptionDisabled:f,onChange:l,options:u,value:s}))}));function M(e){return e?null==e?void 0:e.value:null}var B,D={getDependentUserInfo:y.o},N=Object(a.c)((function(e){return{loggedInUser:e.user.loggedInUser}}),D)((function(e){var t,n=e.getDependentUserInfo,r=e.isReadOnly,a=e.loggedInUser,o=e.setFieldValue,l=e.values,c=Object(d.useCallback)((function(e){e&&!("label"in e)||o("companion",M(e))}),[o]),u=Object(d.useCallback)((function(e){e&&!("length"in e)||o("observers",(e||[]).map(M))}),[o]),s=Object(w.a)(),f=null==a?void 0:a.dependents;Object(d.useEffect)((function(){f&&f.length>0&&n(f,s)}),[f,n,s]);var m=l.companion,y=l.observers,b=l.primary,h=!b&&l.userId===(null==a?void 0:a.id)||(null==b?void 0:b.userId)===(null==a?void 0:a.id),v=h?s.formatMessage({id:"components.MobilityProfile.myself"}):b?b.name||b.email:Object(g.g)(null==a||null===(t=a.dependentsInfo)||void 0===t?void 0:t.find((function(e){return e.userId===l.userId})));return p.a.createElement("div",null,p.a.createElement("p",null,p.a.createElement(i.a,{id:"components.TripCompanionsPane.primaryLabel"}),p.a.createElement("strong",null,v)),p.a.createElement("p",null,p.a.createElement(i.a,{id:"components.TripCompanionsPane.companionLabel"}),p.a.createElement(_,{disabled:r||!h,excludedUsers:y,onChange:c,selectedCompanions:[m]})),p.a.createElement("p",null,p.a.createElement(i.a,{id:"components.TripCompanionsPane.observersLabel"}),p.a.createElement(_,{disabled:r,excludedUsers:[m],multi:!0,onChange:u,selectedCompanions:y})))})),A=n(1055),F=Object(a.c)((function(e){return{loggedInUser:e.user.loggedInUser}}))((function(e){var t,n=e.isReadOnly,r=e.loggedInUser,a=e.values;if(!n)return null;var o=a.companion,l=a.primary,c=!l&&a.userId===(null==r?void 0:r.id)||(null==l?void 0:l.userId)===(null==r?void 0:r.id)?(null==o?void 0:o.nickname)||(null==o?void 0:o.email):l?l.name||l.email:Object(g.g)(null==r||null===(t=r.dependentsInfo)||void 0===t?void 0:t.find((function(e){return e.userId===a.userId})));return p.a.createElement(A.a,{bsStyle:"warning",style:{margin:"-30px 0"}},p.a.createElement(i.a,{id:"components.SavedTripEditor.readOnlyBanner",values:{creator:c}}))})),z=n(274),U=n(1097),L=n(509),q=n(1123),V=n(1),Q=n(20),H=n(128),G=n(26);function $(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var X,Y,K=Object(V.default)(L.a)(B||(X=["\n  background-color: white;\n  border-color: ",";\n  color: ",";\n  :active,\n  :focus,\n  :focus:active,\n  :hover {\n    border-color: ",";\n    color: ",";\n  }\n  float: right;\n  margin-right: 10px;\n"],Y||(Y=X.slice(0)),B=Object.freeze(Object.defineProperties(X,{raw:{value:Object.freeze(Y)}}))),G.f,G.f,G.f,G.f),Z={confirmAndDeleteUserMonitoredTrip:y.d},ee=Object(a.c)(null,Z)((function(e){var t=e.confirmAndDeleteUserMonitoredTrip,n=e.tripId,r=W(Object(d.useState)(!1),2),a=r[0],o=r[1],l=Object(w.a)(),c=function(){var e,r=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,t(n,l);case 3:o(!1);case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){$(o,r,a,i,l,"next",e)}function l(e){$(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(){return r.apply(this,arguments)}}();return p.a.createElement(K,{disabled:a,onClick:c},a?p.a.createElement(H.a,null):p.a.createElement(Q.b,{Icon:q.a},p.a.createElement(i.a,{id:"components.SavedTripEditor.deleteSavedTrip"})))})),te=n(104),ne=n(110),re=n(1078),ae=n(1098);function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var le=function(e){var t=e.extraButton,n=e.isReadOnly,r=e.onCancel,a=e.panes,o=e.title,l=oe(Object(d.useState)(!1),2),c=l[0],u=l[1],s=oe(Object(d.useState)(""),2),f=s[0],m=s[1];return Object(d.useEffect)((function(){m("")}),[a]),p.a.createElement(p.a.Fragment,null,p.a.createElement(ae.a,{canceling:c,panes:a,title:o}),p.a.createElement(re.a,{backButton:{disabled:"okay"===f,onClick:function(){m("back"),u(!0),r()},text:"back"===f?p.a.createElement(H.a,null):p.a.createElement(i.a,{id:"common.forms.cancel"})},extraButton:n?void 0:t,okayButton:n?void 0:{disabled:"okay"===f,onClick:function(){setTimeout((function(){return m("okay")}),10)},text:"okay"===f?p.a.createElement(H.a,null):p.a.createElement(i.a,{id:"components.StackedPaneDisplay.savePreferences"}),type:"submit"}}))},ce=function(){var e=Object(w.a)().formatMessage({id:"components.SavedTripEditor.tripNotFound"});return p.a.createElement(p.a.Fragment,null,p.a.createElement(U.b,null),p.a.createElement(ne.a,{title:e}),p.a.createElement("h1",null,e),p.a.createElement("p",null,p.a.createElement(i.a,{id:"components.SavedTripEditor.tripNotFoundDescription"})))},ue=function(e){var t=e.isCreating,n=e.onCancel,r=e.panes,a=e.values,o=Object(w.a)();if(a){var l=[{pane:r.readOnlyAlert,props:e},{pane:r.basics,props:e,title:p.a.createElement(i.a,{id:"components.SavedTripEditor.tripInformation"})},{pane:r.notifications,props:e,title:p.a.createElement(i.a,{id:"components.SavedTripEditor.tripNotifications"})}];e.hasMobilityProfile&&l.push({pane:r.travelCompanions,props:e,title:p.a.createElement(i.a,{id:"components.SavedTripEditor.travelCompanions"})});var c=e.isReadOnly?o.formatMessage({id:"otpUi.TripDetails.title"}):t?o.formatMessage({id:"components.SavedTripEditor.saveNewTrip"}):o.formatMessage({id:"components.SavedTripEditor.editSavedTrip"});return p.a.createElement(p.a.Fragment,null,p.a.createElement(ne.a,{title:c}),p.a.createElement(te.a,{to:t?"/":O.s},p.a.createElement(U.a,null)),p.a.createElement(le,{extraButton:a.id?{content:p.a.createElement(ee,{tripId:a.id})}:void 0,isReadOnly:e.isReadOnly,onCancel:n,panes:l,title:c}))}return p.a.createElement(ce,null)},se=n(292),de=n(1192),pe=n(177),fe=n.n(pe),me=n(24),ye=n(37),be=n(28),he=n(29),ve=n.n(he),ge=n(2),Ee=n.n(ge),Oe=n(13),Te=n(57),je=n(260);var Se={min:Ee.a.number,now:Ee.a.number,max:Ee.a.number,label:Ee.a.node,srOnly:Ee.a.bool,striped:Ee.a.bool,active:Ee.a.bool,children:function(e,t,n){var r=e[t];if(!r)return null;var a=null;return p.a.Children.forEach(r,(function(e){if(!a){var t=p.a.createElement(Pe,null);if(e.type!==t.type){var r=p.a.isValidElement(e)?e.type.displayName||e.type.name||e.type:e;a=new Error("Children of "+n+" can contain only ProgressBar components. Found "+r+".")}}})),a},isChild:Ee.a.bool};function we(e,t,n){var r=(e-t)/(n-t)*100;return Math.round(1e3*r)/1e3}var Pe=function(e){function t(){return e.apply(this,arguments)||this}Object(be.a)(t,e);var n=t.prototype;return n.renderProgressBar=function(e){var t,n=e.min,r=e.now,a=e.max,o=e.label,i=e.srOnly,l=e.striped,c=e.active,u=e.className,s=e.style,d=Object(ye.a)(e,["min","now","max","label","srOnly","striped","active","className","style"]),f=Object(Oe.f)(d),m=f[0],y=f[1],b=Object(me.a)({},Object(Oe.d)(m),((t={active:c})[Object(Oe.e)(m,"striped")]=c||l,t));return p.a.createElement("div",Object(me.a)({},y,{role:"progressbar",className:ve()(u,b),style:Object(me.a)({width:we(r,n,a)+"%"},s),"aria-valuenow":r,"aria-valuemin":n,"aria-valuemax":a}),i?p.a.createElement("span",{className:"sr-only"},o):o)},n.render=function(){var e=this.props,t=e.isChild,n=Object(ye.a)(e,["isChild"]);if(t)return this.renderProgressBar(n);var r=n.min,a=n.now,o=n.max,i=n.label,l=n.srOnly,c=n.striped,u=n.active,s=n.bsClass,f=n.bsStyle,m=n.className,y=n.children,b=Object(ye.a)(n,["min","now","max","label","srOnly","striped","active","bsClass","bsStyle","className","children"]);return p.a.createElement("div",Object(me.a)({},b,{className:ve()(m,"progress")}),y?je.a.map(y,(function(e){return Object(d.cloneElement)(e,{isChild:!0})})):this.renderProgressBar({min:r,now:a,max:o,label:i,srOnly:l,striped:c,active:u,bsClass:s,bsStyle:f}))},t}(p.a.Component);Pe.propTypes=Se,Pe.defaultProps={min:0,max:100,active:!1,isChild:!1,srOnly:!1,striped:!1};var xe=Object(Oe.a)("progress-bar",Object(Oe.c)(fe()(Te.d),Pe)),Ce=n(1191),ke=n(1193),Re=n(1217),Ie=(n(275),{inline:Ee.a.bool,disabled:Ee.a.bool,title:Ee.a.string,validationState:Ee.a.oneOf(["success","warning","error",null]),inputRef:Ee.a.func}),_e=function(e){function t(){return e.apply(this,arguments)||this}return Object(be.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.inline,n=e.disabled,r=e.validationState,a=e.inputRef,o=e.className,i=e.style,l=e.title,c=e.children,u=Object(ye.a)(e,["inline","disabled","validationState","inputRef","className","style","title","children"]),s=Object(Oe.f)(u),d=s[0],f=s[1],m=p.a.createElement("input",Object(me.a)({},f,{ref:a,type:"radio",disabled:n}));if(t){var y,b=((y={})[Object(Oe.e)(d,"inline")]=!0,y.disabled=n,y);return p.a.createElement("label",{className:ve()(o,b),style:i,title:l},m,c)}var h=Object(me.a)({},Object(Oe.d)(d),{disabled:n});return r&&(h["has-"+r]=!0),p.a.createElement("div",{className:ve()(o,h),style:i},p.a.createElement("label",{title:l},m,c))},t}(p.a.Component);_e.propTypes=Ie,_e.defaultProps={inline:!1,disabled:!1,title:""};var Me,Be=Object(Oe.a)("radio",_e),De=n(58),Ne=n(1158),Ae=n.n(Ne),Fe=n(272),ze=n(167),Ue=n(486),Le=n(1124),qe=n(485),Ve=n(1166),Qe=n(522),He=n(524),Ge=n.n(He),$e=n(1109);function We(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Je(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Xe=Object(V.default)(L.a)(Me||(Me=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  margin-right: 10px;\n"])));function Ye(e){var t=e.bsStyle,n=e.glyphIcon,r=e.onClick,a=e.text,o=We(Object(d.useState)(!1),2),i=o[0],l=o[1];return Object(d.useEffect)((function(){l(!1)}),[a]),p.a.createElement(Xe,{bsStyle:t,disabled:i,onClick:function(){l(!0),r()}},i?p.a.createElement(H.a,null):p.a.createElement(p.a.Fragment,null,p.a.createElement(Ve.a,{glyph:n})," ",a))}function Ke(e){var t=e.alerts;return p.a.createElement(Qe.a.Body,null,p.a.createElement("h4",null,p.a.createElement(i.a,{id:"components.TripStatus.alerts",values:{alerts:t.length}})),p.a.createElement(Ge.a,{alerts:t}))}var Ze,et=Object(a.c)((function(e,t){var n=t.monitoredTrip;return{renderData:Object($e.a)({monitoredTrip:n,onTimeThresholdSeconds:e.otp.config.onTimeThresholdSeconds})}}),(function(e,t){var n=t.intl,r=t.monitoredTrip;return{confirmAndDeleteUserMonitoredTrip:function(){return e(Object(y.d)(r.id,n))},planNewTripFromMonitoredTrip:function(){return e(Object(y.p)(r))},togglePauseTrip:function(){return e(Object(y.w)(r,n))},toggleSnoozeTrip:function(){return e(Object(y.x)(r,n))}}}))(Object(l.c)((function(e){var t=e.confirmAndDeleteUserMonitoredTrip,n=e.isReadOnly,r=e.planNewTripFromMonitoredTrip,a=e.renderData,o=e.togglePauseTrip,l=e.toggleSnoozeTrip;return p.a.createElement(Qe.a,{bsStyle:a.panelBsStyle},p.a.createElement(Qe.a.Heading,null,p.a.createElement("h3",null,a.headingText),p.a.createElement("small",null,a.lastCheckedText)),p.a.createElement(Qe.a.Body,null,a.bodyText),a.shouldRenderAlerts&&p.a.createElement(Ke,{alerts:a.alerts}),!n&&p.a.createElement(Qe.a.Body,null,a.shouldRenderToggleSnoozeTripButton&&p.a.createElement(Ye,{glyphIcon:a.toggleSnoozeTripButtonGlyphIcon,onClick:l,text:a.toggleSnoozeTripButtonText}),a.shouldRenderTogglePauseTripButton&&p.a.createElement(Ye,{glyphIcon:a.togglePauseTripButtonGlyphIcon,onClick:o,text:a.togglePauseTripButtonText}),a.shouldRenderDeleteTripButton&&p.a.createElement(Ye,{bsStyle:"error",glyphIcon:"trash",onClick:t,text:p.a.createElement(i.a,{id:"components.TripStatus.deleteTrip"})}),a.shouldRenderPlanNewTripButton&&p.a.createElement(Ye,{glyphIcon:"search",onClick:r,text:p.a.createElement(i.a,{id:"components.TripStatus.planNewTrip"})})))}))),tt=n(487);function nt(e){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(n),!0).forEach((function(t){pt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function it(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lt(e,t){return(lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ct(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dt(e);if(t){var a=dt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ut(this,n)}}function ut(e,t){if(t&&("object"===nt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return st(e)}function st(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dt(e){return(dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ft=Object(V.default)(Fe.b)(Ze||(Ze=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  display: flex;\n  gap: 4px;\n\n  // Targets the formik checkboxes to provide better contrast on focus styles\n  input {\n    &:focus-visible,\n    &:focus {\n      outline-offset: 0.5px;\n      outline: solid 2px blue;\n      &:checked {\n        outline: solid 2px white;\n      }\n    }\n  }\n  & > span {\n    align-items: center;\n    border-radius: 3rem;\n    box-sizing: border-box;\n    display: inline-flex;\n    flex-direction: row-reverse;\n    height: 3rem;\n    min-width: 4.5rem;\n    position: relative;\n    text-align: center;\n    width: 5rem;\n  }\n  svg {\n    color: ",";\n    display: none;\n    /* Remove top attribute set by Bootstrap. */\n    top: inherit;\n    width: 1.3rem;\n  }\n\n  input,\n  svg {\n    flex-shrink: 0;\n    /* Remove bootstrap's vertical margin */\n    margin: 0 7px 0 2px;\n  }\n\n  /* Check boxes for disabled days are replaced with the cross mark. */\n  input[disabled] {\n    display: none;\n  }\n  input[disabled] ~ svg {\n    display: block;\n  }\n\n  /* Add oblique strike for disabled days */\n  .disabled-day::after {\n    border-top: 2px solid ",";\n    content: '';\n    left: 0;\n    position: absolute;\n    right: 0;\n    top: 45%;\n    transform: rotate(-30deg);\n    transform-origin: center;\n  }\n\n  label {\n    flex-grow: 1;\n    font-weight: inherit;\n    height: 100%;\n    line-height: 3rem;\n    margin: 0;\n    position: relative;\n    text-align: center;\n  }\n"])),G.f,G.f);function mt(e,t){var n;return t&&!(null===(n=t[e])||void 0===n?void 0:n.valid)}var yt,bt,ht=function(e){var t=e.errorCheckingTrip,n=e.errorSelectingDays,r=e.finalItineraryExistence,a=(e.isCreating,e.isReadOnly),l=e.monitoredTrip,c=Object(w.a)(),u=Object(G.h)();return a?p.a.createElement(qe.b,{days:Object(b.e)(l)}):p.a.createElement(p.a.Fragment,null,t&&p.a.createElement(p.a.Fragment,null,p.a.createElement("br",null),p.a.createElement(i.a,{id:"actions.user.itineraryExistenceCheckFailed"})),p.a.createElement(ft,null,b.a.map((function(e){var t=mt(e,r),n=t?"disabled-day":"",a=t?c.formatMessage({id:"components.TripBasicsPane.tripNotAvailableOnDay"},{repeatedDay:Object(b.f)(e,c)}):"";return p.a.createElement(qe.a,{baseColor:u,key:e,monitored:!t&&l[e],title:a},p.a.createElement(o.Field,{disabled:t,id:e,name:e,type:"checkbox"}),p.a.createElement(se.a,{"aria-hidden":!0}),p.a.createElement("label",{htmlFor:e},p.a.createElement(S.a,null,p.a.createElement(ze.a,{day:e})),p.a.createElement("span",{"aria-hidden":!0,className:n},p.a.createElement(Ue.a,{day:e}))),p.a.createElement(S.a,null,a))}))),p.a.createElement(de.a,{role:"status"},r?p.a.createElement(i.a,{id:"components.TripBasicsPane.tripIsAvailableOnDaysIndicated"}):p.a.createElement(xe,{active:!0,label:p.a.createElement(i.a,{id:"components.TripBasicsPane.checkingItineraryExistence"}),now:100})),p.a.createElement(de.a,{role:"alert"},n&&p.a.createElement(Le.a,{type:"select-at-least-one-day"})))},vt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lt(e,t)}(l,e);var t,n,r,a=ct(l);function l(){var e;ot(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return pt(st(e=a.call.apply(a,[this].concat(n))),"state",{selectedDays:null}),pt(st(e),"_updateNewTripItineraryExistence",(function(t){var n=e.props,r=n.isCreating,a=n.itineraryExistence,o=n.setFieldValue;r&&a&&a!==t.itineraryExistence&&b.a.forEach((function(e){a[e].valid||o(e,!1)}))})),pt(st(e),"_getDaysFromItineraryExistence",(function(){var t=e.props,n=t.itineraryExistence,r=t.values.itineraryExistence||n;return b.a.filter((function(e){var t;return null==r||null===(t=r[e])||void 0===t?void 0:t.valid}))})),pt(st(e),"_handleRecurringTrip",(function(t){if(t.target.checked){var n=e.props,r=n.setValues,a=n.values,o=e.state.selectedDays;r(at(at({},a),Object(b.d)(o||e._getDaysFromItineraryExistence())))}})),pt(st(e),"_handleOneTimeTrip",(function(t){if(t.target.checked){var n=e.props,r=n.setValues,a=n.values;e.setState({selectedDays:Object(b.e)(a)}),r(at(at({},a),Object(b.d)([])))}})),e}return t=l,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.checkItineraryExistence,n=e.intl,r=e.values;r.itineraryExistence||t(r,n)}},{key:"componentDidUpdate",value:function(e){this._updateNewTripItineraryExistence(e)}},{key:"componentWillUnmount",value:function(){this.props.clearItineraryExistence()}},{key:"render",value:function(){var e=this.props,t=e.canceled,n=e.dirty,r=e.disableSingleItineraryDays,a=e.errors,l=e.intl,c=e.isCreating,u=e.isReadOnly,s=e.isSubmitting,d=e.itineraryExistence,f=e.values,m=f.itinerary,y=f.itineraryExistence||d,h=n&&!s&&!t,v=c?l.formatMessage({id:"components.TripBasicsPane.unsavedChangesNewTrip"}):l.formatMessage({id:"components.TripBasicsPane.unsavedChangesExistingTrip"});if(m){var g=Object(E.e)(this.props),O=0===Object(b.e)(f).length,T=b.a.every((function(e){return mt(e,y)})),j=g.monday;return p.a.createElement("div",null,p.a.createElement(De.a,{message:v,when:h}),!c&&p.a.createElement(et,{isReadOnly:u,monitoredTrip:f}),p.a.createElement(tt.a,{monitoredTrip:f}),p.a.createElement(Ce.a,{validationState:g.tripName},p.a.createElement(ke.a,{htmlFor:"tripName"},p.a.createElement(i.a,{id:"components.TripBasicsPane.tripNamePrompt"})),p.a.createElement(o.Field,{"aria-invalid":!!g.tripName,as:Re.a,disabled:u,id:"tripName",name:"tripName"}),p.a.createElement(Re.a.Feedback,null),p.a.createElement(de.a,{role:"alert"},a.tripName&&p.a.createElement(Le.a,{type:a.tripName}))),r?p.a.createElement(Ce.a,{validationState:j},p.a.createElement(ke.a,null,p.a.createElement(i.a,{id:"components.TripBasicsPane.tripDaysPrompt"})),p.a.createElement(ht,{errorCheckingTrip:T,errorSelectingDays:j,finalItineraryExistence:y,isCreating:c,isReadOnly:u,monitoredTrip:f})):p.a.createElement(Ce.a,null,p.a.createElement(ke.a,null,p.a.createElement(i.a,{id:"components.TripBasicsPane.tripDaysPrompt"})),p.a.createElement(Be,{checked:!O,disabled:T||u,onChange:this._handleRecurringTrip},p.a.createElement(i.a,{id:"components.TripBasicsPane.recurringEachWeek"})),!O&&p.a.createElement(p.a.Fragment,null,p.a.createElement(ht,{errorCheckingTrip:T,finalItineraryExistence:y,isCreating:c,isReadOnly:u,monitoredTrip:f})),p.a.createElement(Be,{checked:O,disabled:u,onChange:this._handleOneTimeTrip},p.a.createElement(i.a,{id:"components.TripBasicsPane.onlyOnDate",values:{date:m.startTime}}))),p.a.createElement(Ae.a,{align:"middle",duration:200}))}return p.a.createElement("div",null,p.a.createElement(i.a,{id:"common.itineraryDescriptions.noItineraryToDisplay"}))}}])&&it(t.prototype,n),r&&it(t,r),l}(d.Component),gt={checkItineraryExistence:y.b,clearItineraryExistence:y.c},Et=Object(a.c)((function(e){var t=e.user.itineraryExistence;return{disableSingleItineraryDays:e.otp.config.disableSingleItineraryDays,itineraryExistence:t}}),gt)(Object(l.c)(vt)),Ot=n(149),Tt=n(6),jt=n(42),St=n(1099);function wt(e){return(wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ct(e,t){return(Ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_t(e);if(t){var a=_t(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Rt(this,n)}}function Rt(e,t){if(t&&("object"===wt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return It(e)}function It(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _t(e){return(_t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Dt=V.default.ul(yt||(yt=Bt(["\n  border-spacing: 0 10px;\n  display: table;\n  padding-left: 0;\n  width: 100%;\n  label {\n    font-weight: inherit;\n    padding-right: 10px;\n  }\n  /* Use table display for this element, so that all dropdowns occupy the same width.\n    (Bootstrap already sets them to occupy 100% of the width of the parent, i.e. the logical cell.) */\n  & > li {\n    align-items: center;\n    display: table-row;\n    & > * {\n      display: table-cell;\n    }\n  }\n"]))),Nt=V.default.summary(bt||(bt=Bt(["\n  /* Revert display:block set by Bootstrap that hides the native expand/collapse caret. */\n  display: revert-layer;\n  /* Format summary as labels */\n  font-weight: 700;\n  margin-bottom: 5px;\n"]))),At=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ct(e,t)}(o,e);var t,n,r,a=kt(o);function o(){var e;Pt(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Mt(It(e=a.call.apply(a,[this].concat(n))),"_handleDelayThresholdChange",(function(t){var n=e.props.setFieldValue,r=t.target;if(r){var a=r.value;n("arrivalVarianceMinutesThreshold",a),n("departureVarianceMinutesThreshold",a)}})),e}return t=o,(n=[{key:"render",value:function(){var e,t,n,r=this.props,a=r.isReadOnly,o=r.notificationChannel,l=r.values,c="none"===o||!(null==o?void 0:o.length),u=Math.min(l.arrivalVarianceMinutesThreshold,l.departureVarianceMinutesThreshold),s=null===(e=l.itinerary)||void 0===e||null===(t=e.legs)||void 0===t?void 0:t.some(jt.isTransitLeg);if(c)n=p.a.createElement(A.a,{bsStyle:"warning"},p.a.createElement("p",null,p.a.createElement(Q.b,{Icon:Ot.ExclamationTriangle},p.a.createElement("strong",null,p.a.createElement(i.a,{id:"components.TripNotificationsPane.notificationsTurnedOff"})))),p.a.createElement("p",null,p.a.createElement(i.a,{id:"components.TripNotificationsPane.howToReceiveAlerts"})));else{var d=o.split(",").filter((function(e){return null==e?void 0:e.length})).map((function(e){return p.a.createElement(i.a,{id:"common.notifications.".concat(e),key:e})}));n=p.a.createElement(Fe.b,{disabled:a},s?p.a.createElement(p.a.Fragment,null,p.a.createElement("legend",null,p.a.createElement(i.a,{id:"components.TripNotificationsPane.notifyViaChannelWhen",values:{channel:p.a.createElement(Tt.FormattedList,{type:"conjunction",value:d})}})),p.a.createElement(Dt,null,p.a.createElement("li",null,p.a.createElement(St.c,{label:p.a.createElement(i.a,{id:"components.TripNotificationsPane.realtimeAlertFlagged"}),name:"notifyOnAlert"},p.a.createElement(St.d,{defaultValue:!0}))),p.a.createElement("li",null,p.a.createElement(St.c,{label:p.a.createElement(i.a,{id:"components.TripNotificationsPane.altRouteRecommended"}),name:"notifyOnItineraryChange"},p.a.createElement(St.d,{defaultValue:!0}))),p.a.createElement("li",null,p.a.createElement("label",{htmlFor:"commonDelayThreshold"},p.a.createElement(i.a,{id:"components.TripNotificationsPane.delaysAboveThreshold"})),p.a.createElement(Re.a,{componentClass:"select",id:"commonDelayThreshold",onChange:this._handleDelayThresholdChange,value:u},p.a.createElement(St.a,{defaultValue:5,minuteOptions:[5,10,15]}))))):null,p.a.createElement("details",null,p.a.createElement(Nt,null,p.a.createElement(i.a,{id:"components.TripNotificationsPane.advancedSettings"})),p.a.createElement(Dt,null,p.a.createElement("li",null,p.a.createElement(St.c,{label:p.a.createElement(i.a,{id:"components.TripNotificationsPane.monitorThisTrip"}),name:"leadTimeInMinutes"},p.a.createElement(St.a,{decoratorFunc:function(e,t){return t.formatMessage({id:"components.TripNotificationsPane.timeBefore"},{time:e})},defaultValue:30,minuteOptions:[15,30,45,60]}))))))}return p.a.createElement("div",null,n)}}])&&xt(t.prototype,n),r&&xt(t,r),o}(d.Component),Ft=n(412);function zt(e){return(zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ut=["otp2QueryParams"];function Lt(){return(Lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qt(Object(n),!0).forEach((function(t){Kt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ht(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $t(e,t){return($t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yt(e);if(t){var a=Yt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Jt(this,n)}}function Jt(e,t){if(t&&("object"===zt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Xt(e)}function Xt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yt(e){return(Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zt={isActive:r.b(),leadTimeInMinutes:r.c().positive().integer(),tripName:r.e().required("trip-name-required")};var en=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$t(e,t)}(c,e);var t,n,a,l=Wt(c);function c(){var e;Ht(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Kt(Xt(e=l.call.apply(l,[this].concat(n))),"_createMonitoredTrip",(function(){var t=e.props,n=t.currentQuery,r=t.homeTimezone,a=t.itinerary,o=t.loggedInUser,i=t.queryParams,l=Object(h.getItineraryDefaultMonitoredDays)(a,r),c=a.otp2QueryParams,u=Qt(a,Ut),s=Object(g.m)(o.dependentsInfo,n.forEmail);return Vt(Vt({},Object(b.d)(l)),{},{arrivalVarianceMinutesThreshold:5,companion:s?{email:o.email,status:"CONFIRMED"}:null,departureVarianceMinutesThreshold:5,excludeFederalHolidays:!0,isActive:!0,itinerary:Object(h.copyAndRemoveRouteModeOverrides)(u),leadTimeInMinutes:30,otp2QueryParams:c,primary:s,queryParams:i,tripName:"",userId:o.id})})),Kt(Xt(e),"_updateMonitoredTrip",(function(t){var n=e.props,r=n.createOrUpdateUserMonitoredTrip,a=n.intl,o=n.isCreating;r(Vt(Vt({},t),{},{itinerary:Object(h.copyAndRemoveRouteModeOverrides)(t.itinerary)}),o,void 0,void 0,a)})),Kt(Xt(e),"_goToTripPlanner",(function(){return e.props.routeTo("/")})),Kt(Xt(e),"_goToSavedTrips",(function(){return e.props.routeTo(O.s)})),Kt(Xt(e),"_panes",{basics:Et,notifications:At,readOnlyAlert:F,summary:Ft.b,travelCompanions:N}),Kt(Xt(e),"_getTripToEdit",(function(){var t=e.props,n=t.isCreating,r=t.monitoredTrips,a=t.tripId;return n?e._createMonitoredTrip():r.find((function(e){return e.id===a}))})),e}return t=c,(n=[{key:"componentDidMount",value:function(){var e,t=this.props,n=t.intl,r=t.isCreating,a=t.itinerary,o=t.location,i=t.monitoredTrips,l=t.parseUrlQueryString;r&&((e=i)&&e.length>=5?(alert(n.formatMessage({id:"components.SavedTripScreen.tooManyTrips"})),this._goToSavedTrips()):!a&&o&&o.search&&l())}},{key:"render",value:function(){var e,t=this,n=this.props,a=n.disableSingleItineraryDays,l=n.hasMobilityProfile,c=n.isCreating,u=n.itinerary,d=n.loggedInUser,f=n.monitoredTrips,m=n.pending,y=!f||c&&m;if(y)e=p.a.createElement(j.a,null);else if(c&&!u)e=p.a.createElement(ce,null);else{var b=this._getTripToEdit(),h=f.filter((function(e){return e!==b})).map((function(e){return e.tripName})),v=s()(Zt);v.tripName=r.e().required("trip-name-required").notOneOf(h,"trip-name-already-used");var g=r.d(v).test("dayofweek","Please select one day",(function(e){return!(!(e.monday||e.tuesday||e.wednesday||e.thursday||e.friday||e.saturday||e.sunday)&&a)||new r.a("Please select at least one day to monitor",e.monday,"monday")}));e=p.a.createElement(o.Formik,{enableReinitialize:!0,initialValues:b,onSubmit:this._updateMonitoredTrip,validateOnBlur:!0,validateOnChange:!1,validationSchema:g},(function(e){return p.a.createElement(o.Form,{noValidate:!0},p.a.createElement(ue,Lt({},e,{hasMobilityProfile:l,isCreating:c,isReadOnly:(null==b?void 0:b.userId)!==d.id,notificationChannel:d.notificationChannel,onCancel:c?t._goToTripPlanner:t._goToSavedTrips,panes:t._panes})))}))}return p.a.createElement(T.a,null,p.a.createElement(S.a,{role:"status"},y?p.a.createElement(i.a,{id:"components.SavedTripScreen.itineraryLoading"}):p.a.createElement(i.a,{id:"components.SavedTripScreen.itineraryLoaded"})),e)}}])&&Gt(t.prototype,n),a&&Gt(t,a),c}(d.Component),tn={createOrUpdateUserMonitoredTrip:y.f,parseUrlQueryString:f.e,routeTo:m.d};t.default=Object(z.a)(Object(c.d)(Object(a.c)((function(e,t){var n=Object(v.getActiveSearch)(e),r=n&&n.activeItinerary,a=!!n&&Boolean(n.pending),o=Object(v.getActiveItineraries)(e)||[],i=t.match.params.id,l=e.otp.config.disableSingleItineraryDays;return{currentQuery:e.otp.currentQuery,disableSingleItineraryDays:l,hasMobilityProfile:e.otp.config.mobilityProfile,homeTimezone:e.otp.config.homeTimezone,isCreating:"new"===i,itinerary:o[r],loggedInUser:e.user.loggedInUser,monitoredTrips:e.user.loggedInUserMonitoredTrips,pending:a,queryParams:e.router.location.search,tripId:i}}),tn)(Object(l.c)(en)),E.b),!0)},1216:function(e,t,n){"use strict";n.r(t);var r,a=n(216),o=n(75),i=n.n(o),l=n(1062),c=n(7),u=n(0),s=n.n(u),d=n(509),p=n(69),f=n(153),m=n(8),y=n(1),b=n(1074),h=n(1071),v=n(88),g=n(1097),E=n(1078),O=n(272),T=n(38),j=n(54),S=n(32),w=n(52),P=n(274),x=n(128),C=n(110),k=n(277),R=n(1191),I=n(1193),_=n(1217),M=n(1192),B=n(170),D=n(131),N=n(44),A=n(20);var F,z,U,L=Object(y.default)(O.b).attrs({className:"btn-group"})(r||(F=["\n  label::first-letter {\n    text-transform: uppercase;\n  }\n\n  input {\n    clip: rect(0, 0, 0, 0);\n    height: 0;\n    /* Firefox will still render (tiny) controls, even if their bounds are empty,\n       so move them out of sight. */\n    left: -20px;\n    position: relative;\n    width: 0;\n  }\n\n  input:focus + label {\n    outline: 5px auto blue;\n    /* This next line enhances the visuals in Chromium (webkit) browsers */\n    outline: 5px auto -webkit-focus-ring-color;\n    outline-offset: -2px;\n  }\n\n  /* Without !important, round borders get overwritten by bootstrap's CSS. */\n  label:first-of-type {\n    border-bottom-left-radius: 4px !important;\n    border-top-left-radius: 4px !important;\n  }\n\n  /* This is to have the between-labels border to be 1px. */\n  label:not(label:first-of-type) {\n    margin-left: -1px;\n  }\n"],z||(z=F.slice(0)),r=Object.freeze(Object.defineProperties(F,{raw:{value:Object.freeze(z)}})))),q=n(1124),V=n(47),Q=n(237),H=n(296),G=n(377);var $,W,J,X,Y=Object(y.default)(H.a)(U||(U=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  border-bottom-color: #ccc;\n  display: block;\n  margin-bottom: 0;\n  width: 100%;\n\n  ",",\n  "," {\n    display: none;\n  }\n\n  "," {\n    display: table-cell;\n    font-size: 100%;\n    line-height: 20px;\n    padding: 0;\n    width: 100%;\n\n    ::placeholder {\n      color: #676767;\n    }\n  }\n  "," {\n    position: absolute;\n    ","\n  }\n  "," {\n    overflow: hidden;\n    ","\n\n    &:focus,\n    &:hover {\n      color: inherit;\n    }\n  }\n"])),Q.ClearButton,Q.DropdownButton,Q.Input,Q.MenuItemList,(function(e){return e.static?"width: 100%;":""}),Q.MenuItemLi,(function(e){return e.static?"padding-left: 10px; padding-right: 5px; width: 100%":""})),K=Object(G.a)(Y,{actions:{getCurrentPosition:null},excludeSavedLocations:!0});function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e,t){return(ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ce(e);if(t){var a=ce(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ie(this,n)}}function ie(e,t){if(t&&("object"===Z(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return le(e)}function le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function se(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var de=c.default.ui.isMobile,pe=Object(y.default)(A.c)($||($=se(["\n  margin-right: 5px;\n"]))),fe=y.default.div(W||(W=se(["\n  align-items: center;\n  display: flex;\n"]))),me=Object(y.default)(L)(J||(J=se(["\n  & > label {\n    padding: 5px;\n  }\n"]))),ye=Object(y.default)(R.a)(X||(X=se(["\n  &.has-feedback label ~ .form-control-feedback {\n    top: 28px;\n  }\n"])));var be=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ae(e,t)}(o,e);var t,n,r,a=oe(o);function o(){var e;ne(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ue(le(e=a.call.apply(a,[this].concat(n))),"_setLocation",(function(t){var n=e.props,r=n.intl,a=n.setValues,o=n.values,i=t.category,l=t.lat,c=t.lon,u=t.name;a(te(te({},o),{},{address:"CURRENT_LOCATION"===i?r.formatMessage({id:"common.coordinates"},{lat:l,lon:c}):u,lat:l,lon:c}))})),ue(le(e),"_handleLocationChange",(function(t){e._setLocation(t.location)})),ue(le(e),"_handleGetCurrentPosition",(function(){var t=e.props,n=t.geocoderConfig;(0,t.getCurrentPosition)(t.intl,D.a,(function(t){var r=t.coords,a=r.latitude,o=r.longitude;e._setLocation({category:"CURRENT_LOCATION",lat:a,lon:o}),Object(B.a)(n).reverse({point:r}).then(e._setLocation).catch((function(e){console.warn(e)}))}))})),e}return t=o,(n=[{key:"render",value:function(){var e,t,n=this.props,r=n.errors,a=n.intl,o=n.values,i=this.context.SvgIcon,c=Object(w.n)(o),d=Object(S.e)(this.props),f=a.formatMessage({id:"components.PlaceEditor.nameExample"});return s.a.createElement("div",null,!c&&s.a.createElement(s.a.Fragment,null,s.a.createElement(ye,{validationState:d.name},s.a.createElement(I.a,{htmlFor:"name"},s.a.createElement(p.a,{id:"components.PlaceEditor.namePrompt"})),s.a.createElement(l.Field,{"aria-invalid":!!r.name,"aria-required":!0,as:_.a,id:"name",name:"name",placeholder:f}),s.a.createElement(_.a.Feedback,null),s.a.createElement(M.a,{role:"alert"},d.name&&s.a.createElement(q.a,{type:r.name}))),s.a.createElement(R.a,null,s.a.createElement(me,null,s.a.createElement("legend",null,s.a.createElement(p.a,{id:"components.PlaceEditor.locationTypePrompt"})),Object.keys(w.a).map((function(e){var t=w.a[e],n=t.icon,r=t.type,c=Object(S.c)(Object(j.d)(e,a)),d="location-type-".concat(r),p=o.type===r;return s.a.createElement(u.Fragment,{key:r},s.a.createElement(l.Field,{id:d,name:"type",type:"radio",value:r}),s.a.createElement("label",{className:p?"btn btn-primary active":"btn btn-default",htmlFor:d},s.a.createElement(A.c,{size:"1.5x"},s.a.createElement(i,{iconName:n})),s.a.createElement(V.a,null,c)))}))))),s.a.createElement(ye,{validationState:d.address},s.a.createElement(I.a,null,s.a.createElement(p.a,{id:"components.PlaceEditor.addressPrompt"})),s.a.createElement(fe,null,c&&s.a.createElement(pe,{size:"1.5x"},s.a.createElement(i,{iconName:o.icon})),s.a.createElement(K,{className:"form-control",getCurrentPosition:this._handleGetCurrentPosition,inputPlaceholder:c?a.formatMessage({id:"components.PlaceEditor.locationPlaceholder"},{placeName:o.name}):a.formatMessage({id:"components.PlaceEditor.genericLocationPlaceholder"}),isRequired:!0,location:(e=o,t=e.address,{lat:e.lat,lon:e.lon,name:t}),locationType:"to",onLocationSelected:this._handleLocationChange,selfValidate:!!d.address,showClearButton:!1,static:de()})),s.a.createElement(_.a.Feedback,null),s.a.createElement(M.a,{role:"alert"},d.address&&s.a.createElement(q.a,{type:r.address}))))}}])&&re(t.prototype,n),r&&re(t,r),o}(u.Component);ue(be,"contextType",N.a);var he,ve,ge={getCurrentPosition:D.c},Ee=Object(m.c)((function(e){return{geocoderConfig:e.otp.config.geocoder}}),ge)(Object(f.c)(be));function Oe(e){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Te(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function je(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Te(o,r,a,i,l,"next",e)}function l(e){Te(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function we(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pe(e,t){return(Pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Re(e);if(t){var a=Re(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ce(this,n)}}function Ce(e,t){if(t&&("object"===Oe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ke(e)}function ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Re(e){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){Me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Be(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var De=c.default.ui.isMobile,Ne=Object(y.default)(d.a)(he||(he=Be(["\n  float: right;\n"]))),Ae=_e(_e({},w.c.custom),{},{address:"",name:""}),Fe=y.default.div(ve||(ve=Be(["\n  margin-bottom: 100px;\n"]))),ze={address:b.e().required("invalid-address"),name:b.e().required("invalid-name")},Ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pe(e,t)}(o,e);var t,n,r,a=xe(o);function o(){var e;Se(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Me(ke(e=a.call.apply(a,[this].concat(n))),"state",{pendingSave:!1}),Me(ke(e),"_handleSave",function(){var t=je(regeneratorRuntime.mark((function t(n){var r,a,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({pendingSave:!0}),n.icon=w.c[n.type].icon,r=e.props,a=r.intl,o=r.placeIndex,i=r.saveUserPlace,t.next=5,i(n,o,a);case 5:t.sent===v.a.SUCCESS&&Object(k.a)(n,a),Object(S.l)();case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Me(ke(e),"_getPlaceToEdit",(function(t){var n=e.props,r=n.isNewPlace,a=n.placeIndex;return r?Ae:t.savedLocations?t.savedLocations[a]:null})),Me(ke(e),"_getFullValidationSchema",(function(e,t){var n=(t?e.filter((function(e){return!Object(S.i)(e.name)&&e.name!==t.name})):e).map((function(e){return e.name})),r=i()(ze);return r.name=b.e().required("invalid-name").notOneOf(n,"placename-already-used"),b.d(r)})),e}return t=o,(n=[{key:"render",value:function(){var e=this.props,t=e.intl,n=e.isCreating,r=e.isNewPlace,a=e.loggedInUser,o=this.state.pendingSave,c=i()(this._getPlaceToEdit(a));null===(null==c?void 0:c.name)&&(c.name="");var u=c&&Object(w.n)(c);u&&(c.name=c.type);var d,f=De();return d=c?r?t.formatMessage({id:"components.FavoritePlaceScreen.addNewPlace"}):u?t.formatMessage({id:"components.FavoritePlaceScreen.editPlace"},{placeName:Object(j.d)(c.type,t)}):t.formatMessage({id:"components.FavoritePlaceScreen.editPlaceGeneric"}):t.formatMessage({id:"components.FavoritePlaceScreen.placeNotFound"}),s.a.createElement(h.a,{subnav:!n},f&&s.a.createElement(g.b,null),s.a.createElement(C.a,{title:[d,n?"":t.formatMessage({id:"components.SubNav.myAccount"})]}),s.a.createElement(l.Formik,{initialValues:c,onSubmit:this._handleSave,validateOnBlur:!0,validateOnChange:!1,validationSchema:this._getFullValidationSchema(a.savedLocations,c)},(function(e){return s.a.createElement(l.Form,{noValidate:!0},s.a.createElement("div",null,f&&c&&s.a.createElement(Ne,{bsStyle:"primary",disabled:o,type:"submit"},o?s.a.createElement(x.a,null):s.a.createElement(p.a,{id:"common.forms.save"})),s.a.createElement(O.c,{as:n?"h1":"h2"},d)),s.a.createElement(Fe,null,c?s.a.createElement(Ee,e):s.a.createElement("p",null,s.a.createElement(p.a,{id:"components.FavoritePlaceScreen.placeNotFoundDescription"}))),!f&&s.a.createElement(E.a,{backButton:{onClick:S.l,text:s.a.createElement(p.a,{id:"common.forms.back"})},okayButton:c&&{text:o?s.a.createElement(x.a,null):s.a.createElement(p.a,{id:"common.forms.save"}),type:"submit"}}))})))}}])&&we(t.prototype,n),r&&we(t,r),o}(u.Component),Le={saveUserPlace:v.u};t.default=Object(P.a)(Object(a.d)(Object(m.c)((function(e,t){var n=t.match,r=n.params,a=n.path,o=r.id;return{isCreating:a.startsWith(T.f),isNewPlace:"new"===o,loggedInUser:e.user.loggedInUser,placeIndex:o}}),Le)(Object(f.c)(Ue)),S.b),!0)}}]);