/*! For license information please see bundle.js.LICENSE.txt */
!function(e){function t(t){for(var n,r,o=t[0],a=t[1],s=0,l=[];s<o.length;s++)r=o[s],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&l.push(i[r][0]),i[r]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);for(c&&c(t);l.length;)l.shift()()}var n={},r={6:0},i={6:0};function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.e=function(e){var t=[];r[e]?t.push(r[e]):0!==r[e]&&{11:1}[e]&&t.push(r[e]=new Promise((function(t,n){for(var i=({}[e]||e)+".css",a=o.p+i,s=document.getElementsByTagName("link"),l=0;l<s.length;l++){var c=(d=s[l]).getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(c===i||c===a))return t()}var u=document.getElementsByTagName("style");for(l=0;l<u.length;l++){var d;if((c=(d=u[l]).getAttribute("data-href"))===i||c===a)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var i=t&&t.target&&t.target.src||a,o=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=i,delete r[e],f.parentNode.removeChild(f),n(o)},f.href=a,document.getElementsByTagName("head")[0].appendChild(f)})).then((function(){r[e]=0})));var n=i[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,r){n=i[e]=[t,r]}));t.push(n[2]=a);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.src=function(e){return o.p+""+e+".bundle.js"}(e);var c=new Error;s=function(t){l.onerror=l.onload=null,clearTimeout(u);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",c.name="ChunkLoadError",c.type=r,c.request=o,n[1](c)}i[e]=void 0}};var u=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(t)},o.m=e,o.c=n,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o.oe=function(e){throw console.error(e),e};var a=window.webpackJsonp=window.webpackJsonp||[],s=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var c=s;o(o.s=527)}([function(e,t,n){"use strict";e.exports=n(529)},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"ServerStyleSheet",(function(){return Ue})),n.d(t,"StyleSheetConsumer",(function(){return ie})),n.d(t,"StyleSheetContext",(function(){return re})),n.d(t,"StyleSheetManager",(function(){return ue})),n.d(t,"ThemeConsumer",(function(){return Ne})),n.d(t,"ThemeContext",(function(){return Me})),n.d(t,"ThemeProvider",(function(){return je})),n.d(t,"__PRIVATE__",(function(){return Ge})),n.d(t,"createGlobalStyle",(function(){return Be})),n.d(t,"css",(function(){return we})),n.d(t,"isStyledComponent",(function(){return w})),n.d(t,"keyframes",(function(){return Fe})),n.d(t,"useTheme",(function(){return Ve})),n.d(t,"version",(function(){return E})),n.d(t,"withTheme",(function(){return ze}));var r=n(178),i=n(0),o=n.n(i),a=n(497),s=n.n(a),l=n(302),c=n(303),u=n(394),d=n(140),f=n.n(d);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var m=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},h=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!Object(r.typeOf)(e)},g=Object.freeze([]),y=Object.freeze({});function v(e){return"function"==typeof e}function b(e){return e.displayName||e.name||"Component"}function w(e){return e&&"string"==typeof e.styledComponentId}var x=void 0!==e&&(e.env.REACT_APP_SC_ATTR||e.env.SC_ATTR)||"data-styled",E="5.3.1",_="undefined"!=typeof window&&"HTMLElement"in window,A=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:void 0!==e&&void 0!==e.env.REACT_APP_SC_DISABLE_SPEEDY&&""!==e.env.REACT_APP_SC_DISABLE_SPEEDY?"false"!==e.env.REACT_APP_SC_DISABLE_SPEEDY&&e.env.REACT_APP_SC_DISABLE_SPEEDY:void 0!==e&&void 0!==e.env.SC_DISABLE_SPEEDY&&""!==e.env.SC_DISABLE_SPEEDY&&("false"!==e.env.SC_DISABLE_SPEEDY&&e.env.SC_DISABLE_SPEEDY)),O={};function S(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var T=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&S(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var o=r;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),s=0,l=t.length;s<l;s++)this.tag.insertRule(a,t[s])&&(this.groupSizes[e]++,a++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,o=r;o<i;o++)t+=this.tag.getRule(o)+"/*!sc*/\n";return t},e}(),I=new Map,k=new Map,C=1,M=function(e){if(I.has(e))return I.get(e);for(;k.has(C);)C++;var t=C++;return I.set(e,t),k.set(t,e),t},N=function(e){return k.get(e)},j=function(e,t){t>=C&&(C=t+1),I.set(e,t),k.set(t,e)},L="style["+x+'][data-styled-version="5.3.1"]',R=new RegExp("^"+x+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),D=function(e,t,n){for(var r,i=n.split(","),o=0,a=i.length;o<a;o++)(r=i[o])&&e.registerName(t,r)},P=function(e,t){for(var n=(t.innerHTML||"").split("/*!sc*/\n"),r=[],i=0,o=n.length;i<o;i++){var a=n[i].trim();if(a){var s=a.match(R);if(s){var l=0|parseInt(s[1],10),c=s[2];0!==l&&(j(c,l),D(e,c,s[3]),e.getTag().insertRules(l,r)),r.length=0}else r.push(a)}}},B=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},F=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(x))return r}}(n),o=void 0!==i?i.nextSibling:null;r.setAttribute(x,"active"),r.setAttribute("data-styled-version","5.3.1");var a=B();return a&&r.setAttribute("nonce",a),n.insertBefore(r,o),r},U=function(){function e(e){var t=this.element=F(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}S(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),z=function(){function e(e){var t=this.element=F(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),V=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),G=_,H={isServer:!_,useCSSOMInjection:!A},W=function(){function e(e,t,n){void 0===e&&(e=y),void 0===t&&(t={}),this.options=p({},H,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&_&&G&&(G=!1,function(e){for(var t=document.querySelectorAll(L),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(x)&&(P(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return M(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(p({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new V(i):r?new U(i):new z(i),new T(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(M(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(M(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(M(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var o=N(i);if(void 0!==o){var a=e.names.get(o),s=t.getGroup(i);if(a&&s&&a.size){var l=x+".g"+i+'[id="'+o+'"]',c="";void 0!==a&&a.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+s+l+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),Y=/(a)(d)/gi,Q=function(e){return String.fromCharCode(e+(e>25?39:97))};function Z(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Q(t%52)+n;return(Q(t%52)+n).replace(Y,"$1-$2")}var X=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},J=function(e){return X(5381,e)};function q(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(v(n)&&!w(n))return!1}return!0}var K=J("5.3.1"),$=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&q(e),this.componentId=t,this.baseHash=X(K,t),this.baseStyle=n,W.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var o=ve(this.rules,e,t,n).join(""),a=Z(X(this.baseHash,o)>>>0);if(!t.hasNameForId(r,a)){var s=n(o,"."+a,void 0,r);t.insertRules(r,a,s)}i.push(a),this.staticRulesId=a}else{for(var l=this.rules.length,c=X(this.baseHash,n.hash),u="",d=0;d<l;d++){var f=this.rules[d];if("string"==typeof f)u+=f;else if(f){var p=ve(f,e,t,n),m=Array.isArray(p)?p.join(""):p;c=X(c,m+d),u+=m}}if(u){var h=Z(c>>>0);if(!t.hasNameForId(r,h)){var g=n(u,"."+h,void 0,r);t.insertRules(r,h,g)}i.push(h)}}return i.join(" ")},e}(),ee=/^\s*\/\/.*$/gm,te=[":","[",".","#"];function ne(e){var t,n,r,i,o=void 0===e?y:e,a=o.options,s=void 0===a?y:a,c=o.plugins,u=void 0===c?g:c,d=new l.a(s),f=[],p=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,o,a,s,l,c,u,d){switch(n){case 1:if(0===u&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===d?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),m=function(e,r,o){return 0===r&&-1!==te.indexOf(o[n.length])||o.match(i)?e:"."+t};function h(e,o,a,s){void 0===s&&(s="&");var l=e.replace(ee,""),c=o&&a?a+" "+o+" { "+l+" }":l;return t=s,n=o,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),d(a||!o?"":o,c)}return d.use([].concat(u,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,m))},p,function(e){if(-2===e){var t=f;return f=[],t}}])),h.hash=u.length?u.reduce((function(e,t){return t.name||S(15),X(e,t.name)}),5381).toString():"",h}var re=o.a.createContext(),ie=re.Consumer,oe=o.a.createContext(),ae=(oe.Consumer,new W),se=ne();function le(){return Object(i.useContext)(re)||ae}function ce(){return Object(i.useContext)(oe)||se}function ue(e){var t=Object(i.useState)(e.stylisPlugins),n=t[0],r=t[1],a=le(),l=Object(i.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),c=Object(i.useMemo)((function(){return ne({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return Object(i.useEffect)((function(){s()(n,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]),o.a.createElement(re.Provider,{value:l},o.a.createElement(oe.Provider,{value:c},e.children))}var de=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=se);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return S(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=se),this.name+e.hash},e}(),fe=/([A-Z])/,pe=/([A-Z])/g,me=/^ms-/,he=function(e){return"-"+e.toLowerCase()};function ge(e){return fe.test(e)?e.replace(pe,he).replace(me,"-ms-"):e}var ye=function(e){return null==e||!1===e||""===e};function ve(e,t,n,r){if(Array.isArray(e)){for(var i,o=[],a=0,s=e.length;a<s;a+=1)""!==(i=ve(e[a],t,n,r))&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));return o}return ye(e)?"":w(e)?"."+e.styledComponentId:v(e)?"function"!=typeof(l=e)||l.prototype&&l.prototype.isReactComponent||!t?e:ve(e(t),t,n,r):e instanceof de?n?(e.inject(n,r),e.getName(r)):e:h(e)?function e(t,n){var r,i,o=[];for(var a in t)t.hasOwnProperty(a)&&!ye(t[a])&&(Array.isArray(t[a])&&t[a].isCss||v(t[a])?o.push(ge(a)+":",t[a],";"):h(t[a])?o.push.apply(o,e(t[a],a)):o.push(ge(a)+": "+(r=a,(null==(i=t[a])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in c.a?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(o,["}"]):o}(e):e.toString();var l}var be=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function we(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return v(e)||h(e)?be(ve(m(g,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:be(ve(m(e,n)))}new Set;var xe=function(e,t,n){return void 0===n&&(n=y),e.theme!==n.theme&&e.theme||t||n.theme},Ee=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,_e=/(^-|-$)/g;function Ae(e){return e.replace(Ee,"-").replace(_e,"")}var Oe=function(e){return Z(J(e)>>>0)};function Se(e){return"string"==typeof e&&!0}var Te=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Ie=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function ke(e,t,n){var r=e[n];Te(t)&&Te(r)?Ce(r,t):e[n]=t}function Ce(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];if(Te(a))for(var s in a)Ie(s)&&ke(e,a[s],s)}return e}var Me=o.a.createContext(),Ne=Me.Consumer;function je(e){var t=Object(i.useContext)(Me),n=Object(i.useMemo)((function(){return function(e,t){return e?v(e)?e(t):Array.isArray(e)||"object"!=typeof e?S(8):t?p({},t,{},e):e:S(14)}(e.theme,t)}),[e.theme,t]);return e.children?o.a.createElement(Me.Provider,{value:n},e.children):null}var Le={};function Re(e,t,n){var r=w(e),a=!Se(e),s=t.attrs,l=void 0===s?g:s,c=t.componentId,d=void 0===c?function(e,t){var n="string"!=typeof e?"sc":Ae(e);Le[n]=(Le[n]||0)+1;var r=n+"-"+Oe("5.3.1"+n+Le[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):c,m=t.displayName,h=void 0===m?function(e){return Se(e)?"styled."+e:"Styled("+b(e)+")"}(e):m,x=t.displayName&&t.componentId?Ae(t.displayName)+"-"+t.componentId:t.componentId||d,E=r&&e.attrs?Array.prototype.concat(e.attrs,l).filter(Boolean):l,_=t.shouldForwardProp;r&&e.shouldForwardProp&&(_=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var A,O=new $(n,x,r?e.componentStyle:void 0),S=O.isStatic&&0===l.length,T=function(e,t){return function(e,t,n,r){var o=e.attrs,a=e.componentStyle,s=e.defaultProps,l=e.foldedComponentIds,c=e.shouldForwardProp,d=e.styledComponentId,f=e.target,m=function(e,t,n){void 0===e&&(e=y);var r=p({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,o,a=e;for(t in v(a)&&(a=a(r)),a)r[t]=i[t]="className"===t?(n=i[t],o=a[t],n&&o?n+" "+o:n||o):a[t]})),[r,i]}(xe(t,Object(i.useContext)(Me),s)||y,t,o),h=m[0],g=m[1],b=function(e,t,n,r){var i=le(),o=ce();return t?e.generateAndInjectStyles(y,i,o):e.generateAndInjectStyles(n,i,o)}(a,r,h),w=n,x=g.$as||t.$as||g.as||t.as||f,E=Se(x),_=g!==t?p({},t,{},g):t,A={};for(var O in _)"$"!==O[0]&&"as"!==O&&("forwardedAs"===O?A.as=_[O]:(c?c(O,u.a,x):!E||Object(u.a)(O))&&(A[O]=_[O]));return t.style&&g.style!==t.style&&(A.style=p({},t.style,{},g.style)),A.className=Array.prototype.concat(l,d,b!==d?b:null,t.className,g.className).filter(Boolean).join(" "),A.ref=w,Object(i.createElement)(x,A)}(A,e,t,S)};return T.displayName=h,(A=o.a.forwardRef(T)).attrs=E,A.componentStyle=O,A.displayName=h,A.shouldForwardProp=_,A.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):g,A.styledComponentId=x,A.target=r?e.target:e,A.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),o=r&&r+"-"+(Se(e)?e:Ae(b(e)));return Re(e,p({},i,{attrs:E,componentId:o}),n)},Object.defineProperty(A,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=r?Ce({},e.defaultProps,t):t}}),A.toString=function(){return"."+A.styledComponentId},a&&f()(A,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),A}var De=function(e){return function e(t,n,i){if(void 0===i&&(i=y),!Object(r.isValidElementType)(n))return S(1,String(n));var o=function(){return t(n,i,we.apply(void 0,arguments))};return o.withConfig=function(r){return e(t,n,p({},i,{},r))},o.attrs=function(r){return e(t,n,p({},i,{attrs:Array.prototype.concat(i.attrs,r).filter(Boolean)}))},o}(Re,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){De[e]=De(e)}));var Pe=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=q(e),W.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,n,r){var i=r(ve(this.rules,t,n,r).join(""),""),o=this.componentId+e;n.insertRules(o,o,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&W.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}();function Be(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=we.apply(void 0,[e].concat(n)),s="sc-global-"+Oe(JSON.stringify(a)),l=new Pe(a,s);function c(e){var t=le(),n=ce(),r=Object(i.useContext)(Me),o=Object(i.useRef)(t.allocateGSInstance(s)).current;return t.server&&u(o,e,t,r,n),Object(i.useLayoutEffect)((function(){if(!t.server)return u(o,e,t,r,n),function(){return l.removeStyles(o,t)}}),[o,e,t,r,n]),null}function u(e,t,n,r,i){if(l.isStatic)l.renderStyles(e,O,n,i);else{var o=p({},t,{theme:xe(t,r,c.defaultProps)});l.renderStyles(e,o,n,i)}}return o.a.memo(c)}function Fe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=we.apply(void 0,[e].concat(n)).join(""),o=Oe(i);return new de(o,i)}var Ue=function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=B();return"<style "+[n&&'nonce="'+n+'"',x+'="true"','data-styled-version="5.3.1"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?S(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return S(2);var n=((t={})[x]="",t["data-styled-version"]="5.3.1",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=B();return r&&(n.nonce=r),[o.a.createElement("style",p({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new W({isServer:!0}),this.sealed=!1}var t=e.prototype;return t.collectStyles=function(e){return this.sealed?S(2):o.a.createElement(ue,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return S(3)},e}(),ze=function(e){var t=o.a.forwardRef((function(t,n){var r=Object(i.useContext)(Me),a=e.defaultProps,s=xe(t,r,a);return o.a.createElement(e,p({},t,{theme:s,ref:n}))}));return f()(t,e),t.displayName="WithTheme("+b(e)+")",t},Ve=function(){return Object(i.useContext)(Me)},Ge={StyleSheet:W,masterSheet:ae};t.default=De}.call(this,n(254))},function(e,t,n){e.exports=n(539)()},function(e,t,n){"use strict";function r(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}n.d(t,"a",(function(){return r}))},function(e,t){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(this,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(79),i=n(3);function o(e){Object(i.a)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===Object(r.a)(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}},function(e,t,n){"use strict";n.r(t),n.d(t,"createIntlCache",(function(){return f.c})),n.d(t,"UnsupportedFormatterError",(function(){return p.g})),n.d(t,"InvalidConfigError",(function(){return p.c})),n.d(t,"MissingDataError",(function(){return p.e})),n.d(t,"MessageFormatError",(function(){return p.d})),n.d(t,"MissingTranslationError",(function(){return p.f})),n.d(t,"ReactIntlErrorCode",(function(){return p.b})),n.d(t,"ReactIntlError",(function(){return p.a})),n.d(t,"defineMessages",(function(){return C})),n.d(t,"defineMessage",(function(){return M})),n.d(t,"injectIntl",(function(){return m.c})),n.d(t,"RawIntlProvider",(function(){return m.b})),n.d(t,"IntlContext",(function(){return m.a})),n.d(t,"useIntl",(function(){return s.a})),n.d(t,"IntlProvider",(function(){return h.b})),n.d(t,"createIntl",(function(){return h.a})),n.d(t,"FormattedDate",(function(){return N})),n.d(t,"FormattedTime",(function(){return j})),n.d(t,"FormattedNumber",(function(){return L})),n.d(t,"FormattedList",(function(){return R})),n.d(t,"FormattedDisplayName",(function(){return D})),n.d(t,"FormattedDateParts",(function(){return P})),n.d(t,"FormattedTimeParts",(function(){return B})),n.d(t,"FormattedNumberParts",(function(){return l})),n.d(t,"FormattedListParts",(function(){return c})),n.d(t,"FormattedRelativeTime",(function(){return A})),n.d(t,"FormattedPlural",(function(){return S})),n.d(t,"FormattedMessage",(function(){return T.a})),n.d(t,"FormattedDateTimeRange",(function(){return k}));var r,i,o=n(17),a=n(0),s=n(84);!function(e){e.formatDate="FormattedDate",e.formatTime="FormattedTime",e.formatNumber="FormattedNumber",e.formatList="FormattedList",e.formatDisplayName="FormattedDisplayName"}(r||(r={})),function(e){e.formatDate="FormattedDateParts",e.formatTime="FormattedTimeParts",e.formatNumber="FormattedNumberParts",e.formatList="FormattedListParts"}(i||(i={}));var l=function(e){var t=Object(s.a)(),n=e.value,r=e.children,i=Object(o.c)(e,["value","children"]);return r(t.formatNumberToParts(n,i))};l.displayName="FormattedNumberParts";var c=function(e){var t=Object(s.a)(),n=e.value,r=e.children,i=Object(o.c)(e,["value","children"]);return r(t.formatListToParts(n,i))};function u(e){var t=function(t){var n=Object(s.a)(),r=t.value,i=t.children,a=Object(o.c)(t,["value","children"]),l="string"==typeof r?new Date(r||0):r;return i("formatDate"===e?n.formatDateToParts(l,a):n.formatTimeToParts(l,a))};return t.displayName=i[e],t}function d(e){var t=function(t){var n=Object(s.a)(),r=t.value,i=t.children,l=Object(o.c)(t,["value","children"]),c=n[e](r,l);if("function"==typeof i)return i(c);var u=n.textComponent||a.Fragment;return a.createElement(u,null,c)};return t.displayName=r[e],t}l.displayName="FormattedNumberParts";var f=n(96),p=n(59),m=n(153),h=n(364),g=n(780),y=3600;function v(e){var t=Math.abs(e);return t<60?"second":t<y?"minute":t<86400?"hour":"day"}function b(e){switch(e){case"second":return 1;case"minute":return 60;case"hour":return y;default:return 86400}}var w=["second","minute","hour"];function x(e){return void 0===e&&(e="second"),w.includes(e)}var E=function(e){var t=Object(s.a)(),n=t.formatRelativeTime,r=t.textComponent,i=e.children,l=n(e.value||0,e.unit,Object(o.c)(e,["children","value","unit"]));return"function"==typeof i?i(l):r?a.createElement(r,null,l):a.createElement(a.Fragment,null,l)},_=function(e){var t=e.value,n=e.unit,r=e.updateIntervalInSeconds,i=Object(o.c)(e,["value","unit","updateIntervalInSeconds"]);Object(g.a)(!r||!(!r||!x(n)),"Cannot schedule update with unit longer than hour");var s,l=a.useState(),c=l[0],u=l[1],d=a.useState(0),f=d[0],p=d[1],m=a.useState(0),h=m[0],w=m[1];n===c&&t===f||(p(t||0),u(n),w(x(n)?function(e,t){if(!e)return 0;switch(t){case"second":return e;case"minute":return 60*e;default:return e*y}}(t,n):0)),a.useEffect((function(){function e(){clearTimeout(s)}if(e(),!r||!x(n))return e;var t=h-r,i=v(t);if("day"===i)return e;var o=b(i),a=t-t%o,l=a>=h?a-o:a,c=Math.abs(l-h);return h!==l&&(s=setTimeout((function(){return w(l)}),1e3*c)),e}),[h,r,n]);var _=t||0,A=n;if(x(n)&&"number"==typeof h&&r){var O=b(A=v(h));_=Math.round(h/O)}return a.createElement(E,Object(o.a)({value:_,unit:A},i))};_.displayName="FormattedRelativeTime",_.defaultProps={value:0,unit:"second"};var A=_,O=function(e){var t=Object(s.a)(),n=t.formatPlural,r=t.textComponent,i=e.value,o=e.other,l=e.children,c=e[n(i,e)]||o;return"function"==typeof l?l(c):r?a.createElement(r,null,c):c};O.defaultProps={type:"cardinal"},O.displayName="FormattedPlural";var S=O,T=n(69),I=function(e){var t=Object(s.a)(),n=e.from,r=e.to,i=e.children,l=Object(o.c)(e,["from","to","children"]),c=t.formatDateTimeRange(n,r,l);if("function"==typeof i)return i(c);var u=t.textComponent||a.Fragment;return a.createElement(u,null,c)};I.displayName="FormattedDateTimeRange";var k=I;function C(e){return e}function M(e){return e}var N=d("formatDate"),j=d("formatTime"),L=d("formatNumber"),R=d("formatList"),D=d("formatDisplayName"),P=u("formatDate"),B=u("formatTime")},function(e,t,n){"use strict";n.r(t),n.d(t,"SafeSuspense",(function(){return In}));var r={};n.r(r),n.d(r,"transitModes",(function(){return A})),n.d(r,"getTransitModes",(function(){return O})),n.d(r,"isTransitLeg",(function(){return S})),n.d(r,"isTransit",(function(){return T})),n.d(r,"isReservationRequired",(function(){return I})),n.d(r,"isCoordinationRequired",(function(){return k})),n.d(r,"containsGeometry",(function(){return C})),n.d(r,"endsWithGeometry",(function(){return M})),n.d(r,"startsWithGeometry",(function(){return N})),n.d(r,"legContainsGeometry",(function(){return j})),n.d(r,"isAdvanceBookingRequired",(function(){return L})),n.d(r,"legDropoffRequiresAdvanceBooking",(function(){return R})),n.d(r,"isFlex",(function(){return D})),n.d(r,"isRideshareLeg",(function(){return P})),n.d(r,"isWalk",(function(){return B})),n.d(r,"isBicycle",(function(){return F})),n.d(r,"isBicycleRent",(function(){return U})),n.d(r,"isCar",(function(){return z})),n.d(r,"isMicromobility",(function(){return V})),n.d(r,"isAccessMode",(function(){return G})),n.d(r,"hasTransit",(function(){return H})),n.d(r,"hasCar",(function(){return W})),n.d(r,"hasBike",(function(){return Y})),n.d(r,"hasMicromobility",(function(){return Q})),n.d(r,"hasHail",(function(){return Z})),n.d(r,"hasRental",(function(){return X})),n.d(r,"getMapColor",(function(){return J})),n.d(r,"toSentenceCase",(function(){return q})),n.d(r,"getCompanyFromLeg",(function(){return K})),n.d(r,"getItineraryBounds",(function(){return $})),n.d(r,"getLegBounds",(function(){return ee})),n.d(r,"legLocationAtDistance",(function(){return te})),n.d(r,"legElevationAtDistance",(function(){return ne})),n.d(r,"mapOldElevationComponentToNew",(function(){return re})),n.d(r,"getElevationProfile",(function(){return ie})),n.d(r,"getTextWidth",(function(){return oe})),n.d(r,"getCompanyForNetwork",(function(){return ae})),n.d(r,"getCompaniesLabelFromNetworks",(function(){return se})),n.d(r,"getTNCLocation",(function(){return le})),n.d(r,"calculatePhysicalActivity",(function(){return ce})),n.d(r,"calculateTncFares",(function(){return ue})),n.d(r,"calculateEmissions",(function(){return fe})),n.d(r,"getDisplayedStopId",(function(){return pe})),n.d(r,"getLegCost",(function(){return me})),n.d(r,"getItineraryCost",(function(){return he})),n.d(r,"convertGraphQLResponseToLegacy",(function(){return ye})),n.d(r,"getLegRouteShortName",(function(){return ve})),n.d(r,"getLegRouteLongName",(function(){return be})),n.d(r,"getLegRouteName",(function(){return we}));var i={};n.r(i),n.d(i,"currentPositionToLocation",(function(){return xe})),n.d(i,"coordsToString",(function(){return Ee})),n.d(i,"stringToCoords",(function(){return _e})),n.d(i,"constructLocation",(function(){return Ae})),n.d(i,"matchLatLon",(function(){return Oe})),n.d(i,"isBikeshareStation",(function(){return Se})),n.d(i,"isEScooterStation",(function(){return Te})),n.d(i,"isCarWalkTransition",(function(){return Ie})),n.d(i,"isValidLat",(function(){return ke})),n.d(i,"isValidLng",(function(){return Ce})),n.d(i,"isValidLatLng",(function(){return Me}));var o={};n.r(o),n.d(o,"filterProfileOptions",(function(){return Ne})),n.d(o,"profileOptionsToItineraries",(function(){return Re}));var a={};n.r(a),n.d(a,"storeItem",(function(){return $e})),n.d(a,"getItem",(function(){return et})),n.d(a,"removeItem",(function(){return tt})),n.d(a,"randId",(function(){return nt}));var s={};n.r(s),n.d(s,"OTP_API_DATE_FORMAT",(function(){return at})),n.d(s,"OTP_API_TIME_FORMAT",(function(){return st})),n.d(s,"toHoursMinutesSeconds",(function(){return lt})),n.d(s,"getTimeFormat",(function(){return ct})),n.d(s,"getDateFormat",(function(){return ut})),n.d(s,"getLongDateFormat",(function(){return dt})),n.d(s,"offsetTime",(function(){return ft})),n.d(s,"formatSecondsAfterMidnight",(function(){return pt})),n.d(s,"getUserTimezone",(function(){return mt})),n.d(s,"getCurrentTime",(function(){return ht})),n.d(s,"getCurrentDate",(function(){return gt}));var l={};n.r(l),n.d(l,"formatPlace",(function(){return bt})),n.d(l,"default",(function(){return Et})),n.d(l,"getCustomQueryParams",(function(){return _t}));var c={};n.r(c),n.d(c,"defaultParams",(function(){return St})),n.d(c,"getQueryParamProperty",(function(){return It})),n.d(c,"ensureSingleAccessMode",(function(){return kt})),n.d(c,"getUrlParams",(function(){return Ct})),n.d(c,"getOtpUrlParams",(function(){return Mt})),n.d(c,"getTripOptionsFromQuery",(function(){return Nt})),n.d(c,"getDefaultQuery",(function(){return Lt})),n.d(c,"reduceOtpFlexModes",(function(){return Rt})),n.d(c,"expandOtpFlexMode",(function(){return Dt})),n.d(c,"isNotDefaultQuery",(function(){return Pt})),n.d(c,"parseLocationString",(function(){return Ut})),n.d(c,"planParamsToQuery",(function(){return Gt})),n.d(c,"planParamsToQueryAsync",(function(){return Ht})),n.d(c,"getRoutingParams",(function(){return Yt}));var u={};n.r(u),n.d(u,"getTransitOperatorFromFeedIdAndAgencyId",(function(){return Xt})),n.d(u,"getTransitOperatorFromLeg",(function(){return Jt})),n.d(u,"getTransitOperatorFromOtpRoute",(function(){return qt})),n.d(u,"makeNumericValueComparator",(function(){return ln})),n.d(u,"makeStringValueComparator",(function(){return cn})),n.d(u,"makeRouteComparator",(function(){return un})),n.d(u,"getMostReadableTextColor",(function(){return dn}));var d={};n.r(d),n.d(d,"isMobile",(function(){return fn})),n.d(d,"enableScrollForSelector",(function(){return pn}));var f={};n.r(f),n.d(f,"extractAdditionalModes",(function(){return wn})),n.d(f,"SIMPLIFICATIONS",(function(){return xn})),n.d(f,"TRANSIT_SUBMODES",(function(){return An})),n.d(f,"TRANSIT_SUBMODES_AND_TRANSIT",(function(){return On})),n.d(f,"generateCombinations",(function(){return Sn})),n.d(f,"generateOtp2Query",(function(){return Tn}));var p=n(40),m=n.n(p),h=n(15),g=n.n(h),y=n(33),v=n.n(y),b=n(61),w=n.n(b),x=n(147);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=["TRAM","TROLLEYBUS","BUS","SUBWAY","FERRY","RAIL","GONDOLA"];function O(e){return e&&e.modes&&e.modes.transitModes?e.modes.transitModes.map((function(e){return"string"!=typeof e?e.mode:e})):A}function S(e){return e.transitLeg}function T(e){return A.includes(e)||"TRANSIT"===e}function I(e){return"mustPhone"===(null==e?void 0:e.boardRule)||"mustPhone"===(null==e?void 0:e.alightRule)}function k(e){return"coordinateWithDriver"===(null==e?void 0:e.boardRule)||"coordinateWithDriver"===(null==e?void 0:e.alightRule)}function C(e){var t,n;return null!==(null==e||null===(t=e.stop)||void 0===t?void 0:t.geometries)&&void 0!==(null==e||null===(n=e.stop)||void 0===n?void 0:n.geometries)}function M(e){return C(null==e?void 0:e.to)}function N(e){return C(null==e?void 0:e.from)}function j(e){return M(e)||N(e)}function L(e){var t;return(null==e||null===(t=e.latestBookingTime)||void 0===t?void 0:t.daysPrior)>0}function R(e){return L(null==e?void 0:e.dropOffBookingInfo)}function D(e){return I(e)||k(e)||R(e)||L(null==e?void 0:e.pickupBookingInfo)||j(e)}function P(e){var t,n;return!(null===(t=e.rideHailingEstimate)||void 0===t||null===(n=t.provider)||void 0===n||!n.id)}function B(e){return!!e&&"WALK"===e}function F(e){return!!e&&"BICYCLE"===e}function U(e){return!!e&&"BICYCLE_RENT"===e}function z(e){return!!e&&e.startsWith("CAR")}function V(e){return!!e&&(e.startsWith("MICROMOBILITY")||e.startsWith("SCOOTER"))}function G(e){return B(e)||F(e)||U(e)||z(e)||V(e)}function H(e){return e.split(",").some((function(e){return T(e)}))}function W(e){return e.split(",").some((function(e){return z(e)}))}function Y(e){return e.split(",").some((function(e){return F(e)||U(e)}))}function Q(e){return e.split(",").some((function(e){return V(e)}))}function Z(e){return e.split(",").some((function(e){return e.indexOf("_HAIL")>-1}))}function X(e){return e.split(",").some((function(e){return e.indexOf("_RENT")>-1}))}function J(e){return"WALK"===(e=e||this.get("mode"))?"#444":"BICYCLE"===e?"#0073e5":"SUBWAY"===e?"#e60000":"RAIL"===e?"#b00":"BUS"===e||"TROLLEYBUS"===e?"#080":"TRAM"===e?"#800":"FERRY"===e?"#008":"CAR"===e?"#444":"MICROMOBILITY"===e||"SCOOTER"===e?"#f5a729":"#aaa"}function q(e){return null==e?"":(e=String(e)).charAt(0).toUpperCase()+e.substr(1).toLowerCase()}function K(e){if(!e)return null;var t=e.from,n=e.mode,r=e.rentedBike,i=e.rentedCar,o=e.rentedVehicle,a=e.rideHailingEstimate;return"CAR"===n&&i?t.networks[0]:"CAR"===n&&a?a.provider.id:"BICYCLE"===n&&r&&t.networks?t.networks[0]:t.rentalVehicle?t.rentalVehicle.network:("MICROMOBILITY"===n||"SCOOTER"===n)&&o&&t.networks?t.networks[0]:null}function $(e){var t=[];return e.legs.forEach((function(e){var n=w.a.toGeoJSON(e.legGeometry.points).coordinates.map((function(e){return[e[1],e[0]]}));t=[].concat(v()(t),v()(n))})),t}function ee(e){var t=w.a.toGeoJSON(e.legGeometry.points).coordinates.map((function(e){return[e[1],e[0]]}));return 0===t.length&&t.push([e.from.lat,e.from.lon],[e.to.lat,e.to.lon]),t}function te(e,t){if(!e.legGeometry)return null;try{var n=w.a.toGeoJSON(e.legGeometry.points),r=Object(x.default)(n,t,{units:"meters"});if(r&&r.geometry&&r.geometry.coordinates)return[r.geometry.coordinates[1],r.geometry.coordinates[0]]}catch(e){}return null}function ne(e,t){var n=0;e[0][0]>0&&e.unshift([0,null]);for(var r=1;r<e.length;r++){var i=e[r-1],o=e[r][0]-i[0];if(t>=n&&t<=n+o){if(null===i[1])return console.warn("Elevation value does not exist for distance.",t,n),null;var a=(t-n)/o,s=e[r][1]-i[1];return i[1]+s*a}n+=o}return console.warn("Elevation value does not exist for distance.",t,n),null}function re(e){return{distance:e.first,elevation:e.second}}function ie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=1e5,r=-1e5,i=0,o=0,a=0,s=null,l=[];return e.forEach((function(e){var c,u=e.elevationProfile||Array.isArray(e.elevation)&&(null===(c=e.elevation)||void 0===c?void 0:c.map(re));if(u&&0!==u.length){for(var d=0;d<u.length;d++){var f=u[d];if(s){var p=(f.elevation-s.elevation)*t;p>0?o+=p:a+=p}0===d&&f.distance;var m=f.elevation*t;m<n&&(n=m),m>r&&(r=m),l.push([i+f.distance,f.elevation]),d===u.length-1&&(f.distance,e.distance),s=f}i+=e.distance}else i+=e.distance})),{maxElev:r,minElev:n,points:l,traversed:i,gain:o,loss:a}}function oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"22px Arial",n=oe.canvas||(oe.canvas=document.createElement("canvas")),r=n.getContext("2d");r.font=t;var i=r.measureText(e);return i.width}function ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t.find((function(t){return t.id===e}));return n||console.warn("No company found in config.yml that matches rented vehicle network: ".concat(e),t),n}function se(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(Array.isArray(e)?e:[e]).map((function(e){return ae(e,t)})).filter((function(e){return!!e})).map((function(e){return e.label})).join("/")}function le(e,t){var n=e[t];return"".concat(n.lat.toFixed(5),",").concat(n.lon.toFixed(5))}function ce(e){var t=0,n=0;return e.legs.forEach((function(e){e.mode.startsWith("WALK")&&(t+=e.duration),e.mode.startsWith("BICYCLE")&&(n+=e.duration)})),{bikeDuration:n,caloriesBurned:t/3600*280+n/3600*290,walkDuration:t}}function ue(e){return e.legs.filter((function(e){return"CAR"===e.mode&&e.rideHailingEstimate})).reduce((function(e,t){var n=e.maxTNCFare,r=e.minTNCFare,i=t.rideHailingEstimate,o=i.minPrice,a=i.maxPrice;return{currencyCode:o.currency.code,maxTNCFare:n+a.amount,minTNCFare:r+o.amount}}),{currencyCode:null,maxTNCFare:0,minTNCFare:0})}var de={walk:.026,bicycle:.017,car:.162,tram:.066,trolleybus:.066,subway:.066,rail:.066,bus:.09,ferry:.082,cable_car:.021,gondola:.021,funicular:.066,transit:.066,leg_switch:0,airplane:.382,micromobility:.095};function fe(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=_(_({},de),n),o=(null==e||null===(t=e.legs)||void 0===t?void 0:t.reduce((function(e,t){return(t.distance*i[t.mode.toLowerCase()]||0)+e}),0))||0;switch(r){case"ounce":return o/28.35;case"kilogram":return o/1e3;case"pound":return o/454;case"gram":default:return o}}function pe(e){var t,n,r;return"stopId"in e?(r=e.stopCode,n=e.stopId):"id"in e&&(r=e.code,n=e.id),r||(null===(t=n)||void 0===t?void 0:t.split(":")[1])||n}function me(e,t,n){if(!e.fareProducts)return{price:void 0};var r=e.fareProducts.filter((function(e){var r=e.product;return(null===r.riderCategory?null:r.riderCategory.id)===n&&(null===r.medium?null:r.medium.id)===t})),i=r.find((function(e){return"rideCost"===e.product.name||"regular"===e.product.name})),o=r.find((function(e){return"transfer"===e.product.name}));return{price:null==i?void 0:i.product.price,transferAmount:null==o?void 0:o.product.price,productUseId:null==i?void 0:i.id}}function he(e,t,n){var r=e.filter((function(e){var t;return(null===(t=e.fareProducts)||void 0===t?void 0:t.length)>0})).map((function(e){return me(e,t,n)})).filter((function(e){return void 0!==e.price})).reduce((function(e,t){return e.some((function(e){return e.productUseId===t.productUseId}))||e.push({productUseId:t.productUseId,price:t.price}),e}),[]).map((function(e){return e.price}));if(0!==r.length)return r.reduce((function(e,t){var n;return{amount:e.amount+(null==t?void 0:t.amount)||0,currency:null!==(n=e.currency)&&void 0!==n?n:null==t?void 0:t.currency}}),{amount:0,currency:null})}var ge=function(e){switch(e){case"COORDINATE_WITH_DRIVER":return"coordinateWithDriver";case"CALL_AGENCY":return"mustPhone";case"SCHEDULED":return"scheduled";case"NONE":return"none";default:return null}},ye=function(e){var t,n,r,i,o,a,s,l,c,u,d,f,p,m,h,g;return _(_({},e),{},{agencyBrandingUrl:null===(t=e.agency)||void 0===t?void 0:t.url,agencyId:null===(n=e.agency)||void 0===n?void 0:n.id,agencyName:null===(r=e.agency)||void 0===r?void 0:r.name,agencyUrl:null===(i=e.agency)||void 0===i?void 0:i.url,alightRule:ge(e.dropoffType),boardRule:ge(e.pickupType),dropOffBookingInfo:{latestBookingTime:e.dropOffBookingInfo},from:_(_({},e.from),{},{stopCode:null===(o=e.from.stop)||void 0===o?void 0:o.code,stopId:null===(a=e.from.stop)||void 0===a?void 0:a.gtfsId}),route:null===(s=e.route)||void 0===s?void 0:s.shortName,routeColor:null===(l=e.route)||void 0===l?void 0:l.color,routeId:null===(c=e.route)||void 0===c?void 0:c.gtfsId,routeLongName:null===(u=e.route)||void 0===u?void 0:u.longName,routeShortName:null===(d=e.route)||void 0===d?void 0:d.shortName,routeTextColor:null===(f=e.route)||void 0===f?void 0:f.textColor,to:_(_({},e.to),{},{stopCode:null===(p=e.to.stop)||void 0===p?void 0:p.code,stopId:null===(m=e.to.stop)||void 0===m?void 0:m.gtfsId}),tripHeadsign:null===(h=e.trip)||void 0===h?void 0:h.tripHeadsign,tripId:null===(g=e.trip)||void 0===g?void 0:g.gtfsId})},ve=function(e){var t=e.route,n=e.routeShortName;return"object"===m()(t)?null==t?void 0:t.shortName:n||t},be=function(e){var t=e.route,n=e.routeLongName;return"object"===m()(t)?null==t?void 0:t.longName:n},we=function(e){return ve(e)||be(e)};function xe(e){return e.error||!e.coords?(console.warn("Cannot construct location from current position due to geolocation error or missing coordinates."),null):{lat:e.coords.latitude,lon:e.coords.longitude,category:"CURRENT_LOCATION"}}function Ee(e){return e.length&&e.map((function(e){return(+e).toFixed(5)})).join(", ")}function _e(e){return e&&e.split(",").map((function(e){return+e}))||[]}function Ae(e){return{lat:e.lat,lon:e.lng}}function Oe(e,t){return e&&t?e.lat===t.lat&&e.lon===t.lon:e===t}function Se(e){return-1!==e.place_id.lastIndexOf("bicycle_rent_station")}function Te(e){return-1!==e.place_id.lastIndexOf("escooter_rent_station")}function Ie(e){return-1!==e.place_id.lastIndexOf("itin_car_")}function ke(e){return Number.isFinite(e)&&e>=-90&&e<=90}function Ce(e){return Number.isFinite(e)&&e>=-180&&e<=180}function Me(e){return Array.isArray(e)&&2===e.length&&ke(e[0])&&Ce(e[1])}function Ne(e){var t=[],n=[],r=e.otp.profile.filter((function(e,r){var i=e.access.map((function(e){return e.mode})).join("/");return e.transit&&(i+=" to ".concat(e.transit.map((function(e){return e.routes.map((function(e){return e.id})).join("/")})).join(","))),-1===t.indexOf(i)&&(t.push(i),n.push(r),!0)})),i=e.otp.journeys.filter((function(e,t){return-1!==n.indexOf(t)}));return e.otp.profile=r,e.otp.journeys=i,e}function je(e){return null==e?void 0:e.split(",")[0]}function Le(e,t,n){return{mode:e.mode,duration:e.time,transitLeg:!1,from:{name:je(t)},to:{name:je(n)}}}function Re(e,t){return e.map((function(e){return function(e,t){var n={duration:e.time,legs:[],walkTime:0,waitingTime:0};if(e.access&&e.access.length>0)if("BICYCLE_RENT"===e.access[0].mode){var r,i,o="WALK_ON",a=[],s=[],l=[],c=0,u=0;e.access[0].streetEdges.forEach((function(e){e.bikeRentalOffStation&&(o="WALK_OFF",i=e.bikeRentalOffStation.name),"WALK_ON"===o?(a.push(e),c+=e.distance):"BIKE"===o?s.push(e):"WALK_OFF"===o&&(l.push(e),u+=e.distance),e.bikeRentalOnStation&&(o="BIKE",r=e.bikeRentalOnStation.name)})),n.walkTime+=c+u,n.legs.push({mode:"WALK",duration:c,transitLeg:!1,from:{name:je(t&&t.from.name)},to:{name:r}}),n.legs.push({mode:"BICYCLE_RENT",duration:e.time-c-u,transitLeg:!1,from:{name:r},to:{name:i}}),n.legs.push({mode:"WALK",duration:u,transitLeg:!1,from:{name:i},to:{name:je(t&&t.to.name)}})}else n.legs.push(Le(e.access[0],t&&t.from.name,e.transit?null:t&&t.to.name)),"WALK"===e.access[0].mode&&(n.walkTime+=e.access[0].time);if(e.transit&&e.transit.forEach((function(e){n.legs.push({transitLeg:!0,mode:e.mode,from:{name:e.fromName},to:{name:e.toName},routes:e.routes,duration:e.rideStats.avg,averageWait:e.waitStats.avg}),n.waitingTime+=e.waitStats.avg})),e.egress&&e.egress.length>0){var d=e.transit?e.transit[e.transit.length-1].toName:null;n.legs.push(Le(e.egress[0],d,t&&t.to.name)),"WALK"===e.egress[0].mode&&(n.walkTime+=e.egress[0].time)}return n}(e,t)}))}var De=n(74),Pe=n.n(De),Be=n(49),Fe=n.n(Be),Ue=n(369),ze=n(173),Ve=n(264),Ge=n(164),He=n.n(Ge),We=n(56),Ye=n.n(We),Qe=n(165),Ze=n.n(Qe),Xe=n(0),Je=n.n(Xe),qe=n(129),Ke="otp";function $e(e,t){window.localStorage.setItem("".concat(Ke,".").concat(e),JSON.stringify(t))}function et(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{t=window.localStorage.getItem("".concat(Ke,".").concat(e));var r=JSON.parse(t);return r||n}catch(e){return console.warn(e,t),n}}function tt(e){window.localStorage.removeItem("".concat(Ke,".").concat(e))}function nt(){return Math.random().toString(36).substr(2,9)}var rt=n(192),it=n(154),ot=n(43),at="yyyy-MM-dd",st="HH:mm";function lt(e){return{hours:Math.floor(e/3600),minutes:Math.floor(e/60)%60,seconds:e%60}}function ct(e){var t;return(null==e||null===(t=e.dateTime)||void 0===t?void 0:t.timeFormat)||st}function ut(e){var t;return(null==e||null===(t=e.dateTime)||void 0===t?void 0:t.dateFormat)||at}function dt(e){var t;return(null==e||null===(t=e.dateTime)||void 0===t?void 0:t.longDateFormat)||"D MMMM YYYY"}function ft(e,t){return e+((null==t?void 0:t.offset)||0)}function pt(e,t){var n=Object(rt.a)(Object(it.a)(new Date),{seconds:e});return Object(ze.a)(n,t)}function mt(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Etc/Greenwich";return(null===(e=Intl)||void 0===e?void 0:e.DateTimeFormat().resolvedOptions().timeZone)||t}function ht(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt();return Object(ze.a)(Object(ot.utcToZonedTime)(Date.now(),e),st)}function gt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt();return Object(ze.a)(Object(ot.utcToZonedTime)(Date.now(),e),at)}function yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bt(e,t){if(!e)return null;var n=e.name||"".concat(t?"".concat(t," "):"","(").concat(e.lat,",").concat(e.lon,")");return"".concat(n,"::").concat(e.lat,",").concat(e.lon)}var wt=et("defaultQuery",{}),xt=[{name:"from",routingTypes:["ITINERARY","PROFILE"],default:null,itineraryRewrite:function(e){return{fromPlace:bt(e)}},profileRewrite:function(e){return{from:{lat:e.lat,lon:e.lon}}}},{name:"to",routingTypes:["ITINERARY","PROFILE"],default:null,itineraryRewrite:function(e){return{toPlace:bt(e)}},profileRewrite:function(e){return{to:{lat:e.lat,lon:e.lon}}}},{name:"date",routingTypes:["ITINERARY","PROFILE"],default:gt},{name:"time",routingTypes:["ITINERARY"],default:ht},{name:"departArrive",routingTypes:["ITINERARY"],default:"NOW",itineraryRewrite:function(e){return{arriveBy:"ARRIVE"===e}}},{name:"startTime",routingTypes:["PROFILE"],default:"07:00"},{name:"endTime",routingTypes:["PROFILE"],default:"09:00"},{name:"mode",routingTypes:["ITINERARY","PROFILE"],default:"WALK,TRANSIT",profileRewrite:function(e){var t=[],n=[],r=[];return e&&e.length>0&&e.split(",").forEach((function(e){T(e)&&r.push(e),G(e)&&(t.push(e),z(e)||n.push(e))})),{accessModes:t,directModes:n,transitModes:r}}},{name:"showIntermediateStops",routingTypes:["ITINERARY"],default:!0},{name:"maxWalkDistance",routingTypes:["ITINERARY"],applicable:function(e){return!e.otp2&&e.mode&&H(e.mode)&&-1!==e.mode.indexOf("WALK")},default:1609,selector:"DROPDOWN",label:"Maximum Walk",options:[{text:"1/10 mile",value:160.9},{text:"1/4 mile",value:402.3},{text:"1/2 mile",value:804.7},{text:"3/4 mile",value:1207},{text:"1 mile",value:1609},{text:"2 miles",value:3219},{text:"5 miles",value:8047}]},{name:"maxBikeDistance",routingTypes:["ITINERARY"],applicable:function(e){return e.mode&&H(e.mode)&&-1!==e.mode.indexOf("BICYCLE")},default:4828,selector:"DROPDOWN",label:"Maximum Bike",options:[{text:"1/4 mile",value:402.3},{text:"1/2 mile",value:804.7},{text:"3/4 mile",value:1207},{text:"1 mile",value:1609},{text:"2 miles",value:3219},{text:"3 miles",value:4828},{text:"5 miles",value:8047},{text:"10 miles",value:16093},{text:"20 miles",value:32187},{text:"30 miles",value:48280}],itineraryRewrite:function(e){return{maxWalkDistance:e,maxBikeDistance:e}}},{name:"optimize",applicable:function(){return!1},routingTypes:["ITINERARY"],default:"QUICK",selector:"DROPDOWN",label:"Optimize for",options:[{text:"Speed",value:"QUICK"},{text:"Fewest Transfers",value:"TRANSFERS"}]},{name:"optimizeBike",applicable:function(e){return!e.otp2&&Y(e.mode)},routingTypes:["ITINERARY"],default:"SAFE",selector:"DROPDOWN",label:"Optimize for",options:function(){return[{text:"Speed",value:"QUICK"},{text:"Bike-Friendly Trip",value:"SAFE"},{text:"Flat Trip",value:"FLAT"}]},itineraryRewrite:function(e){return{optimize:e}}},{name:"maxWalkTime",routingTypes:["PROFILE"],default:15,selector:"DROPDOWN",label:"Max Walk Time",applicable:function(e){return e.mode&&H(e.mode)&&-1!==e.mode.indexOf("WALK")},options:[{text:"5 minutes",value:5},{text:"10 minutes",value:10},{text:"15 minutes",value:15},{text:"20 minutes",value:20},{text:"30 minutes",value:30},{text:"45 minutes",value:45},{text:"1 hour",value:60}]},{name:"walkReluctance",routingTypes:["ITINERARY","PROFILE"],selector:"SLIDER",low:1,high:10,step:.5,label:"walk reluctance",labelLow:"More Walking",labelHigh:"More Transit",applicable:function(e){return!!e.otp2&&e.mode&&-1!==e.mode.indexOf("WALK")}},{name:"maxBikeTime",routingTypes:["PROFILE"],default:20,selector:"DROPDOWN",label:"Max Bike Time",applicable:function(e){return e.mode&&H(e.mode)&&-1!==e.mode.indexOf("BICYCLE")},options:[{text:"5 minutes",value:5},{text:"10 minutes",value:10},{text:"15 minutes",value:15},{text:"20 minutes",value:20},{text:"30 minutes",value:30},{text:"45 minutes",value:45},{text:"1 hour",value:60}]},{name:"bikeSpeed",routingTypes:["ITINERARY","PROFILE"],default:3.58,selector:"DROPDOWN",label:"Bicycle Speed",applicable:function(e){return e.mode&&-1!==e.mode.indexOf("BICYCLE")},options:[{text:"6 MPH",value:2.68},{text:"8 MPH",value:3.58},{text:"10 MPH",value:4.47},{text:"12 MPH",value:5.36}]},{name:"maxEScooterDistance",routingTypes:["ITINERARY"],applicable:function(e){return e.mode&&H(e.mode)&&Q(e.mode)},default:4828,selector:"DROPDOWN",label:"Maximum E-scooter Distance",options:[{text:"1/4 mile",value:402.3},{text:"1/2 mile",value:804.7},{text:"3/4 mile",value:1207},{text:"1 mile",value:1609},{text:"2 miles",value:3219},{text:"3 miles",value:4828},{text:"5 miles",value:8047},{text:"10 miles",value:16093},{text:"20 miles",value:32187},{text:"30 miles",value:48280}],itineraryRewrite:function(e){return{maxWalkDistance:e,maxEScooterDistance:e}}},{name:"watts",routingTypes:["ITINERARY","PROFILE"],default:250,selector:"DROPDOWN",label:"E-scooter Power",applicable:function(e){return e.mode&&-1!==e.mode.indexOf("MICROMOBILITY")&&-1===e.mode.indexOf("MICROMOBILITY_RENT")&&-1===e.mode.indexOf("SCOOTER")},options:[{text:"Kid's hoverboard (6mph)",value:125},{text:"Entry-level scooter (11mph)",value:250},{text:"Robust E-scooter (18mph)",value:500},{text:"Powerful E-scooter (24mph)",value:1500}],itineraryRewrite:function(e){var t,n,r=e;switch(r){case 125:t=2.8,n=99;break;case 250:t=5,n=102.5;break;case 500:t=8,n=120;break;case 1e3:t=11,n=111}return{maximumMicromobilitySpeed:t,watts:r,weight:n}}},{name:"ignoreRealtimeUpdates",routingTypes:["ITINERARY"],default:!1},{name:"companies",routingTypes:["ITINERARY"]},{name:"wheelchair",routingTypes:["ITINERARY","PROFILE"],default:!1,selector:"CHECKBOX",label:"Prefer Wheelchair Accessible Routes",icon:Je.a.createElement(qe.Wheelchair,null),applicable:function(e,t){if(!e.mode||!t.modes)return!1;var n=(t.modes.accessModes||[]).concat(t.modes.transitModes||[]);return e.mode.split(",").some((function(t){var r=n.find((function(e){return e.mode===t}));return!(!r||!r.showWheelchairSetting)&&!!(!r.company||e.companies&&e.companies.split(",").includes(r.company))}))}},{name:"bannedRoutes",routingTypes:["ITINERARY"]},{name:"numItineraries",routingTypes:["ITINERARY"],default:3},{name:"intermediatePlaces",default:[],routingTypes:["ITINERARY"],itineraryRewrite:function(e){return Array.isArray(e)&&e.length>0?{intermediatePlaces:e.map((function(e){return bt(e)}))}:void 0}},{name:"otherThanPreferredRoutesPenalty",default:900,routingTypes:["ITINERARY"]},{name:"preferredRoutes",routingTypes:["ITINERARY"]},{name:"maxPreTransitTime",routingTypes:["ITINERARY"]},{name:"waitReluctance",routingTypes:["ITINERARY"]},{name:"driveDistanceReluctance",routingTypes:["ITINERARY"]},{name:"driveTimeReluctance",routingTypes:["ITINERARY"]},{name:"waitAtBeginningFactor",routingTypes:["ITINERARY"]},{name:"bikeSwitchTime",routingTypes:["ITINERARY"]},{name:"bikeSwitchCost",routingTypes:["ITINERARY"]},{name:"minTransferTime",routingTypes:["ITINERARY"]},{name:"preferredAgencies",routingTypes:["ITINERARY"]},{name:"unpreferredRoutes",routingTypes:["ITINERARY"]},{name:"unpreferredAgencies",routingTypes:["ITINERARY"]},{name:"walkBoardCost",routingTypes:["ITINERARY"]},{name:"bikeBoardCost",routingTypes:["ITINERARY"]},{name:"whiteListedRoutes",routingTypes:["ITINERARY"]},{name:"bannedAgencies",routingTypes:["ITINERARY"]},{name:"whiteListedAgencies",routingTypes:["ITINERARY"]},{name:"bannedTrips",routingTypes:["ITINERARY"]},{name:"bannedStops",routingTypes:["ITINERARY"]},{name:"bannedStopsHard",routingTypes:["ITINERARY"]},{name:"transferPenalty",routingTypes:["ITINERARY"]},{name:"nonpreferredTransferPenalty",routingTypes:["ITINERARY"]},{name:"maxTransfers",routingTypes:["ITINERARY"]},{name:"batch",routingTypes:["ITINERARY"]},{name:"startTransitStopId",routingTypes:["ITINERARY"]},{name:"startTransitTripId",routingTypes:["ITINERARY"]},{name:"clampInitialWait",routingTypes:["ITINERARY"]},{name:"reverseOptimizeOnTheFly",routingTypes:["ITINERARY"]},{name:"boardSlack",routingTypes:["ITINERARY"]},{name:"alightSlack",routingTypes:["ITINERARY"]},{name:"locale",routingTypes:["ITINERARY"]},{name:"disableRemainingWeightHeuristic",routingTypes:["ITINERARY"]},{name:"flexFlagStopBufferSize",routingTypes:["ITINERARY"]},{name:"flexUseReservationServices",routingTypes:["ITINERARY"]},{name:"flexUseEligibilityServices",routingTypes:["ITINERARY"]},{name:"flexIgnoreDrtAdvanceBookMin",routingTypes:["ITINERARY"]},{name:"maxHours",routingTypes:["ITINERARY"]},{name:"useRequestedDateTimeInMaxHours",routingTypes:["ITINERARY"]},{name:"disableAlertFiltering",routingTypes:["ITINERARY"]},{name:"geoidElevation",routingTypes:["ITINERARY"]},{name:"invalidDateStrategy",routingTypes:["ITINERARY"]},{name:"minTransitDistance",routingTypes:["ITINERARY"]},{name:"searchTimeout",routingTypes:["ITINERARY"]},{name:"pathComparator",routingTypes:["ITINERARY"]},{name:"onlyTransitTrips",routingTypes:["ITINERARY"]},{name:"minimumMicromobilitySpeed",routingTypes:["ITINERARY"]}];xt.forEach((function(e){e.name in wt&&(e.default=wt[e.name],e.userDefaultOverride=!0)}));var Et=xt;function _t(e){if(!e)return xt;var t=Ze()(xt);return Object.keys(e).forEach((function(n){var r=t.findIndex((function(e){return e.name===n}));-1!==r&&(t[r]=vt(vt({},t[r]),e[n]))})),t}function At(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?At(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):At(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var St=["wheelchair","maxWalkDistance","walkReluctance","maxWalkTime","maxBikeDistance","maxBikeTime","bikeSpeed","optimize","optimizeBike","maxEScooterDistance","watts"],Tt=["HH:mm:ss","HH:mm","H:mm","h:mm:ss a","h:mm:ssa","h:mm a","h:mma","h:mm","HHmm","hmm","ha"];function It(e,t,n){return"function"==typeof e[t]?e[t](n):e[t]}function kt(e){var t=e.filter((function(e){return G(e)})).length;if(t>1){var n=e.find((function(e){return G(e)}));e=e.filter((function(e){return!G(e)||e===n}))}else 0===t&&e.push("WALK");return e}function Ct(){return Ye.a.parse(window.location.href.split("?")[1])}function Mt(){return Object.keys(Ct()).filter((function(e){return!e.startsWith("ui_")}))}function Nt(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Ot({},e);return delete n.time,delete n.departArrive,delete n.date,t||(delete n.from,delete n.to),n}function jt(e){return"function"==typeof e.default?e.default():e.default}function Lt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t={routingType:"ITINERARY"};return Et.filter((function(e){return"default"in e})).forEach((function(e){t[e.name]=jt(e)})),e&&(e.routingTypes&&e.routingTypes.length>0&&(t.routingType=e.routingTypes[0].key),e.defaultQueryParams&&Object.keys(e.defaultQueryParams).forEach((function(n){t[n]=e.defaultQueryParams[n]}))),t}function Rt(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t?e.reduce((function(e,t){var n=e;return t.includes("FLEX")?n.includes("FLEX")||n.push("FLEX"):n.push(t),n}),[]):e}function Dt(e){return Rt(e.split(",")).map((function(t){return"FLEX_EGRESS"!==t&&"FLEX_ACCESS"!==t&&"FLEX_DIRECT"!==t||!e.includes("FLEX")?"FLEX"===t?"FLEX_EGRESS,FLEX_ACCESS,FLEX_DIRECT":t:""})).join(",")}function Pt(e,t){var n,r=Rt(e.mode.split(",").sort(),null===(n=t.modes)||void 0===n?void 0:n.mergeFlex);if(2!==r.length||"TRANSIT"!==r[0]||"WALK"!==r[1]){var i=O(t).concat(["WALK"]).sort();if(!(r.length===i.length&&r.every((function(e,t){return e===i[t]}))))return!0}for(var o=Lt(t),a=function(n){var r=St[n];if(function(e,t,n){var r=e.applicable;return!(!e.routingTypes.includes(t.routingType)||"function"==typeof r&&!r(t,n))}(Et.find((function(e){return e.name===r})),e,t)&&e[r]!==o[r])return{v:!0}},s=0;s<St.length;s++){var l=a(s);if("object"===m()(l))return l.v}return!1}function Bt(e,t){return Ft.apply(this,arguments)}function Ft(){return(Ft=Pe()(Fe.a.mark((function e(t,n){var r;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=He()(n),e.abrupt("return",r.search({text:t}).then((function(e){var t=e.features&&e.features[0];return t?r.getLocationFromGeocodedFeature(t):null})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ut(e){if(!e)return null;var t=e.split("::"),n=t[1]?_e(t[1]):_e(t[0]),r=t[1]?t[0]:Ee(n);return 2===n.length?{name:r||null,lat:n[0]||null,lon:n[1]||null}:null}function zt(e,t){return Vt.apply(this,arguments)}function Vt(){return(Vt=Pe()(Fe.a.mark((function e(t,n){var r;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Ut(t))||!t||!n){e.next=5;break}return e.next=4,Bt(t,n);case 4:r=e.sent;case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gt(e){var t={};return Object.keys(e).forEach((function(n){switch(n){case"fromPlace":t.from=Ut(e.fromPlace);break;case"toPlace":t.to=Ut(e.toPlace);break;case"arriveBy":t.departArrive="true"===e.arriveBy?"ARRIVE":"false"===e.arriveBy?"DEPART":"NOW";break;case"date":t.date=e.date||gt();break;case"time":var r=Tt.find((function(t){return Object(Ue.a)(e.time,t)}));t.time=r?Object(ze.a)(Object(Ve.a)(e.time,r,new Date),st):ht();break;case"intermediatePlaces":t.intermediatePlaces=e.intermediatePlaces?e.intermediatePlaces.map(Ut):[];break;default:var i=Number(e[n]);t[n]=""===e[n]||Number.isNaN(i)?e[n]:i}})),t}function Ht(e){return Wt.apply(this,arguments)}function Wt(){return(Wt=Pe()(Fe.a.mark((function e(t){var n,r,i=arguments;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:{},(r=Gt(t)).from){e.next=6;break}return e.next=5,zt(t.fromPlace,n.geocoder);case 5:r.from=e.sent;case 6:if(r.to){e.next=10;break}return e.next=9,zt(t.toPlace,n.geocoder);case 9:r.to=e.sent;case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yt(e,t,n){var r,i=t.routingType,o="ITINERARY"===i,a={};if(Et.filter((function(n){return-1!==n.routingTypes.indexOf(i)&&n.name in t&&("function"!=typeof n.applicable||n.applicable(t,e))})).forEach((function(e){var n=o?e.itineraryRewrite:e.profileRewrite;a=Object.assign(a,n?n(t[e.name]):g()({},e.name,t[e.name]))})),o){"boolean"==typeof n&&(a.ignoreRealtimeUpdates=n);var s=Object(Ue.a)(a.date,at),l=Object(Ue.a)(a.time,st);s&&l||(delete a.time,delete a.date),a.mode&&(a.mode.includes("CAR_HAIL")||a.mode.includes("CAR_RENT"))&&(a.minTransitDistance="50%",a.searchTimeout=1e4),a.mode&&a.mode.includes("CAR_RENT")&&(a.onlyTransitTrips=!0)}else{var c=Object(Ue.a)(a.startTime,st),u=Object(Ue.a)(a.endTime,st);c&&u||(delete a.startTimeValid,delete a.endTimeValid)}if(W(a.mode)&&(a.mode+=",WALK"),a.mode&&!1!==(null===(r=e.modes)||void 0===r?void 0:r.mergeFlex)){var d=Rt(a.mode.split(",")).join(",");a.mode=Dt(d)}return a}var Qt=n(108),Zt=n.n(Qt);function Xt(e,t,n){return n.find((function(n){return n.feedId===e&&n.agencyId===t}))||null}function Jt(e,t){return e.routeId&&e.agencyId?Xt(e.routeId.split(":")[0],e.agencyId,t):null}function qt(e,t){if(!e.id)return null;var n,r=e.id.split(":")[0];if(e.agency)n=e.agency.id;else{if(!e.agencyId)return null;n=e.agencyId}return Xt(r,n,t)}var Kt=999999999999;function $t(e,t){if(!t||0===t.length)return e.agency?e.agency.name:e.agencyName?e.agencyName:"zzz";var n=qt(e,t);return n&&"number"==typeof n.order?n.order:Kt}function en(e,t,n){var r,i;return"function"==typeof e?(r=e(t),i=e(n)):(r=t,i=n),{aVal:r,bVal:i}}var tn={SUBWAY:1,TRAM:2,TROLLEYBUS:9,RAIL:3,GONDOLA:4,FERRY:5,CABLE_CAR:6,FUNICULAR:7,BUS:8},nn={0:tn.TRAM,1:tn.SUBWAY,2:tn.RAIL,3:tn.BUS,4:tn.FERRY,5:tn.CABLE_CAR,6:tn.GONDOLA,7:tn.FUNICULAR,11:tn.BUS,12:tn.RAIL,13:tn.TROLLEYBUS};function rn(e){if(!e)throw new Error("Route is undefined. ".concat(e));return void 0!==tn[e.mode]?tn[e.mode]:void 0!==nn[e.type]?nn[e.type]:(console.warn("no mode/route type found for route",e),Kt)}function on(e,t){return rn(e)-rn(t)}function an(e){if("string"==typeof e&&e.length>0){var t=e.charCodeAt(0);return t>=65&&t<=90||t>=97&&t<=122}return!1}function sn(e,t){var n=an(e.shortName),r=an(t.shortName);return n&&r?0:n?-1:r?1:0}function ln(e){return function(t,n){var r=en(e,t,n),i=r.aVal,o=r.bVal;return"number"!=typeof i||"number"!=typeof o||isNaN(i)&&isNaN(o)?0:isNaN(i)?1:isNaN(o)?-1:i-o}}function cn(e){return function(t,n){var r=en(e,t,n),i=r.aVal,o=r.bVal;return i||o?i?o?i<o?-1:i>o?1:0:-1:1:0}}function un(e){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){for(var r=0;r<t.length;r++){var i=t[r](e,n);if(0!==i)return i}return 0}}(function(e){return function(t,n){var r=$t(t,e),i=$t(n,e);return"string"==typeof r?r<i?-1:r>i?1:0:r-i}}(e),ln((function(e){return-999===(t=e.sortOrder)?void 0:t;var t})),on,sn,ln((function(e){return parseInt(e.shortName,10)})),cn((function(e){return e.shortName})),cn((function(e){return e.longName})))}function dn(e,t){e||(e="#333333"),t||(t="#ffffff"),e.startsWith("#")||(e="#".concat(e)),t.startsWith("#")||(t="#".concat(t));var n=Zt()(t).luminance(),r=Zt()(e).luminance();return r+n<1.41&&r+n>.25&&Math.abs(r-n)>.2?t:Zt()(e).luminance()<.4?"#ffffff":"#000000"}function fn(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function pn(e){var t=document.querySelector(e),n=null;function r(e){var r=e.targetTouches[0].clientY-n;0===t.scrollTop&&r>0&&e.preventDefault(),t.scrollHeight-t.scrollTop<=t.clientHeight&&r<0&&e.preventDefault()}t.addEventListener("touchstart",(function(e){1===e.targetTouches.length&&(n=e.targetTouches[0].clientY)}),!1),t.addEventListener("touchmove",(function(e){1===e.targetTouches.length&&r(e)}),!1)}var mn=n(9),hn=n.n(mn),gn=n(1059);function yn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yn(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Plan"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"arriveBy"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"banned"}},type:{kind:"NamedType",name:{kind:"Name",value:"InputBanned"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"bikeReluctance"}},type:{kind:"NamedType",name:{kind:"Name",value:"Float"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"carReluctance"}},type:{kind:"NamedType",name:{kind:"Name",value:"Float"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"date"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fromPlace"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modes"}},type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"TransportMode"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"numItineraries"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"preferred"}},type:{kind:"NamedType",name:{kind:"Name",value:"InputPreferred"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"time"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"toPlace"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"unpreferred"}},type:{kind:"NamedType",name:{kind:"Name",value:"InputUnpreferred"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"walkReluctance"}},type:{kind:"NamedType",name:{kind:"Name",value:"Float"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"walkSpeed"}},type:{kind:"NamedType",name:{kind:"Name",value:"Float"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"wheelchair"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"plan"},arguments:[{kind:"Argument",name:{kind:"Name",value:"arriveBy"},value:{kind:"Variable",name:{kind:"Name",value:"arriveBy"}}},{kind:"Argument",name:{kind:"Name",value:"banned"},value:{kind:"Variable",name:{kind:"Name",value:"banned"}}},{kind:"Argument",name:{kind:"Name",value:"bikeReluctance"},value:{kind:"Variable",name:{kind:"Name",value:"bikeReluctance"}}},{kind:"Argument",name:{kind:"Name",value:"carReluctance"},value:{kind:"Variable",name:{kind:"Name",value:"carReluctance"}}},{kind:"Argument",name:{kind:"Name",value:"date"},value:{kind:"Variable",name:{kind:"Name",value:"date"}}},{kind:"Argument",name:{kind:"Name",value:"fromPlace"},value:{kind:"Variable",name:{kind:"Name",value:"fromPlace"}}},{kind:"Argument",name:{kind:"Name",value:"locale"},value:{kind:"StringValue",value:"en",block:!1}},{kind:"Argument",name:{kind:"Name",value:"numItineraries"},value:{kind:"Variable",name:{kind:"Name",value:"numItineraries"}}},{kind:"Argument",name:{kind:"Name",value:"preferred"},value:{kind:"Variable",name:{kind:"Name",value:"preferred"}}},{kind:"Argument",name:{kind:"Name",value:"time"},value:{kind:"Variable",name:{kind:"Name",value:"time"}}},{kind:"Argument",name:{kind:"Name",value:"toPlace"},value:{kind:"Variable",name:{kind:"Name",value:"toPlace"}}},{kind:"Argument",name:{kind:"Name",value:"transportModes"},value:{kind:"Variable",name:{kind:"Name",value:"modes"}}},{kind:"Argument",name:{kind:"Name",value:"unpreferred"},value:{kind:"Variable",name:{kind:"Name",value:"unpreferred"}}},{kind:"Argument",name:{kind:"Name",value:"walkReluctance"},value:{kind:"Variable",name:{kind:"Name",value:"walkReluctance"}}},{kind:"Argument",name:{kind:"Name",value:"walkSpeed"},value:{kind:"Variable",name:{kind:"Name",value:"walkSpeed"}}},{kind:"Argument",name:{kind:"Name",value:"wheelchair"},value:{kind:"Variable",name:{kind:"Name",value:"wheelchair"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"itineraries"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accessibilityScore"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"duration"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endTime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"legs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accessibilityScore"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"agency"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"alerts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"alertDescriptionText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertHeaderText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"effectiveStartDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"gtfsId"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"id"},name:{kind:"Name",value:"gtfsId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timezone"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"alerts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"alertDescriptionText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertHeaderText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"effectiveStartDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"arrivalDelay"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"departureDelay"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"distance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dropOffBookingInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contactInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bookingUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"infoUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phoneNumber"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"earliestBookingTime"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"daysPrior"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"latestBookingTime"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"daysPrior"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"dropoffType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"duration"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endTime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fareProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"product"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"medium"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"riderCategory"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DefaultFareProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"digits"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lat"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rentalVehicle"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"network"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stop"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"alerts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"alertDescriptionText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertHeaderText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"effectiveStartDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gtfsId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lat"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lon"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"vertexType"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"headsign"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"interlineWithPreviousLeg"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"intermediateStops"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lat"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"locationType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"stopCode"},name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"stopId"},name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"legGeometry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"length"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"points"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"mode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pickupBookingInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contactInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bookingUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"infoUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phoneNumber"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"earliestBookingTime"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"daysPrior"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"latestBookingTime"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"daysPrior"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pickupType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"realTime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"realtimeState"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rentedBike"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rideHailingEstimate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"arrival"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxPrice"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"minPrice"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"provider"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"route"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"alerts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"alertDescriptionText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertHeaderText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"effectiveStartDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gtfsId"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"id"},name:{kind:"Name",value:"gtfsId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shortName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"textColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"startTime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"steps"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"absoluteDirection"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alerts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"alertDescriptionText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertHeaderText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"effectiveStartDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"area"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"distance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"elevationProfile"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"distance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"elevation"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"lat"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"relativeDirection"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stayOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"streetName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lat"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rentalVehicle"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"network"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stop"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"alerts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"alertDescriptionText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertHeaderText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"effectiveStartDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gtfsId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lat"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lon"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"vertexType"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"transitLeg"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"trip"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"arrivalStoptime"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"stop"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"gtfsId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stopPosition"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"departureStoptime"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"stop"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"gtfsId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stopPosition"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"gtfsId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"startTime"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"transfers"},name:{kind:"Name",value:"numberOfTransfers"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"waitingTime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"walkTime"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"routingErrors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"inputField"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:5493,source:{body:'query Plan(\n  $arriveBy: Boolean\n  $banned: InputBanned\n  $bikeReluctance: Float\n  $carReluctance: Float\n  $date: String\n  $fromPlace: String!\n  $modes: [TransportMode]\n  $numItineraries: Int\n  $preferred: InputPreferred\n  $time: String\n  $toPlace: String!\n  $unpreferred: InputUnpreferred\n  $walkReluctance: Float\n  $walkSpeed: Float\n  $wheelchair: Boolean\n) {\n  plan(\n    arriveBy: $arriveBy\n    banned: $banned\n    bikeReluctance: $bikeReluctance\n    carReluctance: $carReluctance\n    date: $date\n    fromPlace: $fromPlace\n    # Currently only supporting EN locale, used for times and text\n    locale: "en"\n    numItineraries: $numItineraries\n    preferred: $preferred\n    time: $time\n    toPlace: $toPlace\n    transportModes: $modes\n    unpreferred: $unpreferred\n    walkReluctance: $walkReluctance\n    walkSpeed: $walkSpeed\n    wheelchair: $wheelchair\n  ) {\n    itineraries {\n      accessibilityScore\n      duration\n      endTime\n      legs {\n        accessibilityScore\n        agency {\n          alerts {\n            alertDescriptionText\n            alertHeaderText\n            alertUrl\n            effectiveStartDate\n            id\n          }\n          gtfsId\n          id: gtfsId\n          name\n          timezone\n          url\n        }\n        alerts {\n          alertDescriptionText\n          alertHeaderText\n          alertUrl\n          effectiveStartDate\n          id\n        }\n        arrivalDelay\n        departureDelay\n        distance\n        dropOffBookingInfo {\n          contactInfo {\n            bookingUrl\n            infoUrl\n            phoneNumber\n          }\n          earliestBookingTime {\n            daysPrior\n            time\n          }\n          latestBookingTime {\n            daysPrior\n            time\n          }\n          message\n        }\n        dropoffType\n        duration\n        endTime\n        fareProducts {\n          id\n          product {\n            __typename\n            id\n            medium {\n              id\n              name\n            }\n            name\n            riderCategory {\n              id\n              name\n            }\n            ... on DefaultFareProduct {\n              price {\n                amount\n                currency {\n                  code\n                  digits\n                }\n              }\n            }\n          }\n        }\n        from {\n          lat\n          lon\n          name\n          rentalVehicle {\n            id\n            network\n          }\n          stop {\n            alerts {\n              alertDescriptionText\n              alertHeaderText\n              alertUrl\n              effectiveStartDate\n              id\n            }\n            code\n            gtfsId\n            id\n            lat\n            lon\n          }\n          vertexType\n        }\n        headsign\n        interlineWithPreviousLeg\n        intermediateStops {\n          lat\n          locationType\n          lon\n          name\n          stopCode: code\n          stopId: id\n        }\n        legGeometry {\n          length\n          points\n        }\n        mode\n        pickupBookingInfo {\n          contactInfo {\n            bookingUrl\n            infoUrl\n            phoneNumber\n          }\n          earliestBookingTime {\n            daysPrior\n            time\n          }\n          latestBookingTime {\n            daysPrior\n            time\n          }\n          message\n        }\n        pickupType\n        realTime\n        realtimeState\n        rentedBike\n        rideHailingEstimate {\n          arrival\n          maxPrice {\n            amount\n            currency {\n              code\n            }\n          }\n          minPrice {\n            amount\n            currency {\n              code\n            }\n          }\n          provider {\n            id\n          }\n        }\n        route {\n          alerts {\n            alertDescriptionText\n            alertHeaderText\n            alertUrl\n            effectiveStartDate\n            id\n          }\n          color\n          gtfsId\n          id: gtfsId\n          longName\n          shortName\n          textColor\n          type\n        }\n        startTime\n        steps {\n          absoluteDirection\n          alerts {\n            alertDescriptionText\n            alertHeaderText\n            alertUrl\n            effectiveStartDate\n            id\n          }\n          area\n          distance\n          elevationProfile {\n            distance\n            elevation\n          }\n          lat\n          lon\n          relativeDirection\n          stayOn\n          streetName\n        }\n        to {\n          lat\n          lon\n          name\n          rentalVehicle {\n            id\n            network\n          }\n          stop {\n            alerts {\n              alertDescriptionText\n              alertHeaderText\n              alertUrl\n              effectiveStartDate\n              id\n            }\n            code\n            gtfsId\n            id\n            lat\n            lon\n          }\n          vertexType\n        }\n        transitLeg\n        trip {\n          arrivalStoptime {\n            stop {\n              gtfsId\n              id\n            }\n            stopPosition\n          }\n          departureStoptime {\n            stop {\n              gtfsId\n              id\n            }\n            stopPosition\n          }\n          gtfsId\n          id\n        }\n      }\n      startTime\n      transfers: numberOfTransfers\n      waitingTime\n      walkTime\n    }\n    routingErrors {\n      code\n      description\n      inputField\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}}}};function wn(e,t){return e.reduce((function(e,n){if(!t.map((function(e){return e.mode})).includes(n.applicableMode))return e;if(("CHECKBOX"===n.type||"SUBMODE"===n.type)&&n.addTransportMode&&n.value){var r=Array.isArray(n.addTransportMode)?n.addTransportMode:[n.addTransportMode];return[].concat(v()(e),v()(r))}if("DROPDOWN"===n.type){var i,o=null===(i=n.options.find((function(e){return e.value===n.value})))||void 0===i?void 0:i.addTransportMode;if(o)return[].concat(v()(e),[o])}return e}),[])}var xn={AIRPLANE:"TRANSIT",BICYCLE:"PERSONAL",BUS:"TRANSIT",CABLE_CAR:"TRANSIT",CAR:"CAR",FERRY:"TRANSIT",FLEX:"SHARED",FUNICULAR:"TRANSIT",GONDOLA:"TRANSIT",RAIL:"TRANSIT",MONORAIL:"TRANSIT",SCOOTER:"PERSONAL",SUBWAY:"TRANSIT",TROLLEYBUS:"TRANSIT",TRAM:"TRANSIT",TRANSIT:"TRANSIT",WALK:"WALK"},En=[["WALK"],["PERSONAL"],["TRANSIT","SHARED"],["WALK","SHARED"],["TRANSIT"],["TRANSIT","PERSONAL"],["TRANSIT","CAR"]],_n=["SCOOTER","BICYCLE","CAR"],An=Object.keys(xn).filter((function(e){return"TRANSIT"===xn[e]&&"TRANSIT"!==e})),On=Object.keys(xn).filter((function(e){return"TRANSIT"===xn[e]}));function Sn(e){var t,n=[].concat(v()(wn(e.modeSettings,e.modes)),v()(e.modes)),r=n.filter((function(e){return An.includes(e.mode)})).map((function(e){return e.mode}));return(t=n,t?new Array(1<<t.length).fill(null).map((function(e,n){return t.filter((function(e,t){return n&1<<t}))})):[]).filter((function(e){return function(e,t){if(0===e.length)return!1;var n=Array.from(new Set(e.map((function(e){return e.qualifier?"SHARED":xn[e.mode]}))));if(n.includes("TRANSIT")){if(t.length&&e.find((function(e){return"TRANSIT"===e.mode})))return!1;if(0!==e.reduce((function(e,n){return t.includes(n.mode)?e-1:e}),t.length))return!1}return!(_n.filter((function(t){return e.find((function(e){return e.mode===t}))})).length>1||!En.find((function(e){return n.every((function(t){return e.includes(t)}))&&e.every((function(e){return n.includes(e)}))})))}(e,r)})).map((function(t){return vn(vn({},e),{},{modes:t})}))}function Tn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bn,n=e.from,r=e.modeSettings,i=e.to,o=hn()(e,["from","modeSettings","to"]),a=r.reduce((function(e,t){var n;("SLIDER"===t.type&&t.inverseKey&&(e[t.inverseKey]=t.high-t.value+t.low),e[t.key]=t.value,"CHECKBOX"===t.type&&t.truthValue)&&(e[t.key]=!0===t.value?t.truthValue:null!==(n=t.falseValue)&&void 0!==n?n:null);return e}),{}),s=a.bikeReluctance,l=a.carReluctance,c=a.walkReluctance,u=a.walkSpeed,d=a.wheelchair;return{query:Object(gn.a)(t),variables:vn(vn({},o),{},{bikeReluctance:s,carReluctance:l,fromPlace:"".concat(n.name,"::").concat(n.lat,",").concat(n.lon),toPlace:"".concat(i.name,"::").concat(i.lat,",").concat(i.lon),walkReluctance:c,walkSpeed:u,wheelchair:d})}}var In=function(e){var t=e.children,n=e.fallback;return window.navigator.userAgent.match(/StorybookTestRunner/)?Je.a.createElement(Je.a.Fragment,null,n):Je.a.createElement(Xe.Suspense,{fallback:n},t)},kn={itinerary:r,map:i,profile:o,query:c,queryGen:f,queryParams:l,route:u,storage:a,time:s,ui:d};t.default=kn},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return U}));var r=n(0),i=n.n(r),o=i.a.createContext(null);var a=function(e){e()},s={notify:function(){}};function l(){var e=a,t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var c=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=s,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=l())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=s)},e}(),u="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect;var d=function(e){var t=e.store,n=e.context,a=e.children,s=Object(r.useMemo)((function(){var e=new c(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),l=Object(r.useMemo)((function(){return t.getState()}),[t]);u((function(){var e=s.subscription;return e.trySubscribe(),l!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[s,l]);var d=n||o;return i.a.createElement(d.Provider,{value:s},a)},f=n(65),p=n(94),m=n(140),h=n.n(m),g=n(178),y=[],v=[null,null];function b(e,t){var n=e[1];return[t.payload,n+1]}function w(e,t,n){u((function(){return e.apply(void 0,t)}),n)}function x(e,t,n,r,i,o,a){e.current=r,t.current=i,n.current=!1,o.current&&(o.current=null,a())}function E(e,t,n,r,i,o,a,s,l,c){if(e){var u=!1,d=null,f=function(){if(!u){var e,n,f=t.getState();try{e=r(f,i.current)}catch(e){n=e,d=e}n||(d=null),e===o.current?a.current||l():(o.current=e,s.current=e,a.current=!0,c({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=f,n.trySubscribe(),f();return function(){if(u=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}}var _=function(){return[null,0]};function A(e,t){void 0===t&&(t={});var n=t,a=n.getDisplayName,s=void 0===a?function(e){return"ConnectAdvanced("+e+")"}:a,l=n.methodName,u=void 0===l?"connectAdvanced":l,d=n.renderCountProp,m=void 0===d?void 0:d,A=n.shouldHandleStateChanges,O=void 0===A||A,S=n.storeKey,T=void 0===S?"store":S,I=(n.withRef,n.forwardRef),k=void 0!==I&&I,C=n.context,M=void 0===C?o:C,N=Object(p.a)(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]),j=M;return function(t){var n=t.displayName||t.name||"Component",o=s(n),a=Object(f.a)({},N,{getDisplayName:s,methodName:u,renderCountProp:m,shouldHandleStateChanges:O,storeKey:T,displayName:o,wrappedComponentName:n,WrappedComponent:t}),l=N.pure;var d=l?r.useMemo:function(e){return e()};function A(n){var o=Object(r.useMemo)((function(){var e=n.reactReduxForwardedRef,t=Object(p.a)(n,["reactReduxForwardedRef"]);return[n.context,e,t]}),[n]),s=o[0],l=o[1],u=o[2],m=Object(r.useMemo)((function(){return s&&s.Consumer&&Object(g.isContextConsumer)(i.a.createElement(s.Consumer,null))?s:j}),[s,j]),h=Object(r.useContext)(m),A=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(h)&&Boolean(h.store);var S=A?n.store:h.store,T=Object(r.useMemo)((function(){return function(t){return e(t.dispatch,a)}(S)}),[S]),I=Object(r.useMemo)((function(){if(!O)return v;var e=new c(S,A?null:h.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[S,A,h]),k=I[0],C=I[1],M=Object(r.useMemo)((function(){return A?h:Object(f.a)({},h,{subscription:k})}),[A,h,k]),N=Object(r.useReducer)(b,y,_),L=N[0][0],R=N[1];if(L&&L.error)throw L.error;var D=Object(r.useRef)(),P=Object(r.useRef)(u),B=Object(r.useRef)(),F=Object(r.useRef)(!1),U=d((function(){return B.current&&u===P.current?B.current:T(S.getState(),u)}),[S,L,u]);w(x,[P,D,F,u,U,B,C]),w(E,[O,S,k,T,P,D,F,B,C,R],[S,k,T]);var z=Object(r.useMemo)((function(){return i.a.createElement(t,Object(f.a)({},U,{ref:l}))}),[l,t,U]);return Object(r.useMemo)((function(){return O?i.a.createElement(m.Provider,{value:M},z):z}),[m,z,M])}var S=l?i.a.memo(A):A;if(S.WrappedComponent=t,S.displayName=A.displayName=o,k){var I=i.a.forwardRef((function(e,t){return i.a.createElement(S,Object(f.a)({},e,{reactReduxForwardedRef:t}))}));return I.displayName=o,I.WrappedComponent=t,h()(I,t)}return h()(S,t)}}function O(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function S(e,t){if(O(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!O(e[n[i]],t[n[i]]))return!1;return!0}function T(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function I(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function k(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=I(e);var i=r(t,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=I(i),i=r(t,n)),i},r}}var C=[function(e){return"function"==typeof e?k(e):void 0},function(e){return e?void 0:T((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?T((function(t){return function(e,t){var n={},r=function(r){var i=e[r];"function"==typeof i&&(n[r]=function(){return t(i.apply(void 0,arguments))})};for(var i in e)r(i);return n}(e,t)})):void 0}];var M=[function(e){return"function"==typeof e?k(e):void 0},function(e){return e?void 0:T((function(){return{}}))}];function N(e,t,n){return Object(f.a)({},n,e,t)}var j=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,o=n.areMergedPropsEqual,a=!1;return function(t,n,s){var l=e(t,n,s);return a?i&&o(l,r)||(r=l):(a=!0,r=l),r}}}(e):void 0},function(e){return e?void 0:function(){return N}}];function L(e,t,n,r){return function(i,o){return n(e(i,o),t(r,o),o)}}function R(e,t,n,r,i){var o,a,s,l,c,u=i.areStatesEqual,d=i.areOwnPropsEqual,f=i.areStatePropsEqual,p=!1;function m(i,p){var m,h,g=!d(p,a),y=!u(i,o);return o=i,a=p,g&&y?(s=e(o,a),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a)):g?(e.dependsOnOwnProps&&(s=e(o,a)),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a)):y?(m=e(o,a),h=!f(m,s),s=m,h&&(c=n(s,l,a)),c):c}return function(i,u){return p?m(i,u):(s=e(o=i,a=u),l=t(r,a),c=n(s,l,a),p=!0,c)}}function D(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=Object(p.a)(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(e,o),s=r(e,o),l=i(e,o);return(o.pure?R:L)(a,s,l,e,o)}function P(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function B(e,t){return e===t}function F(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?A:n,i=t.mapStateToPropsFactories,o=void 0===i?M:i,a=t.mapDispatchToPropsFactories,s=void 0===a?C:a,l=t.mergePropsFactories,c=void 0===l?j:l,u=t.selectorFactory,d=void 0===u?D:u;return function(e,t,n,i){void 0===i&&(i={});var a=i,l=a.pure,u=void 0===l||l,m=a.areStatesEqual,h=void 0===m?B:m,g=a.areOwnPropsEqual,y=void 0===g?S:g,v=a.areStatePropsEqual,b=void 0===v?S:v,w=a.areMergedPropsEqual,x=void 0===w?S:w,E=Object(p.a)(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),_=P(e,o,"mapStateToProps"),A=P(t,s,"mapDispatchToProps"),O=P(n,c,"mergeProps");return r(d,Object(f.a)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:_,initMapDispatchToProps:A,initMergeProps:O,pure:u,areStatesEqual:h,areOwnPropsEqual:y,areStatePropsEqual:b,areMergedPropsEqual:x},E))}}var U=F();var z,V=n(50);z=V.unstable_batchedUpdates,a=z},function(e,t,n){var r=n(613);e.exports=function(e,t){if(null==e)return{};var n,i,o=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(4),i=n.n(r),o=n(15),a=n.n(o),s=n(9),l=n.n(s),c=n(0),u=n(1),d=["children","iconAttrs","iconVerticalAlign","iconViewBox","size","title"];function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=c.forwardRef((function(e,t){var n=e.children,r=e.iconAttrs,o=(e.iconVerticalAlign,e.iconViewBox),a=e.size,s=e.title,u=l()(e,d),f=p(p({viewBox:o,height:void 0!==e.height?e.height:a,width:void 0!==e.width?e.width:a,"aria-hidden":null==s?"true":void 0,focusable:"false",role:null!=s?"img":void 0},r),u);return c.createElement("svg",i()({},f,{ref:t}),s&&c.createElement("title",{key:"icon-title"},s),n)})),h=Object(u.default)(m).withConfig({displayName:"StyledIconBase",componentId:"sc-ea9ulj-0"})(["display:inline-block;vertical-align:",";overflow:hidden;"],(function(e){return e.iconVerticalAlign}))},function(e,t,n){"use strict";function r(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(171),i=n.n(r),o=n(122),a=n.n(o),s=n(306),l=n.n(s),c=n(395),u=n.n(c),d=n(118),f=n.n(d);function p(e){var t=arguments.length<=1||void 0===arguments[1]?i.a:arguments[1],n=arguments[2];f()(a()(t)||u()(t),"Expected payloadCreator to be a function, undefined or null");var r=u()(t)?i.a:t,o=function(){var t=(arguments.length<=0?void 0:arguments[0])instanceof Error,i={type:e},o=t?arguments.length<=0?void 0:arguments[0]:r.apply(void 0,arguments);return l()(o)||(i.payload=o),(t||o instanceof Error)&&(i.error=!0),a()(n)&&(i.meta=n.apply(void 0,arguments)),i};return o.toString=function(){return e.toString()},o}n(307),n(498),n(499),n(207),n(500),n(501),n(289);n(502);n(201),Object.assign},function(e,t,n){"use strict";n.d(t,"e",(function(){return f})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return h})),n.d(t,"d",(function(){return g})),n.d(t,"f",(function(){return b})),n.d(t,"g",(function(){return w}));var r=n(267),i=n.n(r),o=n(24),a=n(118),s=n.n(a),l=n(2),c=n.n(l),u=n(57);function d(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[n.length-1];return"function"==typeof i?e.apply(void 0,n):function(t){return e.apply(void 0,n.concat([t]))}}}function f(e,t){var n=(e.bsClass||"").trim();return null==n&&s()(!1),n+(t?"-"+t:"")}var p=d((function(e,t){var n=t.propTypes||(t.propTypes={}),r=t.defaultProps||(t.defaultProps={});return n.bsClass=c.a.string,r.bsClass=e,t})),m=d((function(e,t,n){"string"!=typeof t&&(n=t,t=void 0);var r=n.STYLES||[],i=n.propTypes||{};e.forEach((function(e){-1===r.indexOf(e)&&r.push(e)}));var a=c.a.oneOf(r);(n.STYLES=r,a._values=r,n.propTypes=Object(o.a)({},i,{bsStyle:a}),void 0!==t)&&((n.defaultProps||(n.defaultProps={})).bsStyle=t);return n})),h=d((function(e,t,n){"string"!=typeof t&&(n=t,t=void 0);var r=n.SIZES||[],i=n.propTypes||{};e.forEach((function(e){-1===r.indexOf(e)&&r.push(e)}));var a=[];r.forEach((function(e){var t=u.b[e];t&&t!==e&&a.push(t),a.push(e)}));var s=c.a.oneOf(a);return s._values=a,n.SIZES=r,n.propTypes=Object(o.a)({},i,{bsSize:s}),void 0!==t&&(n.defaultProps||(n.defaultProps={}),n.defaultProps.bsSize=t),n}));function g(e){var t,n=((t={})[f(e)]=!0,t);e.bsSize&&(n[f(e,u.b[e.bsSize]||e.bsSize)]=!0);return e.bsStyle&&(n[f(e,e.bsStyle)]=!0),n}function y(e){return{bsClass:e.bsClass,bsSize:e.bsSize,bsStyle:e.bsStyle,bsRole:e.bsRole}}function v(e){return"bsClass"===e||"bsSize"===e||"bsStyle"===e||"bsRole"===e}function b(e){var t={};return i()(e).forEach((function(e){var n=e[0],r=e[1];v(n)||(t[n]=r)})),[y(e),t]}function w(e,t){var n={};t.forEach((function(e){n[e]=!0}));var r={};return i()(e).forEach((function(e){var t=e[0],i=e[1];v(t)||n[t]||(r[t]=i)})),[y(e),r]}},function(e,t,n){var r=n(118),i=Object.prototype.hasOwnProperty,o=Array.prototype.splice,a=Object.prototype.toString,s=function(e){return a.call(e).slice(8,-1)},l=Object.assign||function(e,t){return c(t).forEach((function(n){i.call(t,n)&&(e[n]=t[n])})),e},c="function"==typeof Object.getOwnPropertySymbols?function(e){return Object.keys(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.keys(e)};function u(e){if(Array.isArray(e))return l(e.constructor(e.length),e);if("Map"===s(e))return new Map(e);if("Set"===s(e))return new Set(e);if(e&&"object"==typeof e){var t=Object.getPrototypeOf(e);return l(Object.create(t),e)}return e}function d(){var e=l({},f);return t.extend=function(t,n){e[t]=n},t.isEquals=function(e,t){return e===t},t;function t(n,o){"function"==typeof o&&(o={$apply:o}),Array.isArray(n)&&Array.isArray(o)||r(!Array.isArray(o),"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."),r("object"==typeof o&&null!==o,"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: %s.",Object.keys(e).join(", "));var a=n;return c(o).forEach((function(r){if(i.call(e,r)){var l=n===a;a=e[r](o[r],a,o,n),l&&t.isEquals(a,n)&&(a=n)}else{var c="Map"===s(n)?t(n.get(r),o[r]):t(n[r],o[r]),d="Map"===s(a)?a.get(r):a[r];t.isEquals(c,d)&&(void 0!==c||i.call(n,r))||(a===n&&(a=u(n)),"Map"===s(a)?a.set(r,c):a[r]=c)}})),a}}var f={$push:function(e,t,n){return m(t,n,"$push"),e.length?t.concat(e):t},$unshift:function(e,t,n){return m(t,n,"$unshift"),e.length?e.concat(t):t},$splice:function(e,t,n,i){return function(e,t){r(Array.isArray(e),"Expected $splice target to be an array; got %s",e),g(t.$splice)}(t,n),e.forEach((function(e){g(e),t===i&&e.length&&(t=u(i)),o.apply(t,e)})),t},$set:function(e,t,n){return function(e){r(1===Object.keys(e).length,"Cannot have more than one key in an object with $set")}(n),e},$toggle:function(e,t){h(e,"$toggle");var n=e.length?u(t):t;return e.forEach((function(e){n[e]=!t[e]})),n},$unset:function(e,t,n,r){return h(e,"$unset"),e.forEach((function(e){Object.hasOwnProperty.call(t,e)&&(t===r&&(t=u(r)),delete t[e])})),t},$add:function(e,t,n,r){return y(t,"$add"),h(e,"$add"),"Map"===s(t)?e.forEach((function(e){var n=e[0],i=e[1];t===r&&t.get(n)!==i&&(t=u(r)),t.set(n,i)})):e.forEach((function(e){t!==r||t.has(e)||(t=u(r)),t.add(e)})),t},$remove:function(e,t,n,r){return y(t,"$remove"),h(e,"$remove"),e.forEach((function(e){t===r&&t.has(e)&&(t=u(r)),t.delete(e)})),t},$merge:function(e,t,n,i){var o,a;return o=t,r((a=e)&&"object"==typeof a,"update(): $merge expects a spec of type 'object'; got %s",a),r(o&&"object"==typeof o,"update(): $merge expects a target of type 'object'; got %s",o),c(e).forEach((function(n){e[n]!==t[n]&&(t===i&&(t=u(i)),t[n]=e[n])})),t},$apply:function(e,t){var n;return r("function"==typeof(n=e),"update(): expected spec of $apply to be a function; got %s.",n),e(t)}},p=d();function m(e,t,n){r(Array.isArray(e),"update(): expected target of %s to be an array; got %s.",n,e),h(t[n],n)}function h(e,t){r(Array.isArray(e),"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",t,e)}function g(e){r(Array.isArray(e),"update(): expected spec of $splice to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",e)}function y(e,t){var n=s(e);r("Map"===n||"Set"===n,"update(): %s expects a target of type Set or Map; got %s",t,n)}e.exports=p,e.exports.default=p,e.exports.newContext=d},function(e,t,n){var r=n(418);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";n.r(t),n.d(t,"getActiveSearch",(function(){return C})),n.d(t,"sortItineraries",(function(){return M})),n.d(t,"getActiveFieldTripRequest",(function(){return N})),n.d(t,"getActiveItineraries",(function(){return j})),n.d(t,"createNoItinerariesErr",(function(){return L})),n.d(t,"sortItinerariesInPlaceIfNeeded",(function(){return R})),n.d(t,"getActiveItinerary",(function(){return D})),n.d(t,"getActiveLeg",(function(){return P})),n.d(t,"getISOLikeTimestamp",(function(){return B})),n.d(t,"getFeedWideRentalErrors",(function(){return F})),n.d(t,"getResponsesWithErrors",(function(){return U})),n.d(t,"getActiveError",(function(){return z})),n.d(t,"getErrorMessage",(function(){return V})),n.d(t,"getVisibleItineraryIndex",(function(){return G})),n.d(t,"getFilteredRoutes",(function(){return Z})),n.d(t,"getSortedFilteredRoutes",(function(){return X})),n.d(t,"getModesForActiveAgencyFilter",(function(){return J})),n.d(t,"getAgenciesFromRoutes",(function(){return q})),n.d(t,"getTransitiveData",(function(){return K})),n.d(t,"hasValidLocation",(function(){return $})),n.d(t,"queryIsValid",(function(){return ee})),n.d(t,"getRealtimeEffects",(function(){return te})),n.d(t,"getShowUserSettings",(function(){return ne})),n.d(t,"getUiUrlParams",(function(){return re})),n.d(t,"getRouteOperator",(function(){return ie})),n.d(t,"getOperatorName",(function(){return oe})),n.d(t,"getOperatorAndRoute",(function(){return ae})),n.d(t,"isValidSubsequence",(function(){return se}));var r=n(259);function i(e,t){return e===t}function o(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e(t[i],n[i]))return!1;return!0}function a(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}var s=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];var o=0,s=r.pop(),l=a(r),c=e.apply(void 0,[function(){return o++,s.apply(null,arguments)}].concat(n)),u=e((function(){for(var e=[],t=l.length,n=0;n<t;n++)e.push(l[n].apply(null,arguments));return c.apply(null,e)}));return u.resultFunc=s,u.dependencies=l,u.recomputations=function(){return o},u.resetRecomputations=function(){return o=0},u}}((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,n=null,r=null;return function(){return o(t,n,arguments)||(r=e.apply(null,arguments)),n=arguments,r}}));var l,c=n(43),u=n(69),d=n(6),f=n(295),p=n(7),m=n(123),h=n.n(m),g=n(56),y=n.n(g),v=n(0),b=n.n(v),w=n(1),x=n(204),E=n(184),_=n(72),A=n(32);function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var T,I,k=w.default.span(l||(T=["\n  text-transform: lowercase;\n"],I||(I=T.slice(0)),l=Object.freeze(Object.defineProperties(T,{raw:{value:Object.freeze(I)}}))));function C(e){return e.otp.searches[e.otp.activeSearchId]}function M(e,t,n,r,i){var o="ASC"===t?1:-1;switch(e){case"WALKTIME":return o*(n.walkTime-r.walkTime);case"ARRIVALTIME":return o*(n.endTime-r.endTime);case"DEPARTURETIME":return o*(n.startTime-r.startTime);case"DURATION":return o*(n.duration-r.duration);case"COST":return o*(n.totalFare-r.totalFare);default:return"BEST"!==e&&console.warn("Sort (".concat(e,") not supported. Defaulting to BEST.")),o*(n.rank-r.rank)}}var N=s((function(e){var t,n;return null===(t=e.callTaker)||void 0===t||null===(n=t.fieldTrip)||void 0===n?void 0:n.activeId}),(function(e){var t,n;return null===(t=e.callTaker)||void 0===t||null===(n=t.fieldTrip)||void 0===n?void 0:n.requests}),(function(e,t){if(e&&t)return t.data.find((function(t){return t.id===e}))})),j=s((function(e){return e.otp.config}),(function(e){var t=C(e);return t&&t.nonRealtimeResponse}),(function(e){var t=C(e);return t&&t.response}),(function(e,t,n){var r,i=n||t,o=Object(_.collectItinerariesWithoutDuplicates)(i).map((function(t){return Object(_.addSortingCosts)(t,e)}));return(null===(r=e.co2)||void 0===r?void 0:r.enabled)?Object(_.addCarbonInfoToAll)(o,e.co2):o})),L=function(e,t,n){var r=j(e);return t&&0===r.length&&!n&&(t.NO_TRANSIT_CONNECTION=new Set),t};function R(e,t){var n=t.otp,r=(n.config,n.filter.sort),i=r.direction,o=r.type;return!o||Boolean(N(t))?e:e.sort((function(e,t){return M(o,i,e,t)}))}function D(e){var t=C(e),n=j(e);return n&&t&&n.length>t.activeItinerary&&t.activeItinerary>=0?n[t.activeItinerary]:null}function P(e){var t,n=(C(e)||{}).activeLeg;if(null!=n){var r=D(e);return null==r||null===(t=r.legs)||void 0===t?void 0:t[n]}}function B(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();return Object(c.format)(t,"yyyy-MM-dd'T'HH:mm:ss",{timeZone:e})}function F(e){if(!e)return[];var t=e.bikeRentalInfo||e.carRentalInfo||e.vehicleRentalInfo;return t?Object.entries(t).filter((function(e){var t=O(e,2),n=(t[0],t[1]);return n.errors&&n.errors.some((function(e){return"FEED_WIDE"===e.severity}))})).map((function(e){var t=O(e,2);return{network:t[0],networkRentalInfo:t[1]}})):[]}function U(e){var t=C(e),n=[],r={},i=[],o=t?t.response:null;if(o){var a=o.length>1;o.forEach((function(e){if(e){if(e.error){var t,o=y.a.parse(e.url),s=(null===(t=e.requestParameters)||void 0===t?void 0:t.mode)||o.mode||"";i.push({id:e.error.id,modes:s.split(","),showModes:a,url:e.url})}F(e).forEach((function(e){var t=e.network;r[t]||(n.push({network:t}),r[t]=!0)}))}}))}return[].concat(n,i)}function z(e){var t=U(e);return t[t.length-1]}function V(e,t){if(!e)return null;var n;if(e.network)n=b.a.createElement(u.a,{id:"util.state.networkUnavailable",values:{network:e.network}});else if(404===e.id||400===e.id){var r=e.showModes&&e.modes.length>0?b.a.createElement(u.a,{id:"util.state.noTripFoundForMode",values:{modes:b.a.createElement(d.FormattedList,{type:"conjunction",value:e.modes.map((function(e){return b.a.createElement(k,{key:e},b.a.createElement(x.a,{mode:e}))}))})}}):b.a.createElement(u.a,{id:"util.state.noTripFound"});n=b.a.createElement(u.a,{id:"util.state.noTripFoundWithReason",values:{noTripFound:r,reason:b.a.createElement(u.a,{id:"util.state.noTripFoundReason",values:{strong:E.a}})}})}n=n||b.a.createElement(u.a,{id:"util.state.errorPlanningTrip"});var i="errorMessages.".concat(e.id,".msg"),o=t.formatMessage({id:i}),a="errorMessages.".concat(e.id,".modes"),s=t.formatMessage({id:a});if(o!==i)if(e.modes&&s!==a){for(var l=s.split(", "),c=0;c<l.length;c++)if(e.modes.includes(l[c])){n=o;break}}else n=o;return n}function G(e){var t;return null===(t=C(e))||void 0===t?void 0:t.visibleItinerary}var H=function(e){return Object.values(e.otp.transitIndex.routes)},W=function(e){return e.otp.ui.routeViewer.filter},Y=function(e,t){return t.filter((function(t){return t.name===e})).map((function(e){return e.agencyId}))},Q=function(e,t){var n=t.toLowerCase(),i=e.toLowerCase();return null==e.match(/^[0-9]+$/)&&Object(r.compareTwoStrings)(n,i)>.4||i.includes(n)},Z=s(H,W,(function(e){return e.otp.config.transitOperators}),(function(e,t,n){return e.filter((function(e){return(!t.agency||Y(t.agency,n).includes(e.agencyId)||t.agency===e.agencyName)&&(!t.mode||t.mode===e.mode)&&(!t.search||e.longName&&Q(e.longName,t.search)||e.desc&&Q(e.desc,t.search)||e.shortName&&Q(e.shortName,t.search))}))})),X=s(Z,(function(e){return e.otp.config.transitOperators}),(function(e,t){return e.sort(p.default.route.makeRouteComparator(t))})),J=s(H,W,(function(e){return e.otp.config.transitOperators}),(function(e,t,n){return Array.from(new Set(e.filter((function(e){return e.mode&&(!t.agency||Y(t.agency,n).includes(e.agencyId)||t.agency===e.agencyName)})).map((function(e){return e.mode})).filter((function(e){return void 0!==e})))).sort()})),q=s(H,(function(e){return Array.from(new Set(e.map((function(e){var t;return e.agencyName||(null==e||null===(t=e.agency)||void 0===t?void 0:t.name)})))).filter((function(e){return void 0!==e})).sort()})),K=s((function(e){var t=C(e);return!(!t||!t.response)}),(function(e){var t,n;return null===(t=C(e))||void 0===t||null===(n=t.response)||void 0===n?void 0:n.otp}),(function(e){var t,n,r=C(e);return(null==r||null===(t=r.response)||void 0===t?void 0:t.length)>0&&"ITINERARY"===(null==r||null===(n=r.query)||void 0===n?void 0:n.routingType)}),(function(e){var t=G(e),n=D(e);return j(e)[t]||n}),(function(e){return e.otp.config.companies}),(function(e){var t;return null===(t=e.otp.config.map.transitive)||void 0===t?void 0:t.disableFlexArc}),(function(e,t){return t.getTransitiveRouteLabel}),(function(e,t){return t.intl}),(function(e,t,n,r,i,o,a,s){if(e){if(n)return r?Object(f.b)(r,{companies:i,disableFlexArc:o,getRouteLabel:a,intl:s}):null;if(t)return t}}));function $(e,t){return e[t]&&e[t].lat&&e[t].lon}function ee(e){var t=e.otp.currentQuery;return $(t,"from")&&$(t,"to")}function te(e){var t=C(e),n=t&&t.response&&t.response.plan?t.response.plan.itineraries:null,r=t&&t.nonRealtimeResponse&&t.nonRealtimeResponse.plan,i=r?t.nonRealtimeResponse.plan.itineraries:null,o=!(!n||!r||n[0].duration===i[0].duration),a=o&&i?i[0].legs.filter((function(e){return!!e.route})).map((function(e){return e.route})):[],s=o&&n?n[0].legs.filter((function(e){return!!e.route})).map((function(e){return e.route})):[],l=o&&i?i[0].duration:0,c=o&&n?n[0].duration:0;return{exceedsThreshold:Math.abs(l-c)>=e.otp.config.realtimeEffectsDisplayThreshold,isAffectedByRealtimeData:o,normalDuration:l,normalRoutes:a,realtimeDuration:c,realtimeRoutes:s,routesDiffer:!h()(a,s)}}function ne(e){var t,n;return null===(t=e.otp.config)||void 0===t||null===(n=t.persistence)||void 0===n?void 0:n.enabled}function re(e){var t=C(e);return{ui_activeItinerary:Object(A.j)(null==t?void 0:t.activeItinerary)?null==t?void 0:t.activeItinerary:-1,ui_activeSearch:e.otp.activeSearchId}}function ie(e,t){return p.default.route.getTransitOperatorFromOtpRoute(e,t)||{}}function oe(e,t){var n=t.agency,r=t.agencyName;return(null==e?void 0:e.name)||(null==n?void 0:n.name)||r}function ae(e,t,n){var r=ie(e,t),i=e.longName,o=e.shortName,a=oe(r,e);return(a?"".concat(a," "):"")+n.formatMessage({id:"common.routing.routeAndNumber"},{routeId:o||i})}function se(e,t){for(var n=0,r=0;e[n]!==t[r]&&n<e.length;)n+=1;for(;e[n]===t[r]&&n<e.length&&r<t.length;)n+=1,r+=1;return r===t.length}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;function s(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"==typeof SuppressedError&&SuppressedError},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(332);function i(e,t,n){return(t=Object(r.a)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";n.d(t,"c",(function(){return h})),n.d(t,"e",(function(){return x})),n.d(t,"g",(function(){return _})),n.d(t,"a",(function(){return S})),n.d(t,"f",(function(){return T})),n.d(t,"h",(function(){return M})),n.d(t,"b",(function(){return j})),n.d(t,"d",(function(){return o})),n.d(t,"i",(function(){return a}));var r=n(0);const i=r.createContext(null),o=e=>{const[t,n]=Object(r.useState)({}),o=Object(r.useCallback)(((e,t="default")=>{n((n=>{if("current"===t)throw new Error("'current' cannot be used as map id");if(n[t])throw new Error(`Multiple maps with the same id: ${t}`);return{...n,[t]:e}}))}),[]),a=Object(r.useCallback)(((e="default")=>{n((t=>{if(t[e]){const n={...t};return delete n[e],n}return t}))}),[]);return r.createElement(i.Provider,{value:{maps:t,onMapMount:o,onMapUnmount:a}},e.children)};function a(){var e;const t=null===(e=Object(r.useContext)(i))||void 0===e?void 0:e.maps,n=Object(r.useContext)(f);return Object(r.useMemo)((()=>({...t,current:null==n?void 0:n.map})),[t,n])}var s=n(397);const l=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"];function c(e,t){if(!e)return null;const n=e.map,r={getMap:()=>n,getCenter:()=>e.transform.center,getZoom:()=>e.transform.zoom,getBearing:()=>e.transform.bearing,getPitch:()=>e.transform.pitch,getPadding:()=>e.transform.padding,getBounds:()=>e.transform.getBounds(),project:n=>e.transform.locationPoint(t.LngLat.convert(n)),unproject:n=>e.transform.pointLocation(t.Point.convert(n))};for(const e of function(e){const t=new Set;let n=e;for(;n;){for(const r of Object.getOwnPropertyNames(n))"_"!==r[0]&&"function"==typeof e[r]&&"fire"!==r&&"setEventedParent"!==r&&t.add(r);n=Object.getPrototypeOf(n)}return Array.from(t)}(n))e in r||l.includes(e)||(r[e]=n[e].bind(n));return r}var u="undefined"!=typeof document?r.useLayoutEffect:r.useEffect;const d=["baseApiUrl","maxParallelImageRequests","workerClass","workerCount","workerUrl"];const f=r.createContext(null),p={minZoom:0,maxZoom:22,minPitch:0,maxPitch:60,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,mapStyle:{version:8,sources:{},layers:[]},styleDiffing:!0,projection:"mercator",renderWorldCopies:!0,onError:e=>console.error(e.error),RTLTextPlugin:"https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js"},m=Object(r.forwardRef)(((e,t)=>{const o=Object(r.useContext)(i),[a,l]=Object(r.useState)(null),p=Object(r.useRef)(),{current:m}=Object(r.useRef)({mapLib:null,map:null});Object(r.useEffect)((()=>{const t=e.mapLib;let r,i=!0;return Promise.resolve(t||n.e(300).then(n.t.bind(null,1189,7))).then((t=>{if(i){if(t.Map||(t=t.default),!t||!t.Map)throw new Error("Invalid mapLib");if(!t.supported(e))throw new Error("Map is not supported by this browser");!function(e,t){for(const n of d)n in t&&(e[n]=t[n]);t.RTLTextPlugin&&e.getRTLTextPluginStatus&&"unavailable"===e.getRTLTextPluginStatus()&&e.setRTLTextPlugin(t.RTLTextPlugin,(e=>{e&&console.error(e)}),!1)}(t,e),e.reuseMaps&&(r=s.a.reuse(e,p.current)),r||(r=new s.a(t.Map,e,p.current)),m.map=c(r,t),m.mapLib=t,l(r),null==o||o.onMapMount(m.map,e.id)}})).catch((t=>{e.onError({type:"error",target:null,originalEvent:null,error:t})})),()=>{i=!1,r&&(null==o||o.onMapUnmount(e.id),e.reuseMaps?r.recycle():r.destroy())}}),[]),u((()=>{a&&a.setProps(e)})),Object(r.useImperativeHandle)(t,(()=>m.map),[a]);const h=Object(r.useMemo)((()=>({position:"relative",width:"100%",height:"100%",...e.style})),[e.style]);return r.createElement("div",{id:e.id,ref:p,style:h},a&&r.createElement(f.Provider,{value:m},e.children))}));m.displayName="Map",m.defaultProps=p;var h=m,g=n(50);const y=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function v(e,t){if(!e||!t)return;const n=e.style;for(const e in t){const r=t[e];Number.isFinite(r)&&!y.test(e)?n[e]=`${r}px`:n[e]=r}}var b=n(115);function w(e){const{map:t,mapLib:n}=Object(r.useContext)(f),i=Object(r.useRef)({props:e});i.current.props=e;const o=Object(r.useMemo)((()=>{let t=!1;r.Children.forEach(e.children,(e=>{e&&(t=!0)}));const a={...e,element:t?document.createElement("div"):null},s=new n.Marker(a).setLngLat([e.longitude,e.latitude]);return s.getElement().addEventListener("click",(e=>{var t,n;null===(n=(t=i.current.props).onClick)||void 0===n||n.call(t,{type:"click",target:s,originalEvent:e})})),s.on("dragstart",(e=>{var t,n;const r=e;r.lngLat=o.getLngLat(),null===(n=(t=i.current.props).onDragStart)||void 0===n||n.call(t,r)})),s.on("drag",(e=>{var t,n;const r=e;r.lngLat=o.getLngLat(),null===(n=(t=i.current.props).onDrag)||void 0===n||n.call(t,r)})),s.on("dragend",(e=>{var t,n;const r=e;r.lngLat=o.getLngLat(),null===(n=(t=i.current.props).onDragEnd)||void 0===n||n.call(t,r)})),s}),[]);return Object(r.useEffect)((()=>(o.addTo(t.getMap()),()=>{o.remove()})),[]),Object(r.useEffect)((()=>{v(o.getElement(),e.style)}),[e.style]),o.getLngLat().lng===e.longitude&&o.getLngLat().lat===e.latitude||o.setLngLat([e.longitude,e.latitude]),e.offset&&!Object(b.a)(o.getOffset(),e.offset)&&o.setOffset(e.offset),o.isDraggable()!==e.draggable&&o.setDraggable(e.draggable),o.getRotation()!==e.rotation&&o.setRotation(e.rotation),o.getRotationAlignment()!==e.rotationAlignment&&o.setRotationAlignment(e.rotationAlignment),o.getPitchAlignment()!==e.pitchAlignment&&o.setPitchAlignment(e.pitchAlignment),o.getPopup()!==e.popup&&o.setPopup(e.popup),Object(g.createPortal)(e.children,o.getElement())}w.defaultProps={draggable:!1,popup:null,rotation:0,rotationAlignment:"auto",pitchAlignment:"auto"};var x=r.memo(w);function E(e){return new Set(e?e.trim().split(/\s+/):[])}var _=r.memo((function(e){const{map:t,mapLib:n}=Object(r.useContext)(f),i=Object(r.useMemo)((()=>document.createElement("div")),[]),o=Object(r.useRef)({props:e});o.current.props=e;const a=Object(r.useMemo)((()=>{const t={...e},r=new n.Popup(t).setLngLat([e.longitude,e.latitude]);return r.once("open",(e=>{var t,n;null===(n=(t=o.current.props).onOpen)||void 0===n||n.call(t,e)})),r}),[]);if(Object(r.useEffect)((()=>{const e=e=>{var t,n;null===(n=(t=o.current.props).onClose)||void 0===n||n.call(t,e)};return a.on("close",e),a.setDOMContent(i).addTo(t.getMap()),()=>{a.off("close",e),a.isOpen()&&a.remove()}}),[]),Object(r.useEffect)((()=>{v(a.getElement(),e.style)}),[e.style]),a.isOpen()&&(a.getLngLat().lng===e.longitude&&a.getLngLat().lat===e.latitude||a.setLngLat([e.longitude,e.latitude]),e.offset&&!Object(b.b)(a.options.offset,e.offset)&&a.setOffset(e.offset),a.options.anchor===e.anchor&&a.options.maxWidth===e.maxWidth||(a.options.anchor=e.anchor,a.setMaxWidth(e.maxWidth)),a.options.className!==e.className)){const t=E(a.options.className),n=E(e.className);for(const e of t)n.has(e)||a.removeClassName(e);for(const e of n)t.has(e)||a.addClassName(e);a.options.className=e.className}return Object(g.createPortal)(e.children,i)}));function A(e,t,n){const i=Object(r.useContext)(f),o=Object(r.useMemo)((()=>e(i)),[]);return Object(r.useEffect)((()=>{var e;const{map:r}=i;return r.hasControl(o)||r.addControl(o,null===(e=n||t)||void 0===e?void 0:e.position),()=>{"function"==typeof t&&t(i),r.hasControl(o)&&r.removeControl(o)}}),[]),o}r.memo((function(e){const t=A((({mapLib:t})=>new t.AttributionControl(e)),{position:e.position});return Object(r.useEffect)((()=>{v(t._container,e.style)}),[e.style]),null}));r.memo((function(e){const t=A((({mapLib:t})=>new t.FullscreenControl({container:e.containerId&&document.getElementById(e.containerId)})),{position:e.position});return Object(r.useEffect)((()=>{v(t._controlContainer,e.style)}),[e.style]),null}));const O=Object(r.forwardRef)(((e,t)=>{const n=Object(r.useRef)({props:e}),i=A((({mapLib:t})=>{const r=new t.GeolocateControl(e),i=r._setupUI;return r._setupUI=e=>{r._container.hasChildNodes()||i(e)},r.on("geolocate",(e=>{var t,r;null===(r=(t=n.current.props).onGeolocate)||void 0===r||r.call(t,e)})),r.on("error",(e=>{var t,r;null===(r=(t=n.current.props).onError)||void 0===r||r.call(t,e)})),r.on("outofmaxbounds",(e=>{var t,r;null===(r=(t=n.current.props).onOutOfMaxBounds)||void 0===r||r.call(t,e)})),r.on("trackuserlocationstart",(e=>{var t,r;null===(r=(t=n.current.props).onTrackUserLocationStart)||void 0===r||r.call(t,e)})),r.on("trackuserlocationend",(e=>{var t,r;null===(r=(t=n.current.props).onTrackUserLocationEnd)||void 0===r||r.call(t,e)})),r}),{position:e.position});return n.current.props=e,Object(r.useImperativeHandle)(t,(()=>({trigger:()=>i.trigger()})),[]),Object(r.useEffect)((()=>{v(i._container,e.style)}),[e.style]),null}));O.displayName="GeolocateControl";var S=r.memo(O);var T=r.memo((function(e){const t=A((({mapLib:t})=>new t.NavigationControl(e)),{position:e.position});return Object(r.useEffect)((()=>{v(t._container,e.style)}),[e.style]),null}));function I(e){const t=A((({mapLib:t})=>new t.ScaleControl(e)),{position:e.position});return t.options.unit===e.unit&&t.options.maxWidth===e.maxWidth||(t.options.maxWidth=e.maxWidth,t.setUnit(e.unit)),Object(r.useEffect)((()=>{v(t._container,e.style)}),[e.style]),null}I.defaultProps={unit:"metric",maxWidth:100};r.memo(I);function k(e,t){if(!e)throw new Error(t)}let C=0;var M=function(e){const t=Object(r.useContext)(f).map.getMap(),n=Object(r.useRef)(e),[,i]=Object(r.useState)(0),o=Object(r.useMemo)((()=>e.id||"jsx-source-"+C++),[]);Object(r.useEffect)((()=>{if(t){const e=()=>i((e=>e+1));return t.on("styledata",e),e(),()=>{var n;if(t.off("styledata",e),t.style&&t.style._loaded&&t.getSource(o)){const e=null===(n=t.getStyle())||void 0===n?void 0:n.layers;if(e)for(const n of e)n.source===o&&t.removeLayer(n.id);t.removeSource(o)}}}}),[t]);let a=t&&t.style&&t.getSource(o);return a?function(e,t,n){k(t.id===n.id,"source id changed"),k(t.type===n.type,"source type changed");let r="",i=0;for(const e in t)"children"===e||"id"===e||Object(b.b)(n[e],t[e])||(r=e,i++);if(!i)return;const o=t.type;if("geojson"===o)e.setData(t.data);else if("image"===o)e.updateImage({url:t.url,coordinates:t.coordinates});else if("canvas"!==o&&"video"!==o||1!==i||"coordinates"!==r)if("vector"===o&&"setUrl"in e)switch(r){case"url":e.setUrl(t.url);break;case"tiles":e.setTiles(t.tiles)}else console.warn(`Unable to update <Source> prop: ${r}`);else e.setCoordinates(t.coordinates)}(a,e,n.current):a=function(e,t,n){if(e.style&&e.style._loaded){const r={...n};return delete r.id,delete r.children,e.addSource(t,r),e.getSource(t)}return null}(t,o,e),n.current=e,a&&r.Children.map(e.children,(e=>e&&Object(r.cloneElement)(e,{source:o})))||null};let N=0;var j=function(e){const t=Object(r.useContext)(f).map.getMap(),n=Object(r.useRef)(e),[,i]=Object(r.useState)(0),o=Object(r.useMemo)((()=>e.id||"jsx-layer-"+N++),[]);if(Object(r.useEffect)((()=>{if(t){const e=()=>i((e=>e+1));return t.on("styledata",e),e(),()=>{t.off("styledata",e),t.style&&t.style._loaded&&t.getLayer(o)&&t.removeLayer(o)}}}),[t]),t&&t.style&&t.getLayer(o))try{!function(e,t,n,r){if(k(n.id===r.id,"layer id changed"),k(n.type===r.type,"layer type changed"),"custom"===n.type||"custom"===r.type)return;const{layout:i={},paint:o={},filter:a,minzoom:s,maxzoom:l,beforeId:c}=n;if(c!==r.beforeId&&e.moveLayer(t,c),i!==r.layout){const n=r.layout||{};for(const r in i)Object(b.b)(i[r],n[r])||e.setLayoutProperty(t,r,i[r]);for(const r in n)i.hasOwnProperty(r)||e.setLayoutProperty(t,r,void 0)}if(o!==r.paint){const n=r.paint||{};for(const r in o)Object(b.b)(o[r],n[r])||e.setPaintProperty(t,r,o[r]);for(const r in n)o.hasOwnProperty(r)||e.setPaintProperty(t,r,void 0)}Object(b.b)(a,r.filter)||e.setFilter(t,a),s===r.minzoom&&l===r.maxzoom||e.setLayerZoomRange(t,s,l)}(t,o,e,n.current)}catch(e){console.warn(e)}else!function(e,t,n){if(e.style&&e.style._loaded&&(!("source"in n)||e.getSource(n.source))){const r={...n,id:t};delete r.beforeId,e.addLayer(r,n.beforeId)}}(t,o,e);return n.current=e,null}},function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return g}));var r,i,o,a=n(0),s=n.n(a),l=n(1),c=["Icon","icon"];function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function d(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var f=Object(l.keyframes)(r||(r=d(["\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n"]))),p=l.default.span(i||(i=d(["\n  animation: "," 1s linear\n    infinite;\n  display: ",";\n  svg {\n    font-size: ",";\n    height: 1em;\n    transform: ",";\n    width: 1em;\n  }\n"])),(function(e){return e.spin?f:"none"}),(function(e){return e.spin?"inline-block":"initial"}),(function(e){return function(e){switch(e){case"1.5x":return"1.5em";case"2x":return"2em";case"3x":return"3em";case"4x":return"4em";case"5x":return"5em";default:return"inherit"}}(e.size)}),(function(e){return"\n      ".concat(e.flipHorizontal?"scale(-1,1) ":"","\n      ").concat(e.rotate90?"rotate(90deg)":"","\n    ")})),m=Object(l.default)(p)(o||(o=d(["\n  svg {\n    margin: -0.125em 0;\n    vertical-align: baseline;\n  }\n  &:after {\n    margin: 0 0.125em;\n    content: '';\n  }\n"]))),h=function(e){var t=e.children,n=e.Icon,r=e.icon,i=e.size,o=e.spin,a=e.styleProps,l=void 0===a?{display:"contents"}:a;return s.a.createElement("div",{style:l},s.a.createElement(m,{size:i,spin:o},n&&s.a.createElement(n,null),r),s.a.createElement("span",null,t))},g=function(e){var t=e.Icon,n=e.icon,r=u(e,c);return s.a.createElement(p,r,t&&s.a.createElement(t,null),n)}},function(e,t,n){"use strict";n.d(t,"j",(function(){return T})),n.d(t,"u",(function(){return k})),n.d(t,"f",(function(){return C})),n.d(t,"e",(function(){return M})),n.d(t,"l",(function(){return R})),n.d(t,"k",(function(){return D})),n.d(t,"c",(function(){return P})),n.d(t,"d",(function(){return B})),n.d(t,"o",(function(){return F})),n.d(t,"q",(function(){return U})),n.d(t,"i",(function(){return z})),n.d(t,"n",(function(){return V})),n.d(t,"p",(function(){return G})),n.d(t,"b",(function(){return W})),n.d(t,"a",(function(){return Y})),n.d(t,"g",(function(){return Q})),n.d(t,"t",(function(){return Z})),n.d(t,"r",(function(){return X})),n.d(t,"h",(function(){return J})),n.d(t,"m",(function(){return K})),n.d(t,"s",(function(){return $}));var r=n(12),i=n(58),o=n(105),a=n(7),s=n(54),l=n(32),c=n(16),u=n(46),d=n(88),f=n(193),p=n(25),m=n(27),h=n(119),g=n(41),y=n(228);function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){w(o,r,i,a,s,"next",e)}function s(e){w(o,r,i,a,s,"throw",e)}a(void 0)}))}}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=Object(r.a)("UPDATE_LOCALE"),S=Object(r.a)("SET_MAIN_PANEL_CONTENT"),T=Object(r.a)("SET_MOBILE_SCREEN"),I=(Object(r.a)("CLEAR_MAIN_PANEL"),Object(r.a)("SET_VIEWED_STOP")),k=Object(r.a)("SET_NEARBY_COORDS"),C=Object(r.a)("SET_HOVERED_STOP"),M=Object(r.a)("SET_HIGHLIGHTED_LOCATION"),N=Object(r.a)("SET_VIEWED_TRIP"),j=Object(r.a)("SET_VIEWED_ROUTE"),L=(Object(r.a)("TOGGLE_AUTO_REFRESH"),Object(r.a)("SET_ITINERARY_VIEW")),R=Object(r.a)("SET_POPUP_CONTENT"),D=Object(r.a)("SET_NETWORK_CONNECTION_LOST"),P=Object(r.a)("RESET_SESSION_TIMEOUT");function B(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.d;return function(r,i){var o=i().router,a=o?o.location.search:window.location.search,s=e;s=t||""===t?"".concat(s).concat(t):"".concat(s).concat(a),r(n(s))}}function F(e){return function(t,n){var r=n().otp.ui.viewedRoute;(!r||(null==e?void 0:e.routeId)!==r.routeId||(null==e?void 0:e.patternId)!==r.patternId&&((null==e?void 0:e.patternId)||r.patternId))&&(t(j(e)),t(B(Object(l.h)("route",null==e?void 0:e.routeId,(null==e?void 0:e.patternId)&&"pattern",null==e?void 0:e.patternId))))}}function U(e){return function(t,n){var r=n().otp.ui.viewedTrip;(t(N(_(_({},r),e))),null==e?void 0:e.tripId)&&t(B(Object(l.h)("trip",e.tripId)))}}function z(e){return function(t,n){var r=n(),i=r.otp,o=r.router;if(i.ui.mainPanelContent!==e||!e&&"/"!==o.location.pathname)switch(t(S(e)),e){case m.a.ROUTE_VIEWER:t(B("/route"));break;case m.a.NEARBY_VIEW:t(B("/nearby")),t(k(null));break;case m.a.STOP_VIEWER:t(B("/stop"));break;case m.a.TRIP_VIEWER:case m.a.PATTERN_VIEWER:break;default:t(j(null)),t(I(null)),t(N(null)),"/"!==o.location.pathname&&t(B("/"))}else console.warn("Attempt to route from ".concat(i.ui.mainPanelContent," to ").concat(e,". Doing nothing"))}}function V(e){return function(t,n){var r=n().router.location.search;if(e){t(k(e));var i=Object(l.h)("nearby",[e.lat,e.lon].join(",")),o=""!==r?"".concat(r,"&entityId=").concat(e.gtfsId||e.id):"?entityId=".concat(e.gtfsId||e.id);t(B(i,e.gtfsId||e.id?o:void 0))}}}function G(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"nearby";return function(n,r){e&&("nearby"===t?(null==e?void 0:e.lat)&&(null==e?void 0:e.lon)?n(V(e)):n(Object(f.b)(null==e?void 0:e.stopId)):(n(I(e)),n(B(Object(l.h)("schedule",null==e?void 0:e.stopId)))))}}function H(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return e.split(t).map((function(e){return isNaN(e)?e:Number(e)}))}function W(e,t){return function(){var n=x(regeneratorRuntime.mark((function n(r,o){var a,s,l,c,u,d,h,b,w,x,E,_,A,O,S,T,I,k,C,M,N,j;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:s=t.pathname.split("/")[1],l=Object(i.g)(t.pathname,{exact:!1,path:"/".concat(s,"/:id"),strict:!1}),c=null==l||null===(a=l.params)||void 0===a?void 0:a.id,u="nearby"===s&&c?H(c):[],d=v(u,2),h=d[0],b=d[1],n.t0=s,n.next="route"===n.t0?7:"schedule"===n.t0?21:"stop"===n.t0?23:"nearby"===n.t0?25:"trip"===n.t0?27:"start"===n.t0||"@"===n.t0?30:37;break;case 7:if(r(G(null)),!c){n.next=18;break}return n.next=11,r(Object(p.r)());case 11:r(Object(p.o)({routeId:c})),x=Object(i.g)(t.pathname,{exact:!0,path:"/".concat(s,"/:id/pattern/:patternId"),strict:!1}),E=null==x||null===(w=x.params)||void 0===w?void 0:w.patternId,r(F({patternId:E,routeId:c})),r(z(E?m.a.PATTERN_VIEWER:m.a.ROUTE_VIEWER)),n.next=20;break;case 18:r(F(null)),r(z(m.a.ROUTE_VIEWER));case 20:return n.abrupt("break",39);case 21:return c?r(G({stopId:c},"stop")):(r(G(null)),r(z(m.a.STOP_VIEWER))),n.abrupt("break",39);case 23:return c&&(r(Object(f.b)(c)),r(z(m.a.NEARBY_VIEW))),n.abrupt("break",39);case 25:return h&&b?r(V({lat:h,lon:b})):(_=o().otp.currentQuery,A=_.from,O=_.to,A?r(V(A)):O&&r(V(O)),r(z(m.a.NEARBY_VIEW))),n.abrupt("break",39);case 27:return r(G(null)),c?(r(U({tripId:c})),r(z(m.a.TRIP_VIEWER))):(r(U(null)),r(z(null))),n.abrupt("break",39);case 30:return S=c?H(c):[],T=v(S,4),I=T[0],k=T[1],C=T[2],M=T[3],I&&k||(N=H(t.pathname,"/"),j=v(N,6),I=j[2],k=j[3],C=j[4],M=j[5]),console.log(I,k,C,M),+I&&+k&&r(Object(g.g)(e,{lat:I,lon:k})),M&&r(Object(y.a)(M)),r(z(null)),n.abrupt("break",39);case 37:return r(z(null)),n.abrupt("break",39);case 39:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}function Y(e){return function(e,t){var n=t(),r=n.otp.activeSearchId,i=Object(c.getUiUrlParams)(n),o=a.default.query.getUrlParams(),s=o.ui_activeSearch,d=Object(l.j)(o.ui_activeItinerary)?o.ui_activeItinerary:-1;n.otp.searches[s]?r&&r!==s?e(Object(u.g)(s)):Object(l.k)(i.ui_activeItinerary,d)&&e(Object(h.a)({index:d})):!s&&r?(e(Object(u.a)()),e(Object(u.c)({type:"from"})),e(Object(u.c)({type:"to"}))):s&&(console.warn("No search found in state history for search ID: ".concat(s,". Replanning...")),e(Object(u.e)(o)))}}function Q(e){return function(t,n){if(a.default.ui.isMobile()){var r=a.default.query.getUrlParams();e!==Object(l.f)(r)&&(r.ui_itineraryView=e,t(Object(p.T)(r)),t(L(e)))}else t(L(e))}}function Z(){return function(e,t){var n=a.default.query.getUrlParams(),r=Object(l.f)(n);e(Q(Object(l.g)(r)))}}function X(){return function(e,t){e(Q(l.a.LIST)),e(Object(u.a)()),e(T(m.b.SEARCH_FORM))}}function J(e){return function(){var t=x(regeneratorRuntime.mark((function t(n,r){var i,o,a,l,c,u,f,p,m,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=r(),o=i.otp,a=i.user,l=o.config,c=o.ui,u=a.loggedInUser,f=l.language,p=Object(s.a)(f),(m=Object(s.f)(e||Object(s.b)(l,u),"en-US",p))===c.locale){t.next=14;break}return t.next=9,Object(s.h)(m,f,p);case 9:h=t.sent,n(O({locale:m,messages:h})),document.documentElement.lang=m,window.localStorage.setItem("lang",m),u&&(u.preferredLocale=m,n(Object(d.e)(u)));case 14:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}var q=Object(r.a)("UPDATE_ROUTE_VIEWER_FILTER");function K(e){return function(){var t=x(regeneratorRuntime.mark((function t(n,r){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(q(e)),i=r().otp.ui.routeViewer.filter.mode,e.agency&&i&&!Object(c.getModesForActiveAgencyFilter)(r()).includes(i.toUpperCase())&&n(q({mode:null}));case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}function $(){return function(e,t){var n=t().otp.initialUrl;window.location.href=n}}},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},function(e,t,n){var r=n(649),i=n(650),o=n(420),a=n(651);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(313),i=n.n(r);function o(){return(o=i.a||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}},function(e,t,n){"use strict";n.d(t,"P",(function(){return I})),n.d(t,"Q",(function(){return k})),n.d(t,"N",(function(){return C})),n.d(t,"S",(function(){return M})),n.d(t,"R",(function(){return N})),n.d(t,"U",(function(){return j})),n.d(t,"M",(function(){return L})),n.d(t,"D",(function(){return R})),n.d(t,"T",(function(){return B})),n.d(t,"V",(function(){return F})),n.d(t,"O",(function(){return U})),n.d(t,"a",(function(){return H})),n.d(t,"d",(function(){return W})),n.d(t,"H",(function(){return Q})),n.d(t,"b",(function(){return J})),n.d(t,"c",(function(){return $})),n.d(t,"W",(function(){return ne})),n.d(t,"g",(function(){return re})),n.d(t,"f",(function(){return ie})),n.d(t,"e",(function(){return oe})),n.d(t,"C",(function(){return ae})),n.d(t,"B",(function(){return se})),n.d(t,"A",(function(){return le})),n.d(t,"y",(function(){return de})),n.d(t,"w",(function(){return me})),n.d(t,"j",(function(){return ye})),n.d(t,"h",(function(){return ve})),n.d(t,"v",(function(){return be})),n.d(t,"u",(function(){return we})),n.d(t,"t",(function(){return xe})),n.d(t,"s",(function(){return _e})),n.d(t,"q",(function(){return Ae})),n.d(t,"r",(function(){return Oe})),n.d(t,"m",(function(){return Se})),n.d(t,"l",(function(){return Te})),n.d(t,"p",(function(){return ke})),n.d(t,"n",(function(){return Ce})),n.d(t,"o",(function(){return Me})),n.d(t,"i",(function(){return Le})),n.d(t,"x",(function(){return Pe})),n.d(t,"E",(function(){return Ue})),n.d(t,"F",(function(){return Ge})),n.d(t,"J",(function(){return He})),n.d(t,"I",(function(){return We})),n.d(t,"k",(function(){return Ye})),n.d(t,"z",(function(){return Xe})),n.d(t,"K",(function(){return Je})),n.d(t,"L",(function(){return qe})),n.d(t,"G",(function(){return Ke}));var r=n(105),i=n(309),o=n.n(i),a=n(506),s=n.n(a),l=n(12),c=n(7),u=n(56),d=n.n(u),f=n(91),p=n(38),m=n(116),h=n(27),g=n(21);"undefined"==typeof jest&&n(98);var y=function(e){return W("index/routes/".concat(e.routeId,"/patterns?includeGeometry=true"),Se,Te,{noThrottle:!0,postprocess:function(t,n){t.forEach((function(t){t.geometry||n(Le({patternId:t.id,routeId:e.routeId})),n(Pe({patternId:t.id,routeId:e.routeId}))}))},rewritePayload:function(t){var n={};return t.forEach((function(e){n[e.id]=e})),{patterns:n,routeId:e.routeId}}})};var v={findPatternsForRoute:y,findRoute:function(e){return W("index/routes/".concat(e.routeId),ke,Ce,{noThrottle:!0,postprocess:function(t,n){n(y({routeId:e.routeId})),n(Object(g.p)(null))}})},findRoutes:function(){return W("index/routes",_e,Ae,{postprocess:function(e,t){t(Object(g.p)(null))},rewritePayload:function(e){var t={};return e.forEach((function(e){t[e.id]=e})),t},serviceId:"routes"})},findStopTimesForStop:function(e){return function(e,t){console.warn("OTP1 is not supported.")}},findTrip:function(e){return W("index/trips/".concat(e.tripId),ae,se,{noThrottle:!0,postprocess:function(t,n){n(de({tripId:e.tripId})),n(me({tripId:e.tripId})),n(ye({tripId:e.tripId}))}})},getVehiclePositionsForRoute:function(e){return W("index/routes/".concat(e,"/vehicles"),Je,qe,{noThrottle:!0,rewritePayload:function(t){return{routeId:e,vehicles:t}}})},routingQuery:function(){return function(e,t){console.warn("OTP1 is not supported.")}},vehicleRentalQuery:function(e,t,n,r){var i=d.a.stringify(e);return W("vehicle_rental".concat(i?"?".concat(i):""),t,n,r)}},b=n(193);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){_(o,r,i,a,s,"next",e)}function s(e){_(o,r,i,a,s,"throw",e)}a(void 0)}))}}"undefined"==typeof fetch&&n(280);var O=c.default.query,S=O.getRoutingParams,T=O.getUrlParams,I=(Object(l.a)("NON_REALTIME_ROUTING_RESPONSE"),Object(l.a)("ROUTING_REQUEST")),k=Object(l.a)("ROUTING_RESPONSE"),C=Object(l.a)("ROUTING_ERROR"),M=Object(l.a)("SET_PENDING_REQUESTS"),N=Object(l.a)("SET_ACTIVE_ITINERARIES"),j=Object(l.a)("TOGGLE_TRACKING"),L=Object(l.a)("REMEMBER_SEARCH"),R=Object(l.a)("FORGET_SEARCH");function D(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(t,r){var i=r().otp.config.api;return t((null==i?void 0:i.v2)?b.a[e].apply(b.a,n):v[e].apply(v,n))}}function P(e){var t,n,r,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=e.otp.config,a=o.api,s=o.persistence;if(s&&s.otp_middleware){var l=s.otp_middleware;t=l.apiBaseUrl,n=l.apiKey}var c=t===a.host;if(c){if(i&&e.user){var u=e.user,d=u.accessToken,f=u.loggedInUser;d&&f&&(r=d)}return Object(m.a)(r,n)}return{}}function B(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,i){var o=window.location.pathname,a="".concat(o,"?").concat(Object(f.b)(e));n(t?Object(r.e)(a):Object(r.d)(a))}}function F(e,t){var n=e.otp,r=n.config,i=n.currentQuery,o=S(r,i,!0);return delete o.ignoreRealtimeUpdates,o.numItineraries===Object(f.d)(r)&&delete o.numItineraries,function(e,n){var r={},i=T();Object.keys(i).filter((function(e){return-1!==e.indexOf("_")||"sessionId"===e})).forEach((function(e){r[e]=i[e]})),r.ui_activeSearch=t,r.ui_activeItinerary=void 0,r.ui_itineraryView=void 0,e(B(Object.assign(r,o)))}}function U(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return D("routingQuery",e,t)}var z={};function V(){return(new Date).getTime()}function G(e,t){var n=t?"".concat(e,"-").concat(o()(t)):e;return z[n]&&z[n]>V()-1e4?(console.warn("Request throttled for url: ".concat(e)),null):(z[n]=V(),z[n])}function H(e){var t=e.api;return"".concat(null==t?void 0:t.host).concat((null==t?void 0:t.port)?":"+t.port:"")}function W(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(){var i=A(regeneratorRuntime.mark((function i(o,a){var s,l,c,u,f,p,m,h,g,y,v,b,w,E,_,A;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(l=a(),c=l.otp.config,r.appendBounds&&(p=null==c||null===(u=c.geocoder)||void 0===u||null===(f=u.boundary)||void 0===f?void 0:f.rect)&&(m="&"+d.a.stringify(p),e+=m),h=c.api,g=(null==r?void 0:r.url)?"".concat(H(c)).concat(null!==(s=null==h?void 0:h.basePath)&&void 0!==s?s:"/otp").concat(r.url):"".concat(H(c)).concat(null==h?void 0:h.path,"/").concat(e),r.noThrottle){i.next=8;break}if(G(g,r.fetchOptions)){i.next=8;break}return i.abrupt("return");case 8:return i.prev=8,w=x(x({},null===(v=P(l,!0))||void 0===v?void 0:v.headers),null===(b=r.fetchOptions)||void 0===b?void 0:b.headers),i.next=12,fetch(g,x(x(x({},P(l)),r.fetchOptions),{},{headers:w}));case 12:if(!((E=i.sent).status>=400)){i.next=17;break}throw(_=new Error("Received error from server")).response=E,_;case 17:return i.next=19,E.json();case 19:y=i.sent,i.next=25;break;case 22:return i.prev=22,i.t0=i.catch(8),i.abrupt("return",o(n(i.t0)));case 25:i.prev=25,A="function"==typeof r.rewritePayload?r.rewritePayload(y,o,a):y,o(t(A)),i.next=33;break;case 30:return i.prev=30,i.t1=i.catch(25),i.abrupt("return",o(n(i.t1)));case 33:"function"==typeof r.postprocess&&r.postprocess(y,o,a);case 34:case"end":return i.stop()}}),i,null,[[8,22],[25,30]])})));return function(e,t){return i.apply(this,arguments)}}()}window.setInterval((function(){Object.keys(z).forEach((function(e){z[e]<V()-1e4&&delete z[e]}))}),1e3);Object(l.a)("PARK_AND_RIDE_ERROR");var Y=Object(l.a)("PARK_AND_RIDE_RESPONSE");function Q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Y,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Y,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i="park_and_ride";return e&&Object.keys(e).length>0&&(i+="?"+d.a.stringify(e)),W(i,t,n,r)}var Z=Object(l.a)("BIKE_RENTAL_ERROR"),X=Object(l.a)("BIKE_RENTAL_RESPONSE");function J(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:X,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Z,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=d.a.stringify(e),o="bike_rental".concat(i?"?".concat(i):"");return W(o,t,n,r)}var q=Object(l.a)("CAR_RENTAL_RESPONSE"),K=Object(l.a)("CAR_RENTAL_ERROR");function $(e){return W("car_rental",q,K)}var ee=Object(l.a)("VEHICLE_RENTAL_RESPONSE"),te=Object(l.a)("VEHICLE_RENTAL_ERROR");function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ee,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:te,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return D("vehicleRentalQuery",e,t,n,r)}var re=Object(l.a)("FETCH_NEARBY_RESPONSE"),ie=Object(l.a)("FETCH_NEARBY_ERROR");function oe(e,t,n){return D("fetchNearby",e,t,n)}var ae=Object(l.a)("FIND_TRIP_RESPONSE"),se=Object(l.a)("FIND_TRIP_ERROR");function le(e){return D("findTrip",e)}var ce=Object(l.a)("FIND_STOPS_FOR_TRIP_RESPONSE"),ue=Object(l.a)("FIND_STOPS_FOR_TRIP_ERROR");function de(e){return W("index/trips/".concat(e.tripId,"/stops"),ce,ue,{noThrottle:!0,rewritePayload:function(t){return{stops:t,tripId:e.tripId}}})}var fe=Object(l.a)("FIND_STOP_TIMES_FOR_TRIP_RESPONSE"),pe=Object(l.a)("FIND_STOP_TIMES_FOR_TRIP_ERROR");function me(e){return W("index/trips/".concat(e.tripId,"/stoptimes"),fe,pe,{noThrottle:!0,rewritePayload:function(t){return{stopTimes:t,tripId:e.tripId}}})}var he=Object(l.a)("FIND_GEOMETRY_FOR_TRIP_RESPONSE"),ge=Object(l.a)("FIND_GEOMETRY_FOR_TRIP_ERROR");function ye(e){var t=e.tripId;return W("index/trips/".concat(t,"/geometry"),he,ge,{noThrottle:!0,rewritePayload:function(e){return{geometry:e,tripId:t}}})}var ve=Object(l.a)("FETCHING_STOP_TIMES_FOR_STOP"),be=Object(l.a)("FIND_STOP_TIMES_FOR_STOP_RESPONSE"),we=Object(l.a)("FIND_STOP_TIMES_FOR_STOP_ERROR");function xe(e){return D("findStopTimesForStop",e)}var Ee=Object(l.a)("FINDING_ROUTES"),_e=Object(l.a)("FIND_ROUTES_RESPONSE"),Ae=Object(l.a)("FIND_ROUTES_ERROR");function Oe(e){return function(t,n){n().otp.transitIndex.routesFetchStatus===p.k.UNFETCHED&&n().otp.ui.mainPanelContent!==h.a.PATTERN_VIEWER&&(t(Ee()),t(D("findRoutes",e)))}}var Se=Object(l.a)("FIND_PATTERNS_FOR_ROUTE_RESPONSE"),Te=Object(l.a)("FIND_PATTERNS_FOR_ROUTE_ERROR"),Ie=Object(l.a)("FINDING_ROUTE"),ke=Object(l.a)("FIND_ROUTE_RESPONSE"),Ce=Object(l.a)("FIND_ROUTE_ERROR");function Me(e){return function(t,n){var r=e.routeId;if(r){var i=n().otp.transitIndex.routes[r];(null==i?void 0:i.patterns)||(null==i?void 0:i.pending)||(t(Ie(r)),t(D("findRoute",e)))}}}var Ne=Object(l.a)("FIND_GEOMETRY_FOR_PATTERN_RESPONSE"),je=Object(l.a)("FIND_GEOMETRY_FOR_PATTERN_ERROR");function Le(e){return W("index/patterns/".concat(e.patternId,"/geometry"),Ne,je,{noThrottle:!0,rewritePayload:function(t){return{geometry:t,patternId:e.patternId,routeId:e.routeId}}})}var Re=Object(l.a)("FIND_STOPS_FOR_PATTERN_RESPONSE"),De=Object(l.a)("FIND_STOPS_FOR_PATTERN_ERROR");function Pe(e){return W("index/patterns/".concat(e.patternId,"/stops"),Re,De,{noThrottle:!0,rewritePayload:function(t){return{patternId:e.patternId,routeId:e.routeId,stops:t}}})}var Be=Object(l.a)("TNC_ETA_RESPONSE"),Fe=Object(l.a)("TNC_ETA_ERROR");function Ue(e){var t=e.companies,n=e.from;return W("transportation_network_company/eta_estimate?".concat(d.a.stringify({companies:t,from:n})),Be,Fe,{rewritePayload:function(e){return{estimates:e.estimates,from:n}}})}var ze=Object(l.a)("TNC_RIDE_RESPONSE"),Ve=Object(l.a)("TNC_RIDE_ERROR");function Ge(e){var t=e.company,n=e.from,r=e.rideType,i=e.to;return W("transportation_network_company/ride_estimate?".concat(d.a.stringify({company:t,from:n,rideType:r,to:i})),ze,Ve,{rewritePayload:function(e){return{company:t,from:n,rideEstimate:e.rideEstimate,to:i}}})}var He=Object(l.a)("NEARBY_STOPS_RESPONSE"),We=Object(l.a)("NEARBY_STOPS_ERROR");function Ye(e,t){return W("index/stops?".concat(d.a.stringify(x({radius:1e3},e))),He,We,{noThrottle:!0,postprocess:function(t,n,r){e.max&&t.length>e.max&&(t=t.slice(0,e.max))},rewritePayload:function(n){return n&&(n.forEach((function(t){t.distance=s()({latitude:e.lat,longitude:e.lon},{latitude:t.lat,longitude:t.lon})})),n.sort((function(e,t){return e.distance-t.distance})),e.max&&n.length>e.max&&(n=n.slice(0,e.max))),{focusStopId:t,stops:n}},serviceId:"stops"})}var Qe=Object(l.a)("STOPS_WITHIN_BBOX_RESPONSE"),Ze=Object(l.a)("STOPS_WITHIN_BBOX_ERROR");function Xe(e){return W("index/stops?".concat(d.a.stringify(e)),Qe,Ze,{appendBounds:!0,noThrottle:!0,rewritePayload:function(e){return{stops:e}},serviceId:"stops"})}Object(l.a)("CLEAR_STOPS_OVERLAY");var Je=Object(l.a)("REALTIME_VEHICLE_POSITIONS_RESPONSE"),qe=Object(l.a)("REALTIME_VEHICLE_POSITIONS_ERROR");function Ke(e){return D("getVehiclePositionsForRoute",e)}},function(e,t,n){"use strict";n.d(t,"h",(function(){return c})),n.d(t,"i",(function(){return u})),n.d(t,"j",(function(){return s})),n.d(t,"k",(function(){return l})),n.d(t,"g",(function(){return a})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return g})),n.d(t,"f",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"a",(function(){return p}));var r=n(89),i=n(172),o=n.n(i),a=r.c.blue,s=r.c.grey,l=r.c.red,c=function(){return getComputedStyle(document.documentElement).getPropertyValue("--main-base-color")},u=function(){return o()(c()).darken(10)},d=l[800],f=s[700],p=a[800],m="#333",h=s[800],g=a[400]},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r={NEARBY_VIEW:3,PATTERN_VIEWER:12,ROUTE_VIEWER:1,STOP_VIEWER:2,TRIP_VIEWER:9},i={RESULTS_SUMMARY:8,SEARCH_FORM:3,SET_DATETIME:7,SET_FROM_LOCATION:4,SET_INITIAL_LOCATION:2,SET_OPTIONS:6,SET_TO_LOCATION:5,WELCOME_SCREEN:1}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(511),i=n.n(r),o=n(512),a=n.n(o);function s(e,t){return(s=a.a||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){e.prototype=i()(t.prototype),e.prototype.constructor=e,s(e,t)}},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=a(e,o(n)))}return e}function o(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)n.call(e,r)&&e[r]&&(t=a(t,r));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(332);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Object(r.a)(i.key),i)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){return!(e&&e.length)}function i(){return window.location.hash.substr(1)}n.d(t,"i",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"l",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"h",(function(){return u})),n.d(t,"a",(function(){return s})),n.d(t,"j",(function(){return d})),n.d(t,"k",(function(){return f})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return m}));var o={returnTo:i};function a(e){var t=e.errors,n=e.submitCount,r=e.touched,i={};return Object.keys(t).forEach((function(e){i[e]=(n>0||r[e])&&t[e]?"error":null})),i}var s,l=function(){return window.history.back()};function c(e){return e.charAt(0).toUpperCase()+e.slice(1)}function u(){for(var e="",t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){t&&(e+="/".concat(t))})),e}function d(e){return null!=e}function f(e,t){return d(e)&&"".concat(e)!=="".concat(t)}function p(e){var t=e.ui_activeItinerary,n=e.ui_itineraryView;return(null==t||"-1"==="".concat(t))&&(n===s.LIST_HIDDEN?s.LIST_HIDDEN:s.LIST)||n||f(t,-1)&&s.FULL||s.LIST}function m(e){switch(e){case s.LEG:return s.LEG_HIDDEN;case s.LIST:return s.LIST_HIDDEN;case s.LEG_HIDDEN:return s.LEG;default:return s.LIST}}!function(e){e.FULL="full",e.LEG="leg",e.LEG_HIDDEN="leg-hidden",e.LIST="list",e.LIST_HIDDEN="list-hidden"}(s||(s={}))},function(e,t,n){var r=n(544),i=n(545),o=n(420),a=n(546);e.exports=function(e){return r(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(305);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Object(r.a)(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return f})),n.d(t,"k",(function(){return p})),n.d(t,"m",(function(){return m})),n.d(t,"n",(function(){return h})),n.d(t,"l",(function(){return g})),n.d(t,"q",(function(){return y})),n.d(t,"r",(function(){return v})),n.d(t,"o",(function(){return b})),n.d(t,"p",(function(){return w}));var r=7,i=365.2425,o=24*Math.pow(10,8)*60*60*1e3,a=6e4,s=36e5,l=1e3,c=-o,u=60,d=3,f=12,p=4,m=3600,h=60,g=24*m,y=7*g,v=g*i,b=v/12,w=3*b},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(510),i=n.n(r);function o(e,t){if(null==e)return{};var n,r,o={},a=i()(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"j",(function(){return o})),n.d(t,"m",(function(){return a})),n.d(t,"n",(function(){return s})),n.d(t,"k",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"s",(function(){return d})),n.d(t,"o",(function(){return f})),n.d(t,"l",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"g",(function(){return h})),n.d(t,"h",(function(){return g})),n.d(t,"f",(function(){return y})),n.d(t,"i",(function(){return v})),n.d(t,"p",(function(){return b})),n.d(t,"q",(function(){return w})),n.d(t,"t",(function(){return x})),n.d(t,"r",(function(){return E}));var r="https://otp-middleware",i="otp-user",o="OpenTripPlanner",a="localStorage",s="otp_middleware",l={ERROR:-1,FETCHED:2,FETCHING:1,UNFETCHED:0},c="/account",u="".concat(c,"/settings"),d="".concat(c,"/trips"),f="".concat(c,"/places"),p="".concat(c,"/mobilityProfile"),m="".concat(c,"/create"),h="".concat(m,"/terms"),g="".concat(m,"/verify"),y="".concat(m,"/places"),v="".concat(d,"/new"),b="/terms-of-service",w="/terms-of-storage",x="/previewtrip",E=["FETCHING_STOP_TIMES_FOR_STOP","FIND_STOP_TIMES_FOR_STOP_RESPONSE"]},function(e,t,n){"use strict";function r(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}n.d(t,"a",(function(){return r}))},function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";n.d(t,"j",(function(){return a})),n.d(t,"g",(function(){return s})),n.d(t,"k",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return f})),n.d(t,"i",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"h",(function(){return g})),n.d(t,"a",(function(){return y}));var r=n(12),i=n(7),o=n(170),a=Object(r.a)("SET_LOCATION");function s(e,t){return function(){var n=t.lat,r=t.lon;if(e&&!isNaN(n)&&!isNaN(r)){var i=[r,n];e.panTo(i,{speed:.8})}}}function l(e,t,n){return function(){t&&void 0!==t.lat&&void 0!==t.lon&&e&&e.flyTo({center:[t.lon,t.lat],zoom:n||17})}}function c(e){return function(t,n){var r=n();(null==e?void 0:e.reverseGeocode)?Object(o.a)(r.otp.config.geocoder).reverse({point:e.location}).then((function(n){t(a({location:n,locationType:e.locationType}))})).catch((function(n){t(a({location:e.location,locationType:e.locationType})),console.warn(n)})):t(a(e))}}function u(e,t){return function(n,r){var i=r().otp.location.currentPosition;!i.error&&i.coords&&(e.location={category:"CURRENT_LOCATION",lat:i.coords.latitude,lon:i.coords.longitude,name:t.formatMessage({id:"actions.map.currentLocation"})},n(a(e)))}}function d(e,t){var n=t.location,r=t.locationType,i=t.resultType;return function(t,o){t("CURRENT_LOCATION"===i?u({locationType:r},e):c({location:n,locationType:r}))}}var f=Object(r.a)("SET_LEG_DIAGRAM"),p=Object(r.a)("SET_MAPILLARY_ID"),m=Object(r.a)("SET_ELEVATION_POINT"),h=Object(r.a)("SET_MAP_POPUP_LOCATION");function g(e){var t=i.default.map.constructLocation(e.lngLat);return function(e,n){e(h({location:t})),Object(o.a)(n().otp.config.geocoder).reverse({point:t}).then((function(t){e(h({location:t}))})).catch((function(e){console.warn(e)}))}}function y(){return function(e){e(h({location:null}))}}},function(e,t,n){"use strict";var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.getTransitModes=function(e){return e&&e.modes&&e.modes.transitModes?e.modes.transitModes.map((e=>"string"!=typeof e?e.mode:e)):a},t.isTransitLeg=function(e){return e.transitLeg},t.isTransit=s,t.isReservationRequired=l,t.isCoordinationRequired=c,t.containsGeometry=u,t.endsWithGeometry=d,t.startsWithGeometry=f,t.legContainsGeometry=p,t.isAdvanceBookingRequired=m,t.legDropoffRequiresAdvanceBooking=h,t.isFlex=function(e){return l(e)||c(e)||h(e)||m(null==e?void 0:e.pickupBookingInfo)||p(e)},t.isRideshareLeg=function(e){var t,n;return!(null===(t=e.rideHailingEstimate)||void 0===t||null===(n=t.provider)||void 0===n||!n.id)},t.isWalk=g,t.isBicycle=y,t.isBicycleRent=v,t.isCar=b,t.isMicromobility=w,t.isAccessMode=function(e){return g(e)||y(e)||v(e)||b(e)||w(e)},t.hasTransit=function(e){return e.split(",").some((e=>s(e)))},t.hasCar=function(e){return e.split(",").some((e=>b(e)))},t.hasBike=function(e){return e.split(",").some((e=>y(e)||v(e)))},t.hasMicromobility=function(e){return e.split(",").some((e=>w(e)))},t.hasHail=function(e){return e.split(",").some((e=>e.indexOf("_HAIL")>-1))},t.hasRental=function(e){return e.split(",").some((e=>e.indexOf("_RENT")>-1))},t.getMapColor=function(e){return"WALK"===(e=e||this.get("mode"))?"#444":"BICYCLE"===e?"#0073e5":"SUBWAY"===e?"#e60000":"RAIL"===e?"#b00":"BUS"===e||"TROLLEYBUS"===e?"#080":"TRAM"===e?"#800":"FERRY"===e?"#008":"CAR"===e?"#444":"MICROMOBILITY"===e||"SCOOTER"===e?"#f5a729":"#aaa"},t.toSentenceCase=function(e){if(null==e)return"";return(e=String(e)).charAt(0).toUpperCase()+e.substr(1).toLowerCase()},t.getCompanyFromLeg=function(e){if(!e)return null;const{from:t,mode:n,rentedBike:r,rentedCar:i,rentedVehicle:o,rideHailingEstimate:a}=e;if("CAR"===n&&i)return t.networks[0];if("CAR"===n&&a)return a.provider.id;if("BICYCLE"===n&&r&&t.networks)return t.networks[0];if(t.rentalVehicle)return t.rentalVehicle.network;if(("MICROMOBILITY"===n||"SCOOTER"===n)&&o&&t.networks)return t.networks[0];return null},t.getItineraryBounds=function(e){let t=[];return e.legs.forEach((e=>{const n=i.default.toGeoJSON(e.legGeometry.points).coordinates.map((e=>[e[1],e[0]]));t=[...t,...n]})),t},t.getLegBounds=function(e){const t=i.default.toGeoJSON(e.legGeometry.points).coordinates.map((e=>[e[1],e[0]]));0===t.length&&t.push([e.from.lat,e.from.lon],[e.to.lat,e.to.lon]);return t},t.legLocationAtDistance=function(e,t){if(!e.legGeometry)return null;try{const n=i.default.toGeoJSON(e.legGeometry.points),r=(0,o.default)(n,t,{units:"meters"});if(r&&r.geometry&&r.geometry.coordinates)return[r.geometry.coordinates[1],r.geometry.coordinates[0]]}catch(e){}return null},t.legElevationAtDistance=function(e,t){let n=0;e[0][0]>0&&e.unshift([0,null]);for(let r=1;r<e.length;r++){const i=e[r-1],o=e[r][0]-i[0];if(t>=n&&t<=n+o){if(null===i[1])return console.warn("Elevation value does not exist for distance.",t,n),null;const a=(t-n)/o,s=e[r][1]-i[1];return i[1]+s*a}n+=o}return console.warn("Elevation value does not exist for distance.",t,n),null},t.mapOldElevationComponentToNew=x,t.getElevationProfile=function(e,t=1){let n=1e5,r=-1e5,i=0,o=0,a=0,s=null;const l=[];return e.forEach((e=>{var c;const u=e.elevationProfile||Array.isArray(e.elevation)&&(null===(c=e.elevation)||void 0===c?void 0:c.map(x));if(u&&0!==u.length){for(let c=0;c<u.length;c++){const d=u[c];if(s){const e=(d.elevation-s.elevation)*t;e>0?o+=e:a+=e}0===c&&d.distance;const f=d.elevation*t;f<n&&(n=f),f>r&&(r=f),l.push([i+d.distance,d.elevation]),c===u.length-1&&(d.distance,e.distance),s=d}i+=e.distance}else i+=e.distance})),{maxElev:r,minElev:n,points:l,traversed:i,gain:o,loss:a}},t.getTextWidth=function e(t,n="22px Arial"){const r=(e.canvas||(e.canvas=document.createElement("canvas"))).getContext("2d");r.font=n;return r.measureText(t).width},t.getCompanyForNetwork=E,t.getCompaniesLabelFromNetworks=function(e,t=[]){return(Array.isArray(e)?e:[e]).map((e=>E(e,t))).filter((e=>!!e)).map((e=>e.label)).join("/")},t.getTNCLocation=function(e,t){const n=e[t];return`${n.lat.toFixed(5)},${n.lon.toFixed(5)}`},t.calculatePhysicalActivity=function(e){let t=0,n=0;e.legs.forEach((e=>{e.mode.startsWith("WALK")&&(t+=e.duration),e.mode.startsWith("BICYCLE")&&(n+=e.duration)}));return{bikeDuration:n,caloriesBurned:t/3600*280+n/3600*290,walkDuration:t}},t.calculateTncFares=function(e){return e.legs.filter((e=>"CAR"===e.mode&&e.rideHailingEstimate)).reduce((({maxTNCFare:e,minTNCFare:t},{rideHailingEstimate:n})=>{const{minPrice:r,maxPrice:i}=n;return{currencyCode:r.currency.code,maxTNCFare:e+i.amount,minTNCFare:t+r.amount}}),{currencyCode:null,maxTNCFare:0,minTNCFare:0})},t.calculateEmissions=function(e,t={},n){var r;const i={..._,...t},o=(null==e||null===(r=e.legs)||void 0===r?void 0:r.reduce(((e,t)=>(t.distance*i[t.mode.toLowerCase()]||0)+e),0))||0;switch(n){case"ounce":return o/28.35;case"kilogram":return o/1e3;case"pound":return o/454;case"gram":default:return o}},t.getDisplayedStopId=function(e){var t;let n,r;"stopId"in e?({stopCode:r,stopId:n}=e):"id"in e&&({code:r,id:n}=e);return r||(null===(t=n)||void 0===t?void 0:t.split(":")[1])||n},t.getLegCost=A,t.getItineraryCost=function(e,t,n){const r=e.filter((e=>{var t;return(null===(t=e.fareProducts)||void 0===t?void 0:t.length)>0})).map((e=>A(e,t,n))).filter((e=>void 0!==e.price)).reduce(((e,t)=>(e.some((e=>e.productUseId===t.productUseId))||e.push({productUseId:t.productUseId,price:t.price}),e)),[]).map((e=>e.price));return 0===r.length?void 0:r.reduce(((e,t)=>{var n;return{amount:e.amount+(null==t?void 0:t.amount)||0,currency:null!==(n=e.currency)&&void 0!==n?n:null==t?void 0:t.currency}}),{amount:0,currency:null})},t.getLegRouteName=t.getLegRouteLongName=t.getLegRouteShortName=t.convertGraphQLResponseToLegacy=t.transitModes=void 0;var i=r(n(61)),o=r(n(147));const a=["TRAM","TROLLEYBUS","BUS","SUBWAY","FERRY","RAIL","GONDOLA"];function s(e){return a.includes(e)||"TRANSIT"===e}function l(e){return"mustPhone"===(null==e?void 0:e.boardRule)||"mustPhone"===(null==e?void 0:e.alightRule)}function c(e){return"coordinateWithDriver"===(null==e?void 0:e.boardRule)||"coordinateWithDriver"===(null==e?void 0:e.alightRule)}function u(e){var t,n;return null!==(null==e||null===(t=e.stop)||void 0===t?void 0:t.geometries)&&void 0!==(null==e||null===(n=e.stop)||void 0===n?void 0:n.geometries)}function d(e){return u(null==e?void 0:e.to)}function f(e){return u(null==e?void 0:e.from)}function p(e){return d(e)||f(e)}function m(e){var t;return(null==e||null===(t=e.latestBookingTime)||void 0===t?void 0:t.daysPrior)>0}function h(e){return m(null==e?void 0:e.dropOffBookingInfo)}function g(e){return!!e&&"WALK"===e}function y(e){return!!e&&"BICYCLE"===e}function v(e){return!!e&&"BICYCLE_RENT"===e}function b(e){return!!e&&e.startsWith("CAR")}function w(e){return!!e&&(e.startsWith("MICROMOBILITY")||e.startsWith("SCOOTER"))}function x(e){return{distance:e.first,elevation:e.second}}function E(e,t=[]){const n=t.find((t=>t.id===e));return n||console.warn(`No company found in config.yml that matches rented vehicle network: ${e}`,t),n}t.transitModes=a;const _={walk:.026,bicycle:.017,car:.162,tram:.066,trolleybus:.066,subway:.066,rail:.066,bus:.09,ferry:.082,cable_car:.021,gondola:.021,funicular:.066,transit:.066,leg_switch:0,airplane:.382,micromobility:.095};function A(e,t,n){if(!e.fareProducts)return{price:void 0};const r=e.fareProducts.filter((({product:e})=>(null===e.riderCategory?null:e.riderCategory.id)===n&&(null===e.medium?null:e.medium.id)===t)),i=r.find((e=>"rideCost"===e.product.name||"regular"===e.product.name)),o=r.find((e=>"transfer"===e.product.name));return{price:null==i?void 0:i.product.price,transferAmount:null==o?void 0:o.product.price,productUseId:null==i?void 0:i.id}}const O=e=>{switch(e){case"COORDINATE_WITH_DRIVER":return"coordinateWithDriver";case"CALL_AGENCY":return"mustPhone";case"SCHEDULED":return"scheduled";case"NONE":return"none";default:return null}};t.convertGraphQLResponseToLegacy=e=>{var t,n,r,i,o,a,s,l,c,u,d,f,p,m,h,g;return{...e,agencyBrandingUrl:null===(t=e.agency)||void 0===t?void 0:t.url,agencyId:null===(n=e.agency)||void 0===n?void 0:n.id,agencyName:null===(r=e.agency)||void 0===r?void 0:r.name,agencyUrl:null===(i=e.agency)||void 0===i?void 0:i.url,alightRule:O(e.dropoffType),boardRule:O(e.pickupType),dropOffBookingInfo:{latestBookingTime:e.dropOffBookingInfo},from:{...e.from,stopCode:null===(o=e.from.stop)||void 0===o?void 0:o.code,stopId:null===(a=e.from.stop)||void 0===a?void 0:a.gtfsId},route:null===(s=e.route)||void 0===s?void 0:s.shortName,routeColor:null===(l=e.route)||void 0===l?void 0:l.color,routeId:null===(c=e.route)||void 0===c?void 0:c.gtfsId,routeLongName:null===(u=e.route)||void 0===u?void 0:u.longName,routeShortName:null===(d=e.route)||void 0===d?void 0:d.shortName,routeTextColor:null===(f=e.route)||void 0===f?void 0:f.textColor,to:{...e.to,stopCode:null===(p=e.to.stop)||void 0===p?void 0:p.code,stopId:null===(m=e.to.stop)||void 0===m?void 0:m.gtfsId},tripHeadsign:null===(h=e.trip)||void 0===h?void 0:h.tripHeadsign,tripId:null===(g=e.trip)||void 0===g?void 0:g.gtfsId}};const S=e=>{const{route:t,routeShortName:n}=e;return"object"==typeof t?null==t?void 0:t.shortName:n||t};t.getLegRouteShortName=S;const T=e=>{const{route:t,routeLongName:n}=e;return"object"==typeof t?null==t?void 0:t.longName:n};t.getLegRouteLongName=T;t.getLegRouteName=e=>S(e)||T(e)},function(e,t,n){"use strict";n.r(t),n.d(t,"format",(function(){return z})),n.d(t,"formatInTimeZone",(function(){return W})),n.d(t,"getTimezoneOffset",(function(){return Y})),n.d(t,"toDate",(function(){return I})),n.d(t,"utcToZonedTime",(function(){return H})),n.d(t,"zonedTimeToUtc",(function(){return Q}));var r=n(496),i=n.n(r);function o(e,t,n){var r=function(e,t,n){if(n&&!n.code)throw new Error("date-fns-tz error: Please set a language code on the locale object imported from date-fns, e.g. `locale.code = 'en-US'`");return new Intl.DateTimeFormat(n?[n.code,"en-US"]:void 0,{timeZone:t,timeZoneName:e})}(e,n.timeZone,n.locale);return r.formatToParts?function(e,t){for(var n=e.formatToParts(t),r=n.length-1;r>=0;--r)if("timeZoneName"===n[r].type)return n[r].value}(r,t):function(e,t){var n=e.format(t).replace(/\u200E/g,""),r=/ [\w-+ ]+$/.exec(n);return r?r[0].substr(1):""}(r,t)}function a(e,t){var n=function(e){if(!l[e]){var t=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n="06/25/2014, 00:00:00"===t||"06/25/2014 00:00:00"===t;l[e]=n?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return l[e]}(t);return n.formatToParts?function(e,t){try{for(var n=e.formatToParts(t),r=[],i=0;i<n.length;i++){var o=s[n[i].type];o>=0&&(r[o]=parseInt(n[i].value,10))}return r}catch(e){if(e instanceof RangeError)return[NaN];throw e}}(n,e):function(e,t){var n=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[r[3],r[1],r[2],r[4],r[5],r[6]]}(n,e)}var s={year:0,month:1,day:2,hour:3,minute:4,second:5};var l={};function c(e,t,n,r,i,o,a){var s=new Date(0);return s.setUTCFullYear(e,t,n),s.setUTCHours(r,i,o,a),s}var u=36e5,d={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function f(e,t,n){var r,i,o;if(!e)return 0;if(r=d.timezoneZ.exec(e))return 0;if(r=d.timezoneHH.exec(e))return m(o=parseInt(r[1],10))?-o*u:NaN;if(r=d.timezoneHHMM.exec(e)){o=parseInt(r[1],10);var a=parseInt(r[2],10);return m(o,a)?(i=Math.abs(o)*u+6e4*a,o>0?-i:i):NaN}if(function(e){if(h[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),h[e]=!0,!0}catch(e){return!1}}(e)){t=new Date(t||Date.now());var s=p(n?t:function(e){return c(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}(t),e);return-(n?s:function(e,t,n){var r=e.getTime()-t,i=p(new Date(r),n);if(t===i)return t;r-=i-t;var o=p(new Date(r),n);if(i===o)return i;return Math.max(i,o)}(t,s,e))}return NaN}function p(e,t){var n=a(e,t),r=c(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),i=e.getTime(),o=i%1e3;return r-(i-=o>=0?o:1e3+o)}function m(e,t){return-23<=e&&e<=23&&(null==t||0<=t&&t<=59)}var h={};function g(e,t){var n=e?f(e,t,!0)/6e4:t.getTimezoneOffset();if(Number.isNaN(n))throw new RangeError("Invalid time zone specified: "+e);return n}function y(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}function v(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e);return r+y(Math.floor(i/60),2)+n+y(Math.floor(i%60),2)}function b(e,t){return e%60==0?(e>0?"-":"+")+y(Math.abs(e)/60,2):v(e,t)}var w={X:function(e,t,n,r){var i=g(r.timeZone,r._originalDate||e);if(0===i)return"Z";switch(t){case"X":return b(i);case"XXXX":case"XX":return v(i);case"XXXXX":case"XXX":default:return v(i,":")}},x:function(e,t,n,r){var i=g(r.timeZone,r._originalDate||e);switch(t){case"x":return b(i);case"xxxx":case"xx":return v(i);case"xxxxx":case"xxx":default:return v(i,":")}},O:function(e,t,n,r){var i=g(r.timeZone,r._originalDate||e);switch(t){case"O":case"OO":case"OOO":return"GMT"+function(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),o=r%60;if(0===o)return n+String(i);var a=t||"";return n+String(i)+a+y(o,2)}(i,":");case"OOOO":default:return"GMT"+v(i,":")}},z:function(e,t,n,r){var i=r._originalDate||e;switch(t){case"z":case"zz":case"zzz":return o("short",i,r);case"zzzz":default:return o("long",i,r)}}},x=n(176),E=n.n(x),_=n(299),A=n.n(_),O=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,S=36e5,T={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:O};function I(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(null===e)return new Date(NaN);var n=t||{},r=null==n.additionalDigits?2:E()(n.additionalDigits);if(2!==r&&1!==r&&0!==r)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e))return new Date(e.getTime());if("number"==typeof e||"[object Number]"===Object.prototype.toString.call(e))return new Date(e);if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var i=k(e),o=C(i.date,r),a=o.year,s=o.restDateString,l=M(s,a);if(isNaN(l))return new Date(NaN);if(l){var c,u=l.getTime(),d=0;if(i.time&&(d=N(i.time),isNaN(d)))return new Date(NaN);if(i.timeZone||n.timeZone){if(c=f(i.timeZone||n.timeZone,new Date(u+d)),isNaN(c))return new Date(NaN)}else c=A()(new Date(u+d)),c=A()(new Date(u+d+c));return new Date(u+d+c)}return new Date(NaN)}function k(e){var t,n={},r=T.dateTimePattern.exec(e);if(r?(n.date=r[1],t=r[3]):(r=T.datePattern.exec(e))?(n.date=r[1],t=r[2]):(n.date=null,t=e),t){var i=T.timeZone.exec(t);i?(n.time=t.replace(i[1],""),n.timeZone=i[1].trim()):n.time=t}return n}function C(e,t){var n,r=T.YYY[t],i=T.YYYYY[t];if(n=T.YYYY.exec(e)||i.exec(e)){var o=n[1];return{year:parseInt(o,10),restDateString:e.slice(o.length)}}if(n=T.YY.exec(e)||r.exec(e)){var a=n[1];return{year:100*parseInt(a,10),restDateString:e.slice(a.length)}}return{year:null}}function M(e,t){if(null===t)return null;var n,r,i,o;if(0===e.length)return(r=new Date(0)).setUTCFullYear(t),r;if(n=T.MM.exec(e))return r=new Date(0),P(t,i=parseInt(n[1],10)-1)?(r.setUTCFullYear(t,i),r):new Date(NaN);if(n=T.DDD.exec(e)){r=new Date(0);var a=parseInt(n[1],10);return function(e,t){if(t<1)return!1;var n=D(e);if(n&&t>366)return!1;if(!n&&t>365)return!1;return!0}(t,a)?(r.setUTCFullYear(t,0,a),r):new Date(NaN)}if(n=T.MMDD.exec(e)){r=new Date(0),i=parseInt(n[1],10)-1;var s=parseInt(n[2],10);return P(t,i,s)?(r.setUTCFullYear(t,i,s),r):new Date(NaN)}if(n=T.Www.exec(e))return B(t,o=parseInt(n[1],10)-1)?j(t,o):new Date(NaN);if(n=T.WwwD.exec(e)){o=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return B(t,o,l)?j(t,o,l):new Date(NaN)}return null}function N(e){var t,n,r;if(t=T.HH.exec(e))return F(n=parseFloat(t[1].replace(",",".")))?n%24*S:NaN;if(t=T.HHMM.exec(e))return F(n=parseInt(t[1],10),r=parseFloat(t[2].replace(",",".")))?n%24*S+6e4*r:NaN;if(t=T.HHMMSS.exec(e)){n=parseInt(t[1],10),r=parseInt(t[2],10);var i=parseFloat(t[3].replace(",","."));return F(n,r,i)?n%24*S+6e4*r+1e3*i:NaN}return null}function j(e,t,n){t=t||0,n=n||0;var r=new Date(0);r.setUTCFullYear(e,0,4);var i=7*t+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+i),r}var L=[31,28,31,30,31,30,31,31,30,31,30,31],R=[31,29,31,30,31,30,31,31,30,31,30,31];function D(e){return e%400==0||e%4==0&&e%100!=0}function P(e,t,n){if(t<0||t>11)return!1;if(null!=n){if(n<1)return!1;var r=D(e);if(r&&n>R[t])return!1;if(!r&&n>L[t])return!1}return!0}function B(e,t,n){return!(t<0||t>52)&&(null==n||!(n<0||n>6))}function F(e,t,n){return(null==e||!(e<0||e>=25))&&((null==t||!(t<0||t>=60))&&(null==n||!(n<0||n>=60)))}var U=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function z(e,t,n){var r=String(t),o=n||{},a=r.match(U);if(a){var s=I(e,o);r=a.reduce((function(e,t){if("'"===t[0])return e;var n=e.indexOf(t),r="'"===e[n-1],i=e.replace(t,"'"+w[t[0]](s,t,null,o)+"'");return r?i.substring(0,n-1)+i.substring(n+1):i}),r)}return i()(e,r,o)}var V=n(300),G=n.n(V);function H(e,t,n){var r=I(e,n),i=f(t,r,!0),o=new Date(r.getTime()-i),a=new Date(0);return a.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),a.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),a}function W(e,t,n,r){var i=G()(r);return i.timeZone=t,z(H(e,t),n,i)}function Y(e,t){return-f(e,t)}function Q(e,t,n){if("string"==typeof e&&!e.match(O)){var r=G()(n);return r.timeZone=t,I(e,r)}var i=I(e,n),o=c(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()).getTime(),a=f(t,new Date(o));return new Date(o+a)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),i=n.n(r).a.createContext({})},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"j",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"i",(function(){return d})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return m}));var r=6371008.8,i={centimeters:637100880,centimetres:637100880,degrees:57.22891354143274,feet:20902260.511392,inches:39.37*r,kilometers:6371.0088,kilometres:6371.0088,meters:r,metres:r,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:r/1852,radians:1,yards:6967335.223679999};function o(e,t,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=t||{},r.geometry=e,r}function a(e,t,n){if(void 0===n&&(n={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!p(e[0])||!p(e[1]))throw new Error("coordinates must contain numbers");return o({type:"Point",coordinates:e},t,n)}function s(e,t,n){void 0===n&&(n={});for(var r=0,i=e;r<i.length;r++){var a=i[r];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<a[a.length-1].length;s++)if(a[a.length-1][s]!==a[0][s])throw new Error("First and last Position are not equivalent.")}return o({type:"Polygon",coordinates:e},t,n)}function l(e,t,n){if(void 0===n&&(n={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");return o({type:"LineString",coordinates:e},t,n)}function c(e,t){void 0===t&&(t="kilometers");var n=i[t];if(!n)throw new Error(t+" units is invalid");return e*n}function u(e,t){void 0===t&&(t="kilometers");var n=i[t];if(!n)throw new Error(t+" units is invalid");return e/n}function d(e){return 180*(e%(2*Math.PI))/Math.PI}function f(e){return e%360*Math.PI/180}function p(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function m(e){return!!e&&e.constructor===Object}},function(e,t,n){"use strict";n.d(t,"a",(function(){return T})),n.d(t,"g",(function(){return I})),n.d(t,"b",(function(){return k})),n.d(t,"i",(function(){return C})),n.d(t,"f",(function(){return M})),n.d(t,"h",(function(){return N})),n.d(t,"e",(function(){return j})),n.d(t,"k",(function(){return L})),n.d(t,"d",(function(){return R})),n.d(t,"c",(function(){return P})),n.d(t,"j",(function(){return B}));var r=n(12),i=n(7),o=n(371),a=n.n(o),s=n(123),l=n.n(s),c=n(56),u=n.n(c),d=n(91),f=n(16),p=n(27),m=n(21),h=n(25),g=n(41);function y(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function v(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w,x,E=i.default.query,_=E.getTripOptionsFromQuery,A=E.getUrlParams,O=E.planParamsToQueryAsync,S=Object(r.a)("SET_QUERY_PARAM"),T=Object(r.a)("CLEAR_ACTIVE_SEARCH"),I=Object(r.a)("SET_ACTIVE_SEARCH"),k=Object(r.a)("CLEAR_DEFAULT_SETTINGS"),C=Object(r.a)("STORE_DEFAULT_SETTINGS");function M(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){var r=n(),o=r.otp.config,a=o.modes.transitModes,s=r.user.localUser.defaults;if(s)t(S(s));else{var l=i.default.storage.getItem("defaultQuery",{}),c=Object.assign(Object(d.e)(o),l),f=_(c);f.mode=["WALK"].concat(v(a.flatMap((function(e){return e.mode})))).join(","),t(S(f))}if(e){t(T()),t(S({departArrive:"NOW"})),t(Object(g.e)({location:null,locationType:"from"})),t(Object(g.e)({location:null,locationType:"to"}));var p=A();for(var h in p)"sessionId"!==h&&delete p[h];t(Object(m.d)("/",u.a.stringify(p,{addQueryPrefix:!0})))}}}function N(e,t){return function(n,r){e.queryParamData&&n(Object(h.T)(e.queryParamData)),n(S(e)),t&&n(Object(h.O)(t))}}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n,r){var o=r();if(null!==o.otp.ui.mainPanelContent)return o;var a={};Object.keys(e).forEach((function(t){t.startsWith("ui_")||(a[t]=e[t])}));var s=e.ui_activeSearch||i.default.storage.randId();t&&(s+=t),O(a,r().otp.config).then((function(e){return n(N(e,s))}))}}function L(){return function(e,t){var n=t().otp,r=n.config,o=n.currentQuery,a=r.homeTimezone;if("NOW"===o.departArrive){var s=i.default.time.getCurrentTime(a);e(S({time:s}))}}}function R(e,t){return function(n,r){var o=r(),s=o.otp,c=s.config,u=s.location,d=s.ui,g=c.autoPlan,y=c.debouncePlanTimeMs,v=u.currentPosition,b=i.default.ui.isMobile(),E=function(e,t,n,r){var i=!l()(n.from,r.from),o=!l()(n.to,r.to),a=i&&!o||!i&&o,s=t&&(null==e?void 0:e.mobile)||(null==e?void 0:e.default);return{fromChanged:i,locationChangedToBlank:n.from&&!r.from||n.to&&!r.to,oneLocationChanged:a,shouldReplanTrip:function(e,t,n,r){switch(e){case"ONE_LOCATION_CHANGED":if(r)return!0;break;case"BOTH_LOCATIONS_CHANGED":if(t&&n)return!0;break;case"ANY":return!0;default:return!1}}(s,i,o,a)&&(n.from||n.to),toChanged:o}}(g,b,e,t),_=E.fromChanged,A=E.locationChangedToBlank,O=E.oneLocationChanged,S=E.shouldReplanTrip,I=E.toChanged,k=function(e,t){var n,r,i,o;return(null==e||null===(n=e.from)||void 0===n?void 0:n.lat)===(null==t||null===(r=t.coords)||void 0===r?void 0:r.latitude)&&(null==e||null===(i=e.from)||void 0===i?void 0:i.lon)===(null==t||null===(o=t.coords)||void 0===o?void 0:o.longitude)}(t,v);n(L()),O&&!b&&n(Object(m.i)(null)),S?Object(f.queryIsValid)(o)&&(w&&x===y||(w=a()((function(){return n(Object(h.O)())}),y),x=y),w()):(_||I)&&(n(T()),d.mobileScreen===p.b.WELCOME_SCREEN&&k||A||n(Object(m.j)(p.b.SEARCH_FORM)))}}var D=Object(r.a)("CLEAR_LOCATION");function P(e){return function(t,n){t(D(e)),t(T())}}function B(){return function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n){var r,i,o,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n(),i=r.otp.config.autoPlan,o=r.otp.currentQuery,a=o.from,s=o.to,e.next=5,t(Object(g.j)({location:s,locationType:"from"}));case 5:return e.next=7,t(Object(g.j)({location:a,locationType:"to"}));case 7:if(!i){e.next=9;break}return e.abrupt("return",t(Object(h.O)()));case 9:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){y(o,r,i,a,s,"next",e)}function s(e){y(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e,n){return t.apply(this,arguments)}}()}},function(e,t,n){"use strict";var r;var i,o,a=n(1).default.span(r||(i=["\n  ","\n  height: 0;\n  overflow: hidden;\n  width: 0;\n"],o||(o=i.slice(0)),r=Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(o)}}))),(function(e){return e.as?"":"display: inline-block;"}));t.a=a},function(e,t,n){"use strict";n.d(t,"k",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"m",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"f",(function(){return m})),n.d(t,"e",(function(){return h})),n.d(t,"a",(function(){return g})),n.d(t,"n",(function(){return y})),n.d(t,"l",(function(){return v})),n.d(t,"c",(function(){return b})),n.d(t,"g",(function(){return x})),n.d(t,"j",(function(){return E})),n.d(t,"o",(function(){return _})),n.d(t,"d",(function(){return A})),n.d(t,"i",(function(){return O}));var r=n(136),i=n(172),o=n.n(i),a=n(26),s=n(42),l=(n(68),n(16)),c=n(32);function u(e,t,n){return(t?n&&e.scheduledArrival?e.scheduledArrival:e.scheduledDeparture:n&&e.realtimeArrival?e.realtimeArrival:e.realtimeDeparture)+e.serviceDay-Date.now()/1e3}function d(e){var t=e.id.split(":");return t[0]+":"+t[1]}function f(e,t){return!!e||(console.warn("Cannot render stop times for missing route ID: ".concat(t)),!1)}function p(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=e.headsign;if(Object(c.i)(r)){var i,o=null==e||null===(i=e.desc)||void 0===i?void 0:i.match(/(?: to )(.*?)(?: \()/);o&&(r=o[1])}if(Object(c.i)(r)){var a,s=null==e||null===(a=e.desc)||void 0===a?void 0:a.match(/ to ([^(from)]+) \(.+\)/);s&&(r=s[1])}if(Object(c.i)(r)&&n){var l,u=null==e||null===(l=e.desc)||void 0===l?void 0:l.match(/^[^(]*$/);u&&(r=u[0].replace("".concat(n," "),""))}(Object(c.i)(r)&&(r=(null==e?void 0:e.desc)||""),Object(c.i)(r))&&(r=(null==e||null===(t=e.route)||void 0===t?void 0:t.longName)||"");return r}function m(e){return e.mode||{0:"TRAM",1:"SUBWAY",11:"BUS",12:"RAIL",2:"RAIL",3:"BUS",4:"FERRY",5:"CABLE_CAR",6:"GONDOLA",7:"FUNICULAR"}[e.type]}function h(e){var t=e[e.length-1];return e.forEach((function(e){var n=u(t,!0),r=u(e,!0);r<n&&r>=0&&(t=e)})),t}var g={EARLY:"EARLY",LATE:"LATE",ON_TIME:"ON_TIME",SCHEDULED:"SCHEDULED"},y=function(e){var t="20px";return e&&((null==e?void 0:e.length)>=3&&(null==e?void 0:e.length)<=6?t="16px":(null==e?void 0:e.split(" ").some((function(e){return e.length>8})))?t="12px":(null==e?void 0:e.length)>7&&(t="14px")),t};function v(e,t,n){return e?t>n?g.LATE:t<-n?g.EARLY:g.ON_TIME:g.SCHEDULED}function b(e){var t=e.legs.find((function(e){return!!Object(s.isTransitLeg)(e)}));return null==t?void 0:t.realTime}function w(e,t){var n,i=e||{},a=i.defaultRouteColor,s=i.defaultRouteTextColor,l=i.longNameSplitter,c=null==e||null===(n=e.modeColors)||void 0===n?void 0:n[m(t)],u="#".concat((null==c?void 0:c.color)||a||(null==t?void 0:t.color)||"333333"),d=Object(r.getMostReadableTextColor)(u,(null==c?void 0:c.textColor)||(null==t?void 0:t.textColor));return{backgroundColor:u,color:"#".concat(s||d),longName:function(e){var t=e.longNameSplitter,n=e.route,r="";if(n.longName){var i=n.longName.split(t);(r=t&&i.length>1?i[1]:n.longName)===n.shortName&&(r="")}return r}({longNameSplitter:l,route:t}),softColor:o.a.mostReadable("#fff",[u,o()(u).brighten(10).toHexString(),o()(u).brighten(20).toHexString(),o()(u).darken(10).toHexString()]).toHexString()}}function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=w(e,t),r=n.backgroundColor,i=n.softColor;switch(e.colorMode){case"disabled":return a.b;case"gtfs-softened":return i;default:return r}}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=w(e,t),r=n.color;return r}function _(e){var t;return e&&e.geometries&&"Point"!==(null===(t=e.geometries.geoJson)||void 0===t?void 0:t.type)}function A(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{agencyName:(null==e?void 0:e.agencyName)||(null===(t=e.agency)||void 0===t?void 0:t.name),mode:m(e),onColoredBackground:n,origColor:e.origColor,routeColor:e.color,routeLongName:e.longName,routeShortName:e.shortName,routeTextColor:e.textColor}}function O(e,t,n,r){var i=t||{},o=i.patterns,a=i.pending,s=i.shortName;if(!t||a)return r.formatMessage({id:"components.RouteViewer.title"});var c=null==o?void 0:o[n];return Object(l.getOperatorAndRoute)(t,e,r)+(n&&c?" ".concat(r.formatMessage({id:"components.RouteDetails.stopsTo"})," ").concat(p(c,s)):"")}},function(e,t,n){var r=n(547)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(531)},function(e,t){function n(e){return e&&e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function r(e){return e}function i(e,t){const i=(t=t||{}).delimiter||".",o=t.maxDepth,a=t.transformKey||r,s={};return function e(r,l,c){c=c||1,Object.keys(r).forEach((function(u){const d=r[u],f=t.safe&&Array.isArray(d),p=Object.prototype.toString.call(d),m=n(d),h="[object Object]"===p||"[object Array]"===p,g=l?l+i+a(u):a(u);if(!f&&!m&&h&&Object.keys(d).length&&(!t.maxDepth||c<o))return e(d,g,c+1);s[g]=d}))}(e),s}e.exports=i,i.flatten=i,i.unflatten=function e(t,o){const a=(o=o||{}).delimiter||".",s=o.overwrite||!1,l=o.transformKey||r,c={};if(n(t)||"[object Object]"!==Object.prototype.toString.call(t))return t;function u(e){const t=Number(e);return isNaN(t)||-1!==e.indexOf(".")||o.object?e:t}return t=Object.keys(t).reduce((function(e,n){const r=Object.prototype.toString.call(t[n]);return!("[object Object]"===r||"[object Array]"===r)||function(e){const t=Object.prototype.toString.call(e),n="[object Array]"===t,r="[object Object]"===t;if(!e)return!0;if(n)return!e.length;if(r)return!Object.keys(e).length}(t[n])?(e[n]=t[n],e):function(e,t,n){return Object.keys(n).reduce((function(t,r){return t[e+a+r]=n[r],t}),t)}(n,e,i(t[n],o))}),{}),Object.keys(t).forEach((function(n){const r=n.split(a).map(l);let i=u(r.shift()),d=u(r[0]),f=c;for(;void 0!==d;){if("__proto__"===i)return;const e=Object.prototype.toString.call(f[i]),t="[object Object]"===e||"[object Array]"===e;if(!s&&!t&&void 0!==f[i])return;(s&&!t||!s&&null==f[i])&&(f[i]="number"!=typeof d||o.object?{}:[]),f=f[i],r.length>0&&(i=u(r.shift()),d=u(r[0]))}f[i]=e(t[n],o)})),c}},function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"o",(function(){return m})),n.d(t,"n",(function(){return y})),n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return b})),n.d(t,"q",(function(){return w})),n.d(t,"r",(function(){return x})),n.d(t,"d",(function(){return E})),n.d(t,"p",(function(){return A})),n.d(t,"h",(function(){return O})),n.d(t,"f",(function(){return S})),n.d(t,"e",(function(){return T})),n.d(t,"l",(function(){return I})),n.d(t,"i",(function(){return k})),n.d(t,"j",(function(){return C})),n.d(t,"k",(function(){return M})),n.d(t,"m",(function(){return N})),n.d(t,"g",(function(){return j}));n(661);var r=n(7),i=n(38),o=n(54),a=n(32);function s(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=r.default.itinerary.toSentenceCase,p=["none"];function m(e){return!e.hasConsentedToTerms}var h=function(e){return"home"===e.type},g=function(e){return"work"===e.type},y=function(e){return h(e)||g(e)},v={custom:{icon:"map-marker",type:"custom"},dining:{icon:"cutlery",type:"dining"}},b=u(u({},v),{},{home:{icon:"home",type:"home"},work:{icon:"briefcase",type:"work"}});function w(e){var t=e.savedLocations,n=void 0===t?[]:t,r=n.find(h)||b.home,i=n.find(g)||b.work,o=[r,i].concat(s(n.filter((function(e){return e!==r&&e!==i}))));e.savedLocations=o}function x(e){var t=e.mobilityProfile;if(t){var n=t.mobilityDevices;n&&0!==n.length||(t.mobilityDevices=p)}else e.mobilityProfile={mobilityDevices:p}}function E(e,t){if(e&&t){var n=e.mobilityDevices,r=t.includes("none");n.includes("none")&&!r?e.mobilityDevices=p:n.length>1&&r&&(e.mobilityDevices=n.filter((function(e){return"none"!==e})))}}function _(e){return(null==e?void 0:e.enabled)&&(null==e?void 0:e.strategy)}function A(e){return _(e)===i.n}function O(e){var t=_(e);return{isLocalStorage:t===i.m,isOtpMiddleware:t===i.n}}function S(e){var t=e.icon,n=e.lat,r=e.lon,i=e.name,o=e.type;return{address:i,icon:g(e)?"briefcase":t,lat:n,lon:r,name:i,type:o}}function T(e){var t=e.address,n=e.icon,r=e.id,i=e.lat,o=e.lon,a=e.name,s=e.type;return{icon:g(e)?"work":n,id:r,lat:i,lon:o,name:y(e)?t:t&&a?"".concat(a," (").concat(t,")"):t||a,type:s}}function I(e){var t=[],n=[],r=e.otp.config.persistence,i=e.user,o=i.localUser,s=i.loggedInUser,l=O(r);return l.isOtpMiddleware&&s?t=s.savedLocations.filter((function(e){return!Object(a.i)(e.address)})).map(T):l.isLocalStorage&&(t=o.savedLocations,n=o.recentPlaces),{recent:n,saved:t}}function k(e){return e?i.f:i.o}function C(e,t){return e.address||t.formatMessage({id:"components.FavoritePlaceList.setAddressForPlaceType"},{placeType:Object(o.d)(e.type,t)})}function M(e,t){return y(e)?f(Object(o.d)(e.type,t)):e.name||e.address}function N(e,t){return null==e?void 0:e.find((function(e){return e.email===t}))}function j(e){return(null==e?void 0:e.name)||(null==e?void 0:e.email)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r={};function i(){return r}function o(e){r=e}},function(e,t,n){"use strict";n.d(t,"f",(function(){return y})),n.d(t,"a",(function(){return v})),n.d(t,"e",(function(){return b})),n.d(t,"h",(function(){return E})),n.d(t,"b",(function(){return A})),n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return T})),n.d(t,"g",(function(){return I})),n.d(t,"i",(function(){return k}));var r=n(75),i=n.n(r),o=n(51),a=n.n(o),s=n(125),l=n.n(s);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){f(o,r,i,a,s,"next",e)}function s(e){f(o,r,i,a,s,"throw",e)}a(void 0)}))}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=n(373);function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(e||"").split("-"),i=m(r,2),o=i[0],a=i[1],s=n[o];if(!s)return t;var l=Object.keys(s)[0];return s[a]||("string"==typeof s?s:s[l])}function v(e){var t={};return Object.keys(e).forEach((function(e){if("allLanguages"!==e){var n=m(e.split("-"),2),r=n[0],i=n[1];t[r]||(t[r]={}),i?t[r][i]=e:t[r]=e}})),t}var b=l()((function(e){var t=e&&Object.keys(e).filter((function(t){return"allLanguages"!==t&&e[t].name}))||[];if(t.length<2)return null;var n={};return t.forEach((function(t){n[t]=e[t]})),n}));function w(e){return x.apply(this,arguments)}function x(){return(x=p(regeneratorRuntime.mark((function e(t){var r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(301).then(n.t.bind(null,787,3));case 2:return r=e.sent,e.next=5,Promise.all(Object.keys(r.dependencies).filter((function(e){return e.startsWith("@opentripplanner")})).map(function(){var e=p(regeneratorRuntime.mark((function e(r){var i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=r.replace("@opentripplanner/",""),e.next=4,n(660)("./".concat(i,"/i18n/").concat(t,".yml"));case 4:if(!(o=e.sent)){e.next=7;break}return e.abrupt("return",o.default);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.warn("No localization messages found for ".concat(t," in ").concat(r));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()));case 5:return i=e.sent,e.abrupt("return",g.all(i.filter((function(e){return!!e}))));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e,t){return _.apply(this,arguments)}function _(){return(_=p(regeneratorRuntime.mark((function e(t,r){var i,o,s,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=t,e.t0=t,e.next="es"===e.t0?4:"fr"===e.t0?8:"ko"===e.t0?12:"vi"===e.t0?16:"zh"===e.t0||"zh-Hans"===e.t0?20:"zh-Hant"===e.t0?25:"ru"===e.t0?30:"tl"===e.t0?34:38;break;case 4:return e.next=6,n.e(35).then(n.t.bind(null,788,7));case 6:return i=e.sent,e.abrupt("break",41);case 8:return e.next=10,n.e(36).then(n.t.bind(null,789,7));case 10:return i=e.sent,e.abrupt("break",41);case 12:return e.next=14,n.e(37).then(n.t.bind(null,790,7));case 14:return i=e.sent,e.abrupt("break",41);case 16:return e.next=18,n.e(40).then(n.t.bind(null,791,7));case 18:return i=e.sent,e.abrupt("break",41);case 20:return e.next=22,n.e(41).then(n.t.bind(null,792,7));case 22:return i=e.sent,o="zh_Hans",e.abrupt("break",41);case 25:return e.next=27,n.e(42).then(n.t.bind(null,793,7));case 27:return i=e.sent,o="zh_Hant",e.abrupt("break",41);case 30:return e.next=32,n.e(38).then(n.t.bind(null,794,7));case 32:return i=e.sent,e.abrupt("break",41);case 34:return e.next=36,n.e(39).then(n.t.bind(null,795,7));case 36:return i=e.sent,e.abrupt("break",41);case 38:return e.next=40,n.e(34).then(n.t.bind(null,796,7));case 40:i=e.sent;case 41:return e.next=43,w(o);case 43:return s=e.sent,l=u(u(u(u({},a()(s)),a()(i)),a()(r.allLanguages||{})),a()(r[t]||{})),e.abrupt("return",l);case 46:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t){var n=e.localization,r=void 0===n?{}:n,i=window.localStorage.getItem("lang")||navigator.language;return(null==t?void 0:t.preferredLocale)||i||r.defaultLocale||"en-US"}function O(e,t){switch(null==e?void 0:e.toLowerCase()){case"bicycle":return t.formatMessage({id:"common.modes.bike"});case"bicycle_rent":return t.formatMessage({id:"common.modes.bicycle_rent"});case"bus":return t.formatMessage({id:"common.modes.bus"});case"cable_car":return t.formatMessage({id:"common.modes.cable_car"});case"car":return t.formatMessage({id:"common.modes.car"});case"car_park":return t.formatMessage({id:"common.modes.car_park"});case"drive":return t.formatMessage({id:"common.modes.drive"});case"ferry":return t.formatMessage({id:"common.modes.ferry"});case"flex_direct":case"flex_egress":case"flex_access":case"flex":case"on_demand":return t.formatMessage({id:"common.modes.flex"});case"funicular":return t.formatMessage({id:"common.modes.funicular"});case"gondola":return t.formatMessage({id:"common.modes.gondola"});case"micromobility":return t.formatMessage({id:"common.modes.micromobility"});case"micromobility_rent":case"scooter":return t.formatMessage({id:"common.modes.micromobility_rent"});case"rail":return t.formatMessage({id:"common.modes.rail"});case"ride":return t.formatMessage({id:"config.accessModes.car_hail"});case"rent":return t.formatMessage({id:"common.modes.rent"});case"subway":return t.formatMessage({id:"common.modes.subway"});case"tram":return t.formatMessage({id:"common.modes.tram"});case"transit":return t.formatMessage({id:"common.modes.transit"});case"walk":return t.formatMessage({id:"common.modes.walk"});default:return console.warn("Mode ".concat(e," does not have a corresponding translation.")),function(e,t){var n=e.formatMessage({id:t});return n===t?null:n}(t,"common.modes.".concat(e.toLowerCase()))||e}}function S(e,t){switch(null==e?void 0:e.toLowerCase()){case"bicycle":return t.formatMessage({id:"config.bicycleModes.bicycle"});case"bicycle_rent":return t.formatMessage({id:"config.bicycleModes.bicycle_rent"});case"micromobility":return t.formatMessage({id:"config.micromobilityModes.micromobility"});case"micromobility_rent":case"scooter":return t.formatMessage({id:"config.micromobilityModes.micromobility_rent"});default:return console.warn("Mode ".concat(e," does not have a corresponding translation.")),e}}function T(e,t){switch(e){case"custom":return t.formatMessage({id:"common.places.custom"});case"dining":return t.formatMessage({id:"common.places.dining"});case"home":return t.formatMessage({id:"common.places.home"});case"work":return t.formatMessage({id:"common.places.work"})}}function I(e,t){var n=i()(e.modes),r=n.accessModes,o=n.bicycleModes,a=n.micromobilityModes,s=n.transitModes;return null==s||s.forEach((function(e){e.label||(e.label=O(e.mode,t))})),null==r||r.forEach((function(e){e.label||(e.label=function(e,t){switch(null==e?void 0:e.toLowerCase()){case"bicycle":return t.formatMessage({id:"config.accessModes.bicycle"});case"bicycle_rent":return t.formatMessage({id:"config.accessModes.bicycle_rent"});case"car_hail":return t.formatMessage({id:"config.accessModes.car_hail"});case"car_park":return t.formatMessage({id:"config.accessModes.car_park"});case"micromobility":return t.formatMessage({id:"config.accessModes.micromobility"});case"micromobility_rent":case"scooter":return t.formatMessage({id:"config.accessModes.micromobility_rent"});default:return console.warn("Mode ".concat(e," does not have a corresponding translation.")),e}}(e.mode,t))})),null==o||o.forEach((function(e){e.label||(e.label=S(e.mode,t))})),null==a||a.forEach((function(e){e.label||(e.label=S(e.mode,t))})),n}function k(e,t){return{lat:e.formatNumber(t.lat,{maximumFractionDigits:5}),lon:e.formatNumber(t.lon,{maximumFractionDigits:5})}}},function(e,t,n){"use strict";n.d(t,"h",(function(){return Et})),n.d(t,"i",(function(){return vt})),n.d(t,"j",(function(){return wt})),n.d(t,"b",(function(){return G})),n.d(t,"k",(function(){return un.a})),n.d(t,"c",(function(){return W})),n.d(t,"l",(function(){return bt})),n.d(t,"d",(function(){return ze})),n.d(t,"a",(function(){return ut})),n.d(t,"e",(function(){return et})),n.d(t,"m",(function(){return xt})),n.d(t,"f",(function(){return Te})),n.d(t,"g",(function(){return r}));var r={};n.r(r),n.d(r,"SettingsHeader",(function(){return c})),n.d(r,"SettingsSection",(function(){return u})),n.d(r,"SettingLabel",(function(){return d})),n.d(r,"FloatingSettingLabel",(function(){return f})),n.d(r,"DateTimeSelector",(function(){return p})),n.d(r,"ModeSelector",(function(){return m})),n.d(r,"SubmodeSelector",(function(){return h})),n.d(r,"ModeButton",(function(){return y})),n.d(r,"DropdownSelector",(function(){return v})),n.d(r,"SliderSelector",(function(){return b})),n.d(r,"GeneralSettingsPanel",(function(){return w})),n.d(r,"SettingsSelectorPanel",(function(){return x}));var i=n(15),o=n.n(i),a=n(0),s=n.n(a),l=n(1),c=l.default.div.withConfig({displayName:"styled__SettingsHeader",componentId:"sc-122ziys-0"})([""]),u=l.default.div.withConfig({displayName:"styled__SettingsSection",componentId:"sc-122ziys-1"})([""]),d=l.default.label.withConfig({displayName:"styled__SettingLabel",componentId:"sc-122ziys-2"})(["font-weight:normal;padding-left:6px;"]),f=Object(l.default)(d).withConfig({displayName:"styled__FloatingSettingLabel",componentId:"sc-122ziys-3"})(["float:left;"]),p=l.default.div.withConfig({displayName:"styled__DateTimeSelector",componentId:"sc-122ziys-4"})([""]);p.DepartureRow=l.default.div.withConfig({displayName:"styled__DepartureRow",componentId:"sc-122ziys-5"})(["box-sizing:border-box;> *{box-sizing:border-box;width:33.333333%;padding:0px 5px;}"]),p.DateTimeRow=l.default.div.withConfig({displayName:"styled__DateTimeRow",componentId:"sc-122ziys-6"})(["box-sizing:border-box;> *{box-sizing:border-box;width:50%;padding:0px 5px;display:inline-block;}input{box-sizing:border-box;width:100%;}"]);var m=l.default.div.withConfig({displayName:"styled__ModeSelector",componentId:"sc-122ziys-7"})([""]);m.MainRow=l.default.div.withConfig({displayName:"styled__MainRow",componentId:"sc-122ziys-8"})(["padding:0px 5px;box-sizing:border-box;> *{width:100%;}"]),m.SecondaryRow=l.default.div.withConfig({displayName:"styled__SecondaryRow",componentId:"sc-122ziys-9"})(["> *{width:33.333333%;padding:0px 5px;}"]),m.TertiaryRow=l.default.div.withConfig({displayName:"styled__TertiaryRow",componentId:"sc-122ziys-10"})(["> *{width:33.333333%;padding:0px 5px;}"]);var h=Object(l.default)(u).withConfig({displayName:"styled__SubmodeSelector",componentId:"sc-122ziys-11"})([""]),g=l.default.div.withConfig({displayName:"styled__submodeRow",componentId:"sc-122ziys-12"})([""]);h.Row=g,h.InlineRow=Object(l.default)(g).withConfig({displayName:"styled__InlineRow",componentId:"sc-122ziys-13"})(["text-align:right;"]);var y=l.default.div.withConfig({displayName:"styled__ModeButton",componentId:"sc-122ziys-14"})(["display:inline-block;text-align:center;box-sizing:border-box;> *{box-sizing:border-box;overflow:hidden;white-space:nowrap;}"]);y.Title=l.default.div.withConfig({displayName:"styled__Title",componentId:"sc-122ziys-15"})(["font-size:70%;&.disabled{color:#686868;}"]),y.Button=l.default.button.withConfig({displayName:"styled__Button",componentId:"sc-122ziys-16"})(["cursor:pointer;width:100%;height:100%;svg,img{vertical-align:middle;max-width:1.25em;margin:0 0.25em;height:1.25em;}&.active{font-weight:600;box-shadow:0 0 2px 2px rgba(0,64,255,0.5);}&.disabled{cursor:default;}&.disabled svg{fill:#ccc;}"]);var v=l.default.div.withConfig({displayName:"styled__DropdownSelector",componentId:"sc-122ziys-17"})(["> div{width:50%;display:inline-block;box-sizing:border-box;position:relative;}select{width:100%;box-sizing:border-box;cursor:pointer;}"]),b=l.default.div.withConfig({displayName:"styled__SliderSelector",componentId:"sc-122ziys-18"})(["> div{align-items:center;box-sizing:border-box;display:inline-flex;gap:10px;position:relative;width:100%;> label{display:block;white-space:pre;}}input{box-sizing:border-box;cursor:pointer;width:100%;}"]),w=l.default.div.withConfig({displayName:"styled__GeneralSettingsPanel",componentId:"sc-122ziys-19"})([""]),x=l.default.div.withConfig({displayName:"styled__SettingsSelectorPanel",componentId:"sc-122ziys-20"})([""]);function E(e){var t=e.className,n=void 0===t?null:t,r=e.label,i=void 0===r?null:r,l=e.name,c=void 0===l?null:l,u=e.onChange,f=void 0===u?null:u,p=e.style,m=e.value,h=void 0===m?null:m,g=Object(a.useCallback)((function(e){"function"==typeof f&&f(o()({},c,e.target.checked))}),[f]),y="id-query-param-".concat(c),v="string"==typeof h?"true"===h:h;return s.a.createElement("div",{className:n,style:p},s.a.createElement("input",{id:y,type:"checkbox",checked:v,onChange:g}),s.a.createElement(d,{htmlFor:y},i))}var _=n(173),A=n(264),O=n(51),S=n.n(O),T=n(7),I=n(84),k=n(69);function C(e){var t=e.className,n=void 0===t?null:t,r=e.children,i=void 0===r?null:r,o=e.enabled,a=void 0===o||o,l=e.onClick,c=void 0===l?null:l,u=e.selected,d=void 0!==u&&u,f=e.showTitle,p=void 0===f||f,m=e.title,h=void 0===m?null:m,g=e.style,v=void 0===g?null:g,b=d?"active":"",w=a?"":"disabled";return s.a.createElement(y,{className:n,style:v},s.a.createElement(y.Button,{"aria-pressed":d,className:"".concat(b," ").concat(w),disabled:!a,onClick:c,title:h},i),h&&p&&s.a.createElement(y.Title,{className:"".concat(b," ").concat(w),title:h},h))}var M=n(152),N=n.n(M),j=S()(N.a),L=T.default.time,R=L.getCurrentDate,D=L.getCurrentTime,P=L.getUserTimezone,B=L.OTP_API_DATE_FORMAT,F=L.OTP_API_TIME_FORMAT;function U(e){if("undefined"==typeof document)return!1;var t=document.createElement("input");return t.setAttribute("type",e),t.type===e}var z=U("date")&&U("time"),V=new Date;function G(e){var t=e.className,n=void 0===t?null:t,r=e.date,i=void 0===r?null:r,l=e.dateFormatLegacy,c=void 0===l?B:l,u=e.departArrive,d=void 0===u?"NOW":u,f=e.forceLegacy,m=void 0!==f&&f,h=e.onQueryParamChange,g=void 0===h?null:h,y=e.style,v=void 0===y?null:y,b=e.time,w=void 0===b?null:b,x=e.timeFormatLegacy,E=void 0===x?F:x,O=e.timeZone,S=void 0===O?P():O,T=Object(I.a)(),M=Object(a.useCallback)((function(e){"function"==typeof g&&g(e)}),[g]),N=function(e){return Object(a.useCallback)((function(t){M(o()({},e,t.target.value))}),[g,e])},L=N("date"),U=N("time"),G=Object(a.useCallback)((function(e){var t=Object(_.a)(Object(A.a)(e.target.value,E,V),F);M({newTime:t})}),[g]),H=Object(a.useCallback)((function(e){var t=Object(_.a)(Object(A.a)(e.target.value,c,V),B);M({newDate:t})}),[g]),W=[{type:"NOW",text:s.a.createElement(k.a,{defaultMessage:j["otpUi.DateTimeSelector.now"],description:"Text indicating that the traveler wants to depart as soon as possible (i.e. 'now')",id:"otpUi.DateTimeSelector.now"})},{type:"DEPART",text:s.a.createElement(k.a,{defaultMessage:j["otpUi.DateTimeSelector.depart"],description:"Text indicating that the traveler wants to depart at a given date/time",id:"otpUi.DateTimeSelector.depart"})},{type:"ARRIVE",text:s.a.createElement(k.a,{defaultMessage:j["otpUi.DateTimeSelector.arrive"],description:"Text indicating that the traveler wants to arrive by a certain date/time",id:"otpUi.DateTimeSelector.arrive"})}];W.forEach((function(e){e.isSelected=d===e.type}));var Y=m||!z;return s.a.createElement(p,{"aria-label":T.formatMessage({id:"otpUi.DateTimeSelector.dateTimeSelector"}),className:n,role:"group",style:v},s.a.createElement(p.DepartureRow,null,W.map((function(e){return s.a.createElement(C,{"aria-pressed":e.isSelected,key:e.type,onClick:(t=e,Object(a.useCallback)((function(){"NOW"===t.type?M({date:R(S),departArrive:"NOW",time:D(S)}):t.isSelected||M({departArrive:t.type})}),[g,t.type,t.isSelected,S])),selected:e.isSelected},e.text);var t}))),"NOW"!==d&&!Y&&s.a.createElement(p.DateTimeRow,null,s.a.createElement("div",null,s.a.createElement("input",{"aria-label":T.formatMessage({id:"otpUi.DateTimeSelector.time"}),onChange:U,required:!0,type:"time",value:w})),s.a.createElement("div",null,s.a.createElement("input",{"aria-label":T.formatMessage({id:"otpUi.DateTimeSelector.date"}),onChange:L,required:!0,type:"date",value:i}))),"NOW"!==d&&Y&&s.a.createElement(p.DateTimeRow,null,s.a.createElement("div",null,s.a.createElement("input",{defaultValue:Object(_.a)(Object(A.a)(w,F,V),E),onChange:G,required:!0,type:"text"})),s.a.createElement("div",null,s.a.createElement("input",{defaultValue:Object(_.a)(Object(A.a)(i,B,V),c),onChange:H,required:!0,type:"text"}))))}var H=function(e){e.preventDefault(),e.currentTarget.focus()};function W(e){var t=e.className,n=void 0===t?null:t,r=e.label,i=void 0===r?null:r,l=e.name,c=void 0===l?null:l,u=e.onChange,f=void 0===u?null:u,p=e.options,m=void 0===p?null:p,h=e.style,g=void 0===h?null:h,y=e.value,b=void 0===y?null:y,w=Object(a.useCallback)((function(e){if("function"==typeof f){var t=e.target.value,n=parseFloat(t);f(o()({},c,Number.isNaN(n)?t:n))}}),[f]),x="id-query-param-".concat(c);return s.a.createElement(v,{className:n,style:g},s.a.createElement("div",null,s.a.createElement(d,{htmlFor:x},i)),s.a.createElement("div",null,s.a.createElement("select",{id:x,onChange:w,onTouchStart:H,value:b},m&&m.map((function(e,t){return s.a.createElement("option",{key:t,value:e.value},e.text)})))))}function Y(e){var t=e.className,n=void 0===t?null:t,r=e.max,i=void 0===r?20:r,l=e.label,c=void 0===l?null:l,u=e.labelLow,f=e.labelHigh,p=e.min,m=void 0===p?0:p,h=e.name,g=void 0===h?null:h,y=e.step,v=void 0===y?1:y,w=e.onChange,x=void 0===w?null:w,E=e.value,_=void 0===E?1:E,A=e.style,O=Object(a.useCallback)((function(e){"function"==typeof x&&x(o()({},g,e.target.value))}),[x]),S="id-query-param-".concat(g);return s.a.createElement(b,{"aria-label":c,className:n,role:"group",style:A},!u&&!f&&s.a.createElement("div",null,s.a.createElement(d,{"aria-hidden":"true",as:"span"},c)),s.a.createElement("div",null,s.a.createElement(d,{"aria-hidden":"true",as:"span"},u),s.a.createElement("input",{"aria-label":"".concat(c,": ").concat(u," (").concat(m,") - ").concat(f," (").concat(i,")"),id:S,max:i,min:m,onChange:O,step:v,type:"range",value:_}),s.a.createElement(d,{"aria-hidden":"true",as:"span",style:{paddingLeft:0}},f)))}function Q(e){var t=e.className,n=void 0===t?null:t,r=e.onQueryParamChange,i=void 0===r?null:r,o=e.paramNames,l=void 0===o?T.default.query.defaultParams:o,c=e.query,u=void 0===c?null:c,d=e.queryParamMessages,f=void 0===d?null:d,p=e.style,m=e.supportedModes,h=Object(a.useCallback)((function(e){"function"==typeof i&&i(e)}),[i]),g={modes:m};return s.a.createElement(w,{className:n,style:p},l.map((function(e){var t=T.default.queryParams.getCustomQueryParams(f).find((function(t){return t.name===e}));if(null==t||!t.routingTypes.includes(u.routingType))return null;if("function"==typeof t.applicable&&!t.applicable(u,g))return null;var n=T.default.query.getQueryParamProperty(t,"label",u),r=T.default.query.getQueryParamProperty(t,"icon",u);switch(t.selector){case"DROPDOWN":return s.a.createElement(W,{key:t.name,label:n,name:t.name,onChange:h,options:T.default.query.getQueryParamProperty(t,"options",u),value:u[t.name]||t.default});case"CHECKBOX":return s.a.createElement(E,{key:t.label,label:s.a.createElement(s.a.Fragment,null,r,n),name:t.name,onChange:h,value:u[t.name]});case"SLIDER":return s.a.createElement(Y,{key:t.label,label:n,labelHigh:t.labelHigh,labelLow:t.labelLow,max:t.high,min:t.low,name:t.name,onChange:h,step:null==t?void 0:t.step,value:u[t.name]});default:return null}})))}function Z(e){var t=e.className,n=void 0===t?null:t,r=e.modes,i=void 0===r?null:r,o=e.onChange,l=void 0===o?null:o,c=e.style,u=void 0===c?null:c,d=i||{primary:null,secondary:null,tertiary:null},f=d.primary,p=d.secondary,h=d.tertiary,g=Object(a.useCallback)((function(e){e.selected||"function"!=typeof l||l(e.id)}),[l]),y=function(e){return s.a.createElement(C,{key:e.id,selected:e.selected,showTitle:e.showTitle,title:e.title,onClick:function(){return g(e)}},e.text)};return s.a.createElement(m,{className:n,style:u},f&&s.a.createElement(m.MainRow,null,y(f)),p&&s.a.createElement(m.SecondaryRow,null,p.map(y)),h&&s.a.createElement(m.TertiaryRow,null,h.map(y)))}var X=n(23),J=n.n(X),q=n(101);function K(e){var t=e.className,n=void 0===t?null:t,r=e.inline,i=void 0!==r&&r,o=e.label,a=void 0===o?null:o,l=e.modes,c=void 0===l?null:l,u=e.onChange,p=void 0===u?null:u,m=e.style,g=void 0===m?null:m,y=i?f:d,v=i?h.InlineRow:h.Row;return s.a.createElement(h,{"aria-label":a,className:n,role:"group",style:g},a&&s.a.createElement(y,{"aria-hidden":"true",as:"span"},a),s.a.createElement(v,null,c&&c.map((function(e){return s.a.createElement(C,{"aria-pressed":e.selected,key:e.id,selected:e.selected,showTitle:!1,title:e.title,onClick:function(){return p(e.id)}},e.text)}))))}var $=T.default.itinerary,ee=$.hasHail,te=$.hasRental,ne=$.isBicycle,re=$.isBicycleRent,ie=$.isMicromobility,oe=$.isTransit,ae=$.isWalk;function se(e){return ne(e)||re(e)}function le(e){return"string"!=typeof e}function ce(e){return le(e)?e.mode:e}function ue(e,t){return e.filter((function(e){return e.modes.split(",").filter((function(e){return t.includes(e)})).length>0})).filter((function(e){return te(e.modes)||ee(e.modes)}))}function de(e,t){var n=e.split("+"),r=n.length>1?[n[1]]:["WALK"],i=n.length>2?[n[2].toUpperCase()]:null;return{defaultAccessModeCompany:i,companies:i||ue(t,r).map((function(e){return e.id.toUpperCase()})),nonTransitModes:r}}function fe(e,t,n,r){var i=n.formatMessage({defaultMessage:r["otpUi.SettingsSelectorPanel.takeTransit"],description:"Label for taking transit as main mode option.",id:"otpUi.SettingsSelectorPanel.takeTransit"});return{id:"TRANSIT",selected:t.some(oe)&&t.includes("WALK"),showTitle:!1,text:s.a.createElement("span",null,s.a.createElement(e,{mode:"TRANSIT"}),i),title:i}}function pe(e,t,n,r,i){var o=t.accessModes,a=n.some(oe);return o&&o.map((function(t){var o=ce(t),l=le(t)?t:{},c=l.company,u=void 0===c?null:c,d=l.label,f=void 0===d?null:d,p=null==u?void 0:u.toUpperCase(),m=u?"+".concat(u):"",h="TRANSIT+".concat(o).concat(m),g=de(h,i).companies[0],y=Object(q.getCompanyIcon)(p||g||""),v=e({mode:o})||e({mode:"".concat(o,"_").concat(p)})||y&&s.a.createElement(y,null);return{id:h,selected:a&&n.includes(o)&&(!r.length||!p||r.includes(p)),text:s.a.createElement("span",null,s.a.createElement(T.SafeSuspense,{fallback:m||"Loading..."},s.a.createElement(e,{mode:"TRANSIT"}),"+",v)),title:f}}))}function me(e,t,n,r,i){var o=t.exclusiveModes;return function(e,t){return[{isActive:ae,label:e.formatMessage({defaultMessage:t["otpUi.SettingsSelectorPanel.walkOnly"],description:"Text for walk-only mode option.",id:"otpUi.SettingsSelectorPanel.walkOnly"}),mode:"WALK"},{isActive:se,label:e.formatMessage({defaultMessage:t["otpUi.SettingsSelectorPanel.bikeOnly"],description:"Text for bike-only mode option.",id:"otpUi.SettingsSelectorPanel.bikeOnly"}),mode:"BICYCLE"},{isActive:ie,label:e.formatMessage({defaultMessage:t["otpUi.SettingsSelectorPanel.escooterOnly"],description:"Text for e-scooter-only mode option.",id:"otpUi.SettingsSelectorPanel.escooterOnly"}),mode:"MICROMOBILITY"}]}(r,i).filter((function(e){var t=e.mode;return o&&o.includes(t)})).map((function(t){var r=t.isActive,i=t.label,o=t.mode;return{id:o,selected:!n.some(oe)&&n.some(r),showTitle:!1,text:s.a.createElement("span",null,s.a.createElement(e,{mode:o})," ",i),title:i}}))}function he(e,t,n){return t&&t.filter(le).map((function(t){var r=t.label,i=t.mode;return{id:i,selected:n.includes(i),text:s.a.createElement("span",null,s.a.createElement(e,{mode:i}),r),title:r}}))}var ge=S()(N.a),ye=1609.3;function ve(e,t){return t.map((function(t){return{text:60===t?e.formatNumber(1,{style:"unit",unit:"hour",unitDisplay:"long"}):e.formatNumber(t,{style:"unit",unit:"minute",unitDisplay:"long"}),value:t}}))}function be(e,t){return t.map((function(t){return{text:e.formatMessage({defaultMessage:"".concat(t," miles"),description:"Displays a distance in miles",id:"otpUi.queryParameters.distanceInMiles"},{centimiles:100*t,miles:t}).trim(),value:(n=t*ye,n>=1e3?Math.round(n):Math.round(10*n)/10)};var n}))}function we(e,t){return t.map((function(t){return{text:e.formatMessage({defaultMessage:"".concat(t," mph"),description:"Displays a speed in miles per hour",id:"otpUi.queryParameters.speedInMilesPerHour"},{mph:t}),value:Number((t*ye/3600).toFixed(2))}}))}function xe(e){return{maxWalkDistance:{label:e.formatMessage({defaultMessage:ge["otpUi.queryParameters.maxWalkDistance"],description:"Max walk distance label",id:"otpUi.queryParameters.maxWalkDistance"}),options:be(e,[.1,.25,.5,.75,1,2,5])},walkReluctance:{label:e.formatMessage({defaultMessage:ge["otpUi.queryParameters.walkReluctance"],description:"Walk reluctance label",id:"otpUi.queryParameters.walkReluctance"}),labelLow:e.formatMessage({defaultMessage:ge["otpUi.queryParameters.walkReluctanceLow"],description:"Label displayed at left side of walk reluctance slider",id:"otpUi.queryParameters.walkReluctanceLow"}),labelHigh:e.formatMessage({defaultMessage:ge["otpUi.queryParameters.walkReluctanceHigh"],description:"Label displayed at right side of walk reluctance slider",id:"otpUi.queryParameters.walkReluctanceHigh"})},maxBikeDistance:{label:e.formatMessage({defaultMessage:ge["otpUi.queryParameters.maxBikeDistance"],description:"Max bike distance label",id:"otpUi.queryParameters.maxBikeDistance"}),options:be(e,[.25,.5,.75,1,2,3,5,10,20,30])},optimizeBike:{label:e.formatMessage({defaultMessage:ge["otpUi.queryParameters.optimizeFor"],description:"Optimize selector label",id:"otpUi.queryParameters.optimizeFor"}),options:function(){return function(e){return[{text:e.formatMessage({defaultMessage:ge["otpUi.queryParameters.optimizeBikeSpeed"],description:"Option label for speed",id:"otpUi.queryParameters.optimizeBikeSpeed"}),value:"QUICK"},{text:e.formatMessage({defaultMessage:ge["otpUi.queryParameters.optimizeBikeFriendly"],description:"Option label for bike-friendly trips",id:"otpUi.queryParameters.optimizeBikeFriendly"}),value:"SAFE"},{text:e.formatMessage({defaultMessage:ge["otpUi.queryParameters.optimizeBikeFlat"],description:"Option label for flat bike trips",id:"otpUi.queryParameters.optimizeBikeFlat"}),value:"FLAT"}]}(e)}},maxWalkTime:{label:e.formatMessage({defaultMessage:ge["otpUi.queryParameters.maxWalkTime"],description:"Max walk time label",id:"otpUi.queryParameters.maxWalkTime"}),options:ve(e,[5,10,15,20,30,45,60])},walkSpeed:{label:e.formatMessage({defaultMessage:ge["otpUi.queryParameters.walkSpeed"],description:"Max walk speed label",id:"otpUi.queryParameters.walkSpeed"}),options:we(e,[2,3,4])},maxBikeTime:{label:e.formatMessage({defaultMessage:ge["otpUi.queryParameters.maxBikeTime"],description:"Max bike time label",id:"otpUi.queryParameters.maxBikeTime"}),options:ve(e,[5,10,15,20,30,45,60])},bikeSpeed:{label:e.formatMessage({defaultMessage:ge["otpUi.queryParameters.bikeSpeed"],description:"Bike speed selector label",id:"otpUi.queryParameters.bikeSpeed"}),options:we(e,[6,8,10,12])},maxEScooterDistance:{label:e.formatMessage({defaultMessage:ge["otpUi.queryParameters.maxEScooterDistance"],description:"Max e-scooter distance label",id:"otpUi.queryParameters.maxEScooterDistance"}),options:be(e,[.25,.5,.75,1,2,3,5,10,20,30])},watts:{label:e.formatMessage({defaultMessage:ge["otpUi.queryParameters.watts"],description:"E-scooter power label",id:"otpUi.queryParameters.watts"}),options:[{text:e.formatMessage({defaultMessage:ge["otpUi.queryParameters.watts125kidsHoverboard"],description:"Label for a kid's e-scooter",id:"otpUi.queryParameters.watts125kidsHoverboard"}),value:125},{text:e.formatMessage({defaultMessage:ge["otpUi.queryParameters.watts250entryLevelEscooter"],description:"Label for an entry-level e-scooter",id:"otpUi.queryParameters.watts250entryLevelEscooter"}),value:250},{text:e.formatMessage({defaultMessage:ge["otpUi.queryParameters.watts500robustEscooter"],description:"Label for a robust e-scooter",id:"otpUi.queryParameters.watts500robustEscooter"}),value:500},{text:e.formatMessage({defaultMessage:ge["otpUi.queryParameters.watts1500powerfulEscooter"],description:"Label for a powerful e-scooter",id:"otpUi.queryParameters.watts1500powerfulEscooter"}),value:1500}]},wheelchair:{label:e.formatMessage({defaultMessage:ge["otpUi.queryParameters.wheelchair"],description:"Label for wheelchair option",id:"otpUi.queryParameters.wheelchair"})}}}function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ae=T.default.itinerary,Oe=Ae.isMicromobility,Se=Ae.isTransit;function Te(e){var t=e.className,n=void 0===t?null:t,r=e.ModeIcon,i=void 0===r?q.TriMetModeIcon:r,l=e.onQueryParamChange,u=void 0===l?null:l,d=e.queryParams,f=void 0===d?null:d,p=e.queryParamMessages,m=void 0===p?null:p,h=e.style,g=void 0===h?null:h,y=e.supportedCompanies,v=void 0===y?[]:y,b=e.supportedModes,w=void 0===b?null:b,E=Object(a.useState)(null),_=J()(E,2),A=_[0],O=_[1],S=Object(a.useState)([]),k=J()(S,2),C=k[0],M=k[1],N=function(e){var t=e.mode,n=t?t.split(","):[];return T.default.query.reduceOtpFlexModes(n)}(f),j=function(e){var t=e.companies;return t?t.split(","):[]}(f),L=Object(a.useCallback)((function(e){"function"==typeof u&&u(e)}),[u]),R=Object(a.useCallback)((function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return e},i=arguments.length>4?arguments[4]:void 0,a=[].concat(n),s=a.indexOf(t);if(s>=0){var l=a.filter(r);l.length>=2&&a.splice(s,1)}else a.push(t);a.length!==n.length&&(L(o()({},e,a.join(","))),i&&i(a))}),[u]),D=Object(a.useCallback)((function(e){var t=e.split("+");if("TRANSIT"===t[0]){var n=N.filter(Se),r=0===C.length?w.transitModes.map(ce):C,i=de(e,v),o=i.defaultAccessModeCompany,a=i.companies,s=i.nonTransitModes,l=(n.length>0?n:r).concat(s);L({companies:a.join(","),mode:l.join(",")}),O(o&&o[0])}else L({companies:"",mode:t.join(",")})}),[u,f,C]),P=Object(a.useCallback)((function(e){return R("mode",e,N,Se,(function(e){return M(e.filter(Se))}))}),[u,f]),B=Object(a.useCallback)((function(e){return R("companies",e,j,void 0,(function(){}))}),[u,f]),F=Object(I.a)(),U=_e(_e({},xe(F)),m),z=function(e,t,n,r,i,o,a){return{primary:fe(e,n,o,a),secondary:pe(e,t,n,r,i),tertiary:me(e,t,n,o,a)}}(i,w,N,j,v,F,ge),V=function(e,t,n){return t.transitModes.map((function(t){var r=ce(t),i=le(t)?t.label:null;return{id:r,selected:n.includes(r),text:s.a.createElement("span",null,s.a.createElement(e,{mode:r}),i),title:i}}))}(i,w,N),G=N.filter((function(e){return!Se(e)})),H=function(e,t,n){return ue(e,t).map((function(e){var t=Object(q.getCompanyIcon)(e.id);return{id:e.id,selected:n.includes(e.id),text:s.a.createElement("span",null,s.a.createElement(T.SafeSuspense,{fallback:e.label||e.id||"Loading"},t?s.a.createElement(t,null):e.id)),title:e.label}}))}(v.filter((function(e){return!A||e.id===A})),G,j),W=he(i,w.bicycleModes,N),Y=he(i,w.micromobilityModes,N),X=F.formatMessage({defaultMessage:ge["otpUi.SettingsSelectorPanel.use"],description:"Text announcing a list of submodes to use.",id:"otpUi.SettingsSelectorPanel.use"}),$=F.formatMessage({defaultMessage:ge["otpUi.SettingsSelectorPanel.useCompanies"],description:"Text announcing a list of rental companies to use.",id:"otpUi.SettingsSelectorPanel.useCompanies"}),ee=F.formatMessage({defaultMessage:ge["otpUi.SettingsSelectorPanel.travelPreferences"],description:"Header text for the travel preferences.",id:"otpUi.SettingsSelectorPanel.travelPreferences"});return s.a.createElement(x,{"aria-label":ee,className:n,role:"group",style:g},s.a.createElement(Z,{modes:z,onChange:D,style:{margin:"0px -5px",paddingBottom:"8px"}}),s.a.createElement(c,null,ee),N.some(Se)&&V.length>=2&&s.a.createElement(K,{label:X,modes:V,onChange:P}),N.some(se)&&!N.some(Se)&&s.a.createElement(K,{label:X,inline:!0,modes:W,onChange:D}),N.some(Oe)&&!N.some(Se)&&s.a.createElement(K,{label:X,inline:!0,modes:Y,onChange:D}),H.length>=2&&s.a.createElement(K,{label:$,modes:H,onChange:B}),s.a.createElement(Q,{query:f,queryParamMessages:U,supportedModes:w,onQueryParamChange:L}))}function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ke=Object(O.flatten)(N.a);function Ce(e,t,n){switch(e.toLocaleLowerCase()){case"transit":return t.formatMessage({defaultMessage:ke["otpUi.ModeSelector.labels.transit"],description:"Metro Mode Selector Label (transit)",id:"otpUi.ModeSelector.labels.transit"});case"walk":return t.formatMessage({defaultMessage:ke["otpUi.ModeSelector.labels.walk"],description:"Metro Mode Selector Label (walk)",id:"otpUi.ModeSelector.labels.walk"});case"bicycle":return t.formatMessage({defaultMessage:ke["otpUi.ModeSelector.labels.bicycle"],description:"Metro Mode Selector Label (bicycle)",id:"otpUi.ModeSelector.labels.bicycle"});case"car":return t.formatMessage({defaultMessage:ke["otpUi.ModeSelector.labels.car"],description:"Metro Mode Selector Label (car)",id:"otpUi.ModeSelector.labels.car"});case"rent":return t.formatMessage({defaultMessage:ke["otpUi.ModeSelector.labels.rent"],description:"Metro Mode Selector Label (rent)",id:"otpUi.ModeSelector.labels.rent"});default:return t.formatMessage({defaultMessage:n||ke["otpUi.ModeSelector.labels.".concat(e)],description:"Metro Mode Selector Label (".concat(e,")"),id:"otpUi.ModeSelector.labels.".concat(e)})}}function Me(e,t){switch(e){case"walkReluctance":return t.formatMessage({defaultMessage:ke["otpUi.ModeSelector.settings.walkReluctance-label"],description:"Metro Mode Selector Setting Label (Walk Reluctance)",id:"otpUi.ModeSelector.settings.walkReluctance-label"});case"walkTolerance":return t.formatMessage({defaultMessage:ke["otpUi.ModeSelector.settings.walkTolerance-label"],description:"Metro Mode Selector Setting Label (Walk Tolerance)",id:"otpUi.ModeSelector.settings.walkTolerance-label"});case"carTolerance":return t.formatMessage({defaultMessage:ke["otpUi.ModeSelector.settings.carTolerance-label"],description:"Metro Mode Selector Setting Label (Car Tolerance)",id:"otpUi.ModeSelector.settings.carTolerance-label"});case"bikeTolerance":return t.formatMessage({defaultMessage:ke["otpUi.ModeSelector.settings.bikeTolerance-label"],description:"Metro Mode Selector Setting Label (Bike Tolerance)",id:"otpUi.ModeSelector.settings.bikeTolerance-label"});case"wheelchair":return t.formatMessage({defaultMessage:ke["otpUi.ModeSelector.settings.wheelchair-label"],description:"Metro Mode Selector Setting Label (wheelchair)",id:"otpUi.ModeSelector.settings.wheelchair-label"});case"bus":return t.formatMessage({defaultMessage:ke["otpUi.ModeSelector.settings.bus-label"],description:"Metro Mode Selector Setting Label (bus)",id:"otpUi.ModeSelector.settings.bus-label"});case"ferry":return t.formatMessage({defaultMessage:ke["otpUi.ModeSelector.settings.ferry-label"],description:"Metro Mode Selector Setting Label (ferry)",id:"otpUi.ModeSelector.settings.ferry-label"});case"subway":return t.formatMessage({defaultMessage:ke["otpUi.ModeSelector.settings.subway-label"],description:"Metro Mode Selector Setting Label (subway)",id:"otpUi.ModeSelector.settings.subway-label"});case"tram":return t.formatMessage({defaultMessage:ke["otpUi.ModeSelector.settings.tram-label"],description:"Metro Mode Selector Setting Label (tram)",id:"otpUi.ModeSelector.settings.tram-label"});case"rail":return t.formatMessage({defaultMessage:ke["otpUi.ModeSelector.settings.rail-label"],description:"Metro Mode Selector Setting Label (rail)",id:"otpUi.ModeSelector.settings.rail-label"});default:return t.formatMessage({defaultMessage:ke["otpUi.ModeSelector.settings.".concat(e,"-label")],description:"Metro Mode Selector Setting Label (".concat(e,")"),id:"otpUi.ModeSelector.settings.".concat(e,"-label")})}}function Ne(e,t,n,r){switch(e){case"SLIDER":return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({label:r||Me(t,n)},function(e,t){switch(e){case"bikeTolerance":return{labelLow:t.formatMessage({defaultMessage:ke["otpUi.ModeSelector.settings.bikeTolerance-labelLow"],description:"Metro Mode Selector Setting Slider Label Low (Bike Tolerance)",id:"otpUi.ModeSelector.settings.bikeTolerance-labelLow"}),labelHigh:t.formatMessage({defaultMessage:ke["otpUi.ModeSelector.settings.bikeTolerance-labelHigh"],description:"Metro Mode Selector Setting Slider Label High (Bike Tolerance)",id:"otpUi.ModeSelector.settings.bikeTolerance-labelHigh"})};case"carTolerance":return{labelLow:t.formatMessage({defaultMessage:ke["otpUi.ModeSelector.settings.carTolerance-labelLow"],description:"Metro Mode Selector Setting Slider Label Low (Car Tolerance)",id:"otpUi.ModeSelector.settings.carTolerance-labelLow"}),labelHigh:t.formatMessage({defaultMessage:ke["otpUi.ModeSelector.settings.carTolerance-labelHigh"],description:"Metro Mode Selector Setting Slider Label High (Car Tolerance)",id:"otpUi.ModeSelector.settings.carTolerance-labelHigh"})};case"walkTolerance":return{labelLow:t.formatMessage({defaultMessage:ke["otpUi.ModeSelector.settings.walkTolerance-labelLow"],description:"Metro Mode Selector Setting Slider Label Low (Walk Tolerance)",id:"otpUi.ModeSelector.settings.walkTolerance-labelLow"}),labelHigh:t.formatMessage({defaultMessage:ke["otpUi.ModeSelector.settings.walkTolerance-labelHigh"],description:"Metro Mode Selector Setting Slider Label High (Walk Tolerance)",id:"otpUi.ModeSelector.settings.walkTolerance-labelHigh"})};default:return{labelLow:t.formatMessage({defaultMessage:ke["otpUi.ModeSelector.settings.".concat(e,"-labelLow")],description:"Metro Mode Selector Slider Label High (".concat(e,")"),id:"otpUi.ModeSelector.settings.".concat(e,"-labelLow")}),labelHigh:t.formatMessage({defaultMessage:ke["otpUi.ModeSelector.settings.".concat(e,"-labelHigh")],description:"Metro Mode Selector Slider Label Low (".concat(e,")"),id:"otpUi.ModeSelector.settings.".concat(e,"-labelHigh")})}}}(t,n));case"CHECKBOX":case"SUBMODE":case"DROPDOWN":default:return{label:r||Me(t,n)}}}var je=Object(l.css)(["clip:rect(0,0,0,0);height:0;overflow:hidden;position:absolute;width:0;"]),Le=l.default.span.withConfig({displayName:"MetroModeSelector__InvisibleA11yLabel",componentId:"sc-n9bu6a-0"})(["display:inline-block;",""],je),Re=l.default.fieldset.withConfig({displayName:"MetroModeSelector__ModeBar",componentId:"sc-n9bu6a-1"})(["border:none;display:inline-flex;gap:0 3px;margin:0 4px 0 0;padding:0;& > legend{","}"],je),De="#666",Pe="#333",Be=Object(l.css)(["box-shadow:rgba(0,0,0,0.1) 0 0 20px;"]),Fe=l.default.span.withConfig({displayName:"MetroModeSelector__ModeButtonWrapper",componentId:"sc-n9bu6a-2"})(["position:relative;& > label{background:#fff;border-radius:5px;border:2px solid ",";cursor:pointer;display:inline-flex;padding:0.75rem 0.75rem;transition:all 250ms cubic-bezier(0.27,0.01,0.38,1.06);user-select:none;justify-content:center;aspect-ratio:1/1;}&:not(:last-of-type) > label{border-bottom-right-radius:0;border-top-right-radius:0;}&:not(:first-of-type) > label{border-bottom-left-radius:0;border-top-left-radius:0;}& > label:hover{background:#eee;border-color:",";","}& > input{"," left:-20px;position:absolute;}& > button{"," background:none;border:none;bottom:0;left:4px;position:absolute;}& > button:focus{clip:initial;height:initial;width:calc(100% - 8px);}& > input:checked + label{background:",";}& > input:checked + label,& > input:checked ~ button{color:white;fill:",";}& > input:focus + label{outline:5px auto blue;outline:5px auto -webkit-focus-ring-color;outline-offset:-4px;}& > input:checked + label:hover{background:",";}& > label > svg{color:",";display:inline-block;height:32px;margin:auto;vertical-align:middle;width:32px;fill:",";}& > input:checked + label > svg{color:#eee;}"],(function(e){return e.accentColor||De}),(function(e){return e.activeHoverColor||Pe}),Be,je,je,(function(e){return e.accentColor||De}),(function(e){return!1===e.fillModeIcons?"inherit":"currentcolor"}),(function(e){return e.activeHoverColor||Pe}),(function(e){return e.accentColor||De}),(function(e){return!1===e.fillModeIcons?"inherit":"currentcolor"}));function Ue(e){var t,n=e.accentColor,r=e.activeHoverColor,i=e.fillModeIcons,o=e.id,a=e.modeButton,l=e.onToggle,c=Object(I.a)(),u="metro-mode-selector-mode-".concat(o),d=Ce(a.key,c,a.label);return s.a.createElement(Fe,{accentColor:n,activeHoverColor:r,fillModeIcons:i},s.a.createElement("input",{"aria-label":d,checked:null!==(t=a.enabled)&&void 0!==t?t:void 0,id:u,onChange:l,type:"checkbox"}),s.a.createElement("label",{htmlFor:u,title:d},s.a.createElement(a.Icon,{"aria-hidden":!0,size:32}),s.a.createElement(Le,null,d)))}function ze(e){var t=e.accentColor,n=e.activeHoverColor,r=e.fillModeIcons,i=e.label,o=e.modeButtons,l=void 0===o?[]:o,c=e.onSettingsUpdate,u=e.onToggleModeButton;return s.a.createElement(Re,{className:"metro-mode-selector"},s.a.createElement("legend",null,i),l.map((function(e){return s.a.createElement(Ue,{accentColor:t,activeHoverColor:n,fillModeIcons:r,id:e.key,key:e.label,modeButton:e,onSettingsUpdate:c,onToggle:Object(a.useCallback)((function(){u(e.key,!e.enabled)}),[e,u])})})))}var Ve=n(124),Ge=n(89),He=n(4),We=n.n(He),Ye=n(10),Qe=a.forwardRef((function(e,t){return a.createElement(Ye.a,We()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 16 16"},e,{ref:t}),a.createElement("path",{d:"M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"}))}));Qe.displayName="Check2";n(652);function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Object(O.flatten)(N.a);var Je=l.default.div.withConfig({displayName:"SubSettingsPane__SubmodeGrid",componentId:"sc-ug95jb-0"})(["display:grid;grid-column:span 2;grid-template-columns:1fr 1fr;width:100%;"]),qe=l.default.fieldset.withConfig({displayName:"SubSettingsPane__SettingsPanel",componentId:"sc-ug95jb-1"})(["border:none;pointer-events:auto;div{padding:5px 0;}.wide{grid-column:span 2;}.slim{font-size:125%;font-weight:125%;}legend{font-size:1.5em;margin-bottom:0.5rem;padding-top:15px;}"]),Ke=Object(l.default)(E).withConfig({displayName:"SubSettingsPane__SubSettingsCheckbox",componentId:"sc-ug95jb-2"})(["",";display:",";margin-left:4px;input{flex-shrink:0;}"],(function(e){return e.flexbox?"align-items: baseline;":""}),(function(e){return e.flexbox?"flex":"inherit"})),$e=l.default.span.withConfig({displayName:"SubSettingsPane__FormLabelIconWrapper",componentId:"sc-ug95jb-3"})(["align-items:baseline;display:flex;gap:4px;svg{width:16px;height:16px;display:inline-block;margin-bottom:4px;vertical-align:middle;overflow:hidden;}"]),et=function(e){var t=e.onChange,n=e.setting,r=Object(I.a)(),i=Ne(n.type,n.key,r,n.label),o=i.label,a=i.labelHigh,l=i.labelLow,c="icon"in n?s.a.createElement($e,null,n.icon&&s.a.createElement("div",{role:"none"},n.icon),s.a.createElement("div",null,o)):o;switch(n.type){case"CHECKBOX":case"SUBMODE":return s.a.createElement(Ke,{flexbox:"SUBMODE"===n.type,label:c,name:n.key,onChange:t,value:n.value});case"DROPDOWN":return s.a.createElement(W,{label:c,name:n.key,onChange:t,options:n.options.map((function(e){return Xe(Xe({},e),{},{text:r.formatMessage({description:"Metro Mode Selector Setting (".concat(n.key,") Option Label (").concat(e.value,")"),id:"otpUi.ModeSelector.settings.".concat(n.key,"-options-").concat(e.value),defaultMessage:e.text})})})),value:n.value});case"SLIDER":return s.a.createElement(Y,{label:o,labelHigh:a,labelLow:l,max:n.high,min:n.low,name:n.key,onChange:t,step:n.step,value:n.value});default:return null}};function tt(e){var t=e.modeButton,n=e.onAllSubmodesDisabled,r=e.onSettingUpdate,i=Object(I.a)(),o=Ce(t.key,i,t.label),l=t.modeSettings.reduce((function(e,t){return"SUBMODE"===t.type?e.settingsOnlySubmodes.push(t):e.settingsNoSubmodes.push(t),e}),{settingsNoSubmodes:[],settingsOnlySubmodes:[]}),c=l.settingsNoSubmodes,u=l.settingsOnlySubmodes,d=t.modeSettings.filter((function(e){return("CHECKBOX"===e.type||"SUBMODE"===e.type)&&e.addTransportMode})),f=Object(a.useCallback)((function(e){return function(i){var o=0;d.find((function(t){return t.key===e.key}))&&d.every((function(e){return Object.keys(i).includes(e.key)||!1===e.value}))&&n&&(d.forEach((function(e){i[e.key]=Object.keys(i).includes(e.key)||!e.value})),n(t),o=700),setTimeout((function(){r(i)}),o)}}),[r]);return s.a.createElement(qe,null,s.a.createElement("legend",null,s.a.createElement("span",{id:"metro-mode-selector-".concat(t.key,"-button-label")},o)),s.a.createElement(Je,null,u.map((function(e){return s.a.createElement(et,{key:e.key,onChange:f(e),setting:e})}))),c.map((function(e){return s.a.createElement(et,{key:e.key,onChange:f(e),setting:e})})))}var nt=Ge.c.blue,rt=Ge.c.grey,it=l.default.div.withConfig({displayName:"AdvancedModeSettingsButton__SettingsContainer",componentId:"sc-1wd5ill-0"})(["width:100%;"]),ot=l.default.div.withConfig({displayName:"AdvancedModeSettingsButton__StyledModeSettingsButton",componentId:"sc-1wd5ill-1"})(["& > label{align-items:center;background-color:#fff;border:2px solid ",";border-left-width:2px;border-right-width:2px;color:",";cursor:pointer;display:grid;font-size:18px;font-weight:400;gap:20px;grid-template-columns:40px auto 40px;height:51px;justify-items:center;margin-bottom:0;margin-top:-2px;padding:0 10px;}& > input{"," &:checked + label{background-color:",";color:#fff;border-bottom-left-radius:"," !important;border-bottom-right-radius:"," !important;}&:focus-visible + label,&:focus + label{outline:"," 1px solid;outline-offset:-4px;}}& > input:checked{&:focus-visible + label,&:focus + label{outline:white 1px solid;}}span{justify-self:flex-start;}svg{height:26px;width:26px;fill:",";}&:hover{cursor:pointer;}"],(function(e){return e.accentColor}),(function(e){return e.accentColor}),je,(function(e){return e.accentColor}),(function(e){return e.subsettings&&0}),(function(e){return e.subsettings&&0}),(function(e){return e.accentColor}),(function(e){return!1===e.fillModeIcons?"inherit":"currentcolor"})),at=l.default.div.withConfig({displayName:"AdvancedModeSettingsButton__StyledSettingsContainer",componentId:"sc-1wd5ill-2"})(["border:1px solid ",";border-top:0;padding:1em;"],rt[300]),st=function(e){var t,n=e.accentColor,r=void 0===n?nt[700]:n,i=e.fillModeIcons,o=e.id,a=e.modeButton,l=e.onSettingsUpdate,c=e.onAllSubmodesDisabled,u=e.onToggle,d=Object(I.a)(),f=Ce(a.key,d,a.label),p="metro-submode-selector-mode-".concat(o);return s.a.createElement(it,{className:"advanced-submode-container"},s.a.createElement(ot,{accentColor:r,className:"advanced-submode-mode-button",fillModeIcons:i,id:a.key,subsettings:a.modeSettings.length>0},s.a.createElement("input",{"aria-label":f,checked:null!==(t=a.enabled)&&void 0!==t?t:void 0,id:p,onChange:u,type:"checkbox"}),s.a.createElement("label",{htmlFor:p},s.a.createElement(a.Icon,null),s.a.createElement("span",null,null==a?void 0:a.label),a.enabled&&s.a.createElement(Qe,null))),a.modeSettings.length>0&&s.a.createElement(Ve.default,{duration:300,height:a.enabled?"auto":0},s.a.createElement(at,{className:"subsettings-container"},s.a.createElement(tt,{onSettingUpdate:l,modeButton:a,onAllSubmodesDisabled:c}))))},lt=Ge.c.grey,ct=l.default.fieldset.withConfig({displayName:"AdvancedModeSubsettingsContainer__SubsettingsContainer",componentId:"sc-9nar0m-0"})(["border:none;margin:0;legend{","}display:flex;flex-direction:column;div:first-of-type div label{border-top-width:2px;border-radius:8px 8px 0 0;}div:last-of-type div label{border-bottom-width:2px;border-radius:0 0 8px 8px;}div.advanced-submode-container:last-of-type div.subsettings-container{border-radius:0 0 8px 8px;border-bottom:1px solid ",";}"],je,lt[300]),ut=function(e){var t=e.accentColor,n=e.fillModeIcons,r=e.modeButtons,i=e.label,o=e.onAllSubmodesDisabled,l=e.onSettingsUpdate,c=e.onToggleModeButton;return s.a.createElement(ct,null,s.a.createElement("legend",null,i),r.map((function(e){return s.a.createElement(st,{accentColor:t,fillModeIcons:n,key:e.label,modeButton:e,onSettingsUpdate:l,onAllSubmodesDisabled:o,onToggle:Object(a.useCallback)((function(){c(e.key,!e.enabled)}),[e,c]),id:e.key})})))},dt=n(33),ft=n.n(dt),pt=n(40),mt=n.n(pt);function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yt=T.default.queryGen.TRANSIT_SUBMODES_AND_TRANSIT;function vt(e){return e.reduce((function(e,t){var n;return null==t||null===(n=t.modes)||void 0===n||n.forEach((function(t){return e.push(t)})),e}),new Array)}function bt(e,t){var n=e.reduce((function(e,t){return"SUBMODE"!==t.type||t.value||e.push(t.overrideMode),e}),[]);return Object.keys(t).filter((function(e){return n.includes(t[e])}))}function wt(e,t){if(e.default)switch(mt()(e.default)){case"bigint":case"number":return Number(t);case"boolean":return"true"===t||!0===t;default:return t}switch(e.type){case"CHECKBOX":case"SUBMODE":return"true"===t||!0===t;case"SLIDER":return Number(t);default:return t}}var xt=function(e){return function(t){var n=wt(t,e[t.key]);return gt(gt({},t),{},{value:n})}};var Et=function(e){return function(t){var n,r=Array.from(new Set(null===(n=t.modes)||void 0===n?void 0:n.reduce((function(t,n){return[].concat(ft()(t),ft()(e.filter((function(e){return function(e,t){return"TRANSIT"===e.applicableMode?yt.includes(t.mode):e.applicableMode===t.mode}(e,n)}))))}),[])));return gt(gt({},t),{},{modeSettings:r})}},_t=a.forwardRef((function(e,t){return a.createElement(Ye.a,We()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),a.createElement("path",{fill:"currentColor",d:"M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256 256-114.6 256-256S397.4 0 256 0zm0 464c-114.7 0-208-93.31-208-208S141.3 48 256 48s208 93.31 208 208-93.3 208-208 208zm0-128c-18 0-32 14-32 32s13.1 32 32 32c17.1 0 32-14 32-32s-14.9-32-32-32zm33.1-208H238c-39 0-70 31-70 70 0 13 11 24 24 24s24-11 24-24c0-12 9.1-22 21.1-22h51.1c12.9 0 23.8 10 23.8 22 0 8-4 14.1-11 18.1L244 251c-8 5-12 13-12 21v16c0 13 11 24 24 24s24-11 24-24v-2l45.1-28c21-13 34-36 34-60 .9-39-30.1-70-70-70z"}))}));_t.displayName="QuestionCircle";var At,Ot,St="undefined"!=typeof navigator&&navigator.userAgent.includes("jsdom"),Tt=function(e,t){return(Tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},It=(Ot=At={path:void 0,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&At.path)}},At.exports,function(){var e={}.hasOwnProperty;function t(){for(var n=[],r=0;r<arguments.length;r++){var i=arguments[r];if(i){var o=typeof i;if("string"===o||"number"===o)n.push(i);else if(Array.isArray(i)&&i.length){var a=t.apply(null,i);a&&n.push(a)}else if("object"===o)for(var s in i)e.call(i,s)&&i[s]&&n.push(s)}}return n.join(" ")}Ot.exports?(t.default=t,Ot.exports=t):window.classNames=t}(),At.exports);function kt(e,t,n){var r,i,o,a,s;function l(){var c=Date.now()-a;c<t&&c>=0?r=setTimeout(l,t-c):(r=null,n||(s=e.apply(o,i),o=i=null))}null==t&&(t=100);var c=function(){o=this,i=arguments,a=Date.now();var c=n&&!r;return r||(r=setTimeout(l,t)),c&&(s=e.apply(o,i),o=i=null),s};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(s=e.apply(o,i),o=i=null,clearTimeout(r),r=null)},c}kt.debounce=kt;var Ct=kt;!function(e,t){void 0===t&&(t={});var n=t.insertAt;if("undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}(".indiana-scroll-container {\n  overflow: auto; }\n  .indiana-scroll-container--dragging {\n    scroll-behavior: auto !important; }\n    .indiana-scroll-container--dragging > * {\n      pointer-events: none;\n      cursor: -webkit-grab;\n      cursor: grab; }\n  .indiana-scroll-container--hide-scrollbars {\n    overflow: hidden;\n    overflow: -moz-scrollbars-none;\n    -ms-overflow-style: none;\n    scrollbar-width: none; }\n    .indiana-scroll-container--hide-scrollbars::-webkit-scrollbar {\n      display: none !important;\n      height: 0 !important;\n      width: 0 !important;\n      background: transparent !important;\n      -webkit-appearance: none !important; }\n  .indiana-scroll-container--native-scroll {\n    overflow: auto; }\n\n.indiana-dragging {\n  cursor: -webkit-grab;\n  cursor: grab; }\n");var Mt,Nt=(Mt="indiana-scroll-container",function(e,t){if(!e)return Mt;var n;"string"==typeof e?n=e:t=e;var r=Mt;return n&&(r+="__"+n),r+(t?Object.keys(t).reduce((function(e,n){var i=t[n];return i&&(e+=" "+("boolean"==typeof i?r+"--"+n:r+"--"+n+"_"+i)),e}),""):"")}),jt=function(e){function t(t){var n=e.call(this,t)||this;return n.onEndScroll=function(){n.scrolling=!1,!n.pressed&&n.started&&n.processEnd()},n.onScroll=function(e){var t=n.container.current;t.scrollLeft===n.scrollLeft&&t.scrollTop===n.scrollTop||(n.scrolling=!0,n.processScroll(e),n.onEndScroll())},n.onTouchStart=function(e){var t=n.props.nativeMobileScroll;if(n.isDraggable(e.target))if(n.internal=!0,t&&n.scrolling)n.pressed=!0;else{var r=e.touches[0];n.processClick(e,r.clientX,r.clientY),!t&&n.props.stopPropagation&&e.stopPropagation()}},n.onTouchEnd=function(e){var t=n.props.nativeMobileScroll;n.pressed&&(!n.started||n.scrolling&&t?n.pressed=!1:n.processEnd(),n.forceUpdate())},n.onTouchMove=function(e){var t=n.props.nativeMobileScroll;if(n.pressed&&(!t||!n.isMobile)){var r=e.touches[0];r&&n.processMove(e,r.clientX,r.clientY),e.preventDefault(),n.props.stopPropagation&&e.stopPropagation()}},n.onMouseDown=function(e){n.isDraggable(e.target)&&n.isScrollable()&&(n.internal=!0,-1!==n.props.buttons.indexOf(e.button)&&(n.processClick(e,e.clientX,e.clientY),e.preventDefault(),n.props.stopPropagation&&e.stopPropagation()))},n.onMouseMove=function(e){n.pressed&&(n.processMove(e,e.clientX,e.clientY),e.preventDefault(),n.props.stopPropagation&&e.stopPropagation())},n.onMouseUp=function(e){n.pressed&&(n.started?n.processEnd():(n.internal=!1,n.pressed=!1,n.forceUpdate(),n.props.onClick&&n.props.onClick(e)),e.preventDefault(),n.props.stopPropagation&&e.stopPropagation())},n.container=s.a.createRef(),n.onEndScroll=Ct(n.onEndScroll,300),n.scrolling=!1,n.started=!1,n.pressed=!1,n.internal=!1,n.getRef=n.getRef.bind(n),n}return function(e,t){function n(){this.constructor=e}Tt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.componentDidMount=function(){var e=this.props.nativeMobileScroll,t=this.container.current;window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd),t.addEventListener("touchstart",this.onTouchStart,{passive:!1}),t.addEventListener("mousedown",this.onMouseDown,{passive:!1}),e&&(this.isMobile=this.isMobileDevice(),this.isMobile&&this.forceUpdate())},t.prototype.componentWillUnmount=function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},t.prototype.getElement=function(){return this.container.current},t.prototype.isMobileDevice=function(){return void 0!==window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")},t.prototype.isDraggable=function(e){var t=this.props.ignoreElements;if(t){var n=e.closest(t);return null===n||n.contains(this.getElement())}return!0},t.prototype.isScrollable=function(){var e=this.container.current;return e&&(e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight)},t.prototype.processClick=function(e,t,n){var r=this.container.current;this.scrollLeft=r.scrollLeft,this.scrollTop=r.scrollTop,this.clientX=t,this.clientY=n,this.pressed=!0},t.prototype.processStart=function(e){void 0===e&&(e=!0);var t=this.props.onStartScroll;this.started=!0,e&&document.body.classList.add("indiana-dragging"),t&&t({external:!this.internal}),this.forceUpdate()},t.prototype.processScroll=function(e){if(this.started){var t=this.props.onScroll;t&&t({external:!this.internal})}else this.processStart(!1)},t.prototype.processMove=function(e,t,n){var r=this.props,i=r.horizontal,o=r.vertical,a=r.activationDistance,s=r.onScroll,l=this.container.current;this.started?(i&&(l.scrollLeft-=t-this.clientX),o&&(l.scrollTop-=n-this.clientY),s&&s({external:!this.internal}),this.clientX=t,this.clientY=n,this.scrollLeft=l.scrollLeft,this.scrollTop=l.scrollTop):(i&&Math.abs(t-this.clientX)>a||o&&Math.abs(n-this.clientY)>a)&&(this.clientX=t,this.clientY=n,this.processStart())},t.prototype.processEnd=function(){var e=this.props.onEndScroll;this.container.current&&e&&e({external:!this.internal}),this.pressed=!1,this.started=!1,this.scrolling=!1,this.internal=!1,document.body.classList.remove("indiana-dragging"),this.forceUpdate()},t.prototype.getRef=function(e){[this.container,this.props.innerRef].forEach((function(t){t&&("function"==typeof t?t(e):t.current=e)}))},t.prototype.render=function(){var e=this.props,t=e.children,n=e.draggingClassName,r=e.className,i=e.style,o=e.hideScrollbars,a=e.component;return s.a.createElement(a,{className:It(r,this.pressed&&n,Nt({dragging:this.pressed,"hide-scrollbars":o,"native-scroll":this.isMobile})),style:i,ref:this.getRef,onScroll:this.onScroll},t)},t.defaultProps={nativeMobileScroll:!0,hideScrollbars:!0,activationDistance:10,vertical:!0,horizontal:!0,stopPropagation:!1,style:{},component:"div",buttons:[0]},t}(a.PureComponent),Lt=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};var Rt=["br","col","colgroup","dl","hr","iframe","img","input","link","menuitem","meta","ol","param","select","table","tbody","tfoot","thead","tr","ul","wbr"],Dt={"accept-charset":"acceptCharset",acceptcharset:"acceptCharset",accesskey:"accessKey",allowfullscreen:"allowFullScreen",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",cellpadding:"cellPadding",cellspacing:"cellSpacing",charset:"charSet",class:"className",classid:"classID",classname:"className",colspan:"colSpan",contenteditable:"contentEditable",contextmenu:"contextMenu",controlslist:"controlsList",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",datetime:"dateTime",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",enctype:"encType",for:"htmlFor",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",innerhtml:"innerHTML",inputmode:"inputMode",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",marginwidth:"marginWidth",marginheight:"marginHeight",maxlength:"maxLength",mediagroup:"mediaGroup",minlength:"minLength",nomodule:"noModule",novalidate:"noValidate",playsinline:"playsInline",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rowspan:"rowSpan",spellcheck:"spellCheck",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",tabindex:"tabIndex",typemustmatch:"typeMustMatch",usemap:"useMap",accentheight:"accentHeight","accent-height":"accentHeight",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",arabicform:"arabicForm","arabic-form":"arabicForm",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",diffuseconstant:"diffuseConstant",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",edgemode:"edgeMode",enablebackground:"enableBackground","enable-background":"enableBackground",externalresourcesrequired:"externalResourcesRequired",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",imagerendering:"imageRendering","image-rendering":"imageRendering",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",vmathematical:"vMathematical","v-mathematical":"vMathematical",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan",onblur:"onBlur",onchange:"onChange",onclick:"onClick",oncontextmenu:"onContextMenu",ondoubleclick:"onDoubleClick",ondrag:"onDrag",ondragend:"onDragEnd",ondragenter:"onDragEnter",ondragexit:"onDragExit",ondragleave:"onDragLeave",ondragover:"onDragOver",ondragstart:"onDragStart",ondrop:"onDrop",onerror:"onError",onfocus:"onFocus",oninput:"onInput",oninvalid:"onInvalid",onkeydown:"onKeyDown",onkeypress:"onKeyPress",onkeyup:"onKeyUp",onload:"onLoad",onmousedown:"onMouseDown",onmouseenter:"onMouseEnter",onmouseleave:"onMouseLeave",onmousemove:"onMouseMove",onmouseout:"onMouseOut",onmouseover:"onMouseOver",onmouseup:"onMouseUp",onscroll:"onScroll",onsubmit:"onSubmit",ontouchcancel:"onTouchCancel",ontouchend:"onTouchEnd",ontouchmove:"onTouchMove",ontouchstart:"onTouchStart",onwheel:"onWheel"},Pt=function(){return(Pt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Bt=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Ft=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function Ut(e,t){var n={key:t};if(e instanceof Element){var r=e.getAttribute("class");r&&(n.className=r),Ft([],Bt(e.attributes),!1).forEach((function(e){switch(e.name){case"class":break;case"style":n[e.name]=e.value.split(/ ?; ?/).reduce((function(e,t){var n=Lt(t.split(/ ?: ?/),2),r=n[0],i=n[1];return r&&i&&(e[r.replace(/-(\w)/g,(function(e,t){return t.toUpperCase()}))]=Number.isNaN(Number(i))?i:Number(i)),e}),{});break;case"allowfullscreen":case"allowpaymentrequest":case"async":case"autofocus":case"autoplay":case"checked":case"controls":case"default":case"defer":case"disabled":case"formnovalidate":case"hidden":case"ismap":case"itemscope":case"loop":case"multiple":case"muted":case"nomodule":case"novalidate":case"open":case"readonly":case"required":case"reversed":case"selected":case"typemustmatch":n[Dt[e.name]||e.name]=!0;break;default:n[Dt[e.name]||e.name]=e.value}}))}return n}function zt(e,t){var n;if(void 0===t&&(t={}),!(e&&e instanceof Node))return null;var r,i=t.actions,o=void 0===i?[]:i,s=t.index,l=void 0===s?0:s,c=t.level,u=void 0===c?0:c,d=t.randomKey,f=e,p="".concat(u,"-").concat(l),m=[];if(d&&0===u&&(p="".concat(function(e){void 0===e&&(e=6);for(var t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n="",r=e;r>0;--r)n+=t[Math.round(Math.random()*(t.length-1))];return n}(),"-").concat(p)),Array.isArray(o)&&o.forEach((function(t){t.condition(f,p,u)&&("function"==typeof t.pre&&((f=t.pre(f,p,u))instanceof Node||(f=e)),"function"==typeof t.post&&m.push(t.post(f,p,u)))})),m.length)return m;switch(f.nodeType){case 1:return a.createElement((r=f.nodeName,/[a-z]+[A-Z]+[a-z]+/.test(r)?r:r.toLowerCase()),Ut(f,p),function(e,t,n){var r=Ft([],Bt(e),!1).map((function(e,r){return zt(e,Pt(Pt({},n),{index:r,level:t+1}))})).filter(Boolean);return r.length?r:null}(f.childNodes,u,t));case 3:var h=(null===(n=f.nodeValue)||void 0===n?void 0:n.toString())||"";if(/^\s+$/.test(h)&&!/[\u00A0\u202F]/.test(h))return null;if(!f.parentNode)return h;var g=f.parentNode.nodeName.toLowerCase();return Rt.includes(g)?(/\S/.test(h)&&console.warn("A textNode is not allowed inside '".concat(g,"'. Your text \"").concat(h,'" will be ignored')),null):h;case 8:default:return null}}function Vt(e,t){return void 0===t&&(t={}),"string"==typeof e?function(e,t){if(void 0===t&&(t={}),!e||"string"!=typeof e)return null;var n=t.nodeOnly,r=void 0!==n&&n,i=t.selector,o=void 0===i?"body > *":i,a=t.type,s=void 0===a?"text/html":a;try{var l=(new DOMParser).parseFromString(e,s).querySelector(o);if(!(l instanceof Node))throw new TypeError("Error parsing input");return r?l:zt(l,t)}catch(e){}return null}(e,t):e instanceof Node?zt(e,t):null}var Gt=n(372),Ht={FAILED:"failed",LOADED:"loaded",LOADING:"loading",PENDING:"pending",READY:"ready",UNSUPPORTED:"unsupported"};function Wt(){return Gt.canUseDOM}function Yt(){return function(){if(!document)return!1;var e=document.createElement("div");return e.innerHTML="<svg />",!!e.firstChild&&"http://www.w3.org/2000/svg"===e.firstChild.namespaceURI}()&&"undefined"!=typeof window&&null!==window}var Qt,Zt=(Qt=function(e,t){return(Qt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Qt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Xt=function(){return(Xt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Jt=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},qt=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},Kt=Object.create(null),$t=function(e){function t(t){var n=e.call(this,t)||this;return n.isActive=!1,n.handleCacheQueue=function(e){"string"!=typeof e?n.handleError(e):n.handleLoad(e)},n.handleLoad=function(e){n.isActive&&n.setState({content:e,status:Ht.LOADED},n.getElement)},n.handleError=function(e){var t=n.props.onError,r="Browser does not support SVG"===e.message?Ht.UNSUPPORTED:Ht.FAILED;n.isActive&&n.setState({status:r},(function(){"function"==typeof t&&t(e)}))},n.request=function(){var e=n.props,t=e.cacheRequests,r=e.fetchOptions,i=e.src;try{return t&&(Kt[i]={content:"",status:Ht.LOADING,queue:[]}),fetch(i,r).then((function(e){var t=e.headers.get("content-type"),n=Jt((t||"").split(/ ?; ?/),1)[0];if(e.status>299)throw new Error("Not found");if(!["image/svg+xml","text/plain"].some((function(e){return n.indexOf(e)>=0})))throw new Error("Content type isn't valid: "+n);return e.text()})).then((function(e){var r=n.props.src;if(i===r&&(n.handleLoad(e),t)){var o=Kt[i];o&&(o.content=e,o.status=Ht.LOADED,o.queue=o.queue.filter((function(t){return t(e),!1})))}})).catch((function(e){if(n.handleError(e),t){var r=Kt[i];r&&(r.queue.forEach((function(t){t(e)})),delete Kt[i])}}))}catch(e){return n.handleError(new Error(e.message))}},n.state={content:"",element:null,hasCache:!!t.cacheRequests&&!!Kt[t.src],status:Ht.PENDING},n.hash=t.uniqueHash||function(e){for(var t,n="abcdefghijklmnopqrstuvwxyz",r=""+n+n.toUpperCase()+"1234567890",i="",o=0;o<e;o++)i+=(t=r)[Math.floor(Math.random()*t.length)];return i}(8),n}return Zt(t,e),t.prototype.componentDidMount=function(){if(this.isActive=!0,Wt()){var e=this.state.status,t=this.props.src;try{if(e===Ht.PENDING){if(!Yt())throw new Error("Browser does not support SVG");if(!t)throw new Error("Missing src");this.load()}}catch(e){this.handleError(e)}}},t.prototype.componentDidUpdate=function(e,t){if(Wt()){var n=this.state,r=n.hasCache,i=n.status,o=this.props,a=o.onLoad,s=o.src;if(t.status!==Ht.READY&&i===Ht.READY&&a&&a(s,r),e.src!==s){if(!s)return void this.handleError(new Error("Missing src"));this.load()}}},t.prototype.componentWillUnmount=function(){this.isActive=!1},t.prototype.processSVG=function(){var e=this.state.content,t=this.props.preProcessor;return t?t(e):e},t.prototype.updateSVGAttributes=function(e){var t=this,n=this.props,r=n.baseURL,i=void 0===r?"":r,o=n.uniquifyIDs,a=["id","href","xlink:href","xlink:role","xlink:arcrole"],s=["href","xlink:href"];return o?(qt([],Jt(e.children)).map((function(e){if(e.attributes&&e.attributes.length){var n=Object.values(e.attributes).map((function(e){var n=e,r=e.value.match(/url\((.*?)\)/);return r&&r[1]&&(n.value=e.value.replace(r[0],"url("+i+r[1]+"__"+t.hash+")")),n}));a.forEach((function(e){var r,i,o=n.find((function(t){return t.name===e}));!o||(r=e,i=o.value,s.indexOf(r)>=0&&i&&i.indexOf("#")<0)||(o.value=o.value+"__"+t.hash)}))}return e.children.length?t.updateSVGAttributes(e):e})),e):e},t.prototype.getNode=function(){var e=this.props,t=e.description,n=e.title;try{var r=Vt(this.processSVG(),{nodeOnly:!0});if(!(r&&r instanceof SVGSVGElement))throw new Error("Could not convert the src to a DOM Node");var i=this.updateSVGAttributes(r);if(t){var o=i.querySelector("desc");o&&o.parentNode&&o.parentNode.removeChild(o);var a=document.createElement("desc");a.innerHTML=t,i.prepend(a)}if(n){var s=i.querySelector("title");s&&s.parentNode&&s.parentNode.removeChild(s);var l=document.createElement("title");l.innerHTML=n,i.prepend(l)}return i}catch(e){return this.handleError(e)}},t.prototype.getElement=function(){try{var e=Vt(this.getNode());if(!e||!a.isValidElement(e))throw new Error("Could not convert the src to a React element");this.setState({element:e,status:Ht.READY})}catch(e){this.handleError(new Error(e.message))}},t.prototype.load=function(){var e=this;this.isActive&&this.setState({content:"",element:null,status:Ht.LOADING},(function(){var t=e.props,n=t.cacheRequests,r=t.src,i=n&&Kt[r];if(i)i.status===Ht.LOADING?i.queue.push(e.handleCacheQueue):i.status===Ht.LOADED&&e.handleLoad(i.content);else{var o,a=r.match(/data:image\/svg[^,]*?(;base64)?,(.*)/);a?o=a[1]?atob(a[2]):decodeURIComponent(a[2]):r.indexOf("<svg")>=0&&(o=r),o?e.handleLoad(o):e.request()}}))},t.prototype.render=function(){var e=this.state,t=e.element,n=e.status,r=this.props,i=r.children,o=void 0===i?null:i,s=r.innerRef,l=r.loader,c=void 0===l?null:l,u=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r={};for(var i in e)({}).hasOwnProperty.call(e,i)&&(t.includes(i)||(r[i]=e[i]));return r}(this.props,"baseURL","cacheRequests","children","description","fetchOptions","innerRef","loader","onError","onLoad","preProcessor","src","title","uniqueHash","uniquifyIDs");return Wt()?t?a.cloneElement(t,Xt({ref:s},u)):[Ht.UNSUPPORTED,Ht.FAILED].indexOf(n)>-1?o:c:c},t.defaultProps={cacheRequests:!0,uniquifyIDs:!1},t}(a.PureComponent),en=a.forwardRef((function(e,t){return a.createElement(Ye.a,We()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 16 16"},e,{ref:t}),a.createElement("path",{d:"M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"}))}));en.displayName="Check";var tn=a.forwardRef((function(e,t){return a.createElement(Ye.a,We()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),a.createElement("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4z"}),a.createElement("path",{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"}))}));tn.displayName="PlusCircle";var nn="Opens a dialog that describes this mode, with optional links to third party services.",rn=(l.default.div.withConfig({displayName:"styled__TripOptionsContainer",componentId:"sc-18bsv9u-0"})(["background-color:#0d5eac;color:white;font-weight:40;max-width:992px;min-height:400px;"]),l.default.div.withConfig({displayName:"styled__TripOptionsSubContainer",componentId:"sc-18bsv9u-1"})(["max-width:700px;padding:12px;"]),l.default.div.withConfig({displayName:"styled__TransitOptionsContainer",componentId:"sc-18bsv9u-2"})(["display:flex;gap:20px;> button{flex:1;}"]),Object(l.css)(["border-radius:50%;height:2.5em;margin-bottom:10px;width:2.5em;z-index:10;"])),on=Object(l.default)(en).withConfig({displayName:"styled__GreenCheck",componentId:"sc-18bsv9u-3"})([""," background-color:rgb(84,174,88);color:white;"],rn),an=Object(l.default)(tn).withConfig({displayName:"styled__UncheckedIcon",componentId:"sc-18bsv9u-4"})(["",""],rn),sn=l.default.img.withConfig({displayName:"styled__Image",componentId:"sc-18bsv9u-5"})(["max-width:100%;"]),ln=(l.default.div.withConfig({displayName:"styled__FeaturedOptionImageWrapper",componentId:"sc-18bsv9u-6"})(["align-items:center;display:flex;justify-content:center;padding:1em;*{max-height:200px;width:100%;}"]),l.default.span.withConfig({displayName:"styled__ModeIconWrapper",componentId:"sc-18bsv9u-7"})(["~ ",",~ ","{height:1.5em;margin-bottom:-1em;position:relative;right:-30px;top:-50px;width:1.5em;}& svg{fill:white;height:3em;position:relative;width:3em;}"],on,an),l.default.button.attrs({"aria-label":nn}).withConfig({displayName:"styled__QuestionButton",componentId:"sc-18bsv9u-8"})(["background-color:rgba(0,0,0,0);border:none;color:white;cursor:pointer;float:right;opacity:0.5;> svg{height:1em;width:1em;}:hover{opacity:1;}"]));l.default.div.attrs({"aria-label":nn}).withConfig({displayName:"styled__FeaturedOptionQuestionContainer",componentId:"sc-18bsv9u-9"})(["cursor:pointer;&:hover ","{opacity:1;}"],ln),Object(l.default)(sn).withConfig({displayName:"styled__MaxHeightImage",componentId:"sc-18bsv9u-10"})(["max-height:200px;"]),l.default.button.attrs((function(e){return{"aria-checked":e.ariaChecked||e.selected,"aria-label":e.ariaLabel,role:"checkbox",tabIndex:0}})).withConfig({displayName:"styled__OptionButton",componentId:"sc-18bsv9u-11"})(["align-items:center;background-color:rgba(0,0,0,0);border-color:",";border-radius:7px;border:solid 1px;color:white;cursor:",";display:flex;grid-gap:10px;justify-content:space-between;margin-top:7px;min-width:100%;opacity:",";padding:7px 5px;svg{@media (max-width:768px){max-height:20px;max-width:20px;}}&:hover{opacity:1;}"],(function(e){return e.selected?"white":"lightgrey"}),(function(e){return e.disabled?"not-allowed":"pointer"}),(function(e){return e.selected?"1":"0.65"})),l.default.div.withConfig({displayName:"styled__OptionLabel",componentId:"sc-18bsv9u-12"})(["flex:2;text-align:left;"]),l.default.div.withConfig({displayName:"styled__OptionIcon",componentId:"sc-18bsv9u-13"})(["> svg{margin-bottom:0px;}"]),Object(l.default)($t).withConfig({displayName:"styled__OptionImage",componentId:"sc-18bsv9u-14"})(["max-height:20px;width:50px;",""],(function(e){return e.iconFillOverride?"fill: ".concat(e.iconFillOverride,";"):""})),l.default.button.attrs((function(e){return{"aria-checked":e.ariaChecked||e.selected,"aria-label":e.ariaLabel,role:"checkbox",tabIndex:0}})).withConfig({displayName:"styled__Checkbox",componentId:"sc-18bsv9u-15"})(["align-items:center;background-color:rgba(0,0,0,0);border:none;color:white;cursor:",";display:flex;flex-direction:column;min-width:",";opacity:",";padding:20px 0px;white-space:pre-wrap;",""],(function(e){return e.disabled?"not-allowed":"pointer"}),(function(e){return"WALK"===e.mode||"BICYCLE"===e.mode?"50px":"77px"}),(function(e){return e.selected?"1":"0.65"}),(function(e){return e.inset?"\n    margin: 20px 0;\n    position: relative;\n\n    ".concat(an," {\n      background: #0d5eac;\n    }\n\n    ").concat(on,", ").concat(an," {\n      position: absolute;\n      right: 5.5%;\n      top: 11%;\n      @media (max-width: 768px) {\n        max-height: 20px;\n        max-width: 20px;\n      }\n    }\n  "):""})),l.default.div.withConfig({displayName:"styled__FeaturedOptionContainer",componentId:"sc-18bsv9u-16"})(["display:flex;min-height:200px;> div{flex:1;}"]),l.default.div.withConfig({displayName:"styled__OverlayContainer",componentId:"sc-18bsv9u-17"})(["padding:15px;"]),l.default.h3.withConfig({displayName:"styled__OverlayHeader",componentId:"sc-18bsv9u-18"})(["text-align:center;"]),l.default.ul.withConfig({displayName:"styled__OverlayOptions",componentId:"sc-18bsv9u-19"})(["list-style:none;margin-left:0;padding-left:0;li > a{align-items:center;background-color:#fff;border-radius:7px;color:#000;display:flex;height:40px;justify-content:space-between;margin-bottom:10px;padding:10px;padding-bottom:5px;text-decoration:none;.label,.label *{height:40px;}.open-link{color:#777;}}"]),Object(l.default)(St?"div":jt).withConfig({displayName:"styled__ScrollableRow",componentId:"sc-18bsv9u-20"})(["background-color:#0a4c8d;display:flex;overflow-x:scroll;padding:0 12px;> button{display:flex;flex-direction:column;justify-content:space-between;margin-right:24px;}&:hover > button:hover{opacity:1;}&:hover > button:hover svg{opacity:1;}-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}"]);n(166);var cn=n(350),un=n.n(cn)},function(e,t,n){"use strict";var r=n(555),i=n(574),o=n(344);e.exports={formats:o,parse:i,stringify:r}},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return s}));var r={LARGE:"large",SMALL:"small",XSMALL:"xsmall"},i={large:"lg",medium:"md",small:"sm",xsmall:"xs",lg:"lg",md:"md",sm:"sm",xs:"xs"},o=["lg","md","sm","xs"],a={SUCCESS:"success",WARNING:"warning",DANGER:"danger",INFO:"info"},s={DEFAULT:"default",PRIMARY:"primary",LINK:"link",INVERSE:"inverse"}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return _})),n.d(t,"e",(function(){return F})),n.d(t,"f",(function(){return E})),n.d(t,"g",(function(){return N})),n.d(t,"h",(function(){return V})),n.d(t,"i",(function(){return G})),n.d(t,"j",(function(){return U}));var r=n(97),i=n(0),o=n.n(i),a=n(2),s=n.n(a),l=n(102),c=n(127),u=n(65),d=n(399),f=n.n(d),p=(n(178),n(94)),m=n(140),h=n.n(m),g=1073741823,y="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:{};function v(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var b=o.a.createContext||function(e,t){var n,i,a="__create-react-context-"+function(){var e="__global_unique_id__";return y[e]=(y[e]||0)+1}()+"__",l=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).emitter=v(t.props.value),t}Object(r.a)(n,e);var i=n.prototype;return i.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},i.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;((o=r)===(a=i)?0!==o||1/o==1/a:o!=o&&a!=a)?n=0:(n="function"==typeof t?t(r,i):g,0!==(n|=0)&&this.emitter.set(e.value,n))}var o,a},i.render=function(){return this.props.children},n}(o.a.Component);l.childContextTypes=((n={})[a]=s.a.object.isRequired,n);var c=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).observedBits=void 0,e.state={value:e.getValue()},e.onUpdate=function(t,n){0!=((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}Object(r.a)(n,t);var i=n.prototype;return i.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?g:t},i.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?g:e},i.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},i.getValue=function(){return this.context[a]?this.context[a].get():e},i.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(o.a.Component);return c.contextTypes=((i={})[a]=s.a.object,i),{Provider:l,Consumer:c}},w=function(e){var t=b();return t.displayName=e,t},x=w("Router-History"),E=w("Router"),_=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._pendingLocation=e}))),n}Object(r.a)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return o.a.createElement(E.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},o.a.createElement(x.Provider,{children:this.props.children||null,value:this.props.history}))},t}(o.a.Component);o.a.Component;var A=function(e){function t(){return e.apply(this,arguments)||this}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(o.a.Component);function O(e){var t=e.message,n=e.when,r=void 0===n||n;return o.a.createElement(E.Consumer,null,(function(e){if(e||Object(c.a)(!1),!r||e.staticContext)return null;var n=e.history.block;return o.a.createElement(A,{onMount:function(e){e.release=n(t)},onUpdate:function(e,r){r.message!==t&&(e.release(),e.release=n(t))},onUnmount:function(e){e.release()},message:t})}))}var S={},T=0;function I(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(S[e])return S[e];var t=f.a.compile(e);return T<1e4&&(S[e]=t,T++),t}(e)(t,{pretty:!0})}function k(e){var t=e.computedMatch,n=e.to,r=e.push,i=void 0!==r&&r;return o.a.createElement(E.Consumer,null,(function(e){e||Object(c.a)(!1);var r=e.history,a=e.staticContext,s=i?r.push:r.replace,d=Object(l.c)(t?"string"==typeof n?I(n,t.params):Object(u.a)({},n,{pathname:I(n.pathname,t.params)}):n);return a?(s(d),null):o.a.createElement(A,{onMount:function(){s(d)},onUpdate:function(e,t){var n=Object(l.c)(t.to);Object(l.f)(n,Object(u.a)({},d,{key:n.key}))||s(d)},to:n})}))}var C={},M=0;function N(e,t){void 0===t&&(t={}),("string"==typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,l=n.sensitive,c=void 0!==l&&l;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=C[n]||(C[n]={});if(r[e])return r[e];var i=[],o={regexp:f()(e,i,t),keys:i};return M<1e4&&(r[e]=o,M++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,l=i.exec(e);if(!l)return null;var u=l[0],d=l.slice(1),p=e===u;return o&&!p?null:{path:n,url:"/"===n&&""===u?"/":u,isExact:p,params:a.reduce((function(e,t,n){return e[t.name]=d[n],e}),{})}}),null)}var j=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(E.Consumer,null,(function(t){t||Object(c.a)(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?N(n.pathname,e.props):t.match,i=Object(u.a)({},t,{location:n,match:r}),a=e.props,s=a.children,l=a.component,d=a.render;return Array.isArray(s)&&function(e){return 0===o.a.Children.count(e)}(s)&&(s=null),o.a.createElement(E.Provider,{value:i},i.match?s?"function"==typeof s?s(i):s:l?o.a.createElement(l,i):d?d(i):null:"function"==typeof s?s(i):null)}))},t}(o.a.Component);function L(e){return"/"===e.charAt(0)?e:"/"+e}function R(e,t){if(!e)return t;var n=L(e);return 0!==t.pathname.indexOf(n)?t:Object(u.a)({},t,{pathname:t.pathname.substr(n.length)})}function D(e){return"string"==typeof e?e:Object(l.e)(e)}function P(e){return function(){Object(c.a)(!1)}}function B(){}o.a.Component;var F=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(E.Consumer,null,(function(t){t||Object(c.a)(!1);var n,r,i=e.props.location||t.location;return o.a.Children.forEach(e.props.children,(function(e){if(null==r&&o.a.isValidElement(e)){n=e;var a=e.props.path||e.props.from;r=a?N(i.pathname,Object(u.a)({},e.props,{path:a})):t.match}})),r?o.a.cloneElement(n,{location:i,computedMatch:r}):null}))},t}(o.a.Component);function U(e){var t="withRouter("+(e.displayName||e.name)+")",n=function(t){var n=t.wrappedComponentRef,r=Object(p.a)(t,["wrappedComponentRef"]);return o.a.createElement(E.Consumer,null,(function(t){return t||Object(c.a)(!1),o.a.createElement(e,Object(u.a)({},r,t,{ref:n}))}))};return n.displayName=t,n.WrappedComponent=e,h()(n,e)}var z=o.a.useContext;function V(){return z(x)}function G(){return z(E).location}}).call(this,n(93))},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"g",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"f",(function(){return u}));var r,i=n(17);!function(e){e.FORMAT_ERROR="FORMAT_ERROR",e.UNSUPPORTED_FORMATTER="UNSUPPORTED_FORMATTER",e.INVALID_CONFIG="INVALID_CONFIG",e.MISSING_DATA="MISSING_DATA",e.MISSING_TRANSLATION="MISSING_TRANSLATION"}(r||(r={}));var o=function(e){function t(n,r,i){var o=e.call(this,"[@formatjs/intl Error "+n+"] "+r+" \n"+(i?"\n"+i.message+"\n"+i.stack:""))||this;return o.code=n,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(o,t),o}return Object(i.b)(t,e),t}(Error),a=function(e){function t(t,n){return e.call(this,r.UNSUPPORTED_FORMATTER,t,n)||this}return Object(i.b)(t,e),t}(o),s=function(e){function t(t,n){return e.call(this,r.INVALID_CONFIG,t,n)||this}return Object(i.b)(t,e),t}(o),l=function(e){function t(t,n){return e.call(this,r.MISSING_DATA,t,n)||this}return Object(i.b)(t,e),t}(o),c=function(e){function t(t,n,i,o){var a=e.call(this,r.FORMAT_ERROR,t+" \nLocale: "+n+"\nMessageID: "+(null==i?void 0:i.id)+"\nDefault Message: "+(null==i?void 0:i.defaultMessage)+"\nDescription: "+(null==i?void 0:i.description)+" \n",o)||this;return a.descriptor=i,a}return Object(i.b)(t,e),t}(o),u=function(e){function t(t,n){var i=e.call(this,r.MISSING_TRANSLATION,'Missing message: "'+t.id+'" for locale "'+n+'", using '+(t.defaultMessage?"default message":"id")+" as fallback.")||this;return i.descriptor=t,i}return Object(i.b)(t,e),t}(o)},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var r={};function i(e){return Math.floor(Math.abs(e)+.5)*(e>=0?1:-1)}function o(e,t,n){var r=2*((e=i(e*n))-(t=i(t*n)));r<0&&(r=-r-1);for(var o="";r>=32;)o+=String.fromCharCode(63+(32|31&r)),r/=32;return o+=String.fromCharCode(63+(0|r))}function a(e){for(var t=[],n=0;n<e.length;n++){var r=e[n].slice();t.push([r[1],r[0]])}return t}r.decode=function(e,t){for(var n,r=0,i=0,o=0,a=[],s=0,l=0,c=null,u=Math.pow(10,Number.isInteger(t)?t:5);r<e.length;){c=null,s=1,l=0;do{l+=(31&(c=e.charCodeAt(r++)-63))*s,s*=32}while(c>=32);n=1&l?(-l-1)/2:l/2,s=1,l=0;do{l+=(31&(c=e.charCodeAt(r++)-63))*s,s*=32}while(c>=32);i+=n,o+=1&l?(-l-1)/2:l/2,a.push([i/u,o/u])}return a},r.encode=function(e,t){if(!e.length)return"";for(var n=Math.pow(10,Number.isInteger(t)?t:5),r=o(e[0][0],0,n)+o(e[0][1],0,n),i=1;i<e.length;i++){var a=e[i],s=e[i-1];r+=o(a[0],s[0],n),r+=o(a[1],s[1],n)}return r},r.fromGeoJSON=function(e,t){if(e&&"Feature"===e.type&&(e=e.geometry),!e||"LineString"!==e.type)throw new Error("Input must be a GeoJSON LineString");return r.encode(a(e.coordinates),t)},r.toGeoJSON=function(e,t){return{type:"LineString",coordinates:a(r.decode(e,t))}},e.exports&&(e.exports=r)},function(e,t,n){"use strict";function r(e){if(!e)throw new Error("Value must not be null or undefined.");return Array.isArray(e)?i(e):"string"==typeof e?s(e):"coordinates"in e?i(e.coordinates):"x"in e&&"y"in e&&(e.x||0===e.x)&&(e.y||0===e.y)?a(e):S(e)}function i(e){return S({lat:e[1],lon:e[0]})}function o(e){return S(e)}function a(e){return S({lat:e.y,lon:e.x})}function s(e){const t=e.split(",");return S({lat:t[1],lon:t[0]})}function l(e){const t=e.split(",");return S({lat:t[0],lon:t[1]})}function c(e,t,n){return e=r(e),t=r(t),n=n||0,Math.abs(e.lat-t.lat)<=n&&Math.abs(e.lon-t.lon)<=n}function u(e,t){const n=r(e);return n.lon.toFixed(t||5)+", "+n.lat.toFixed(t||5)}function d(e){const t=r(e);return[t.lon,t.lat]}function f(e){if(!window.L)throw new Error("Leaflet not found.");const t=r(e);return window.L.latLng(t.lat,t.lon)}function p(e){const t=r(e);return{x:t.lon,y:t.lat}}function m(e){const t=r(e);return t.lon+","+t.lat}function h(e){const t=r(e);return t.lat+","+t.lon}n.r(t),n.d(t,"PIXELS_PER_TILE",(function(){return g})),n.d(t,"fromCoordinates",(function(){return i})),n.d(t,"fromGeoJSON",(function(){return i})),n.d(t,"fromLatFirstString",(function(){return l})),n.d(t,"fromLatlng",(function(){return o})),n.d(t,"fromLeaflet",(function(){return o})),n.d(t,"fromLonFirstString",(function(){return s})),n.d(t,"fromPixel",(function(){return O})),n.d(t,"fromPoint",(function(){return a})),n.d(t,"fromString",(function(){return s})),n.d(t,"isEqual",(function(){return c})),n.d(t,"latitudeToPixel",(function(){return w})),n.d(t,"longitudeToPixel",(function(){return b})),n.d(t,"normalize",(function(){return r})),n.d(t,"pixelToLatitude",(function(){return A})),n.d(t,"pixelToLongitude",(function(){return _})),n.d(t,"print",(function(){return u})),n.d(t,"toCoordinates",(function(){return d})),n.d(t,"toGeoJSON",(function(){return d})),n.d(t,"toLatFirstString",(function(){return h})),n.d(t,"toLeaflet",(function(){return f})),n.d(t,"toLonFirstString",(function(){return m})),n.d(t,"toPixel",(function(){return E})),n.d(t,"toPoint",(function(){return p})),n.d(t,"toString",(function(){return m}));const g=256;function y(e){return Math.pow(2,e)*g}function v(e){return 180*e/Math.PI}function b(e,t){return(e+180)/360*y(t)}function w(e,t){const n=e*Math.PI/180;return(1-Math.log(Math.tan(n)+1/Math.cos(n))/Math.PI)/2*y(t)}const x=v(Math.atan(Math.sinh(Math.PI)));function E(e,t){const n=r(e);if(n.lat>x||n.lat<-x)throw new Error("Pixel conversion only works between "+x+"N and -"+x+"S");return{x:b(n.lon,t),y:w(n.lat,t)}}function _(e,t){return e/y(t)*360-180}function A(e,t){return v(Math.atan(Math.sinh(Math.PI*(1-2*e/y(t)))))}function O(e,t){return{lat:A(e.y,t),lon:_(e.x,t)}}function S(e){const t=T([e.lon,e.lng,e.longitude]),n=T([e.lat,e.latitude]);if((!t||t>180||t<-180)&&0!==t)throw new Error("Invalid longitude value: "+(e.lon||e.lng||e.longitude));if((!n||n>90||n<-90)&&0!==n)throw new Error("Invalid latitude value: "+(e.lat||e.latitude));return{lat:n,lon:t}}function T(e){if(Array.isArray(e)&&e.length>0){const t=parseFloat(e[0]);return isNaN(t)?T(e.slice(1)):t}return null}t.default=r},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PlaceName=t.PlaceHeader=t.PlaceDetails=t.MapIcon=t.MapButtonColumn=t.MapButton=t.TimeColumn=t.PreviewContainer=t.PlaceRowWrapper=t.LegDetails=t.LineColumn=t.LineBadgeContainer=t.LegLine=t.LegIconAndRouteShortName=t.LegIconContainer=t.LegDescriptionForTransit=t.LegDescriptionRouteShortName=t.LegDescriptionRouteLongName=t.LegDescriptionPlace=t.LegDescriptionMode=t.LegDescriptionHeadsignPrefix=t.InvisibleAdditionalDetails=t.LegDescription=t.LegClickableButton=t.LegClickable=t.LegBody=t.ItineraryBody=t.IntermediateStops=t.InterlineName=t.InterlineDot=t.InnerLine=t.Destination=t.CaretToggle=t.CaretToggleBase=t.TNCCost=t.TNCTravelTime=t.BookTNCRideButtonContainer=t.BookTNCRideButton=t.BookLaterText=t.BookLaterPointer=t.BookLaterInnerContainer=t.BookLaterContainer=t.CallAheadWarning=t.ArrivalTimeContainer=t.AccessBadge=t.ViewerButton=t.LinkButton=t.AnchorButton=t.TransparentButton=t.LightBorderDiv=void 0,t.AgencyInfo=t.DefaultAlertBodyIcon=t.DefaultAlertToggleIcon=t.TransitLegSummary=t.TransitLegFare=t.TransitLegExpandedBody=t.TransitLegDetailsHeader=t.TransitLegDetails=t.TransitAlertToggle=t.TransitAlerts=t.TransitAlertIconContainer=t.TransitAlertHeader=t.TransitAlertEffectiveDate=t.TransitAlertBody=t.TransitAlertExternalLink=t.TransitAlert=t.StopRow=t.StopName=t.StopMarker=t.StopIdSpan=t.StepLength=t.StepStreetName=t.StepRow=t.StepIconContainer=t.StepsHeaderSpan=t.StepsHeaderButton=t.StepsHeaderAndMapLink=t.StepDescriptionContainer=t.Steps=t.SRHidden=t.SROnly=t.RouteBadge=t.PreviewDiagramTitle=t.PreviewDiagramElevationLoss=t.PreviewDiagramElevationGain=t.PreviewDiagramElevationChange=t.PreviewDiagram=t.PlaceSubheader=void 0;var l=n(101),c=s(n(0)),u=a(n(1)),d=n(352),f=n(351),p=n(149),m=n(87);t.LightBorderDiv=u.default.div(h||(h=r(["\n  border-top-style: solid;\n  border-top-width: ",";\n  border-top-color: ",";\n  padding-top: ",";\n  padding-bottom: ",";\n  transform: ",";\n"],["\n  border-top-style: solid;\n  border-top-width: ",";\n  border-top-color: ",";\n  padding-top: ",";\n  padding-bottom: ",";\n  transform: ",";\n"])),(function(e){return"true"===e.hideBorder?"0":"2px"}),(function(e){return e.theme.borderColor}),(function(e){return"true"===e.hideBorder?"0":"10px"}),(function(e){return"true"===e.hideBorder?"10px":"0"}),(function(e){return"true"===e.hideBorder?"":"translateY(-12px)"})),t.TransparentButton=u.default.button(g||(g=r(["\n  background: transparent;\n  border: 0;\n  color: inherit;\n  cursor: pointer;\n  font-size: inherit;\n  text-decoration: none;\n"],["\n  background: transparent;\n  border: 0;\n  color: inherit;\n  cursor: pointer;\n  font-size: inherit;\n  text-decoration: none;\n"]))),t.AnchorButton=u.default.a(y||(y=r(["\n  background-color: #fff;\n  background-image: none;\n  border-radius: 4px;\n  border: 1px solid #ccc;\n  color: #333;\n  cursor: pointer;\n  display: inline-block;\n  font-size: 14px;\n  font-weight: 400;\n  padding: 4px 6px;\n  text-align: center;\n  text-decoration: none;\n  touch-action: manipulation;\n  user-select: none;\n  white-space: nowrap;\n\n  &:hover {\n    color: #333;\n    background-color: #e6e6e6;\n    border-color: #adadad;\n  }\n\n  &:active {\n    color: #333;\n    background-color: #e6e6e6;\n    background-image: none;\n    border-color: #adadad;\n    outline: 0;\n    box-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);\n  }\n\n  &:focus {\n    color: #333;\n    background-color: #e6e6e6;\n    border-color: #8c8c8c;\n  }\n\n  &:active:hover {\n    color: #333;\n    background-color: #d4d4d4;\n    border-color: #8c8c8c;\n  }\n"],["\n  background-color: #fff;\n  background-image: none;\n  border-radius: 4px;\n  border: 1px solid #ccc;\n  color: #333;\n  cursor: pointer;\n  display: inline-block;\n  font-size: 14px;\n  font-weight: 400;\n  padding: 4px 6px;\n  text-align: center;\n  text-decoration: none;\n  touch-action: manipulation;\n  user-select: none;\n  white-space: nowrap;\n\n  &:hover {\n    color: #333;\n    background-color: #e6e6e6;\n    border-color: #adadad;\n  }\n\n  &:active {\n    color: #333;\n    background-color: #e6e6e6;\n    background-image: none;\n    border-color: #adadad;\n    outline: 0;\n    box-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);\n  }\n\n  &:focus {\n    color: #333;\n    background-color: #e6e6e6;\n    border-color: #8c8c8c;\n  }\n\n  &:active:hover {\n    color: #333;\n    background-color: #d4d4d4;\n    border-color: #8c8c8c;\n  }\n"]))),t.LinkButton=(0,u.default)(t.TransparentButton)(v||(v=r(["\n  color: #008;\n  margin-left: 5px;\n\n  &:hover {\n    text-decoration: underline;\n  }\n"],["\n  color: #008;\n  margin-left: 5px;\n\n  &:hover {\n    text-decoration: underline;\n  }\n"]))),t.ViewerButton=(0,u.default)(t.LinkButton)(b||(b=r(['\n  padding-left: 0px;\n\n  &:before {\n    content: "|";\n    color: black;\n    margin-right: 5px;\n  }\n'],['\n  padding-left: 0px;\n\n  &:before {\n    content: "|";\n    color: black;\n    margin-right: 5px;\n  }\n']))),t.AccessBadge=u.default.div(w||(w=r(["\n  color: black;\n  background-color: ",";\n  border: 2px solid #bbb;\n  text-align: center;\n  width: 25px;\n  height: 25px;\n  font-size: 1.2em;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding-left: 1px;\n  /* Add in border for dark mode */\n"],["\n  color: black;\n  background-color: ",";\n  border: 2px solid #bbb;\n  text-align: center;\n  width: 25px;\n  height: 25px;\n  font-size: 1.2em;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding-left: 1px;\n  /* Add in border for dark mode */\n"])),(function(e){return(0,m.toModeColor)(e.mode,e.routeColor)})),t.ArrivalTimeContainer=u.default.button(x||(x=r(["\n  align-items: center;\n  background: none;\n  border: none;\n  color: #007899;\n  cursor: pointer;\n  display: flex;\n  font-size: 0.9em;\n  font-family: inherit;\n  margin: 0;\n  margin-top: 5px;\n  outline: inherit;\n  padding: 0;\n  text-align: inherit;\n"],["\n  align-items: center;\n  background: none;\n  border: none;\n  color: #007899;\n  cursor: pointer;\n  display: flex;\n  font-size: 0.9em;\n  font-family: inherit;\n  margin: 0;\n  margin-top: 5px;\n  outline: inherit;\n  padding: 0;\n  text-align: inherit;\n"]))),t.CallAheadWarning=u.default.div(E||(E=r(["\n  color: #b22727;\n  margin-top: 5px;\n"],["\n  color: #b22727;\n  margin-top: 5px;\n"]))),t.BookLaterContainer=u.default.div(_||(_=r(["\n  bottom: 0;\n  left: 110px;\n  position: absolute;\n  right: 0;\n  top: 0;\n"],["\n  bottom: 0;\n  left: 110px;\n  position: absolute;\n  right: 0;\n  top: 0;\n"]))),t.BookLaterInnerContainer=u.default.div(A||(A=r(["\n  background-color: #fcf9d3;\n  display: table;\n  height: 100%;\n  width: 100%;\n"],["\n  background-color: #fcf9d3;\n  display: table;\n  height: 100%;\n  width: 100%;\n"]))),t.BookLaterPointer=u.default.div(O||(O=r(["\n  border-bottom: 16px solid transparent;\n  border-right: 16px solid #fcf9d3;\n  border-top: 16px solid transparent;\n  height: 0;\n  left: 94px;\n  position: absolute;\n  top: 0;\n  width: 0;\n"],["\n  border-bottom: 16px solid transparent;\n  border-right: 16px solid #fcf9d3;\n  border-top: 16px solid transparent;\n  height: 0;\n  left: 94px;\n  position: absolute;\n  top: 0;\n  width: 0;\n"]))),t.BookLaterText=u.default.div(S||(S=r(["\n  color: #444;\n  display: table-cell;\n  font-style: italic;\n  line-height: 0.95;\n  padding: 0px 2px;\n  vertical-align: middle;\n"],["\n  color: #444;\n  display: table-cell;\n  font-style: italic;\n  line-height: 0.95;\n  padding: 0px 2px;\n  vertical-align: middle;\n"]))),t.BookTNCRideButton=(0,u.default)(t.AnchorButton)(T||(T=r([""],[""]))),t.BookTNCRideButtonContainer=u.default.div(I||(I=r(["\n  height: 32px;\n  margin-bottom: 10px;\n  margin-top: 10px;\n  position: relative;\n"],["\n  height: 32px;\n  margin-bottom: 10px;\n  margin-top: 10px;\n  position: relative;\n"]))),t.TNCTravelTime=u.default.div(k||(k=r(["\n  /* no styling */\n"],["\n  /* no styling */\n"]))),t.TNCCost=u.default.div(C||(C=r(["\n  /* no styling */\n"],["\n  /* no styling */\n"])));t.CaretToggleBase=function(e){var t=e.className,n=e.expanded;return c.default.createElement("span",{className:t},n?c.default.createElement(f.CaretUp,{size:15}):c.default.createElement(d.CaretDown,{size:15}))},t.CaretToggle=(0,u.default)(t.CaretToggleBase)(M||(M=r(['\n  &::before {\n    content: "";\n    margin: 0 0.125em;\n  }\n'],['\n  &::before {\n    content: "";\n    margin: 0 0.125em;\n  }\n']))),t.Destination=u.default.div(N||(N=r(["\n  text-align: center;\n"],["\n  text-align: center;\n"]))),t.InnerLine=u.default.div(j||(j=r(["\n  /* the actual line element */\n  border-left: ",";\n  height: 100%;\n  width: 0;\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n"],["\n  /* the actual line element */\n  border-left: ",";\n  height: 100%;\n  width: 0;\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n"])),(function(e){return(0,m.toModeBorder)(e.mode,e.routeColor)})),t.InterlineDot=u.default.div(L||(L=r(["\n  color: #fff;\n  flex: 0 0 15px;\n  margin-left: -33px;\n  margin-right: 18px;\n  position: relative;\n  z-index: 30;\n"],["\n  color: #fff;\n  flex: 0 0 15px;\n  margin-left: -33px;\n  margin-right: 18px;\n  position: relative;\n  z-index: 30;\n"]))),t.InterlineName=u.default.div(R||(R=r(["\n  /* special messaging, not sure yet */\n"],["\n  /* special messaging, not sure yet */\n"]))),t.IntermediateStops=u.default.ol(D||(D=r(["\n  display: block;\n  font-size: 13px;\n  list-style: none;\n  padding: 0;\n"],["\n  display: block;\n  font-size: 13px;\n  list-style: none;\n  padding: 0;\n"]))),t.ItineraryBody=u.default.ol(P||(P=r(["\n  list-style: none;\n  padding: 0;\n"],["\n  list-style: none;\n  padding: 0;\n"]))),t.LegBody=u.default.div(B||(B=r(["\n  color: #676767;\n  font-size: 13px;\n  padding-bottom: 12px;\n"],["\n  color: #676767;\n  font-size: 13px;\n  padding-bottom: 12px;\n"]))),t.LegClickable=u.default.div(F||(F=r([""],[""]))),t.LegClickableButton=(0,u.default)(t.TransparentButton)(U||(U=r(["\n  bottom: 0;\n  cursor: pointer;\n  left: 0;\n  position: absolute;\n  right: 0;\n  top: 0;\n  /* This is required for the entire leg to be clickable in Firefox. */\n  width: 100%;\n  /* Place the button just above the elevation chart, \n     so that its outline doesn't appear clipped in Chromium. */\n  z-index: 1;\n"],["\n  bottom: 0;\n  cursor: pointer;\n  left: 0;\n  position: absolute;\n  right: 0;\n  top: 0;\n  /* This is required for the entire leg to be clickable in Firefox. */\n  width: 100%;\n  /* Place the button just above the elevation chart, \n     so that its outline doesn't appear clipped in Chromium. */\n  z-index: 1;\n"]))),t.LegDescription=u.default.span(z||(z=r(["\n  align-items: center;\n  display: inline-flex;\n  line-height: 16px;\n  min-height: 31px;\n  position: relative;\n"],["\n  align-items: center;\n  display: inline-flex;\n  line-height: 16px;\n  min-height: 31px;\n  position: relative;\n"]))),t.InvisibleAdditionalDetails=u.default.span.attrs({className:"invisible-additional-details"})(V||(V=r(["\n  display: inline-block;\n  grid-row-start: 2;\n  grid-column-start: 1;\n  height: 0;\n  overflow: hidden;\n  width: 0;\n"],["\n  display: inline-block;\n  grid-row-start: 2;\n  grid-column-start: 1;\n  height: 0;\n  overflow: hidden;\n  width: 0;\n"]))),t.LegDescriptionHeadsignPrefix=u.default.span(G||(G=r(["\n  font-weight: 200;\n"],["\n  font-weight: 200;\n"]))),t.LegDescriptionMode=u.default.span(H||(H=r(["\n  font-weight: inherit;\n"],["\n  font-weight: inherit;\n"]))),t.LegDescriptionPlace=u.default.span(W||(W=r(["\n  font-weight: inherit;\n"],["\n  font-weight: inherit;\n"]))),t.LegDescriptionRouteLongName=u.default.span(Y||(Y=r(["\n  font-size: 13px;\n  font-weight: 500;\n"],["\n  font-size: 13px;\n  font-weight: 500;\n"]))),t.LegDescriptionRouteShortName=u.default.span(Q||(Q=r(["\n  font-weight: 800;\n  margin-right: 6px;\n"],["\n  font-weight: 800;\n  margin-right: 6px;\n"]))),t.LegDescriptionForTransit=(0,u.default)(t.LegDescription)(Z||(Z=r(["\n  color: #807373;\n  margin-top: 5px;\n"],["\n  color: #807373;\n  margin-top: 5px;\n"]))),t.LegIconContainer=u.default.span(X||(X=r(["\n  img,\n  svg {\n    margin-right: 6px;\n    height: 24px;\n    width: 24px;\n    vertical-align: bottom;\n  }\n"],["\n  img,\n  svg {\n    margin-right: 6px;\n    height: 24px;\n    width: 24px;\n    vertical-align: bottom;\n  }\n"]))),t.LegIconAndRouteShortName=u.default.span(J||(J=r(["\n  flex-shrink: 0;\n"],["\n  flex-shrink: 0;\n"]))),t.LegLine=u.default.div(q||(q=r(["\n  position: relative;\n  left: 50%;\n  transform: translateX(-50%);\n  height: 100%;\n"],["\n  position: relative;\n  left: 50%;\n  transform: translateX(-50%);\n  height: 100%;\n"]))),t.LineBadgeContainer=u.default.div(K||(K=r(["\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n  position: absolute;\n  left: 50%;\n  top: 0;\n  transform: translate(-51%, -10%);\n"],["\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n  position: absolute;\n  left: 50%;\n  top: 0;\n  transform: translate(-51%, -10%);\n"]))),t.LineColumn=u.default.div($||($=r(["\n  /* flexbox column */\n  grid-column-start: 2;\n  grid-row: span 2;\n  padding-right: 5px;\n"],["\n  /* flexbox column */\n  grid-column-start: 2;\n  grid-row: span 2;\n  padding-right: 5px;\n"]))),t.LegDetails=u.default.span(ee||(ee=r(["\n  display: grid;\n  grid-template-columns: 130px auto;\n"],["\n  display: grid;\n  grid-template-columns: 130px auto;\n"]))),t.PlaceRowWrapper=u.default.li(te||(te=r(['\n  /* needs to be a flexbox row */\n  max-width: 500px;\n  display: grid;\n  grid-template-areas:\n    "time line title"\n    "time line instructions";\n  grid-template-columns: 65px 30px auto;\n'],['\n  /* needs to be a flexbox row */\n  max-width: 500px;\n  display: grid;\n  grid-template-areas:\n    "time line title"\n    "time line instructions";\n  grid-template-columns: 65px 30px auto;\n']))),t.PreviewContainer=u.default.div(ne||(ne=r(["\n  background-color: ",";\n  border-color: ",";\n  border-radius: 5px;\n  border-style: solid;\n  border-width: 1px;\n  display: inline-block;\n  font-style: normal;\n  grid-column: 2;\n  grid-row: 1;\n  margin: 0 4px;\n  position: relative;\n  text-align: center;\n  text-decoration: none;\n  vertical-align: middle;\n  width: 75%;\n\n  &:hover {\n    border-color: #d1d5da;\n    background-color: #f6f8fa;\n  }\n"],["\n  background-color: ",";\n  border-color: ",";\n  border-radius: 5px;\n  border-style: solid;\n  border-width: 1px;\n  display: inline-block;\n  font-style: normal;\n  grid-column: 2;\n  grid-row: 1;\n  margin: 0 4px;\n  position: relative;\n  text-align: center;\n  text-decoration: none;\n  vertical-align: middle;\n  width: 75%;\n\n  &:hover {\n    border-color: #d1d5da;\n    background-color: #f6f8fa;\n  }\n"])),(function(e){return e.active&&"#eee"}),(function(e){return e.active?"#d1d5da":"#fff"})),t.TimeColumn=u.default.div(re||(re=r(["\n  grid-column-start: 1;\n  grid-row: 1 / span 2;\n  padding-right: 5px;\n  font-size: 0.9em;\n"],["\n  grid-column-start: 1;\n  grid-row: 1 / span 2;\n  padding-right: 5px;\n  font-size: 0.9em;\n"]))),t.MapButton=(0,u.default)(t.LinkButton)(ie||(ie=r(["\n  padding: 3px 10px 3px 10px;\n  border: 0;\n  margin-top: -15px;\n  width: 35px;\n  height: 35px;\n  &:hover {\n    cursor: pointer;\n  }\n"],["\n  padding: 3px 10px 3px 10px;\n  border: 0;\n  margin-top: -15px;\n  width: 35px;\n  height: 35px;\n  &:hover {\n    cursor: pointer;\n  }\n"]))),t.MapButtonColumn=(0,u.default)(t.LightBorderDiv)(oe||(oe=r(["\n  flex: 0 0 25px;\n  grid-column: -1;\n"],["\n  flex: 0 0 25px;\n  grid-column: -1;\n"]))),t.MapIcon=(0,u.default)(l.Map).attrs((function(e){return{fill:e.theme.secondaryColor,width:15,height:15,role:"img"}}))(ae||(ae=r([""],[""]))),t.PlaceDetails=u.default.div(se||(se=r(["\n  grid-row-start: 2;\n  grid-column-start: 3;\n  grid-area: instructions;\n"],["\n  grid-row-start: 2;\n  grid-column-start: 3;\n  grid-area: instructions;\n"]))),t.PlaceHeader=u.default.div(le||(le=r(["\n  display: flex;\n  font-size: 1.2em;\n  grid-row-start: 1;\n  grid-column-start: 3;\n"],["\n  display: flex;\n  font-size: 1.2em;\n  grid-row-start: 1;\n  grid-column-start: 3;\n"]))),t.PlaceName=u.default.span(ce||(ce=r(["\n  /* text styling */\n  font-size: inherit;\n  font-weight: bold;\n  height: 1.2em;\n  margin: 0;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  flex: 1 1 auto;\n  padding: 3px 0 10px 0;\n"],["\n  /* text styling */\n  font-size: inherit;\n  font-weight: bold;\n  height: 1.2em;\n  margin: 0;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  flex: 1 1 auto;\n  padding: 3px 0 10px 0;\n"]))),t.PlaceSubheader=u.default.div(ue||(ue=r(["\n  color: #807373;\n  font-size: 13px;\n  font-weight: 300;\n  padding-top: 1px;\n\n  /* Reduce vertical space and fix horizontal alignment of stop id and stop viewer link for transit stops. */\n  /* Also, increase vertical space after so that transit/access instructions\n     aren't too squeezed with the stop id and Stop Viewer link. */\n  margin-bottom: 10px;\n  margin-top: -14px;\n"],["\n  color: #807373;\n  font-size: 13px;\n  font-weight: 300;\n  padding-top: 1px;\n\n  /* Reduce vertical space and fix horizontal alignment of stop id and stop viewer link for transit stops. */\n  /* Also, increase vertical space after so that transit/access instructions\n     aren't too squeezed with the stop id and Stop Viewer link. */\n  margin-bottom: 10px;\n  margin-top: -14px;\n"]))),t.PreviewDiagram=(0,u.default)(t.TransparentButton)(de||(de=r(["\n  padding: 2px;\n  width: 100%;\n"],["\n  padding: 2px;\n  width: 100%;\n"]))),t.PreviewDiagramElevationChange=u.default.span(fe||(fe=r(['\n  font-size: xx-small;\n  &::before {\n    content: "";\n    margin: 0 0.125em;\n  }\n'],['\n  font-size: xx-small;\n  &::before {\n    content: "";\n    margin: 0 0.125em;\n  }\n']))),t.PreviewDiagramElevationGain=(0,u.default)(t.PreviewDiagramElevationChange)(pe||(pe=r(["\n  color: #e60000;\n"],["\n  color: #e60000;\n"]))),t.PreviewDiagramElevationLoss=(0,u.default)(t.PreviewDiagramElevationChange)(me||(me=r(["\n  color: green;\n"],["\n  color: green;\n"]))),t.PreviewDiagramTitle=u.default.div(he||(he=r(["\n  font-size: small;\n"],["\n  font-size: small;\n"]))),t.RouteBadge=u.default.div(ge||(ge=r(["\n  text-align: center;\n  min-width: 30px;\n  min-height: 30px;\n  font-size: 1.2em;\n  background-color: ",";\n  color: white;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding-left: 1px;\n  /* Add in border for dark mode */\n  border: 1px solid ",";\n  user-select: none;\n  cursor: default;\n"],["\n  text-align: center;\n  min-width: 30px;\n  min-height: 30px;\n  font-size: 1.2em;\n  background-color: ",";\n  color: white;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding-left: 1px;\n  /* Add in border for dark mode */\n  border: 1px solid ",";\n  user-select: none;\n  cursor: default;\n"])),(function(e){return(0,m.toSafeRouteColor)(e.routeColor)||e.theme.mainColor}),(function(e){return e.theme.badgeBorderColor})),t.SROnly=u.default.span(ye||(ye=r(["\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  border: 0;\n"],["\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  border: 0;\n"]))),t.SRHidden=u.default.span.attrs({"aria-hidden":!0})(ve||(ve=r([""],[""]))),t.Steps=u.default.ol(be||(be=r(["\n  display: block;\n  list-style: none;\n  padding: 0;\n"],["\n  display: block;\n  list-style: none;\n  padding: 0;\n"]))),t.StepDescriptionContainer=u.default.div(we||(we=r(["\n  margin-left: 24px;\n  line-height: 1.25em;\n  padding-top: 1px;\n\n  & > span {\n    margin-right: 1ch;\n  }\n"],["\n  margin-left: 24px;\n  line-height: 1.25em;\n  padding-top: 1px;\n\n  & > span {\n    margin-right: 1ch;\n  }\n"]))),t.StepsHeaderAndMapLink=u.default.span(xe||(xe=r(["\n  display: inline-flex;\n  align-self: center;\n  margin-top: 10px;\n\n  /* This is needed to avoid vertical jumps on Safari and Firefox */\n  a {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n"],["\n  display: inline-flex;\n  align-self: center;\n  margin-top: 10px;\n\n  /* This is needed to avoid vertical jumps on Safari and Firefox */\n  a {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n"])));var h,g,y,v,b,w,x,E,_,A,O,S,T,I,k,C,M,N,j,L,R,D,P,B,F,U,z,V,G,H,W,Y,Q,Z,X,J,q,K,$,ee,te,ne,re,ie,oe,ae,se,le,ce,ue,de,fe,pe,me,he,ge,ye,ve,be,we,xe,Ee,_e,Ae,Oe,Se,Te,Ie,ke,Ce,Me,Ne,je,Le,Re,De,Pe,Be,Fe,Ue,ze,Ve,Ge,He,We,Ye,Qe,Ze,Xe=(0,u.css)(Ee||(Ee=r(["\n  color: #676767;\n  font-size: 13px;\n  font-style: normal;\n  padding: 0;\n"],["\n  color: #676767;\n  font-size: 13px;\n  font-style: normal;\n  padding: 0;\n"])));t.StepsHeaderButton=(0,u.default)(t.TransparentButton)(_e||(_e=r(["\n  ","\n"],["\n  ","\n"])),Xe),t.StepsHeaderSpan=u.default.span(Ae||(Ae=r(["\n  ","\n  margin-right: 0.4em;\n"],["\n  ","\n  margin-right: 0.4em;\n"])),Xe),t.StepIconContainer=u.default.div(Oe||(Oe=r(["\n  fill: #676767;\n  float: left;\n  height: 16px;\n  width: 16px;\n"],["\n  fill: #676767;\n  float: left;\n  height: 16px;\n  width: 16px;\n"]))),t.StepRow=u.default.li(Se||(Se=r(["\n  font-size: 13px;\n  margin-top: 8px;\n  color: #676767;\n  font-style: normal;\n"],["\n  font-size: 13px;\n  margin-top: 8px;\n  color: #676767;\n  font-style: normal;\n"]))),t.StepStreetName=u.default.span(Te||(Te=r(["\n  font-weight: 500;\n"],["\n  font-weight: 500;\n"]))),t.StepLength=u.default.span(Ie||(Ie=r(["\n  font-weight: 200;\n  /* This is the lowest opacity which still meets AA text color contrast standards */\n  opacity: 0.8975;\n  padding-left: 1ch;\n"],["\n  font-weight: 200;\n  /* This is the lowest opacity which still meets AA text color contrast standards */\n  opacity: 0.8975;\n  padding-left: 1ch;\n"]))),t.StopIdSpan=u.default.span(ke||(ke=r(["\n  font-weight: 200;\n  font-size: 0.9em;\n  margin-left: 10px;\n"],["\n  font-weight: 200;\n  font-size: 0.9em;\n  margin-left: 10px;\n"]))),t.StopMarker=u.default.div(Ce||(Ce=r(["\n  float: left;\n  margin-left: -36px;\n  color: #fff;\n"],["\n  float: left;\n  margin-left: -36px;\n  color: #fff;\n"]))),t.StopName=u.default.div(Me||(Me=r(["\n  color: #676767;\n  margin-top: 3px;\n"],["\n  color: #676767;\n  margin-top: 3px;\n"]))),t.StopRow=u.default.li(Ne||(Ne=r(["\n  z-index: 30;\n  position: relative;\n"],["\n  z-index: 30;\n  position: relative;\n"]))),t.TransitAlert=u.default.li(je||(je=r(["\n  background-color: #eee;\n  border-radius: 4px;\n  color: #000;\n  display: block;\n  margin-top: 5px;\n  padding: 8px;\n  text-decoration: none;\n"],["\n  background-color: #eee;\n  border-radius: 4px;\n  color: #000;\n  display: block;\n  margin-top: 5px;\n  padding: 8px;\n  text-decoration: none;\n"]))),t.TransitAlertExternalLink=u.default.a(Le||(Le=r(["\n  align-items: baseline;\n  display: flex;\n  gap: 5px;\n  margin-top: 0.5em;\n  text-decoration: none;\n\n  &:hover {\n    text-decoration: underline;\n  }\n"],["\n  align-items: baseline;\n  display: flex;\n  gap: 5px;\n  margin-top: 0.5em;\n  text-decoration: none;\n\n  &:hover {\n    text-decoration: underline;\n  }\n"]))),t.TransitAlertBody=u.default.div(Re||(Re=r(["\n  font-size: 12px;\n  margin-left: 30px;\n  white-space: pre-wrap;\n"],["\n  font-size: 12px;\n  margin-left: 30px;\n  white-space: pre-wrap;\n"]))),t.TransitAlertEffectiveDate=u.default.div(De||(De=r(["\n  margin-top: 5px;\n  margin-left: 30px;\n  font-size: 12px;\n  font-style: italic;\n"],["\n  margin-top: 5px;\n  margin-left: 30px;\n  font-size: 12px;\n  font-style: italic;\n"]))),t.TransitAlertHeader=u.default.div(Pe||(Pe=r(["\n  font-size: 14px;\n  margin-left: 30px;\n  font-weight: 600;\n"],["\n  font-size: 14px;\n  margin-left: 30px;\n  font-weight: 600;\n"]))),t.TransitAlertIconContainer=u.default.div(Be||(Be=r(["\n  float: left;\n  font-size: 18px;\n"],["\n  float: left;\n  font-size: 18px;\n"]))),t.TransitAlerts=u.default.ul(Fe||(Fe=r(["\n  display: block;\n  margin-top: 3px;\n  padding: 0;\n"],["\n  display: block;\n  margin-top: 3px;\n  padding: 0;\n"]))),t.TransitAlertToggle=(0,u.default)(t.TransparentButton)(Ue||(Ue=r(["\n  color: #d14727;\n  cursor: ",";\n  display: inline-block;\n  font-weight: 400;\n  margin-top: 8px;\n  padding: 0;\n"],["\n  color: #d14727;\n  cursor: ",";\n  display: inline-block;\n  font-weight: 400;\n  margin-top: 8px;\n  padding: 0;\n"])),(function(e){return e.isButton?"cursor":"auto"})),t.TransitLegDetails=u.default.div(ze||(ze=r(["\n  margin-top: 5px;\n"],["\n  margin-top: 5px;\n"]))),t.TransitLegDetailsHeader=u.default.div(Ve||(Ve=r(["\n  color: #676767;\n  display: flex;\n"],["\n  color: #676767;\n  display: flex;\n"]))),t.TransitLegExpandedBody=u.default.div(Ge||(Ge=r(["\n  font-size: 14px;\n"],["\n  font-size: 14px;\n"]))),t.TransitLegFare=u.default.div(He||(He=r(["\n  /* no styling */\n"],["\n  /* no styling */\n"]))),t.TransitLegSummary=(0,u.default)(t.TransparentButton)(We||(We=r(["\n  padding: 0;\n"],["\n  padding: 0;\n"]))),t.DefaultAlertToggleIcon=(0,u.default)(p.ExclamationTriangle).attrs({size:15})(Ye||(Ye=r([""],[""]))),t.DefaultAlertBodyIcon=(0,u.default)(p.ExclamationTriangle).attrs({size:18})(Qe||(Qe=r([""],[""]))),t.AgencyInfo=u.default.div(Ze||(Ze=r(["\n  margin-top: 5px;\n\n  a {\n    color: #337ab7;\n    text-decoration: none;\n  }\n\n  a:hover {\n    text-decoration: underline;\n  }\n\n  img {\n    margin-left: 5px;\n    vertical-align: middle;\n  }\n"],["\n  margin-top: 5px;\n\n  a {\n    color: #337ab7;\n    text-decoration: none;\n  }\n\n  a:hover {\n    text-decoration: underline;\n  }\n\n  img {\n    margin-left: 5px;\n    vertical-align: middle;\n  }\n"])))},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},,function(e,t,n){"use strict";t.a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!=typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)}},function(e,t,n){"use strict";n.r(t),n.d(t,"Modules",(function(){return r})),n.d(t,"getModuleConfig",(function(){return i})),n.d(t,"isModuleEnabled",(function(){return o})),n.d(t,"checkForRouteModeOverride",(function(){return a}));var r={CALL_TAKER:"call",FIELD_TRIP:"ft",MAILABLES:"mailables"};function i(e,t){var n,r;return null===(n=e.otp.config)||void 0===n||null===(r=n.modules)||void 0===r?void 0:r.find((function(e){return e.id===t}))}function o(e,t){return Boolean(i(e,t))}function a(e,t){return(null==t?void 0:t[e.id])||e.mode}},function(e,t,n){"use strict";var r=n(17),i=n(0),o=n(84),a=n(126);function s(e){var t=Object(o.a)(),n=t.formatMessage,r=t.textComponent,a=void 0===r?i.Fragment:r,s=e.id,l=e.description,c=e.defaultMessage,u=e.values,d=e.children,f=e.tagName,p=void 0===f?a:f,m=n({id:s,description:l,defaultMessage:c},u,{ignoreTag:e.ignoreTag});return"function"==typeof d?d(Array.isArray(m)?m:[m]):p?i.createElement(p,null,i.Children.toArray(m)):i.createElement(i.Fragment,null,m)}s.displayName="FormattedMessage";var l=i.memo(s,(function(e,t){var n=e.values,i=Object(r.c)(e,["values"]),o=t.values,s=Object(r.c)(t,["values"]);return Object(a.d)(o,n)&&Object(a.d)(i,s)}));l.displayName="MemoizedFormattedMessage",t.a=l},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var r=n(69),i=n(7),o=n(0),a=n.n(o),s=i.default.time.toHoursMinutesSeconds;function l(e){var t=e.duration,n=e.includeSeconds,i=s(t),o=i.hours,l=i.minutes,c=i.seconds;return a.a.createElement(r.a,{id:"common.time.tripDurationFormat",values:{hours:o,minutes:l,seconds:n?c:0}})}var c=function(e,t,n){var r=s(e),i=r.hours,o=r.minutes,a=r.seconds;return t.formatMessage({id:"common.time.tripDurationFormat"},{hours:i,minutes:o,seconds:n?a:0})}},function(e,t,n){"use strict";n.r(t),n.d(t,"LocationIcon",(function(){return g})),n.d(t,"Styled",(function(){return r}));var r={};n.r(r),n.d(r,"FromIcon",(function(){return p})),n.d(r,"PlaceIcon",(function(){return m})),n.d(r,"ToIcon",(function(){return h}));var i=n(0),o=n.n(i),a=n(1),s=n(4),l=n.n(s),c=n(10),u=i.forwardRef((function(e,t){return i.createElement(c.a,l()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),i.createElement("path",{fill:"currentColor",d:"M512 256c0 141.4-114.6 256-256 256S0 397.4 0 256 114.6 0 256 0s256 114.6 256 256zM256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48z"}))}));u.displayName="Circle";var d=i.forwardRef((function(e,t){return i.createElement(c.a,l()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),i.createElement("path",{fill:"currentColor",d:"M160 256c0-53.9 42.1-96 96-96 53 0 96 42.1 96 96 0 53-43 96-96 96-53.9 0-96-43-96-96zm352 0c0 141.4-114.6 256-256 256S0 397.4 0 256 114.6 0 256 0s256 114.6 256 256zM256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48z"}))}));d.displayName="DotCircle";var f=n(236),p=Object(a.default)(d).withConfig({displayName:"styled__FromIcon",componentId:"sc-n5xcvc-0"})(["color:#333;"]),m=Object(a.default)(u).withConfig({displayName:"styled__PlaceIcon",componentId:"sc-n5xcvc-1"})(["color:#333;"]),h=Object(a.default)(f.a).withConfig({displayName:"styled__ToIcon",componentId:"sc-n5xcvc-2"})(["color:#f44256;"]);function g(e){var t=e.className,n=void 0===t?"":t,r=e.size,i=void 0===r?10:r,a=e.type;switch(void 0===a?"":a){case"from":return o.a.createElement(p,{className:n,size:i});case"to":return o.a.createElement(h,{className:n,size:i});default:return o.a.createElement(m,{className:n,size:i})}}t.default=g},function(e,t,n){"use strict";n.r(t),n.d(t,"itineraryCanBeMonitored",(function(){return y})),n.d(t,"getMinutesUntilItineraryStart",(function(){return v})),n.d(t,"getFirstStopId",(function(){return w})),n.d(t,"getItineraryDefaultMonitoredDays",(function(){return x})),n.d(t,"itinerariesAreEqual",(function(){return _})),n.d(t,"getFirstLegStartTime",(function(){return A})),n.d(t,"getLastLegEndTime",(function(){return O})),n.d(t,"sortStartTimes",(function(){return S})),n.d(t,"collectItinerariesWithoutDuplicates",(function(){return k})),n.d(t,"addCarbonInfoToAll",(function(){return N})),n.d(t,"getFare",(function(){return L})),n.d(t,"getTotalFare",(function(){return D})),n.d(t,"calculateItineraryCost",(function(){return B})),n.d(t,"addSortingCosts",(function(){return F})),n.d(t,"applyRouteModeOverrides",(function(){return U})),n.d(t,"copyAndRemoveRouteModeOverrides",(function(){return z}));var r=n(185),i=n(42),o=n(43),a=n(7),s=n(309),l=n.n(s),c=n(125),u=n.n(c),d=n(68),f=n(203);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){return!!(null==e?void 0:e.legs)&&!e.legs.some((function(e){return e.rentedBike||e.rentedCar||e.rentedVehicle||e.hailedCar}))}function v(e){return Object(r.a)(new Date(e.startTime),new Date)}function b(e){var t;return null==e||null===(t=e.legs)||void 0===t?void 0:t.find(i.isTransitLeg)}function w(e){var t,n;return null===(t=b(e))||void 0===t||null===(n=t.from.stopId)||void 0===n?void 0:n.replace(":","_")}function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.default.time.getUserTimezone(),n=b(e),r=n?Object(o.toDate)(n.serviceDate||"",{timeZone:t}):Object(o.utcToZonedTime)(new Date(e.startTime),t),i=r.getDay();return 0===i||6===i?f.c:f.b}function E(e,t){return!!e&&!!t&&e.lat===t.lat&&e.lon===t.lon}function _(e,t){return e.legs.length===t.legs.length&&e.legs.every((function(e,n){var r,i=null==t||null===(r=t.legs)||void 0===r?void 0:r[n];return i.mode===e.mode&&E(null==i?void 0:i.to,null==e?void 0:e.to)&&E(null==i?void 0:i.from,null==e?void 0:e.from)}))}function A(e){return+e[0].startTime}function O(e){return+e[e.length-1].endTime}function S(e){return null==e?void 0:e.sort((function(e,t){return A(e.legs)-A(t.legs)}))}var T={};["alerts","intermediateStops","interStopGeometry","steps"].forEach((function(e){T[e]=!0}));var I=u()((function(e){return l()(e,{excludeKeys:function(e){return T[e]}})}));function k(e){var t=[],n={};return null==e||e.forEach((function(e){var r,i;null==e||null===(r=e.plan)||void 0===r||null===(i=r.itineraries)||void 0===i||i.forEach((function(e){var r=I(e);n[r]||(t.push(h(h({},e),{},{index:t.length})),n[r]=!0)}))})),t}function C(e){return 1===e.legs.length&&e.legs[0].mode.startsWith("CAR")}function M(e,t){var n=e.reduce((function(e,t){return e+t.legs.reduce((function(e,t){return e+t.distance}),0)}),0)/e.length;return a.default.itinerary.calculateEmissions(function(e){return!!e.filter(C).length&&e.filter(C)[0]}(e)||{legs:[{distance:n,mode:"CAR"}]},null==t?void 0:t.carbonIntensity,null==t?void 0:t.massUnit)}function N(e,t){var n=M(e,t);return(null==e?void 0:e.map((function(e){return function(e,t,n){var r=a.default.itinerary.calculateEmissions(e,null==t?void 0:t.carbonIntensity,null==t?void 0:t.massUnit);return h(h({},e),{},{co2:r,co2VsBaseline:(r-n)/n})}(e,t,n)})))||[]}function j(e){if(!e)return 0;var t=0;return e.legs.forEach((function(e){"CAR"===e.mode&&(t+=e.duration)})),t}function L(e,t){var n=a.default.itinerary.calculateTncFares(e),r=n.maxTNCFare,i=n.minTNCFare,o=a.default.itinerary.getItineraryCost(null==e?void 0:e.legs,(null==t?void 0:t.mediumId)||null,(null==t?void 0:t.riderCategoryId)||null);return{fareCurrency:null==o?void 0:o.currency.code,maxTNCFare:r,minTNCFare:i,transitFare:null==o?void 0:o.amount}}var R={bikeshareTripCostCents:200,carParkingCostCents:600,drivingCentsPerMile:44.5};function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{mediumId:null,riderCategoryId:null},r=L(e,n),o=r.maxTNCFare,a=r.transitFare,s=R;t&&Object.assign(s,t);var l=0,c=!1,u=!1,d=!1;if(e.legs.forEach((function(e){d=d||!!(null==e?void 0:e.rideHailingEstimate),"CAR"!==e.mode||d||(l+=621371e-9*e.distance*s.drivingCentsPerMile),("BICYCLE_RENT"===e.mode||"MICROMOBILITY"===e.mode||"SCOOTER"===e.mode||e.rentedBike)&&(c=!0),Object(i.isTransitLeg)(e)&&null==a&&(u=!0)})),u)return null;var f=c?s.bikeshareTripCostCents:0;return l>0&&!d&&(l+=s.carParkingCostCents),f+l+(a||0)+100*o}var P={driveReluctance:2,durationFactor:.25,fareFactor:.5,transferReluctance:.9,waitReluctance:.1,walkReluctance:.1};function B(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=P,o=r.itinerary&&r.itinerary.weights;return o&&Object.assign(i,o),(D(e,null===(t=r.itinerary)||void 0===t?void 0:t.costs,null===(n=r.itinerary)||void 0===n?void 0:n.defaultFareType)||0)*i.fareFactor+e.duration*i.durationFactor+(e.walkDistance||0)*i.walkReluctance+j(e)*i.driveReluctance+e.waitingTime*i.waitReluctance+(e.transfers||0)*i.transferReluctance}function F(e,t){var n,r=D(e,null===(n=t.itinerary)||void 0===n?void 0:n.costs),i=null===r?Number.MAX_VALUE:r,o=B(e,t);return h(h({},e),{},{rank:o,totalFare:i})}function U(e,t){e.legs.forEach((function(e){var n="object"===p(e.route)?e.route.id:e.routeId;n&&(e.originalMode=e.mode,e.mode=Object(d.checkForRouteModeOverride)({id:n,mode:e.mode},t))}))}function z(e){return h(h({},e),{},{legs:e.legs.map((function(e){return h(h({},e),{},{mode:e.originalMode||e.mode})}))})}},function(e,t,n){"use strict";n.d(t,"f",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"g",(function(){return m})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return g})),n.d(t,"e",(function(){return y})),n.d(t,"d",(function(){return v})),n.d(t,"a",(function(){return b}));var r=n(369),i=n(264),o=(n(99),n(100)),a=n(210);function s(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=["MMM d, yyyy h:mm:ss a","MMM d, yyyy, h:mm:ss a"],u=Date.now();function d(e){var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}(c);try{for(n.s();!(t=n.n()).done;){var o=t.value;if(Object(r.a)(e,o))return Object(i.a)(e,o,u)}}catch(e){n.e(e)}finally{n.f()}return null}function f(e){return"".concat(e.lat.toFixed(6),",").concat(e.lon.toFixed(6))}function p(e){return(!e||!e.sessionId)&&(console.error("No valid OTP datastore session found."),!0)}function m(e,t,n){var r=Object(a.getRoutingParams)(n,e.query,!0),i=e.query,o=i.from,s=i.to;return{call:t,fromPlace:o.name||f(o),queryParams:JSON.stringify(r),toPlace:s.name||f(s)}}function h(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){var n=e.numChaperones,r=void 0===n?0:n,i=e.numFreeStudents,o=void 0===i?0:i,a=e.numStudents,s=void 0===a?0:a;return t?r+s-o:r+s}return 0}function g(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&e.trips?(e.trips.forEach((function(e){var r=0===e.requestOrder;n&&r?t=e:n||r||(t=e)})),t):null}function y(e){var t,n,r={},i=(e+"").split(""),o=[],a=i[0],s=256;for(n=1;n<i.length;n++)null!=r[a+(t=i[n])]?a+=t:(o.push(a.length>1?r[a]:a.charCodeAt(0)),r[a+t]=s,s++,a=t);for(o.push(a.length>1?r[a]:a.charCodeAt(0)),n=0;n<o.length;n++)o[n]=String.fromCharCode(o[n]);return o.join("")}function v(e){for(var t,n={},r=(e+"").split(""),i=r[0],o=i,a=[i],s=256,l=1;l<r.length;l++){var c=r[l].charCodeAt(0);t=c<256?r[l]:n[c]?n[c]:o+i,a.push(t),i=t.charAt(0),n[s]=o+i,s++,o=t}return a.join("")}function b(e,t){return Object(o.a)(d(t.endTime),d(e.endTime))}},function(e,t){function n(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,l,"next",e)}function l(e){n(a,i,o,s,l,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){(function(t){var n=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var n,r,i;try{n=Map}catch(e){n=function(){}}try{r=Set}catch(e){r=function(){}}try{i=Promise}catch(e){i=function(){}}function o(a,l,c,u,d){"object"==typeof l&&(c=l.depth,u=l.prototype,d=l.includeNonEnumerable,l=l.circular);var f=[],p=[],m=void 0!==t;return void 0===l&&(l=!0),void 0===c&&(c=1/0),function a(c,h){if(null===c)return null;if(0===h)return c;var g,y;if("object"!=typeof c)return c;if(e(c,n))g=new n;else if(e(c,r))g=new r;else if(e(c,i))g=new i((function(e,t){c.then((function(t){e(a(t,h-1))}),(function(e){t(a(e,h-1))}))}));else if(o.__isArray(c))g=[];else if(o.__isRegExp(c))g=new RegExp(c.source,s(c)),c.lastIndex&&(g.lastIndex=c.lastIndex);else if(o.__isDate(c))g=new Date(c.getTime());else{if(m&&t.isBuffer(c))return g=t.allocUnsafe?t.allocUnsafe(c.length):new t(c.length),c.copy(g),g;e(c,Error)?g=Object.create(c):void 0===u?(y=Object.getPrototypeOf(c),g=Object.create(y)):(g=Object.create(u),y=u)}if(l){var v=f.indexOf(c);if(-1!=v)return p[v];f.push(c),p.push(g)}for(var b in e(c,n)&&c.forEach((function(e,t){var n=a(t,h-1),r=a(e,h-1);g.set(n,r)})),e(c,r)&&c.forEach((function(e){var t=a(e,h-1);g.add(t)})),c){var w;y&&(w=Object.getOwnPropertyDescriptor(y,b)),w&&null==w.set||(g[b]=a(c[b],h-1))}if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(c);for(b=0;b<x.length;b++){var E=x[b];(!(A=Object.getOwnPropertyDescriptor(c,E))||A.enumerable||d)&&(g[E]=a(c[E],h-1),A.enumerable||Object.defineProperty(g,E,{enumerable:!1}))}}if(d){var _=Object.getOwnPropertyNames(c);for(b=0;b<_.length;b++){var A,O=_[b];(A=Object.getOwnPropertyDescriptor(c,O))&&A.enumerable||(g[O]=a(c[O],h-1),Object.defineProperty(g,O,{enumerable:!1}))}}return g}(a,c)}function a(e){return Object.prototype.toString.call(e)}function s(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return o.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},o.__objToStr=a,o.__isDate=function(e){return"object"==typeof e&&"[object Date]"===a(e)},o.__isArray=function(e){return"object"==typeof e&&"[object Array]"===a(e)},o.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===a(e)},o.__getRegExpFlags=s,o}();e.exports&&(e.exports=n)}).call(this,n(443).Buffer)},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(418);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(0)),i=n(178),o=a(n(359));function a(e){return e&&e.__esModule?e:{default:e}}t.default=(0,o.default)((function(e,t,n,o,a){var s=e[t];return r.default.isValidElement(s)?new Error("Invalid "+o+" `"+a+"` of type ReactElement supplied to `"+n+"`,expected an element type (a string , component class, or function component)."):(0,i.isValidElementType)(s)?null:new Error("Invalid "+o+" `"+a+"` of value `"+s+"` supplied to `"+n+"`, expected an element type (a string , component class, or function component).")})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"c",(function(){return S})),n.d(t,"a",(function(){return T})),n.d(t,"e",(function(){return I})),n.d(t,"b",(function(){return k})),n.d(t,"f",(function(){return C})),n.d(t,"g",(function(){return M})),n.d(t,"i",(function(){return N})),n.d(t,"d",(function(){return D})),n.d(t,"h",(function(){return P}));var r,i,o,a,s,l,c,u,d,f,p,m,h,g=n(26),y=n(55),v=n(237),b=window.matchMedia("(prefers-reduced-motion: reduce)").matches,w=n(296),x=n(1);function E(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var _=Object(x.css)(r||(r=E(["\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  background: none;\n  border: 1px solid rgb(187, 187, 187);\n  border-radius: 3px;\n  font-family: inherit;\n  font-size: inherit;\n  font-weight: inherit;\n  outline-offset: -2px;\n  padding: 6px 12px;\n  text-align: center;\n  touch-action: manipulation;\n  user-select: none;\n\n  &.active {\n    background-color: var(--main-base-color, rgb(173, 216, 230));\n    border: 2px solid rgb(0, 0, 0);\n    box-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);\n    color: var(--main-color, white);\n    font-weight: 600;\n  }\n"]))),A=Object(x.css)(i||(i=E(["\n  background: none;\n  border: 1px solid ",";\n  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);\n  color: ",";\n  font-family: inherit;\n  font-weight: inherit;\n  padding: 6px 12px;\n  transition: border-color ease-in-out 0.15s, box-shadow ease-in-out 0.15s;\n"])),g.g[200],g.j[800]),O=Object(x.css)(o||(o=E(["\n  "," {\n    ","\n  }\n"])),y.g.ModeButton.Button,_),S=(x.default.div(a||(a=E(["\n  position: absolute;\n  top: -3px;\n  right: -3px;\n  width: 10px;\n  height: 10px;\n  border-radius: 5px;\n  background-color: #f00;\n"]))),Object(x.default)(y.f)(s||(s=E(["\n  ","\n\n  "," {\n    color: ",";\n    font-size: 14px;\n    font-weight: inherit;\n    letter-spacing: 1px;\n    padding-top: 8px;\n    text-transform: uppercase;\n  }\n  "," {\n    color: ",";\n    font-size: 18px;\n    margin: 16px 0px;\n  }\n  "," {\n    margin-bottom: 16px;\n  }\n  "," {\n    select {\n      ","\n      -webkit-appearance: none;\n      border-radius: 3px;\n      font-size: 14px;\n      height: 34px;\n      line-height: 1.42857;\n      margin-bottom: 20px;\n\n      &:focus {\n        border-color: ",";\n        box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075),\n          0 0 8px rgba(102, 175, 233, 0.6);\n        outline: 0;\n      }\n    }\n    > div:last-child::after {\n      box-sizing: border-box;\n      color: #000;\n      content: '';\n      font-size: 67%;\n      pointer-events: none;\n      position: absolute;\n      right: 8px;\n      top: 10px;\n    }\n  }\n\n  "," {\n    font-weight: 300;\n    "," {\n      box-shadow: none;\n      outline: none;\n      padding: 3px;\n    }\n    "," {\n      font-size: 10px;\n      line-height: 12px;\n      padding: 4px 0px 0px;\n\n      &.active {\n        font-weight: 600;\n      }\n    }\n  }\n  "," {\n    box-sizing: border-box;\n    font-size: 170%;\n    margin: 0px -10px 18px;\n    padding: 0px 5px;\n    "," {\n      height: 54px;\n      width: 100%;\n      &.active {\n        font-weight: 600;\n      }\n    }\n  }\n  "," {\n    margin: 0px -10px 10px;\n    "," {\n      font-size: 130%;\n      font-weight: 800;\n      height: 46px;\n      > svg {\n        margin: 0 0.2em;\n      }\n    }\n  }\n  "," {\n    font-size: 80%;\n    font-weight: 300;\n    margin: 0px -10px 10px;\n    text-align: center;\n    "," {\n      height: 36px;\n    }\n  }\n  "," {\n    font-size: 12px;\n    > * {\n      padding: 3px 5px 3px 0px;\n    }\n    > :last-child {\n      padding-right: 0px;\n    }\n    "," {\n      height: 35px;\n    }\n    svg,\n    img {\n      margin-left: 0px;\n    }\n  }\n  "," {\n    "," {\n      margin-bottom: 0;\n    }\n  }\n  "," {\n    margin: -3px 0px;\n    svg,\n    img {\n      height: 18px;\n      max-width: 32px;\n    }\n  }\n"])),O,y.g.SettingLabel,g.j[700],y.g.SettingsHeader,g.j[900],y.g.SettingsSection,y.g.DropdownSelector,A,g.g[400],y.g.ModeSelector,y.g.ModeButton.Button,y.g.ModeButton.Title,y.g.ModeSelector.MainRow,y.g.ModeButton.Button,y.g.ModeSelector.SecondaryRow,y.g.ModeButton.Button,y.g.ModeSelector.TertiaryRow,y.g.ModeButton.Button,y.g.SubmodeSelector.Row,y.g.ModeButton.Button,y.g.SubmodeSelector,y.g.SettingLabel,y.g.SubmodeSelector.InlineRow)),T=Object(x.default)(y.b)(l||(l=E(["\n  margin: 0 -15px 15px;\n\n  "," {\n    margin: 20px 0px 15px;\n    input {\n      ","\n      background-color: #fff;\n      border: 0;\n      border-bottom: 1px solid #000;\n      box-shadow: none;\n      outline: none;\n      text-align: center;\n    }\n  }\n  "," {\n    ","\n    font-size: 14px;\n    height: 35px;\n  }\n"])),y.g.DateTimeSelector.DateTimeRow,A,y.g.ModeButton.Button,_),I=x.default.ul(c||(c=E(["\n  padding: 0;\n"]))),k=Object(x.default)(w.a)(u||(u=E(["\n  display: grid;\n  grid-template-columns: 30px 1fr 30px;\n  width: 100%;\n\n  "," {\n    padding: 6px 12px;\n  }\n\n  "," {\n    &:hover {\n      color: inherit;\n    }\n  }\n"])),v.Input,v.MenuItemLi),C="advanced-panel",M="main-panel",N=b?0:175,j=Object(x.css)(d||(d=E(["\n  transition: all ","ms ease-in-out;\n"])),N),L=function(e){return Object(x.css)(f||(f=E(["\n  opacity: 0;\n  transform: translateX(","px);\n"])),e)},R=Object(x.css)(p||(p=E(["\n  opacity: 1;\n"]))),D=x.default.div(m||(m=E(["\n  display: contents;\n  .","-enter {\n    ","\n  }\n  .","-enter-done {\n    ","\n    ","\n  }\n\n  .","-exit {\n    ","\n  }\n\n  .","-exit-active {\n    ","\n    ","\n    transition-delay: ","ms;\n  }\n\n  .","-enter {\n    ","\n  }\n  .","-enter-done {\n    ","\n    ","\n  }\n\n  .","-exit {\n    ","\n  }\n\n  .","-exit-active {\n    ","\n    ","\n  }\n"])),C,L(7),C,R,j,C,R,C,L(7),j,(function(e){return e.transitionDelay}),M,L(-7),M,R,j,M,R,M,L(-7),j),P=Object(x.css)(h||(h=E(["\n  div {\n    align-items: center;\n    justify-content: space-between;\n\n    label {\n      margin-bottom: 0;\n    }\n    input[type='checkbox'] {\n      margin-top: 0;\n      order: 2;\n\n      &:focus-visible + label {\n        outline: 1px solid blue;\n      }\n    }\n  }\n"])))},function(e,t,n){var r=n(439);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(40).default,i=n(523);e.exports=function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";function r(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),i=n(153),o=n(126);function a(){var e=r.useContext(i.a);return Object(o.c)(e),e}},function(e,t,n){"use strict";n.d(t,"f",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return f})),n.d(t,"j",(function(){return p})),n.d(t,"k",(function(){return m})),n.d(t,"d",(function(){return h})),n.d(t,"l",(function(){return g})),n.d(t,"m",(function(){return y})),n.d(t,"n",(function(){return v})),n.d(t,"p",(function(){return b})),n.d(t,"q",(function(){return w})),n.d(t,"r",(function(){return x})),n.d(t,"o",(function(){return E}));var r=n(1),i=r.default.span.withConfig({displayName:"styled__InvisibleA11yLabel",componentId:"sc-6q2ok2-0"})(["display:inline-block;clip:rect(0,0,0,0);height:0;overflow:hidden;position:absolute;width:0;"]),o=r.default.button.withConfig({displayName:"styled__BaseButton",componentId:"sc-6q2ok2-1"})(["background:transparent;border:0;cursor:pointer;display:inline-block;font-size:14px;font-weight:400;line-height:1.42857143;margin:0;padding:0;text-decoration:none;touch-action:manipulation;user-select:none;vertical-align:middle;white-space:nowrap;"]),a=(r.default.span.withConfig({displayName:"styled__CO2Description",componentId:"sc-6q2ok2-2"})([""]),r.default.span.withConfig({displayName:"styled__CO2Summary",componentId:"sc-6q2ok2-3"})([""])),s=Object(r.default)(o).withConfig({displayName:"styled__ExpandButton",componentId:"sc-6q2ok2-4"})(["color:#00f;font-size:16px;margin-left:6px;margin-top:-2px;"]),l=r.default.span.withConfig({displayName:"styled__Fare",componentId:"sc-6q2ok2-5"})([""]),c=Object(r.default)(o).withConfig({displayName:"styled__HideButton",componentId:"sc-6q2ok2-6"})(["float:right;"]),u=r.default.span.withConfig({displayName:"styled__TNCFare",componentId:"sc-6q2ok2-7"})([""]),d=r.default.span.withConfig({displayName:"styled__TNCFareCompanies",componentId:"sc-6q2ok2-8"})(["text-transform:capitalize;"]),f=r.default.span.withConfig({displayName:"styled__Timing",componentId:"sc-6q2ok2-9"})([""]),p=r.default.details.withConfig({displayName:"styled__TransitFare",componentId:"sc-6q2ok2-10"})(["display:inline-block;> span{display:block;padding-left:1.75ch;}"]),m=r.default.span.withConfig({displayName:"styled__TransitFareSingle",componentId:"sc-6q2ok2-11"})([""]),h=r.default.span.withConfig({displayName:"styled__FlexSummary",componentId:"sc-6q2ok2-12"})([""]),g=r.default.div.withConfig({displayName:"styled__TripDetail",componentId:"sc-6q2ok2-13"})(["margin-top:6px;"]),y=r.default.div.withConfig({displayName:"styled__TripDetailDescription",componentId:"sc-6q2ok2-14"})(["background-color:#fff;border:1px solid #888;font-size:12px;margin-top:2px;padding:8px;"]),v=r.default.div.withConfig({displayName:"styled__TripDetailIcon",componentId:"sc-6q2ok2-15"})(["float:left;font-size:17px;"]),b=r.default.div.withConfig({displayName:"styled__TripDetails",componentId:"sc-6q2ok2-16"})(["background-color:#eee;border-radius:6px;margin-bottom:15px;margin-top:16px;padding:10px 16px;"]),w=r.default.div.withConfig({displayName:"styled__TripDetailsBody",componentId:"sc-6q2ok2-17"})([""]),x=r.default.h2.withConfig({displayName:"styled__TripDetailsHeader",componentId:"sc-6q2ok2-18"})(["font-size:18px;font-weight:600;margin:0;"]),E=r.default.div.withConfig({displayName:"styled__TripDetailSummary",componentId:"sc-6q2ok2-19"})(["margin-left:28px;padding-top:2px;display:flex;align-items:baseline;white-space:pre-wrap;"])},function(e,t,n){"use strict";n.r(t),n.d(t,"add",(function(){return r.a})),n.d(t,"addBusinessDays",(function(){return u})),n.d(t,"addDays",(function(){return d.a})),n.d(t,"addHours",(function(){return m})),n.d(t,"addISOWeekYears",(function(){return E})),n.d(t,"addMilliseconds",(function(){return f.a})),n.d(t,"addMinutes",(function(){return _})),n.d(t,"addMonths",(function(){return A.a})),n.d(t,"addQuarters",(function(){return O})),n.d(t,"addSeconds",(function(){return S.a})),n.d(t,"addWeeks",(function(){return T})),n.d(t,"addYears",(function(){return I})),n.d(t,"areIntervalsOverlapping",(function(){return k})),n.d(t,"clamp",(function(){return j})),n.d(t,"closestIndexTo",(function(){return L})),n.d(t,"closestTo",(function(){return R})),n.d(t,"compareAsc",(function(){return D.a})),n.d(t,"compareDesc",(function(){return P})),n.d(t,"daysToWeeks",(function(){return F})),n.d(t,"differenceInBusinessDays",(function(){return V})),n.d(t,"differenceInCalendarDays",(function(){return w.a})),n.d(t,"differenceInCalendarISOWeekYears",(function(){return G})),n.d(t,"differenceInCalendarISOWeeks",(function(){return Y})),n.d(t,"differenceInCalendarMonths",(function(){return Q})),n.d(t,"differenceInCalendarQuarters",(function(){return X})),n.d(t,"differenceInCalendarWeeks",(function(){return q})),n.d(t,"differenceInCalendarYears",(function(){return K})),n.d(t,"differenceInDays",(function(){return $.a})),n.d(t,"differenceInHours",(function(){return ne})),n.d(t,"differenceInISOWeekYears",(function(){return ie})),n.d(t,"differenceInMilliseconds",(function(){return ee.a})),n.d(t,"differenceInMinutes",(function(){return oe.a})),n.d(t,"differenceInMonths",(function(){return ce})),n.d(t,"differenceInQuarters",(function(){return ue})),n.d(t,"differenceInSeconds",(function(){return de.a})),n.d(t,"differenceInWeeks",(function(){return fe})),n.d(t,"differenceInYears",(function(){return pe})),n.d(t,"eachDayOfInterval",(function(){return me})),n.d(t,"eachHourOfInterval",(function(){return he})),n.d(t,"eachMinuteOfInterval",(function(){return ye})),n.d(t,"eachMonthOfInterval",(function(){return ve})),n.d(t,"eachQuarterOfInterval",(function(){return we})),n.d(t,"eachWeekOfInterval",(function(){return xe})),n.d(t,"eachWeekendOfInterval",(function(){return Ee})),n.d(t,"eachWeekendOfMonth",(function(){return Ae})),n.d(t,"eachWeekendOfYear",(function(){return Te})),n.d(t,"eachYearOfInterval",(function(){return Ie})),n.d(t,"endOfDay",(function(){return ae})),n.d(t,"endOfDecade",(function(){return ke})),n.d(t,"endOfHour",(function(){return Ce})),n.d(t,"endOfISOWeek",(function(){return Ne})),n.d(t,"endOfISOWeekYear",(function(){return je})),n.d(t,"endOfMinute",(function(){return Le})),n.d(t,"endOfMonth",(function(){return se})),n.d(t,"endOfQuarter",(function(){return Re})),n.d(t,"endOfSecond",(function(){return De})),n.d(t,"endOfToday",(function(){return Pe})),n.d(t,"endOfTomorrow",(function(){return Be})),n.d(t,"endOfWeek",(function(){return Me})),n.d(t,"endOfYear",(function(){return Oe})),n.d(t,"endOfYesterday",(function(){return Fe})),n.d(t,"format",(function(){return Ue.a})),n.d(t,"formatDistance",(function(){return Ye})),n.d(t,"formatDistanceStrict",(function(){return qe})),n.d(t,"formatDistanceToNow",(function(){return Ke})),n.d(t,"formatDistanceToNowStrict",(function(){return $e})),n.d(t,"formatDuration",(function(){return tt})),n.d(t,"formatISO",(function(){return rt})),n.d(t,"formatISO9075",(function(){return it})),n.d(t,"formatISODuration",(function(){return ot})),n.d(t,"formatRFC3339",(function(){return at})),n.d(t,"formatRFC7231",(function(){return ct})),n.d(t,"formatRelative",(function(){return dt})),n.d(t,"fromUnixTime",(function(){return ft})),n.d(t,"getDate",(function(){return pt})),n.d(t,"getDay",(function(){return mt.a})),n.d(t,"getDayOfYear",(function(){return ht})),n.d(t,"getDaysInMonth",(function(){return gt})),n.d(t,"getDaysInYear",(function(){return vt})),n.d(t,"getDecade",(function(){return bt})),n.d(t,"getDefaultOptions",(function(){return wt})),n.d(t,"getHours",(function(){return xt})),n.d(t,"getISODay",(function(){return Et})),n.d(t,"getISOWeek",(function(){return At})),n.d(t,"getISOWeekYear",(function(){return v})),n.d(t,"getISOWeeksInYear",(function(){return St})),n.d(t,"getMilliseconds",(function(){return Tt})),n.d(t,"getMinutes",(function(){return It})),n.d(t,"getMonth",(function(){return kt})),n.d(t,"getOverlappingDaysInIntervals",(function(){return Mt})),n.d(t,"getQuarter",(function(){return Z})),n.d(t,"getSeconds",(function(){return Nt})),n.d(t,"getTime",(function(){return jt})),n.d(t,"getUnixTime",(function(){return Lt})),n.d(t,"getWeek",(function(){return Bt})),n.d(t,"getWeekOfMonth",(function(){return Ft})),n.d(t,"getWeekYear",(function(){return Rt})),n.d(t,"getWeeksInMonth",(function(){return zt})),n.d(t,"getYear",(function(){return Vt})),n.d(t,"hoursToMilliseconds",(function(){return Gt})),n.d(t,"hoursToMinutes",(function(){return Ht})),n.d(t,"hoursToSeconds",(function(){return Wt})),n.d(t,"intervalToDuration",(function(){return Yt})),n.d(t,"intlFormat",(function(){return Qt})),n.d(t,"intlFormatDistance",(function(){return Xt})),n.d(t,"isAfter",(function(){return Jt})),n.d(t,"isBefore",(function(){return qt.a})),n.d(t,"isDate",(function(){return Kt.a})),n.d(t,"isEqual",(function(){return $t})),n.d(t,"isExists",(function(){return en})),n.d(t,"isFirstDayOfMonth",(function(){return tn})),n.d(t,"isFriday",(function(){return nn})),n.d(t,"isFuture",(function(){return rn})),n.d(t,"isLastDayOfMonth",(function(){return le})),n.d(t,"isLeapYear",(function(){return yt})),n.d(t,"isMatch",(function(){return on.a})),n.d(t,"isMonday",(function(){return an})),n.d(t,"isPast",(function(){return sn})),n.d(t,"isSameDay",(function(){return U.a})),n.d(t,"isSameHour",(function(){return cn})),n.d(t,"isSameISOWeek",(function(){return dn})),n.d(t,"isSameISOWeekYear",(function(){return fn})),n.d(t,"isSameMinute",(function(){return pn})),n.d(t,"isSameMonth",(function(){return mn})),n.d(t,"isSameQuarter",(function(){return hn})),n.d(t,"isSameSecond",(function(){return yn})),n.d(t,"isSameWeek",(function(){return un})),n.d(t,"isSameYear",(function(){return vn})),n.d(t,"isSaturday",(function(){return c})),n.d(t,"isSunday",(function(){return l})),n.d(t,"isThisHour",(function(){return bn})),n.d(t,"isThisISOWeek",(function(){return wn})),n.d(t,"isThisMinute",(function(){return xn})),n.d(t,"isThisMonth",(function(){return En})),n.d(t,"isThisQuarter",(function(){return _n})),n.d(t,"isThisSecond",(function(){return An})),n.d(t,"isThisWeek",(function(){return On})),n.d(t,"isThisYear",(function(){return Sn})),n.d(t,"isThursday",(function(){return Tn})),n.d(t,"isToday",(function(){return In})),n.d(t,"isTomorrow",(function(){return kn})),n.d(t,"isTuesday",(function(){return Cn})),n.d(t,"isValid",(function(){return z.a})),n.d(t,"isWednesday",(function(){return Mn})),n.d(t,"isWeekend",(function(){return a})),n.d(t,"isWithinInterval",(function(){return Nn})),n.d(t,"isYesterday",(function(){return Ln})),n.d(t,"lastDayOfDecade",(function(){return Rn})),n.d(t,"lastDayOfISOWeek",(function(){return Pn})),n.d(t,"lastDayOfISOWeekYear",(function(){return Bn})),n.d(t,"lastDayOfMonth",(function(){return Ut})),n.d(t,"lastDayOfQuarter",(function(){return Fn})),n.d(t,"lastDayOfWeek",(function(){return Dn})),n.d(t,"lastDayOfYear",(function(){return Un})),n.d(t,"lightFormat",(function(){return Yn})),n.d(t,"max",(function(){return M})),n.d(t,"milliseconds",(function(){return Xn})),n.d(t,"millisecondsToHours",(function(){return Jn})),n.d(t,"millisecondsToMinutes",(function(){return qn})),n.d(t,"millisecondsToSeconds",(function(){return Kn})),n.d(t,"min",(function(){return N})),n.d(t,"minutesToHours",(function(){return $n})),n.d(t,"minutesToMilliseconds",(function(){return er})),n.d(t,"minutesToSeconds",(function(){return tr})),n.d(t,"monthsToQuarters",(function(){return nr})),n.d(t,"monthsToYears",(function(){return rr})),n.d(t,"nextDay",(function(){return ir.a})),n.d(t,"nextFriday",(function(){return or})),n.d(t,"nextMonday",(function(){return ar})),n.d(t,"nextSaturday",(function(){return sr})),n.d(t,"nextSunday",(function(){return lr.a})),n.d(t,"nextThursday",(function(){return cr})),n.d(t,"nextTuesday",(function(){return ur})),n.d(t,"nextWednesday",(function(){return dr})),n.d(t,"parse",(function(){return fr.a})),n.d(t,"parseISO",(function(){return pr})),n.d(t,"parseJSON",(function(){return Tr})),n.d(t,"previousDay",(function(){return Ir.a})),n.d(t,"previousFriday",(function(){return kr})),n.d(t,"previousMonday",(function(){return Cr})),n.d(t,"previousSaturday",(function(){return Mr})),n.d(t,"previousSunday",(function(){return Nr.a})),n.d(t,"previousThursday",(function(){return jr})),n.d(t,"previousTuesday",(function(){return Lr})),n.d(t,"previousWednesday",(function(){return Rr})),n.d(t,"quartersToMonths",(function(){return Dr})),n.d(t,"quartersToYears",(function(){return Pr})),n.d(t,"roundToNearestMinutes",(function(){return Br})),n.d(t,"secondsToHours",(function(){return Fr})),n.d(t,"secondsToMilliseconds",(function(){return Ur})),n.d(t,"secondsToMinutes",(function(){return zr})),n.d(t,"set",(function(){return Gr})),n.d(t,"setDate",(function(){return Hr})),n.d(t,"setDay",(function(){return Wr})),n.d(t,"setDayOfYear",(function(){return Yr})),n.d(t,"setDefaultOptions",(function(){return Qr})),n.d(t,"setHours",(function(){return Zr})),n.d(t,"setISODay",(function(){return Xr})),n.d(t,"setISOWeek",(function(){return Jr})),n.d(t,"setISOWeekYear",(function(){return x})),n.d(t,"setMilliseconds",(function(){return qr})),n.d(t,"setMinutes",(function(){return Kr})),n.d(t,"setMonth",(function(){return Vr})),n.d(t,"setQuarter",(function(){return $r})),n.d(t,"setSeconds",(function(){return ei})),n.d(t,"setWeek",(function(){return ti})),n.d(t,"setWeekYear",(function(){return ni})),n.d(t,"setYear",(function(){return ri})),n.d(t,"startOfDay",(function(){return ii.a})),n.d(t,"startOfDecade",(function(){return oi})),n.d(t,"startOfHour",(function(){return ln})),n.d(t,"startOfISOWeek",(function(){return y})),n.d(t,"startOfISOWeekYear",(function(){return b})),n.d(t,"startOfMinute",(function(){return ge})),n.d(t,"startOfMonth",(function(){return _e})),n.d(t,"startOfQuarter",(function(){return be})),n.d(t,"startOfSecond",(function(){return gn})),n.d(t,"startOfToday",(function(){return ai})),n.d(t,"startOfTomorrow",(function(){return si})),n.d(t,"startOfWeek",(function(){return g})),n.d(t,"startOfWeekYear",(function(){return Dt})),n.d(t,"startOfYear",(function(){return Se})),n.d(t,"startOfYesterday",(function(){return li})),n.d(t,"sub",(function(){return ui})),n.d(t,"subBusinessDays",(function(){return di})),n.d(t,"subDays",(function(){return jn.a})),n.d(t,"subHours",(function(){return fi})),n.d(t,"subISOWeekYears",(function(){return re})),n.d(t,"subMilliseconds",(function(){return ut.a})),n.d(t,"subMinutes",(function(){return pi})),n.d(t,"subMonths",(function(){return ci})),n.d(t,"subQuarters",(function(){return mi})),n.d(t,"subSeconds",(function(){return hi})),n.d(t,"subWeeks",(function(){return gi})),n.d(t,"subYears",(function(){return yi})),n.d(t,"toDate",(function(){return i.a})),n.d(t,"weeksToDays",(function(){return vi})),n.d(t,"yearsToMonths",(function(){return bi})),n.d(t,"yearsToQuarters",(function(){return wi})),n.d(t,"daysInWeek",(function(){return B.a})),n.d(t,"daysInYear",(function(){return B.b})),n.d(t,"maxTime",(function(){return B.c})),n.d(t,"millisecondsInMinute",(function(){return B.e})),n.d(t,"millisecondsInHour",(function(){return B.d})),n.d(t,"millisecondsInSecond",(function(){return B.f})),n.d(t,"minTime",(function(){return B.g})),n.d(t,"minutesInHour",(function(){return B.h})),n.d(t,"monthsInQuarter",(function(){return B.i})),n.d(t,"monthsInYear",(function(){return B.j})),n.d(t,"quartersInYear",(function(){return B.k})),n.d(t,"secondsInHour",(function(){return B.m})),n.d(t,"secondsInMinute",(function(){return B.n})),n.d(t,"secondsInDay",(function(){return B.l})),n.d(t,"secondsInWeek",(function(){return B.q})),n.d(t,"secondsInYear",(function(){return B.r})),n.d(t,"secondsInMonth",(function(){return B.o})),n.d(t,"secondsInQuarter",(function(){return B.p}));var r=n(192),i=n(5),o=n(3);function a(e){Object(o.a)(1,arguments);var t=Object(i.a)(e),n=t.getDay();return 0===n||6===n}var s=n(11);function l(e){return Object(o.a)(1,arguments),0===Object(i.a)(e).getDay()}function c(e){return Object(o.a)(1,arguments),6===Object(i.a)(e).getDay()}function u(e,t){Object(o.a)(2,arguments);var n=Object(i.a)(e),r=a(n),u=Object(s.a)(t);if(isNaN(u))return new Date(NaN);var d=n.getHours(),f=u<0?-1:1,p=Object(s.a)(u/5);n.setDate(n.getDate()+7*p);for(var m=Math.abs(u%5);m>0;)n.setDate(n.getDate()+f),a(n)||(m-=1);return r&&a(n)&&0!==u&&(c(n)&&n.setDate(n.getDate()+(f<0?2:-1)),l(n)&&n.setDate(n.getDate()+(f<0?1:-2))),n.setHours(d),n}var d=n(95),f=n(151),p=36e5;function m(e,t){Object(o.a)(2,arguments);var n=Object(s.a)(t);return Object(f.a)(e,n*p)}var h=n(53);function g(e,t){var n,r,a,l,c,u,d,f;Object(o.a)(1,arguments);var p=Object(h.a)(),m=Object(s.a)(null!==(n=null!==(r=null!==(a=null!==(l=null==t?void 0:t.weekStartsOn)&&void 0!==l?l:null==t||null===(c=t.locale)||void 0===c||null===(u=c.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==a?a:p.weekStartsOn)&&void 0!==r?r:null===(d=p.locale)||void 0===d||null===(f=d.options)||void 0===f?void 0:f.weekStartsOn)&&void 0!==n?n:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=Object(i.a)(e),y=g.getDay(),v=(y<m?7:0)+y-m;return g.setDate(g.getDate()-v),g.setHours(0,0,0,0),g}function y(e){return Object(o.a)(1,arguments),g(e,{weekStartsOn:1})}function v(e){Object(o.a)(1,arguments);var t=Object(i.a)(e),n=t.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var a=y(r),s=new Date(0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);var l=y(s);return t.getTime()>=a.getTime()?n+1:t.getTime()>=l.getTime()?n:n-1}function b(e){Object(o.a)(1,arguments);var t=v(e),n=new Date(0);n.setFullYear(t,0,4),n.setHours(0,0,0,0);var r=y(n);return r}var w=n(99);function x(e,t){Object(o.a)(2,arguments);var n=Object(i.a)(e),r=Object(s.a)(t),a=Object(w.a)(n,b(n)),l=new Date(0);return l.setFullYear(r,0,4),l.setHours(0,0,0,0),(n=b(l)).setDate(n.getDate()+a),n}function E(e,t){Object(o.a)(2,arguments);var n=Object(s.a)(t);return x(e,v(e)+n)}function _(e,t){Object(o.a)(2,arguments);var n=Object(s.a)(t);return Object(f.a)(e,6e4*n)}var A=n(150);function O(e,t){Object(o.a)(2,arguments);var n=Object(s.a)(t),r=3*n;return Object(A.a)(e,r)}var S=n(230);function T(e,t){Object(o.a)(2,arguments);var n=Object(s.a)(t),r=7*n;return Object(d.a)(e,r)}function I(e,t){Object(o.a)(2,arguments);var n=Object(s.a)(t);return Object(A.a)(e,12*n)}function k(e,t,n){Object(o.a)(2,arguments);var r=Object(i.a)(null==e?void 0:e.start).getTime(),a=Object(i.a)(null==e?void 0:e.end).getTime(),s=Object(i.a)(null==t?void 0:t.start).getTime(),l=Object(i.a)(null==t?void 0:t.end).getTime();if(!(r<=a&&s<=l))throw new RangeError("Invalid interval");return null!=n&&n.inclusive?r<=l&&s<=a:r<l&&s<a}var C=n(79);function M(e){var t,n;if(Object(o.a)(1,arguments),e&&"function"==typeof e.forEach)t=e;else{if("object"!==Object(C.a)(e)||null===e)return new Date(NaN);t=Array.prototype.slice.call(e)}return t.forEach((function(e){var t=Object(i.a)(e);(void 0===n||n<t||isNaN(Number(t)))&&(n=t)})),n||new Date(NaN)}function N(e){var t,n;if(Object(o.a)(1,arguments),e&&"function"==typeof e.forEach)t=e;else{if("object"!==Object(C.a)(e)||null===e)return new Date(NaN);t=Array.prototype.slice.call(e)}return t.forEach((function(e){var t=Object(i.a)(e);(void 0===n||n>t||isNaN(t.getDate()))&&(n=t)})),n||new Date(NaN)}function j(e,t){var n=t.start,r=t.end;return Object(o.a)(2,arguments),N([M([e,n]),r])}function L(e,t){Object(o.a)(2,arguments);var n=Object(i.a)(e);if(isNaN(Number(n)))return NaN;var r,a,s=n.getTime();return(null==t?[]:"function"==typeof t.forEach?t:Array.prototype.slice.call(t)).forEach((function(e,t){var n=Object(i.a)(e);if(isNaN(Number(n)))return r=NaN,void(a=NaN);var o=Math.abs(s-n.getTime());(null==r||o<Number(a))&&(r=t,a=o)})),r}function R(e,t){Object(o.a)(2,arguments);var n=Object(i.a)(e);if(isNaN(Number(n)))return new Date(NaN);var r,a,s=n.getTime();return(null==t?[]:"function"==typeof t.forEach?t:Array.prototype.slice.call(t)).forEach((function(e){var t=Object(i.a)(e);if(isNaN(Number(t)))return r=new Date(NaN),void(a=NaN);var n=Math.abs(s-t.getTime());(null==r||n<Number(a))&&(r=t,a=n)})),r}var D=n(100);function P(e,t){Object(o.a)(2,arguments);var n=Object(i.a)(e),r=Object(i.a)(t),a=n.getTime()-r.getTime();return a>0?-1:a<0?1:a}var B=n(35);function F(e){Object(o.a)(1,arguments);var t=e/B.a;return Math.floor(t)}var U=n(132),z=n(106);function V(e,t){Object(o.a)(2,arguments);var n=Object(i.a)(e),r=Object(i.a)(t);if(!Object(z.a)(n)||!Object(z.a)(r))return NaN;var l=Object(w.a)(n,r),c=l<0?-1:1,u=Object(s.a)(l/7),f=5*u;for(r=Object(d.a)(r,7*u);!Object(U.a)(n,r);)f+=a(r)?0:c,r=Object(d.a)(r,c);return 0===f?0:f}function G(e,t){return Object(o.a)(2,arguments),v(e)-v(t)}var H=n(83),W=6048e5;function Y(e,t){Object(o.a)(2,arguments);var n=y(e),r=y(t),i=n.getTime()-Object(H.a)(n),a=r.getTime()-Object(H.a)(r);return Math.round((i-a)/W)}function Q(e,t){Object(o.a)(2,arguments);var n=Object(i.a)(e),r=Object(i.a)(t),a=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return 12*a+s}function Z(e){Object(o.a)(1,arguments);var t=Object(i.a)(e),n=Math.floor(t.getMonth()/3)+1;return n}function X(e,t){Object(o.a)(2,arguments);var n=Object(i.a)(e),r=Object(i.a)(t),a=n.getFullYear()-r.getFullYear(),s=Z(n)-Z(r);return 4*a+s}var J=6048e5;function q(e,t,n){Object(o.a)(2,arguments);var r=g(e,n),i=g(t,n),a=r.getTime()-Object(H.a)(r),s=i.getTime()-Object(H.a)(i);return Math.round((a-s)/J)}function K(e,t){Object(o.a)(2,arguments);var n=Object(i.a)(e),r=Object(i.a)(t);return n.getFullYear()-r.getFullYear()}var $=n(229),ee=n(179),te=n(134);function ne(e,t,n){Object(o.a)(2,arguments);var r=Object(ee.a)(e,t)/B.d;return Object(te.a)(null==n?void 0:n.roundingMethod)(r)}function re(e,t){Object(o.a)(2,arguments);var n=Object(s.a)(t);return E(e,-n)}function ie(e,t){Object(o.a)(2,arguments);var n=Object(i.a)(e),r=Object(i.a)(t),a=Object(D.a)(n,r),s=Math.abs(G(n,r));n=re(n,a*s);var l=Number(Object(D.a)(n,r)===-a),c=a*(s-l);return 0===c?0:c}var oe=n(185);function ae(e){Object(o.a)(1,arguments);var t=Object(i.a)(e);return t.setHours(23,59,59,999),t}function se(e){Object(o.a)(1,arguments);var t=Object(i.a)(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function le(e){Object(o.a)(1,arguments);var t=Object(i.a)(e);return ae(t).getTime()===se(t).getTime()}function ce(e,t){Object(o.a)(2,arguments);var n,r=Object(i.a)(e),a=Object(i.a)(t),s=Object(D.a)(r,a),l=Math.abs(Q(r,a));if(l<1)n=0;else{1===r.getMonth()&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*l);var c=Object(D.a)(r,a)===-s;le(Object(i.a)(e))&&1===l&&1===Object(D.a)(e,a)&&(c=!1),n=s*(l-Number(c))}return 0===n?0:n}function ue(e,t,n){Object(o.a)(2,arguments);var r=ce(e,t)/3;return Object(te.a)(null==n?void 0:n.roundingMethod)(r)}var de=n(157);function fe(e,t,n){Object(o.a)(2,arguments);var r=Object($.a)(e,t)/7;return Object(te.a)(null==n?void 0:n.roundingMethod)(r)}function pe(e,t){Object(o.a)(2,arguments);var n=Object(i.a)(e),r=Object(i.a)(t),a=Object(D.a)(n,r),s=Math.abs(K(n,r));n.setFullYear(1584),r.setFullYear(1584);var l=Object(D.a)(n,r)===-a,c=a*(s-Number(l));return 0===c?0:c}function me(e,t){var n;Object(o.a)(1,arguments);var r=e||{},a=Object(i.a)(r.start),s=Object(i.a)(r.end),l=s.getTime();if(!(a.getTime()<=l))throw new RangeError("Invalid interval");var c=[],u=a;u.setHours(0,0,0,0);var d=Number(null!==(n=null==t?void 0:t.step)&&void 0!==n?n:1);if(d<1||isNaN(d))throw new RangeError("`options.step` must be a number greater than 1");for(;u.getTime()<=l;)c.push(Object(i.a)(u)),u.setDate(u.getDate()+d),u.setHours(0,0,0,0);return c}function he(e,t){var n;Object(o.a)(1,arguments);var r=e||{},a=Object(i.a)(r.start),s=Object(i.a)(r.end),l=a.getTime(),c=s.getTime();if(!(l<=c))throw new RangeError("Invalid interval");var u=[],d=a;d.setMinutes(0,0,0);var f=Number(null!==(n=null==t?void 0:t.step)&&void 0!==n?n:1);if(f<1||isNaN(f))throw new RangeError("`options.step` must be a number greater than 1");for(;d.getTime()<=c;)u.push(Object(i.a)(d)),d=m(d,f);return u}function ge(e){Object(o.a)(1,arguments);var t=Object(i.a)(e);return t.setSeconds(0,0),t}function ye(e,t){var n;Object(o.a)(1,arguments);var r=ge(Object(i.a)(e.start)),a=Object(i.a)(e.end),s=r.getTime(),l=a.getTime();if(s>=l)throw new RangeError("Invalid interval");var c=[],u=r,d=Number(null!==(n=null==t?void 0:t.step)&&void 0!==n?n:1);if(d<1||isNaN(d))throw new RangeError("`options.step` must be a number equal to or greater than 1");for(;u.getTime()<=l;)c.push(Object(i.a)(u)),u=_(u,d);return c}function ve(e){Object(o.a)(1,arguments);var t=e||{},n=Object(i.a)(t.start),r=Object(i.a)(t.end),a=r.getTime(),s=[];if(!(n.getTime()<=a))throw new RangeError("Invalid interval");var l=n;for(l.setHours(0,0,0,0),l.setDate(1);l.getTime()<=a;)s.push(Object(i.a)(l)),l.setMonth(l.getMonth()+1);return s}function be(e){Object(o.a)(1,arguments);var t=Object(i.a)(e),n=t.getMonth(),r=n-n%3;return t.setMonth(r,1),t.setHours(0,0,0,0),t}function we(e){Object(o.a)(1,arguments);var t=e||{},n=Object(i.a)(t.start),r=Object(i.a)(t.end),a=r.getTime();if(!(n.getTime()<=a))throw new RangeError("Invalid interval");var s=be(n),l=be(r);a=l.getTime();for(var c=[],u=s;u.getTime()<=a;)c.push(Object(i.a)(u)),u=O(u,1);return c}function xe(e,t){Object(o.a)(1,arguments);var n=e||{},r=Object(i.a)(n.start),a=Object(i.a)(n.end),s=a.getTime();if(!(r.getTime()<=s))throw new RangeError("Invalid interval");var l=g(r,t),c=g(a,t);l.setHours(15),c.setHours(15),s=c.getTime();for(var u=[],d=l;d.getTime()<=s;)d.setHours(0),u.push(Object(i.a)(d)),(d=T(d,1)).setHours(15);return u}function Ee(e){Object(o.a)(1,arguments);for(var t=me(e),n=[],r=0;r<t.length;){var i=t[r++];a(i)&&(n.push(i),l(i)&&(r+=5))}return n}function _e(e){Object(o.a)(1,arguments);var t=Object(i.a)(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Ae(e){Object(o.a)(1,arguments);var t=_e(e);if(isNaN(t.getTime()))throw new RangeError("The passed date is invalid");var n=se(e);return Ee({start:t,end:n})}function Oe(e){Object(o.a)(1,arguments);var t=Object(i.a)(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function Se(e){Object(o.a)(1,arguments);var t=Object(i.a)(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Te(e){Object(o.a)(1,arguments);var t=Se(e),n=Oe(e);return Ee({start:t,end:n})}function Ie(e){Object(o.a)(1,arguments);var t=e||{},n=Object(i.a)(t.start),r=Object(i.a)(t.end),a=r.getTime();if(!(n.getTime()<=a))throw new RangeError("Invalid interval");var s=[],l=n;for(l.setHours(0,0,0,0),l.setMonth(0,1);l.getTime()<=a;)s.push(Object(i.a)(l)),l.setFullYear(l.getFullYear()+1);return s}function ke(e){Object(o.a)(1,arguments);var t=Object(i.a)(e),n=t.getFullYear(),r=9+10*Math.floor(n/10);return t.setFullYear(r,11,31),t.setHours(23,59,59,999),t}function Ce(e){Object(o.a)(1,arguments);var t=Object(i.a)(e);return t.setMinutes(59,59,999),t}function Me(e,t){var n,r,a,l,c,u,d,f;Object(o.a)(1,arguments);var p=Object(h.a)(),m=Object(s.a)(null!==(n=null!==(r=null!==(a=null!==(l=null==t?void 0:t.weekStartsOn)&&void 0!==l?l:null==t||null===(c=t.locale)||void 0===c||null===(u=c.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==a?a:p.weekStartsOn)&&void 0!==r?r:null===(d=p.locale)||void 0===d||null===(f=d.options)||void 0===f?void 0:f.weekStartsOn)&&void 0!==n?n:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=Object(i.a)(e),y=g.getDay(),v=6+(y<m?-7:0)-(y-m);return g.setDate(g.getDate()+v),g.setHours(23,59,59,999),g}function Ne(e){return Object(o.a)(1,arguments),Me(e,{weekStartsOn:1})}function je(e){Object(o.a)(1,arguments);var t=v(e),n=new Date(0);n.setFullYear(t+1,0,4),n.setHours(0,0,0,0);var r=y(n);return r.setMilliseconds(r.getMilliseconds()-1),r}function Le(e){Object(o.a)(1,arguments);var t=Object(i.a)(e);return t.setSeconds(59,999),t}function Re(e){Object(o.a)(1,arguments);var t=Object(i.a)(e),n=t.getMonth(),r=n-n%3+3;return t.setMonth(r,0),t.setHours(23,59,59,999),t}function De(e){Object(o.a)(1,arguments);var t=Object(i.a)(e);return t.setMilliseconds(999),t}function Pe(){return ae(Date.now())}function Be(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),r=e.getDate(),i=new Date(0);return i.setFullYear(t,n,r+1),i.setHours(23,59,59,999),i}function Fe(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),r=e.getDate(),i=new Date(0);return i.setFullYear(t,n,r-1),i.setHours(23,59,59,999),i}var Ue=n(173),ze=n(133),Ve=n(155);function Ge(e){return Object(Ve.a)({},e)}var He=1440,We=43200;function Ye(e,t,n){var r,a;Object(o.a)(2,arguments);var s=Object(h.a)(),l=null!==(r=null!==(a=null==n?void 0:n.locale)&&void 0!==a?a:s.locale)&&void 0!==r?r:ze.a;if(!l.formatDistance)throw new RangeError("locale must contain formatDistance property");var c=Object(D.a)(e,t);if(isNaN(c))throw new RangeError("Invalid time value");var u,d,f=Object(Ve.a)(Ge(n),{addSuffix:Boolean(null==n?void 0:n.addSuffix),comparison:c});c>0?(u=Object(i.a)(t),d=Object(i.a)(e)):(u=Object(i.a)(e),d=Object(i.a)(t));var p,m=Object(de.a)(d,u),g=(Object(H.a)(d)-Object(H.a)(u))/1e3,y=Math.round((m-g)/60);if(y<2)return null!=n&&n.includeSeconds?m<5?l.formatDistance("lessThanXSeconds",5,f):m<10?l.formatDistance("lessThanXSeconds",10,f):m<20?l.formatDistance("lessThanXSeconds",20,f):m<40?l.formatDistance("halfAMinute",0,f):m<60?l.formatDistance("lessThanXMinutes",1,f):l.formatDistance("xMinutes",1,f):0===y?l.formatDistance("lessThanXMinutes",1,f):l.formatDistance("xMinutes",y,f);if(y<45)return l.formatDistance("xMinutes",y,f);if(y<90)return l.formatDistance("aboutXHours",1,f);if(y<He){var v=Math.round(y/60);return l.formatDistance("aboutXHours",v,f)}if(y<2520)return l.formatDistance("xDays",1,f);if(y<We){var b=Math.round(y/He);return l.formatDistance("xDays",b,f)}if(y<86400)return p=Math.round(y/We),l.formatDistance("aboutXMonths",p,f);if((p=ce(d,u))<12){var w=Math.round(y/We);return l.formatDistance("xMonths",w,f)}var x=p%12,E=Math.floor(p/12);return x<3?l.formatDistance("aboutXYears",E,f):x<9?l.formatDistance("overXYears",E,f):l.formatDistance("almostXYears",E+1,f)}var Qe=6e4,Ze=1440,Xe=43200,Je=525600;function qe(e,t,n){var r,a,s;Object(o.a)(2,arguments);var l=Object(h.a)(),c=null!==(r=null!==(a=null==n?void 0:n.locale)&&void 0!==a?a:l.locale)&&void 0!==r?r:ze.a;if(!c.formatDistance)throw new RangeError("locale must contain localize.formatDistance property");var u=Object(D.a)(e,t);if(isNaN(u))throw new RangeError("Invalid time value");var d,f,p=Object(Ve.a)(Ge(n),{addSuffix:Boolean(null==n?void 0:n.addSuffix),comparison:u});u>0?(d=Object(i.a)(t),f=Object(i.a)(e)):(d=Object(i.a)(e),f=Object(i.a)(t));var m,g=String(null!==(s=null==n?void 0:n.roundingMethod)&&void 0!==s?s:"round");if("floor"===g)m=Math.floor;else if("ceil"===g)m=Math.ceil;else{if("round"!==g)throw new RangeError("roundingMethod must be 'floor', 'ceil' or 'round'");m=Math.round}var y,v=f.getTime()-d.getTime(),b=v/Qe,w=Object(H.a)(f)-Object(H.a)(d),x=(v-w)/Qe,E=null==n?void 0:n.unit;if("second"===(y=E?String(E):b<1?"second":b<60?"minute":b<Ze?"hour":x<Xe?"day":x<Je?"month":"year")){var _=m(v/1e3);return c.formatDistance("xSeconds",_,p)}if("minute"===y){var A=m(b);return c.formatDistance("xMinutes",A,p)}if("hour"===y){var O=m(b/60);return c.formatDistance("xHours",O,p)}if("day"===y){var S=m(x/Ze);return c.formatDistance("xDays",S,p)}if("month"===y){var T=m(x/Xe);return 12===T&&"month"!==E?c.formatDistance("xYears",1,p):c.formatDistance("xMonths",T,p)}if("year"===y){var I=m(x/Je);return c.formatDistance("xYears",I,p)}throw new RangeError("unit must be 'second', 'minute', 'hour', 'day', 'month' or 'year'")}function Ke(e,t){return Object(o.a)(1,arguments),Ye(e,Date.now(),t)}function $e(e,t){return Object(o.a)(1,arguments),qe(e,Date.now(),t)}var et=["years","months","weeks","days","hours","minutes","seconds"];function tt(e,t){var n,r,i,o,a;if(arguments.length<1)throw new TypeError("1 argument required, but only ".concat(arguments.length," present"));var s=Object(h.a)(),l=null!==(n=null!==(r=null==t?void 0:t.locale)&&void 0!==r?r:s.locale)&&void 0!==n?n:ze.a,c=null!==(i=null==t?void 0:t.format)&&void 0!==i?i:et,u=null!==(o=null==t?void 0:t.zero)&&void 0!==o&&o,d=null!==(a=null==t?void 0:t.delimiter)&&void 0!==a?a:" ";if(!l.formatDistance)return"";var f=c.reduce((function(t,n){var r="x".concat(n.replace(/(^.)/,(function(e){return e.toUpperCase()}))),i=e[n];return"number"==typeof i&&(u||e[n])?t.concat(l.formatDistance(r,i)):t}),[]).join(d);return f}var nt=n(39);function rt(e,t){var n,r;Object(o.a)(1,arguments);var a=Object(i.a)(e);if(isNaN(a.getTime()))throw new RangeError("Invalid time value");var s=String(null!==(n=null==t?void 0:t.format)&&void 0!==n?n:"extended"),l=String(null!==(r=null==t?void 0:t.representation)&&void 0!==r?r:"complete");if("extended"!==s&&"basic"!==s)throw new RangeError("format must be 'extended' or 'basic'");if("date"!==l&&"time"!==l&&"complete"!==l)throw new RangeError("representation must be 'date', 'time', or 'complete'");var c="",u="",d="extended"===s?"-":"",f="extended"===s?":":"";if("time"!==l){var p=Object(nt.a)(a.getDate(),2),m=Object(nt.a)(a.getMonth()+1,2),h=Object(nt.a)(a.getFullYear(),4);c="".concat(h).concat(d).concat(m).concat(d).concat(p)}if("date"!==l){var g=a.getTimezoneOffset();if(0!==g){var y=Math.abs(g),v=Object(nt.a)(Math.floor(y/60),2),b=Object(nt.a)(y%60,2),w=g<0?"+":"-";u="".concat(w).concat(v,":").concat(b)}else u="Z";var x=Object(nt.a)(a.getHours(),2),E=Object(nt.a)(a.getMinutes(),2),_=Object(nt.a)(a.getSeconds(),2),A=""===c?"":"T",O=[x,E,_].join(f);c="".concat(c).concat(A).concat(O).concat(u)}return c}function it(e,t){var n,r;if(arguments.length<1)throw new TypeError("1 argument required, but only ".concat(arguments.length," present"));var o=Object(i.a)(e);if(!Object(z.a)(o))throw new RangeError("Invalid time value");var a=String(null!==(n=null==t?void 0:t.format)&&void 0!==n?n:"extended"),s=String(null!==(r=null==t?void 0:t.representation)&&void 0!==r?r:"complete");if("extended"!==a&&"basic"!==a)throw new RangeError("format must be 'extended' or 'basic'");if("date"!==s&&"time"!==s&&"complete"!==s)throw new RangeError("representation must be 'date', 'time', or 'complete'");var l="",c="extended"===a?"-":"",u="extended"===a?":":"";if("time"!==s){var d=Object(nt.a)(o.getDate(),2),f=Object(nt.a)(o.getMonth()+1,2),p=Object(nt.a)(o.getFullYear(),4);l="".concat(p).concat(c).concat(f).concat(c).concat(d)}if("date"!==s){var m=Object(nt.a)(o.getHours(),2),h=Object(nt.a)(o.getMinutes(),2),g=Object(nt.a)(o.getSeconds(),2),y=""===l?"":" ";l="".concat(l).concat(y).concat(m).concat(u).concat(h).concat(u).concat(g)}return l}function ot(e){if(Object(o.a)(1,arguments),"object"!==Object(C.a)(e))throw new Error("Duration must be an object");var t=e.years,n=void 0===t?0:t,r=e.months,i=void 0===r?0:r,a=e.days,s=void 0===a?0:a,l=e.hours,c=void 0===l?0:l,u=e.minutes,d=void 0===u?0:u,f=e.seconds,p=void 0===f?0:f;return"P".concat(n,"Y").concat(i,"M").concat(s,"DT").concat(c,"H").concat(d,"M").concat(p,"S")}function at(e,t){var n;if(arguments.length<1)throw new TypeError("1 arguments required, but only ".concat(arguments.length," present"));var r=Object(i.a)(e);if(!Object(z.a)(r))throw new RangeError("Invalid time value");var o=Number(null!==(n=null==t?void 0:t.fractionDigits)&&void 0!==n?n:0);if(!(o>=0&&o<=3))throw new RangeError("fractionDigits must be between 0 and 3 inclusively");var a=Object(nt.a)(r.getDate(),2),l=Object(nt.a)(r.getMonth()+1,2),c=r.getFullYear(),u=Object(nt.a)(r.getHours(),2),d=Object(nt.a)(r.getMinutes(),2),f=Object(nt.a)(r.getSeconds(),2),p="";if(o>0){var m=r.getMilliseconds(),h=Math.floor(m*Math.pow(10,o-3));p="."+Object(nt.a)(h,o)}var g="",y=r.getTimezoneOffset();if(0!==y){var v=Math.abs(y),b=Object(nt.a)(Object(s.a)(v/60),2),w=Object(nt.a)(v%60,2),x=y<0?"+":"-";g="".concat(x).concat(b,":").concat(w)}else g="Z";return"".concat(c,"-").concat(l,"-").concat(a,"T").concat(u,":").concat(d,":").concat(f).concat(p).concat(g)}var st=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],lt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ct(e){if(arguments.length<1)throw new TypeError("1 arguments required, but only ".concat(arguments.length," present"));var t=Object(i.a)(e);if(!Object(z.a)(t))throw new RangeError("Invalid time value");var n=st[t.getUTCDay()],r=Object(nt.a)(t.getUTCDate(),2),o=lt[t.getUTCMonth()],a=t.getUTCFullYear(),s=Object(nt.a)(t.getUTCHours(),2),l=Object(nt.a)(t.getUTCMinutes(),2),c=Object(nt.a)(t.getUTCSeconds(),2);return"".concat(n,", ").concat(r," ").concat(o," ").concat(a," ").concat(s,":").concat(l,":").concat(c," GMT")}var ut=n(139);function dt(e,t,n){var r,a,l,c,u,d,f,p,m,g;Object(o.a)(2,arguments);var y=Object(i.a)(e),v=Object(i.a)(t),b=Object(h.a)(),x=null!==(r=null!==(a=null==n?void 0:n.locale)&&void 0!==a?a:b.locale)&&void 0!==r?r:ze.a,E=Object(s.a)(null!==(l=null!==(c=null!==(u=null!==(d=null==n?void 0:n.weekStartsOn)&&void 0!==d?d:null==n||null===(f=n.locale)||void 0===f||null===(p=f.options)||void 0===p?void 0:p.weekStartsOn)&&void 0!==u?u:b.weekStartsOn)&&void 0!==c?c:null===(m=b.locale)||void 0===m||null===(g=m.options)||void 0===g?void 0:g.weekStartsOn)&&void 0!==l?l:0);if(!x.localize)throw new RangeError("locale must contain localize property");if(!x.formatLong)throw new RangeError("locale must contain formatLong property");if(!x.formatRelative)throw new RangeError("locale must contain formatRelative property");var _,A=Object(w.a)(y,v);if(isNaN(A))throw new RangeError("Invalid time value");_=A<-6?"other":A<-1?"lastWeek":A<0?"yesterday":A<1?"today":A<2?"tomorrow":A<7?"nextWeek":"other";var O=Object(ut.a)(y,Object(H.a)(y)),S=Object(ut.a)(v,Object(H.a)(v)),T=x.formatRelative(_,O,S,{locale:x,weekStartsOn:E});return Object(Ue.a)(y,T,{locale:x,weekStartsOn:E})}function ft(e){Object(o.a)(1,arguments);var t=Object(s.a)(e);return Object(i.a)(1e3*t)}function pt(e){Object(o.a)(1,arguments);var t=Object(i.a)(e),n=t.getDate();return n}var mt=n(180);function ht(e){Object(o.a)(1,arguments);var t=Object(i.a)(e),n=Object(w.a)(t,Se(t)),r=n+1;return r}function gt(e){Object(o.a)(1,arguments);var t=Object(i.a)(e),n=t.getFullYear(),r=t.getMonth(),a=new Date(0);return a.setFullYear(n,r+1,0),a.setHours(0,0,0,0),a.getDate()}function yt(e){Object(o.a)(1,arguments);var t=Object(i.a)(e),n=t.getFullYear();return n%400==0||n%4==0&&n%100!=0}function vt(e){Object(o.a)(1,arguments);var t=Object(i.a)(e);return"Invalid Date"===String(new Date(t))?NaN:yt(t)?366:365}function bt(e){Object(o.a)(1,arguments);var t=Object(i.a)(e),n=t.getFullYear(),r=10*Math.floor(n/10);return r}function wt(){return Object(Ve.a)({},Object(h.a)())}function xt(e){Object(o.a)(1,arguments);var t=Object(i.a)(e),n=t.getHours();return n}function Et(e){Object(o.a)(1,arguments);var t=Object(i.a)(e),n=t.getDay();return 0===n&&(n=7),n}var _t=6048e5;function At(e){Object(o.a)(1,arguments);var t=Object(i.a)(e),n=y(t).getTime()-b(t).getTime();return Math.round(n/_t)+1}var Ot=6048e5;function St(e){Object(o.a)(1,arguments);var t=b(e),n=b(T(t,60)),r=n.valueOf()-t.valueOf();return Math.round(r/Ot)}function Tt(e){Object(o.a)(1,arguments);var t=Object(i.a)(e),n=t.getMilliseconds();return n}function It(e){Object(o.a)(1,arguments);var t=Object(i.a)(e),n=t.getMinutes();return n}function kt(e){Object(o.a)(1,arguments);var t=Object(i.a)(e),n=t.getMonth();return n}var Ct=864e5;function Mt(e,t){Object(o.a)(2,arguments);var n=e||{},r=t||{},a=Object(i.a)(n.start).getTime(),s=Object(i.a)(n.end).getTime(),l=Object(i.a)(r.start).getTime(),c=Object(i.a)(r.end).getTime();if(!(a<=s&&l<=c))throw new RangeError("Invalid interval");var u=a<c&&l<s;if(!u)return 0;var d=l<a?a:l,f=c>s?s:c,p=f-d;return Math.ceil(p/Ct)}function Nt(e){Object(o.a)(1,arguments);var t=Object(i.a)(e),n=t.getSeconds();return n}function jt(e){Object(o.a)(1,arguments);var t=Object(i.a)(e),n=t.getTime();return n}function Lt(e){return Object(o.a)(1,arguments),Math.floor(jt(e)/1e3)}function Rt(e,t){var n,r,a,l,c,u,d,f;Object(o.a)(1,arguments);var p=Object(i.a)(e),m=p.getFullYear(),y=Object(h.a)(),v=Object(s.a)(null!==(n=null!==(r=null!==(a=null!==(l=null==t?void 0:t.firstWeekContainsDate)&&void 0!==l?l:null==t||null===(c=t.locale)||void 0===c||null===(u=c.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==a?a:y.firstWeekContainsDate)&&void 0!==r?r:null===(d=y.locale)||void 0===d||null===(f=d.options)||void 0===f?void 0:f.firstWeekContainsDate)&&void 0!==n?n:1);if(!(v>=1&&v<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var b=new Date(0);b.setFullYear(m+1,0,v),b.setHours(0,0,0,0);var w=g(b,t),x=new Date(0);x.setFullYear(m,0,v),x.setHours(0,0,0,0);var E=g(x,t);return p.getTime()>=w.getTime()?m+1:p.getTime()>=E.getTime()?m:m-1}function Dt(e,t){var n,r,i,a,l,c,u,d;Object(o.a)(1,arguments);var f=Object(h.a)(),p=Object(s.a)(null!==(n=null!==(r=null!==(i=null!==(a=null==t?void 0:t.firstWeekContainsDate)&&void 0!==a?a:null==t||null===(l=t.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==i?i:f.firstWeekContainsDate)&&void 0!==r?r:null===(u=f.locale)||void 0===u||null===(d=u.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==n?n:1),m=Rt(e,t),y=new Date(0);y.setFullYear(m,0,p),y.setHours(0,0,0,0);var v=g(y,t);return v}var Pt=6048e5;function Bt(e,t){Object(o.a)(1,arguments);var n=Object(i.a)(e),r=g(n,t).getTime()-Dt(n,t).getTime();return Math.round(r/Pt)+1}function Ft(e,t){var n,r,i,a,l,c,u,d;Object(o.a)(1,arguments);var f=Object(h.a)(),p=Object(s.a)(null!==(n=null!==(r=null!==(i=null!==(a=null==t?void 0:t.weekStartsOn)&&void 0!==a?a:null==t||null===(l=t.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==i?i:f.weekStartsOn)&&void 0!==r?r:null===(u=f.locale)||void 0===u||null===(d=u.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==n?n:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=pt(e);if(isNaN(m))return NaN;var g=Object(mt.a)(_e(e)),y=p-g;y<=0&&(y+=7);var v=m-y;return Math.ceil(v/7)+1}function Ut(e){Object(o.a)(1,arguments);var t=Object(i.a)(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function zt(e,t){return Object(o.a)(1,arguments),q(Ut(e),_e(e),t)+1}function Vt(e){return Object(o.a)(1,arguments),Object(i.a)(e).getFullYear()}function Gt(e){return Object(o.a)(1,arguments),Math.floor(e*B.d)}function Ht(e){return Object(o.a)(1,arguments),Math.floor(e*B.h)}function Wt(e){return Object(o.a)(1,arguments),Math.floor(e*B.m)}function Yt(e){Object(o.a)(1,arguments);var t=Object(i.a)(e.start),n=Object(i.a)(e.end);if(isNaN(t.getTime()))throw new RangeError("Start Date is invalid");if(isNaN(n.getTime()))throw new RangeError("End Date is invalid");var a={};a.years=Math.abs(pe(n,t));var s=Object(D.a)(n,t),l=Object(r.a)(t,{years:s*a.years});a.months=Math.abs(ce(n,l));var c=Object(r.a)(l,{months:s*a.months});a.days=Math.abs(Object($.a)(n,c));var u=Object(r.a)(c,{days:s*a.days});a.hours=Math.abs(ne(n,u));var d=Object(r.a)(u,{hours:s*a.hours});a.minutes=Math.abs(Object(oe.a)(n,d));var f=Object(r.a)(d,{minutes:s*a.minutes});return a.seconds=Math.abs(Object(de.a)(n,f)),a}function Qt(e,t,n){var r,i;return Object(o.a)(1,arguments),Zt(t)?i=t:n=t,new Intl.DateTimeFormat(null===(r=n)||void 0===r?void 0:r.locale,i).format(e)}function Zt(e){return void 0!==e&&!("locale"in e)}function Xt(e,t,n){Object(o.a)(2,arguments);var r,a=0,s=Object(i.a)(e),l=Object(i.a)(t);if(null!=n&&n.unit)"second"===(r=null==n?void 0:n.unit)?a=Object(de.a)(s,l):"minute"===r?a=Object(oe.a)(s,l):"hour"===r?a=ne(s,l):"day"===r?a=Object(w.a)(s,l):"week"===r?a=q(s,l):"month"===r?a=Q(s,l):"quarter"===r?a=X(s,l):"year"===r&&(a=K(s,l));else{var c=Object(de.a)(s,l);Math.abs(c)<B.n?(a=Object(de.a)(s,l),r="second"):Math.abs(c)<B.m?(a=Object(oe.a)(s,l),r="minute"):Math.abs(c)<B.l&&Math.abs(Object(w.a)(s,l))<1?(a=ne(s,l),r="hour"):Math.abs(c)<B.q&&(a=Object(w.a)(s,l))&&Math.abs(a)<7?r="day":Math.abs(c)<B.o?(a=q(s,l),r="week"):Math.abs(c)<B.p?(a=Q(s,l),r="month"):Math.abs(c)<B.r&&X(s,l)<4?(a=X(s,l),r="quarter"):(a=K(s,l),r="year")}var u=new Intl.RelativeTimeFormat(null==n?void 0:n.locale,{localeMatcher:null==n?void 0:n.localeMatcher,numeric:(null==n?void 0:n.numeric)||"auto",style:null==n?void 0:n.style});return u.format(a,r)}function Jt(e,t){Object(o.a)(2,arguments);var n=Object(i.a)(e),r=Object(i.a)(t);return n.getTime()>r.getTime()}var qt=n(460),Kt=n(288);function $t(e,t){Object(o.a)(2,arguments);var n=Object(i.a)(e),r=Object(i.a)(t);return n.getTime()===r.getTime()}function en(e,t,n){if(arguments.length<3)throw new TypeError("3 argument required, but only "+arguments.length+" present");var r=new Date(e,t,n);return r.getFullYear()===e&&r.getMonth()===t&&r.getDate()===n}function tn(e){return Object(o.a)(1,arguments),1===Object(i.a)(e).getDate()}function nn(e){return Object(o.a)(1,arguments),5===Object(i.a)(e).getDay()}function rn(e){return Object(o.a)(1,arguments),Object(i.a)(e).getTime()>Date.now()}var on=n(369);function an(e){return Object(o.a)(1,arguments),1===Object(i.a)(e).getDay()}function sn(e){return Object(o.a)(1,arguments),Object(i.a)(e).getTime()<Date.now()}function ln(e){Object(o.a)(1,arguments);var t=Object(i.a)(e);return t.setMinutes(0,0,0),t}function cn(e,t){Object(o.a)(2,arguments);var n=ln(e),r=ln(t);return n.getTime()===r.getTime()}function un(e,t,n){Object(o.a)(2,arguments);var r=g(e,n),i=g(t,n);return r.getTime()===i.getTime()}function dn(e,t){return Object(o.a)(2,arguments),un(e,t,{weekStartsOn:1})}function fn(e,t){Object(o.a)(2,arguments);var n=b(e),r=b(t);return n.getTime()===r.getTime()}function pn(e,t){Object(o.a)(2,arguments);var n=ge(e),r=ge(t);return n.getTime()===r.getTime()}function mn(e,t){Object(o.a)(2,arguments);var n=Object(i.a)(e),r=Object(i.a)(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function hn(e,t){Object(o.a)(2,arguments);var n=be(e),r=be(t);return n.getTime()===r.getTime()}function gn(e){Object(o.a)(1,arguments);var t=Object(i.a)(e);return t.setMilliseconds(0),t}function yn(e,t){Object(o.a)(2,arguments);var n=gn(e),r=gn(t);return n.getTime()===r.getTime()}function vn(e,t){Object(o.a)(2,arguments);var n=Object(i.a)(e),r=Object(i.a)(t);return n.getFullYear()===r.getFullYear()}function bn(e){return Object(o.a)(1,arguments),cn(Date.now(),e)}function wn(e){return Object(o.a)(1,arguments),dn(e,Date.now())}function xn(e){return Object(o.a)(1,arguments),pn(Date.now(),e)}function En(e){return Object(o.a)(1,arguments),mn(Date.now(),e)}function _n(e){return Object(o.a)(1,arguments),hn(Date.now(),e)}function An(e){return Object(o.a)(1,arguments),yn(Date.now(),e)}function On(e,t){return Object(o.a)(1,arguments),un(e,Date.now(),t)}function Sn(e){return Object(o.a)(1,arguments),vn(e,Date.now())}function Tn(e){return Object(o.a)(1,arguments),4===Object(i.a)(e).getDay()}function In(e){return Object(o.a)(1,arguments),Object(U.a)(e,Date.now())}function kn(e){return Object(o.a)(1,arguments),Object(U.a)(e,Object(d.a)(Date.now(),1))}function Cn(e){return Object(o.a)(1,arguments),2===Object(i.a)(e).getDay()}function Mn(e){return Object(o.a)(1,arguments),3===Object(i.a)(e).getDay()}function Nn(e,t){Object(o.a)(2,arguments);var n=Object(i.a)(e).getTime(),r=Object(i.a)(t.start).getTime(),a=Object(i.a)(t.end).getTime();if(!(r<=a))throw new RangeError("Invalid interval");return n>=r&&n<=a}var jn=n(181);function Ln(e){return Object(o.a)(1,arguments),Object(U.a)(e,Object(jn.a)(Date.now(),1))}function Rn(e){Object(o.a)(1,arguments);var t=Object(i.a)(e),n=t.getFullYear(),r=9+10*Math.floor(n/10);return t.setFullYear(r+1,0,0),t.setHours(0,0,0,0),t}function Dn(e,t){var n,r,a,l,c,u,d,f;Object(o.a)(1,arguments);var p=Object(h.a)(),m=Object(s.a)(null!==(n=null!==(r=null!==(a=null!==(l=null==t?void 0:t.weekStartsOn)&&void 0!==l?l:null==t||null===(c=t.locale)||void 0===c||null===(u=c.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==a?a:p.weekStartsOn)&&void 0!==r?r:null===(d=p.locale)||void 0===d||null===(f=d.options)||void 0===f?void 0:f.weekStartsOn)&&void 0!==n?n:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6");var g=Object(i.a)(e),y=g.getDay(),v=6+(y<m?-7:0)-(y-m);return g.setHours(0,0,0,0),g.setDate(g.getDate()+v),g}function Pn(e){return Object(o.a)(1,arguments),Dn(e,{weekStartsOn:1})}function Bn(e){Object(o.a)(1,arguments);var t=v(e),n=new Date(0);n.setFullYear(t+1,0,4),n.setHours(0,0,0,0);var r=y(n);return r.setDate(r.getDate()-1),r}function Fn(e){Object(o.a)(1,arguments);var t=Object(i.a)(e),n=t.getMonth(),r=n-n%3+3;return t.setMonth(r,0),t.setHours(0,0,0,0),t}function Un(e){Object(o.a)(1,arguments);var t=Object(i.a)(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(0,0,0,0),t}var zn=n(145),Vn=/(\w)\1*|''|'(''|[^'])+('|$)|./g,Gn=/^'([^]*?)'?$/,Hn=/''/g,Wn=/[a-zA-Z]/;function Yn(e,t){Object(o.a)(2,arguments);var n=Object(i.a)(e);if(!Object(z.a)(n))throw new RangeError("Invalid time value");var r=Object(H.a)(n),a=Object(ut.a)(n,r),s=t.match(Vn);if(!s)return"";var l=s.map((function(e){if("''"===e)return"'";var t=e[0];if("'"===t)return Qn(e);var n=zn.a[t];if(n)return n(a,e);if(t.match(Wn))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return e})).join("");return l}function Qn(e){var t=e.match(Gn);return t?t[1].replace(Hn,"'"):e}var Zn=365.2425;function Xn(e){var t=e.years,n=e.months,r=e.weeks,i=e.days,a=e.hours,s=e.minutes,l=e.seconds;Object(o.a)(1,arguments);var c=0;t&&(c+=t*Zn),n&&(c+=30.436875*n),r&&(c+=7*r),i&&(c+=i);var u=24*c*60*60;return a&&(u+=60*a*60),s&&(u+=60*s),l&&(u+=l),Math.round(1e3*u)}function Jn(e){Object(o.a)(1,arguments);var t=e/B.d;return Math.floor(t)}function qn(e){Object(o.a)(1,arguments);var t=e/B.e;return Math.floor(t)}function Kn(e){Object(o.a)(1,arguments);var t=e/B.f;return Math.floor(t)}function $n(e){Object(o.a)(1,arguments);var t=e/B.h;return Math.floor(t)}function er(e){return Object(o.a)(1,arguments),Math.floor(e*B.e)}function tr(e){return Object(o.a)(1,arguments),Math.floor(e*B.n)}function nr(e){Object(o.a)(1,arguments);var t=e/B.i;return Math.floor(t)}function rr(e){Object(o.a)(1,arguments);var t=e/B.j;return Math.floor(t)}var ir=n(114);function or(e){return Object(o.a)(1,arguments),Object(ir.a)(e,5)}function ar(e){return Object(o.a)(1,arguments),Object(ir.a)(e,1)}function sr(e){return Object(o.a)(1,arguments),Object(ir.a)(e,6)}var lr=n(375);function cr(e){return Object(o.a)(1,arguments),Object(ir.a)(e,4)}function ur(e){return Object(o.a)(1,arguments),Object(ir.a)(e,2)}function dr(e){return Object(o.a)(1,arguments),Object(ir.a)(e,3)}var fr=n(264);function pr(e,t){var n;Object(o.a)(1,arguments);var r=Object(s.a)(null!==(n=null==t?void 0:t.additionalDigits)&&void 0!==n?n:2);if(2!==r&&1!==r&&0!==r)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var i,a=vr(e);if(a.date){var l=br(a.date,r);i=wr(l.restDateString,l.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var c,u=i.getTime(),d=0;if(a.time&&(d=Er(a.time),isNaN(d)))return new Date(NaN);if(!a.timezone){var f=new Date(u+d),p=new Date(0);return p.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),p.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),p}return c=Ar(a.timezone),isNaN(c)?new Date(NaN):new Date(u+d+c)}var mr={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},hr=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,gr=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,yr=/^([+-])(\d{2})(?::?(\d{2}))?$/;function vr(e){var t,n={},r=e.split(mr.dateTimeDelimiter);if(r.length>2)return n;if(/:/.test(r[0])?t=r[0]:(n.date=r[0],t=r[1],mr.timeZoneDelimiter.test(n.date)&&(n.date=e.split(mr.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length))),t){var i=mr.timezone.exec(t);i?(n.time=t.replace(i[1],""),n.timezone=i[1]):n.time=t}return n}function br(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:null===o?i:100*o,restDateString:e.slice((r[1]||r[2]).length)}}function wr(e,t){if(null===t)return new Date(NaN);var n=e.match(hr);if(!n)return new Date(NaN);var r=!!n[4],i=xr(n[1]),o=xr(n[2])-1,a=xr(n[3]),s=xr(n[4]),l=xr(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,s,l)?function(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var i=r.getUTCDay()||7,o=7*(t-1)+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}(t,s,l):new Date(NaN);var c=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(Or[t]||(Sr(e)?29:28))}(t,o,a)&&function(e,t){return t>=1&&t<=(Sr(e)?366:365)}(t,i)?(c.setUTCFullYear(t,o,Math.max(i,a)),c):new Date(NaN)}function xr(e){return e?parseInt(e):1}function Er(e){var t=e.match(gr);if(!t)return NaN;var n=_r(t[1]),r=_r(t[2]),i=_r(t[3]);return function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,r,i)?n*B.d+r*B.e+1e3*i:NaN}function _r(e){return e&&parseFloat(e.replace(",","."))||0}function Ar(e){if("Z"===e)return 0;var t=e.match(yr);if(!t)return 0;var n="+"===t[1]?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return function(e,t){return t>=0&&t<=59}(0,i)?n*(r*B.d+i*B.e):NaN}var Or=[31,null,31,30,31,30,31,31,30,31,30,31];function Sr(e){return e%400==0||e%4==0&&e%100!=0}function Tr(e){if(Object(o.a)(1,arguments),"string"==typeof e){var t=e.match(/(\d{4})-(\d{2})-(\d{2})[T ](\d{2}):(\d{2}):(\d{2})(?:\.(\d{0,7}))?(?:Z|(.)(\d{2}):?(\d{2})?)?/);return t?new Date(Date.UTC(+t[1],+t[2]-1,+t[3],+t[4]-(+t[9]||0)*("-"==t[8]?-1:1),+t[5]-(+t[10]||0)*("-"==t[8]?-1:1),+t[6],+((t[7]||"0")+"00").substring(0,3))):new Date(NaN)}return Object(i.a)(e)}var Ir=n(113);function kr(e){return Object(o.a)(1,arguments),Object(Ir.a)(e,5)}function Cr(e){return Object(o.a)(1,arguments),Object(Ir.a)(e,1)}function Mr(e){return Object(o.a)(1,arguments),Object(Ir.a)(e,6)}var Nr=n(374);function jr(e){return Object(o.a)(1,arguments),Object(Ir.a)(e,4)}function Lr(e){return Object(o.a)(1,arguments),Object(Ir.a)(e,2)}function Rr(e){return Object(o.a)(1,arguments),Object(Ir.a)(e,3)}function Dr(e){return Object(o.a)(1,arguments),Math.floor(e*B.i)}function Pr(e){Object(o.a)(1,arguments);var t=e/B.k;return Math.floor(t)}function Br(e,t){var n;if(arguments.length<1)throw new TypeError("1 argument required, but only none provided present");var r=Object(s.a)(null!==(n=null==t?void 0:t.nearestTo)&&void 0!==n?n:1);if(r<1||r>30)throw new RangeError("`options.nearestTo` must be between 1 and 30");var o=Object(i.a)(e),a=o.getSeconds(),l=o.getMinutes()+a/60,c=Object(te.a)(null==t?void 0:t.roundingMethod),u=c(l/r)*r,d=l%r,f=Math.round(d/r)*r;return new Date(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),u+f)}function Fr(e){Object(o.a)(1,arguments);var t=e/B.m;return Math.floor(t)}function Ur(e){return Object(o.a)(1,arguments),e*B.f}function zr(e){Object(o.a)(1,arguments);var t=e/B.n;return Math.floor(t)}function Vr(e,t){Object(o.a)(2,arguments);var n=Object(i.a)(e),r=Object(s.a)(t),a=n.getFullYear(),l=n.getDate(),c=new Date(0);c.setFullYear(a,r,15),c.setHours(0,0,0,0);var u=gt(c);return n.setMonth(r,Math.min(l,u)),n}function Gr(e,t){if(Object(o.a)(2,arguments),"object"!==Object(C.a)(t)||null===t)throw new RangeError("values parameter must be an object");var n=Object(i.a)(e);return isNaN(n.getTime())?new Date(NaN):(null!=t.year&&n.setFullYear(t.year),null!=t.month&&(n=Vr(n,t.month)),null!=t.date&&n.setDate(Object(s.a)(t.date)),null!=t.hours&&n.setHours(Object(s.a)(t.hours)),null!=t.minutes&&n.setMinutes(Object(s.a)(t.minutes)),null!=t.seconds&&n.setSeconds(Object(s.a)(t.seconds)),null!=t.milliseconds&&n.setMilliseconds(Object(s.a)(t.milliseconds)),n)}function Hr(e,t){Object(o.a)(2,arguments);var n=Object(i.a)(e),r=Object(s.a)(t);return n.setDate(r),n}function Wr(e,t,n){var r,a,l,c,u,f,p,m;Object(o.a)(2,arguments);var g=Object(h.a)(),y=Object(s.a)(null!==(r=null!==(a=null!==(l=null!==(c=null==n?void 0:n.weekStartsOn)&&void 0!==c?c:null==n||null===(u=n.locale)||void 0===u||null===(f=u.options)||void 0===f?void 0:f.weekStartsOn)&&void 0!==l?l:g.weekStartsOn)&&void 0!==a?a:null===(p=g.locale)||void 0===p||null===(m=p.options)||void 0===m?void 0:m.weekStartsOn)&&void 0!==r?r:0);if(!(y>=0&&y<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var v=Object(i.a)(e),b=Object(s.a)(t),w=v.getDay(),x=b%7,E=(x+7)%7,_=7-y,A=b<0||b>6?b-(w+_)%7:(E+_)%7-(w+_)%7;return Object(d.a)(v,A)}function Yr(e,t){Object(o.a)(2,arguments);var n=Object(i.a)(e),r=Object(s.a)(t);return n.setMonth(0),n.setDate(r),n}function Qr(e){Object(o.a)(1,arguments);var t={},n=Object(h.a)();for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(void 0===e[i]?delete t[i]:t[i]=e[i]);Object(h.b)(t)}function Zr(e,t){Object(o.a)(2,arguments);var n=Object(i.a)(e),r=Object(s.a)(t);return n.setHours(r),n}function Xr(e,t){Object(o.a)(2,arguments);var n=Object(i.a)(e),r=Object(s.a)(t),a=Et(n),l=r-a;return Object(d.a)(n,l)}function Jr(e,t){Object(o.a)(2,arguments);var n=Object(i.a)(e),r=Object(s.a)(t),a=At(n)-r;return n.setDate(n.getDate()-7*a),n}function qr(e,t){Object(o.a)(2,arguments);var n=Object(i.a)(e),r=Object(s.a)(t);return n.setMilliseconds(r),n}function Kr(e,t){Object(o.a)(2,arguments);var n=Object(i.a)(e),r=Object(s.a)(t);return n.setMinutes(r),n}function $r(e,t){Object(o.a)(2,arguments);var n=Object(i.a)(e),r=Object(s.a)(t),a=Math.floor(n.getMonth()/3)+1,l=r-a;return Vr(n,n.getMonth()+3*l)}function ei(e,t){Object(o.a)(2,arguments);var n=Object(i.a)(e),r=Object(s.a)(t);return n.setSeconds(r),n}function ti(e,t,n){Object(o.a)(2,arguments);var r=Object(i.a)(e),a=Object(s.a)(t),l=Bt(r,n)-a;return r.setDate(r.getDate()-7*l),r}function ni(e,t,n){var r,a,l,c,u,d,f,p;Object(o.a)(2,arguments);var m=Object(h.a)(),g=Object(s.a)(null!==(r=null!==(a=null!==(l=null!==(c=null==n?void 0:n.firstWeekContainsDate)&&void 0!==c?c:null==n||null===(u=n.locale)||void 0===u||null===(d=u.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==l?l:m.firstWeekContainsDate)&&void 0!==a?a:null===(f=m.locale)||void 0===f||null===(p=f.options)||void 0===p?void 0:p.firstWeekContainsDate)&&void 0!==r?r:1),y=Object(i.a)(e),v=Object(s.a)(t),b=Object(w.a)(y,Dt(y,n)),x=new Date(0);return x.setFullYear(v,0,g),x.setHours(0,0,0,0),(y=Dt(x,n)).setDate(y.getDate()+b),y}function ri(e,t){Object(o.a)(2,arguments);var n=Object(i.a)(e),r=Object(s.a)(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}var ii=n(154);function oi(e){Object(o.a)(1,arguments);var t=Object(i.a)(e),n=t.getFullYear(),r=10*Math.floor(n/10);return t.setFullYear(r,0,1),t.setHours(0,0,0,0),t}function ai(){return Object(ii.a)(Date.now())}function si(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),r=e.getDate(),i=new Date(0);return i.setFullYear(t,n,r+1),i.setHours(0,0,0,0),i}function li(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),r=e.getDate(),i=new Date(0);return i.setFullYear(t,n,r-1),i.setHours(0,0,0,0),i}function ci(e,t){Object(o.a)(2,arguments);var n=Object(s.a)(t);return Object(A.a)(e,-n)}function ui(e,t){if(Object(o.a)(2,arguments),!t||"object"!==Object(C.a)(t))return new Date(NaN);var n=t.years?Object(s.a)(t.years):0,r=t.months?Object(s.a)(t.months):0,i=t.weeks?Object(s.a)(t.weeks):0,a=t.days?Object(s.a)(t.days):0,l=t.hours?Object(s.a)(t.hours):0,c=t.minutes?Object(s.a)(t.minutes):0,u=t.seconds?Object(s.a)(t.seconds):0,d=ci(e,r+12*n),f=Object(jn.a)(d,a+7*i),p=c+60*l,m=u+60*p,h=1e3*m,g=new Date(f.getTime()-h);return g}function di(e,t){Object(o.a)(2,arguments);var n=Object(s.a)(t);return u(e,-n)}function fi(e,t){Object(o.a)(2,arguments);var n=Object(s.a)(t);return m(e,-n)}function pi(e,t){Object(o.a)(2,arguments);var n=Object(s.a)(t);return _(e,-n)}function mi(e,t){Object(o.a)(2,arguments);var n=Object(s.a)(t);return O(e,-n)}function hi(e,t){Object(o.a)(2,arguments);var n=Object(s.a)(t);return Object(S.a)(e,-n)}function gi(e,t){Object(o.a)(2,arguments);var n=Object(s.a)(t);return T(e,-n)}function yi(e,t){Object(o.a)(2,arguments);var n=Object(s.a)(t);return I(e,-n)}function vi(e){return Object(o.a)(1,arguments),Math.floor(e*B.a)}function bi(e){return Object(o.a)(1,arguments),Math.floor(e*B.j)}function wi(e){return Object(o.a)(1,arguments),Math.floor(e*B.k)}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.parseOTP2Minute=t.getPlaceName=t.getVehicleType=t.toModeBorder=t.toModeBorderColor=t.toModeColor=t.toSafeRouteColor=t.defaultMessages=void 0;var i=r(n(51)),o=r(n(290));t.defaultMessages=(0,i.default)(o.default);t.toSafeRouteColor=function(e){return e&&(e.startsWith("#")?e:"#".concat(e))};t.toModeColor=function(e,n){switch(e){case"WALK":return"#e9e9e9";case"BICYCLE":case"BICYCLE_RENT":return"red";case"CAR":return"grey";case"MICROMOBILITY":case"MICROMOBILITY_RENT":case"SCOOTER":return"#f5a729";default:return(0,t.toSafeRouteColor)(n)||"#084c8d"}};t.toModeBorderColor=function(e,n){switch(e){case"WALK":return"#484848";case"BICYCLE":case"BICYCLE_RENT":return"red";case"CAR":return"grey";case"MICROMOBILITY":case"MICROMOBILITY_RENT":case"SCOOTER":return"#f5a729";default:return(0,t.toSafeRouteColor)(n)||"#008ab0"}};function a(e,n){switch(e){case"BIKEPARK":return n.formatMessage({defaultMessage:t.defaultMessages["otpUi.AccessLegBody.vehicleType.bike"],description:"Bike vehicle type",id:"otpUi.AccessLegBody.vehicleType.bike"});case"BIKESHARE":return n.formatMessage({defaultMessage:t.defaultMessages["otpUi.AccessLegBody.vehicleType.bikeshare"],description:"Bike share vehicle type",id:"otpUi.AccessLegBody.vehicleType.bikeshare"});case"CARSHARE":return n.formatMessage({defaultMessage:t.defaultMessages["otpUi.AccessLegBody.vehicleType.car"],description:"Car vehicle type",id:"otpUi.AccessLegBody.vehicleType.car"});case"VEHICLERENTAL":return n.formatMessage({defaultMessage:t.defaultMessages["otpUi.AccessLegBody.vehicleType.escooter"],description:"E-scooter vehicle type",id:"otpUi.AccessLegBody.vehicleType.escooter"});default:return n.formatMessage({defaultMessage:t.defaultMessages["otpUi.AccessLegBody.vehicleType.vehicle"],description:"Generic vehicle type",id:"otpUi.AccessLegBody.vehicleType.vehicle"})}}t.toModeBorder=function(e,n){switch(e){case"WALK":case"BICYCLE":case"BICYCLE_RENT":case"CAR":case"MICROMOBILITY":case"MICROMOBILITY_RENT":case"SCOOTER":return"dotted 4px ".concat((0,t.toModeBorderColor)(e,n));default:return"solid 8px ".concat((0,t.toModeBorderColor)(e,n))}},t.getVehicleType=a,t.getPlaceName=function(e,n,r){var i,o,s;if(void 0===n&&(n=[]),e.address)return null===(i=e.address.split(","))||void 0===i?void 0:i[0];var l=function(e,t){void 0===t&&(t=[]);var n=t.find((function(t){return t.id===e}));return n||console.warn("No company found in config.yml that matches rented vehicle network: ".concat(e),t),n}((null===(o=e.networks)||void 0===o?void 0:o[0])||(null===(s=null==e?void 0:e.rentalVehicle)||void 0===s?void 0:s.network),n);return r&&("Default vehicle type"===e.name||(e.name.match(/-/g)||[]).length>3||(null==l?void 0:l.overridePlaceNames))?r.formatMessage({defaultMessage:t.defaultMessages["otpUi.AccessLegBody.vehicleTitle"],description:"Formats rental vehicle company and type",id:"otpUi.AccessLegBody.vehicleTitle"},{company:null==l?void 0:l.label,vehicleType:a(e.vertexType,r)}):e.name};t.parseOTP2Minute=function(e){return e.split("PT")[1].split("M")[0]}},function(e,t,n){"use strict";n.d(t,"v",(function(){return V})),n.d(t,"c",(function(){return G})),n.d(t,"g",(function(){return W})),n.d(t,"n",(function(){return Q})),n.d(t,"r",(function(){return Z})),n.d(t,"a",(function(){return q})),n.d(t,"k",(function(){return ne})),n.d(t,"l",(function(){return ae})),n.d(t,"e",(function(){return se})),n.d(t,"i",(function(){return le})),n.d(t,"t",(function(){return ce})),n.d(t,"f",(function(){return ue})),n.d(t,"w",(function(){return de})),n.d(t,"x",(function(){return fe})),n.d(t,"d",(function(){return pe})),n.d(t,"s",(function(){return me})),n.d(t,"y",(function(){return he})),n.d(t,"b",(function(){return ge})),n.d(t,"o",(function(){return ye})),n.d(t,"p",(function(){return ve})),n.d(t,"u",(function(){return be})),n.d(t,"h",(function(){return we})),n.d(t,"j",(function(){return xe})),n.d(t,"q",(function(){return Ee})),n.d(t,"m",(function(){return _e}));var r=n(12),i=n(75),o=n.n(i),a=n(7),s=n(505),l=n.n(s),c=n(123),u=n.n(c),d=n(56),f=n.n(d),p=n(227),m=n.n(p),h=n(72),g=n(52),y=n(32),v=n(116),b=n(277),w=n(38),x=n(21),E=n(25),_=n(46),A=["modes"],O=["modes"];function S(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function k(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function C(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){k(o,r,i,a,s,"next",e)}function s(e){k(o,r,i,a,s,"throw",e)}a(void 0)}))}}var M=a.default.query.planParamsToQuery,N=a.default.time.getCurrentDate,j="/api/secure/monitoredtrip",L="/api/secure/user",R="/verify_sms",D=Object(r.a)("SET_ACCESS_TOKEN"),P=Object(r.a)("SET_CURRENT_USER"),B=Object(r.a)("SET_CURRENT_USER_MONITORED_TRIPS"),F=Object(r.a)("SET_CURRENT_USER_TRIP_REQUESTS"),U=Object(r.a)("SET_DEPENDENT_USER_INFO"),z=Object(r.a)("SET_LAST_PHONE_SMS_REQUEST"),V=Object(r.a)("SET_PATH_BEFORE_SIGNIN"),G=Object(r.a)("CLEAR_ITINERARY_EXISTENCE"),H=Object(r.a)("SET_ITINERARY_EXISTENCE"),W=Object(r.a)("DELETE_LOCAL_USER_RECENT_PLACE"),Y=Object(r.a)("DELETE_LOCAL_USER_SAVED_PLACE"),Q=Object(r.a)("FORGET_STOP"),Z=Object(r.a)("REMEMBER_STOP"),X=Object(r.a)("REMEMBER_LOCAL_USER_PLACE"),J=Object(r.a)("DELETE_LOCAL_USER_RECENT_PLACE"),q={FAILURE:1,SUCCESS:0};function K(e,t){e&&alert(e.formatMessage({id:"actions.user.genericError"},{err:JSON.stringify(t)}))}function $(e){return{accessibilityRoutingByDefault:!1,auth0UserId:e.sub,email:e.email,hasConsentedToTerms:!1,isPhoneNumberVerified:!1,notificationChannel:"email",phoneNumber:"",savedLocations:[],storeTripHistory:!1}}function ee(e){var t=e.otp,n=e.user,r=t.config.persistence.otp_middleware,i=void 0===r?null:r;if(i){var o=n.accessToken,a=n.loggedInUser;return{accessToken:o,apiBaseUrl:i.apiBaseUrl,apiKey:i.apiKey,loggedInUser:a}}throw new Error("This action requires config.yml#persistence#otp_middleware to be defined.")}function te(){return function(){var e=C(regeneratorRuntime.mark((function e(t,n){var r,i,o,a,s,l,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ee(n()),i=r.accessToken,o=r.apiBaseUrl,a=r.apiKey,s="".concat(o).concat(j),e.next=4,Object(v.b)(s,i,a,"GET");case 4:l=e.sent,c=l.data,"success"===l.status&&(u=n().otp.config.routeModeOverrides,c.data.forEach((function(e){Object(h.applyRouteModeOverrides)(e.itinerary,u)})),t(B(c.data)));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}function ne(e,t){return function(){var n=C(regeneratorRuntime.mark((function n(r,i){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.getAccessTokenSilently();case 3:o=n.sent,r(D(o)),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),alert(t.formatMessage({id:"actions.user.authTokenError"}));case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e,t){return n.apply(this,arguments)}}()}function re(e){return function(t){var n=t.dateCreated,r=t.id,i=t.otp2QueryParams,o=void 0===i?{}:i,a=e.api,s=a.host,l=a.path;return{canDelete:!1,id:r,query:M(o||{}),timestamp:n,url:"".concat(s).concat(l,"/plan?").concat(f.a.stringify(o))}}}function ie(e,t){if(0===e.length)e.push(t);else if(function(e,t){e.modes;var n=I(e,A),r=(t.modes,I(t,O));return u()(n,r)}(e[e.length-1].query,t.query)){var n;(n=e[e.length-1].query.modes).push.apply(n,S(t.query.modes))}else e.push(t);return e}function oe(e,t){return function(n,r){Object(g.q)(e);var i=!!r().otp.config.mobilityProfile;i&&Object(g.r)(e),n(P(e)),t&&(n(te()),n(function(){var e=C(regeneratorRuntime.mark((function e(t,n){var r,i,o,a,s,c,u,d,f,p,m,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ee(n()),i=r.accessToken,o=r.apiBaseUrl,a=r.apiKey,s=r.loggedInUser,c="".concat(o).concat("/api/secure/triprequests","?userId=").concat(s.id),e.next=4,Object(v.b)("".concat(c,"&limit=0"),i,a,"GET");case 4:if(u=e.sent,d=u.data,"success"!==u.status){e.next=15;break}return e.next=11,Object(v.b)("".concat(c,"&offset=").concat(Math.max(0,d.total-50),"&limit=").concat(50),i,a,"GET");case 11:f=e.sent,p=f.data,"success"===f.status&&(m=n().otp.config,h=p.data.map(re(m)).filter((function(e){return(!l()(e.query)||!!e.otp2QueryParams)&&e.query.modes})).reduce(ie,[]),t(F(h)));case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));var o=e.accessibilityRoutingByDefault,a=e.preferredLocale;void 0!==o&&n(Object(_.h)({wheelchair:o})),Object(y.i)(a)||n(Object(x.h)(a)),i&&!r().router.location.pathname.startsWith("/account")&&setTimeout((function(){n(Object(E.O)())}),300)}}function ae(e){return function(){var t=C(regeneratorRuntime.mark((function t(n,r){var i,o,a,s,l,c,u,d,f,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=ee(r()),o=i.accessToken,a=i.apiBaseUrl,s=i.apiKey,l="".concat(a).concat(L,"/fromtoken"),t.next=4,Object(v.b)(l,o,s);case 4:c=t.sent,u=c.data,d=c.status,f="error"===d||u&&"ERR"===u.result,p=f?$(e):u,n(oe(p,!f));case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}function se(e,t){return function(){var n=C(regeneratorRuntime.mark((function n(r,i){var o,a,s,l,c,u,d,f,p,m,h,b;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=ee(i()),a=o.accessToken,s=o.apiBaseUrl,l=o.apiKey,c=o.loggedInUser,u=e.id,e.savedLocations=e.savedLocations.filter((function(e){var t=e.address;return!Object(y.i)(t)})),(p=Object(g.o)(c))?(f="".concat(s).concat(L),d="POST"):(f="".concat(s).concat(L,"/").concat(u),d="PUT"),n.next=7,Object(v.b)(f,a,l,d,{body:JSON.stringify(e)});case 7:if(m=n.sent,h=m.data,b=m.message,"success"!==m.status||!h){n.next=16;break}return r(oe(h,p)),n.abrupt("return",q.SUCCESS);case 16:return K(t,b),n.abrupt("return",q.FAILURE);case 18:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}function le(e,t){return function(){var n=C(regeneratorRuntime.mark((function n(r,i){var o,a,s,l,c,u;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=ee(i()),a=o.accessToken,s=o.apiBaseUrl,l=o.apiKey,n.next=3,Object(v.b)("".concat(s).concat(L,"/fromtoken"),a,l,"DELETE");case 3:c=n.sent,u=c.message,"success"===c.status?(alert(t.formatMessage({id:"actions.user.accountDeleted"},{email:e.user.email})),e.logout({returnTo:window.location.origin})):K(t,u);case 7:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}function ce(e){return function(){var t=C(regeneratorRuntime.mark((function t(n,r){var i,o,a,s,l,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=ee(r()),o=i.accessToken,a=i.apiBaseUrl,s=i.apiKey,l="".concat(a).concat(L,"/verification-email"),t.next=4,Object(v.b)(l,o,s);case 4:c=t.sent,"success"===c.status&&m.a.success(e.formatMessage({id:"actions.user.emailVerificationResent"}));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}function ue(e,t,n,r,i){return function(){var o=C(regeneratorRuntime.mark((function o(a,s){var l,c,u,d,f,p,m,h,g,y;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return l=ee(s()),c=l.accessToken,u=l.apiBaseUrl,d=l.apiKey,f=e.id,t?(m="".concat(u).concat(j),p="POST"):(m="".concat(u).concat(j,"/").concat(f),p="PUT"),o.next=5,Object(v.b)(m,c,d,p,{body:JSON.stringify(e)});case 5:if(h=o.sent,g=h.data,y=h.message,"success"!==h.status||!g){o.next=18;break}return!n&&i&&Object(b.b)(t?i.formatMessage({id:"components.SavedTripEditor.saveNewTrip"}):i.formatMessage({id:"components.SavedTripEditor.editSavedTrip"}),i.formatMessage({id:"actions.user.preferencesSaved"})),o.next=13,a(te());case 13:if(!r){o.next=15;break}return o.abrupt("return");case 15:a(Object(x.d)(w.s)),o.next=19;break;case 18:K(i,y);case 19:case"end":return o.stop()}}),o)})));return function(e,t){return o.apply(this,arguments)}}()}function de(e,t){return function(n,r){var i=o()(e);i.isActive=!i.isActive,n(ue(i,!1,!0,!0,t))}}function fe(e,t){return function(n,r){var i=o()(e);i.snoozed=!i.snoozed,n(ue(i,!1,!0,!0,t))}}function pe(e,t){return function(){var n=C(regeneratorRuntime.mark((function n(r,i){var o,a,s,l,c,u,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(window.confirm(t.formatMessage({id:"actions.user.confirmDeleteMonitoredTrip"}))){n.next=2;break}return n.abrupt("return");case 2:return o=ee(i()),a=o.accessToken,s=o.apiBaseUrl,l=o.apiKey,c="".concat(s).concat(j,"/").concat(e),n.next=6,Object(v.b)(c,a,l,"DELETE");case 6:u=n.sent,d=u.message,"success"===u.status?(r(te()),r(Object(x.d)(w.s))):K(t,d);case 10:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}function me(e,t){return function(){var n=C(regeneratorRuntime.mark((function n(r,i){var o,a,s,l,c,u,d,f,p,m,h,g,y,b;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=i(),a=o.user.lastPhoneSmsRequest,s=a.number,l=a.timestamp,c=new Date,!(s!==e||c-l>=6e4)){n.next=15;break}return u=ee(o),d=u.accessToken,f=u.apiBaseUrl,p=u.apiKey,m=u.loggedInUser,h="".concat(f).concat(L,"/").concat(m.id).concat(R,"/").concat(encodeURIComponent(e)),n.next=8,Object(v.b)(h,d,p,"GET");case 8:g=n.sent,y=g.message,b=g.status,r(z({number:e,status:b,timestamp:c})),"success"===b?r(ae()):K(t,y),n.next=16;break;case 15:alert(t.formatMessage({id:"actions.user.smsResendThrottled"}));case 16:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}function he(e,t){return function(){var n=C(regeneratorRuntime.mark((function n(r,i){var o,a,s,l,c,u,d,f;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=ee(i()),a=o.accessToken,s=o.apiBaseUrl,l=o.apiKey,c=o.loggedInUser,u="".concat(s).concat(L,"/").concat(c.id).concat(R,"/").concat(e),n.next=4,Object(v.b)(u,a,l,"POST");case 4:d=n.sent,f=d.data,"success"===d.status&&f?"approved"===f.status?r(ae()):alert(t.formatMessage({id:"actions.user.smsInvalidCode"})):alert(t.formatMessage({id:"actions.user.smsVerificationFailed"}));case 8:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}function ge(e,t){return function(){var n=C(regeneratorRuntime.mark((function n(r,i){var o,a,s,l,c,u,d,f;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=i(),a=ee(o),s=a.accessToken,l=a.apiBaseUrl,c=a.apiKey,u="".concat(l).concat(j,"/checkitinerary"),r(G()),n.next=6,Object(v.b)(u,s,c,"POST",{body:JSON.stringify(e)});case 6:d=n.sent,f=d.data,"success"===d.status&&f?r(H(f)):alert(t.formatMessage({id:"actions.user.itineraryExistenceCheckFailed"}));case 10:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}function ye(e,t){return function(){var n=C(regeneratorRuntime.mark((function n(r,i){var o,a,s,l,c,u,d,f;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=i(),a=ee(o),s=a.accessToken,l=a.apiBaseUrl,c=a.apiKey,u="".concat(l).concat(L,"/getdependentmobilityprofile?dependentuserids=").concat(e),n.next=5,Object(v.b)(u,s,c,"GET");case 5:d=n.sent,f=d.data,"success"===d.status&&f?r(U(f)):alert(t.formatMessage({id:"actions.user.getDependentUserInfoFailed"}));case 9:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}function ve(e){return function(t,n){var r=M(f.a.parse(e.queryParams));r.date=N(n().otp.config.homeTimezone),t(Object(x.d)("/","")),t(Object(_.h)(r)),setTimeout((function(){t(Object(E.O)())}),300)}}function be(e,t,n){return function(r,i){var o=i().user.loggedInUser;return"new"===t?o.savedLocations.push(e):o.savedLocations[t]=e,r(se(o,n))}}function we(e,t){return function(n,r){if(window.confirm(t.formatMessage({id:"actions.user.confirmDeletePlace"}))){var i=r().user.loggedInUser;i.savedLocations.splice(e,1),n(se(i,t))}}}function xe(e,t){return function(n,r){var i=r(),o=i.otp,a=i.user,s=Object(g.h)(o.config.persistence),l=a.loggedInUser;if(s.isOtpMiddleware&&l){var c="home"===e||"work"===e?l.savedLocations.findIndex((function(t){return t.type===e})):l.savedLocations.indexOf(e);c>-1&&n(we(c,t))}else s.isLocalStorage&&n(Y(e))}}function Ee(e,t){return function(n,r){var i=r(),o=i.otp,a=i.user,s=Object(g.h)(o.config.persistence),l=a.loggedInUser;if(s.isOtpMiddleware){if(l)if(l.hasConsentedToTerms){var c=e.location;if(Object(g.n)(c)){var u=l.savedLocations.findIndex((function(e){return e.type===c.type}));if(u>-1)return n(be(Object(g.f)(c),u,t))}}else alert(t.formatMessage({id:"actions.user.mustAcceptTermsToSavePlace"}));else alert(t.formatMessage({id:"actions.user.mustBeLoggedInToSavePlace"}));return q.FAILURE}if(s.isLocalStorage)return n(X(e)),q.SUCCESS}}function _e(e,t){return function(n,r){-1!==e.indexOf("recent")?n(J(e)):n(xe(e,t))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return v}));var r={50:"#E5ECF3",100:"#CCDAE7",200:"#B2C7DB",300:"#99B5CF",400:"#7FA2C2",500:"#6690B7",600:"#4D7EAB",700:"#336B9E",800:"#1A5992",900:"#004686"},i={50:"#F7E7E6",100:"#EFCFCE",200:"#E7B6B4",300:"#DF9E9C",400:"#D78683",500:"#CF6E6B",600:"#C75652",700:"#BF3E3A",800:"#B72620",900:"#AF0E08"},o={50:"#ECECEC",100:"#D9D9D9",200:"#C5C5C5",300:"#B3B3B3",400:"#9F9F9F",500:"#8C8C8C",600:"#797979",700:"#666666",800:"#535353",900:"#404040"},a=n(23),s=n.n(a),l=n(0),c=n.n(l);function u(e){var t=Array.from(document.querySelectorAll(e));return{entries:t,firstElement:t[0],lastElement:t[t.length-1]}}function d(e,t){var n=u(e),r=n.entries,i=n.firstElement;if(t===n.lastElement)return i;var o=r.indexOf(t);return r[o+1]}function f(e,t){var n=u(e),r=n.entries,i=n.firstElement,o=n.lastElement;if(t===i)return o;var a=r.indexOf(t);return r[a-1]}var p=n(1),m=p.default.button.withConfig({displayName:"styled__DropdownButton",componentId:"sc-kes9ha-0"})(['background:#fff;border:1px solid black;border-radius:5px;color:inherit;padding:5px 7px;transition:all 0.1s ease-in-out;span.caret{border-left:4px solid transparent;border-right:4px solid transparent;border-top:4px solid;color:inherit;display:inline-block;height:0;margin-left:5px;vertical-align:middle;width:0;}&:hover,&[aria-expanded="true"]{background:',";color:black;cursor:pointer;}"],o[50]),h=p.default.div.withConfig({displayName:"styled__DropdownMenu",componentId:"sc-kes9ha-1"})(["background-clip:padding-box;background-color:#fff;border-radius:4px;border:1px solid rgba(0,0,0,0.15);box-shadow:0 6px 12px rgba(0,0,0,0.175);color:#333;list-style:none;margin:2px 0 0;min-width:160px;padding:5px 0;position:absolute;"," top:100%;width:100%;z-index:1000;hr{margin:0;padding:0;}a,button{background:transparent;border:none;cursor:pointer;padding:5px 15px;text-align:start;width:100%;&:hover{background:",";}}"],(function(e){return e.alignLeft?"left: 0;":"right: 0;"}),o[50]),g=p.default.span.withConfig({displayName:"styled__DropdownWrapper",componentId:"sc-kes9ha-2"})(["float:",";position:relative;"],(function(e){return e.pullRight?"right":"left"})),y=function(e){var t=e.alignMenuLeft,n=e.children,r=e.className,i=e.id,o=e.label,a=e.listLabel,u=e.text,p=e.buttonStyle,y=Object(l.useState)(!1),v=s()(y,2),b=v[0],w=v[1],x=Object(l.useRef)(null),E=Object(l.useCallback)((function(){return w(!b)}),[b,w]),_="#".concat(i," button, #").concat(i,"-label"),A=Array.isArray(n)?n.every((function(e){return c.a.isValidElement(e)&&"li"===e.type})):c.a.isValidElement(n)&&"li"===n.type;Object(l.useEffect)((function(){var e=function(e){var t;null!=x&&null!==(t=x.current)&&void 0!==t&&t.contains(e.target)||w(!1)};return document.addEventListener("mousedown",e),document.addEventListener("focusin",e),document.addEventListener("keydown",e),function(){document.removeEventListener("mousedown",e),document.removeEventListener("focusin",e),document.removeEventListener("keydown",e)}}),[x]);var O=Object(l.useCallback)((function(e){var t,n,r=e.target;switch(e.key){case"ArrowUp":e.preventDefault(),null===(t=f(_,r))||void 0===t||t.focus();break;case"ArrowDown":e.preventDefault(),null===(n=d(_,r))||void 0===n||n.focus();break;case"Escape":w(!1);break;case" ":case"Enter":e.preventDefault(),r.click(),r.id!=="".concat(i,"-label")&&r.id!=="".concat(i,"-wrapper")||E()}}),[i,E]);return c.a.createElement(g,{className:r,id:"".concat(i,"-wrapper"),onKeyDown:O,ref:x},c.a.createElement(m,{"aria-controls":b?i:void 0,"aria-expanded":b,"aria-haspopup":"listbox","aria-label":o,id:"".concat(i,"-label"),onClick:E,style:p,title:o},c.a.createElement("span",null,u),c.a.createElement("span",{className:"caret",role:"presentation"})),b&&c.a.createElement(h,{as:A&&"ul","aria-label":a,"aria-labelledby":a?void 0:"".concat(i,"-label"),id:i,onClick:E,alignLeft:t,role:A&&"list",tabIndex:-1},n))},v=function(e){var t=e.children,n=e.closePopup,r=void 0===n?null:n,i=e.focusElements,o=void 0===i?["button","a","input","select"]:i,a=e.id,s=o.map((function(e){return"#".concat(a,"-focus-trap ").concat(e,":not([disabled])")})).join(", "),u=Object(l.useCallback)((function(e){var t=e.target;switch(e.key){case"Escape":r();break;case"Tab":var n,i;if(e.preventDefault(),e.shiftKey)null===(n=f(s,t))||void 0===n||n.focus();else null===(i=d(s,t))||void 0===i||i.focus()}}),[r]);return c.a.createElement("div",{id:"".concat(a,"-focus-trap"),onKeyDown:u,role:"presentation"},t)};t.c={blue:r,red:i,grey:o}},function(e,t,n){"use strict";function r(e,t){var n=t&&t.cache?t.cache:u,r=t&&t.serializer?t.serializer:l;return(t&&t.strategy?t.strategy:s)(e,{cache:n,serializer:r})}function i(e,t,n,r){var i,o=null==(i=r)||"number"==typeof i||"boolean"==typeof i?r:n(r),a=t.get(o);return void 0===a&&(a=e.call(this,r),t.set(o,a)),a}function o(e,t,n){var r=Array.prototype.slice.call(arguments,3),i=n(r),o=t.get(i);return void 0===o&&(o=e.apply(this,r),t.set(i,o)),o}function a(e,t,n,r,i){return n.bind(t,e,r,i)}function s(e,t){return a(e,this,1===e.length?i:o,t.cache.create(),t.serializer)}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return d}));var l=function(){return JSON.stringify(arguments)};function c(){this.cache=Object.create(null)}c.prototype.get=function(e){return this.cache[e]},c.prototype.set=function(e,t){this.cache[e]=t};var u={create:function(){return new c}},d={variadic:function(e,t){return a(e,this,o,t.cache.create(),t.serializer)},monadic:function(e,t){return a(e,this,i,t.cache.create(),t.serializer)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return g})),n.d(t,"f",(function(){return y})),n.d(t,"b",(function(){return v})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return w}));var r=n(55),i=n(43),o=n(7),a=n(56),s=n.n(a);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=o.default.query.getUrlParams,f=o.default.time,p=f.getCurrentDate,m=f.getCurrentTime,h="03:30",g=function(e,t,n){return null==t?void 0:t.reduce((function(t,i){var o=e.get(i.key);return t[i.key]=o?Object(r.j)(i,o):(null==n?void 0:n[i.key])||i.default||"",t}),{})};function y(e,t){return Object(i.toDate)("".concat(e," ").concat(h),{timeZone:t})}function v(e){var t=c(c({},d()),e);return s.a.stringify(t,{arrayFormat:"repeat"})}function b(e){var t;return(null===(t=e.modes)||void 0===t?void 0:t.numItineraries)||3}function w(e){return{date:p(),departArrive:"NOW",intermediatePlaces:[],mode:"WALK,TRANSIT",numItineraries:b(e),routingType:"ITINERARY",time:m()}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return z})),n.d(t,"a",(function(){return D})),n.d(t,"c",(function(){return r})),n.d(t,"e",(function(){return i}));var r={};n.r(r),n.d(r,"Popup",(function(){return E})),n.d(r,"MapOverlayPopup",(function(){return _})),n.d(r,"PopupRow",(function(){return A})),n.d(r,"PopupTitle",(function(){return O})),n.d(r,"LeafletStyleMarker",(function(){return S})),n.d(r,"LayerSelector",(function(){return T})),n.d(r,"StoryMapContainer",(function(){return I}));var i={};n.r(i),n.d(i,"getFitBoundsPadding",(function(){return k})),n.d(i,"fitMapBounds",(function(){return C}));var o=n(4),a=n.n(o),s=n(33),l=n.n(s),c=n(40),u=n.n(c),d=n(15),f=n.n(d),p=n(23),m=n.n(p),h=n(0),g=n.n(h),y=n(19),v=n(98),b=n.n(v),w=n(84),x=n(1),E=Object(x.default)(y.g).withConfig({displayName:"styled__Popup",componentId:"sc-12kjso7-0"})(["& > .maplibregl-popup-content,& > .mapboxgl-popup-content{border-radius:10px;box-shadow:0 3px 14px 4px rgb(0 0 0 / 20%);}"]),_=x.default.div.withConfig({displayName:"styled__MapOverlayPopup",componentId:"sc-12kjso7-1"})(["font-size:12px;line-height:1.5;min-width:250px;"]),A=x.default.p.withConfig({displayName:"styled__PopupRow",componentId:"sc-12kjso7-2"})(["margin-top:6px;"]),O=x.default.header.withConfig({displayName:"styled__PopupTitle",componentId:"sc-12kjso7-3"})(["font-size:18px;font-weight:500;margin-bottom:6px;"]),S=x.default.div.withConfig({displayName:"styled__LeafletStyleMarker",componentId:"sc-12kjso7-4"})(["background:","50;border-radius:","px;border:","px solid ",';content:"";cursor:pointer;display:block;height:',"px;width:","px;"],(function(e){return(null==e?void 0:e.color)||"#0000ff"}),(function(e){return(null==e?void 0:e.size)||10}),(function(e){return(null==e?void 0:e.stroke)||2}),(function(e){return(null==e?void 0:e.strokeColor)||"".concat(null==e?void 0:e.color,"f0")||"#0000fffo"}),(function(e){return(null==e?void 0:e.size)||10}),(function(e){return(null==e?void 0:e.size)||10})),T=x.default.aside.withConfig({displayName:"styled__LayerSelector",componentId:"sc-12kjso7-5"})(['display:flex;justify-content:end;margin:10px;position:relative;right:0;top:0;&:not(:last-of-type){display:none;}.layers-list{background:rgba(255,255,255,0.95);list-style-type:none;padding:1em;position:absolute;right:0;z-index:1000;label{display:block;height:0;overflow:hidden;width:0;input{margin-right:1ch;}}&::after{display:block;content:"";cursor:pointer;}&:hover,&.fake-mobile-hover{box-shadow:0px -1px 15px -3px rgba(0,0,0,0.1);label{height:unset;overflow:unset;width:unset;}li:first-child{margin-right:2em;}&::after{display:none;}}}']),I=x.default.div.withConfig({displayName:"styled__StoryMapContainer",componentId:"sc-12kjso7-6"})(["height:90vh;"]);function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,n=e.getCanvas(),r=e.getPixelRatio(),i=n.width*t/r,o=n.height*t/r;return{bottom:o,left:i,right:i,top:o}}function C(e,t){e.fitBounds(t,{duration:500,padding:k(e)}),e.triggerRepaint()}var M={50:"#ECECEC",100:"#D9D9D9",200:"#C5C5C5",300:"#B3B3B3",400:"#9F9F9F",500:"#8C8C8C",600:"#797979",700:"#666666",800:"#535353",900:"#404040"};function N(e){var t=Array.from(document.querySelectorAll(e));return{entries:t,firstElement:t[0],lastElement:t[t.length-1]}}function j(e,t){var n=N(e),r=n.entries,i=n.firstElement;if(t===n.lastElement)return i;var o=r.indexOf(t);return r[o+1]}function L(e,t){var n=N(e),r=n.entries,i=n.firstElement,o=n.lastElement;if(t===i)return o;var a=r.indexOf(t);return r[a-1]}x.default.button.withConfig({displayName:"styled__DropdownButton",componentId:"sc-kes9ha-0"})(['background:#fff;border:1px solid black;border-radius:5px;color:inherit;padding:5px 7px;transition:all 0.1s ease-in-out;span.caret{border-left:4px solid transparent;border-right:4px solid transparent;border-top:4px solid;color:inherit;display:inline-block;height:0;margin-left:5px;vertical-align:middle;width:0;}&:hover,&[aria-expanded="true"]{background:',";color:black;cursor:pointer;}"],M[50]),x.default.div.withConfig({displayName:"styled__DropdownMenu",componentId:"sc-kes9ha-1"})(["background-clip:padding-box;background-color:#fff;border-radius:4px;border:1px solid rgba(0,0,0,0.15);box-shadow:0 6px 12px rgba(0,0,0,0.175);color:#333;list-style:none;margin:2px 0 0;min-width:160px;padding:5px 0;position:absolute;"," top:100%;width:100%;z-index:1000;hr{margin:0;padding:0;}a,button{background:transparent;border:none;cursor:pointer;padding:5px 15px;text-align:start;width:100%;&:hover{background:",";}}"],(function(e){return e.alignLeft?"left: 0;":"right: 0;"}),M[50]),x.default.span.withConfig({displayName:"styled__DropdownWrapper",componentId:"sc-kes9ha-2"})(["float:",";position:relative;"],(function(e){return e.pullRight?"right":"left"}));var R=function(e){var t=e.children,n=e.closePopup,r=void 0===n?null:n,i=e.focusElements,o=void 0===i?["button","a","input","select"]:i,a=e.id,s=o.map((function(e){return"#".concat(a,"-focus-trap ").concat(e,":not([disabled])")})).join(", "),l=Object(h.useCallback)((function(e){var t=e.target;switch(e.key){case"Escape":r();break;case"Tab":var n,i;if(e.preventDefault(),e.shiftKey)null===(n=L(s,t))||void 0===n||n.focus();else null===(i=j(s,t))||void 0===i||i.focus()}}),[r]);return g.a.createElement("div",{id:"".concat(a,"-focus-trap"),onKeyDown:l,role:"presentation"},t)},D=function(e){var t=e.children,n=e.popupContents,r=e.popupProps,i=e.position,o=e.tooltipContents,s=Object(h.useState)(!1),l=m()(s,2),c=l[0],u=l[1],d=Object(h.useState)(!1),f=m()(d,2),p=f[0],v=f[1];return g.a.createElement(y.e,{latitude:i[0],longitude:i[1],onClick:function(){return u(!0)},style:{cursor:n?"pointer":"inherit"}},g.a.createElement("span",{onMouseEnter:function(){return v(!0)},onMouseLeave:function(){return v(!1)}},t||g.a.createElement(S,null)),p&&o&&g.a.createElement(E,a()({},r,{anchor:"right",closeButton:!1,closeOnClick:!1,latitude:i[0],longitude:i[1]}),o),c&&n&&g.a.createElement(E,a()({},r,{latitude:i[0],longitude:i[1],maxWidth:"100%",onClose:function(){return u(!1)}}),g.a.createElement(R,{closePopup:function(){return u(!1)},id:"map-popup"},n)))},P=["NavigationControl.ResetBearing","NavigationControl.ZoomIn","NavigationControl.ZoomOut","ScaleControl.Feet","ScaleControl.Meters","ScaleControl.Kilometers","ScaleControl.Miles","ScaleControl.NauticalMiles","CooperativeGesturesHandler.WindowsHelpText","CooperativeGesturesHandler.MacHelpText","CooperativeGesturesHandler.MobileHelpText"],B=function(e){var t={};return P.forEach((function(n){t[n]=e.formatMessage({id:"otpUi.mapControls.".concat(n)})})),t};function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.d=function(e){var t=e.baseLayer,n=void 0===t?"https://basemaps.cartocdn.com/gl/positron-gl-style/style.json":t,r=e.baseLayerNames,i=e.center,o=e.children,s=e.id,c=e.mapLibreProps,d=e.maxZoom,f=e.onClick,p=e.onContextMenu,v=e.showEverything,x=e.onViewportChanged,E=e.style,_=e.zoom,A=void 0===_?12:_,O=g.a.useState({latitude:null==i?void 0:i[0],longitude:null==i?void 0:i[1],zoom:A}),S=m()(O,2),I=S[0],k=S[1],C=Object(w.a)(),M=Object(h.useState)(!1),N=m()(M,2),j=N[0],L=N[1],R=Object(h.useState)(null),D=m()(R,2),P=D[0],F=D[1];Object(h.useEffect)((function(){"function"==typeof x&&x(I)}),[I]),Object(h.useEffect)((function(){null!==(null==i?void 0:i[0])&&null!==(null==i?void 0:i[1])&&k(U(U({},I),{},{latitude:null==i?void 0:i[0],longitude:null==i?void 0:i[1]}))}),[i]);var z=Array.isArray(o)?o.flat(10).filter((function(e){var t,n;return void 0!==(null==e||null===(t=e.props)||void 0===t?void 0:t.id)&&!0!==(null==e||null===(n=e.props)||void 0===n?void 0:n.alwaysShow)})).map((function(e){var t=e.props;return{id:t.id,name:t.name,visible:t.visible}})):[],V=Object(h.useState)(z.filter((function(e){return!(null!=e&&e.visible)})).map((function(e){return e.id}))),G=m()(V,2),H=G[0],W=G[1],Y=v&&H.length>0?[]:H,Q=Object(h.useState)("object"===u()(n)?null==n?void 0:n[0]:n),Z=m()(Q,2),X=Z[0],J=Z[1],q=Object(h.useCallback)((function(){return clearTimeout(P)}),[P]);return g.a.createElement(y.c,a()({},c,{id:s,latitude:I.latitude,locale:B(C),longitude:I.longitude,mapLib:b.a,mapStyle:X,maxZoom:d,onClick:f,onContextMenu:p,onMove:function(e){k(e.viewState),q()},onTouchStart:function(e){L(!1),1===e.points.length?F(setTimeout((function(){return p(e)}),600)):q()},onTouchCancel:q,onTouchEnd:q,style:E,zoom:I.zoom}),(z.length>0||!!n&&"object"===u()(n)&&n.length>1)&&g.a.createElement(T,{className:"filter-group",id:"filter-group",onBlur:function(){return L(!1)},onFocus:function(){return L(!0)},onTouchEnd:function(){return L(!0)}},g.a.createElement("ul",{className:"maplibregl-ctrl-group layers-list ".concat(j?"fake-mobile-hover":"")},!!n&&"object"===u()(n)&&n.map((function(e,t){return g.a.createElement("li",{key:t},g.a.createElement("label",null,g.a.createElement("input",{checked:X===e,id:e,name:"base-layer",onChange:function(){return J(e)},type:"radio"}),(null==r?void 0:r[t])||e))})),z.map((function(e,t){return g.a.createElement("li",{key:t},g.a.createElement("label",null,g.a.createElement("input",{checked:!Y.includes(e.id),disabled:v,id:e.id,onChange:function(){var t=l()(H);t.includes(e.id)?t.splice(t.indexOf(e.id),1):t.push(e.id),W(t)},type:"checkbox"}),e.name||e.id))})))),Array.isArray(o)?o.flat(10).filter((function(e){var t;return!Y.includes(null==e||null===(t=e.props)||void 0===t?void 0:t.id)})):o)};var z=E},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(11),i=n(5),o=n(3);function a(e,t){Object(o.a)(2,arguments);var n=Object(i.a)(e),a=Object(r.a)(t);return isNaN(a)?new Date(NaN):a?(n.setDate(n.getDate()+a),n):n}},function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"e",(function(){return f}));var r=n(17),i=n(781),o=n(90),a=n(59);function s(e,t,n){return void 0===n&&(n={}),t.reduce((function(t,r){return r in e?t[r]=e[r]:r in n&&(t[r]=n[r]),t}),{})}var l={formats:{},messages:{},timeZone:void 0,defaultLocale:"en",defaultFormats:{},onError:function(e){0}};function c(){return{dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}}}function u(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}function d(e){void 0===e&&(e={dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}});var t=Intl.RelativeTimeFormat,n=Intl.ListFormat,a=Intl.DisplayNames,s=Object(o.a)((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,Object(r.d)([void 0],t)))}),{cache:u(e.dateTime),strategy:o.b.variadic}),l=Object(o.a)((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,Object(r.d)([void 0],t)))}),{cache:u(e.number),strategy:o.b.variadic}),c=Object(o.a)((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,Object(r.d)([void 0],t)))}),{cache:u(e.pluralRules),strategy:o.b.variadic});return{getDateTimeFormat:s,getNumberFormat:l,getMessageFormat:Object(o.a)((function(e,t,n,o){return new i.a(e,t,n,Object(r.a)({formatters:{getNumberFormat:l,getDateTimeFormat:s,getPluralRules:c}},o||{}))}),{cache:u(e.message),strategy:o.b.variadic}),getRelativeTimeFormat:Object(o.a)((function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new(t.bind.apply(t,Object(r.d)([void 0],e)))}),{cache:u(e.relativeTime),strategy:o.b.variadic}),getPluralRules:c,getListFormat:Object(o.a)((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(n.bind.apply(n,Object(r.d)([void 0],e)))}),{cache:u(e.list),strategy:o.b.variadic}),getDisplayNames:Object(o.a)((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(a.bind.apply(a,Object(r.d)([void 0],e)))}),{cache:u(e.displayNames),strategy:o.b.variadic})}}function f(e,t,n,r){var i,o=e&&e[t];if(o&&(i=o[n]),i)return i;r(new a.g("No "+t+" format named: "+n))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(305);function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Object(r.a)(e,t)}},function(e,t,n){e.exports=function(){"use strict";var e,t,n;function r(r,i){if(e)if(t){var o="var sharedChunk = {}; ("+e+")(sharedChunk); ("+t+")(sharedChunk);",a={};e(a),n=i(a),"undefined"!=typeof window&&(n.workerUrl=window.URL.createObjectURL(new Blob([o],{type:"text/javascript"})))}else t=i;else e=i}return r(["exports"],(function(e){var t=n;function n(e,t,n,r){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(r-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=t,this.p2x=n,this.p2y=r}function r(e,n,r,i){const o=new t(e,n,r,i);return function(e){return o.solve(e)}}n.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){if(void 0===t&&(t=1e-6),e<0)return 0;if(e>1)return 1;for(var n=e,r=0;r<8;r++){var i=this.sampleCurveX(n)-e;if(Math.abs(i)<t)return n;var o=this.sampleCurveDerivativeX(n);if(Math.abs(o)<1e-6)break;n-=i/o}var a=0,s=1;for(n=e,r=0;r<20&&(i=this.sampleCurveX(n),!(Math.abs(i-e)<t));r++)e>i?a=n:s=n,n=.5*(s-a)+a;return n},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}};const i=r(.25,.1,.25,1);function o(e,t,n){return Math.min(n,Math.max(t,e))}function a(e,t,n){const r=n-t,i=((e-t)%r+r)%r+t;return i===t?n:i}function s(e,...t){for(const n of t)for(const t in n)e[t]=n[t];return e}let l=1;function c(e,t){e.forEach((e=>{t[e]&&(t[e]=t[e].bind(t))}))}function u(e,t,n){const r={};for(const i in e)r[i]=t.call(n||this,e[i],i,e);return r}function d(e,t,n){const r={};for(const i in e)t.call(n||this,e[i],i,e)&&(r[i]=e[i]);return r}function f(e){return Array.isArray(e)?e.map(f):"object"==typeof e&&e?u(e,f):e}const p={};function m(e){p[e]||("undefined"!=typeof console&&console.warn(e),p[e]=!0)}function h(e,t,n){return(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)}function g(e){let t=0;for(let n,r,i=0,o=e.length,a=o-1;i<o;a=i++)n=e[i],r=e[a],t+=(r.x-n.x)*(n.y+r.y);return t}function y(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function v(e){const t={};if(e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,((e,n,r,i)=>{const o=r||i;return t[n]=!o||o.toLowerCase(),""})),t["max-age"]){const e=parseInt(t["max-age"],10);isNaN(e)?delete t["max-age"]:t["max-age"]=e}return t}let b,w,x=null;function E(e){if(null==x){const t=e.navigator?e.navigator.userAgent:null;x=!!e.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return x}function _(e){return"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap}const A={now:"undefined"!=typeof performance&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(e){const t=requestAnimationFrame(e);return{cancel:()=>cancelAnimationFrame(t)}},getImageData(e,t=0){const n=window.document.createElement("canvas"),r=n.getContext("2d");if(!r)throw new Error("failed to create canvas 2d context");return n.width=e.width,n.height=e.height,r.drawImage(e,0,0,e.width,e.height),r.getImageData(-t,-t,e.width+2*t,e.height+2*t)},resolveURL:e=>(b||(b=document.createElement("a")),b.href=e,b.href),hardwareConcurrency:"undefined"!=typeof navigator&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(null==w&&(w=matchMedia("(prefers-reduced-motion: reduce)")),w.matches)}};var O=S;function S(e,t){this.x=e,this.y=t}S.prototype={clone:function(){return new S(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[2]*this.x+e[3]*this.y;return this.x=e[0]*this.x+e[1]*this.y,this.y=t,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=n*this.x+t*this.y;return this.x=t*this.x-n*this.y,this.y=r,this},_rotateAround:function(e,t){var n=Math.cos(e),r=Math.sin(e),i=t.y+r*(this.x-t.x)+n*(this.y-t.y);return this.x=t.x+n*(this.x-t.x)-r*(this.y-t.y),this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},S.convert=function(e){return e instanceof S?e:Array.isArray(e)?new S(e[0],e[1]):e};const T={MAX_PARALLEL_IMAGE_REQUESTS:16,REGISTERED_PROTOCOLS:{}},I="mapbox-tiles";let k,C,M=500,N=50;function j(){"undefined"==typeof caches||k||(k=caches.open(I))}let L=1/0;const R={supported:!1,testSupport:function(e){!B&&P&&(F?U(e):D=e)}};let D,P,B=!1,F=!1;function U(e){const t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);try{if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,P),e.isContextLost())return;R.supported=!0}catch(e){}e.deleteTexture(t),B=!0}"undefined"!=typeof document&&(P=document.createElement("img"),P.onload=function(){D&&U(D),D=null,F=!0},P.onerror=function(){B=!0,D=null},P.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const z={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(z);class V extends Error{constructor(e,t,n,r){super(`AJAXError: ${t} (${e}): ${n}`),this.status=e,this.statusText=t,this.url=n,this.body=r}}const G=y()?()=>self.worker&&self.worker.referrer:()=>("blob:"===window.location.protocol?window.parent:window).location.href;function H(e,t){const n=new AbortController,r=new Request(e.url,{method:e.method||"GET",body:e.body,credentials:e.credentials,headers:e.headers,referrer:G(),signal:n.signal});let i=!1,o=!1;return"json"===e.type&&r.headers.set("Accept","application/json"),((n,a,s)=>{if(o)return;const l=Date.now();fetch(r).then((n=>n.ok?((n,a,s)=>{("arrayBuffer"===e.type?n.arrayBuffer():"json"===e.type?n.json():n.text()).then((e=>{o||(a&&s&&function(e,t,n){if(j(),!k)return;const r={status:t.status,statusText:t.statusText,headers:new Headers};t.headers.forEach(((e,t)=>r.headers.set(t,e)));const i=v(t.headers.get("Cache-Control")||"");i["no-store"]||(i["max-age"]&&r.headers.set("Expires",new Date(n+1e3*i["max-age"]).toUTCString()),new Date(r.headers.get("Expires")).getTime()-n<42e4||function(e,t){if(void 0===C)try{new Response(new ReadableStream),C=!0}catch(e){C=!1}C?t(e.body):e.blob().then(t)}(t,(t=>{const n=new Response(t,r);j(),k&&k.then((t=>t.put(function(e){const t=e.indexOf("?");return t<0?e:e.slice(0,t)}(e.url),n))).catch((e=>m(e.message)))})))}(r,a,s),i=!0,t(null,e,n.headers.get("Cache-Control"),n.headers.get("Expires")))})).catch((e=>{o||t(new Error(e.message))}))})(n,null,l):n.blob().then((r=>t(new V(n.status,n.statusText,e.url,r)))))).catch((e=>{20!==e.code&&t(new Error(e.message))}))})(),{cancel:()=>{o=!0,i||n.abort()}}}const W=function(e,t){if(/:\/\//.test(e.url)&&!/^https?:|^file:/.test(e.url)){if(y()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",e,t);if(!y()){const n=e.url.substring(0,e.url.indexOf("://"));return(T.REGISTERED_PROTOCOLS[n]||H)(e,t)}}if(!(/^file:/.test(n=e.url)||/^file:/.test(G())&&!/^\w+:/.test(n))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return H(e,t);if(y()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",e,t,void 0,!0)}var n;return function(e,t){const n=new XMLHttpRequest;n.open(e.method||"GET",e.url,!0),"arrayBuffer"===e.type&&(n.responseType="arraybuffer");for(const t in e.headers)n.setRequestHeader(t,e.headers[t]);return"json"===e.type&&(n.responseType="text",n.setRequestHeader("Accept","application/json")),n.withCredentials="include"===e.credentials,n.onerror=()=>{t(new Error(n.statusText))},n.onload=()=>{if((n.status>=200&&n.status<300||0===n.status)&&null!==n.response){let r=n.response;if("json"===e.type)try{r=JSON.parse(n.response)}catch(e){return t(e)}t(null,r,n.getResponseHeader("Cache-Control"),n.getResponseHeader("Expires"))}else{const r=new Blob([n.response],{type:n.getResponseHeader("Content-Type")});t(new V(n.status,n.statusText,e.url,r))}},n.send(e.body),{cancel:()=>n.abort()}}(e,t)},Y=function(e,t){return W(s(e,{type:"arrayBuffer"}),t)};function Q(e){const t=window.document.createElement("a");return t.href=e,t.protocol===window.document.location.protocol&&t.host===window.document.location.host}const Z="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let X,J;X=[],J=0;const q=function(e,t){if(R.supported&&(e.headers||(e.headers={}),e.headers.accept="image/webp,*/*"),J>=T.MAX_PARALLEL_IMAGE_REQUESTS){const n={requestParameters:e,callback:t,cancelled:!1,cancel(){this.cancelled=!0}};return X.push(n),n}J++;let n=!1;const r=()=>{if(!n)for(n=!0,J--;X.length&&J<T.MAX_PARALLEL_IMAGE_REQUESTS;){const e=X.shift(),{requestParameters:t,callback:n,cancelled:r}=e;r||(e.cancel=q(t,n).cancel)}},i=Y(e,((e,n,i,o)=>{r(),e?t(e):n&&function(e,t){"function"==typeof createImageBitmap?function(e,t){const n=new Blob([new Uint8Array(e)],{type:"image/png"});createImageBitmap(n).then((e=>{t(null,e)})).catch((e=>{t(new Error(`Could not load image because of ${e.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))}))}(e,t):function(e,t){const n=new Image;n.onload=()=>{t(null,n),URL.revokeObjectURL(n.src),n.onload=null,window.requestAnimationFrame((()=>{n.src=Z}))},n.onerror=()=>t(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const r=new Blob([new Uint8Array(e)],{type:"image/png"});n.src=e.byteLength?URL.createObjectURL(r):Z}(e,t)}(n,((e,n)=>{null!=e?t(e):null!=n&&t(null,n,{cacheControl:i,expires:o})}))}));return{cancel:()=>{i.cancel(),r()}}};function K(e,t,n){n[e]&&-1!==n[e].indexOf(t)||(n[e]=n[e]||[],n[e].push(t))}function $(e,t,n){if(n&&n[e]){const r=n[e].indexOf(t);-1!==r&&n[e].splice(r,1)}}class ee{constructor(e,t={}){s(this,t),this.type=e}}class te extends ee{constructor(e,t={}){super("error",s({error:e},t))}}class ne{on(e,t){return this._listeners=this._listeners||{},K(e,t,this._listeners),this}off(e,t){return $(e,t,this._listeners),$(e,t,this._oneTimeListeners),this}once(e,t){return this._oneTimeListeners=this._oneTimeListeners||{},K(e,t,this._oneTimeListeners),this}fire(e,t){"string"==typeof e&&(e=new ee(e,t||{}));const n=e.type;if(this.listens(n)){e.target=this;const t=this._listeners&&this._listeners[n]?this._listeners[n].slice():[];for(const n of t)n.call(this,e);const r=this._oneTimeListeners&&this._oneTimeListeners[n]?this._oneTimeListeners[n].slice():[];for(const t of r)$(n,t,this._oneTimeListeners),t.call(this,e);const i=this._eventedParent;i&&(s(e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),i.fire(e))}else e instanceof te&&console.error(e.error);return this}listens(e){return this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e)}setEventedParent(e,t){return this._eventedParent=e,this._eventedParentData=t,this}}var re={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};class ie{constructor(e,t,n,r){this.message=(e?`${e}: `:"")+n,r&&(this.identifier=r),null!=t&&t.__line__&&(this.line=t.__line__)}}function oe(e){const t=e.value;return t?[new ie(e.key,t,"constants have been deprecated as of v8")]:[]}function ae(e,...t){for(const n of t)for(const t in n)e[t]=n[t];return e}function se(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function le(e){if(Array.isArray(e))return e.map(le);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){const t={};for(const n in e)t[n]=le(e[n]);return t}return se(e)}class ce extends Error{constructor(e,t){super(t),this.message=t,this.key=e}}class ue{constructor(e,t=[]){this.parent=e,this.bindings={};for(const[e,n]of t)this.bindings[e]=n}concat(e){return new ue(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(`${e} not found in scope.`)}has(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)}}const de={kind:"null"},fe={kind:"number"},pe={kind:"string"},me={kind:"boolean"},he={kind:"color"},ge={kind:"object"},ye={kind:"value"},ve={kind:"collator"},be={kind:"formatted"},we={kind:"resolvedImage"};function xe(e,t){return{kind:"array",itemType:e,N:t}}function Ee(e){if("array"===e.kind){const t=Ee(e.itemType);return"number"==typeof e.N?`array<${t}, ${e.N}>`:"value"===e.itemType.kind?"array":`array<${t}>`}return e.kind}const _e=[de,fe,pe,me,he,be,ge,xe(ye),we];function Ae(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!Ae(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(const e of _e)if(!Ae(e,t))return null}return`Expected ${Ee(e)} but found ${Ee(t)} instead.`}function Oe(e,t){return t.some((t=>t.kind===e.kind))}function Se(e,t){return t.some((t=>"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"==typeof e:t===typeof e))}var Te,Ie={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ke(e){return(e=Math.round(e))<0?0:e>255?255:e}function Ce(e){return ke("%"===e[e.length-1]?parseFloat(e)/100*255:parseInt(e))}function Me(e){return(t="%"===e[e.length-1]?parseFloat(e)/100:parseFloat(e))<0?0:t>1?1:t;var t}function Ne(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}try{Te={}.parseCSSColor=function(e){var t,n=e.replace(/ /g,"").toLowerCase();if(n in Ie)return Ie[n].slice();if("#"===n[0])return 4===n.length?(t=parseInt(n.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===n.length&&(t=parseInt(n.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var r=n.indexOf("("),i=n.indexOf(")");if(-1!==r&&i+1===n.length){var o=n.substr(0,r),a=n.substr(r+1,i-(r+1)).split(","),s=1;switch(o){case"rgba":if(4!==a.length)return null;s=Me(a.pop());case"rgb":return 3!==a.length?null:[Ce(a[0]),Ce(a[1]),Ce(a[2]),s];case"hsla":if(4!==a.length)return null;s=Me(a.pop());case"hsl":if(3!==a.length)return null;var l=(parseFloat(a[0])%360+360)%360/360,c=Me(a[1]),u=Me(a[2]),d=u<=.5?u*(c+1):u+c-u*c,f=2*u-d;return[ke(255*Ne(f,d,l+1/3)),ke(255*Ne(f,d,l)),ke(255*Ne(f,d,l-1/3)),s];default:return null}}return null}}catch(e){}class je{constructor(e,t,n,r=1){this.r=e,this.g=t,this.b=n,this.a=r}static parse(e){if(!e)return;if(e instanceof je)return e;if("string"!=typeof e)return;const t=Te(e);return t?new je(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3]):void 0}toString(){const[e,t,n,r]=this.toArray();return`rgba(${Math.round(e)},${Math.round(t)},${Math.round(n)},${r})`}toArray(){const{r:e,g:t,b:n,a:r}=this;return 0===r?[0,0,0,0]:[255*e/r,255*t/r,255*n/r,r]}}je.black=new je(0,0,0,1),je.white=new je(1,1,1,1),je.transparent=new je(0,0,0,0),je.red=new je(1,0,0,1);class Le{constructor(e,t,n){this.sensitivity=e?t?"variant":"case":t?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,t){return this.collator.compare(e,t)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Re{constructor(e,t,n,r,i){this.text=e,this.image=t,this.scale=n,this.fontStack=r,this.textColor=i}}class De{constructor(e){this.sections=e}static fromString(e){return new De([new Re(e,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some((e=>0!==e.text.length||e.image&&0!==e.image.name.length))}static factory(e){return e instanceof De?e:De.fromString(e)}toString(){return 0===this.sections.length?"":this.sections.map((e=>e.text)).join("")}serialize(){const e=["format"];for(const t of this.sections){if(t.image){e.push(["image",t.image.name]);continue}e.push(t.text);const n={};t.fontStack&&(n["text-font"]=["literal",t.fontStack.split(",")]),t.scale&&(n["font-scale"]=t.scale),t.textColor&&(n["text-color"]=["rgba"].concat(t.textColor.toArray())),e.push(n)}return e}}class Pe{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new Pe({name:e,available:!1}):null}serialize(){return["image",this.name]}}function Be(e,t,n,r){return"number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof n&&n>=0&&n<=255?void 0===r||"number"==typeof r&&r>=0&&r<=1?null:`Invalid rgba value [${[e,t,n,r].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"==typeof r?[e,t,n,r]:[e,t,n]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Fe(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof je)return!0;if(e instanceof Le)return!0;if(e instanceof De)return!0;if(e instanceof Pe)return!0;if(Array.isArray(e)){for(const t of e)if(!Fe(t))return!1;return!0}if("object"==typeof e){for(const t in e)if(!Fe(e[t]))return!1;return!0}return!1}function Ue(e){if(null===e)return de;if("string"==typeof e)return pe;if("boolean"==typeof e)return me;if("number"==typeof e)return fe;if(e instanceof je)return he;if(e instanceof Le)return ve;if(e instanceof De)return be;if(e instanceof Pe)return we;if(Array.isArray(e)){const t=e.length;let n;for(const t of e){const e=Ue(t);if(n){if(n===e)continue;n=ye;break}n=e}return xe(n||ye,t)}return ge}function ze(e){const t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof je||e instanceof De||e instanceof Pe?e.toString():JSON.stringify(e)}class Ve{constructor(e,t){this.type=e,this.value=t}static parse(e,t){if(2!==e.length)return t.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!Fe(e[1]))return t.error("invalid value");const n=e[1];let r=Ue(n);const i=t.expectedType;return"array"!==r.kind||0!==r.N||!i||"array"!==i.kind||"number"==typeof i.N&&0!==i.N||(r=i),new Ve(r,n)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof je?["rgba"].concat(this.value.toArray()):this.value instanceof De?this.value.serialize():this.value}}class Ge{constructor(e){this.name="ExpressionEvaluationError",this.message=e}toJSON(){return this.message}}const He={string:pe,number:fe,boolean:me,object:ge};class We{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let n,r=1;const i=e[0];if("array"===i){let i,o;if(e.length>2){const n=e[1];if("string"!=typeof n||!(n in He)||"object"===n)return t.error('The item type argument of "array" must be one of string, number, boolean',1);i=He[n],r++}else i=ye;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);o=e[2],r++}n=xe(i,o)}else n=He[i];const o=[];for(;r<e.length;r++){const n=t.parse(e[r],r,ye);if(!n)return null;o.push(n)}return new We(n,o)}evaluate(e){for(let t=0;t<this.args.length;t++){const n=this.args[t].evaluate(e);if(!Ae(this.type,Ue(n)))return n;if(t===this.args.length-1)throw new Ge(`Expected value to be of type ${Ee(this.type)}, but found ${Ee(Ue(n))} instead.`)}return null}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every((e=>e.outputDefined()))}serialize(){const e=this.type,t=[e.kind];if("array"===e.kind){const n=e.itemType;if("string"===n.kind||"number"===n.kind||"boolean"===n.kind){t.push(n.kind);const r=e.N;("number"==typeof r||this.args.length>1)&&t.push(r)}}return t.concat(this.args.map((e=>e.serialize())))}}class Ye{constructor(e){this.type=be,this.sections=e}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const n=e[1];if(!Array.isArray(n)&&"object"==typeof n)return t.error("First argument must be an image or text section.");const r=[];let i=!1;for(let n=1;n<=e.length-1;++n){const o=e[n];if(i&&"object"==typeof o&&!Array.isArray(o)){i=!1;let e=null;if(o["font-scale"]&&(e=t.parse(o["font-scale"],1,fe),!e))return null;let n=null;if(o["text-font"]&&(n=t.parse(o["text-font"],1,xe(pe)),!n))return null;let a=null;if(o["text-color"]&&(a=t.parse(o["text-color"],1,he),!a))return null;const s=r[r.length-1];s.scale=e,s.font=n,s.textColor=a}else{const o=t.parse(e[n],1,ye);if(!o)return null;const a=o.type.kind;if("string"!==a&&"value"!==a&&"null"!==a&&"resolvedImage"!==a)return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");i=!0,r.push({content:o,scale:null,font:null,textColor:null})}}return new Ye(r)}evaluate(e){return new De(this.sections.map((t=>{const n=t.content.evaluate(e);return Ue(n)===we?new Re("",n,null,null,null):new Re(ze(n),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)})))}eachChild(e){for(const t of this.sections)e(t.content),t.scale&&e(t.scale),t.font&&e(t.font),t.textColor&&e(t.textColor)}outputDefined(){return!1}serialize(){const e=["format"];for(const t of this.sections){e.push(t.content.serialize());const n={};t.scale&&(n["font-scale"]=t.scale.serialize()),t.font&&(n["text-font"]=t.font.serialize()),t.textColor&&(n["text-color"]=t.textColor.serialize()),e.push(n)}return e}}class Qe{constructor(e){this.type=we,this.input=e}static parse(e,t){if(2!==e.length)return t.error("Expected two arguments.");const n=t.parse(e[1],1,pe);return n?new Qe(n):t.error("No image name provided.")}evaluate(e){const t=this.input.evaluate(e),n=Pe.fromString(t);return n&&e.availableImages&&(n.available=e.availableImages.indexOf(t)>-1),n}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const Ze={"to-boolean":me,"to-color":he,"to-number":fe,"to-string":pe};class Xe{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const n=e[0];if(("to-boolean"===n||"to-string"===n)&&2!==e.length)return t.error("Expected one argument.");const r=Ze[n],i=[];for(let n=1;n<e.length;n++){const r=t.parse(e[n],n,ye);if(!r)return null;i.push(r)}return new Xe(r,i)}evaluate(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){let t,n;for(const r of this.args){if(t=r.evaluate(e),n=null,t instanceof je)return t;if("string"==typeof t){const n=e.parseColor(t);if(n)return n}else if(Array.isArray(t)&&(n=t.length<3||t.length>4?`Invalid rbga value ${JSON.stringify(t)}: expected an array containing either three or four numeric values.`:Be(t[0],t[1],t[2],t[3]),!n))return new je(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new Ge(n||`Could not parse color from value '${"string"==typeof t?t:String(JSON.stringify(t))}'`)}if("number"===this.type.kind){let t=null;for(const n of this.args){if(t=n.evaluate(e),null===t)return 0;const r=Number(t);if(!isNaN(r))return r}throw new Ge(`Could not convert ${JSON.stringify(t)} to number.`)}return"formatted"===this.type.kind?De.fromString(ze(this.args[0].evaluate(e))):"resolvedImage"===this.type.kind?Pe.fromString(ze(this.args[0].evaluate(e))):ze(this.args[0].evaluate(e))}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every((e=>e.outputDefined()))}serialize(){if("formatted"===this.type.kind)return new Ye([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new Qe(this.args[0]).serialize();const e=[`to-${this.type.kind}`];return this.eachChild((t=>{e.push(t.serialize())})),e}}const Je=["Unknown","Point","LineString","Polygon"];class qe{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?Je[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(e){let t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=je.parse(e)),t}}class Ke{constructor(e,t,n,r){this.name=e,this.type=t,this._evaluate=n,this.args=r}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map((e=>e.serialize())))}static parse(e,t){const n=e[0],r=Ke.definitions[n];if(!r)return t.error(`Unknown expression "${n}". If you wanted a literal array, use ["literal", [...]].`,0);const i=Array.isArray(r)?r[0]:r.type,o=Array.isArray(r)?[[r[1],r[2]]]:r.overloads,a=o.filter((([t])=>!Array.isArray(t)||t.length===e.length-1));let s=null;for(const[r,o]of a){s=new xt(t.registry,t.path,null,t.scope);const a=[];let l=!1;for(let t=1;t<e.length;t++){const n=e[t],i=Array.isArray(r)?r[t-1]:r.type,o=s.parse(n,1+a.length,i);if(!o){l=!0;break}a.push(o)}if(!l)if(Array.isArray(r)&&r.length!==a.length)s.error(`Expected ${r.length} arguments, but found ${a.length} instead.`);else{for(let e=0;e<a.length;e++){const t=Array.isArray(r)?r[e]:r.type,n=a[e];s.concat(e+1).checkSubtype(t,n.type)}if(0===s.errors.length)return new Ke(n,i,o,a)}}if(1===a.length)t.errors.push(...s.errors);else{const n=(a.length?a:o).map((([e])=>{return t=e,Array.isArray(t)?`(${t.map(Ee).join(", ")})`:`(${Ee(t.type)}...)`;var t})).join(" | "),r=[];for(let n=1;n<e.length;n++){const i=t.parse(e[n],1+r.length);if(!i)return null;r.push(Ee(i.type))}t.error(`Expected arguments of type ${n}, but found (${r.join(", ")}) instead.`)}return null}static register(e,t){Ke.definitions=t;for(const n in t)e[n]=Ke}}class $e{constructor(e,t,n){this.type=ve,this.locale=n,this.caseSensitive=e,this.diacriticSensitive=t}static parse(e,t){if(2!==e.length)return t.error("Expected one argument.");const n=e[1];if("object"!=typeof n||Array.isArray(n))return t.error("Collator options argument must be an object.");const r=t.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,me);if(!r)return null;const i=t.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,me);if(!i)return null;let o=null;return n.locale&&(o=t.parse(n.locale,1,pe),!o)?null:new $e(r,i,o)}evaluate(e){return new Le(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}serialize(){const e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]}}const et=8192;function tt(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function nt(e,t){return!(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function rt(e,t){const n=(180+e[0])/360,r=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e[1]*Math.PI/360)))/360,i=Math.pow(2,t.z);return[Math.round(n*i*et),Math.round(r*i*et)]}function it(e,t,n){const r=e[0]-t[0],i=e[1]-t[1],o=e[0]-n[0],a=e[1]-n[1];return r*a-o*i==0&&r*o<=0&&i*a<=0}function ot(e,t){let n=!1;for(let a=0,s=t.length;a<s;a++){const s=t[a];for(let t=0,a=s.length;t<a-1;t++){if(it(e,s[t],s[t+1]))return!1;(i=s[t])[1]>(r=e)[1]!=(o=s[t+1])[1]>r[1]&&r[0]<(o[0]-i[0])*(r[1]-i[1])/(o[1]-i[1])+i[0]&&(n=!n)}}var r,i,o;return n}function at(e,t){for(let n=0;n<t.length;n++)if(ot(e,t[n]))return!0;return!1}function st(e,t,n,r){const i=r[0]-n[0],o=r[1]-n[1],a=(e[0]-n[0])*o-i*(e[1]-n[1]),s=(t[0]-n[0])*o-i*(t[1]-n[1]);return a>0&&s<0||a<0&&s>0}function lt(e,t,n){for(const c of n)for(let n=0;n<c.length-1;++n)if(0!=(s=[(a=c[n+1])[0]-(o=c[n])[0],a[1]-o[1]])[0]*(l=[(i=t)[0]-(r=e)[0],i[1]-r[1]])[1]-s[1]*l[0]&&st(r,i,o,a)&&st(o,a,r,i))return!0;var r,i,o,a,s,l;return!1}function ct(e,t){for(let n=0;n<e.length;++n)if(!ot(e[n],t))return!1;for(let n=0;n<e.length-1;++n)if(lt(e[n],e[n+1],t))return!1;return!0}function ut(e,t){for(let n=0;n<t.length;n++)if(ct(e,t[n]))return!0;return!1}function dt(e,t,n){const r=[];for(let i=0;i<e.length;i++){const o=[];for(let r=0;r<e[i].length;r++){const a=rt(e[i][r],n);tt(t,a),o.push(a)}r.push(o)}return r}function ft(e,t,n){const r=[];for(let i=0;i<e.length;i++){const o=dt(e[i],t,n);r.push(o)}return r}function pt(e,t,n,r){if(e[0]<n[0]||e[0]>n[2]){const t=.5*r;let i=e[0]-n[0]>t?-r:n[0]-e[0]>t?r:0;0===i&&(i=e[0]-n[2]>t?-r:n[2]-e[0]>t?r:0),e[0]+=i}tt(t,e)}function mt(e,t,n,r){const i=Math.pow(2,r.z)*et,o=[r.x*et,r.y*et],a=[];for(const r of e)for(const e of r){const r=[e.x+o[0],e.y+o[1]];pt(r,t,n,i),a.push(r)}return a}function ht(e,t,n,r){const i=Math.pow(2,r.z)*et,o=[r.x*et,r.y*et],a=[];for(const n of e){const e=[];for(const r of n){const n=[r.x+o[0],r.y+o[1]];tt(t,n),e.push(n)}a.push(e)}if(t[2]-t[0]<=i/2){(s=t)[0]=s[1]=1/0,s[2]=s[3]=-1/0;for(const e of a)for(const r of e)pt(r,t,n,i)}var s;return a}class gt{constructor(e,t){this.type=me,this.geojson=e,this.geometries=t}static parse(e,t){if(2!==e.length)return t.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if(Fe(e[1])){const t=e[1];if("FeatureCollection"===t.type)for(let e=0;e<t.features.length;++e){const n=t.features[e].geometry.type;if("Polygon"===n||"MultiPolygon"===n)return new gt(t,t.features[e].geometry)}else if("Feature"===t.type){const e=t.geometry.type;if("Polygon"===e||"MultiPolygon"===e)return new gt(t,t.geometry)}else if("Polygon"===t.type||"MultiPolygon"===t.type)return new gt(t,t)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){const n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if("Polygon"===t.type){const o=dt(t.coordinates,r,i),a=mt(e.geometry(),n,r,i);if(!nt(n,r))return!1;for(const e of a)if(!ot(e,o))return!1}if("MultiPolygon"===t.type){const o=ft(t.coordinates,r,i),a=mt(e.geometry(),n,r,i);if(!nt(n,r))return!1;for(const e of a)if(!at(e,o))return!1}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){const n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if("Polygon"===t.type){const o=dt(t.coordinates,r,i),a=ht(e.geometry(),n,r,i);if(!nt(n,r))return!1;for(const e of a)if(!ct(e,o))return!1}if("MultiPolygon"===t.type){const o=ft(t.coordinates,r,i),a=ht(e.geometry(),n,r,i);if(!nt(n,r))return!1;for(const e of a)if(!ut(e,o))return!1}return!0}(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}function yt(e){if(e instanceof Ke){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof gt)return!1;let t=!0;return e.eachChild((e=>{t&&!yt(e)&&(t=!1)})),t}function vt(e){if(e instanceof Ke&&"feature-state"===e.name)return!1;let t=!0;return e.eachChild((e=>{t&&!vt(e)&&(t=!1)})),t}function bt(e,t){if(e instanceof Ke&&t.indexOf(e.name)>=0)return!1;let n=!0;return e.eachChild((e=>{n&&!bt(e,t)&&(n=!1)})),n}class wt{constructor(e,t){this.type=t.type,this.name=e,this.boundExpression=t}static parse(e,t){if(2!==e.length||"string"!=typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");const n=e[1];return t.scope.has(n)?new wt(n,t.scope.get(n)):t.error(`Unknown variable "${n}". Make sure "${n}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}class xt{constructor(e,t=[],n,r=new ue,i=[]){this.registry=e,this.path=t,this.key=t.map((e=>`[${e}]`)).join(""),this.scope=r,this.errors=i,this.expectedType=n}parse(e,t,n,r,i={}){return t?this.concat(t,n,r)._parse(e,i):this._parse(e,i)}_parse(e,t){function n(e,t,n){return"assert"===n?new We(t,[e]):"coerce"===n?new Xe(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const r=e[0];if("string"!=typeof r)return this.error(`Expression name must be a string, but found ${typeof r} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const i=this.registry[r];if(i){let r=i.parse(e,this);if(!r)return null;if(this.expectedType){const e=this.expectedType,i=r.type;if("string"!==e.kind&&"number"!==e.kind&&"boolean"!==e.kind&&"object"!==e.kind&&"array"!==e.kind||"value"!==i.kind)if("color"!==e.kind&&"formatted"!==e.kind&&"resolvedImage"!==e.kind||"value"!==i.kind&&"string"!==i.kind){if(this.checkSubtype(e,i))return null}else r=n(r,e,t.typeAnnotation||"coerce");else r=n(r,e,t.typeAnnotation||"assert")}if(!(r instanceof Ve)&&"resolvedImage"!==r.type.kind&&Et(r)){const t=new qe;try{r=new Ve(r.type,r.evaluate(t))}catch(e){return this.error(e.message),null}}return r}return this.error(`Unknown expression "${r}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(void 0===e?"'undefined' value invalid. Use null instead.":"object"==typeof e?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof e} instead.`)}concat(e,t,n){const r="number"==typeof e?this.path.concat(e):this.path,i=n?this.scope.concat(n):this.scope;return new xt(this.registry,r,t||null,i,this.errors)}error(e,...t){const n=`${this.key}${t.map((e=>`[${e}]`)).join("")}`;this.errors.push(new ce(n,e))}checkSubtype(e,t){const n=Ae(e,t);return n&&this.error(n),n}}function Et(e){if(e instanceof wt)return Et(e.boundExpression);if(e instanceof Ke&&"error"===e.name)return!1;if(e instanceof $e)return!1;if(e instanceof gt)return!1;const t=e instanceof Xe||e instanceof We;let n=!0;return e.eachChild((e=>{n=t?n&&Et(e):n&&e instanceof Ve})),!!n&&yt(e)&&bt(e,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function _t(e,t){const n=e.length-1;let r,i,o=0,a=n,s=0;for(;o<=a;)if(s=Math.floor((o+a)/2),r=e[s],i=e[s+1],r<=t){if(s===n||t<i)return s;o=s+1}else{if(!(r>t))throw new Ge("Input is not a number.");a=s-1}return 0}class At{constructor(e,t,n){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(const[e,t]of n)this.labels.push(e),this.outputs.push(t)}static parse(e,t){if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");const n=t.parse(e[1],1,fe);if(!n)return null;const r=[];let i=null;t.expectedType&&"value"!==t.expectedType.kind&&(i=t.expectedType);for(let n=1;n<e.length;n+=2){const o=1===n?-1/0:e[n],a=e[n+1],s=n,l=n+1;if("number"!=typeof o)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',s);if(r.length&&r[r.length-1][0]>=o)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',s);const c=t.parse(a,l,i);if(!c)return null;i=i||c.type,r.push([o,c])}return new At(i,n,r)}evaluate(e){const t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);const r=this.input.evaluate(e);if(r<=t[0])return n[0].evaluate(e);const i=t.length;return r>=t[i-1]?n[i-1].evaluate(e):n[_t(t,r)].evaluate(e)}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every((e=>e.outputDefined()))}serialize(){const e=["step",this.input.serialize()];for(let t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e}}function Ot(e,t,n){return e*(1-n)+t*n}var St=Object.freeze({__proto__:null,number:Ot,color:function(e,t,n){return new je(Ot(e.r,t.r,n),Ot(e.g,t.g,n),Ot(e.b,t.b,n),Ot(e.a,t.a,n))},array:function(e,t,n){return e.map(((e,r)=>Ot(e,t[r],n)))}});const Tt=.95047,It=1.08883,kt=4/29,Ct=6/29,Mt=3*Ct*Ct,Nt=Math.PI/180,jt=180/Math.PI;function Lt(e){return e>.008856451679035631?Math.pow(e,1/3):e/Mt+kt}function Rt(e){return e>Ct?e*e*e:Mt*(e-kt)}function Dt(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Pt(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Bt(e){const t=Pt(e.r),n=Pt(e.g),r=Pt(e.b),i=Lt((.4124564*t+.3575761*n+.1804375*r)/Tt),o=Lt((.2126729*t+.7151522*n+.072175*r)/1);return{l:116*o-16,a:500*(i-o),b:200*(o-Lt((.0193339*t+.119192*n+.9503041*r)/It)),alpha:e.a}}function Ft(e){let t=(e.l+16)/116,n=isNaN(e.a)?t:t+e.a/500,r=isNaN(e.b)?t:t-e.b/200;return t=1*Rt(t),n=Tt*Rt(n),r=It*Rt(r),new je(Dt(3.2404542*n-1.5371385*t-.4985314*r),Dt(-.969266*n+1.8760108*t+.041556*r),Dt(.0556434*n-.2040259*t+1.0572252*r),e.alpha)}function Ut(e,t,n){const r=t-e;return e+n*(r>180||r<-180?r-360*Math.round(r/360):r)}const zt={forward:Bt,reverse:Ft,interpolate:function(e,t,n){return{l:Ot(e.l,t.l,n),a:Ot(e.a,t.a,n),b:Ot(e.b,t.b,n),alpha:Ot(e.alpha,t.alpha,n)}}},Vt={forward:function(e){const{l:t,a:n,b:r}=Bt(e),i=Math.atan2(r,n)*jt;return{h:i<0?i+360:i,c:Math.sqrt(n*n+r*r),l:t,alpha:e.a}},reverse:function(e){const t=e.h*Nt,n=e.c;return Ft({l:e.l,a:Math.cos(t)*n,b:Math.sin(t)*n,alpha:e.alpha})},interpolate:function(e,t,n){return{h:Ut(e.h,t.h,n),c:Ot(e.c,t.c,n),l:Ot(e.l,t.l,n),alpha:Ot(e.alpha,t.alpha,n)}}};var Gt=Object.freeze({__proto__:null,lab:zt,hcl:Vt});class Ht{constructor(e,t,n,r,i){this.type=e,this.operator=t,this.interpolation=n,this.input=r,this.labels=[],this.outputs=[];for(const[e,t]of i)this.labels.push(e),this.outputs.push(t)}static interpolationFactor(e,n,r,i){let o=0;if("exponential"===e.name)o=Wt(n,e.base,r,i);else if("linear"===e.name)o=Wt(n,1,r,i);else if("cubic-bezier"===e.name){const a=e.controlPoints;o=new t(a[0],a[1],a[2],a[3]).solve(Wt(n,1,r,i))}return o}static parse(e,t){let[n,r,i,...o]=e;if(!Array.isArray(r)||0===r.length)return t.error("Expected an interpolation type expression.",1);if("linear"===r[0])r={name:"linear"};else if("exponential"===r[0]){const e=r[1];if("number"!=typeof e)return t.error("Exponential interpolation requires a numeric base.",1,1);r={name:"exponential",base:e}}else{if("cubic-bezier"!==r[0])return t.error(`Unknown interpolation type ${String(r[0])}`,1,0);{const e=r.slice(1);if(4!==e.length||e.some((e=>"number"!=typeof e||e<0||e>1)))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);r={name:"cubic-bezier",controlPoints:e}}}if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(i=t.parse(i,2,fe),!i)return null;const a=[];let s=null;"interpolate-hcl"===n||"interpolate-lab"===n?s=he:t.expectedType&&"value"!==t.expectedType.kind&&(s=t.expectedType);for(let e=0;e<o.length;e+=2){const n=o[e],r=o[e+1],i=e+3,l=e+4;if("number"!=typeof n)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',i);if(a.length&&a[a.length-1][0]>=n)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',i);const c=t.parse(r,l,s);if(!c)return null;s=s||c.type,a.push([n,c])}return"number"===s.kind||"color"===s.kind||"array"===s.kind&&"number"===s.itemType.kind&&"number"==typeof s.N?new Ht(s,n,r,i,a):t.error(`Type ${Ee(s)} is not interpolatable.`)}evaluate(e){const t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);const r=this.input.evaluate(e);if(r<=t[0])return n[0].evaluate(e);const i=t.length;if(r>=t[i-1])return n[i-1].evaluate(e);const o=_t(t,r),a=Ht.interpolationFactor(this.interpolation,r,t[o],t[o+1]),s=n[o].evaluate(e),l=n[o+1].evaluate(e);return"interpolate"===this.operator?St[this.type.kind.toLowerCase()](s,l,a):"interpolate-hcl"===this.operator?Vt.reverse(Vt.interpolate(Vt.forward(s),Vt.forward(l),a)):zt.reverse(zt.interpolate(zt.forward(s),zt.forward(l),a))}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every((e=>e.outputDefined()))}serialize(){let e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const t=[this.operator,e,this.input.serialize()];for(let e=0;e<this.labels.length;e++)t.push(this.labels[e],this.outputs[e].serialize());return t}}function Wt(e,t,n,r){const i=r-n,o=e-n;return 0===i?0:1===t?o/i:(Math.pow(t,o)-1)/(Math.pow(t,i)-1)}class Yt{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expectected at least one argument.");let n=null;const r=t.expectedType;r&&"value"!==r.kind&&(n=r);const i=[];for(const r of e.slice(1)){const e=t.parse(r,1+i.length,n,void 0,{typeAnnotation:"omit"});if(!e)return null;n=n||e.type,i.push(e)}const o=r&&i.some((e=>Ae(r,e.type)));return new Yt(o?ye:n,i)}evaluate(e){let t,n=null,r=0;for(const i of this.args)if(r++,n=i.evaluate(e),n&&n instanceof Pe&&!n.available&&(t||(t=n.name),n=null,r===this.args.length&&(n=t)),null!==n)break;return n}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every((e=>e.outputDefined()))}serialize(){const e=["coalesce"];return this.eachChild((t=>{e.push(t.serialize())})),e}}class Qt{constructor(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(const t of this.bindings)e(t[1]);e(this.result)}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);const n=[];for(let r=1;r<e.length-1;r+=2){const i=e[r];if("string"!=typeof i)return t.error(`Expected string, but found ${typeof i} instead.`,r);if(/[^a-zA-Z0-9_]/.test(i))return t.error("Variable names must contain only alphanumeric characters or '_'.",r);const o=t.parse(e[r+1],r+1);if(!o)return null;n.push([i,o])}const r=t.parse(e[e.length-1],e.length-1,t.expectedType,n);return r?new Qt(n,r):null}outputDefined(){return this.result.outputDefined()}serialize(){const e=["let"];for(const[t,n]of this.bindings)e.push(t,n.serialize());return e.push(this.result.serialize()),e}}class Zt{constructor(e,t,n){this.type=e,this.index=t,this.input=n}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,fe),r=t.parse(e[2],2,xe(t.expectedType||ye));return n&&r?new Zt(r.type.itemType,n,r):null}evaluate(e){const t=this.index.evaluate(e),n=this.input.evaluate(e);if(t<0)throw new Ge(`Array index out of bounds: ${t} < 0.`);if(t>=n.length)throw new Ge(`Array index out of bounds: ${t} > ${n.length-1}.`);if(t!==Math.floor(t))throw new Ge(`Array index must be an integer, but found ${t} instead.`);return n[t]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}class Xt{constructor(e,t){this.type=me,this.needle=e,this.haystack=t}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,ye),r=t.parse(e[2],2,ye);return n&&r?Oe(n.type,[me,pe,fe,de,ye])?new Xt(n,r):t.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ee(n.type)} instead`):null}evaluate(e){const t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!n)return!1;if(!Se(t,["boolean","string","number","null"]))throw new Ge(`Expected first argument to be of type boolean, string, number or null, but found ${Ee(Ue(t))} instead.`);if(!Se(n,["string","array"]))throw new Ge(`Expected second argument to be of type array or string, but found ${Ee(Ue(n))} instead.`);return n.indexOf(t)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}class Jt{constructor(e,t,n){this.type=fe,this.needle=e,this.haystack=t,this.fromIndex=n}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,ye),r=t.parse(e[2],2,ye);if(!n||!r)return null;if(!Oe(n.type,[me,pe,fe,de,ye]))return t.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ee(n.type)} instead`);if(4===e.length){const i=t.parse(e[3],3,fe);return i?new Jt(n,r,i):null}return new Jt(n,r)}evaluate(e){const t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!Se(t,["boolean","string","number","null"]))throw new Ge(`Expected first argument to be of type boolean, string, number or null, but found ${Ee(Ue(t))} instead.`);if(!Se(n,["string","array"]))throw new Ge(`Expected second argument to be of type array or string, but found ${Ee(Ue(n))} instead.`);if(this.fromIndex){const r=this.fromIndex.evaluate(e);return n.indexOf(t,r)}return n.indexOf(t)}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}serialize(){if(null!=this.fromIndex&&void 0!==this.fromIndex){const e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}class qt{constructor(e,t,n,r,i,o){this.inputType=e,this.type=t,this.input=n,this.cases=r,this.outputs=i,this.otherwise=o}static parse(e,t){if(e.length<5)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if(e.length%2!=1)return t.error("Expected an even number of arguments.");let n,r;t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);const i={},o=[];for(let a=2;a<e.length-1;a+=2){let s=e[a];const l=e[a+1];Array.isArray(s)||(s=[s]);const c=t.concat(a);if(0===s.length)return c.error("Expected at least one branch label.");for(const e of s){if("number"!=typeof e&&"string"!=typeof e)return c.error("Branch labels must be numbers or strings.");if("number"==typeof e&&Math.abs(e)>Number.MAX_SAFE_INTEGER)return c.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof e&&Math.floor(e)!==e)return c.error("Numeric branch labels must be integer values.");if(n){if(c.checkSubtype(n,Ue(e)))return null}else n=Ue(e);if(void 0!==i[String(e)])return c.error("Branch labels must be unique.");i[String(e)]=o.length}const u=t.parse(l,a,r);if(!u)return null;r=r||u.type,o.push(u)}const a=t.parse(e[1],1,ye);if(!a)return null;const s=t.parse(e[e.length-1],e.length-1,r);return s?"value"!==a.type.kind&&t.concat(1).checkSubtype(n,a.type)?null:new qt(n,r,a,i,o,s):null}evaluate(e){const t=this.input.evaluate(e);return(Ue(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every((e=>e.outputDefined()))&&this.otherwise.outputDefined()}serialize(){const e=["match",this.input.serialize()],t=Object.keys(this.cases).sort(),n=[],r={};for(const e of t){const t=r[this.cases[e]];void 0===t?(r[this.cases[e]]=n.length,n.push([this.cases[e],[e]])):n[t][1].push(e)}const i=e=>"number"===this.inputType.kind?Number(e):e;for(const[t,r]of n)e.push(1===r.length?i(r[0]):r.map(i)),e.push(this.outputs[t].serialize());return e.push(this.otherwise.serialize()),e}}class Kt{constructor(e,t,n){this.type=e,this.branches=t,this.otherwise=n}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found only ${e.length-1}.`);if(e.length%2!=0)return t.error("Expected an odd number of arguments.");let n;t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);const r=[];for(let i=1;i<e.length-1;i+=2){const o=t.parse(e[i],i,me);if(!o)return null;const a=t.parse(e[i+1],i+1,n);if(!a)return null;r.push([o,a]),n=n||a.type}const i=t.parse(e[e.length-1],e.length-1,n);return i?new Kt(n,r,i):null}evaluate(e){for(const[t,n]of this.branches)if(t.evaluate(e))return n.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(const[t,n]of this.branches)e(t),e(n);e(this.otherwise)}outputDefined(){return this.branches.every((([e,t])=>t.outputDefined()))&&this.otherwise.outputDefined()}serialize(){const e=["case"];return this.eachChild((t=>{e.push(t.serialize())})),e}}class $t{constructor(e,t,n,r){this.type=e,this.input=t,this.beginIndex=n,this.endIndex=r}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,ye),r=t.parse(e[2],2,fe);if(!n||!r)return null;if(!Oe(n.type,[xe(ye),pe,ye]))return t.error(`Expected first argument to be of type array or string, but found ${Ee(n.type)} instead`);if(4===e.length){const i=t.parse(e[3],3,fe);return i?new $t(n.type,n,r,i):null}return new $t(n.type,n,r)}evaluate(e){const t=this.input.evaluate(e),n=this.beginIndex.evaluate(e);if(!Se(t,["string","array"]))throw new Ge(`Expected first argument to be of type array or string, but found ${Ee(Ue(t))} instead.`);if(this.endIndex){const r=this.endIndex.evaluate(e);return t.slice(n,r)}return t.slice(n)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}serialize(){if(null!=this.endIndex&&void 0!==this.endIndex){const e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}function en(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function tn(e,t,n,r){return 0===r.compare(t,n)}function nn(e,t,n){const r="=="!==e&&"!="!==e;return class i{constructor(e,t,n){this.type=me,this.lhs=e,this.rhs=t,this.collator=n,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}static parse(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");const n=e[0];let o=t.parse(e[1],1,ye);if(!o)return null;if(!en(n,o.type))return t.concat(1).error(`"${n}" comparisons are not supported for type '${Ee(o.type)}'.`);let a=t.parse(e[2],2,ye);if(!a)return null;if(!en(n,a.type))return t.concat(2).error(`"${n}" comparisons are not supported for type '${Ee(a.type)}'.`);if(o.type.kind!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return t.error(`Cannot compare types '${Ee(o.type)}' and '${Ee(a.type)}'.`);r&&("value"===o.type.kind&&"value"!==a.type.kind?o=new We(a.type,[o]):"value"!==o.type.kind&&"value"===a.type.kind&&(a=new We(o.type,[a])));let s=null;if(4===e.length){if("string"!==o.type.kind&&"string"!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return t.error("Cannot use collator to compare non-string types.");if(s=t.parse(e[3],3,ve),!s)return null}return new i(o,a,s)}evaluate(i){const o=this.lhs.evaluate(i),a=this.rhs.evaluate(i);if(r&&this.hasUntypedArgument){const t=Ue(o),n=Ue(a);if(t.kind!==n.kind||"string"!==t.kind&&"number"!==t.kind)throw new Ge(`Expected arguments for "${e}" to be (string, string) or (number, number), but found (${t.kind}, ${n.kind}) instead.`)}if(this.collator&&!r&&this.hasUntypedArgument){const e=Ue(o),n=Ue(a);if("string"!==e.kind||"string"!==n.kind)return t(i,o,a)}return this.collator?n(i,o,a,this.collator.evaluate(i)):t(i,o,a)}eachChild(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)}outputDefined(){return!0}serialize(){const t=[e];return this.eachChild((e=>{t.push(e.serialize())})),t}}}const rn=nn("==",(function(e,t,n){return t===n}),tn),on=nn("!=",(function(e,t,n){return t!==n}),(function(e,t,n,r){return!tn(0,t,n,r)})),an=nn("<",(function(e,t,n){return t<n}),(function(e,t,n,r){return r.compare(t,n)<0})),sn=nn(">",(function(e,t,n){return t>n}),(function(e,t,n,r){return r.compare(t,n)>0})),ln=nn("<=",(function(e,t,n){return t<=n}),(function(e,t,n,r){return r.compare(t,n)<=0})),cn=nn(">=",(function(e,t,n){return t>=n}),(function(e,t,n,r){return r.compare(t,n)>=0}));class un{constructor(e,t,n,r,i){this.type=pe,this.number=e,this.locale=t,this.currency=n,this.minFractionDigits=r,this.maxFractionDigits=i}static parse(e,t){if(3!==e.length)return t.error("Expected two arguments.");const n=t.parse(e[1],1,fe);if(!n)return null;const r=e[2];if("object"!=typeof r||Array.isArray(r))return t.error("NumberFormat options argument must be an object.");let i=null;if(r.locale&&(i=t.parse(r.locale,1,pe),!i))return null;let o=null;if(r.currency&&(o=t.parse(r.currency,1,pe),!o))return null;let a=null;if(r["min-fraction-digits"]&&(a=t.parse(r["min-fraction-digits"],1,fe),!a))return null;let s=null;return r["max-fraction-digits"]&&(s=t.parse(r["max-fraction-digits"],1,fe),!s)?null:new un(n,i,o,a,s)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]}}class dn{constructor(e){this.type=fe,this.input=e}static parse(e,t){if(2!==e.length)return t.error(`Expected 1 argument, but found ${e.length-1} instead.`);const n=t.parse(e[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?t.error(`Expected argument of type string or array, but found ${Ee(n.type)} instead.`):new dn(n):null}evaluate(e){const t=this.input.evaluate(e);if("string"==typeof t)return t.length;if(Array.isArray(t))return t.length;throw new Ge(`Expected value to be of type string or array, but found ${Ee(Ue(t))} instead.`)}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){const e=["length"];return this.eachChild((t=>{e.push(t.serialize())})),e}}const fn={"==":rn,"!=":on,">":sn,"<":an,">=":cn,"<=":ln,array:We,at:Zt,boolean:We,case:Kt,coalesce:Yt,collator:$e,format:Ye,image:Qe,in:Xt,"index-of":Jt,interpolate:Ht,"interpolate-hcl":Ht,"interpolate-lab":Ht,length:dn,let:Qt,literal:Ve,match:qt,number:We,"number-format":un,object:We,slice:$t,step:At,string:We,"to-boolean":Xe,"to-color":Xe,"to-number":Xe,"to-string":Xe,var:wt,within:gt};function pn(e,[t,n,r,i]){t=t.evaluate(e),n=n.evaluate(e),r=r.evaluate(e);const o=i?i.evaluate(e):1,a=Be(t,n,r,o);if(a)throw new Ge(a);return new je(t/255*o,n/255*o,r/255*o,o)}function mn(e,t){return e in t}function hn(e,t){const n=t[e];return void 0===n?null:n}function gn(e){return{type:e}}function yn(e){return{result:"success",value:e}}function vn(e){return{result:"error",value:e}}function bn(e){return"data-driven"===e["property-type"]||"cross-faded-data-driven"===e["property-type"]}function wn(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function xn(e){return!!e.expression&&e.expression.interpolated}function En(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}function _n(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function An(e){return e}function On(e,t){const n="color"===t.type,r=e.stops&&"object"==typeof e.stops[0][0],i=r||!(r||void 0!==e.property),o=e.type||(xn(t)?"exponential":"interval");if(n&&((e=ae({},e)).stops&&(e.stops=e.stops.map((e=>[e[0],je.parse(e[1])]))),e.default=je.parse(e.default?e.default:t.default)),e.colorSpace&&"rgb"!==e.colorSpace&&!Gt[e.colorSpace])throw new Error(`Unknown color space: ${e.colorSpace}`);let a,s,l;if("exponential"===o)a=kn;else if("interval"===o)a=In;else if("categorical"===o){a=Tn,s=Object.create(null);for(const t of e.stops)s[t[0]]=t[1];l=typeof e.stops[0][0]}else{if("identity"!==o)throw new Error(`Unknown function type "${o}"`);a=Cn}if(r){const n={},r=[];for(let t=0;t<e.stops.length;t++){const i=e.stops[t],o=i[0].zoom;void 0===n[o]&&(n[o]={zoom:o,type:e.type,property:e.property,default:e.default,stops:[]},r.push(o)),n[o].stops.push([i[0].value,i[1]])}const i=[];for(const e of r)i.push([n[e].zoom,On(n[e],t)]);const o={name:"linear"};return{kind:"composite",interpolationType:o,interpolationFactor:Ht.interpolationFactor.bind(void 0,o),zoomStops:i.map((e=>e[0])),evaluate:({zoom:n},r)=>kn({stops:i,base:e.base},t,n).evaluate(n,r)}}if(i){const n="exponential"===o?{name:"exponential",base:void 0!==e.base?e.base:1}:null;return{kind:"camera",interpolationType:n,interpolationFactor:Ht.interpolationFactor.bind(void 0,n),zoomStops:e.stops.map((e=>e[0])),evaluate:({zoom:n})=>a(e,t,n,s,l)}}return{kind:"source",evaluate(n,r){const i=r&&r.properties?r.properties[e.property]:void 0;return void 0===i?Sn(e.default,t.default):a(e,t,i,s,l)}}}function Sn(e,t,n){return void 0!==e?e:void 0!==t?t:void 0!==n?n:void 0}function Tn(e,t,n,r,i){return Sn(typeof n===i?r[n]:void 0,e.default,t.default)}function In(e,t,n){if("number"!==En(n))return Sn(e.default,t.default);const r=e.stops.length;if(1===r)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[r-1][0])return e.stops[r-1][1];const i=_t(e.stops.map((e=>e[0])),n);return e.stops[i][1]}function kn(e,t,n){const r=void 0!==e.base?e.base:1;if("number"!==En(n))return Sn(e.default,t.default);const i=e.stops.length;if(1===i)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[i-1][0])return e.stops[i-1][1];const o=_t(e.stops.map((e=>e[0])),n),a=function(e,t,n,r){const i=r-n,o=e-n;return 0===i?0:1===t?o/i:(Math.pow(t,o)-1)/(Math.pow(t,i)-1)}(n,r,e.stops[o][0],e.stops[o+1][0]),s=e.stops[o][1],l=e.stops[o+1][1];let c=St[t.type]||An;if(e.colorSpace&&"rgb"!==e.colorSpace){const t=Gt[e.colorSpace];c=(e,n)=>t.reverse(t.interpolate(t.forward(e),t.forward(n),a))}return"function"==typeof s.evaluate?{evaluate(...e){const t=s.evaluate.apply(void 0,e),n=l.evaluate.apply(void 0,e);if(void 0!==t&&void 0!==n)return c(t,n,a)}}:c(s,l,a)}function Cn(e,t,n){return"color"===t.type?n=je.parse(n):"formatted"===t.type?n=De.fromString(n.toString()):"resolvedImage"===t.type?n=Pe.fromString(n.toString()):En(n)===t.type||"enum"===t.type&&t.values[n]||(n=void 0),Sn(n,e.default,t.default)}Ke.register(fn,{error:[{kind:"error"},[pe],(e,[t])=>{throw new Ge(t.evaluate(e))}],typeof:[pe,[ye],(e,[t])=>Ee(Ue(t.evaluate(e)))],"to-rgba":[xe(fe,4),[he],(e,[t])=>t.evaluate(e).toArray()],rgb:[he,[fe,fe,fe],pn],rgba:[he,[fe,fe,fe,fe],pn],has:{type:me,overloads:[[[pe],(e,[t])=>mn(t.evaluate(e),e.properties())],[[pe,ge],(e,[t,n])=>mn(t.evaluate(e),n.evaluate(e))]]},get:{type:ye,overloads:[[[pe],(e,[t])=>hn(t.evaluate(e),e.properties())],[[pe,ge],(e,[t,n])=>hn(t.evaluate(e),n.evaluate(e))]]},"feature-state":[ye,[pe],(e,[t])=>hn(t.evaluate(e),e.featureState||{})],properties:[ge,[],e=>e.properties()],"geometry-type":[pe,[],e=>e.geometryType()],id:[ye,[],e=>e.id()],zoom:[fe,[],e=>e.globals.zoom],"heatmap-density":[fe,[],e=>e.globals.heatmapDensity||0],"line-progress":[fe,[],e=>e.globals.lineProgress||0],accumulated:[ye,[],e=>void 0===e.globals.accumulated?null:e.globals.accumulated],"+":[fe,gn(fe),(e,t)=>{let n=0;for(const r of t)n+=r.evaluate(e);return n}],"*":[fe,gn(fe),(e,t)=>{let n=1;for(const r of t)n*=r.evaluate(e);return n}],"-":{type:fe,overloads:[[[fe,fe],(e,[t,n])=>t.evaluate(e)-n.evaluate(e)],[[fe],(e,[t])=>-t.evaluate(e)]]},"/":[fe,[fe,fe],(e,[t,n])=>t.evaluate(e)/n.evaluate(e)],"%":[fe,[fe,fe],(e,[t,n])=>t.evaluate(e)%n.evaluate(e)],ln2:[fe,[],()=>Math.LN2],pi:[fe,[],()=>Math.PI],e:[fe,[],()=>Math.E],"^":[fe,[fe,fe],(e,[t,n])=>Math.pow(t.evaluate(e),n.evaluate(e))],sqrt:[fe,[fe],(e,[t])=>Math.sqrt(t.evaluate(e))],log10:[fe,[fe],(e,[t])=>Math.log(t.evaluate(e))/Math.LN10],ln:[fe,[fe],(e,[t])=>Math.log(t.evaluate(e))],log2:[fe,[fe],(e,[t])=>Math.log(t.evaluate(e))/Math.LN2],sin:[fe,[fe],(e,[t])=>Math.sin(t.evaluate(e))],cos:[fe,[fe],(e,[t])=>Math.cos(t.evaluate(e))],tan:[fe,[fe],(e,[t])=>Math.tan(t.evaluate(e))],asin:[fe,[fe],(e,[t])=>Math.asin(t.evaluate(e))],acos:[fe,[fe],(e,[t])=>Math.acos(t.evaluate(e))],atan:[fe,[fe],(e,[t])=>Math.atan(t.evaluate(e))],min:[fe,gn(fe),(e,t)=>Math.min(...t.map((t=>t.evaluate(e))))],max:[fe,gn(fe),(e,t)=>Math.max(...t.map((t=>t.evaluate(e))))],abs:[fe,[fe],(e,[t])=>Math.abs(t.evaluate(e))],round:[fe,[fe],(e,[t])=>{const n=t.evaluate(e);return n<0?-Math.round(-n):Math.round(n)}],floor:[fe,[fe],(e,[t])=>Math.floor(t.evaluate(e))],ceil:[fe,[fe],(e,[t])=>Math.ceil(t.evaluate(e))],"filter-==":[me,[pe,ye],(e,[t,n])=>e.properties()[t.value]===n.value],"filter-id-==":[me,[ye],(e,[t])=>e.id()===t.value],"filter-type-==":[me,[pe],(e,[t])=>e.geometryType()===t.value],"filter-<":[me,[pe,ye],(e,[t,n])=>{const r=e.properties()[t.value],i=n.value;return typeof r==typeof i&&r<i}],"filter-id-<":[me,[ye],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n<r}],"filter->":[me,[pe,ye],(e,[t,n])=>{const r=e.properties()[t.value],i=n.value;return typeof r==typeof i&&r>i}],"filter-id->":[me,[ye],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n>r}],"filter-<=":[me,[pe,ye],(e,[t,n])=>{const r=e.properties()[t.value],i=n.value;return typeof r==typeof i&&r<=i}],"filter-id-<=":[me,[ye],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n<=r}],"filter->=":[me,[pe,ye],(e,[t,n])=>{const r=e.properties()[t.value],i=n.value;return typeof r==typeof i&&r>=i}],"filter-id->=":[me,[ye],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n>=r}],"filter-has":[me,[ye],(e,[t])=>t.value in e.properties()],"filter-has-id":[me,[],e=>null!==e.id()&&void 0!==e.id()],"filter-type-in":[me,[xe(pe)],(e,[t])=>t.value.indexOf(e.geometryType())>=0],"filter-id-in":[me,[xe(ye)],(e,[t])=>t.value.indexOf(e.id())>=0],"filter-in-small":[me,[pe,xe(ye)],(e,[t,n])=>n.value.indexOf(e.properties()[t.value])>=0],"filter-in-large":[me,[pe,xe(ye)],(e,[t,n])=>function(e,t,n,r){for(;n<=r;){const i=n+r>>1;if(t[i]===e)return!0;t[i]>e?r=i-1:n=i+1}return!1}(e.properties()[t.value],n.value,0,n.value.length-1)],all:{type:me,overloads:[[[me,me],(e,[t,n])=>t.evaluate(e)&&n.evaluate(e)],[gn(me),(e,t)=>{for(const n of t)if(!n.evaluate(e))return!1;return!0}]]},any:{type:me,overloads:[[[me,me],(e,[t,n])=>t.evaluate(e)||n.evaluate(e)],[gn(me),(e,t)=>{for(const n of t)if(n.evaluate(e))return!0;return!1}]]},"!":[me,[me],(e,[t])=>!t.evaluate(e)],"is-supported-script":[me,[pe],(e,[t])=>{const n=e.globals&&e.globals.isSupportedScript;return!n||n(t.evaluate(e))}],upcase:[pe,[pe],(e,[t])=>t.evaluate(e).toUpperCase()],downcase:[pe,[pe],(e,[t])=>t.evaluate(e).toLowerCase()],concat:[pe,gn(ye),(e,t)=>t.map((t=>ze(t.evaluate(e)))).join("")],"resolved-locale":[pe,[ve],(e,[t])=>t.evaluate(e).resolvedLocale()]});class Mn{constructor(e,t){this.expression=e,this._warningHistory={},this._evaluator=new qe,this._defaultValue=t?function(e){return"color"===e.type&&_n(e.default)?new je(0,0,0,0):"color"===e.type?je.parse(e.default)||null:void 0===e.default?null:e.default}(t):null,this._enumValues=t&&"enum"===t.type?t.values:null}evaluateWithoutErrorHandling(e,t,n,r,i,o){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=n,this._evaluator.canonical=r,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o,this.expression.evaluate(this._evaluator)}evaluate(e,t,n,r,i,o){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=n||null,this._evaluator.canonical=r,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o||null;try{const e=this.expression.evaluate(this._evaluator);if(null==e||"number"==typeof e&&e!=e)return this._defaultValue;if(this._enumValues&&!(e in this._enumValues))throw new Ge(`Expected value to be one of ${Object.keys(this._enumValues).map((e=>JSON.stringify(e))).join(", ")}, but found ${JSON.stringify(e)} instead.`);return e}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}}}function Nn(e){return Array.isArray(e)&&e.length>0&&"string"==typeof e[0]&&e[0]in fn}function jn(e,t){const n=new xt(fn,[],t?function(e){const t={color:he,string:pe,number:fe,enum:pe,boolean:me,formatted:be,resolvedImage:we};return"array"===e.type?xe(t[e.value]||ye,e.length):t[e.type]}(t):void 0),r=n.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return r?yn(new Mn(r,t)):vn(n.errors)}class Ln{constructor(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!vt(t.expression)}evaluateWithoutErrorHandling(e,t,n,r,i,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,i,o)}evaluate(e,t,n,r,i,o){return this._styleExpression.evaluate(e,t,n,r,i,o)}}class Rn{constructor(e,t,n,r){this.kind=e,this.zoomStops=n,this._styleExpression=t,this.isStateDependent="camera"!==e&&!vt(t.expression),this.interpolationType=r}evaluateWithoutErrorHandling(e,t,n,r,i,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,i,o)}evaluate(e,t,n,r,i,o){return this._styleExpression.evaluate(e,t,n,r,i,o)}interpolationFactor(e,t,n){return this.interpolationType?Ht.interpolationFactor(this.interpolationType,e,t,n):0}}function Dn(e,t){const n=jn(e,t);if("error"===n.result)return n;const r=n.value.expression,i=yt(r);if(!i&&!bn(t))return vn([new ce("","data expressions not supported")]);const o=bt(r,["zoom"]);if(!o&&!wn(t))return vn([new ce("","zoom expressions not supported")]);const a=Bn(r);return a||o?a instanceof ce?vn([a]):a instanceof Ht&&!xn(t)?vn([new ce("",'"interpolate" expressions cannot be used with this property')]):yn(a?new Rn(i?"camera":"composite",n.value,a.labels,a instanceof Ht?a.interpolation:void 0):new Ln(i?"constant":"source",n.value)):vn([new ce("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Pn{constructor(e,t){this._parameters=e,this._specification=t,ae(this,On(this._parameters,this._specification))}static deserialize(e){return new Pn(e._parameters,e._specification)}static serialize(e){return{_parameters:e._parameters,_specification:e._specification}}}function Bn(e){let t=null;if(e instanceof Qt)t=Bn(e.result);else if(e instanceof Yt){for(const n of e.args)if(t=Bn(n),t)break}else(e instanceof At||e instanceof Ht)&&e.input instanceof Ke&&"zoom"===e.input.name&&(t=e);return t instanceof ce||e.eachChild((e=>{const n=Bn(e);n instanceof ce?t=n:!t&&n?t=new ce("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):t&&n&&t!==n&&(t=new ce("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),t}function Fn(e){const t=e.key,n=e.value,r=e.valueSpec||{},i=e.objectElementValidators||{},o=e.style,a=e.styleSpec;let s=[];const l=En(n);if("object"!==l)return[new ie(t,n,`object expected, ${l} found`)];for(const e in n){const l=e.split(".")[0],c=r[l]||r["*"];let u;if(i[l])u=i[l];else if(r[l])u=fr;else if(i["*"])u=i["*"];else{if(!r["*"]){s.push(new ie(t,n[e],`unknown property "${e}"`));continue}u=fr}s=s.concat(u({key:(t?`${t}.`:t)+e,value:n[e],valueSpec:c,style:o,styleSpec:a,object:n,objectKey:e},n))}for(const e in r)i[e]||r[e].required&&void 0===r[e].default&&void 0===n[e]&&s.push(new ie(t,n,`missing required property "${e}"`));return s}function Un(e){const t=e.value,n=e.valueSpec,r=e.style,i=e.styleSpec,o=e.key,a=e.arrayElementValidator||fr;if("array"!==En(t))return[new ie(o,t,`array expected, ${En(t)} found`)];if(n.length&&t.length!==n.length)return[new ie(o,t,`array length ${n.length} expected, length ${t.length} found`)];if(n["min-length"]&&t.length<n["min-length"])return[new ie(o,t,`array length at least ${n["min-length"]} expected, length ${t.length} found`)];let s={type:n.value,values:n.values};i.$version<7&&(s.function=n.function),"object"===En(n.value)&&(s=n.value);let l=[];for(let e=0;e<t.length;e++)l=l.concat(a({array:t,arrayIndex:e,value:t[e],valueSpec:s,style:r,styleSpec:i,key:`${o}[${e}]`}));return l}function zn(e){const t=e.key,n=e.value,r=e.valueSpec;let i=En(n);return"number"===i&&n!=n&&(i="NaN"),"number"!==i?[new ie(t,n,`number expected, ${i} found`)]:"minimum"in r&&n<r.minimum?[new ie(t,n,`${n} is less than the minimum value ${r.minimum}`)]:"maximum"in r&&n>r.maximum?[new ie(t,n,`${n} is greater than the maximum value ${r.maximum}`)]:[]}function Vn(e){const t=e.valueSpec,n=se(e.value.type);let r,i,o,a={};const s="categorical"!==n&&void 0===e.value.property,l=!s,c="array"===En(e.value.stops)&&"array"===En(e.value.stops[0])&&"object"===En(e.value.stops[0][0]),u=Fn({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if("identity"===n)return[new ie(e.key,e.value,'identity function may not have a "stops" property')];let t=[];const r=e.value;return t=t.concat(Un({key:e.key,value:r,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:d})),"array"===En(r)&&0===r.length&&t.push(new ie(e.key,r,"array must have at least one stop")),t},default:function(e){return fr({key:e.key,value:e.value,valueSpec:t,style:e.style,styleSpec:e.styleSpec})}}});return"identity"===n&&s&&u.push(new ie(e.key,e.value,'missing required property "property"')),"identity"===n||e.value.stops||u.push(new ie(e.key,e.value,'missing required property "stops"')),"exponential"===n&&e.valueSpec.expression&&!xn(e.valueSpec)&&u.push(new ie(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(l&&!bn(e.valueSpec)?u.push(new ie(e.key,e.value,"property functions not supported")):s&&!wn(e.valueSpec)&&u.push(new ie(e.key,e.value,"zoom functions not supported"))),"categorical"!==n&&!c||void 0!==e.value.property||u.push(new ie(e.key,e.value,'"property" property is required')),u;function d(e){let n=[];const r=e.value,s=e.key;if("array"!==En(r))return[new ie(s,r,`array expected, ${En(r)} found`)];if(2!==r.length)return[new ie(s,r,`array length 2 expected, length ${r.length} found`)];if(c){if("object"!==En(r[0]))return[new ie(s,r,`object expected, ${En(r[0])} found`)];if(void 0===r[0].zoom)return[new ie(s,r,"object stop key must have zoom")];if(void 0===r[0].value)return[new ie(s,r,"object stop key must have value")];if(o&&o>se(r[0].zoom))return[new ie(s,r[0].zoom,"stop zoom values must appear in ascending order")];se(r[0].zoom)!==o&&(o=se(r[0].zoom),i=void 0,a={}),n=n.concat(Fn({key:`${s}[0]`,value:r[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:zn,value:f}}))}else n=n.concat(f({key:`${s}[0]`,value:r[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec},r));return Nn(le(r[1]))?n.concat([new ie(`${s}[1]`,r[1],"expressions are not allowed in function stops.")]):n.concat(fr({key:`${s}[1]`,value:r[1],valueSpec:t,style:e.style,styleSpec:e.styleSpec}))}function f(e,o){const s=En(e.value),l=se(e.value),c=null!==e.value?e.value:o;if(r){if(s!==r)return[new ie(e.key,c,`${s} stop domain type must match previous stop domain type ${r}`)]}else r=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new ie(e.key,c,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==n){let r=`number expected, ${s} found`;return bn(t)&&void 0===n&&(r+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new ie(e.key,c,r)]}return"categorical"!==n||"number"!==s||isFinite(l)&&Math.floor(l)===l?"categorical"!==n&&"number"===s&&void 0!==i&&l<i?[new ie(e.key,c,"stop domain values must appear in ascending order")]:(i=l,"categorical"===n&&l in a?[new ie(e.key,c,"stop domain values must be unique")]:(a[l]=!0,[])):[new ie(e.key,c,`integer expected, found ${l}`)]}}function Gn(e){const t=("property"===e.expressionContext?Dn:jn)(le(e.value),e.valueSpec);if("error"===t.result)return t.value.map((t=>new ie(`${e.key}${t.key}`,e.value,t.message)));const n=t.value.expression||t.value._styleExpression.expression;if("property"===e.expressionContext&&"text-font"===e.propertyKey&&!n.outputDefined())return[new ie(e.key,e.value,`Invalid data expression for "${e.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===e.expressionContext&&"layout"===e.propertyType&&!vt(n))return[new ie(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===e.expressionContext&&!vt(n))return[new ie(e.key,e.value,'"feature-state" data expressions are not supported with filters.')];if(e.expressionContext&&0===e.expressionContext.indexOf("cluster")){if(!bt(n,["zoom","feature-state"]))return[new ie(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===e.expressionContext&&!yt(n))return[new ie(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Hn(e){const t=e.key,n=e.value,r=e.valueSpec,i=[];return Array.isArray(r.values)?-1===r.values.indexOf(se(n))&&i.push(new ie(t,n,`expected one of [${r.values.join(", ")}], ${JSON.stringify(n)} found`)):-1===Object.keys(r.values).indexOf(se(n))&&i.push(new ie(t,n,`expected one of [${Object.keys(r.values).join(", ")}], ${JSON.stringify(n)} found`)),i}function Wn(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&("string"!=typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(const t of e.slice(1))if(!Wn(t)&&"boolean"!=typeof t)return!1;return!0;default:return!0}}const Yn={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Qn(e){if(null==e)return{filter:()=>!0,needGeometry:!1};Wn(e)||(e=Jn(e));const t=jn(e,Yn);if("error"===t.result)throw new Error(t.value.map((e=>`${e.key}: ${e.message}`)).join(", "));return{filter:(e,n,r)=>t.value.evaluate(e,n,{},r),needGeometry:Xn(e)}}function Zn(e,t){return e<t?-1:e>t?1:0}function Xn(e){if(!Array.isArray(e))return!1;if("within"===e[0])return!0;for(let t=1;t<e.length;t++)if(Xn(e[t]))return!0;return!1}function Jn(e){if(!e)return!0;const t=e[0];return e.length<=1?"any"!==t:"=="===t?qn(e[1],e[2],"=="):"!="===t?er(qn(e[1],e[2],"==")):"<"===t||">"===t||"<="===t||">="===t?qn(e[1],e[2],t):"any"===t?(n=e.slice(1),["any"].concat(n.map(Jn))):"all"===t?["all"].concat(e.slice(1).map(Jn)):"none"===t?["all"].concat(e.slice(1).map(Jn).map(er)):"in"===t?Kn(e[1],e.slice(2)):"!in"===t?er(Kn(e[1],e.slice(2))):"has"===t?$n(e[1]):"!has"===t?er($n(e[1])):"within"!==t||e;var n}function qn(e,t,n){switch(e){case"$type":return[`filter-type-${n}`,t];case"$id":return[`filter-id-${n}`,t];default:return[`filter-${n}`,e,t]}}function Kn(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some((e=>typeof e!=typeof t[0]))?["filter-in-large",e,["literal",t.sort(Zn)]]:["filter-in-small",e,["literal",t]]}}function $n(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function er(e){return["!",e]}function tr(e){return Wn(le(e.value))?Gn(ae({},e,{expressionContext:"filter",valueSpec:{value:"boolean"}})):nr(e)}function nr(e){const t=e.value,n=e.key;if("array"!==En(t))return[new ie(n,t,`array expected, ${En(t)} found`)];const r=e.styleSpec;let i,o=[];if(t.length<1)return[new ie(n,t,"filter array must have at least 1 element")];switch(o=o.concat(Hn({key:`${n}[0]`,value:t[0],valueSpec:r.filter_operator,style:e.style,styleSpec:e.styleSpec})),se(t[0])){case"<":case"<=":case">":case">=":t.length>=2&&"$type"===se(t[1])&&o.push(new ie(n,t,`"$type" cannot be use with operator "${t[0]}"`));case"==":case"!=":3!==t.length&&o.push(new ie(n,t,`filter array for operator "${t[0]}" must have 3 elements`));case"in":case"!in":t.length>=2&&(i=En(t[1]),"string"!==i&&o.push(new ie(`${n}[1]`,t[1],`string expected, ${i} found`)));for(let a=2;a<t.length;a++)i=En(t[a]),"$type"===se(t[1])?o=o.concat(Hn({key:`${n}[${a}]`,value:t[a],valueSpec:r.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"!==i&&"number"!==i&&"boolean"!==i&&o.push(new ie(`${n}[${a}]`,t[a],`string, number, or boolean expected, ${i} found`));break;case"any":case"all":case"none":for(let r=1;r<t.length;r++)o=o.concat(nr({key:`${n}[${r}]`,value:t[r],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":i=En(t[1]),2!==t.length?o.push(new ie(n,t,`filter array for "${t[0]}" operator must have 2 elements`)):"string"!==i&&o.push(new ie(`${n}[1]`,t[1],`string expected, ${i} found`));break;case"within":i=En(t[1]),2!==t.length?o.push(new ie(n,t,`filter array for "${t[0]}" operator must have 2 elements`)):"object"!==i&&o.push(new ie(`${n}[1]`,t[1],`object expected, ${i} found`))}return o}function rr(e,t){const n=e.key,r=e.style,i=e.styleSpec,o=e.value,a=e.objectKey,s=i[`${t}_${e.layerType}`];if(!s)return[];const l=a.match(/^(.*)-transition$/);if("paint"===t&&l&&s[l[1]]&&s[l[1]].transition)return fr({key:n,value:o,valueSpec:i.transition,style:r,styleSpec:i});const c=e.valueSpec||s[a];if(!c)return[new ie(n,o,`unknown property "${a}"`)];let u;if("string"===En(o)&&bn(c)&&!c.tokens&&(u=/^{([^}]+)}$/.exec(o)))return[new ie(n,o,`"${a}" does not support interpolation syntax\nUse an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(u[1])} }\`.`)];const d=[];return"symbol"===e.layerType&&("text-field"===a&&r&&!r.glyphs&&d.push(new ie(n,o,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&_n(le(o))&&"identity"===se(o.type)&&d.push(new ie(n,o,'"text-font" does not support identity functions'))),d.concat(fr({key:e.key,value:o,valueSpec:c,style:r,styleSpec:i,expressionContext:"property",propertyType:t,propertyKey:a}))}function ir(e){return rr(e,"paint")}function or(e){return rr(e,"layout")}function ar(e){let t=[];const n=e.value,r=e.key,i=e.style,o=e.styleSpec;n.type||n.ref||t.push(new ie(r,n,'either "type" or "ref" is required'));let a=se(n.type);const s=se(n.ref);if(n.id){const o=se(n.id);for(let a=0;a<e.arrayIndex;a++){const e=i.layers[a];se(e.id)===o&&t.push(new ie(r,n.id,`duplicate layer id "${n.id}", previously used at line ${e.id.__line__}`))}}if("ref"in n){let e;["type","source","source-layer","filter","layout"].forEach((e=>{e in n&&t.push(new ie(r,n[e],`"${e}" is prohibited for ref layers`))})),i.layers.forEach((t=>{se(t.id)===s&&(e=t)})),e?e.ref?t.push(new ie(r,n.ref,"ref cannot reference another ref layer")):a=se(e.type):t.push(new ie(r,n.ref,`ref layer "${s}" not found`))}else if("background"!==a)if(n.source){const e=i.sources&&i.sources[n.source],o=e&&se(e.type);e?"vector"===o&&"raster"===a?t.push(new ie(r,n.source,`layer "${n.id}" requires a raster source`)):"raster"===o&&"raster"!==a?t.push(new ie(r,n.source,`layer "${n.id}" requires a vector source`)):"vector"!==o||n["source-layer"]?"raster-dem"===o&&"hillshade"!==a?t.push(new ie(r,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==a||!n.paint||!n.paint["line-gradient"]||"geojson"===o&&e.lineMetrics||t.push(new ie(r,n,`layer "${n.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):t.push(new ie(r,n,`layer "${n.id}" must specify a "source-layer"`)):t.push(new ie(r,n.source,`source "${n.source}" not found`))}else t.push(new ie(r,n,'missing required property "source"'));return t=t.concat(Fn({key:r,value:n,valueSpec:o.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":()=>[],type:()=>fr({key:`${r}.type`,value:n.type,valueSpec:o.layer.type,style:e.style,styleSpec:e.styleSpec,object:n,objectKey:"type"}),filter:tr,layout:e=>Fn({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":e=>or(ae({layerType:a},e))}}),paint:e=>Fn({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":e=>ir(ae({layerType:a},e))}})}})),t}function sr(e){const t=e.value,n=e.key,r=En(t);return"string"!==r?[new ie(n,t,`string expected, ${r} found`)]:[]}const lr={promoteId:function({key:e,value:t}){if("string"===En(t))return sr({key:e,value:t});{const n=[];for(const r in t)n.push(...sr({key:`${e}.${r}`,value:t[r]}));return n}}};function cr(e){const t=e.value,n=e.key,r=e.styleSpec,i=e.style;if(!t.type)return[new ie(n,t,'"type" is required')];const o=se(t.type);let a;switch(o){case"vector":case"raster":case"raster-dem":return a=Fn({key:n,value:t,valueSpec:r[`source_${o.replace("-","_")}`],style:e.style,styleSpec:r,objectElementValidators:lr}),a;case"geojson":if(a=Fn({key:n,value:t,valueSpec:r.source_geojson,style:i,styleSpec:r,objectElementValidators:lr}),t.cluster)for(const e in t.clusterProperties){const[r,i]=t.clusterProperties[e],o="string"==typeof r?[r,["accumulated"],["get",e]]:r;a.push(...Gn({key:`${n}.${e}.map`,value:i,expressionContext:"cluster-map"})),a.push(...Gn({key:`${n}.${e}.reduce`,value:o,expressionContext:"cluster-reduce"}))}return a;case"video":return Fn({key:n,value:t,valueSpec:r.source_video,style:i,styleSpec:r});case"image":return Fn({key:n,value:t,valueSpec:r.source_image,style:i,styleSpec:r});case"canvas":return[new ie(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Hn({key:`${n}.type`,value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,styleSpec:r})}}function ur(e){const t=e.value,n=e.styleSpec,r=n.light,i=e.style;let o=[];const a=En(t);if(void 0===t)return o;if("object"!==a)return o=o.concat([new ie("light",t,`object expected, ${a} found`)]),o;for(const e in t){const a=e.match(/^(.*)-transition$/);o=o.concat(a&&r[a[1]]&&r[a[1]].transition?fr({key:e,value:t[e],valueSpec:n.transition,style:i,styleSpec:n}):r[e]?fr({key:e,value:t[e],valueSpec:r[e],style:i,styleSpec:n}):[new ie(e,t[e],`unknown property "${e}"`)])}return o}const dr={"*":()=>[],array:Un,boolean:function(e){const t=e.value,n=e.key,r=En(t);return"boolean"!==r?[new ie(n,t,`boolean expected, ${r} found`)]:[]},number:zn,color:function(e){const t=e.key,n=e.value,r=En(n);return"string"!==r?[new ie(t,n,`color expected, ${r} found`)]:null===Te(n)?[new ie(t,n,`color expected, "${n}" found`)]:[]},constants:oe,enum:Hn,filter:tr,function:Vn,layer:ar,object:Fn,source:cr,light:ur,string:sr,formatted:function(e){return 0===sr(e).length?[]:Gn(e)},resolvedImage:function(e){return 0===sr(e).length?[]:Gn(e)}};function fr(e){const t=e.value,n=e.valueSpec,r=e.styleSpec;return n.expression&&_n(se(t))?Vn(e):n.expression&&Nn(le(t))?Gn(e):n.type&&dr[n.type]?dr[n.type](e):Fn(ae({},e,{valueSpec:n.type?r[n.type]:n}))}function pr(e){const t=e.value,n=e.key,r=sr(e);return r.length||(-1===t.indexOf("{fontstack}")&&r.push(new ie(n,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&r.push(new ie(n,t,'"glyphs" url must include a "{range}" token'))),r}function mr(e,t=re){let n=[];return n=n.concat(fr({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:pr,"*":()=>[]}})),e.constants&&(n=n.concat(oe({key:"constants",value:e.constants,style:e,styleSpec:t}))),hr(n)}function hr(e){return[].concat(e).sort(((e,t)=>e.line-t.line))}function gr(e){return function(...t){return hr(e.apply(this,t))}}mr.source=gr(cr),mr.light=gr(ur),mr.layer=gr(ar),mr.filter=gr(tr),mr.paintProperty=gr(ir),mr.layoutProperty=gr(or);const yr=mr,vr=yr.light,br=yr.paintProperty,wr=yr.layoutProperty;function xr(e,t){let n=!1;if(t&&t.length)for(const r of t)e.fire(new te(new Error(r.message))),n=!0;return n}class Er{constructor(e,t,n){const r=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;const i=new Int32Array(this.arrayBuffer);e=i[0],this.d=(t=i[1])+2*(n=i[2]);for(let e=0;e<this.d*this.d;e++){const t=i[3+e],n=i[3+e+1];r.push(t===n?null:i.subarray(t,n))}const o=i[3+r.length+1];this.keys=i.subarray(i[3+r.length],o),this.bboxes=i.subarray(o),this.insert=this._insertReadonly}else{this.d=t+2*n;for(let e=0;e<this.d*this.d;e++)r.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=n,this.scale=t/e,this.uid=0;const i=n/t*e;this.min=-i,this.max=e+i}insert(e,t,n,r,i){this._forEachCell(t,n,r,i,this._insertCell,this.uid++,void 0,void 0),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(e,t,n,r,i,o){this.cells[i].push(o)}query(e,t,n,r,i){const o=this.min,a=this.max;if(e<=o&&t<=o&&a<=n&&a<=r&&!i)return Array.prototype.slice.call(this.keys);{const o=[];return this._forEachCell(e,t,n,r,this._queryCell,o,{},i),o}}_queryCell(e,t,n,r,i,o,a,s){const l=this.cells[i];if(null!==l){const i=this.keys,c=this.bboxes;for(let u=0;u<l.length;u++){const d=l[u];if(void 0===a[d]){const l=4*d;(s?s(c[l+0],c[l+1],c[l+2],c[l+3]):e<=c[l+2]&&t<=c[l+3]&&n>=c[l+0]&&r>=c[l+1])?(a[d]=!0,o.push(i[d])):a[d]=!1}}}}_forEachCell(e,t,n,r,i,o,a,s){const l=this._convertToCellCoord(e),c=this._convertToCellCoord(t),u=this._convertToCellCoord(n),d=this._convertToCellCoord(r);for(let f=l;f<=u;f++)for(let l=c;l<=d;l++){const c=this.d*l+f;if((!s||s(this._convertFromCellCoord(f),this._convertFromCellCoord(l),this._convertFromCellCoord(f+1),this._convertFromCellCoord(l+1)))&&i.call(this,e,t,n,r,c,o,a,s))return}}_convertFromCellCoord(e){return(e-this.padding)/this.scale}_convertToCellCoord(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const e=this.cells,t=3+this.cells.length+1+1;let n=0;for(let e=0;e<this.cells.length;e++)n+=this.cells[e].length;const r=new Int32Array(t+n+this.keys.length+this.bboxes.length);r[0]=this.extent,r[1]=this.n,r[2]=this.padding;let i=t;for(let t=0;t<e.length;t++){const n=e[t];r[3+t]=i,r.set(n,i),i+=n.length}return r[3+e.length]=i,r.set(this.keys,i),i+=this.keys.length,r[3+e.length+1]=i,r.set(this.bboxes,i),i+=this.bboxes.length,r.buffer}static serialize(e,t){const n=e.toArrayBuffer();return t&&t.push(n),{buffer:n}}static deserialize(e){return new Er(e.buffer)}}const _r={};function Ar(e,t,n={}){Object.defineProperty(t,"_classRegistryKey",{value:e,writeable:!1}),_r[e]={klass:t,omit:n.omit||[],shallow:n.shallow||[]}}Ar("Object",Object),Ar("TransferableGridIndex",Er),Ar("Color",je),Ar("Error",Error),Ar("AJAXError",V),Ar("ResolvedImage",Pe),Ar("StylePropertyFunction",Pn),Ar("StyleExpression",Mn,{omit:["_evaluator"]}),Ar("ZoomDependentExpression",Rn),Ar("ZoomConstantExpression",Ln),Ar("CompoundExpression",Ke,{omit:["_evaluate"]});for(const e in fn)fn[e]._classRegistryKey||Ar(`Expression_${e}`,fn[e]);function Or(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}function Sr(e,t){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||e instanceof Blob)return e;if(Or(e))return t&&t.push(e),e;if(_(e))return t&&t.push(e),e;if(ArrayBuffer.isView(e)){const n=e;return t&&t.push(n.buffer),n}if(e instanceof ImageData)return t&&t.push(e.data.buffer),e;if(Array.isArray(e)){const n=[];for(const r of e)n.push(Sr(r,t));return n}if("object"==typeof e){const n=e.constructor,r=n._classRegistryKey;if(!r)throw new Error("can't serialize object of unregistered class");const i=n.serialize?n.serialize(e,t):{};if(!n.serialize){for(const n in e){if(!e.hasOwnProperty(n))continue;if(_r[r].omit.indexOf(n)>=0)continue;const o=e[n];i[n]=_r[r].shallow.indexOf(n)>=0?o:Sr(o,t)}e instanceof Error&&(i.message=e.message)}if(i.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==r&&(i.$name=r),i}throw new Error("can't serialize object of type "+typeof e)}function Tr(e){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||e instanceof Blob||Or(e)||_(e)||ArrayBuffer.isView(e)||e instanceof ImageData)return e;if(Array.isArray(e))return e.map(Tr);if("object"==typeof e){const t=e.$name||"Object";if(!_r[t])throw new Error(`can't deserialize unregistered class ${t}`);const{klass:n}=_r[t];if(!n)throw new Error(`can't deserialize unregistered class ${t}`);if(n.deserialize)return n.deserialize(e);const r=Object.create(n.prototype);for(const n of Object.keys(e)){if("$name"===n)continue;const i=e[n];r[n]=_r[t].shallow.indexOf(n)>=0?i:Tr(i)}return r}throw new Error("can't deserialize object of type "+typeof e)}class Ir{constructor(){this.first=!0}update(e,t){const n=Math.floor(e);return this.first?(this.first=!1,this.lastIntegerZoom=n,this.lastIntegerZoomTime=0,this.lastZoom=e,this.lastFloorZoom=n,!0):(this.lastFloorZoom>n?(this.lastIntegerZoom=n+1,this.lastIntegerZoomTime=t):this.lastFloorZoom<n&&(this.lastIntegerZoom=n,this.lastIntegerZoomTime=t),e!==this.lastZoom&&(this.lastZoom=e,this.lastFloorZoom=n,!0))}}const kr={"Latin-1 Supplement":e=>e>=128&&e<=255,Arabic:e=>e>=1536&&e<=1791,"Arabic Supplement":e=>e>=1872&&e<=1919,"Arabic Extended-A":e=>e>=2208&&e<=2303,"Hangul Jamo":e=>e>=4352&&e<=4607,"Unified Canadian Aboriginal Syllabics":e=>e>=5120&&e<=5759,Khmer:e=>e>=6016&&e<=6143,"Unified Canadian Aboriginal Syllabics Extended":e=>e>=6320&&e<=6399,"General Punctuation":e=>e>=8192&&e<=8303,"Letterlike Symbols":e=>e>=8448&&e<=8527,"Number Forms":e=>e>=8528&&e<=8591,"Miscellaneous Technical":e=>e>=8960&&e<=9215,"Control Pictures":e=>e>=9216&&e<=9279,"Optical Character Recognition":e=>e>=9280&&e<=9311,"Enclosed Alphanumerics":e=>e>=9312&&e<=9471,"Geometric Shapes":e=>e>=9632&&e<=9727,"Miscellaneous Symbols":e=>e>=9728&&e<=9983,"Miscellaneous Symbols and Arrows":e=>e>=11008&&e<=11263,"CJK Radicals Supplement":e=>e>=11904&&e<=12031,"Kangxi Radicals":e=>e>=12032&&e<=12255,"Ideographic Description Characters":e=>e>=12272&&e<=12287,"CJK Symbols and Punctuation":e=>e>=12288&&e<=12351,Hiragana:e=>e>=12352&&e<=12447,Katakana:e=>e>=12448&&e<=12543,Bopomofo:e=>e>=12544&&e<=12591,"Hangul Compatibility Jamo":e=>e>=12592&&e<=12687,Kanbun:e=>e>=12688&&e<=12703,"Bopomofo Extended":e=>e>=12704&&e<=12735,"CJK Strokes":e=>e>=12736&&e<=12783,"Katakana Phonetic Extensions":e=>e>=12784&&e<=12799,"Enclosed CJK Letters and Months":e=>e>=12800&&e<=13055,"CJK Compatibility":e=>e>=13056&&e<=13311,"CJK Unified Ideographs Extension A":e=>e>=13312&&e<=19903,"Yijing Hexagram Symbols":e=>e>=19904&&e<=19967,"CJK Unified Ideographs":e=>e>=19968&&e<=40959,"Yi Syllables":e=>e>=40960&&e<=42127,"Yi Radicals":e=>e>=42128&&e<=42191,"Hangul Jamo Extended-A":e=>e>=43360&&e<=43391,"Hangul Syllables":e=>e>=44032&&e<=55215,"Hangul Jamo Extended-B":e=>e>=55216&&e<=55295,"Private Use Area":e=>e>=57344&&e<=63743,"CJK Compatibility Ideographs":e=>e>=63744&&e<=64255,"Arabic Presentation Forms-A":e=>e>=64336&&e<=65023,"Vertical Forms":e=>e>=65040&&e<=65055,"CJK Compatibility Forms":e=>e>=65072&&e<=65103,"Small Form Variants":e=>e>=65104&&e<=65135,"Arabic Presentation Forms-B":e=>e>=65136&&e<=65279,"Halfwidth and Fullwidth Forms":e=>e>=65280&&e<=65519};function Cr(e){for(const t of e)if(jr(t.charCodeAt(0)))return!0;return!1}function Mr(e){for(const t of e)if(!Nr(t.charCodeAt(0)))return!1;return!0}function Nr(e){return!(kr.Arabic(e)||kr["Arabic Supplement"](e)||kr["Arabic Extended-A"](e)||kr["Arabic Presentation Forms-A"](e)||kr["Arabic Presentation Forms-B"](e))}function jr(e){return!(746!==e&&747!==e&&(e<4352||!(kr["Bopomofo Extended"](e)||kr.Bopomofo(e)||kr["CJK Compatibility Forms"](e)&&!(e>=65097&&e<=65103)||kr["CJK Compatibility Ideographs"](e)||kr["CJK Compatibility"](e)||kr["CJK Radicals Supplement"](e)||kr["CJK Strokes"](e)||!(!kr["CJK Symbols and Punctuation"](e)||e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||kr["CJK Unified Ideographs Extension A"](e)||kr["CJK Unified Ideographs"](e)||kr["Enclosed CJK Letters and Months"](e)||kr["Hangul Compatibility Jamo"](e)||kr["Hangul Jamo Extended-A"](e)||kr["Hangul Jamo Extended-B"](e)||kr["Hangul Jamo"](e)||kr["Hangul Syllables"](e)||kr.Hiragana(e)||kr["Ideographic Description Characters"](e)||kr.Kanbun(e)||kr["Kangxi Radicals"](e)||kr["Katakana Phonetic Extensions"](e)||kr.Katakana(e)&&12540!==e||!(!kr["Halfwidth and Fullwidth Forms"](e)||65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||!(!kr["Small Form Variants"](e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||kr["Unified Canadian Aboriginal Syllabics"](e)||kr["Unified Canadian Aboriginal Syllabics Extended"](e)||kr["Vertical Forms"](e)||kr["Yijing Hexagram Symbols"](e)||kr["Yi Syllables"](e)||kr["Yi Radicals"](e))))}function Lr(e){return!(jr(e)||function(e){return!!(kr["Latin-1 Supplement"](e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||kr["General Punctuation"](e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||kr["Letterlike Symbols"](e)||kr["Number Forms"](e)||kr["Miscellaneous Technical"](e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215)||kr["Control Pictures"](e)&&9251!==e||kr["Optical Character Recognition"](e)||kr["Enclosed Alphanumerics"](e)||kr["Geometric Shapes"](e)||kr["Miscellaneous Symbols"](e)&&!(e>=9754&&e<=9759)||kr["Miscellaneous Symbols and Arrows"](e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||kr["CJK Symbols and Punctuation"](e)||kr.Katakana(e)||kr["Private Use Area"](e)||kr["CJK Compatibility Forms"](e)||kr["Small Form Variants"](e)||kr["Halfwidth and Fullwidth Forms"](e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e)}(e))}function Rr(e){return e>=1424&&e<=2303||kr["Arabic Presentation Forms-A"](e)||kr["Arabic Presentation Forms-B"](e)}function Dr(e,t){return!(!t&&Rr(e)||e>=2304&&e<=3583||e>=3840&&e<=4255||kr.Khmer(e))}function Pr(e){for(const t of e)if(Rr(t.charCodeAt(0)))return!0;return!1}const Br="deferred",Fr="loading",Ur="loaded";let zr=null,Vr="unavailable",Gr=null;const Hr=function(e){e&&"string"==typeof e&&e.indexOf("NetworkError")>-1&&(Vr="error"),zr&&zr(e)};function Wr(){Yr.fire(new ee("pluginStateChange",{pluginStatus:Vr,pluginURL:Gr}))}const Yr=new ne,Qr=function(){return Vr},Zr=function(){if(Vr!==Br||!Gr)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Vr=Fr,Wr(),Gr&&Y({url:Gr},(e=>{e?Hr(e):(Vr=Ur,Wr())}))},Xr={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>Vr===Ur||null!=Xr.applyArabicShaping,isLoading:()=>Vr===Fr,setState(e){Vr=e.pluginStatus,Gr=e.pluginURL},isParsed:()=>null!=Xr.applyArabicShaping&&null!=Xr.processBidirectionalText&&null!=Xr.processStyledBidirectionalText,getPluginURL:()=>Gr};class Jr{constructor(e,t){this.zoom=e,t?(this.now=t.now,this.fadeDuration=t.fadeDuration,this.zoomHistory=t.zoomHistory,this.transition=t.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Ir,this.transition={})}isSupportedScript(e){return function(e,t){for(const n of e)if(!Dr(n.charCodeAt(0),t))return!1;return!0}(e,Xr.isLoaded())}crossFadingFactor(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const e=this.zoom,t=e-Math.floor(e),n=this.crossFadingFactor();return e>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:t+(1-t)*n}:{fromScale:.5,toScale:1,t:1-(1-n)*t}}}class qr{constructor(e,t){this.property=e,this.value=t,this.expression=function(e,t){if(_n(e))return new Pn(e,t);if(Nn(e)){const n=Dn(e,t);if("error"===n.result)throw new Error(n.value.map((e=>`${e.key}: ${e.message}`)).join(", "));return n.value}{let n=e;return"string"==typeof e&&"color"===t.type&&(n=je.parse(e)),{kind:"constant",evaluate:()=>n}}}(void 0===t?e.specification.default:t,e.specification)}isDataDriven(){return"source"===this.expression.kind||"composite"===this.expression.kind}possiblyEvaluate(e,t,n){return this.property.possiblyEvaluate(this,e,t,n)}}class Kr{constructor(e){this.property=e,this.value=new qr(e,void 0)}transitioned(e,t){return new ei(this.property,this.value,t,s({},e.transition,this.transition),e.now)}untransitioned(){return new ei(this.property,this.value,null,{},0)}}class $r{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)}getValue(e){return f(this._values[e].value.value)}setValue(e,t){Object.prototype.hasOwnProperty.call(this._values,e)||(this._values[e]=new Kr(this._values[e].property)),this._values[e].value=new qr(this._values[e].property,null===t?void 0:f(t))}getTransition(e){return f(this._values[e].transition)}setTransition(e,t){Object.prototype.hasOwnProperty.call(this._values,e)||(this._values[e]=new Kr(this._values[e].property)),this._values[e].transition=f(t)||void 0}serialize(){const e={};for(const t of Object.keys(this._values)){const n=this.getValue(t);void 0!==n&&(e[t]=n);const r=this.getTransition(t);void 0!==r&&(e[`${t}-transition`]=r)}return e}transitioned(e,t){const n=new ti(this._properties);for(const r of Object.keys(this._values))n._values[r]=this._values[r].transitioned(e,t._values[r]);return n}untransitioned(){const e=new ti(this._properties);for(const t of Object.keys(this._values))e._values[t]=this._values[t].untransitioned();return e}}class ei{constructor(e,t,n,r,i){this.property=e,this.value=t,this.begin=i+r.delay||0,this.end=this.begin+r.duration||0,e.specification.transition&&(r.delay||r.duration)&&(this.prior=n)}possiblyEvaluate(e,t,n){const r=e.now||0,i=this.value.possiblyEvaluate(e,t,n),o=this.prior;if(o){if(r>this.end)return this.prior=null,i;if(this.value.isDataDriven())return this.prior=null,i;if(r<this.begin)return o.possiblyEvaluate(e,t,n);{const a=(r-this.begin)/(this.end-this.begin);return this.property.interpolate(o.possiblyEvaluate(e,t,n),i,function(e){if(e<=0)return 0;if(e>=1)return 1;const t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}(a))}}return i}}class ti{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)}possiblyEvaluate(e,t,n){const r=new ii(this._properties);for(const i of Object.keys(this._values))r._values[i]=this._values[i].possiblyEvaluate(e,t,n);return r}hasTransition(){for(const e of Object.keys(this._values))if(this._values[e].prior)return!0;return!1}}class ni{constructor(e){this._properties=e,this._values=Object.create(e.defaultPropertyValues)}getValue(e){return f(this._values[e].value)}setValue(e,t){this._values[e]=new qr(this._values[e].property,null===t?void 0:f(t))}serialize(){const e={};for(const t of Object.keys(this._values)){const n=this.getValue(t);void 0!==n&&(e[t]=n)}return e}possiblyEvaluate(e,t,n){const r=new ii(this._properties);for(const i of Object.keys(this._values))r._values[i]=this._values[i].possiblyEvaluate(e,t,n);return r}}class ri{constructor(e,t,n){this.property=e,this.value=t,this.parameters=n}isConstant(){return"constant"===this.value.kind}constantOr(e){return"constant"===this.value.kind?this.value.value:e}evaluate(e,t,n,r){return this.property.evaluate(this.value,this.parameters,e,t,n,r)}}class ii{constructor(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)}get(e){return this._values[e]}}class oi{constructor(e){this.specification=e}possiblyEvaluate(e,t){return e.expression.evaluate(t)}interpolate(e,t,n){const r=St[this.specification.type];return r?r(e,t,n):e}}class ai{constructor(e,t){this.specification=e,this.overrides=t}possiblyEvaluate(e,t,n,r){return new ri(this,"constant"===e.expression.kind||"camera"===e.expression.kind?{kind:"constant",value:e.expression.evaluate(t,null,{},n,r)}:e.expression,t)}interpolate(e,t,n){if("constant"!==e.value.kind||"constant"!==t.value.kind)return e;if(void 0===e.value.value||void 0===t.value.value)return new ri(this,{kind:"constant",value:void 0},e.parameters);const r=St[this.specification.type];return r?new ri(this,{kind:"constant",value:r(e.value.value,t.value.value,n)},e.parameters):e}evaluate(e,t,n,r,i,o){return"constant"===e.kind?e.value:e.evaluate(t,n,r,i,o)}}class si extends ai{possiblyEvaluate(e,t,n,r){if(void 0===e.value)return new ri(this,{kind:"constant",value:void 0},t);if("constant"===e.expression.kind){const i=e.expression.evaluate(t,null,{},n,r),o="resolvedImage"===e.property.specification.type&&"string"!=typeof i?i.name:i,a=this._calculate(o,o,o,t);return new ri(this,{kind:"constant",value:a},t)}if("camera"===e.expression.kind){const n=this._calculate(e.expression.evaluate({zoom:t.zoom-1}),e.expression.evaluate({zoom:t.zoom}),e.expression.evaluate({zoom:t.zoom+1}),t);return new ri(this,{kind:"constant",value:n},t)}return new ri(this,e.expression,t)}evaluate(e,t,n,r,i,o){if("source"===e.kind){const a=e.evaluate(t,n,r,i,o);return this._calculate(a,a,a,t)}return"composite"===e.kind?this._calculate(e.evaluate({zoom:Math.floor(t.zoom)-1},n,r),e.evaluate({zoom:Math.floor(t.zoom)},n,r),e.evaluate({zoom:Math.floor(t.zoom)+1},n,r),t):e.value}_calculate(e,t,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:n,to:t}}interpolate(e){return e}}class li{constructor(e){this.specification=e}possiblyEvaluate(e,t,n,r){if(void 0!==e.value){if("constant"===e.expression.kind){const i=e.expression.evaluate(t,null,{},n,r);return this._calculate(i,i,i,t)}return this._calculate(e.expression.evaluate(new Jr(Math.floor(t.zoom-1),t)),e.expression.evaluate(new Jr(Math.floor(t.zoom),t)),e.expression.evaluate(new Jr(Math.floor(t.zoom+1),t)),t)}}_calculate(e,t,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:n,to:t}}interpolate(e){return e}}class ci{constructor(e){this.specification=e}possiblyEvaluate(e,t,n,r){return!!e.expression.evaluate(t,null,{},n,r)}interpolate(){return!1}}class ui{constructor(e){this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const t in e){const n=e[t];n.specification.overridable&&this.overridableProperties.push(t);const r=this.defaultPropertyValues[t]=new qr(n,void 0),i=this.defaultTransitionablePropertyValues[t]=new Kr(n);this.defaultTransitioningPropertyValues[t]=i.untransitioned(),this.defaultPossiblyEvaluatedValues[t]=r.possiblyEvaluate({})}}}Ar("DataDrivenProperty",ai),Ar("DataConstantProperty",oi),Ar("CrossFadedDataDrivenProperty",si),Ar("CrossFadedProperty",li),Ar("ColorRampProperty",ci);const di="-transition";class fi extends ne{constructor(e,t){if(super(),this.id=e.id,this.type=e.type,this._featureFilter={filter:()=>!0,needGeometry:!1},"custom"!==e.type&&(this.metadata=(e=e).metadata,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,"background"!==e.type&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),t.layout&&(this._unevaluatedLayout=new ni(t.layout)),t.paint)){this._transitionablePaint=new $r(t.paint);for(const t in e.paint)this.setPaintProperty(t,e.paint[t],{validate:!1});for(const t in e.layout)this.setLayoutProperty(t,e.layout[t],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new ii(t.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(e){return"visibility"===e?this.visibility:this._unevaluatedLayout.getValue(e)}setLayoutProperty(e,t,n={}){null!=t&&this._validate(wr,`layers.${this.id}.layout.${e}`,e,t,n)||("visibility"!==e?this._unevaluatedLayout.setValue(e,t):this.visibility=t)}getPaintProperty(e){return e.endsWith(di)?this._transitionablePaint.getTransition(e.slice(0,-di.length)):this._transitionablePaint.getValue(e)}setPaintProperty(e,t,n={}){if(null!=t&&this._validate(br,`layers.${this.id}.paint.${e}`,e,t,n))return!1;if(e.endsWith(di))return this._transitionablePaint.setTransition(e.slice(0,-di.length),t||void 0),!1;{const n=this._transitionablePaint._values[e],r="cross-faded-data-driven"===n.property.specification["property-type"],i=n.value.isDataDriven(),o=n.value;this._transitionablePaint.setValue(e,t),this._handleSpecialPaintPropertyUpdate(e);const a=this._transitionablePaint._values[e].value;return a.isDataDriven()||i||r||this._handleOverridablePaintPropertyUpdate(e,o,a)}}_handleSpecialPaintPropertyUpdate(e){}_handleOverridablePaintPropertyUpdate(e,t,n){return!1}isHidden(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.visibility}updateTransitions(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(e,t){e.getCrossfadeParameters&&(this._crossfadeParameters=e.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,void 0,t)),this.paint=this._transitioningPaint.possiblyEvaluate(e,void 0,t)}serialize(){const e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),d(e,((e,t)=>!(void 0===e||"layout"===t&&!Object.keys(e).length||"paint"===t&&!Object.keys(e).length)))}_validate(e,t,n,r,i={}){return(!i||!1!==i.validate)&&xr(this,e.call(yr,{key:t,layerType:this.type,objectKey:n,value:r,styleSpec:re,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const e in this.paint._values){const t=this.paint.get(e);if(t instanceof ri&&bn(t.property.specification)&&("source"===t.value.kind||"composite"===t.value.kind)&&t.value.isStateDependent)return!0}return!1}}const pi={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class mi{constructor(e,t){this._structArray=e,this._pos1=t*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class hi{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(e,t){return e._trim(),t&&(e.isTransferred=!0,t.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}}static deserialize(e){const t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(e){this.reserve(e),this.length=e}reserve(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function gi(e,t=1){let n=0,r=0;return{members:e.map((e=>{const i=pi[e.type].BYTES_PER_ELEMENT,o=n=yi(n,Math.max(t,i)),a=e.components||1;return r=Math.max(r,i),n+=i*a,{name:e.name,type:e.type,components:a,offset:o}})),size:yi(n,Math.max(r,t)),alignment:t}}function yi(e,t){return Math.ceil(e/t)*t}class vi extends hi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t){const n=this.length;return this.resize(n+1),this.emplace(n,e,t)}emplace(e,t,n){const r=2*e;return this.int16[r+0]=t,this.int16[r+1]=n,e}}vi.prototype.bytesPerElement=4,Ar("StructArrayLayout2i4",vi);class bi extends hi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,r){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)}emplace(e,t,n,r,i){const o=4*e;return this.int16[o+0]=t,this.int16[o+1]=n,this.int16[o+2]=r,this.int16[o+3]=i,e}}bi.prototype.bytesPerElement=8,Ar("StructArrayLayout4i8",bi);class wi extends hi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,r,i,o){const a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,r,i,o)}emplace(e,t,n,r,i,o,a){const s=6*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=o,this.int16[s+5]=a,e}}wi.prototype.bytesPerElement=12,Ar("StructArrayLayout2i4i12",wi);class xi extends hi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,r,i,o){const a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,r,i,o)}emplace(e,t,n,r,i,o,a){const s=4*e,l=8*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.uint8[l+4]=r,this.uint8[l+5]=i,this.uint8[l+6]=o,this.uint8[l+7]=a,e}}xi.prototype.bytesPerElement=8,Ar("StructArrayLayout2i4ub8",xi);class Ei extends hi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t){const n=this.length;return this.resize(n+1),this.emplace(n,e,t)}emplace(e,t,n){const r=2*e;return this.float32[r+0]=t,this.float32[r+1]=n,e}}Ei.prototype.bytesPerElement=8,Ar("StructArrayLayout2f8",Ei);class _i extends hi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n,r,i,o,a,s,l,c){const u=this.length;return this.resize(u+1),this.emplace(u,e,t,n,r,i,o,a,s,l,c)}emplace(e,t,n,r,i,o,a,s,l,c,u){const d=10*e;return this.uint16[d+0]=t,this.uint16[d+1]=n,this.uint16[d+2]=r,this.uint16[d+3]=i,this.uint16[d+4]=o,this.uint16[d+5]=a,this.uint16[d+6]=s,this.uint16[d+7]=l,this.uint16[d+8]=c,this.uint16[d+9]=u,e}}_i.prototype.bytesPerElement=20,Ar("StructArrayLayout10ui20",_i);class Ai extends hi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n,r,i,o,a,s,l,c,u,d){const f=this.length;return this.resize(f+1),this.emplace(f,e,t,n,r,i,o,a,s,l,c,u,d)}emplace(e,t,n,r,i,o,a,s,l,c,u,d,f){const p=12*e;return this.int16[p+0]=t,this.int16[p+1]=n,this.int16[p+2]=r,this.int16[p+3]=i,this.uint16[p+4]=o,this.uint16[p+5]=a,this.uint16[p+6]=s,this.uint16[p+7]=l,this.int16[p+8]=c,this.int16[p+9]=u,this.int16[p+10]=d,this.int16[p+11]=f,e}}Ai.prototype.bytesPerElement=24,Ar("StructArrayLayout4i4ui4i24",Ai);class Oi extends hi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)}emplace(e,t,n,r){const i=3*e;return this.float32[i+0]=t,this.float32[i+1]=n,this.float32[i+2]=r,e}}Oi.prototype.bytesPerElement=12,Ar("StructArrayLayout3f12",Oi);class Si extends hi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.uint32[1*e+0]=t,e}}Si.prototype.bytesPerElement=4,Ar("StructArrayLayout1ul4",Si);class Ti extends hi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n,r,i,o,a,s,l){const c=this.length;return this.resize(c+1),this.emplace(c,e,t,n,r,i,o,a,s,l)}emplace(e,t,n,r,i,o,a,s,l,c){const u=10*e,d=5*e;return this.int16[u+0]=t,this.int16[u+1]=n,this.int16[u+2]=r,this.int16[u+3]=i,this.int16[u+4]=o,this.int16[u+5]=a,this.uint32[d+3]=s,this.uint16[u+8]=l,this.uint16[u+9]=c,e}}Ti.prototype.bytesPerElement=20,Ar("StructArrayLayout6i1ul2ui20",Ti);class Ii extends hi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,r,i,o){const a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,r,i,o)}emplace(e,t,n,r,i,o,a){const s=6*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=o,this.int16[s+5]=a,e}}Ii.prototype.bytesPerElement=12,Ar("StructArrayLayout2i2i2i12",Ii);class ki extends hi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,r,i){const o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,r,i)}emplace(e,t,n,r,i,o){const a=4*e,s=8*e;return this.float32[a+0]=t,this.float32[a+1]=n,this.float32[a+2]=r,this.int16[s+6]=i,this.int16[s+7]=o,e}}ki.prototype.bytesPerElement=16,Ar("StructArrayLayout2f1f2i16",ki);class Ci extends hi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,r){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)}emplace(e,t,n,r,i){const o=12*e,a=3*e;return this.uint8[o+0]=t,this.uint8[o+1]=n,this.float32[a+1]=r,this.float32[a+2]=i,e}}Ci.prototype.bytesPerElement=12,Ar("StructArrayLayout2ub2f12",Ci);class Mi extends hi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)}emplace(e,t,n,r){const i=3*e;return this.uint16[i+0]=t,this.uint16[i+1]=n,this.uint16[i+2]=r,e}}Mi.prototype.bytesPerElement=6,Ar("StructArrayLayout3ui6",Mi);class Ni extends hi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,r,i,o,a,s,l,c,u,d,f,p,m,h,g){const y=this.length;return this.resize(y+1),this.emplace(y,e,t,n,r,i,o,a,s,l,c,u,d,f,p,m,h,g)}emplace(e,t,n,r,i,o,a,s,l,c,u,d,f,p,m,h,g,y){const v=24*e,b=12*e,w=48*e;return this.int16[v+0]=t,this.int16[v+1]=n,this.uint16[v+2]=r,this.uint16[v+3]=i,this.uint32[b+2]=o,this.uint32[b+3]=a,this.uint32[b+4]=s,this.uint16[v+10]=l,this.uint16[v+11]=c,this.uint16[v+12]=u,this.float32[b+7]=d,this.float32[b+8]=f,this.uint8[w+36]=p,this.uint8[w+37]=m,this.uint8[w+38]=h,this.uint32[b+10]=g,this.int16[v+22]=y,e}}Ni.prototype.bytesPerElement=48,Ar("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Ni);class ji extends hi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,r,i,o,a,s,l,c,u,d,f,p,m,h,g,y,v,b,w,x,E,_,A,O,S,T){const I=this.length;return this.resize(I+1),this.emplace(I,e,t,n,r,i,o,a,s,l,c,u,d,f,p,m,h,g,y,v,b,w,x,E,_,A,O,S,T)}emplace(e,t,n,r,i,o,a,s,l,c,u,d,f,p,m,h,g,y,v,b,w,x,E,_,A,O,S,T,I){const k=34*e,C=17*e;return this.int16[k+0]=t,this.int16[k+1]=n,this.int16[k+2]=r,this.int16[k+3]=i,this.int16[k+4]=o,this.int16[k+5]=a,this.int16[k+6]=s,this.int16[k+7]=l,this.uint16[k+8]=c,this.uint16[k+9]=u,this.uint16[k+10]=d,this.uint16[k+11]=f,this.uint16[k+12]=p,this.uint16[k+13]=m,this.uint16[k+14]=h,this.uint16[k+15]=g,this.uint16[k+16]=y,this.uint16[k+17]=v,this.uint16[k+18]=b,this.uint16[k+19]=w,this.uint16[k+20]=x,this.uint16[k+21]=E,this.uint16[k+22]=_,this.uint32[C+12]=A,this.float32[C+13]=O,this.float32[C+14]=S,this.float32[C+15]=T,this.float32[C+16]=I,e}}ji.prototype.bytesPerElement=68,Ar("StructArrayLayout8i15ui1ul4f68",ji);class Li extends hi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.float32[1*e+0]=t,e}}Li.prototype.bytesPerElement=4,Ar("StructArrayLayout1f4",Li);class Ri extends hi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)}emplace(e,t,n,r){const i=3*e;return this.int16[i+0]=t,this.int16[i+1]=n,this.int16[i+2]=r,e}}Ri.prototype.bytesPerElement=6,Ar("StructArrayLayout3i6",Ri);class Di extends hi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)}emplace(e,t,n,r){const i=4*e;return this.uint32[2*e+0]=t,this.uint16[i+2]=n,this.uint16[i+3]=r,e}}Di.prototype.bytesPerElement=8,Ar("StructArrayLayout1ul2ui8",Di);class Pi extends hi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t){const n=this.length;return this.resize(n+1),this.emplace(n,e,t)}emplace(e,t,n){const r=2*e;return this.uint16[r+0]=t,this.uint16[r+1]=n,e}}Pi.prototype.bytesPerElement=4,Ar("StructArrayLayout2ui4",Pi);class Bi extends hi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.uint16[1*e+0]=t,e}}Bi.prototype.bytesPerElement=2,Ar("StructArrayLayout1ui2",Bi);class Fi extends hi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,r){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)}emplace(e,t,n,r,i){const o=4*e;return this.float32[o+0]=t,this.float32[o+1]=n,this.float32[o+2]=r,this.float32[o+3]=i,e}}Fi.prototype.bytesPerElement=16,Ar("StructArrayLayout4f16",Fi);class Ui extends mi{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new O(this.anchorPointX,this.anchorPointY)}}Ui.prototype.size=20;class zi extends Ti{get(e){return new Ui(this,e)}}Ar("CollisionBoxArray",zi);class Vi extends mi{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(e){this._structArray.uint8[this._pos1+37]=e}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(e){this._structArray.uint8[this._pos1+38]=e}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(e){this._structArray.uint32[this._pos4+10]=e}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}Vi.prototype.size=48;class Gi extends Ni{get(e){return new Vi(this,e)}}Ar("PlacedSymbolArray",Gi);class Hi extends mi{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(e){this._structArray.uint32[this._pos4+12]=e}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get textOffset0(){return this._structArray.float32[this._pos4+14]}get textOffset1(){return this._structArray.float32[this._pos4+15]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+16]}}Hi.prototype.size=68;class Wi extends ji{get(e){return new Hi(this,e)}}Ar("SymbolInstanceArray",Wi);class Yi extends Li{getoffsetX(e){return this.float32[1*e+0]}}Ar("GlyphOffsetArray",Yi);class Qi extends Ri{getx(e){return this.int16[3*e+0]}gety(e){return this.int16[3*e+1]}gettileUnitDistanceFromAnchor(e){return this.int16[3*e+2]}}Ar("SymbolLineVertexArray",Qi);class Zi extends mi{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}Zi.prototype.size=8;class Xi extends Di{get(e){return new Zi(this,e)}}Ar("FeatureIndexArray",Xi);class Ji extends vi{}class qi extends vi{}class Ki extends wi{}class $i extends xi{}class eo extends Ei{}class to extends _i{}class no extends Ai{}class ro extends Oi{}class io extends Si{}class oo extends Ii{}class ao extends Ci{}class so extends Mi{}class lo extends Pi{}const co=gi([{name:"a_pos",components:2,type:"Int16"}],4),{members:uo}=co;class fo{constructor(e=[]){this.segments=e}prepareSegment(e,t,n,r){let i=this.segments[this.segments.length-1];return e>fo.MAX_VERTEX_ARRAY_LENGTH&&m(`Max vertices per segment is ${fo.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${e}`),(!i||i.vertexLength+e>fo.MAX_VERTEX_ARRAY_LENGTH||i.sortKey!==r)&&(i={vertexOffset:t.length,primitiveOffset:n.length,vertexLength:0,primitiveLength:0},void 0!==r&&(i.sortKey=r),this.segments.push(i)),i}get(){return this.segments}destroy(){for(const e of this.segments)for(const t in e.vaos)e.vaos[t].destroy()}static simpleSegment(e,t,n,r){return new fo([{vertexOffset:e,primitiveOffset:t,vertexLength:n,primitiveLength:r,vaos:{},sortKey:0}])}}function po(e,t){return 256*(e=o(Math.floor(e),0,255))+o(Math.floor(t),0,255)}fo.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Ar("SegmentVector",fo);const mo=gi([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var ho={exports:{}},go={exports:{}};go.exports=function(e,t){var n,r,i,o,a,s,l,c;for(r=e.length-(n=3&e.length),i=t,a=3432918353,s=461845907,c=0;c<r;)l=255&e.charCodeAt(c)|(255&e.charCodeAt(++c))<<8|(255&e.charCodeAt(++c))<<16|(255&e.charCodeAt(++c))<<24,++c,i=27492+(65535&(o=5*(65535&(i=(i^=l=(65535&(l=(l=(65535&l)*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(l=0,n){case 3:l^=(255&e.charCodeAt(c+2))<<16;case 2:l^=(255&e.charCodeAt(c+1))<<8;case 1:i^=l=(65535&(l=(l=(65535&(l^=255&e.charCodeAt(c)))*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295}return i^=e.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0};var yo={exports:{}};yo.exports=function(e,t){for(var n,r=e.length,i=t^r,o=0;r>=4;)n=1540483477*(65535&(n=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(n>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++o;switch(r){case 3:i^=(255&e.charCodeAt(o+2))<<16;case 2:i^=(255&e.charCodeAt(o+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(o)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0};var vo=go.exports,bo=yo.exports;ho.exports=vo,ho.exports.murmur3=vo,ho.exports.murmur2=bo;var wo=ho.exports;class xo{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(e,t,n,r){this.ids.push(Eo(e)),this.positions.push(t,n,r)}getPositions(e){const t=Eo(e);let n=0,r=this.ids.length-1;for(;n<r;){const e=n+r>>1;this.ids[e]>=t?r=e:n=e+1}const i=[];for(;this.ids[n]===t;)i.push({index:this.positions[3*n],start:this.positions[3*n+1],end:this.positions[3*n+2]}),n++;return i}static serialize(e,t){const n=new Float64Array(e.ids),r=new Uint32Array(e.positions);return _o(n,r,0,n.length-1),t&&t.push(n.buffer,r.buffer),{ids:n,positions:r}}static deserialize(e){const t=new xo;return t.ids=e.ids,t.positions=e.positions,t.indexed=!0,t}}function Eo(e){const t=+e;return!isNaN(t)&&t<=Number.MAX_SAFE_INTEGER?t:wo(String(e))}function _o(e,t,n,r){for(;n<r;){const i=e[n+r>>1];let o=n-1,a=r+1;for(;;){do{o++}while(e[o]<i);do{a--}while(e[a]>i);if(o>=a)break;Ao(e,o,a),Ao(t,3*o,3*a),Ao(t,3*o+1,3*a+1),Ao(t,3*o+2,3*a+2)}a-n<r-a?(_o(e,t,n,a),n=a+1):(_o(e,t,a+1,r),r=a)}}function Ao(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}Ar("FeaturePositionMap",xo);class Oo{constructor(e,t){this.gl=e.gl,this.location=t}}class So extends Oo{constructor(e,t){super(e,t),this.current=0}set(e){this.current!==e&&(this.current=e,this.gl.uniform1f(this.location,e))}}class To extends Oo{constructor(e,t){super(e,t),this.current=[0,0,0,0]}set(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]&&e[3]===this.current[3]||(this.current=e,this.gl.uniform4f(this.location,e[0],e[1],e[2],e[3]))}}class Io extends Oo{constructor(e,t){super(e,t),this.current=je.transparent}set(e){e.r===this.current.r&&e.g===this.current.g&&e.b===this.current.b&&e.a===this.current.a||(this.current=e,this.gl.uniform4f(this.location,e.r,e.g,e.b,e.a))}}const ko=new Float32Array(16);function Co(e){return[po(255*e.r,255*e.g),po(255*e.b,255*e.a)]}class Mo{constructor(e,t,n){this.value=e,this.uniformNames=t.map((e=>`u_${e}`)),this.type=n}setUniform(e,t,n){e.set(n.constantOr(this.value))}getBinding(e,t,n){return"color"===this.type?new Io(e,t):new So(e,t)}}class No{constructor(e,t){this.uniformNames=t.map((e=>`u_${e}`)),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(e,t){this.pixelRatioFrom=t.pixelRatio,this.pixelRatioTo=e.pixelRatio,this.patternFrom=t.tlbr,this.patternTo=e.tlbr}setUniform(e,t,n,r){const i="u_pattern_to"===r?this.patternTo:"u_pattern_from"===r?this.patternFrom:"u_pixel_ratio_to"===r?this.pixelRatioTo:"u_pixel_ratio_from"===r?this.pixelRatioFrom:null;i&&e.set(i)}getBinding(e,t,n){return"u_pattern"===n.substr(0,9)?new To(e,t):new So(e,t)}}class jo{constructor(e,t,n,r){this.expression=e,this.type=n,this.maxValue=0,this.paintVertexAttributes=t.map((e=>({name:`a_${e}`,type:"Float32",components:"color"===n?2:1,offset:0}))),this.paintVertexArray=new r}populatePaintArray(e,t,n,r,i){const o=this.paintVertexArray.length,a=this.expression.evaluate(new Jr(0),t,{},r,[],i);this.paintVertexArray.resize(e),this._setPaintValue(o,e,a)}updatePaintArray(e,t,n,r){const i=this.expression.evaluate({zoom:0},n,r);this._setPaintValue(e,t,i)}_setPaintValue(e,t,n){if("color"===this.type){const r=Co(n);for(let n=e;n<t;n++)this.paintVertexArray.emplace(n,r[0],r[1])}else{for(let r=e;r<t;r++)this.paintVertexArray.emplace(r,n);this.maxValue=Math.max(this.maxValue,Math.abs(n))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Lo{constructor(e,t,n,r,i,o){this.expression=e,this.uniformNames=t.map((e=>`u_${e}_t`)),this.type=n,this.useIntegerZoom=r,this.zoom=i,this.maxValue=0,this.paintVertexAttributes=t.map((e=>({name:`a_${e}`,type:"Float32",components:"color"===n?4:2,offset:0}))),this.paintVertexArray=new o}populatePaintArray(e,t,n,r,i){const o=this.expression.evaluate(new Jr(this.zoom),t,{},r,[],i),a=this.expression.evaluate(new Jr(this.zoom+1),t,{},r,[],i),s=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(s,e,o,a)}updatePaintArray(e,t,n,r){const i=this.expression.evaluate({zoom:this.zoom},n,r),o=this.expression.evaluate({zoom:this.zoom+1},n,r);this._setPaintValue(e,t,i,o)}_setPaintValue(e,t,n,r){if("color"===this.type){const i=Co(n),o=Co(r);for(let n=e;n<t;n++)this.paintVertexArray.emplace(n,i[0],i[1],o[0],o[1])}else{for(let i=e;i<t;i++)this.paintVertexArray.emplace(i,n,r);this.maxValue=Math.max(this.maxValue,Math.abs(n),Math.abs(r))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(e,t){const n=this.useIntegerZoom?Math.floor(t.zoom):t.zoom,r=o(this.expression.interpolationFactor(n,this.zoom,this.zoom+1),0,1);e.set(r)}getBinding(e,t,n){return new So(e,t)}}class Ro{constructor(e,t,n,r,i,o){this.expression=e,this.type=t,this.useIntegerZoom=n,this.zoom=r,this.layerId=o,this.zoomInPaintVertexArray=new i,this.zoomOutPaintVertexArray=new i}populatePaintArray(e,t,n){const r=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(e),this.zoomOutPaintVertexArray.resize(e),this._setPaintValues(r,e,t.patterns&&t.patterns[this.layerId],n)}updatePaintArray(e,t,n,r,i){this._setPaintValues(e,t,n.patterns&&n.patterns[this.layerId],i)}_setPaintValues(e,t,n,r){if(!r||!n)return;const{min:i,mid:o,max:a}=n,s=r[i],l=r[o],c=r[a];if(s&&l&&c)for(let n=e;n<t;n++)this.zoomInPaintVertexArray.emplace(n,l.tl[0],l.tl[1],l.br[0],l.br[1],s.tl[0],s.tl[1],s.br[0],s.br[1],l.pixelRatio,s.pixelRatio),this.zoomOutPaintVertexArray.emplace(n,l.tl[0],l.tl[1],l.br[0],l.br[1],c.tl[0],c.tl[1],c.br[0],c.br[1],l.pixelRatio,c.pixelRatio)}upload(e){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=e.createVertexBuffer(this.zoomInPaintVertexArray,mo.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=e.createVertexBuffer(this.zoomOutPaintVertexArray,mo.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class Do{constructor(e,t,n){this.binders={},this._buffers=[];const r=[];for(const i in e.paint._values){if(!n(i))continue;const o=e.paint.get(i);if(!(o instanceof ri&&bn(o.property.specification)))continue;const a=Bo(i,e.type),s=o.value,l=o.property.specification.type,c=o.property.useIntegerZoom,u=o.property.specification["property-type"],d="cross-faded"===u||"cross-faded-data-driven"===u;if("constant"===s.kind)this.binders[i]=d?new No(s.value,a):new Mo(s.value,a,l),r.push(`/u_${i}`);else if("source"===s.kind||d){const n=Fo(i,l,"source");this.binders[i]=d?new Ro(s,l,c,t,n,e.id):new jo(s,a,l,n),r.push(`/a_${i}`)}else{const e=Fo(i,l,"composite");this.binders[i]=new Lo(s,a,l,c,t,e),r.push(`/z_${i}`)}}this.cacheKey=r.sort().join("")}getMaxValue(e){const t=this.binders[e];return t instanceof jo||t instanceof Lo?t.maxValue:0}populatePaintArrays(e,t,n,r,i){for(const o in this.binders){const a=this.binders[o];(a instanceof jo||a instanceof Lo||a instanceof Ro)&&a.populatePaintArray(e,t,n,r,i)}}setConstantPatternPositions(e,t){for(const n in this.binders){const r=this.binders[n];r instanceof No&&r.setConstantPatternPositions(e,t)}}updatePaintArrays(e,t,n,r,i){let o=!1;for(const a in e){const s=t.getPositions(a);for(const t of s){const s=n.feature(t.index);for(const n in this.binders){const l=this.binders[n];if((l instanceof jo||l instanceof Lo||l instanceof Ro)&&!0===l.expression.isStateDependent){const c=r.paint.get(n);l.expression=c.value,l.updatePaintArray(t.start,t.end,s,e[a],i),o=!0}}}}return o}defines(){const e=[];for(const t in this.binders){const n=this.binders[t];(n instanceof Mo||n instanceof No)&&e.push(...n.uniformNames.map((e=>`#define HAS_UNIFORM_${e}`)))}return e}getBinderAttributes(){const e=[];for(const t in this.binders){const n=this.binders[t];if(n instanceof jo||n instanceof Lo)for(let t=0;t<n.paintVertexAttributes.length;t++)e.push(n.paintVertexAttributes[t].name);else if(n instanceof Ro)for(let t=0;t<mo.members.length;t++)e.push(mo.members[t].name)}return e}getBinderUniforms(){const e=[];for(const t in this.binders){const n=this.binders[t];if(n instanceof Mo||n instanceof No||n instanceof Lo)for(const t of n.uniformNames)e.push(t)}return e}getPaintVertexBuffers(){return this._buffers}getUniforms(e,t){const n=[];for(const r in this.binders){const i=this.binders[r];if(i instanceof Mo||i instanceof No||i instanceof Lo)for(const o of i.uniformNames)if(t[o]){const a=i.getBinding(e,t[o],o);n.push({name:o,property:r,binding:a})}}return n}setUniforms(e,t,n,r){for(const{name:e,property:i,binding:o}of t)this.binders[i].setUniform(o,r,n.get(i),e)}updatePaintBuffers(e){this._buffers=[];for(const t in this.binders){const n=this.binders[t];if(e&&n instanceof Ro){const t=2===e.fromScale?n.zoomInPaintVertexBuffer:n.zoomOutPaintVertexBuffer;t&&this._buffers.push(t)}else(n instanceof jo||n instanceof Lo)&&n.paintVertexBuffer&&this._buffers.push(n.paintVertexBuffer)}}upload(e){for(const t in this.binders){const n=this.binders[t];(n instanceof jo||n instanceof Lo||n instanceof Ro)&&n.upload(e)}this.updatePaintBuffers()}destroy(){for(const e in this.binders){const t=this.binders[e];(t instanceof jo||t instanceof Lo||t instanceof Ro)&&t.destroy()}}}class Po{constructor(e,t,n=(()=>!0)){this.programConfigurations={};for(const r of e)this.programConfigurations[r.id]=new Do(r,t,n);this.needsUpload=!1,this._featureMap=new xo,this._bufferOffset=0}populatePaintArrays(e,t,n,r,i,o){for(const n in this.programConfigurations)this.programConfigurations[n].populatePaintArrays(e,t,r,i,o);void 0!==t.id&&this._featureMap.add(t.id,n,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0}updatePaintArrays(e,t,n,r){for(const i of n)this.needsUpload=this.programConfigurations[i.id].updatePaintArrays(e,this._featureMap,t,i,r)||this.needsUpload}get(e){return this.programConfigurations[e]}upload(e){if(this.needsUpload){for(const t in this.programConfigurations)this.programConfigurations[t].upload(e);this.needsUpload=!1}}destroy(){for(const e in this.programConfigurations)this.programConfigurations[e].destroy()}}function Bo(e,t){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[e]||[e.replace(`${t}-`,"").replace(/-/g,"_")]}function Fo(e,t,n){const r={color:{source:Ei,composite:Fi},number:{source:Li,composite:Ei}},i=function(e){return{"line-pattern":{source:to,composite:to},"fill-pattern":{source:to,composite:to},"fill-extrusion-pattern":{source:to,composite:to}}[e]}(e);return i&&i[n]||r[t][n]}Ar("ConstantBinder",Mo),Ar("CrossFadedConstantBinder",No),Ar("SourceExpressionBinder",jo),Ar("CrossFadedCompositeBinder",Ro),Ar("CompositeExpressionBinder",Lo),Ar("ProgramConfiguration",Do,{omit:["_buffers"]}),Ar("ProgramConfigurationSet",Po);var Uo=8192;const zo=Math.pow(2,14)-1,Vo=-zo-1;function Go(e){const t=Uo/e.extent,n=e.loadGeometry();for(let e=0;e<n.length;e++){const r=n[e];for(let e=0;e<r.length;e++){const n=r[e],i=Math.round(n.x*t),a=Math.round(n.y*t);n.x=o(i,Vo,zo),n.y=o(a,Vo,zo),(i<n.x||i>n.x+1||a<n.y||a>n.y+1)&&m("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return n}function Ho(e,t){return{type:e.type,id:e.id,properties:e.properties,geometry:t?Go(e):[]}}function Wo(e,t,n,r,i){e.emplaceBack(2*t+(r+1)/2,2*n+(i+1)/2)}class Yo{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.id)),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new Ji,this.indexArray=new so,this.segments=new fo,this.programConfigurations=new Po(e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id))}populate(e,t,n){const r=this.layers[0],i=[];let o=null,a=!1;"circle"===r.type&&(o=r.layout.get("circle-sort-key"),a=!o.isConstant());for(const{feature:t,id:r,index:s,sourceLayerIndex:l}of e){const e=this.layers[0]._featureFilter.needGeometry,c=Ho(t,e);if(!this.layers[0]._featureFilter.filter(new Jr(this.zoom),c,n))continue;const u=a?o.evaluate(c,{},n):void 0,d={id:r,properties:t.properties,type:t.type,sourceLayerIndex:l,index:s,geometry:e?c.geometry:Go(t),patterns:{},sortKey:u};i.push(d)}a&&i.sort(((e,t)=>e.sortKey-t.sortKey));for(const r of i){const{geometry:i,index:o,sourceLayerIndex:a}=r,s=e[o].feature;this.addFeature(r,i,o,n),t.featureIndex.insert(s,i,o,a,this.index)}}update(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,uo),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(e,t,n,r){for(const n of t)for(const t of n){const n=t.x,r=t.y;if(n<0||n>=Uo||r<0||r>=Uo)continue;const i=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),o=i.vertexLength;Wo(this.layoutVertexArray,n,r,-1,-1),Wo(this.layoutVertexArray,n,r,1,-1),Wo(this.layoutVertexArray,n,r,1,1),Wo(this.layoutVertexArray,n,r,-1,1),this.indexArray.emplaceBack(o,o+1,o+2),this.indexArray.emplaceBack(o,o+3,o+2),i.vertexLength+=4,i.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,{},r)}}function Qo(e,t){for(let n=0;n<e.length;n++)if(na(t,e[n]))return!0;for(let n=0;n<t.length;n++)if(na(e,t[n]))return!0;return!!qo(e,t)}function Zo(e,t,n){return!!na(e,t)||!!$o(t,e,n)}function Xo(e,t){if(1===e.length)return ta(t,e[0]);for(let n=0;n<t.length;n++){const r=t[n];for(let t=0;t<r.length;t++)if(na(e,r[t]))return!0}for(let n=0;n<e.length;n++)if(ta(t,e[n]))return!0;for(let n=0;n<t.length;n++)if(qo(e,t[n]))return!0;return!1}function Jo(e,t,n){if(e.length>1){if(qo(e,t))return!0;for(let r=0;r<t.length;r++)if($o(t[r],e,n))return!0}for(let r=0;r<e.length;r++)if($o(e[r],t,n))return!0;return!1}function qo(e,t){if(0===e.length||0===t.length)return!1;for(let n=0;n<e.length-1;n++){const r=e[n],i=e[n+1];for(let e=0;e<t.length-1;e++)if(Ko(r,i,t[e],t[e+1]))return!0}return!1}function Ko(e,t,n,r){return h(e,n,r)!==h(t,n,r)&&h(e,t,n)!==h(e,t,r)}function $o(e,t,n){const r=n*n;if(1===t.length)return e.distSqr(t[0])<r;for(let n=1;n<t.length;n++)if(ea(e,t[n-1],t[n])<r)return!0;return!1}function ea(e,t,n){const r=t.distSqr(n);if(0===r)return e.distSqr(t);const i=((e.x-t.x)*(n.x-t.x)+(e.y-t.y)*(n.y-t.y))/r;return e.distSqr(i<0?t:i>1?n:n.sub(t)._mult(i)._add(t))}function ta(e,t){let n,r,i,o=!1;for(let a=0;a<e.length;a++){n=e[a];for(let e=0,a=n.length-1;e<n.length;a=e++)r=n[e],i=n[a],r.y>t.y!=i.y>t.y&&t.x<(i.x-r.x)*(t.y-r.y)/(i.y-r.y)+r.x&&(o=!o)}return o}function na(e,t){let n=!1;for(let r=0,i=e.length-1;r<e.length;i=r++){const o=e[r],a=e[i];o.y>t.y!=a.y>t.y&&t.x<(a.x-o.x)*(t.y-o.y)/(a.y-o.y)+o.x&&(n=!n)}return n}function ra(e,t,n){const r=n[0],i=n[2];if(e.x<r.x&&t.x<r.x||e.x>i.x&&t.x>i.x||e.y<r.y&&t.y<r.y||e.y>i.y&&t.y>i.y)return!1;const o=h(e,t,n[0]);return o!==h(e,t,n[1])||o!==h(e,t,n[2])||o!==h(e,t,n[3])}function ia(e,t,n){const r=t.paint.get(e).value;return"constant"===r.kind?r.value:n.programConfigurations.get(t.id).getMaxValue(e)}function oa(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function aa(e,t,n,r,i){if(!t[0]&&!t[1])return e;const o=O.convert(t)._mult(i);"viewport"===n&&o._rotate(-r);const a=[];for(let t=0;t<e.length;t++)a.push(e[t].sub(o));return a}Ar("CircleBucket",Yo,{omit:["layers"]});const sa=new ui({"circle-sort-key":new ai(re.layout_circle["circle-sort-key"])});var la={paint:new ui({"circle-radius":new ai(re.paint_circle["circle-radius"]),"circle-color":new ai(re.paint_circle["circle-color"]),"circle-blur":new ai(re.paint_circle["circle-blur"]),"circle-opacity":new ai(re.paint_circle["circle-opacity"]),"circle-translate":new oi(re.paint_circle["circle-translate"]),"circle-translate-anchor":new oi(re.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new oi(re.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new oi(re.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new ai(re.paint_circle["circle-stroke-width"]),"circle-stroke-color":new ai(re.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new ai(re.paint_circle["circle-stroke-opacity"])}),layout:sa},ca="undefined"!=typeof Float32Array?Float32Array:Array;function ua(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function da(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],d=t[8],f=t[9],p=t[10],m=t[11],h=t[12],g=t[13],y=t[14],v=t[15],b=n[0],w=n[1],x=n[2],E=n[3];return e[0]=b*r+w*s+x*d+E*h,e[1]=b*i+w*l+x*f+E*g,e[2]=b*o+w*c+x*p+E*y,e[3]=b*a+w*u+x*m+E*v,e[4]=(b=n[4])*r+(w=n[5])*s+(x=n[6])*d+(E=n[7])*h,e[5]=b*i+w*l+x*f+E*g,e[6]=b*o+w*c+x*p+E*y,e[7]=b*a+w*u+x*m+E*v,e[8]=(b=n[8])*r+(w=n[9])*s+(x=n[10])*d+(E=n[11])*h,e[9]=b*i+w*l+x*f+E*g,e[10]=b*o+w*c+x*p+E*y,e[11]=b*a+w*u+x*m+E*v,e[12]=(b=n[12])*r+(w=n[13])*s+(x=n[14])*d+(E=n[15])*h,e[13]=b*i+w*l+x*f+E*g,e[14]=b*o+w*c+x*p+E*y,e[15]=b*a+w*u+x*m+E*v,e}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var fa,pa=da;function ma(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,e}function ha(e,t){const n=ma([],[e.x,e.y,0,1],t);return new O(n[0]/n[3],n[1]/n[3])}fa=new ca(4),ca!=Float32Array&&(fa[0]=0,fa[1]=0,fa[2]=0,fa[3]=0);class ga extends Yo{}Ar("HeatmapBucket",ga,{omit:["layers"]});var ya={paint:new ui({"heatmap-radius":new ai(re.paint_heatmap["heatmap-radius"]),"heatmap-weight":new ai(re.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new oi(re.paint_heatmap["heatmap-intensity"]),"heatmap-color":new ci(re.paint_heatmap["heatmap-color"]),"heatmap-opacity":new oi(re.paint_heatmap["heatmap-opacity"])})};function va(e,{width:t,height:n},r,i){if(i){if(i instanceof Uint8ClampedArray)i=new Uint8Array(i.buffer);else if(i.length!==t*n*r)throw new RangeError(`mismatched image size. expected: ${i.length} but got: ${t*n*r}`)}else i=new Uint8Array(t*n*r);return e.width=t,e.height=n,e.data=i,e}function ba(e,{width:t,height:n},r){if(t===e.width&&n===e.height)return;const i=va({},{width:t,height:n},r);wa(e,i,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,t),height:Math.min(e.height,n)},r),e.width=t,e.height=n,e.data=i.data}function wa(e,t,n,r,i,o){if(0===i.width||0===i.height)return t;if(i.width>e.width||i.height>e.height||n.x>e.width-i.width||n.y>e.height-i.height)throw new RangeError("out of range source coordinates for image copy");if(i.width>t.width||i.height>t.height||r.x>t.width-i.width||r.y>t.height-i.height)throw new RangeError("out of range destination coordinates for image copy");const a=e.data,s=t.data;for(let l=0;l<i.height;l++){const c=((n.y+l)*e.width+n.x)*o,u=((r.y+l)*t.width+r.x)*o;for(let e=0;e<i.width*o;e++)s[u+e]=a[c+e]}return t}class xa{constructor(e,t){va(this,e,1,t)}resize(e){ba(this,e,1)}clone(){return new xa({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,t,n,r,i){wa(e,t,n,r,i,1)}}class Ea{constructor(e,t){va(this,e,4,t)}resize(e){ba(this,e,4)}replace(e,t){t?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e}clone(){return new Ea({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,t,n,r,i){wa(e,t,n,r,i,4)}}function _a(e){const t={},n=e.resolution||256,r=e.clips?e.clips.length:1,i=e.image||new Ea({width:n,height:r}),o=(n,r,o)=>{t[e.evaluationKey]=o;const a=e.expression.evaluate(t);i.data[n+r+0]=Math.floor(255*a.r/a.a),i.data[n+r+1]=Math.floor(255*a.g/a.a),i.data[n+r+2]=Math.floor(255*a.b/a.a),i.data[n+r+3]=Math.floor(255*a.a)};if(e.clips)for(let t=0,i=0;t<r;++t,i+=4*n)for(let r=0,a=0;r<n;r++,a+=4){const s=r/(n-1),{start:l,end:c}=e.clips[t];o(i,a,l*(1-s)+c*s)}else for(let e=0,t=0;e<n;e++,t+=4)o(0,t,e/(n-1));return i}Ar("AlphaImage",xa),Ar("RGBAImage",Ea);var Aa={paint:new ui({"hillshade-illumination-direction":new oi(re.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new oi(re.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new oi(re.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new oi(re.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new oi(re.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new oi(re.paint_hillshade["hillshade-accent-color"])})};const Oa=gi([{name:"a_pos",components:2,type:"Int16"}],4),{members:Sa}=Oa;var Ta={exports:{}};function Ia(e,t,n){n=n||2;var r,i,o,a,s,l,c,u=t&&t.length,d=u?t[0]*n:e.length,f=ka(e,0,d,n,!0),p=[];if(!f||f.next===f.prev)return p;if(u&&(f=function(e,t,n,r){var i,o,a,s=[];for(i=0,o=t.length;i<o;i++)(a=ka(e,t[i]*r,i<o-1?t[i+1]*r:e.length,r,!1))===a.next&&(a.steiner=!0),s.push(Ua(a));for(s.sort(Da),i=0;i<s.length;i++)n=Ca(n=Pa(s[i],n),n.next);return n}(e,t,f,n)),e.length>80*n){r=o=e[0],i=a=e[1];for(var m=n;m<d;m+=n)(s=e[m])<r&&(r=s),(l=e[m+1])<i&&(i=l),s>o&&(o=s),l>a&&(a=l);c=0!==(c=Math.max(o-r,a-i))?1/c:0}return Ma(f,p,n,r,i,c),p}function ka(e,t,n,r,i){var o,a;if(i===$a(e,t,n,r)>0)for(o=t;o<n;o+=r)a=Ja(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=Ja(o,e[o],e[o+1],a);return a&&Ha(a,a.next)&&(qa(a),a=a.next),a}function Ca(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!Ha(r,r.next)&&0!==Ga(r.prev,r,r.next))r=r.next;else{if(qa(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function Ma(e,t,n,r,i,o,a){if(e){!a&&o&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=Fa(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,o,a,s,l,c=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,s=0,t=0;t<c&&(s++,r=r.nextZ);t++);for(l=c;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(a>1)}(i)}(e,r,i,o);for(var s,l,c=e;e.prev!==e.next;)if(s=e.prev,l=e.next,o?ja(e,r,i,o):Na(e))t.push(s.i/n),t.push(e.i/n),t.push(l.i/n),qa(e),e=l.next,c=l.next;else if((e=l)===c){a?1===a?Ma(e=La(Ca(e),t,n),t,n,r,i,o,2):2===a&&Ra(e,t,n,r,i,o):Ma(Ca(e),t,n,r,i,o,1);break}}}function Na(e){var t=e.prev,n=e,r=e.next;if(Ga(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(za(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&Ga(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function ja(e,t,n,r){var i=e.prev,o=e,a=e.next;if(Ga(i,o,a)>=0)return!1;for(var s=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,l=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,c=Fa(i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,t,n,r),u=Fa(s,l,t,n,r),d=e.prevZ,f=e.nextZ;d&&d.z>=c&&f&&f.z<=u;){if(d!==e.prev&&d!==e.next&&za(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&Ga(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,f!==e.prev&&f!==e.next&&za(i.x,i.y,o.x,o.y,a.x,a.y,f.x,f.y)&&Ga(f.prev,f,f.next)>=0)return!1;f=f.nextZ}for(;d&&d.z>=c;){if(d!==e.prev&&d!==e.next&&za(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&Ga(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;f&&f.z<=u;){if(f!==e.prev&&f!==e.next&&za(i.x,i.y,o.x,o.y,a.x,a.y,f.x,f.y)&&Ga(f.prev,f,f.next)>=0)return!1;f=f.nextZ}return!0}function La(e,t,n){var r=e;do{var i=r.prev,o=r.next.next;!Ha(i,o)&&Wa(i,r,r.next,o)&&Za(i,o)&&Za(o,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(o.i/n),qa(r),qa(r.next),r=e=o),r=r.next}while(r!==e);return Ca(r)}function Ra(e,t,n,r,i,o){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&Va(a,s)){var l=Xa(a,s);return a=Ca(a,a.next),l=Ca(l,l.next),Ma(a,t,n,r,i,o),void Ma(l,t,n,r,i,o)}s=s.next}a=a.next}while(a!==e)}function Da(e,t){return e.x-t.x}function Pa(e,t){var n=function(e,t){var n,r=t,i=e.x,o=e.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===a)return n;var l,c=n,u=n.x,d=n.y,f=1/0;r=n;do{i>=r.x&&r.x>=u&&i!==r.x&&za(o<d?i:a,o,u,d,o<d?a:i,o,r.x,r.y)&&(l=Math.abs(o-r.y)/(i-r.x),Za(r,e)&&(l<f||l===f&&(r.x>n.x||r.x===n.x&&Ba(n,r)))&&(n=r,f=l)),r=r.next}while(r!==c);return n}(e,t);if(!n)return t;var r=Xa(n,e),i=Ca(n,n.next);return Ca(r,r.next),t===n?i:t}function Ba(e,t){return Ga(e.prev,e,t.prev)<0&&Ga(t.next,e,e.next)<0}function Fa(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Ua(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function za(e,t,n,r,i,o,a,s){return(i-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(r-s)-(n-a)*(t-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function Va(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Wa(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(Za(e,t)&&Za(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(Ga(e.prev,e,t.prev)||Ga(e,t.prev,t))||Ha(e,t)&&Ga(e.prev,e,e.next)>0&&Ga(t.prev,t,t.next)>0)}function Ga(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Ha(e,t){return e.x===t.x&&e.y===t.y}function Wa(e,t,n,r){var i=Qa(Ga(e,t,n)),o=Qa(Ga(e,t,r)),a=Qa(Ga(n,r,e)),s=Qa(Ga(n,r,t));return i!==o&&a!==s||!(0!==i||!Ya(e,n,t))||!(0!==o||!Ya(e,r,t))||!(0!==a||!Ya(n,e,r))||!(0!==s||!Ya(n,t,r))}function Ya(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function Qa(e){return e>0?1:e<0?-1:0}function Za(e,t){return Ga(e.prev,e,e.next)<0?Ga(e,t,e.next)>=0&&Ga(e,e.prev,t)>=0:Ga(e,t,e.prev)<0||Ga(e,e.next,t)<0}function Xa(e,t){var n=new Ka(e.i,e.x,e.y),r=new Ka(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function Ja(e,t,n,r){var i=new Ka(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function qa(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Ka(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function $a(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}Ta.exports=Ia,Ta.exports.default=Ia,Ia.deviation=function(e,t,n,r){var i=t&&t.length,o=Math.abs($a(e,0,i?t[0]*n:e.length,n));if(i)for(var a=0,s=t.length;a<s;a++)o-=Math.abs($a(e,t[a]*n,a<s-1?t[a+1]*n:e.length,n));var l=0;for(a=0;a<r.length;a+=3){var c=r[a]*n,u=r[a+1]*n,d=r[a+2]*n;l+=Math.abs((e[c]-e[d])*(e[u+1]-e[c+1])-(e[c]-e[u])*(e[d+1]-e[c+1]))}return 0===o&&0===l?0:Math.abs((l-o)/o)},Ia.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)n.vertices.push(e[i][o][a]);i>0&&n.holes.push(r+=e[i-1].length)}return n};var es=Ta.exports;function ts(e,t,n,r,i){ns(e,t,n||0,r||e.length-1,i||is)}function ns(e,t,n,r,i){for(;r>n;){if(r-n>600){var o=r-n+1,a=t-n+1,s=Math.log(o),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(o-l)/o)*(a-o/2<0?-1:1);ns(e,t,Math.max(n,Math.floor(t-a*l/o+c)),Math.min(r,Math.floor(t+(o-a)*l/o+c)),i)}var u=e[t],d=n,f=r;for(rs(e,n,t),i(e[r],u)>0&&rs(e,n,r);d<f;){for(rs(e,d,f),d++,f--;i(e[d],u)<0;)d++;for(;i(e[f],u)>0;)f--}0===i(e[n],u)?rs(e,n,f):rs(e,++f,r),f<=t&&(n=f+1),t<=f&&(r=f-1)}}function rs(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function is(e,t){return e<t?-1:e>t?1:0}function os(e,t){const n=e.length;if(n<=1)return[e];const r=[];let i,o;for(let t=0;t<n;t++){const n=g(e[t]);0!==n&&(e[t].area=Math.abs(n),void 0===o&&(o=n<0),o===n<0?(i&&r.push(i),i=[e[t]]):i.push(e[t]))}if(i&&r.push(i),t>1)for(let e=0;e<r.length;e++)r[e].length<=t||(ts(r[e],t,1,r[e].length-1,as),r[e]=r[e].slice(0,t));return r}function as(e,t){return t.area-e.area}function ss(e,t,n){const r=n.patternDependencies;let i=!1;for(const n of t){const t=n.paint.get(`${e}-pattern`);t.isConstant()||(i=!0);const o=t.constantOr(null);o&&(i=!0,r[o.to]=!0,r[o.from]=!0)}return i}function ls(e,t,n,r,i){const o=i.patternDependencies;for(const a of t){const t=a.paint.get(`${e}-pattern`).value;if("constant"!==t.kind){let e=t.evaluate({zoom:r-1},n,{},i.availableImages),s=t.evaluate({zoom:r},n,{},i.availableImages),l=t.evaluate({zoom:r+1},n,{},i.availableImages);e=e&&e.name?e.name:e,s=s&&s.name?s.name:s,l=l&&l.name?l.name:l,o[e]=!0,o[s]=!0,o[l]=!0,n.patterns[a.id]={min:e,mid:s,max:l}}}return n}class cs{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.id)),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new qi,this.indexArray=new so,this.indexArray2=new lo,this.programConfigurations=new Po(e.layers,e.zoom),this.segments=new fo,this.segments2=new fo,this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id))}populate(e,t,n){this.hasPattern=ss("fill",this.layers,t);const r=this.layers[0].layout.get("fill-sort-key"),i=!r.isConstant(),o=[];for(const{feature:a,id:s,index:l,sourceLayerIndex:c}of e){const e=this.layers[0]._featureFilter.needGeometry,u=Ho(a,e);if(!this.layers[0]._featureFilter.filter(new Jr(this.zoom),u,n))continue;const d=i?r.evaluate(u,{},n,t.availableImages):void 0,f={id:s,properties:a.properties,type:a.type,sourceLayerIndex:c,index:l,geometry:e?u.geometry:Go(a),patterns:{},sortKey:d};o.push(f)}i&&o.sort(((e,t)=>e.sortKey-t.sortKey));for(const r of o){const{geometry:i,index:o,sourceLayerIndex:a}=r;if(this.hasPattern){const e=ls("fill",this.layers,r,this.zoom,t);this.patternFeatures.push(e)}else this.addFeature(r,i,o,n,{});t.featureIndex.insert(e[o].feature,i,o,a,this.index)}}update(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)}addFeatures(e,t,n){for(const e of this.patternFeatures)this.addFeature(e,e.geometry,e.index,t,n)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Sa),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(e,t,n,r,i){for(const e of os(t,500)){let t=0;for(const n of e)t+=n.length;const n=this.segments.prepareSegment(t,this.layoutVertexArray,this.indexArray),r=n.vertexLength,i=[],o=[];for(const t of e){if(0===t.length)continue;t!==e[0]&&o.push(i.length/2);const n=this.segments2.prepareSegment(t.length,this.layoutVertexArray,this.indexArray2),r=n.vertexLength;this.layoutVertexArray.emplaceBack(t[0].x,t[0].y),this.indexArray2.emplaceBack(r+t.length-1,r),i.push(t[0].x),i.push(t[0].y);for(let e=1;e<t.length;e++)this.layoutVertexArray.emplaceBack(t[e].x,t[e].y),this.indexArray2.emplaceBack(r+e-1,r+e),i.push(t[e].x),i.push(t[e].y);n.vertexLength+=t.length,n.primitiveLength+=t.length}const a=es(i,o);for(let e=0;e<a.length;e+=3)this.indexArray.emplaceBack(r+a[e],r+a[e+1],r+a[e+2]);n.vertexLength+=t,n.primitiveLength+=a.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i,r)}}Ar("FillBucket",cs,{omit:["layers","patternFeatures"]});const us=new ui({"fill-sort-key":new ai(re.layout_fill["fill-sort-key"])});var ds={paint:new ui({"fill-antialias":new oi(re.paint_fill["fill-antialias"]),"fill-opacity":new ai(re.paint_fill["fill-opacity"]),"fill-color":new ai(re.paint_fill["fill-color"]),"fill-outline-color":new ai(re.paint_fill["fill-outline-color"]),"fill-translate":new oi(re.paint_fill["fill-translate"]),"fill-translate-anchor":new oi(re.paint_fill["fill-translate-anchor"]),"fill-pattern":new si(re.paint_fill["fill-pattern"])}),layout:us};const fs=gi([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),{members:ps}=fs;var ms={},hs=O,gs=ys;function ys(e,t,n,r,i){this.properties={},this.extent=n,this.type=0,this._pbf=e,this._geometry=-1,this._keys=r,this._values=i,e.readFields(vs,this,t)}function vs(e,t,n){1==e?t.id=n.readVarint():2==e?function(e,t){for(var n=e.readVarint()+e.pos;e.pos<n;){var r=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[r]=i}}(n,t):3==e?t.type=n.readVarint():4==e&&(t._geometry=n.pos)}function bs(e){for(var t,n,r=0,i=0,o=e.length,a=o-1;i<o;a=i++)r+=((n=e[a]).x-(t=e[i]).x)*(t.y+n.y);return r}ys.types=["Unknown","Point","LineString","Polygon"],ys.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,n=e.readVarint()+e.pos,r=1,i=0,o=0,a=0,s=[];e.pos<n;){if(i<=0){var l=e.readVarint();r=7&l,i=l>>3}if(i--,1===r||2===r)o+=e.readSVarint(),a+=e.readSVarint(),1===r&&(t&&s.push(t),t=[]),t.push(new hs(o,a));else{if(7!==r)throw new Error("unknown command "+r);t&&t.push(t[0].clone())}}return t&&s.push(t),s},ys.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,n=1,r=0,i=0,o=0,a=1/0,s=-1/0,l=1/0,c=-1/0;e.pos<t;){if(r<=0){var u=e.readVarint();n=7&u,r=u>>3}if(r--,1===n||2===n)(i+=e.readSVarint())<a&&(a=i),i>s&&(s=i),(o+=e.readSVarint())<l&&(l=o),o>c&&(c=o);else if(7!==n)throw new Error("unknown command "+n)}return[a,l,s,c]},ys.prototype.toGeoJSON=function(e,t,n){var r,i,o=this.extent*Math.pow(2,n),a=this.extent*e,s=this.extent*t,l=this.loadGeometry(),c=ys.types[this.type];function u(e){for(var t=0;t<e.length;t++){var n=e[t];e[t]=[360*(n.x+a)/o-180,360/Math.PI*Math.atan(Math.exp((180-360*(n.y+s)/o)*Math.PI/180))-90]}}switch(this.type){case 1:var d=[];for(r=0;r<l.length;r++)d[r]=l[r][0];u(l=d);break;case 2:for(r=0;r<l.length;r++)u(l[r]);break;case 3:for(l=function(e){var t=e.length;if(t<=1)return[e];for(var n,r,i=[],o=0;o<t;o++){var a=bs(e[o]);0!==a&&(void 0===r&&(r=a<0),r===a<0?(n&&i.push(n),n=[e[o]]):n.push(e[o]))}return n&&i.push(n),i}(l),r=0;r<l.length;r++)for(i=0;i<l[r].length;i++)u(l[r][i])}1===l.length?l=l[0]:c="Multi"+c;var f={type:"Feature",geometry:{type:c,coordinates:l},properties:this.properties};return"id"in this&&(f.id=this.id),f};var ws=gs,xs=Es;function Es(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(_s,this,t),this.length=this._features.length}function _s(e,t,n){15===e?t.version=n.readVarint():1===e?t.name=n.readString():5===e?t.extent=n.readVarint():2===e?t._features.push(n.pos):3===e?t._keys.push(n.readString()):4===e&&t._values.push(function(e){for(var t=null,n=e.readVarint()+e.pos;e.pos<n;){var r=e.readVarint()>>3;t=1===r?e.readString():2===r?e.readFloat():3===r?e.readDouble():4===r?e.readVarint64():5===r?e.readVarint():6===r?e.readSVarint():7===r?e.readBoolean():null}return t}(n))}Es.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new ws(this._pbf,t,this.extent,this._keys,this._values)};var As=xs;function Os(e,t,n){if(3===e){var r=new As(n,n.readVarint()+n.pos);r.length&&(t[r.name]=r)}}ms.VectorTile=function(e,t){this.layers=e.readFields(Os,{},t)},ms.VectorTileFeature=gs,ms.VectorTileLayer=xs;const Ss=ms.VectorTileFeature.types,Ts=Math.pow(2,13);function Is(e,t,n,r,i,o,a,s){e.emplaceBack(t,n,2*Math.floor(r*Ts)+a,i*Ts*2,o*Ts*2,Math.round(s))}class ks{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.id)),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new Ki,this.indexArray=new so,this.programConfigurations=new Po(e.layers,e.zoom),this.segments=new fo,this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id))}populate(e,t,n){this.features=[],this.hasPattern=ss("fill-extrusion",this.layers,t);for(const{feature:r,id:i,index:o,sourceLayerIndex:a}of e){const e=this.layers[0]._featureFilter.needGeometry,s=Ho(r,e);if(!this.layers[0]._featureFilter.filter(new Jr(this.zoom),s,n))continue;const l={id:i,sourceLayerIndex:a,index:o,geometry:e?s.geometry:Go(r),properties:r.properties,type:r.type,patterns:{}};this.hasPattern?this.features.push(ls("fill-extrusion",this.layers,l,this.zoom,t)):this.addFeature(l,l.geometry,o,n,{}),t.featureIndex.insert(r,l.geometry,o,a,this.index,!0)}}addFeatures(e,t,n){for(const e of this.features){const{geometry:r}=e;this.addFeature(e,r,e.index,t,n)}}update(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,ps),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(e,t,n,r,i){for(const n of os(t,500)){let t=0;for(const e of n)t+=e.length;let r=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const e of n){if(0===e.length)continue;if(Ms(e))continue;let t=0;for(let n=0;n<e.length;n++){const i=e[n];if(n>=1){const o=e[n-1];if(!Cs(i,o)){r.vertexLength+4>fo.MAX_VERTEX_ARRAY_LENGTH&&(r=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const e=i.sub(o)._perp()._unit(),n=o.dist(i);t+n>32768&&(t=0),Is(this.layoutVertexArray,i.x,i.y,e.x,e.y,0,0,t),Is(this.layoutVertexArray,i.x,i.y,e.x,e.y,0,1,t),t+=n,Is(this.layoutVertexArray,o.x,o.y,e.x,e.y,0,0,t),Is(this.layoutVertexArray,o.x,o.y,e.x,e.y,0,1,t);const a=r.vertexLength;this.indexArray.emplaceBack(a,a+2,a+1),this.indexArray.emplaceBack(a+1,a+2,a+3),r.vertexLength+=4,r.primitiveLength+=2}}}}if(r.vertexLength+t>fo.MAX_VERTEX_ARRAY_LENGTH&&(r=this.segments.prepareSegment(t,this.layoutVertexArray,this.indexArray)),"Polygon"!==Ss[e.type])continue;const i=[],o=[],a=r.vertexLength;for(const e of n)if(0!==e.length){e!==n[0]&&o.push(i.length/2);for(let t=0;t<e.length;t++){const n=e[t];Is(this.layoutVertexArray,n.x,n.y,0,0,1,1,0),i.push(n.x),i.push(n.y)}}const s=es(i,o);for(let e=0;e<s.length;e+=3)this.indexArray.emplaceBack(a+s[e],a+s[e+2],a+s[e+1]);r.primitiveLength+=s.length/3,r.vertexLength+=t}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i,r)}}function Cs(e,t){return e.x===t.x&&(e.x<0||e.x>Uo)||e.y===t.y&&(e.y<0||e.y>Uo)}function Ms(e){return e.every((e=>e.x<0))||e.every((e=>e.x>Uo))||e.every((e=>e.y<0))||e.every((e=>e.y>Uo))}Ar("FillExtrusionBucket",ks,{omit:["layers","features"]});var Ns={paint:new ui({"fill-extrusion-opacity":new oi(re["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new ai(re["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new oi(re["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new oi(re["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new si(re["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new ai(re["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new ai(re["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new oi(re["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})};function js(e,t){return e.x*t.x+e.y*t.y}function Ls(e,t){if(1===e.length){let n=0;const r=t[n++];let i;for(;!i||r.equals(i);)if(i=t[n++],!i)return 1/0;for(;n<t.length;n++){const o=t[n],a=e[0],s=i.sub(r),l=o.sub(r),c=a.sub(r),u=js(s,s),d=js(s,l),f=js(l,l),p=js(c,s),m=js(c,l),h=u*f-d*d,g=(f*p-d*m)/h,y=(u*m-d*p)/h,v=r.z*(1-g-y)+i.z*g+o.z*y;if(isFinite(v))return v}return 1/0}{let e=1/0;for(const n of t)e=Math.min(e,n.z);return e}}const Rs=gi([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:Ds}=Rs,Ps=gi([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:Bs}=Ps,Fs=ms.VectorTileFeature.types,Us=Math.cos(Math.PI/180*37.5),zs=Math.pow(2,14)/.5;class Vs{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.id)),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((e=>{this.gradients[e.id]={}})),this.layoutVertexArray=new $i,this.layoutVertexArray2=new eo,this.indexArray=new so,this.programConfigurations=new Po(e.layers,e.zoom),this.segments=new fo,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id))}populate(e,t,n){this.hasPattern=ss("line",this.layers,t);const r=this.layers[0].layout.get("line-sort-key"),i=!r.isConstant(),o=[];for(const{feature:t,id:a,index:s,sourceLayerIndex:l}of e){const e=this.layers[0]._featureFilter.needGeometry,c=Ho(t,e);if(!this.layers[0]._featureFilter.filter(new Jr(this.zoom),c,n))continue;const u=i?r.evaluate(c,{},n):void 0,d={id:a,properties:t.properties,type:t.type,sourceLayerIndex:l,index:s,geometry:e?c.geometry:Go(t),patterns:{},sortKey:u};o.push(d)}i&&o.sort(((e,t)=>e.sortKey-t.sortKey));for(const r of o){const{geometry:i,index:o,sourceLayerIndex:a}=r;if(this.hasPattern){const e=ls("line",this.layers,r,this.zoom,t);this.patternFeatures.push(e)}else this.addFeature(r,i,o,n,{});t.featureIndex.insert(e[o].feature,i,o,a,this.index)}}update(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)}addFeatures(e,t,n){for(const e of this.patternFeatures)this.addFeature(e,e.geometry,e.index,t,n)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,Bs)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Ds),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(e){if(e.properties&&Object.prototype.hasOwnProperty.call(e.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(e.properties,"mapbox_clip_end"))return{start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}}addFeature(e,t,n,r,i){const o=this.layers[0].layout,a=o.get("line-join").evaluate(e,{}),s=o.get("line-cap"),l=o.get("line-miter-limit"),c=o.get("line-round-limit");this.lineClips=this.lineFeatureClips(e);for(const n of t)this.addLine(n,e,a,s,l,c);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i,r)}addLine(e,t,n,r,i,o){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let t=0;t<e.length-1;t++)this.totalDistance+=e[t].dist(e[t+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const a="Polygon"===Fs[t.type];let s=e.length;for(;s>=2&&e[s-1].equals(e[s-2]);)s--;let l=0;for(;l<s-1&&e[l].equals(e[l+1]);)l++;if(s<(a?3:2))return;"bevel"===n&&(i=1.05);const c=this.overscaling<=16?122880/(512*this.overscaling):0,u=this.segments.prepareSegment(10*s,this.layoutVertexArray,this.indexArray);let d,f,p,m,h;this.e1=this.e2=-1,a&&(d=e[s-2],h=e[l].sub(d)._unit()._perp());for(let t=l;t<s;t++){if(p=t===s-1?a?e[l+1]:void 0:e[t+1],p&&e[t].equals(p))continue;h&&(m=h),d&&(f=d),d=e[t],h=p?p.sub(d)._unit()._perp():m,m=m||h;let g=m.add(h);0===g.x&&0===g.y||g._unit();const y=m.x*h.x+m.y*h.y,v=g.x*h.x+g.y*h.y,b=0!==v?1/v:1/0,w=2*Math.sqrt(2-2*v),x=v<Us&&f&&p,E=m.x*h.y-m.y*h.x>0;if(x&&t>l){const e=d.dist(f);if(e>2*c){const t=d.sub(d.sub(f)._mult(c/e)._round());this.updateDistance(f,t),this.addCurrentVertex(t,m,0,0,u),f=t}}const _=f&&p;let A=_?n:a?"butt":r;if(_&&"round"===A&&(b<o?A="miter":b<=2&&(A="fakeround")),"miter"===A&&b>i&&(A="bevel"),"bevel"===A&&(b>2&&(A="flipbevel"),b<i&&(A="miter")),f&&this.updateDistance(f,d),"miter"===A)g._mult(b),this.addCurrentVertex(d,g,0,0,u);else if("flipbevel"===A){if(b>100)g=h.mult(-1);else{const e=b*m.add(h).mag()/m.sub(h).mag();g._perp()._mult(e*(E?-1:1))}this.addCurrentVertex(d,g,0,0,u),this.addCurrentVertex(d,g.mult(-1),0,0,u)}else if("bevel"===A||"fakeround"===A){const e=-Math.sqrt(b*b-1),t=E?e:0,n=E?0:e;if(f&&this.addCurrentVertex(d,m,t,n,u),"fakeround"===A){const e=Math.round(180*w/Math.PI/20);for(let t=1;t<e;t++){let n=t/e;if(.5!==n){const e=n-.5;n+=n*e*(n-1)*((1.0904+y*(y*(3.55645-1.43519*y)-3.2452))*e*e+(.848013+y*(.215638*y-1.06021)))}const r=h.sub(m)._mult(n)._add(m)._unit()._mult(E?-1:1);this.addHalfVertex(d,r.x,r.y,!1,E,0,u)}}p&&this.addCurrentVertex(d,h,-t,-n,u)}else if("butt"===A)this.addCurrentVertex(d,g,0,0,u);else if("square"===A){const e=f?1:-1;this.addCurrentVertex(d,g,e,e,u)}else"round"===A&&(f&&(this.addCurrentVertex(d,m,0,0,u),this.addCurrentVertex(d,m,1,1,u,!0)),p&&(this.addCurrentVertex(d,h,-1,-1,u,!0),this.addCurrentVertex(d,h,0,0,u)));if(x&&t<s-1){const e=d.dist(p);if(e>2*c){const t=d.add(p.sub(d)._mult(c/e)._round());this.updateDistance(d,t),this.addCurrentVertex(t,h,0,0,u),d=t}}}}addCurrentVertex(e,t,n,r,i,o=!1){const a=t.y*r-t.x,s=-t.y-t.x*r;this.addHalfVertex(e,t.x+t.y*n,t.y-t.x*n,o,!1,n,i),this.addHalfVertex(e,a,s,o,!0,-r,i),this.distance>zs/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(e,t,n,r,i,o))}addHalfVertex({x:e,y:t},n,r,i,o,a,s){const l=.5*(this.lineClips?this.scaledDistance*(zs-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((e<<1)+(i?1:0),(t<<1)+(o?1:0),Math.round(63*n)+128,Math.round(63*r)+128,1+(0===a?0:a<0?-1:1)|(63&l)<<2,l>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const c=s.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,c),s.primitiveLength++),o?this.e2=c:this.e1=c}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(e,t){this.distance+=e.dist(t),this.updateScaledDistance()}}Ar("LineBucket",Vs,{omit:["layers","patternFeatures"]});const Gs=new ui({"line-cap":new oi(re.layout_line["line-cap"]),"line-join":new ai(re.layout_line["line-join"]),"line-miter-limit":new oi(re.layout_line["line-miter-limit"]),"line-round-limit":new oi(re.layout_line["line-round-limit"]),"line-sort-key":new ai(re.layout_line["line-sort-key"])});var Hs={paint:new ui({"line-opacity":new ai(re.paint_line["line-opacity"]),"line-color":new ai(re.paint_line["line-color"]),"line-translate":new oi(re.paint_line["line-translate"]),"line-translate-anchor":new oi(re.paint_line["line-translate-anchor"]),"line-width":new ai(re.paint_line["line-width"]),"line-gap-width":new ai(re.paint_line["line-gap-width"]),"line-offset":new ai(re.paint_line["line-offset"]),"line-blur":new ai(re.paint_line["line-blur"]),"line-dasharray":new li(re.paint_line["line-dasharray"]),"line-pattern":new si(re.paint_line["line-pattern"]),"line-gradient":new ci(re.paint_line["line-gradient"])}),layout:Gs};const Ws=new class extends ai{possiblyEvaluate(e,t){return t=new Jr(Math.floor(t.zoom),{now:t.now,fadeDuration:t.fadeDuration,zoomHistory:t.zoomHistory,transition:t.transition}),super.possiblyEvaluate(e,t)}evaluate(e,t,n,r){return t=s({},t,{zoom:Math.floor(t.zoom)}),super.evaluate(e,t,n,r)}}(Hs.paint.properties["line-width"].specification);function Ys(e,t){return t>0?t+2*e:e}Ws.useIntegerZoom=!0;const Qs=gi([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Zs=gi([{name:"a_projected_pos",components:3,type:"Float32"}],4);gi([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const Xs=gi([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);gi([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const Js=gi([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),qs=gi([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Ks(e,t,n){return e.sections.forEach((e=>{e.text=function(e,t,n){const r=t.layout.get("text-transform").evaluate(n,{});return"uppercase"===r?e=e.toLocaleUpperCase():"lowercase"===r&&(e=e.toLocaleLowerCase()),Xr.applyArabicShaping&&(e=Xr.applyArabicShaping(e)),e}(e.text,t,n)})),e}gi([{name:"triangle",components:3,type:"Uint16"}]),gi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),gi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),gi([{type:"Float32",name:"offsetX"}]),gi([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);const $s={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};var el=24,tl=il,nl=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?i-1:0,f=n?-1:1,p=e[t+d];for(d+=f,o=p&(1<<-u)-1,p>>=-u,u+=s;u>0;o=256*o+e[t+d],d+=f,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=r;u>0;a=256*a+e[t+d],d+=f,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=c}return(p?-1:1)*a*Math.pow(2,o-r)},rl=function(e,t,n,r,i,o){var a,s,l,c=8*o-i-1,u=(1<<c)-1,d=u>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,m=r?1:-1,h=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?f/l:f*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*l-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[n+p]=255&s,p+=m,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+p]=255&a,p+=m,a/=256,c-=8);e[n+p-m]|=128*h};function il(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}il.Varint=0,il.Fixed64=1,il.Bytes=2,il.Fixed32=5;var ol,al=4294967296,sl=1/al,ll="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function cl(e){return e.type===il.Bytes?e.readVarint()+e.pos:e.pos+1}function ul(e,t,n){return n?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function dl(e,t,n){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=e;i--)n.buf[i+r]=n.buf[i]}function fl(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function pl(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function ml(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function hl(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function gl(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function yl(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function vl(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function bl(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function wl(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function xl(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function El(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function _l(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function Al(e,t,n){1===e&&n.readMessage(Ol,t)}function Ol(e,t,n){if(3===e){const{id:e,bitmap:r,width:i,height:o,left:a,top:s,advance:l}=n.readMessage(Sl,{});t.push({id:e,bitmap:new xa({width:i+6,height:o+6},r),metrics:{width:i,height:o,left:a,top:s,advance:l}})}}function Sl(e,t,n){1===e?t.id=n.readVarint():2===e?t.bitmap=n.readBytes():3===e?t.width=n.readVarint():4===e?t.height=n.readVarint():5===e?t.left=n.readSVarint():6===e?t.top=n.readSVarint():7===e&&(t.advance=n.readVarint())}function Tl(e){let t=0,n=0;for(const r of e)t+=r.w*r.h,n=Math.max(n,r.w);e.sort(((e,t)=>t.h-e.h));const r=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),n),h:1/0}];let i=0,o=0;for(const t of e)for(let e=r.length-1;e>=0;e--){const n=r[e];if(!(t.w>n.w||t.h>n.h)){if(t.x=n.x,t.y=n.y,o=Math.max(o,t.y+t.h),i=Math.max(i,t.x+t.w),t.w===n.w&&t.h===n.h){const t=r.pop();e<r.length&&(r[e]=t)}else t.h===n.h?(n.x+=t.w,n.w-=t.w):t.w===n.w?(n.y+=t.h,n.h-=t.h):(r.push({x:n.x+t.w,y:n.y,w:n.w-t.w,h:t.h}),n.y+=t.h,n.h-=t.h);break}}return{w:i,h:o,fill:t/(i*o)||0}}il.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=7&r,e(i,t,this),this.pos===o&&this.skip(r)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=xl(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=_l(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=xl(this.buf,this.pos)+xl(this.buf,this.pos+4)*al;return this.pos+=8,e},readSFixed64:function(){var e=xl(this.buf,this.pos)+_l(this.buf,this.pos+4)*al;return this.pos+=8,e},readFloat:function(){var e=nl(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=nl(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,n,r=this.buf;return t=127&(n=r[this.pos++]),n<128?t:(t|=(127&(n=r[this.pos++]))<<7,n<128?t:(t|=(127&(n=r[this.pos++]))<<14,n<128?t:(t|=(127&(n=r[this.pos++]))<<21,n<128?t:function(e,t,n){var r,i,o=n.buf;if(r=(112&(i=o[n.pos++]))>>4,i<128)return ul(e,r,t);if(r|=(127&(i=o[n.pos++]))<<3,i<128)return ul(e,r,t);if(r|=(127&(i=o[n.pos++]))<<10,i<128)return ul(e,r,t);if(r|=(127&(i=o[n.pos++]))<<17,i<128)return ul(e,r,t);if(r|=(127&(i=o[n.pos++]))<<24,i<128)return ul(e,r,t);if(r|=(1&(i=o[n.pos++]))<<31,i<128)return ul(e,r,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(n=r[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&ll?function(e,t,n){return ll.decode(e.subarray(t,n))}(this.buf,t,e):function(e,t,n){for(var r="",i=t;i<n;){var o,a,s,l=e[i],c=null,u=l>239?4:l>223?3:l>191?2:1;if(i+u>n)break;1===u?l<128&&(c=l):2===u?128==(192&(o=e[i+1]))&&(c=(31&l)<<6|63&o)<=127&&(c=null):3===u?(a=e[i+2],128==(192&(o=e[i+1]))&&128==(192&a)&&((c=(15&l)<<12|(63&o)<<6|63&a)<=2047||c>=55296&&c<=57343)&&(c=null)):4===u&&(a=e[i+2],s=e[i+3],128==(192&(o=e[i+1]))&&128==(192&a)&&128==(192&s)&&((c=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||c>=1114112)&&(c=null)),null===c?(c=65533,u=1):c>65535&&(c-=65536,r+=String.fromCharCode(c>>>10&1023|55296),c=56320|1023&c),r+=String.fromCharCode(c),i+=u}return r}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==il.Bytes)return e.push(this.readVarint(t));var n=cl(this);for(e=e||[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==il.Bytes)return e.push(this.readSVarint());var t=cl(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==il.Bytes)return e.push(this.readBoolean());var t=cl(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==il.Bytes)return e.push(this.readFloat());var t=cl(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==il.Bytes)return e.push(this.readDouble());var t=cl(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==il.Bytes)return e.push(this.readFixed32());var t=cl(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==il.Bytes)return e.push(this.readSFixed32());var t=cl(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==il.Bytes)return e.push(this.readFixed64());var t=cl(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==il.Bytes)return e.push(this.readSFixed64());var t=cl(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===il.Varint)for(;this.buf[this.pos++]>127;);else if(t===il.Bytes)this.pos=this.readVarint()+this.pos;else if(t===il.Fixed32)this.pos+=4;else{if(t!==il.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),El(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),El(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),El(this.buf,-1&e,this.pos),El(this.buf,Math.floor(e*sl),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),El(this.buf,-1&e,this.pos),El(this.buf,Math.floor(e*sl),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var n,r;if(e>=0?(n=e%4294967296|0,r=e/4294967296|0):(r=~(-e/4294967296),4294967295^(n=~(-e%4294967296))?n=n+1|0:(n=0,r=r+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,n){n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,n.buf[n.pos]=127&(e>>>=7)}(n,0,t),function(e,t){var n=(7&e)<<4;t.buf[t.pos++]|=n|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}(r,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,n){for(var r,i,o=0;o<t.length;o++){if((r=t.charCodeAt(o))>55295&&r<57344){if(!i){r>56319||o+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):i=r;continue}if(r<56320){e[n++]=239,e[n++]=191,e[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(e[n++]=239,e[n++]=191,e[n++]=189,i=null);r<128?e[n++]=r:(r<2048?e[n++]=r>>6|192:(r<65536?e[n++]=r>>12|224:(e[n++]=r>>18|240,e[n++]=r>>12&63|128),e[n++]=r>>6&63|128),e[n++]=63&r|128)}return n}(this.buf,e,this.pos);var n=this.pos-t;n>=128&&dl(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),rl(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),rl(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var r=this.pos-n;r>=128&&dl(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,t,n){this.writeTag(e,il.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,fl,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,pl,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,gl,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,ml,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,hl,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,yl,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,vl,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,bl,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,wl,t)},writeBytesField:function(e,t){this.writeTag(e,il.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,il.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,il.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,il.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,il.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,il.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,il.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,il.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,il.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,il.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}};class Il{constructor(e,{pixelRatio:t,version:n,stretchX:r,stretchY:i,content:o}){this.paddedRect=e,this.pixelRatio=t,this.stretchX=r,this.stretchY=i,this.content=o,this.version=n}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class kl{constructor(e,t){const n={},r={};this.haveRenderCallbacks=[];const i=[];this.addImages(e,n,i),this.addImages(t,r,i);const{w:o,h:a}=Tl(i),s=new Ea({width:o||1,height:a||1});for(const t in e){const r=e[t],i=n[t].paddedRect;Ea.copy(r.data,s,{x:0,y:0},{x:i.x+1,y:i.y+1},r.data)}for(const e in t){const n=t[e],i=r[e].paddedRect,o=i.x+1,a=i.y+1,l=n.data.width,c=n.data.height;Ea.copy(n.data,s,{x:0,y:0},{x:o,y:a},n.data),Ea.copy(n.data,s,{x:0,y:c-1},{x:o,y:a-1},{width:l,height:1}),Ea.copy(n.data,s,{x:0,y:0},{x:o,y:a+c},{width:l,height:1}),Ea.copy(n.data,s,{x:l-1,y:0},{x:o-1,y:a},{width:1,height:c}),Ea.copy(n.data,s,{x:0,y:0},{x:o+l,y:a},{width:1,height:c})}this.image=s,this.iconPositions=n,this.patternPositions=r}addImages(e,t,n){for(const r in e){const i=e[r],o={x:0,y:0,w:i.data.width+2,h:i.data.height+2};n.push(o),t[r]=new Il(o,i),i.hasRenderCallback&&this.haveRenderCallbacks.push(r)}}patchUpdatedImages(e,t){e.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const n in e.updatedImages)this.patchUpdatedImage(this.iconPositions[n],e.getImage(n),t),this.patchUpdatedImage(this.patternPositions[n],e.getImage(n),t)}patchUpdatedImage(e,t,n){if(!e||!t)return;if(e.version===t.version)return;e.version=t.version;const[r,i]=e.tl;n.update(t.data,void 0,{x:r,y:i})}}Ar("ImagePosition",Il),Ar("ImageAtlas",kl),e.WritingMode=void 0,(ol=e.WritingMode||(e.WritingMode={}))[ol.none=0]="none",ol[ol.horizontal=1]="horizontal",ol[ol.vertical=2]="vertical",ol[ol.horizontalOnly=3]="horizontalOnly";const Cl=-17;class Ml{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(e,t){const n=new Ml;return n.scale=e||1,n.fontStack=t,n}static forImage(e){const t=new Ml;return t.imageName=e,t}}class Nl{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(e,t){const n=new Nl;for(let r=0;r<e.sections.length;r++){const i=e.sections[r];i.image?n.addImageSection(i):n.addTextSection(i,t)}return n}length(){return this.text.length}getSection(e){return this.sections[this.sectionIndex[e]]}getSectionIndex(e){return this.sectionIndex[e]}getCharCode(e){return this.text.charCodeAt(e)}verticalizePunctuation(){this.text=function(e){let t="";for(let n=0;n<e.length;n++){const r=e.charCodeAt(n+1)||null,i=e.charCodeAt(n-1)||null;t+=r&&Lr(r)&&!$s[e[n+1]]||i&&Lr(i)&&!$s[e[n-1]]||!$s[e[n]]?e[n]:$s[e[n]]}return t}(this.text)}trim(){let e=0;for(let t=0;t<this.text.length&&Ll[this.text.charCodeAt(t)];t++)e++;let t=this.text.length;for(let n=this.text.length-1;n>=0&&n>=e&&Ll[this.text.charCodeAt(n)];n--)t--;this.text=this.text.substring(e,t),this.sectionIndex=this.sectionIndex.slice(e,t)}substring(e,t){const n=new Nl;return n.text=this.text.substring(e,t),n.sectionIndex=this.sectionIndex.slice(e,t),n.sections=this.sections,n}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce(((e,t)=>Math.max(e,this.sections[t].scale)),0)}addTextSection(e,t){this.text+=e.text,this.sections.push(Ml.forText(e.scale,e.fontStack||t));const n=this.sections.length-1;for(let t=0;t<e.text.length;++t)this.sectionIndex.push(n)}addImageSection(e){const t=e.image?e.image.name:"";if(0===t.length)return void m("Can't add FormattedSection with an empty image.");const n=this.getNextImageSectionCharCode();n?(this.text+=String.fromCharCode(n),this.sections.push(Ml.forImage(t)),this.sectionIndex.push(this.sections.length-1)):m("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function jl(t,n,r,i,o,a,s,l,c,u,d,f,p,m,h,g){const y=Nl.fromFeature(t,o);let v;f===e.WritingMode.vertical&&y.verticalizePunctuation();const{processBidirectionalText:b,processStyledBidirectionalText:w}=Xr;if(b&&1===y.sections.length){v=[];const e=b(y.toString(),zl(y,u,a,n,i,m,h));for(const t of e){const e=new Nl;e.text=t,e.sections=y.sections;for(let n=0;n<t.length;n++)e.sectionIndex.push(0);v.push(e)}}else if(w){v=[];const e=w(y.text,y.sectionIndex,zl(y,u,a,n,i,m,h));for(const t of e){const e=new Nl;e.text=t[0],e.sectionIndex=t[1],e.sections=y.sections,v.push(e)}}else v=function(e,t){const n=[],r=e.text;let i=0;for(const r of t)n.push(e.substring(i,r)),i=r;return i<r.length&&n.push(e.substring(i,r.length)),n}(y,zl(y,u,a,n,i,m,h));const x=[],E={positionedLines:x,text:y.toString(),top:d[1],bottom:d[1],left:d[0],right:d[0],writingMode:f,iconsInText:!1,verticalizable:!1};return function(t,n,r,i,o,a,s,l,c,u,d,f){let p=0,m=Cl,h=0,g=0;const y="right"===l?1:"left"===l?0:.5;let v=0;for(const s of o){s.trim();const o=s.getMaxScale(),l=(o-1)*el,w={positionedGlyphs:[],lineOffset:0};t.positionedLines[v]=w;const x=w.positionedGlyphs;let E=0;if(!s.length()){m+=a,++v;continue}for(let a=0;a<s.length();a++){const h=s.getSection(a),g=s.getSectionIndex(a),y=s.getCharCode(a);let v=0,w=null,_=null,A=null,O=el;const S=!(c===e.WritingMode.horizontal||!d&&!jr(y)||d&&(Ll[y]||(b=y,kr.Arabic(b)||kr["Arabic Supplement"](b)||kr["Arabic Extended-A"](b)||kr["Arabic Presentation Forms-A"](b)||kr["Arabic Presentation Forms-B"](b))));if(h.imageName){const e=i[h.imageName];if(!e)continue;A=h.imageName,t.iconsInText=t.iconsInText||!0,_=e.paddedRect;const n=e.displaySize;h.scale=h.scale*el/f,w={width:n[0],height:n[1],left:1,top:-3,advance:S?n[1]:n[0]},v=l+(el-n[1]*h.scale),O=w.advance;const r=S?n[0]*h.scale-el*o:n[1]*h.scale-el*o;r>0&&r>E&&(E=r)}else{const e=r[h.fontStack],t=e&&e[y];if(t&&t.rect)_=t.rect,w=t.metrics;else{const e=n[h.fontStack],t=e&&e[y];if(!t)continue;w=t.metrics}v=(o-h.scale)*el}S?(t.verticalizable=!0,x.push({glyph:y,imageName:A,x:p,y:m+v,vertical:S,scale:h.scale,fontStack:h.fontStack,sectionIndex:g,metrics:w,rect:_}),p+=O*h.scale+u):(x.push({glyph:y,imageName:A,x:p,y:m+v,vertical:S,scale:h.scale,fontStack:h.fontStack,sectionIndex:g,metrics:w,rect:_}),p+=w.advance*h.scale+u)}0!==x.length&&(h=Math.max(p-u,h),Gl(x,0,x.length-1,y,E)),p=0;const _=a*o+E;w.lineOffset=Math.max(E,l),m+=_,g=Math.max(_,g),++v}var b;const w=m-Cl,{horizontalAlign:x,verticalAlign:E}=Vl(s);(function(e,t,n,r,i,o,a,s,l){const c=(t-n)*i;let u=0;u=o!==a?-s*r-Cl:(-r*l+.5)*a;for(const t of e)for(const e of t.positionedGlyphs)e.x+=c,e.y+=u})(t.positionedLines,y,x,E,h,g,a,w,o.length),t.top+=-E*w,t.bottom=t.top+w,t.left+=-x*h,t.right=t.left+h}(E,n,r,i,v,s,l,c,f,u,p,g),!function(e){for(const t of e)if(0!==t.positionedGlyphs.length)return!1;return!0}(x)&&E}const Ll={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Rl={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function Dl(e,t,n,r,i,o){if(t.imageName){const e=r[t.imageName];return e?e.displaySize[0]*t.scale*el/o+i:0}{const r=n[t.fontStack],o=r&&r[e];return o?o.metrics.advance*t.scale+i:0}}function Pl(e,t,n,r){const i=Math.pow(e-t,2);return r?e<t?i/2:2*i:i+Math.abs(n)*n}function Bl(e,t,n){let r=0;return 10===e&&(r-=1e4),n&&(r+=150),40!==e&&65288!==e||(r+=50),41!==t&&65289!==t||(r+=50),r}function Fl(e,t,n,r,i,o){let a=null,s=Pl(t,n,i,o);for(const e of r){const r=Pl(t-e.x,n,i,o)+e.badness;r<=s&&(a=e,s=r)}return{index:e,x:t,priorBreak:a,badness:s}}function Ul(e){return e?Ul(e.priorBreak).concat(e.index):[]}function zl(e,t,n,r,i,o,a){if("point"!==o)return[];if(!e)return[];const s=[],l=function(e,t,n,r,i,o){let a=0;for(let n=0;n<e.length();n++){const s=e.getSection(n);a+=Dl(e.getCharCode(n),s,r,i,t,o)}return a/Math.max(1,Math.ceil(a/n))}(e,t,n,r,i,a),c=e.text.indexOf("")>=0;let u=0;for(let n=0;n<e.length();n++){const o=e.getSection(n),f=e.getCharCode(n);if(Ll[f]||(u+=Dl(f,o,r,i,t,a)),n<e.length()-1){const t=!((d=f)<11904||!(kr["Bopomofo Extended"](d)||kr.Bopomofo(d)||kr["CJK Compatibility Forms"](d)||kr["CJK Compatibility Ideographs"](d)||kr["CJK Compatibility"](d)||kr["CJK Radicals Supplement"](d)||kr["CJK Strokes"](d)||kr["CJK Symbols and Punctuation"](d)||kr["CJK Unified Ideographs Extension A"](d)||kr["CJK Unified Ideographs"](d)||kr["Enclosed CJK Letters and Months"](d)||kr["Halfwidth and Fullwidth Forms"](d)||kr.Hiragana(d)||kr["Ideographic Description Characters"](d)||kr["Kangxi Radicals"](d)||kr["Katakana Phonetic Extensions"](d)||kr.Katakana(d)||kr["Vertical Forms"](d)||kr["Yi Radicals"](d)||kr["Yi Syllables"](d)));(Rl[f]||t||o.imageName)&&s.push(Fl(n+1,u,l,s,Bl(f,e.getCharCode(n+1),t&&c),!1))}}var d;return Ul(Fl(e.length(),u,l,s,0,!0))}function Vl(e){let t=.5,n=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(e){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:t,verticalAlign:n}}function Gl(e,t,n,r,i){if(!r&&!i)return;const o=e[n],a=(e[n].x+o.metrics.advance*o.scale)*r;for(let r=t;r<=n;r++)e[r].x-=a,e[r].y+=i}function Hl(e,t,n){const{horizontalAlign:r,verticalAlign:i}=Vl(n),o=t[0]-e.displaySize[0]*r,a=t[1]-e.displaySize[1]*i;return{image:e,top:a,bottom:a+e.displaySize[1],left:o,right:o+e.displaySize[0]}}function Wl(e,t,n,r,i,o){const a=e.image;let s;if(a.content){const e=a.content,t=a.pixelRatio||1;s=[e[0]/t,e[1]/t,a.displaySize[0]-e[2]/t,a.displaySize[1]-e[3]/t]}const l=t.left*o,c=t.right*o;let u,d,f,p;"width"===n||"both"===n?(p=i[0]+l-r[3],d=i[0]+c+r[1]):(p=i[0]+(l+c-a.displaySize[0])/2,d=p+a.displaySize[0]);const m=t.top*o,h=t.bottom*o;return"height"===n||"both"===n?(u=i[1]+m-r[0],f=i[1]+h+r[2]):(u=i[1]+(m+h-a.displaySize[1])/2,f=u+a.displaySize[1]),{image:a,top:u,right:d,bottom:f,left:p,collisionPadding:s}}const Yl=128;function Ql(e,t){const{expression:n}=t;if("constant"===n.kind)return{kind:"constant",layoutSize:n.evaluate(new Jr(e+1))};if("source"===n.kind)return{kind:"source"};{const{zoomStops:t,interpolationType:r}=n;let i=0;for(;i<t.length&&t[i]<=e;)i++;i=Math.max(0,i-1);let o=i;for(;o<t.length&&t[o]<e+1;)o++;o=Math.min(t.length-1,o);const a=t[i],s=t[o];return"composite"===n.kind?{kind:"composite",minZoom:a,maxZoom:s,interpolationType:r}:{kind:"camera",minZoom:a,maxZoom:s,minSize:n.evaluate(new Jr(a)),maxSize:n.evaluate(new Jr(s)),interpolationType:r}}}class Zl extends O{constructor(e,t,n,r){super(e,t),this.angle=n,void 0!==r&&(this.segment=r)}clone(){return new Zl(this.x,this.y,this.angle,this.segment)}}function Xl(e,t,n,r,i){if(void 0===t.segment)return!0;let o=t,a=t.segment+1,s=0;for(;s>-n/2;){if(a--,a<0)return!1;s-=e[a].dist(o),o=e[a]}s+=e[a].dist(e[a+1]),a++;const l=[];let c=0;for(;s<n/2;){const t=e[a],n=e[a+1];if(!n)return!1;let o=e[a-1].angleTo(t)-t.angleTo(n);for(o=Math.abs((o+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:s,angleDelta:o}),c+=o;s-l[0].distance>r;)c-=l.shift().angleDelta;if(c>i)return!1;a++,s+=t.dist(n)}return!0}function Jl(e){let t=0;for(let n=0;n<e.length-1;n++)t+=e[n].dist(e[n+1]);return t}function ql(e,t,n){return e?.6*t*n:0}function Kl(e,t){return Math.max(e?e.right-e.left:0,t?t.right-t.left:0)}function $l(e,t,n,r,i,o){const a=ql(n,i,o),s=Kl(n,r)*o;let l=0;const c=Jl(e)/2;for(let n=0;n<e.length-1;n++){const r=e[n],i=e[n+1],o=r.dist(i);if(l+o>c){const u=(c-l)/o,d=Ot(r.x,i.x,u),f=Ot(r.y,i.y,u),p=new Zl(d,f,i.angleTo(r),n);return p._round(),!a||Xl(e,p,s,a,t)?p:void 0}l+=o}}function ec(e,t,n,r,i,o,a,s,l){const c=ql(r,o,a),u=Kl(r,i),d=u*a,f=0===e[0].x||e[0].x===l||0===e[0].y||e[0].y===l;return t-d<t/4&&(t=d+t/4),tc(e,f?t/2*s%t:(u/2+2*o)*a*s%t,t,c,n,d,f,!1,l)}function tc(e,t,n,r,i,o,a,s,l){const c=o/2,u=Jl(e);let d=0,f=t-n,p=[];for(let t=0;t<e.length-1;t++){const a=e[t],s=e[t+1],m=a.dist(s),h=s.angleTo(a);for(;f+n<d+m;){f+=n;const g=(f-d)/m,y=Ot(a.x,s.x,g),v=Ot(a.y,s.y,g);if(y>=0&&y<l&&v>=0&&v<l&&f-c>=0&&f+c<=u){const n=new Zl(y,v,h,t);n._round(),r&&!Xl(e,n,o,r,i)||p.push(n)}}d+=m}return s||p.length||a||(p=tc(e,d/2,n,r,i,o,a,!0,l)),p}function nc(e,t,n,r,i){const o=[];for(let a=0;a<e.length;a++){const s=e[a];let l;for(let e=0;e<s.length-1;e++){let a=s[e],c=s[e+1];a.x<t&&c.x<t||(a.x<t?a=new O(t,a.y+(t-a.x)/(c.x-a.x)*(c.y-a.y))._round():c.x<t&&(c=new O(t,a.y+(t-a.x)/(c.x-a.x)*(c.y-a.y))._round()),a.y<n&&c.y<n||(a.y<n?a=new O(a.x+(n-a.y)/(c.y-a.y)*(c.x-a.x),n)._round():c.y<n&&(c=new O(a.x+(n-a.y)/(c.y-a.y)*(c.x-a.x),n)._round()),a.x>=r&&c.x>=r||(a.x>=r?a=new O(r,a.y+(r-a.x)/(c.x-a.x)*(c.y-a.y))._round():c.x>=r&&(c=new O(r,a.y+(r-a.x)/(c.x-a.x)*(c.y-a.y))._round()),a.y>=i&&c.y>=i||(a.y>=i?a=new O(a.x+(i-a.y)/(c.y-a.y)*(c.x-a.x),i)._round():c.y>=i&&(c=new O(a.x+(i-a.y)/(c.y-a.y)*(c.x-a.x),i)._round()),l&&a.equals(l[l.length-1])||(l=[a],o.push(l)),l.push(c)))))}}return o}function rc(e,t,n,r){const i=[],o=e.image,a=o.pixelRatio,s=o.paddedRect.w-2,l=o.paddedRect.h-2,c=e.right-e.left,u=e.bottom-e.top,d=o.stretchX||[[0,s]],f=o.stretchY||[[0,l]],p=(e,t)=>e+t[1]-t[0],m=d.reduce(p,0),h=f.reduce(p,0),g=s-m,y=l-h;let v=0,b=m,w=0,x=h,E=0,_=g,A=0,S=y;if(o.content&&r){const e=o.content;v=ic(d,0,e[0]),w=ic(f,0,e[1]),b=ic(d,e[0],e[2]),x=ic(f,e[1],e[3]),E=e[0]-v,A=e[1]-w,_=e[2]-e[0]-b,S=e[3]-e[1]-x}const T=(r,i,s,l)=>{const d=ac(r.stretch-v,b,c,e.left),f=sc(r.fixed-E,_,r.stretch,m),p=ac(i.stretch-w,x,u,e.top),g=sc(i.fixed-A,S,i.stretch,h),y=ac(s.stretch-v,b,c,e.left),T=sc(s.fixed-E,_,s.stretch,m),I=ac(l.stretch-w,x,u,e.top),k=sc(l.fixed-A,S,l.stretch,h),C=new O(d,p),M=new O(y,p),N=new O(y,I),j=new O(d,I),L=new O(f/a,g/a),R=new O(T/a,k/a),D=t*Math.PI/180;if(D){const e=Math.sin(D),t=Math.cos(D),n=[t,-e,e,t];C._matMult(n),M._matMult(n),j._matMult(n),N._matMult(n)}const P=r.stretch+r.fixed,B=i.stretch+i.fixed;return{tl:C,tr:M,bl:j,br:N,tex:{x:o.paddedRect.x+1+P,y:o.paddedRect.y+1+B,w:s.stretch+s.fixed-P,h:l.stretch+l.fixed-B},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:L,pixelOffsetBR:R,minFontScaleX:_/a/c,minFontScaleY:S/a/u,isSDF:n}};if(r&&(o.stretchX||o.stretchY)){const e=oc(d,g,m),t=oc(f,y,h);for(let n=0;n<e.length-1;n++){const r=e[n],o=e[n+1];for(let e=0;e<t.length-1;e++)i.push(T(r,t[e],o,t[e+1]))}}else i.push(T({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:s+1},{fixed:0,stretch:l+1}));return i}function ic(e,t,n){let r=0;for(const i of e)r+=Math.max(t,Math.min(n,i[1]))-Math.max(t,Math.min(n,i[0]));return r}function oc(e,t,n){const r=[{fixed:-1,stretch:0}];for(const[t,n]of e){const e=r[r.length-1];r.push({fixed:t-e.stretch,stretch:e.stretch}),r.push({fixed:t-e.stretch,stretch:e.stretch+(n-t)})}return r.push({fixed:t+1,stretch:n}),r}function ac(e,t,n,r){return e/t*n+r}function sc(e,t,n,r){return e-t*n/r}Ar("Anchor",Zl);class lc{constructor(e,t,n,r,i,o,a,s,l,c){if(this.boxStartIndex=e.length,l){let e=o.top,t=o.bottom;const n=o.collisionPadding;n&&(e-=n[1],t+=n[3]);let r=t-e;r>0&&(r=Math.max(10,r),this.circleDiameter=r)}else{let l=o.top*a-s,u=o.bottom*a+s,d=o.left*a-s,f=o.right*a+s;const p=o.collisionPadding;if(p&&(d-=p[0]*a,l-=p[1]*a,f+=p[2]*a,u+=p[3]*a),c){const e=new O(d,l),t=new O(f,l),n=new O(d,u),r=new O(f,u),i=c*Math.PI/180;e._rotate(i),t._rotate(i),n._rotate(i),r._rotate(i),d=Math.min(e.x,t.x,n.x,r.x),f=Math.max(e.x,t.x,n.x,r.x),l=Math.min(e.y,t.y,n.y,r.y),u=Math.max(e.y,t.y,n.y,r.y)}e.emplaceBack(t.x,t.y,d,l,f,u,n,r,i)}this.boxEndIndex=e.length}}class cc{constructor(e=[],t=uc){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let e=(this.length>>1)-1;e>=0;e--)this._down(e)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:n}=this,r=t[e];for(;e>0;){const i=e-1>>1,o=t[i];if(n(r,o)>=0)break;t[e]=o,e=i}t[e]=r}_down(e){const{data:t,compare:n}=this,r=this.length>>1,i=t[e];for(;e<r;){let r=1+(e<<1),o=t[r];const a=r+1;if(a<this.length&&n(t[a],o)<0&&(r=a,o=t[a]),n(o,i)>=0)break;t[e]=o,e=r}t[e]=i}}function uc(e,t){return e<t?-1:e>t?1:0}function dc(e,t=1,n=!1){let r=1/0,i=1/0,o=-1/0,a=-1/0;const s=e[0];for(let e=0;e<s.length;e++){const t=s[e];(!e||t.x<r)&&(r=t.x),(!e||t.y<i)&&(i=t.y),(!e||t.x>o)&&(o=t.x),(!e||t.y>a)&&(a=t.y)}const l=Math.min(o-r,a-i);let c=l/2;const u=new cc([],fc);if(0===l)return new O(r,i);for(let t=r;t<o;t+=l)for(let n=i;n<a;n+=l)u.push(new pc(t+c,n+c,c,e));let d=function(e){let t=0,n=0,r=0;const i=e[0];for(let e=0,o=i.length,a=o-1;e<o;a=e++){const o=i[e],s=i[a],l=o.x*s.y-s.x*o.y;n+=(o.x+s.x)*l,r+=(o.y+s.y)*l,t+=3*l}return new pc(n/t,r/t,0,e)}(e),f=u.length;for(;u.length;){const r=u.pop();(r.d>d.d||!d.d)&&(d=r,n&&console.log("found best %d after %d probes",Math.round(1e4*r.d)/1e4,f)),r.max-d.d<=t||(c=r.h/2,u.push(new pc(r.p.x-c,r.p.y-c,c,e)),u.push(new pc(r.p.x+c,r.p.y-c,c,e)),u.push(new pc(r.p.x-c,r.p.y+c,c,e)),u.push(new pc(r.p.x+c,r.p.y+c,c,e)),f+=4)}return n&&(console.log(`num probes: ${f}`),console.log(`best distance: ${d.d}`)),d.p}function fc(e,t){return t.max-e.max}function pc(e,t,n,r){this.p=new O(e,t),this.h=n,this.d=function(e,t){let n=!1,r=1/0;for(let i=0;i<t.length;i++){const o=t[i];for(let t=0,i=o.length,a=i-1;t<i;a=t++){const i=o[t],s=o[a];i.y>e.y!=s.y>e.y&&e.x<(s.x-i.x)*(e.y-i.y)/(s.y-i.y)+i.x&&(n=!n),r=Math.min(r,ea(e,i,s))}}return(n?1:-1)*Math.sqrt(r)}(this.p,r),this.max=this.d+this.h*Math.SQRT2}const mc=Number.POSITIVE_INFINITY;function hc(e,t){return t[1]!==mc?function(e,t,n){let r=0,i=0;switch(t=Math.abs(t),n=Math.abs(n),e){case"top-right":case"top-left":case"top":i=n-7;break;case"bottom-right":case"bottom-left":case"bottom":i=7-n}switch(e){case"top-right":case"bottom-right":case"right":r=-t;break;case"top-left":case"bottom-left":case"left":r=t}return[r,i]}(e,t[0],t[1]):function(e,t){let n=0,r=0;t<0&&(t=0);const i=t/Math.sqrt(2);switch(e){case"top-right":case"top-left":r=i-7;break;case"bottom-right":case"bottom-left":r=7-i;break;case"bottom":r=7-t;break;case"top":r=t-7}switch(e){case"top-right":case"bottom-right":n=-i;break;case"top-left":case"bottom-left":n=i;break;case"left":n=t;break;case"right":n=-t}return[n,r]}(e,t[0])}function gc(e){switch(e){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function yc(t,n,r,i,o,a,s,l,c,u,d){let f=a.textMaxSize.evaluate(n,{});void 0===f&&(f=s);const p=t.layers[0].layout,h=p.get("icon-offset").evaluate(n,{},d),g=wc(r.horizontal),y=s/24,v=t.tilePixelRatio*y,b=t.tilePixelRatio*f/24,w=t.tilePixelRatio*l,x=t.tilePixelRatio*p.get("symbol-spacing"),E=p.get("text-padding")*t.tilePixelRatio,_=p.get("icon-padding")*t.tilePixelRatio,A=p.get("text-max-angle")/180*Math.PI,O="viewport"!==p.get("text-rotation-alignment")&&"point"!==p.get("symbol-placement"),S="map"===p.get("icon-rotation-alignment")&&"point"!==p.get("symbol-placement"),T=p.get("symbol-placement"),I=x/2,k=p.get("icon-text-fit");let C;i&&"none"!==k&&(t.allowVerticalPlacement&&r.vertical&&(C=Wl(i,r.vertical,k,p.get("icon-text-fit-padding"),h,y)),g&&(i=Wl(i,g,k,p.get("icon-text-fit-padding"),h,y)));const M=(l,f)=>{f.x<0||f.x>=Uo||f.y<0||f.y>=Uo||function(t,n,r,i,o,a,s,l,c,u,d,f,p,h,g,y,v,b,w,x,E,_,A,O,S){const T=t.addToLineVertexArray(n,r);let I,k,C,M,N=0,j=0,L=0,R=0,D=-1,P=-1;const B={};let F=wo(""),U=0,z=0;if(void 0===l._unevaluatedLayout.getValue("text-radial-offset")?[U,z]=l.layout.get("text-offset").evaluate(E,{},O).map((e=>e*el)):(U=l.layout.get("text-radial-offset").evaluate(E,{},O)*el,z=mc),t.allowVerticalPlacement&&i.vertical){const e=l.layout.get("text-rotate").evaluate(E,{},O)+90;C=new lc(c,n,u,d,f,i.vertical,p,h,g,e),s&&(M=new lc(c,n,u,d,f,s,v,b,g,e))}if(o){const r=l.layout.get("icon-rotate").evaluate(E,{}),i="none"!==l.layout.get("icon-text-fit"),a=rc(o,r,A,i),p=s?rc(s,r,A,i):void 0;k=new lc(c,n,u,d,f,o,v,b,!1,r),N=4*a.length;const h=t.iconSizeData;let g=null;"source"===h.kind?(g=[Yl*l.layout.get("icon-size").evaluate(E,{})],g[0]>vc&&m(`${t.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):"composite"===h.kind&&(g=[Yl*_.compositeIconSizes[0].evaluate(E,{},O),Yl*_.compositeIconSizes[1].evaluate(E,{},O)],(g[0]>vc||g[1]>vc)&&m(`${t.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),t.addSymbols(t.icon,a,g,x,w,E,e.WritingMode.none,n,T.lineStartIndex,T.lineLength,-1,O),D=t.icon.placedSymbolArray.length-1,p&&(j=4*p.length,t.addSymbols(t.icon,p,g,x,w,E,e.WritingMode.vertical,n,T.lineStartIndex,T.lineLength,-1,O),P=t.icon.placedSymbolArray.length-1)}const V=Object.keys(i.horizontal);for(const r of V){const o=i.horizontal[r];if(!I){F=wo(o.text);const e=l.layout.get("text-rotate").evaluate(E,{},O);I=new lc(c,n,u,d,f,o,p,h,g,e)}const s=1===o.positionedLines.length;if(L+=bc(t,n,o,a,l,g,E,y,T,i.vertical?e.WritingMode.horizontal:e.WritingMode.horizontalOnly,s?V:[r],B,D,_,O),s)break}i.vertical&&(R+=bc(t,n,i.vertical,a,l,g,E,y,T,e.WritingMode.vertical,["vertical"],B,P,_,O));const G=I?I.boxStartIndex:t.collisionBoxArray.length,H=I?I.boxEndIndex:t.collisionBoxArray.length,W=C?C.boxStartIndex:t.collisionBoxArray.length,Y=C?C.boxEndIndex:t.collisionBoxArray.length,Q=k?k.boxStartIndex:t.collisionBoxArray.length,Z=k?k.boxEndIndex:t.collisionBoxArray.length,X=M?M.boxStartIndex:t.collisionBoxArray.length,J=M?M.boxEndIndex:t.collisionBoxArray.length;let q=-1;const K=(e,t)=>e&&e.circleDiameter?Math.max(e.circleDiameter,t):t;q=K(I,q),q=K(C,q),q=K(k,q),q=K(M,q);const $=q>-1?1:0;$&&(q*=S/el),t.glyphOffsetArray.length>=kc.MAX_GLYPHS&&m("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==E.sortKey&&t.addToSortKeyRanges(t.symbolInstances.length,E.sortKey),t.symbolInstances.emplaceBack(n.x,n.y,B.right>=0?B.right:-1,B.center>=0?B.center:-1,B.left>=0?B.left:-1,B.vertical||-1,D,P,F,G,H,W,Y,Q,Z,X,J,u,L,R,N,j,$,0,p,U,z,q)}(t,f,l,r,i,o,C,t.layers[0],t.collisionBoxArray,n.index,n.sourceLayerIndex,t.index,v,E,O,c,w,_,S,h,n,a,u,d,s)};if("line"===T)for(const e of nc(n.geometry,0,0,Uo,Uo)){const n=ec(e,x,A,r.vertical||g,i,24,b,t.overscaling,Uo);for(const r of n){const n=g;n&&xc(t,n.text,I,r)||M(e,r)}}else if("line-center"===T){for(const e of n.geometry)if(e.length>1){const t=$l(e,A,r.vertical||g,i,24,b);t&&M(e,t)}}else if("Polygon"===n.type)for(const e of os(n.geometry,0)){const t=dc(e,16);M(e[0],new Zl(t.x,t.y,0))}else if("LineString"===n.type)for(const e of n.geometry)M(e,new Zl(e[0].x,e[0].y,0));else if("Point"===n.type)for(const e of n.geometry)for(const t of e)M([t],new Zl(t.x,t.y,0))}const vc=32640;function bc(e,t,n,r,i,o,a,s,l,c,u,d,f,p,h){const g=function(e,t,n,r,i,o,a,s){const l=r.layout.get("text-rotate").evaluate(o,{})*Math.PI/180,c=[];for(const e of t.positionedLines)for(const r of e.positionedGlyphs){if(!r.rect)continue;const o=r.rect||{};let u=4,d=!0,f=1,p=0;const m=(i||s)&&r.vertical,h=r.metrics.advance*r.scale/2;if(s&&t.verticalizable){const t=(r.scale-1)*el,n=(el-r.metrics.width*r.scale)/2;p=e.lineOffset/2-(r.imageName?-n:t)}if(r.imageName){const e=a[r.imageName];d=e.sdf,f=e.pixelRatio,u=1/f}const g=i?[r.x+h,r.y]:[0,0];let y=i?[0,0]:[r.x+h+n[0],r.y+n[1]-p],v=[0,0];m&&(v=y,y=[0,0]);const b=(r.metrics.left-u)*r.scale-h+y[0],w=(-r.metrics.top-u)*r.scale+y[1],x=b+o.w*r.scale/f,E=w+o.h*r.scale/f,_=new O(b,w),A=new O(x,w),S=new O(b,E),T=new O(x,E);if(m){const e=new O(-h,h-Cl),t=-Math.PI/2,n=12-h,i=new O(22-n,-(r.imageName?n:0)),o=new O(...v);_._rotateAround(t,e)._add(i)._add(o),A._rotateAround(t,e)._add(i)._add(o),S._rotateAround(t,e)._add(i)._add(o),T._rotateAround(t,e)._add(i)._add(o)}if(l){const e=Math.sin(l),t=Math.cos(l),n=[t,-e,e,t];_._matMult(n),A._matMult(n),S._matMult(n),T._matMult(n)}const I=new O(0,0),k=new O(0,0);c.push({tl:_,tr:A,bl:S,br:T,tex:o,writingMode:t.writingMode,glyphOffset:g,sectionIndex:r.sectionIndex,isSDF:d,pixelOffsetTL:I,pixelOffsetBR:k,minFontScaleX:0,minFontScaleY:0})}return c}(0,n,s,i,o,a,r,e.allowVerticalPlacement),y=e.textSizeData;let v=null;"source"===y.kind?(v=[Yl*i.layout.get("text-size").evaluate(a,{})],v[0]>vc&&m(`${e.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):"composite"===y.kind&&(v=[Yl*p.compositeTextSizes[0].evaluate(a,{},h),Yl*p.compositeTextSizes[1].evaluate(a,{},h)],(v[0]>vc||v[1]>vc)&&m(`${e.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),e.addSymbols(e.text,g,v,s,o,a,c,t,l.lineStartIndex,l.lineLength,f,h);for(const t of u)d[t]=e.text.placedSymbolArray.length-1;return 4*g.length}function wc(e){for(const t in e)return e[t];return null}function xc(e,t,n,r){const i=e.compareText;if(t in i){const e=i[t];for(let t=e.length-1;t>=0;t--)if(r.dist(e[t])<n)return!0}else i[t]=[];return i[t].push(r),!1}const Ec=ms.VectorTileFeature.types,_c=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Ac(e,t,n,r,i,o,a,s,l,c,u,d,f){const p=s?Math.min(vc,Math.round(s[0])):0,m=s?Math.min(vc,Math.round(s[1])):0;e.emplaceBack(t,n,Math.round(32*r),Math.round(32*i),o,a,(p<<1)+(l?1:0),m,16*c,16*u,256*d,256*f)}function Oc(e,t,n){e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n)}function Sc(e){for(const t of e.sections)if(Pr(t.text))return!0;return!1}class Tc{constructor(e){this.layoutVertexArray=new no,this.indexArray=new so,this.programConfigurations=e,this.segments=new fo,this.dynamicLayoutVertexArray=new ro,this.opacityVertexArray=new io,this.placedSymbolArray=new Gi}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}upload(e,t,n,r){this.isEmpty()||(n&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Qs.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,Zs.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,_c,!0),this.opacityVertexBuffer.itemSize=1),(n||r)&&this.programConfigurations.upload(e))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Ar("SymbolBuffers",Tc);class Ic{constructor(e,t,n){this.layoutVertexArray=new e,this.layoutAttributes=t,this.indexArray=new n,this.segments=new fo,this.collisionVertexArray=new ao}upload(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,Xs.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}Ar("CollisionBuffers",Ic);class kc{constructor(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((e=>e.id)),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=ua([]),this.placementViewportMatrix=ua([]);const n=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Ql(this.zoom,n["text-size"]),this.iconSizeData=Ql(this.zoom,n["icon-size"]);const r=this.layers[0].layout,i=r.get("symbol-sort-key"),o=r.get("symbol-z-order");this.canOverlap="never"!==Lc(r,"text-overlap","text-allow-overlap")||"never"!==Lc(r,"icon-overlap","icon-allow-overlap")||r.get("text-ignore-placement")||r.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==o&&!i.isConstant(),this.sortFeaturesByY=("viewport-y"===o||"auto"===o&&!this.sortFeaturesByKey)&&this.canOverlap,"point"===r.get("symbol-placement")&&(this.writingModes=r.get("text-writing-mode").map((t=>e.WritingMode[t]))),this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id)),this.sourceID=t.sourceID}createArrays(){this.text=new Tc(new Po(this.layers,this.zoom,(e=>/^text/.test(e)))),this.icon=new Tc(new Po(this.layers,this.zoom,(e=>/^icon/.test(e)))),this.glyphOffsetArray=new Yi,this.lineVertexArray=new Qi,this.symbolInstances=new Wi}calculateGlyphDependencies(e,t,n,r,i){for(let o=0;o<e.length;o++)if(t[e.charCodeAt(o)]=!0,(n||r)&&i){const n=$s[e.charAt(o)];n&&(t[n.charCodeAt(0)]=!0)}}populate(t,n,r){const i=this.layers[0],o=i.layout,a=o.get("text-font"),s=o.get("text-field"),l=o.get("icon-image"),c=("constant"!==s.value.kind||s.value.value instanceof De&&!s.value.value.isEmpty()||s.value.value.toString().length>0)&&("constant"!==a.value.kind||a.value.value.length>0),u="constant"!==l.value.kind||!!l.value.value||Object.keys(l.parameters).length>0,d=o.get("symbol-sort-key");if(this.features=[],!c&&!u)return;const f=n.iconDependencies,p=n.glyphDependencies,m=n.availableImages,h=new Jr(this.zoom);for(const{feature:n,id:s,index:l,sourceLayerIndex:g}of t){const t=i._featureFilter.needGeometry,y=Ho(n,t);if(!i._featureFilter.filter(h,y,r))continue;let v,b;if(t||(y.geometry=Go(n)),c){const e=i.getValueAndResolveTokens("text-field",y,r,m),t=De.factory(e);Sc(t)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===Qr()||this.hasRTLText&&Xr.isParsed())&&(v=Ks(t,i,y))}if(u){const e=i.getValueAndResolveTokens("icon-image",y,r,m);b=e instanceof Pe?e:Pe.fromString(e)}if(!v&&!b)continue;const w=this.sortFeaturesByKey?d.evaluate(y,{},r):void 0;if(this.features.push({id:s,text:v,icon:b,index:l,sourceLayerIndex:g,geometry:y.geometry,properties:n.properties,type:Ec[n.type],sortKey:w}),b&&(f[b.name]=!0),v){const t=a.evaluate(y,{},r).join(","),n="viewport"!==o.get("text-rotation-alignment")&&"point"!==o.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(e.WritingMode.vertical)>=0;for(const e of v.sections)if(e.image)f[e.image.name]=!0;else{const r=Cr(v.toString()),i=e.fontStack||t,o=p[i]=p[i]||{};this.calculateGlyphDependencies(e.text,o,n,this.allowVerticalPlacement,r)}}}"line"===o.get("symbol-placement")&&(this.features=function(e){const t={},n={},r=[];let i=0;function o(t){r.push(e[t]),i++}function a(e,t,i){const o=n[e];return delete n[e],n[t]=o,r[o].geometry[0].pop(),r[o].geometry[0]=r[o].geometry[0].concat(i[0]),o}function s(e,n,i){const o=t[n];return delete t[n],t[e]=o,r[o].geometry[0].shift(),r[o].geometry[0]=i[0].concat(r[o].geometry[0]),o}function l(e,t,n){const r=n?t[0][t[0].length-1]:t[0][0];return`${e}:${r.x}:${r.y}`}for(let c=0;c<e.length;c++){const u=e[c],d=u.geometry,f=u.text?u.text.toString():null;if(!f){o(c);continue}const p=l(f,d),m=l(f,d,!0);if(p in n&&m in t&&n[p]!==t[m]){const e=s(p,m,d),i=a(p,m,r[e].geometry);delete t[p],delete n[m],n[l(f,r[i].geometry,!0)]=i,r[e].geometry=null}else p in n?a(p,m,d):m in t?s(p,m,d):(o(c),t[p]=i-1,n[m]=i-1)}return r.filter((e=>e.geometry))}(this.features)),this.sortFeaturesByKey&&this.features.sort(((e,t)=>e.sortKey-t.sortKey))}update(e,t,n){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,t,this.layers,n),this.icon.programConfigurations.updatePaintArrays(e,t,this.layers,n))}isEmpty(){return 0===this.symbolInstances.length&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(e,t){const n=this.lineVertexArray.length;if(void 0!==e.segment){let n=e.dist(t[e.segment+1]),r=e.dist(t[e.segment]);const i={};for(let r=e.segment+1;r<t.length;r++)i[r]={x:t[r].x,y:t[r].y,tileUnitDistanceFromAnchor:n},r<t.length-1&&(n+=t[r+1].dist(t[r]));for(let n=e.segment||0;n>=0;n--)i[n]={x:t[n].x,y:t[n].y,tileUnitDistanceFromAnchor:r},n>0&&(r+=t[n-1].dist(t[n]));for(let e=0;e<t.length;e++){const t=i[e];this.lineVertexArray.emplaceBack(t.x,t.y,t.tileUnitDistanceFromAnchor)}}return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}}addSymbols(t,n,r,i,o,a,s,l,c,u,d,f){const p=t.indexArray,m=t.layoutVertexArray,h=t.segments.prepareSegment(4*n.length,m,p,this.canOverlap?a.sortKey:void 0),g=this.glyphOffsetArray.length,y=h.vertexLength,v=this.allowVerticalPlacement&&s===e.WritingMode.vertical?Math.PI/2:0,b=a.text&&a.text.sections;for(let e=0;e<n.length;e++){const{tl:i,tr:o,bl:s,br:c,tex:u,pixelOffsetTL:d,pixelOffsetBR:g,minFontScaleX:y,minFontScaleY:w,glyphOffset:x,isSDF:E,sectionIndex:_}=n[e],A=h.vertexLength,O=x[1];Ac(m,l.x,l.y,i.x,O+i.y,u.x,u.y,r,E,d.x,d.y,y,w),Ac(m,l.x,l.y,o.x,O+o.y,u.x+u.w,u.y,r,E,g.x,d.y,y,w),Ac(m,l.x,l.y,s.x,O+s.y,u.x,u.y+u.h,r,E,d.x,g.y,y,w),Ac(m,l.x,l.y,c.x,O+c.y,u.x+u.w,u.y+u.h,r,E,g.x,g.y,y,w),Oc(t.dynamicLayoutVertexArray,l,v),p.emplaceBack(A,A+1,A+2),p.emplaceBack(A+1,A+2,A+3),h.vertexLength+=4,h.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(x[0]),e!==n.length-1&&_===n[e+1].sectionIndex||t.programConfigurations.populatePaintArrays(m.length,a,a.index,{},f,b&&b[_])}t.placedSymbolArray.emplaceBack(l.x,l.y,g,this.glyphOffsetArray.length-g,y,c,u,l.segment,r?r[0]:0,r?r[1]:0,i[0],i[1],s,0,!1,0,d)}_addCollisionDebugVertex(e,t,n,r,i,o){return t.emplaceBack(0,0),e.emplaceBack(n.x,n.y,r,i,Math.round(o.x),Math.round(o.y))}addCollisionDebugVertices(e,t,n,r,i,o,a){const s=i.segments.prepareSegment(4,i.layoutVertexArray,i.indexArray),l=s.vertexLength,c=i.layoutVertexArray,u=i.collisionVertexArray,d=a.anchorX,f=a.anchorY;this._addCollisionDebugVertex(c,u,o,d,f,new O(e,t)),this._addCollisionDebugVertex(c,u,o,d,f,new O(n,t)),this._addCollisionDebugVertex(c,u,o,d,f,new O(n,r)),this._addCollisionDebugVertex(c,u,o,d,f,new O(e,r)),s.vertexLength+=4;const p=i.indexArray;p.emplaceBack(l,l+1),p.emplaceBack(l+1,l+2),p.emplaceBack(l+2,l+3),p.emplaceBack(l+3,l),s.primitiveLength+=4}addDebugCollisionBoxes(e,t,n,r){for(let i=e;i<t;i++){const e=this.collisionBoxArray.get(i);this.addCollisionDebugVertices(e.x1,e.y1,e.x2,e.y2,r?this.textCollisionBox:this.iconCollisionBox,e.anchorPoint,n)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Ic(oo,Js.members,lo),this.iconCollisionBox=new Ic(oo,Js.members,lo);for(let e=0;e<this.symbolInstances.length;e++){const t=this.symbolInstances.get(e);this.addDebugCollisionBoxes(t.textBoxStartIndex,t.textBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.verticalTextBoxStartIndex,t.verticalTextBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.iconBoxStartIndex,t.iconBoxEndIndex,t,!1),this.addDebugCollisionBoxes(t.verticalIconBoxStartIndex,t.verticalIconBoxEndIndex,t,!1)}}_deserializeCollisionBoxesForSymbol(e,t,n,r,i,o,a,s,l){const c={};for(let r=t;r<n;r++){const t=e.get(r);c.textBox={x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,anchorPointX:t.anchorPointX,anchorPointY:t.anchorPointY},c.textFeatureIndex=t.featureIndex;break}for(let t=r;t<i;t++){const n=e.get(t);c.verticalTextBox={x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2,anchorPointX:n.anchorPointX,anchorPointY:n.anchorPointY},c.verticalTextFeatureIndex=n.featureIndex;break}for(let t=o;t<a;t++){const n=e.get(t);c.iconBox={x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2,anchorPointX:n.anchorPointX,anchorPointY:n.anchorPointY},c.iconFeatureIndex=n.featureIndex;break}for(let t=s;t<l;t++){const n=e.get(t);c.verticalIconBox={x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2,anchorPointX:n.anchorPointX,anchorPointY:n.anchorPointY},c.verticalIconFeatureIndex=n.featureIndex;break}return c}deserializeCollisionBoxes(e){this.collisionArrays=[];for(let t=0;t<this.symbolInstances.length;t++){const n=this.symbolInstances.get(t);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,n.textBoxStartIndex,n.textBoxEndIndex,n.verticalTextBoxStartIndex,n.verticalTextBoxEndIndex,n.iconBoxStartIndex,n.iconBoxEndIndex,n.verticalIconBoxStartIndex,n.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(e,t){const n=e.placedSymbolArray.get(t),r=n.vertexStartIndex+4*n.numGlyphs;for(let t=n.vertexStartIndex;t<r;t+=4)e.indexArray.emplaceBack(t,t+1,t+2),e.indexArray.emplaceBack(t+1,t+2,t+3)}getSortedSymbolIndexes(e){if(this.sortedAngle===e&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;const t=Math.sin(e),n=Math.cos(e),r=[],i=[],o=[];for(let e=0;e<this.symbolInstances.length;++e){o.push(e);const a=this.symbolInstances.get(e);r.push(0|Math.round(t*a.anchorX+n*a.anchorY)),i.push(a.featureIndex)}return o.sort(((e,t)=>r[e]-r[t]||i[t]-i[e])),o}addToSortKeyRanges(e,t){const n=this.sortKeyRanges[this.sortKeyRanges.length-1];n&&n.sortKey===t?n.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:t,symbolInstanceStart:e,symbolInstanceEnd:e+1})}sortFeatures(e){if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const e of this.symbolInstanceIndexes){const t=this.symbolInstances.get(e);this.featureSortOrder.push(t.featureIndex),[t.rightJustifiedTextSymbolIndex,t.centerJustifiedTextSymbolIndex,t.leftJustifiedTextSymbolIndex].forEach(((e,t,n)=>{e>=0&&n.indexOf(e)===t&&this.addIndicesForPlacedSymbol(this.text,e)})),t.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,t.verticalPlacedTextSymbolIndex),t.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,t.placedIconSymbolIndex),t.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,t.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}Ar("SymbolBucket",kc,{omit:["layers","collisionBoxArray","features","compareText"]}),kc.MAX_GLYPHS=65535,kc.addDynamicAttributes=Oc;const Cc=new ui({"symbol-placement":new oi(re.layout_symbol["symbol-placement"]),"symbol-spacing":new oi(re.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new oi(re.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new ai(re.layout_symbol["symbol-sort-key"]),"symbol-z-order":new oi(re.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new oi(re.layout_symbol["icon-allow-overlap"]),"icon-overlap":new oi(re.layout_symbol["icon-overlap"]),"icon-ignore-placement":new oi(re.layout_symbol["icon-ignore-placement"]),"icon-optional":new oi(re.layout_symbol["icon-optional"]),"icon-rotation-alignment":new oi(re.layout_symbol["icon-rotation-alignment"]),"icon-size":new ai(re.layout_symbol["icon-size"]),"icon-text-fit":new oi(re.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new oi(re.layout_symbol["icon-text-fit-padding"]),"icon-image":new ai(re.layout_symbol["icon-image"]),"icon-rotate":new ai(re.layout_symbol["icon-rotate"]),"icon-padding":new oi(re.layout_symbol["icon-padding"]),"icon-keep-upright":new oi(re.layout_symbol["icon-keep-upright"]),"icon-offset":new ai(re.layout_symbol["icon-offset"]),"icon-anchor":new ai(re.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new oi(re.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new oi(re.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new oi(re.layout_symbol["text-rotation-alignment"]),"text-field":new ai(re.layout_symbol["text-field"]),"text-font":new ai(re.layout_symbol["text-font"]),"text-size":new ai(re.layout_symbol["text-size"]),"text-max-width":new ai(re.layout_symbol["text-max-width"]),"text-line-height":new oi(re.layout_symbol["text-line-height"]),"text-letter-spacing":new ai(re.layout_symbol["text-letter-spacing"]),"text-justify":new ai(re.layout_symbol["text-justify"]),"text-radial-offset":new ai(re.layout_symbol["text-radial-offset"]),"text-variable-anchor":new oi(re.layout_symbol["text-variable-anchor"]),"text-anchor":new ai(re.layout_symbol["text-anchor"]),"text-max-angle":new oi(re.layout_symbol["text-max-angle"]),"text-writing-mode":new oi(re.layout_symbol["text-writing-mode"]),"text-rotate":new ai(re.layout_symbol["text-rotate"]),"text-padding":new oi(re.layout_symbol["text-padding"]),"text-keep-upright":new oi(re.layout_symbol["text-keep-upright"]),"text-transform":new ai(re.layout_symbol["text-transform"]),"text-offset":new ai(re.layout_symbol["text-offset"]),"text-allow-overlap":new oi(re.layout_symbol["text-allow-overlap"]),"text-overlap":new oi(re.layout_symbol["text-overlap"]),"text-ignore-placement":new oi(re.layout_symbol["text-ignore-placement"]),"text-optional":new oi(re.layout_symbol["text-optional"])});var Mc={paint:new ui({"icon-opacity":new ai(re.paint_symbol["icon-opacity"]),"icon-color":new ai(re.paint_symbol["icon-color"]),"icon-halo-color":new ai(re.paint_symbol["icon-halo-color"]),"icon-halo-width":new ai(re.paint_symbol["icon-halo-width"]),"icon-halo-blur":new ai(re.paint_symbol["icon-halo-blur"]),"icon-translate":new oi(re.paint_symbol["icon-translate"]),"icon-translate-anchor":new oi(re.paint_symbol["icon-translate-anchor"]),"text-opacity":new ai(re.paint_symbol["text-opacity"]),"text-color":new ai(re.paint_symbol["text-color"],{runtimeType:he,getOverride:e=>e.textColor,hasOverride:e=>!!e.textColor}),"text-halo-color":new ai(re.paint_symbol["text-halo-color"]),"text-halo-width":new ai(re.paint_symbol["text-halo-width"]),"text-halo-blur":new ai(re.paint_symbol["text-halo-blur"]),"text-translate":new oi(re.paint_symbol["text-translate"]),"text-translate-anchor":new oi(re.paint_symbol["text-translate-anchor"])}),layout:Cc};class Nc{constructor(e){this.type=e.property.overrides?e.property.overrides.runtimeType:de,this.defaultValue=e}evaluate(e){if(e.formattedSection){const t=this.defaultValue.property.overrides;if(t&&t.hasOverride(e.formattedSection))return t.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default}eachChild(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Ar("FormatSectionOverride",Nc,{omit:["defaultValue"]});class jc extends fi{constructor(e){super(e,Mc)}recalculate(e,t){if(super.recalculate(e,t),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]="map"===this.layout.get("text-rotation-alignment")?"map":"viewport"),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){const e=this.layout.get("text-writing-mode");if(e){const t=[];for(const n of e)t.indexOf(n)<0&&t.push(n);this.layout._values["text-writing-mode"]=t}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(e,t,n,r){const i=this.layout.get(e).evaluate(t,{},n,r),o=this._unevaluatedLayout._values[e];return o.isDataDriven()||Nn(o.value)||!i?i:function(e,t){return t.replace(/{([^{}]+)}/g,((t,n)=>n in e?String(e[n]):""))}(t.properties,i)}createBucket(e){return new kc(e)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const e of Mc.paint.overridableProperties){if(!jc.hasPaintOverride(this.layout,e))continue;const t=this.paint.get(e),n=new Nc(t),r=new Mn(n,t.property.specification);let i=null;i="constant"===t.value.kind||"source"===t.value.kind?new Ln("source",r):new Rn("composite",r,t.value.zoomStops,t.value._interpolationType),this.paint._values[e]=new ri(t.property,i,t.parameters)}}_handleOverridablePaintPropertyUpdate(e,t,n){return!(!this.layout||t.isDataDriven()||n.isDataDriven())&&jc.hasPaintOverride(this.layout,e)}static hasPaintOverride(e,t){const n=e.get("text-field"),r=Mc.paint.properties[t];let i=!1;const o=e=>{for(const t of e)if(r.overrides&&r.overrides.hasOverride(t))return void(i=!0)};if("constant"===n.value.kind&&n.value.value instanceof De)o(n.value.value.sections);else if("source"===n.value.kind){const e=t=>{i||(t instanceof Ve&&Ue(t.value)===be?o(t.value.sections):t instanceof Ye?o(t.sections):t.eachChild(e))},t=n.value;t._styleExpression&&e(t._styleExpression.expression)}return i}}function Lc(e,t,n){let r="never";const i=e.get(t);return i?r=i:e.get(n)&&(r="always"),r}var Rc={paint:new ui({"background-color":new oi(re.paint_background["background-color"]),"background-pattern":new li(re.paint_background["background-pattern"]),"background-opacity":new oi(re.paint_background["background-opacity"])})},Dc={paint:new ui({"raster-opacity":new oi(re.paint_raster["raster-opacity"]),"raster-hue-rotate":new oi(re.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new oi(re.paint_raster["raster-brightness-min"]),"raster-brightness-max":new oi(re.paint_raster["raster-brightness-max"]),"raster-saturation":new oi(re.paint_raster["raster-saturation"]),"raster-contrast":new oi(re.paint_raster["raster-contrast"]),"raster-resampling":new oi(re.paint_raster["raster-resampling"]),"raster-fade-duration":new oi(re.paint_raster["raster-fade-duration"])})};class Pc extends fi{constructor(e){super(e,{}),this.onAdd=e=>{this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl)},this.onRemove=e=>{this.implementation.onRemove&&this.implementation.onRemove(e,e.painter.context.gl)},this.implementation=e}is3D(){return"3d"===this.implementation.renderingMode}hasOffscreenPass(){return void 0!==this.implementation.prerender}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}}const Bc={circle:class extends fi{constructor(e){super(e,la)}createBucket(e){return new Yo(e)}queryRadius(e){const t=e;return ia("circle-radius",this,t)+ia("circle-stroke-width",this,t)+oa(this.paint.get("circle-translate"))}queryIntersectsFeature(e,t,n,r,i,o,a,s){const l=aa(e,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),o.angle,a),c=this.paint.get("circle-radius").evaluate(t,n)+this.paint.get("circle-stroke-width").evaluate(t,n),u="map"===this.paint.get("circle-pitch-alignment"),d=u?l:function(e,t){return e.map((e=>ha(e,t)))}(l,s),f=u?c*a:c;for(const e of r)for(const t of e){const e=u?t:ha(t,s);let n=f;const r=ma([],[t.x,t.y,0,1],s);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?n*=r[3]/o.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(n*=o.cameraToCenterDistance/r[3]),Zo(d,e,n))return!0}return!1}},heatmap:class extends fi{constructor(e){super(e,ya),this._updateColorRamp()}createBucket(e){return new ga(e)}_handleSpecialPaintPropertyUpdate(e){"heatmap-color"===e&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=_a({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}},hillshade:class extends fi{constructor(e){super(e,Aa)}hasOffscreenPass(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}},fill:class extends fi{constructor(e){super(e,ds)}recalculate(e,t){super.recalculate(e,t);const n=this.paint._values["fill-outline-color"];"constant"===n.value.kind&&void 0===n.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(e){return new cs(e)}queryRadius(){return oa(this.paint.get("fill-translate"))}queryIntersectsFeature(e,t,n,r,i,o,a){return Xo(aa(e,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),o.angle,a),r)}isTileClipped(){return!0}},"fill-extrusion":class extends fi{constructor(e){super(e,Ns)}createBucket(e){return new ks(e)}queryRadius(){return oa(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(e,t,n,r,i,o,a,s){const l=aa(e,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),o.angle,a),c=this.paint.get("fill-extrusion-height").evaluate(t,n),u=this.paint.get("fill-extrusion-base").evaluate(t,n),d=function(e,t,n,r){const i=[];for(const n of e){const e=[n.x,n.y,0,1];ma(e,e,t),i.push(new O(e[0]/e[3],e[1]/e[3]))}return i}(l,s),f=function(e,t,n,r){const i=[],o=[],a=r[8]*t,s=r[9]*t,l=r[10]*t,c=r[11]*t,u=r[8]*n,d=r[9]*n,f=r[10]*n,p=r[11]*n;for(const t of e){const e=[],n=[];for(const i of t){const t=i.x,o=i.y,m=r[0]*t+r[4]*o+r[12],h=r[1]*t+r[5]*o+r[13],g=r[2]*t+r[6]*o+r[14],y=r[3]*t+r[7]*o+r[15],v=g+l,b=y+c,w=m+u,x=h+d,E=g+f,_=y+p,A=new O((m+a)/b,(h+s)/b);A.z=v/b,e.push(A);const S=new O(w/_,x/_);S.z=E/_,n.push(S)}i.push(e),o.push(n)}return[i,o]}(r,u,c,s);return function(e,t,n){let r=1/0;Xo(n,t)&&(r=Ls(n,t[0]));for(let i=0;i<t.length;i++){const o=t[i],a=e[i];for(let e=0;e<o.length-1;e++){const t=o[e],i=[t,o[e+1],a[e+1],a[e],t];Qo(n,i)&&(r=Math.min(r,Ls(n,i)))}}return r!==1/0&&r}(f[0],f[1],d)}},line:class extends fi{constructor(e){super(e,Hs),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(e){"line-gradient"===e&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof At,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER)}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(e,t){super.recalculate(e,t),this.paint._values["line-floorwidth"]=Ws.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e)}createBucket(e){return new Vs(e)}queryRadius(e){const t=e,n=Ys(ia("line-width",this,t),ia("line-gap-width",this,t)),r=ia("line-offset",this,t);return n/2+Math.abs(r)+oa(this.paint.get("line-translate"))}queryIntersectsFeature(e,t,n,r,i,o,a){const s=aa(e,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),o.angle,a),l=a/2*Ys(this.paint.get("line-width").evaluate(t,n),this.paint.get("line-gap-width").evaluate(t,n)),c=this.paint.get("line-offset").evaluate(t,n);return c&&(r=function(e,t){const n=[];for(let r=0;r<e.length;r++){const i=e[r],o=[];for(let e=0;e<i.length;e++){const n=i[e-1],r=i[e],a=i[e+1],s=0===e?new O(0,0):r.sub(n)._unit()._perp(),l=e===i.length-1?new O(0,0):a.sub(r)._unit()._perp(),c=s._add(l)._unit(),u=c.x*l.x+c.y*l.y;0!==u&&c._mult(1/u),o.push(c._mult(t)._add(r))}n.push(o)}return n}(r,c*a)),function(e,t,n){for(let r=0;r<t.length;r++){const i=t[r];if(e.length>=3)for(let t=0;t<i.length;t++)if(na(e,i[t]))return!0;if(Jo(e,i,n))return!0}return!1}(s,r,l)}isTileClipped(){return!0}},symbol:jc,background:class extends fi{constructor(e){super(e,Rc)}},raster:class extends fi{constructor(e){super(e,Dc)}}};class Fc{constructor(e){this._callback=e,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((()=>{this._triggered=!1,this._callback()}),0))}remove(){delete this._channel,this._callback=()=>{}}}const Uc=6371008.8;class zc{constructor(e,t){if(isNaN(e)||isNaN(t))throw new Error(`Invalid LngLat object: (${e}, ${t})`);if(this.lng=+e,this.lat=+t,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new zc(a(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(e){const t=Math.PI/180,n=this.lat*t,r=e.lat*t,i=Math.sin(n)*Math.sin(r)+Math.cos(n)*Math.cos(r)*Math.cos((e.lng-this.lng)*t);return Uc*Math.acos(Math.min(i,1))}toBounds(e=0){const t=360*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return new Vc(new zc(this.lng-n,this.lat-t),new zc(this.lng+n,this.lat+t))}static convert(e){if(e instanceof zc)return e;if(Array.isArray(e)&&(2===e.length||3===e.length))return new zc(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&"object"==typeof e&&null!==e)return new zc(Number("lng"in e?e.lng:e.lon),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}class Vc{constructor(e,t){e&&(t?this.setSouthWest(e).setNorthEast(t):4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))}setNorthEast(e){return this._ne=e instanceof zc?new zc(e.lng,e.lat):zc.convert(e),this}setSouthWest(e){return this._sw=e instanceof zc?new zc(e.lng,e.lat):zc.convert(e),this}extend(e){const t=this._sw,n=this._ne;let r,i;if(e instanceof zc)r=e,i=e;else{if(!(e instanceof Vc))return Array.isArray(e)?4===e.length||e.every(Array.isArray)?this.extend(Vc.convert(e)):this.extend(zc.convert(e)):this;if(r=e._sw,i=e._ne,!r||!i)return this}return t||n?(t.lng=Math.min(r.lng,t.lng),t.lat=Math.min(r.lat,t.lat),n.lng=Math.max(i.lng,n.lng),n.lat=Math.max(i.lat,n.lat)):(this._sw=new zc(r.lng,r.lat),this._ne=new zc(i.lng,i.lat)),this}getCenter(){return new zc((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new zc(this.getWest(),this.getNorth())}getSouthEast(){return new zc(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(e){const{lng:t,lat:n}=zc.convert(e);let r=this._sw.lng<=t&&t<=this._ne.lng;return this._sw.lng>this._ne.lng&&(r=this._sw.lng>=t&&t>=this._ne.lng),this._sw.lat<=n&&n<=this._ne.lat&&r}static convert(e){return e instanceof Vc?e:e?new Vc(e):e}}const Gc=2*Math.PI*Uc;function Hc(e){return Gc*Math.cos(e*Math.PI/180)}function Wc(e){return(180+e)/360}function Yc(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function Qc(e,t){return e/Hc(t)}function Zc(e){return 360/Math.PI*Math.atan(Math.exp((180-360*e)*Math.PI/180))-90}class Xc{constructor(e,t,n=0){this.x=+e,this.y=+t,this.z=+n}static fromLngLat(e,t=0){const n=zc.convert(e);return new Xc(Wc(n.lng),Yc(n.lat),Qc(t,n.lat))}toLngLat(){return new zc(360*this.x-180,Zc(this.y))}toAltitude(){return this.z*Hc(Zc(this.y))}meterInMercatorCoordinateUnits(){return 1/Gc*(e=Zc(this.y),1/Math.cos(e*Math.PI/180));var e}}function Jc(e,t,n){var r=2*Math.PI*6378137/256/Math.pow(2,n);return[e*r-2*Math.PI*6378137/2,t*r-2*Math.PI*6378137/2]}class qc{constructor(e,t,n){this.z=e,this.x=t,this.y=n,this.key=eu(0,e,e,t,n)}equals(e){return this.z===e.z&&this.x===e.x&&this.y===e.y}url(e,t,n){const r=(o=this.y,a=this.z,s=Jc(256*(i=this.x),256*(o=Math.pow(2,a)-o-1),a),l=Jc(256*(i+1),256*(o+1),a),s[0]+","+s[1]+","+l[0]+","+l[1]);var i,o,a,s,l;const c=function(e,t,n){let r,i="";for(let o=e;o>0;o--)r=1<<o-1,i+=(t&r?1:0)+(n&r?2:0);return i}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String("tms"===n?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,t>1?"@2x":"").replace(/{quadkey}/g,c).replace(/{bbox-epsg-3857}/g,r)}getTilePoint(e){const t=Math.pow(2,this.z);return new O((e.x*t-this.x)*Uo,(e.y*t-this.y)*Uo)}toString(){return`${this.z}/${this.x}/${this.y}`}}class Kc{constructor(e,t){this.wrap=e,this.canonical=t,this.key=eu(e,t.z,t.z,t.x,t.y)}}class $c{constructor(e,t,n,r,i){this.overscaledZ=e,this.wrap=t,this.canonical=new qc(n,+r,+i),this.key=eu(t,e,n,r,i)}equals(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)}scaledTo(e){const t=this.canonical.z-e;return e>this.canonical.z?new $c(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new $c(e,this.wrap,e,this.canonical.x>>t,this.canonical.y>>t)}calculateScaledKey(e,t){const n=this.canonical.z-e;return e>this.canonical.z?eu(this.wrap*+t,e,this.canonical.z,this.canonical.x,this.canonical.y):eu(this.wrap*+t,e,e,this.canonical.x>>n,this.canonical.y>>n)}isChildOf(e){if(e.wrap!==this.wrap)return!1;const t=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t}children(e){if(this.overscaledZ>=e)return[new $c(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const t=this.canonical.z+1,n=2*this.canonical.x,r=2*this.canonical.y;return[new $c(t,this.wrap,t,n,r),new $c(t,this.wrap,t,n+1,r),new $c(t,this.wrap,t,n,r+1),new $c(t,this.wrap,t,n+1,r+1)]}isLessThan(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))}wrapped(){return new $c(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(e){return new $c(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Kc(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(e){return this.canonical.getTilePoint(new Xc(e.x-this.wrap,e.y))}}function eu(e,t,n,r,i){(e*=2)<0&&(e=-1*e-1);const o=1<<n;return(o*o*e+o*i+r).toString(36)+n.toString(36)+t.toString(36)}Ar("CanonicalTileID",qc),Ar("OverscaledTileID",$c,{omit:["posMatrix"]});class tu{constructor(e,t,n){if(this.uid=e,t.height!==t.width)throw new RangeError("DEM tiles must be square");if(n&&"mapbox"!==n&&"terrarium"!==n)return void m(`"${n}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=t.height;const r=this.dim=t.height-2;this.data=new Uint32Array(t.data.buffer),this.encoding=n||"mapbox";for(let e=0;e<r;e++)this.data[this._idx(-1,e)]=this.data[this._idx(0,e)],this.data[this._idx(r,e)]=this.data[this._idx(r-1,e)],this.data[this._idx(e,-1)]=this.data[this._idx(e,0)],this.data[this._idx(e,r)]=this.data[this._idx(e,r-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(r,-1)]=this.data[this._idx(r-1,0)],this.data[this._idx(-1,r)]=this.data[this._idx(0,r-1)],this.data[this._idx(r,r)]=this.data[this._idx(r-1,r-1)]}get(e,t){const n=new Uint8Array(this.data.buffer),r=4*this._idx(e,t);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(n[r],n[r+1],n[r+2])}getUnpackVector(){return"terrarium"===this.encoding?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]}_idx(e,t){if(e<-1||e>=this.dim+1||t<-1||t>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(t+1)*this.stride+(e+1)}_unpackMapbox(e,t,n){return(256*e*256+256*t+n)/10-1e4}_unpackTerrarium(e,t,n){return 256*e+t+n/256-32768}getPixels(){return new Ea({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(e,t,n){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");let r=t*this.dim,i=t*this.dim+this.dim,o=n*this.dim,a=n*this.dim+this.dim;switch(t){case-1:r=i-1;break;case 1:i=r+1}switch(n){case-1:o=a-1;break;case 1:a=o+1}const s=-t*this.dim,l=-n*this.dim;for(let t=o;t<a;t++)for(let n=r;n<i;n++)this.data[this._idx(n,t)]=e.data[this._idx(n+s,t+l)]}}Ar("DEMData",tu);class nu{constructor(e){this._stringToNumber={},this._numberToString=[];for(let t=0;t<e.length;t++){const n=e[t];this._stringToNumber[n]=t,this._numberToString[t]=n}}encode(e){return this._stringToNumber[e]}decode(e){return this._numberToString[e]}}class ru{constructor(e,t,n,r,i){this.type="Feature",this._vectorTileFeature=e,e._z=t,e._x=n,e._y=r,this.properties=e.properties,this.id=i}get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(e){this._geometry=e}toJSON(){const e={geometry:this.geometry};for(const t in this)"_geometry"!==t&&"_vectorTileFeature"!==t&&(e[t]=this[t]);return e}}class iu{constructor(e,t){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=new Er(Uo,16,0),this.grid3D=new Er(Uo,16,0),this.featureIndexArray=new Xi,this.promoteId=t}insert(e,t,n,r,i,o){const a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,r,i);const s=o?this.grid3D:this.grid;for(let e=0;e<t.length;e++){const n=t[e],r=[1/0,1/0,-1/0,-1/0];for(let e=0;e<n.length;e++){const t=n[e];r[0]=Math.min(r[0],t.x),r[1]=Math.min(r[1],t.y),r[2]=Math.max(r[2],t.x),r[3]=Math.max(r[3],t.y)}r[0]<Uo&&r[1]<Uo&&r[2]>=0&&r[3]>=0&&s.insert(a,r[0],r[1],r[2],r[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new ms.VectorTile(new tl(this.rawTileData)).layers,this.sourceLayerCoder=new nu(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(e,t,n,r){this.loadVTLayers();const i=e.params||{},o=Uo/e.tileSize/e.scale,a=Qn(i.filter),s=e.queryGeometry,l=e.queryPadding*o,c=au(s),u=this.grid.query(c.minX-l,c.minY-l,c.maxX+l,c.maxY+l),d=au(e.cameraQueryGeometry),f=this.grid3D.query(d.minX-l,d.minY-l,d.maxX+l,d.maxY+l,((t,n,r,i)=>function(e,t,n,r,i){for(const o of e)if(t<=o.x&&n<=o.y&&r>=o.x&&i>=o.y)return!0;const o=[new O(t,n),new O(t,i),new O(r,i),new O(r,n)];if(e.length>2)for(const t of o)if(na(e,t))return!0;for(let t=0;t<e.length-1;t++)if(ra(e[t],e[t+1],o))return!0;return!1}(e.cameraQueryGeometry,t-l,n-l,r+l,i+l)));for(const e of f)u.push(e);u.sort(su);const p={};let m;for(let l=0;l<u.length;l++){const c=u[l];if(c===m)continue;m=c;const d=this.featureIndexArray.get(c);let f=null;this.loadMatchingFeature(p,d.bucketIndex,d.sourceLayerIndex,d.featureIndex,a,i.layers,i.availableImages,t,n,r,((t,n,r)=>(f||(f=Go(t)),n.queryIntersectsFeature(s,t,r,f,this.z,e.transform,o,e.pixelPosMatrix))))}return p}loadMatchingFeature(e,t,n,r,i,o,a,l,c,u,d){const f=this.bucketLayerIDs[t];if(o&&!function(e,t){for(let n=0;n<e.length;n++)if(t.indexOf(e[n])>=0)return!0;return!1}(o,f))return;const p=this.sourceLayerCoder.decode(n),m=this.vtLayers[p].feature(r);if(i.needGeometry){const e=Ho(m,!0);if(!i.filter(new Jr(this.tileID.overscaledZ),e,this.tileID.canonical))return}else if(!i.filter(new Jr(this.tileID.overscaledZ),m))return;const h=this.getId(m,p);for(let t=0;t<f.length;t++){const n=f[t];if(o&&o.indexOf(n)<0)continue;const i=l[n];if(!i)continue;let p={};h&&u&&(p=u.getState(i.sourceLayer||"_geojsonTileLayer",h));const g=s({},c[n]);g.paint=ou(g.paint,i.paint,m,p,a),g.layout=ou(g.layout,i.layout,m,p,a);const y=!d||d(m,i,p);if(!y)continue;const v=new ru(m,this.z,this.x,this.y,h);v.layer=g;let b=e[n];void 0===b&&(b=e[n]=[]),b.push({featureIndex:r,feature:v,intersectionZ:y})}}lookupSymbolFeatures(e,t,n,r,i,o,a,s){const l={};this.loadVTLayers();const c=Qn(i);for(const i of e)this.loadMatchingFeature(l,n,r,i,c,o,a,s,t);return l}hasLayer(e){for(const t of this.bucketLayerIDs)for(const n of t)if(e===n)return!0;return!1}getId(e,t){let n=e.id;return this.promoteId&&(n=e.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[t]],"boolean"==typeof n&&(n=Number(n))),n}}function ou(e,t,n,r,i){return u(e,((e,o)=>{const a=t instanceof ii?t.get(o):null;return a&&a.evaluate?a.evaluate(n,r,i):a}))}function au(e){let t=1/0,n=1/0,r=-1/0,i=-1/0;for(const o of e)t=Math.min(t,o.x),n=Math.min(n,o.y),r=Math.max(r,o.x),i=Math.max(i,o.y);return{minX:t,minY:n,maxX:r,maxY:i}}function su(e,t){return t-e}var lu;Ar("FeatureIndex",iu,{omit:["rawTileData","sourceLayerCoder"]}),e.PerformanceMarkers=void 0,(lu=e.PerformanceMarkers||(e.PerformanceMarkers={})).create="create",lu.load="load",lu.fullLoad="fullLoad";let cu=null,uu=[];const du=1e3/30,fu={mark(e){performance.mark(e)},frame(e){const t=e;null!=cu&&uu.push(t-cu),cu=t},clearMetrics(){cu=null,uu=[],performance.clearMeasures("loadTime"),performance.clearMeasures("fullLoadTime");for(const t in e.PerformanceMarkers)performance.clearMarks(e.PerformanceMarkers[t])},getPerformanceMetrics(){performance.measure("loadTime",e.PerformanceMarkers.create,e.PerformanceMarkers.load),performance.measure("fullLoadTime",e.PerformanceMarkers.create,e.PerformanceMarkers.fullLoad);const t=performance.getEntriesByName("loadTime")[0].duration,n=performance.getEntriesByName("fullLoadTime")[0].duration,r=uu.length,i=1/(uu.reduce(((e,t)=>e+t),0)/r/1e3),o=uu.filter((e=>e>du)).reduce(((e,t)=>e+(t-du)/du),0);return{loadTime:t,fullLoadTime:n,fps:i,percentDroppedFrames:o/(r+o)*100}}};e.AJAXError=V,e.ARRAY_TYPE=ca,e.Actor=class{constructor(e,t,n){this.target=e,this.parent=t,this.mapId=n,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},c(["receive","process"],this),this.invoker=new Fc(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=y()?e:window}send(e,t,n,r,i=!1){const o=Math.round(1e18*Math.random()).toString(36).substring(0,10);n&&(this.callbacks[o]=n);const a=E(this.globalScope)?void 0:[];return this.target.postMessage({id:o,type:e,hasCallback:!!n,targetMapId:r,mustQueue:i,sourceMapId:this.mapId,data:Sr(t,a)},a),{cancel:()=>{n&&delete this.callbacks[o],this.target.postMessage({id:o,type:"<cancel>",targetMapId:r,sourceMapId:this.mapId})}}}receive(e){const t=e.data,n=t.id;if(n&&(!t.targetMapId||this.mapId===t.targetMapId))if("<cancel>"===t.type){delete this.tasks[n];const e=this.cancelCallbacks[n];delete this.cancelCallbacks[n],e&&e()}else y()||t.mustQueue?(this.tasks[n]=t,this.taskQueue.push(n),this.invoker.trigger()):this.processTask(n,t)}process(){if(!this.taskQueue.length)return;const e=this.taskQueue.shift(),t=this.tasks[e];delete this.tasks[e],this.taskQueue.length&&this.invoker.trigger(),t&&this.processTask(e,t)}processTask(e,t){if("<response>"===t.type){const n=this.callbacks[e];delete this.callbacks[e],n&&(t.error?n(Tr(t.error)):n(null,Tr(t.data)))}else{let n=!1;const r=E(this.globalScope)?void 0:[],i=t.hasCallback?(t,i)=>{n=!0,delete this.cancelCallbacks[e],this.target.postMessage({id:e,type:"<response>",sourceMapId:this.mapId,error:t?Sr(t):null,data:Sr(i,r)},r)}:e=>{n=!0};let o=null;const a=Tr(t.data);if(this.parent[t.type])o=this.parent[t.type](t.sourceMapId,a,i);else if(this.parent.getWorkerSource){const e=t.type.split(".");o=this.parent.getWorkerSource(t.sourceMapId,e[0],a.source)[e[1]](a,i)}else i(new Error(`Could not find function ${t.type}`));!n&&o&&o.cancel&&(this.cancelCallbacks[e]=o.cancel)}}remove(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)}},e.AlphaImage=xa,e.CanonicalTileID=qc,e.CollisionBoxArray=zi,e.CollisionCircleLayoutArray=class extends ki{},e.Color=je,e.DEMData=tu,e.DataConstantProperty=oi,e.DictionaryCoder=nu,e.EXTENT=Uo,e.ErrorEvent=te,e.EvaluationParameters=Jr,e.Event=ee,e.Evented=ne,e.FeatureIndex=iu,e.FillBucket=cs,e.FillExtrusionBucket=ks,e.GeoJSONFeature=ru,e.ImageAtlas=kl,e.ImagePosition=Il,e.LineBucket=Vs,e.LineStripIndexArray=class extends Bi{},e.LngLat=zc,e.LngLatBounds=Vc,e.MercatorCoordinate=Xc,e.ONE_EM=el,e.OverscaledTileID=$c,e.PerformanceUtils=fu,e.PosArray=class extends vi{},e.Properties=ui,e.QuadTriangleArray=class extends Mi{},e.RGBAImage=Ea,e.RasterBoundsArray=class extends bi{},e.RequestPerformance=class{constructor(e){this._marks={start:[e.url,"start"].join("#"),end:[e.url,"end"].join("#"),measure:e.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let e=performance.getEntriesByName(this._marks.measure);return 0===e.length&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),e=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),e}},e.ResourceType=z,e.SegmentVector=fo,e.SymbolBucket=kc,e.Transitionable=$r,e.TriangleIndexArray=so,e.Uniform1f=So,e.Uniform1i=class extends Oo{constructor(e,t){super(e,t),this.current=0}set(e){this.current!==e&&(this.current=e,this.gl.uniform1i(this.location,e))}},e.Uniform2f=class extends Oo{constructor(e,t){super(e,t),this.current=[0,0]}set(e){e[0]===this.current[0]&&e[1]===this.current[1]||(this.current=e,this.gl.uniform2f(this.location,e[0],e[1]))}},e.Uniform3f=class extends Oo{constructor(e,t){super(e,t),this.current=[0,0,0]}set(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]||(this.current=e,this.gl.uniform3f(this.location,e[0],e[1],e[2]))}},e.Uniform4f=To,e.UniformColor=Io,e.UniformMatrix4f=class extends Oo{constructor(e,t){super(e,t),this.current=ko}set(e){if(e[12]!==this.current[12]||e[0]!==this.current[0])return this.current=e,void this.gl.uniformMatrix4fv(this.location,!1,e);for(let t=1;t<16;t++)if(e[t]!==this.current[t]){this.current=e,this.gl.uniformMatrix4fv(this.location,!1,e);break}}},e.UnwrappedTileID=Kc,e.ValidationError=ie,e.ZoomHistory=Ir,e.addDynamicAttributes=Oc,e.asyncAll=function(e,t,n){if(!e.length)return n(null,[]);let r=e.length;const i=new Array(e.length);let o=null;e.forEach(((e,a)=>{t(e,((e,t)=>{e&&(o=e),i[a]=t,0==--r&&n(o,i)}))}))},e.bezier=r,e.bindAll=c,e.cacheEntryPossiblyAdded=function(e){L++,L>N&&(e.getActor().send("enforceCacheSizeLimit",M),L=0)},e.clamp=o,e.clearTileCache=function(e){const t=caches.delete(I);e&&t.catch(e).then((()=>e()))},e.clipLine=nc,e.clone=function(e){var t=new ca(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.clone$1=f,e.collisionCircleLayout=qs,e.config=T,e.create=function(){var e=new ca(16);return ca!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},e.createExpression=jn,e.createFilter=Qn,e.createLayout=gi,e.createStyleLayer=function(e){return"custom"===e.type?new Pc(e):new Bc[e.type](e)},e.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},e.ease=i,e.emitValidationErrors=xr,e.enforceCacheSizeLimit=function(e){j(),k&&k.then((t=>{t.keys().then((n=>{for(let r=0;r<n.length-e;r++)t.delete(n[r])}))}))},e.evaluateSizeForFeature=function(e,{uSize:t,uSizeT:n},{lowerSize:r,upperSize:i}){return"source"===e.kind?r/Yl:"composite"===e.kind?Ot(r/Yl,i/Yl,n):t},e.evaluateSizeForZoom=function(e,t){let n=0,r=0;if("constant"===e.kind)r=e.layoutSize;else if("source"!==e.kind){const{interpolationType:i,minZoom:a,maxZoom:s}=e,l=i?o(Ht.interpolationFactor(i,t,a,s),0,1):0;"camera"===e.kind?r=Ot(e.minSize,e.maxSize,l):n=l}return{uSizeT:n,uSize:r}},e.evaluateVariableOffset=hc,e.evented=Yr,e.exported=A,e.exported$1=R,e.extend=s,e.filterObject=d,e.getAnchorAlignment=Vl,e.getAnchorJustification=gc,e.getArrayBuffer=Y,e.getImage=q,e.getJSON=function(e,t){return W(s(e,{type:"json"}),t)},e.getOverlapMode=Lc,e.getRTLTextPluginStatus=Qr,e.getReferrer=G,e.getVideo=function(e,t){const n=window.document.createElement("video");n.muted=!0,n.onloadstart=function(){t(null,n)};for(let t=0;t<e.length;t++){const r=window.document.createElement("source");Q(e[t])||(n.crossOrigin="Anonymous"),r.src=e[t],n.appendChild(r)}return{cancel:()=>{}}},e.identity=ua,e.invert=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],c=t[7],u=t[8],d=t[9],f=t[10],p=t[11],m=t[12],h=t[13],g=t[14],y=t[15],v=n*s-r*a,b=n*l-i*a,w=n*c-o*a,x=r*l-i*s,E=r*c-o*s,_=i*c-o*l,A=u*h-d*m,O=u*g-f*m,S=u*y-p*m,T=d*g-f*h,I=d*y-p*h,k=f*y-p*g,C=v*k-b*I+w*T+x*S-E*O+_*A;return C?(e[0]=(s*k-l*I+c*T)*(C=1/C),e[1]=(i*I-r*k-o*T)*C,e[2]=(h*_-g*E+y*x)*C,e[3]=(f*E-d*_-p*x)*C,e[4]=(l*S-a*k-c*O)*C,e[5]=(n*k-i*S+o*O)*C,e[6]=(g*w-m*_-y*b)*C,e[7]=(u*_-f*w+p*b)*C,e[8]=(a*I-s*S+c*A)*C,e[9]=(r*S-n*I-o*A)*C,e[10]=(m*E-h*w+y*v)*C,e[11]=(d*w-u*E-p*v)*C,e[12]=(s*O-a*T-l*A)*C,e[13]=(n*T-r*O+i*A)*C,e[14]=(h*b-m*x-g*v)*C,e[15]=(u*x-d*b+f*v)*C,e):null},e.isImageBitmap=_,e.isSafari=E,e.keysDifference=function(e,t){const n=[];for(const r in e)r in t||n.push(r);return n},e.lazyLoadRTLTextPlugin=function(){Xr.isLoading()||Xr.isLoaded()||"deferred"!==Qr()||Zr()},e.makeRequest=W,e.mapObject=u,e.mercatorXfromLng=Wc,e.mercatorYfromLat=Yc,e.mercatorZfromAltitude=Qc,e.mul=pa,e.multiply=da,e.nextPowerOfTwo=function(e){return e<=1?1:Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},e.number=Ot,e.ortho=function(e,t,n,r,i,o,a){var s=1/(t-n),l=1/(r-i),c=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*l,e[14]=(a+o)*c,e[15]=1,e},e.parseCacheControl=v,e.parseGlyphPBF=function(e){return new tl(e).readFields(Al,[])},e.pbf=tl,e.performSymbolLayout=function(t,n,r,i,o,a,s){t.createArrays(),t.tilePixelRatio=Uo/(512*t.overscaling),t.compareText={},t.iconsNeedLinear=!1;const l=t.layers[0].layout,c=t.layers[0]._unevaluatedLayout._values,u={layoutIconSize:c["icon-size"].possiblyEvaluate(new Jr(t.zoom+1),s),layoutTextSize:c["text-size"].possiblyEvaluate(new Jr(t.zoom+1),s),textMaxSize:c["text-size"].possiblyEvaluate(new Jr(18))};if("composite"===t.textSizeData.kind){const{minZoom:e,maxZoom:n}=t.textSizeData;u.compositeTextSizes=[c["text-size"].possiblyEvaluate(new Jr(e),s),c["text-size"].possiblyEvaluate(new Jr(n),s)]}if("composite"===t.iconSizeData.kind){const{minZoom:e,maxZoom:n}=t.iconSizeData;u.compositeIconSizes=[c["icon-size"].possiblyEvaluate(new Jr(e),s),c["icon-size"].possiblyEvaluate(new Jr(n),s)]}const d=l.get("text-line-height")*el,f="viewport"!==l.get("text-rotation-alignment")&&"point"!==l.get("symbol-placement"),p=l.get("text-keep-upright"),h=l.get("text-size");for(const a of t.features){const c=l.get("text-font").evaluate(a,{},s).join(","),g=h.evaluate(a,{},s),y=u.layoutTextSize.evaluate(a,{},s),v=u.layoutIconSize.evaluate(a,{},s),b={horizontal:{},vertical:void 0},w=a.text;let x,E=[0,0];if(w){const i=w.toString(),u=l.get("text-letter-spacing").evaluate(a,{},s)*el,m=Mr(i)?u:0,h=l.get("text-anchor").evaluate(a,{},s),v=l.get("text-variable-anchor");if(!v){const e=l.get("text-radial-offset").evaluate(a,{},s);E=e?hc(h,[e*el,mc]):l.get("text-offset").evaluate(a,{},s).map((e=>e*el))}let x=f?"center":l.get("text-justify").evaluate(a,{},s);const _=l.get("symbol-placement"),A="point"===_?l.get("text-max-width").evaluate(a,{},s)*el:0,O=()=>{t.allowVerticalPlacement&&Cr(i)&&(b.vertical=jl(w,n,r,o,c,A,d,h,"left",m,E,e.WritingMode.vertical,!0,_,y,g))};if(!f&&v){const t="auto"===x?v.map((e=>gc(e))):[x];let i=!1;for(let a=0;a<t.length;a++){const s=t[a];if(!b.horizontal[s])if(i)b.horizontal[s]=b.horizontal[0];else{const t=jl(w,n,r,o,c,A,d,"center",s,m,E,e.WritingMode.horizontal,!1,_,y,g);t&&(b.horizontal[s]=t,i=1===t.positionedLines.length)}}O()}else{"auto"===x&&(x=gc(h));const t=jl(w,n,r,o,c,A,d,h,x,m,E,e.WritingMode.horizontal,!1,_,y,g);t&&(b.horizontal[x]=t),O(),Cr(i)&&f&&p&&(b.vertical=jl(w,n,r,o,c,A,d,h,x,m,E,e.WritingMode.vertical,!1,_,y,g))}}let _=!1;if(a.icon&&a.icon.name){const e=i[a.icon.name];e&&(x=Hl(o[a.icon.name],l.get("icon-offset").evaluate(a,{},s),l.get("icon-anchor").evaluate(a,{},s)),_=!!e.sdf,void 0===t.sdfIcons?t.sdfIcons=_:t.sdfIcons!==_&&m("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(e.pixelRatio!==t.pixelRatio||0!==l.get("icon-rotate").constantOr(1))&&(t.iconsNeedLinear=!0))}const A=wc(b.horizontal)||b.vertical;t.iconsInText=!!A&&A.iconsInText,(A||x)&&yc(t,a,b,x,i,u,y,v,E,_,s)}a&&t.generateCollisionDebugBuffers()},e.perspective=function(e,t,n,r,i){var o,a=1/Math.tan(t/2);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(e[10]=(i+r)*(o=1/(r-i)),e[14]=2*i*r*o):(e[10]=-1,e[14]=-2*r),e},e.pick=function(e,t){const n={};for(let r=0;r<t.length;r++){const i=t[r];i in e&&(n[i]=e[i])}return n},e.plugin=Xr,e.pointGeometry=O,e.polygonIntersectsPolygon=Qo,e.potpack=Tl,e.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],e.register=Ar,e.registerForPluginStateChange=function(e){return e({pluginStatus:Vr,pluginURL:Gr}),Yr.on("pluginStateChange",e),e},e.renderColorRamp=_a,e.rotateX=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[4],a=t[5],s=t[6],l=t[7],c=t[8],u=t[9],d=t[10],f=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+c*r,e[5]=a*i+u*r,e[6]=s*i+d*r,e[7]=l*i+f*r,e[8]=c*i-o*r,e[9]=u*i-a*r,e[10]=d*i-s*r,e[11]=f*i-l*r,e},e.rotateZ=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],l=t[3],c=t[4],u=t[5],d=t[6],f=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+c*r,e[1]=a*i+u*r,e[2]=s*i+d*r,e[3]=l*i+f*r,e[4]=c*i-o*r,e[5]=u*i-a*r,e[6]=d*i-s*r,e[7]=f*i-l*r,e},e.scale=function(e,t,n){var r=n[0],i=n[1],o=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.scale$1=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e},e.setCacheLimits=function(e,t){M=e,N=t},e.setRTLTextPlugin=function(e,t,n=!1){if(Vr===Br||Vr===Fr||Vr===Ur)throw new Error("setRTLTextPlugin cannot be called multiple times.");Gr=A.resolveURL(e),Vr=Br,zr=t,Wr(),n||Zr()},e.spec=re,e.sphericalToCartesian=function([e,t,n]){return t+=90,t*=Math.PI/180,n*=Math.PI/180,{x:e*Math.cos(t)*Math.sin(n),y:e*Math.sin(t)*Math.sin(n),z:e*Math.cos(n)}},e.toEvaluationFeature=Ho,e.transformMat4=ma,e.translate=function(e,t,n){var r,i,o,a,s,l,c,u,d,f,p,m,h=n[0],g=n[1],y=n[2];return t===e?(e[12]=t[0]*h+t[4]*g+t[8]*y+t[12],e[13]=t[1]*h+t[5]*g+t[9]*y+t[13],e[14]=t[2]*h+t[6]*g+t[10]*y+t[14],e[15]=t[3]*h+t[7]*g+t[11]*y+t[15]):(i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],d=t[8],f=t[9],p=t[10],m=t[11],e[0]=r=t[0],e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=l,e[6]=c,e[7]=u,e[8]=d,e[9]=f,e[10]=p,e[11]=m,e[12]=r*h+s*g+d*y+t[12],e[13]=i*h+l*g+f*y+t[13],e[14]=o*h+c*g+p*y+t[14],e[15]=a*h+u*g+m*y+t[15]),e},e.triggerPluginCompletionEvent=Hr,e.unicodeBlockLookup=kr,e.uniqueId=function(){return l++},e.validateCustomStyleLayer=function(e){const t=[],n=e.id;return void 0===n&&t.push({message:`layers.${n}: missing required property "id"`}),void 0===e.render&&t.push({message:`layers.${n}: missing required method "render"`}),e.renderingMode&&"2d"!==e.renderingMode&&"3d"!==e.renderingMode&&t.push({message:`layers.${n}: property "renderingMode" must be either "2d" or "3d"`}),t},e.validateLight=vr,e.validateStyle=yr,e.vectorTile=ms,e.warnOnce=m,e.wrap=a})),r(["./shared"],(function(e){function t(e){const n=typeof e;if("number"===n||"boolean"===n||"string"===n||null==e)return JSON.stringify(e);if(Array.isArray(e)){let n="[";for(const r of e)n+=`${t(r)},`;return`${n}]`}const r=Object.keys(e).sort();let i="{";for(let n=0;n<r.length;n++)i+=`${JSON.stringify(r[n])}:${t(e[r[n]])},`;return`${i}}`}function n(n){let r="";for(const i of e.refProperties)r+=`/${t(n[i])}`;return r}class r{constructor(e){this.keyCache={},e&&this.replace(e)}replace(e){this._layerConfigs={},this._layers={},this.update(e,[])}update(t,r){for(const n of t){this._layerConfigs[n.id]=n;const t=this._layers[n.id]=e.createStyleLayer(n);t._featureFilter=e.createFilter(t.filter),this.keyCache[n.id]&&delete this.keyCache[n.id]}for(const e of r)delete this.keyCache[e],delete this._layerConfigs[e],delete this._layers[e];this.familiesBySource={};const i=function(e,t){const r={};for(let i=0;i<e.length;i++){const o=t&&t[e[i].id]||n(e[i]);t&&(t[e[i].id]=o);let a=r[o];a||(a=r[o]=[]),a.push(e[i])}const i=[];for(const e in r)i.push(r[e]);return i}(Object.values(this._layerConfigs),this.keyCache);for(const e of i){const t=e.map((e=>this._layers[e.id])),n=t[0];if("none"===n.visibility)continue;const r=n.source||"";let i=this.familiesBySource[r];i||(i=this.familiesBySource[r]={});const o=n.sourceLayer||"_geojsonTileLayer";let a=i[o];a||(a=i[o]=[]),a.push(t)}}}class i{constructor(t){const n={},r=[];for(const e in t){const i=t[e],o=n[e]={};for(const e in i){const t=i[+e];if(!t||0===t.bitmap.width||0===t.bitmap.height)continue;const n={x:0,y:0,w:t.bitmap.width+2,h:t.bitmap.height+2};r.push(n),o[e]={rect:n,metrics:t.metrics}}}const{w:i,h:o}=e.potpack(r),a=new e.AlphaImage({width:i||1,height:o||1});for(const r in t){const i=t[r];for(const t in i){const o=i[+t];if(!o||0===o.bitmap.width||0===o.bitmap.height)continue;const s=n[r][t].rect;e.AlphaImage.copy(o.bitmap,a,{x:0,y:0},{x:s.x+1,y:s.y+1},o.bitmap)}}this.image=a,this.positions=n}}e.register("GlyphAtlas",i);class o{constructor(t){this.tileID=new e.OverscaledTileID(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.uid=t.uid,this.zoom=t.zoom,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming,this.returnDependencies=!!t.returnDependencies,this.promoteId=t.promoteId}parse(t,n,r,o,s){this.status="parsing",this.data=t,this.collisionBoxArray=new e.CollisionBoxArray;const l=new e.DictionaryCoder(Object.keys(t.layers).sort()),c=new e.FeatureIndex(this.tileID,this.promoteId);c.bucketLayerIDs=[];const u={},d={featureIndex:c,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:r},f=n.familiesBySource[this.source];for(const n in f){const i=t.layers[n];if(!i)continue;1===i.version&&e.warnOnce(`Vector tile source "${this.source}" layer "${n}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const o=l.encode(n),s=[];for(let e=0;e<i.length;e++){const t=i.feature(e),r=c.getId(t,n);s.push({feature:t,id:r,index:e,sourceLayerIndex:o})}for(const e of f[n]){const t=e[0];t.minzoom&&this.zoom<Math.floor(t.minzoom)||t.maxzoom&&this.zoom>=t.maxzoom||"none"!==t.visibility&&(a(e,this.zoom,r),(u[t.id]=t.createBucket({index:c.bucketLayerIDs.length,layers:e,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:o,sourceID:this.source})).populate(s,d,this.tileID.canonical),c.bucketLayerIDs.push(e.map((e=>e.id))))}}let p,m,h,g;const y=e.mapObject(d.glyphDependencies,(e=>Object.keys(e).map(Number)));Object.keys(y).length?o.send("getGlyphs",{uid:this.uid,stacks:y},((e,t)=>{p||(p=e,m=t,w.call(this))})):m={};const v=Object.keys(d.iconDependencies);v.length?o.send("getImages",{icons:v,source:this.source,tileID:this.tileID,type:"icons"},((e,t)=>{p||(p=e,h=t,w.call(this))})):h={};const b=Object.keys(d.patternDependencies);function w(){if(p)return s(p);if(m&&h&&g){const t=new i(m),n=new e.ImageAtlas(h,g);for(const i in u){const o=u[i];o instanceof e.SymbolBucket?(a(o.layers,this.zoom,r),e.performSymbolLayout(o,m,t.positions,h,n.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):o.hasPattern&&(o instanceof e.LineBucket||o instanceof e.FillBucket||o instanceof e.FillExtrusionBucket)&&(a(o.layers,this.zoom,r),o.addFeatures(d,this.tileID.canonical,n.patternPositions))}this.status="done",s(null,{buckets:Object.values(u).filter((e=>!e.isEmpty())),featureIndex:c,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:t.image,imageAtlas:n,glyphMap:this.returnDependencies?m:null,iconMap:this.returnDependencies?h:null,glyphPositions:this.returnDependencies?t.positions:null})}}b.length?o.send("getImages",{icons:b,source:this.source,tileID:this.tileID,type:"patterns"},((e,t)=>{p||(p=e,g=t,w.call(this))})):g={},w.call(this)}}function a(t,n,r){const i=new e.EvaluationParameters(n);for(const e of t)e.recalculate(i,r)}function s(t,n){const r=e.getArrayBuffer(t.request,((t,r,i,o)=>{t?n(t):r&&n(null,{vectorTile:new e.vectorTile.VectorTile(new e.pbf(r)),rawData:r,cacheControl:i,expires:o})}));return()=>{r.cancel(),n()}}class l{constructor(e,t,n,r){this.actor=e,this.layerIndex=t,this.availableImages=n,this.loadVectorData=r||s,this.loading={},this.loaded={}}loadTile(t,n){const r=t.uid;this.loading||(this.loading={});const i=!!(t&&t.request&&t.request.collectResourceTiming)&&new e.RequestPerformance(t.request),a=this.loading[r]=new o(t);a.abort=this.loadVectorData(t,((t,o)=>{if(delete this.loading[r],t||!o)return a.status="done",this.loaded[r]=a,n(t);const s=o.rawData,l={};o.expires&&(l.expires=o.expires),o.cacheControl&&(l.cacheControl=o.cacheControl);const c={};if(i){const e=i.finish();e&&(c.resourceTiming=JSON.parse(JSON.stringify(e)))}a.vectorTile=o.vectorTile,a.parse(o.vectorTile,this.layerIndex,this.availableImages,this.actor,((t,r)=>{if(t||!r)return n(t);n(null,e.extend({rawTileData:s.slice(0)},r,l,c))})),this.loaded=this.loaded||{},this.loaded[r]=a}))}reloadTile(e,t){const n=this.loaded,r=e.uid,i=this;if(n&&n[r]){const o=n[r];o.showCollisionBoxes=e.showCollisionBoxes;const a=(e,n)=>{const r=o.reloadCallback;r&&(delete o.reloadCallback,o.parse(o.vectorTile,i.layerIndex,this.availableImages,i.actor,r)),t(e,n)};"parsing"===o.status?o.reloadCallback=a:"done"===o.status&&(o.vectorTile?o.parse(o.vectorTile,this.layerIndex,this.availableImages,this.actor,a):a())}}abortTile(e,t){const n=this.loading,r=e.uid;n&&n[r]&&n[r].abort&&(n[r].abort(),delete n[r]),t()}removeTile(e,t){const n=this.loaded,r=e.uid;n&&n[r]&&delete n[r],t()}}class c{constructor(){this.loaded={}}loadTile(t,n){const{uid:r,encoding:i,rawImageData:o}=t,a=e.isImageBitmap(o)?this.getImageData(o):o,s=new e.DEMData(r,a,i);this.loaded=this.loaded||{},this.loaded[r]=s,n(null,s)}getImageData(t){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(t.width,t.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=t.width,this.offscreenCanvas.height=t.height,this.offscreenCanvasContext.drawImage(t,0,0,t.width,t.height);const n=this.offscreenCanvasContext.getImageData(-1,-1,t.width+2,t.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new e.RGBAImage({width:n.width,height:n.height},n.data)}removeTile(e){const t=this.loaded,n=e.uid;t&&t[n]&&delete t[n]}}var u=function e(t,n){var r,i=t&&t.type;if("FeatureCollection"===i)for(r=0;r<t.features.length;r++)e(t.features[r],n);else if("GeometryCollection"===i)for(r=0;r<t.geometries.length;r++)e(t.geometries[r],n);else if("Feature"===i)e(t.geometry,n);else if("Polygon"===i)d(t.coordinates,n);else if("MultiPolygon"===i)for(r=0;r<t.coordinates.length;r++)d(t.coordinates[r],n);return t};function d(e,t){if(0!==e.length){f(e[0],t);for(var n=1;n<e.length;n++)f(e[n],!t)}}function f(e,t){for(var n=0,r=0,i=0,o=e.length,a=o-1;i<o;a=i++){var s=(e[i][0]-e[a][0])*(e[a][1]+e[i][1]),l=n+s;r+=Math.abs(n)>=Math.abs(s)?n-l+s:s-l+n,n=l}n+r>=0!=!!t&&e.reverse()}const p=e.vectorTile.VectorTileFeature.prototype.toGeoJSON;class m{constructor(t){this._feature=t,this.extent=e.EXTENT,this.type=t.type,this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10))}loadGeometry(){if(1===this._feature.type){const t=[];for(const n of this._feature.geometry)t.push([new e.pointGeometry(n[0],n[1])]);return t}{const t=[];for(const n of this._feature.geometry){const r=[];for(const t of n)r.push(new e.pointGeometry(t[0],t[1]));t.push(r)}return t}}toGeoJSON(e,t,n){return p.call(this,e,t,n)}}class h{constructor(t){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=e.EXTENT,this.length=t.length,this._features=t}feature(e){return new m(this._features[e])}}var g={exports:{}},y=e.pointGeometry,v=e.vectorTile.VectorTileFeature,b=w;function w(e,t){this.options=t||{},this.features=e,this.length=e.length}function x(e,t){this.id="number"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096}w.prototype.feature=function(e){return new x(this.features[e],this.options.extent)},x.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var t=0;t<e.length;t++){for(var n=e[t],r=[],i=0;i<n.length;i++)r.push(new y(n[i][0],n[i][1]));this.geometry.push(r)}return this.geometry},x.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,n=-1/0,r=1/0,i=-1/0,o=0;o<e.length;o++)for(var a=e[o],s=0;s<a.length;s++){var l=a[s];t=Math.min(t,l.x),n=Math.max(n,l.x),r=Math.min(r,l.y),i=Math.max(i,l.y)}return[t,r,n,i]},x.prototype.toGeoJSON=v.prototype.toGeoJSON;var E=e.pbf,_=b;function A(e){var t=new E;return function(e,t){for(var n in e.layers)t.writeMessage(3,O,e.layers[n])}(e,t),t.finish()}function O(e,t){var n;t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||""),t.writeVarintField(5,e.extent||4096);var r={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<e.length;n++)r.feature=e.feature(n),t.writeMessage(2,S,r);var i=r.keys;for(n=0;n<i.length;n++)t.writeStringField(3,i[n]);var o=r.values;for(n=0;n<o.length;n++)t.writeMessage(4,M,o[n])}function S(e,t){var n=e.feature;void 0!==n.id&&t.writeVarintField(1,n.id),t.writeMessage(2,T,e),t.writeVarintField(3,n.type),t.writeMessage(4,C,n)}function T(e,t){var n=e.feature,r=e.keys,i=e.values,o=e.keycache,a=e.valuecache;for(var s in n.properties){var l=n.properties[s],c=o[s];if(null!==l){void 0===c&&(r.push(s),o[s]=c=r.length-1),t.writeVarint(c);var u=typeof l;"string"!==u&&"boolean"!==u&&"number"!==u&&(l=JSON.stringify(l));var d=u+":"+l,f=a[d];void 0===f&&(i.push(l),a[d]=f=i.length-1),t.writeVarint(f)}}}function I(e,t){return(t<<3)+(7&e)}function k(e){return e<<1^e>>31}function C(e,t){for(var n=e.loadGeometry(),r=e.type,i=0,o=0,a=n.length,s=0;s<a;s++){var l=n[s],c=1;1===r&&(c=l.length),t.writeVarint(I(1,c));for(var u=3===r?l.length-1:l.length,d=0;d<u;d++){1===d&&1!==r&&t.writeVarint(I(2,u-1));var f=l[d].x-i,p=l[d].y-o;t.writeVarint(k(f)),t.writeVarint(k(p)),i+=f,o+=p}3===r&&t.writeVarint(I(7,1))}}function M(e,t){var n=typeof e;"string"===n?t.writeStringField(1,e):"boolean"===n?t.writeBooleanField(7,e):"number"===n&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e))}g.exports=A,g.exports.fromVectorTileJs=A,g.exports.fromGeojsonVt=function(e,t){t=t||{};var n={};for(var r in e)n[r]=new _(e[r].features,t),n[r].name=r,n[r].version=t.version,n[r].extent=t.extent;return A({layers:n})},g.exports.GeoJSONWrapper=_;var N=g.exports;function j(e,t,n,r,i,o){if(i-r<=n)return;const a=r+i>>1;L(e,t,a,r,i,o%2),j(e,t,n,r,a-1,o+1),j(e,t,n,a+1,i,o+1)}function L(e,t,n,r,i,o){for(;i>r;){if(i-r>600){const a=i-r+1,s=n-r+1,l=Math.log(a),c=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*c*(a-c)/a)*(s-a/2<0?-1:1);L(e,t,n,Math.max(r,Math.floor(n-s*c/a+u)),Math.min(i,Math.floor(n+(a-s)*c/a+u)),o)}const a=t[2*n+o];let s=r,l=i;for(R(e,t,r,n),t[2*i+o]>a&&R(e,t,r,i);s<l;){for(R(e,t,s,l),s++,l--;t[2*s+o]<a;)s++;for(;t[2*l+o]>a;)l--}t[2*r+o]===a?R(e,t,r,l):(l++,R(e,t,l,i)),l<=n&&(r=l+1),n<=l&&(i=l-1)}}function R(e,t,n,r){D(e,n,r),D(t,2*n,2*r),D(t,2*n+1,2*r+1)}function D(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function P(e,t,n,r){const i=e-n,o=t-r;return i*i+o*o}const B=e=>e[0],F=e=>e[1];class U{constructor(e,t=B,n=F,r=64,i=Float64Array){this.nodeSize=r,this.points=e;const o=e.length<65536?Uint16Array:Uint32Array,a=this.ids=new o(e.length),s=this.coords=new i(2*e.length);for(let r=0;r<e.length;r++)a[r]=r,s[2*r]=t(e[r]),s[2*r+1]=n(e[r]);j(a,s,r,0,a.length-1,0)}range(e,t,n,r){return function(e,t,n,r,i,o,a){const s=[0,e.length-1,0],l=[];let c,u;for(;s.length;){const d=s.pop(),f=s.pop(),p=s.pop();if(f-p<=a){for(let a=p;a<=f;a++)c=t[2*a],u=t[2*a+1],c>=n&&c<=i&&u>=r&&u<=o&&l.push(e[a]);continue}const m=Math.floor((p+f)/2);c=t[2*m],u=t[2*m+1],c>=n&&c<=i&&u>=r&&u<=o&&l.push(e[m]);const h=(d+1)%2;(0===d?n<=c:r<=u)&&(s.push(p),s.push(m-1),s.push(h)),(0===d?i>=c:o>=u)&&(s.push(m+1),s.push(f),s.push(h))}return l}(this.ids,this.coords,e,t,n,r,this.nodeSize)}within(e,t,n){return function(e,t,n,r,i,o){const a=[0,e.length-1,0],s=[],l=i*i;for(;a.length;){const c=a.pop(),u=a.pop(),d=a.pop();if(u-d<=o){for(let i=d;i<=u;i++)P(t[2*i],t[2*i+1],n,r)<=l&&s.push(e[i]);continue}const f=Math.floor((d+u)/2),p=t[2*f],m=t[2*f+1];P(p,m,n,r)<=l&&s.push(e[f]);const h=(c+1)%2;(0===c?n-i<=p:r-i<=m)&&(a.push(d),a.push(f-1),a.push(h)),(0===c?n+i>=p:r+i>=m)&&(a.push(f+1),a.push(u),a.push(h))}return s}(this.ids,this.coords,e,t,n,this.nodeSize)}}const z={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},V=Math.fround||(G=new Float32Array(1),e=>(G[0]=+e,G[0]));var G;class H{constructor(e){this.options=K(Object.create(z),e),this.trees=new Array(this.options.maxZoom+1)}load(e){const{log:t,minZoom:n,maxZoom:r,nodeSize:i}=this.options;t&&console.time("total time");const o=`prepare ${e.length} points`;t&&console.time(o),this.points=e;let a=[];for(let t=0;t<e.length;t++)e[t].geometry&&a.push(Y(e[t],t));this.trees[r+1]=new U(a,$,ee,i,Float32Array),t&&console.timeEnd(o);for(let e=r;e>=n;e--){const n=+Date.now();a=this._cluster(a,e),this.trees[e]=new U(a,$,ee,i,Float32Array),t&&console.log("z%d: %d clusters in %dms",e,a.length,+Date.now()-n)}return t&&console.timeEnd("total time"),this}getClusters(e,t){let n=((e[0]+180)%360+360)%360-180;const r=Math.max(-90,Math.min(90,e[1]));let i=180===e[2]?180:((e[2]+180)%360+360)%360-180;const o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,i=180;else if(n>i){const e=this.getClusters([n,r,180,o],t),a=this.getClusters([-180,r,i,o],t);return e.concat(a)}const a=this.trees[this._limitZoom(t)],s=a.range(X(n),J(o),X(i),J(r)),l=[];for(const e of s){const t=a.points[e];l.push(t.numPoints?Q(t):this.points[t.index])}return l}getChildren(e){const t=this._getOriginId(e),n=this._getOriginZoom(e),r="No cluster with the specified id.",i=this.trees[n];if(!i)throw new Error(r);const o=i.points[t];if(!o)throw new Error(r);const a=this.options.radius/(this.options.extent*Math.pow(2,n-1)),s=i.within(o.x,o.y,a),l=[];for(const t of s){const n=i.points[t];n.parentId===e&&l.push(n.numPoints?Q(n):this.points[n.index])}if(0===l.length)throw new Error(r);return l}getLeaves(e,t,n){const r=[];return this._appendLeaves(r,e,t=t||10,n=n||0,0),r}getTile(e,t,n){const r=this.trees[this._limitZoom(e)],i=Math.pow(2,e),{extent:o,radius:a}=this.options,s=a/o,l=(n-s)/i,c=(n+1+s)/i,u={features:[]};return this._addTileFeatures(r.range((t-s)/i,l,(t+1+s)/i,c),r.points,t,n,i,u),0===t&&this._addTileFeatures(r.range(1-s/i,l,1,c),r.points,i,n,i,u),t===i-1&&this._addTileFeatures(r.range(0,l,s/i,c),r.points,-1,n,i,u),u.features.length?u:null}getClusterExpansionZoom(e){let t=this._getOriginZoom(e)-1;for(;t<=this.options.maxZoom;){const n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t}_appendLeaves(e,t,n,r,i){const o=this.getChildren(t);for(const t of o){const o=t.properties;if(o&&o.cluster?i+o.point_count<=r?i+=o.point_count:i=this._appendLeaves(e,o.cluster_id,n,r,i):i<r?i++:e.push(t),e.length===n)break}return i}_addTileFeatures(e,t,n,r,i,o){for(const a of e){const e=t[a],s=e.numPoints;let l,c,u;if(s)l=Z(e),c=e.x,u=e.y;else{const t=this.points[e.index];l=t.properties,c=X(t.geometry.coordinates[0]),u=J(t.geometry.coordinates[1])}const d={type:1,geometry:[[Math.round(this.options.extent*(c*i-n)),Math.round(this.options.extent*(u*i-r))]],tags:l};let f;s?f=e.id:this.options.generateId?f=e.index:this.points[e.index].id&&(f=this.points[e.index].id),void 0!==f&&(d.id=f),o.features.push(d)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(+e,this.options.maxZoom+1))}_cluster(e,t){const n=[],{radius:r,extent:i,reduce:o,minPoints:a}=this.options,s=r/(i*Math.pow(2,t));for(let r=0;r<e.length;r++){const i=e[r];if(i.zoom<=t)continue;i.zoom=t;const l=this.trees[t+1],c=l.within(i.x,i.y,s),u=i.numPoints||1;let d=u;for(const e of c){const n=l.points[e];n.zoom>t&&(d+=n.numPoints||1)}if(d>u&&d>=a){let e=i.x*u,a=i.y*u,s=o&&u>1?this._map(i,!0):null;const f=(r<<5)+(t+1)+this.points.length;for(const n of c){const r=l.points[n];if(r.zoom<=t)continue;r.zoom=t;const c=r.numPoints||1;e+=r.x*c,a+=r.y*c,r.parentId=f,o&&(s||(s=this._map(i,!0)),o(s,this._map(r)))}i.parentId=f,n.push(W(e/d,a/d,f,d,s))}else if(n.push(i),d>1)for(const e of c){const r=l.points[e];r.zoom<=t||(r.zoom=t,n.push(r))}}return n}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t){if(e.numPoints)return t?K({},e.properties):e.properties;const n=this.points[e.index].properties,r=this.options.map(n);return t&&r===n?K({},r):r}}function W(e,t,n,r,i){return{x:V(e),y:V(t),zoom:1/0,id:n,parentId:-1,numPoints:r,properties:i}}function Y(e,t){const[n,r]=e.geometry.coordinates;return{x:V(X(n)),y:V(J(r)),zoom:1/0,index:t,parentId:-1}}function Q(e){return{type:"Feature",id:e.id,properties:Z(e),geometry:{type:"Point",coordinates:[(t=e.x,360*(t-.5)),q(e.y)]}};var t}function Z(e){const t=e.numPoints,n=t>=1e4?`${Math.round(t/1e3)}k`:t>=1e3?Math.round(t/100)/10+"k":t;return K(K({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:n})}function X(e){return e/360+.5}function J(e){const t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function q(e){const t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function K(e,t){for(const n in t)e[n]=t[n];return e}function $(e){return e.x}function ee(e){return e.y}function te(e,t,n,r){for(var i,o=r,a=n-t>>1,s=n-t,l=e[t],c=e[t+1],u=e[n],d=e[n+1],f=t+3;f<n;f+=3){var p=ne(e[f],e[f+1],l,c,u,d);if(p>o)i=f,o=p;else if(p===o){var m=Math.abs(f-a);m<s&&(i=f,s=m)}}o>r&&(i-t>3&&te(e,t,i,r),e[i+2]=o,n-i>3&&te(e,i,n,r))}function ne(e,t,n,r,i,o){var a=i-n,s=o-r;if(0!==a||0!==s){var l=((e-n)*a+(t-r)*s)/(a*a+s*s);l>1?(n=i,r=o):l>0&&(n+=a*l,r+=s*l)}return(a=e-n)*a+(s=t-r)*s}function re(e,t,n,r){var i={id:void 0===e?null:e,type:t,geometry:n,tags:r,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(e){var t=e.geometry,n=e.type;if("Point"===n||"MultiPoint"===n||"LineString"===n)ie(e,t);else if("Polygon"===n||"MultiLineString"===n)for(var r=0;r<t.length;r++)ie(e,t[r]);else if("MultiPolygon"===n)for(r=0;r<t.length;r++)for(var i=0;i<t[r].length;i++)ie(e,t[r][i])}(i),i}function ie(e,t){for(var n=0;n<t.length;n+=3)e.minX=Math.min(e.minX,t[n]),e.minY=Math.min(e.minY,t[n+1]),e.maxX=Math.max(e.maxX,t[n]),e.maxY=Math.max(e.maxY,t[n+1])}function oe(e,t,n,r){if(t.geometry){var i=t.geometry.coordinates,o=t.geometry.type,a=Math.pow(n.tolerance/((1<<n.maxZoom)*n.extent),2),s=[],l=t.id;if(n.promoteId?l=t.properties[n.promoteId]:n.generateId&&(l=r||0),"Point"===o)ae(i,s);else if("MultiPoint"===o)for(var c=0;c<i.length;c++)ae(i[c],s);else if("LineString"===o)se(i,s,a,!1);else if("MultiLineString"===o){if(n.lineMetrics){for(c=0;c<i.length;c++)se(i[c],s=[],a,!1),e.push(re(l,"LineString",s,t.properties));return}le(i,s,a,!1)}else if("Polygon"===o)le(i,s,a,!0);else{if("MultiPolygon"!==o){if("GeometryCollection"===o){for(c=0;c<t.geometry.geometries.length;c++)oe(e,{id:l,geometry:t.geometry.geometries[c],properties:t.properties},n,r);return}throw new Error("Input data is not a valid GeoJSON object.")}for(c=0;c<i.length;c++){var u=[];le(i[c],u,a,!0),s.push(u)}}e.push(re(l,o,s,t.properties))}}function ae(e,t){t.push(ce(e[0])),t.push(ue(e[1])),t.push(0)}function se(e,t,n,r){for(var i,o,a=0,s=0;s<e.length;s++){var l=ce(e[s][0]),c=ue(e[s][1]);t.push(l),t.push(c),t.push(0),s>0&&(a+=r?(i*c-l*o)/2:Math.sqrt(Math.pow(l-i,2)+Math.pow(c-o,2))),i=l,o=c}var u=t.length-3;t[2]=1,te(t,0,u,n),t[u+2]=1,t.size=Math.abs(a),t.start=0,t.end=t.size}function le(e,t,n,r){for(var i=0;i<e.length;i++){var o=[];se(e[i],o,n,r),t.push(o)}}function ce(e){return e/360+.5}function ue(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function de(e,t,n,r,i,o,a,s){if(r/=t,o>=(n/=t)&&a<r)return e;if(a<n||o>=r)return null;for(var l=[],c=0;c<e.length;c++){var u=e[c],d=u.geometry,f=u.type,p=0===i?u.minX:u.minY,m=0===i?u.maxX:u.maxY;if(p>=n&&m<r)l.push(u);else if(!(m<n||p>=r)){var h=[];if("Point"===f||"MultiPoint"===f)fe(d,h,n,r,i);else if("LineString"===f)pe(d,h,n,r,i,!1,s.lineMetrics);else if("MultiLineString"===f)he(d,h,n,r,i,!1);else if("Polygon"===f)he(d,h,n,r,i,!0);else if("MultiPolygon"===f)for(var g=0;g<d.length;g++){var y=[];he(d[g],y,n,r,i,!0),y.length&&h.push(y)}if(h.length){if(s.lineMetrics&&"LineString"===f){for(g=0;g<h.length;g++)l.push(re(u.id,f,h[g],u.tags));continue}"LineString"!==f&&"MultiLineString"!==f||(1===h.length?(f="LineString",h=h[0]):f="MultiLineString"),"Point"!==f&&"MultiPoint"!==f||(f=3===h.length?"Point":"MultiPoint"),l.push(re(u.id,f,h,u.tags))}}}return l.length?l:null}function fe(e,t,n,r,i){for(var o=0;o<e.length;o+=3){var a=e[o+i];a>=n&&a<=r&&(t.push(e[o]),t.push(e[o+1]),t.push(e[o+2]))}}function pe(e,t,n,r,i,o,a){for(var s,l,c=me(e),u=0===i?ye:ve,d=e.start,f=0;f<e.length-3;f+=3){var p=e[f],m=e[f+1],h=e[f+2],g=e[f+3],y=e[f+4],v=0===i?p:m,b=0===i?g:y,w=!1;a&&(s=Math.sqrt(Math.pow(p-g,2)+Math.pow(m-y,2))),v<n?b>n&&(l=u(c,p,m,g,y,n),a&&(c.start=d+s*l)):v>r?b<r&&(l=u(c,p,m,g,y,r),a&&(c.start=d+s*l)):ge(c,p,m,h),b<n&&v>=n&&(l=u(c,p,m,g,y,n),w=!0),b>r&&v<=r&&(l=u(c,p,m,g,y,r),w=!0),!o&&w&&(a&&(c.end=d+s*l),t.push(c),c=me(e)),a&&(d+=s)}var x=e.length-3;p=e[x],m=e[x+1],h=e[x+2],(v=0===i?p:m)>=n&&v<=r&&ge(c,p,m,h),x=c.length-3,o&&x>=3&&(c[x]!==c[0]||c[x+1]!==c[1])&&ge(c,c[0],c[1],c[2]),c.length&&t.push(c)}function me(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function he(e,t,n,r,i,o){for(var a=0;a<e.length;a++)pe(e[a],t,n,r,i,o,!1)}function ge(e,t,n,r){e.push(t),e.push(n),e.push(r)}function ye(e,t,n,r,i,o){var a=(o-t)/(r-t);return e.push(o),e.push(n+(i-n)*a),e.push(1),a}function ve(e,t,n,r,i,o){var a=(o-n)/(i-n);return e.push(t+(r-t)*a),e.push(o),e.push(1),a}function be(e,t){for(var n=[],r=0;r<e.length;r++){var i,o=e[r],a=o.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)i=we(o.geometry,t);else if("MultiLineString"===a||"Polygon"===a){i=[];for(var s=0;s<o.geometry.length;s++)i.push(we(o.geometry[s],t))}else if("MultiPolygon"===a)for(i=[],s=0;s<o.geometry.length;s++){for(var l=[],c=0;c<o.geometry[s].length;c++)l.push(we(o.geometry[s][c],t));i.push(l)}n.push(re(o.id,a,i,o.tags))}return n}function we(e,t){var n=[];n.size=e.size,void 0!==e.start&&(n.start=e.start,n.end=e.end);for(var r=0;r<e.length;r+=3)n.push(e[r]+t,e[r+1],e[r+2]);return n}function xe(e,t){if(e.transformed)return e;var n,r,i,o=1<<e.z,a=e.x,s=e.y;for(n=0;n<e.features.length;n++){var l=e.features[n],c=l.geometry,u=l.type;if(l.geometry=[],1===u)for(r=0;r<c.length;r+=2)l.geometry.push(Ee(c[r],c[r+1],t,o,a,s));else for(r=0;r<c.length;r++){var d=[];for(i=0;i<c[r].length;i+=2)d.push(Ee(c[r][i],c[r][i+1],t,o,a,s));l.geometry.push(d)}}return e.transformed=!0,e}function Ee(e,t,n,r,i,o){return[Math.round(n*(e*r-i)),Math.round(n*(t*r-o))]}function _e(e,t,n,r,i){for(var o=t===i.maxZoom?0:i.tolerance/((1<<t)*i.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:r,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<e.length;s++){a.numFeatures++,Ae(a,e[s],o,i);var l=e[s].minX,c=e[s].minY,u=e[s].maxX,d=e[s].maxY;l<a.minX&&(a.minX=l),c<a.minY&&(a.minY=c),u>a.maxX&&(a.maxX=u),d>a.maxY&&(a.maxY=d)}return a}function Ae(e,t,n,r){var i=t.geometry,o=t.type,a=[];if("Point"===o||"MultiPoint"===o)for(var s=0;s<i.length;s+=3)a.push(i[s]),a.push(i[s+1]),e.numPoints++,e.numSimplified++;else if("LineString"===o)Oe(a,i,e,n,!1,!1);else if("MultiLineString"===o||"Polygon"===o)for(s=0;s<i.length;s++)Oe(a,i[s],e,n,"Polygon"===o,0===s);else if("MultiPolygon"===o)for(var l=0;l<i.length;l++){var c=i[l];for(s=0;s<c.length;s++)Oe(a,c[s],e,n,!0,0===s)}if(a.length){var u=t.tags||null;if("LineString"===o&&r.lineMetrics){for(var d in u={},t.tags)u[d]=t.tags[d];u.mapbox_clip_start=i.start/i.size,u.mapbox_clip_end=i.end/i.size}var f={geometry:a,type:"Polygon"===o||"MultiPolygon"===o?3:"LineString"===o||"MultiLineString"===o?2:1,tags:u};null!==t.id&&(f.id=t.id),e.features.push(f)}}function Oe(e,t,n,r,i,o){var a=r*r;if(r>0&&t.size<(i?a:r))n.numPoints+=t.length/3;else{for(var s=[],l=0;l<t.length;l+=3)(0===r||t[l+2]>a)&&(n.numSimplified++,s.push(t[l]),s.push(t[l+1])),n.numPoints++;i&&function(e,t){for(var n=0,r=0,i=e.length,o=i-2;r<i;o=r,r+=2)n+=(e[r]-e[o])*(e[r+1]+e[o+1]);if(n>0===t)for(r=0,i=e.length;r<i/2;r+=2){var a=e[r],s=e[r+1];e[r]=e[i-2-r],e[r+1]=e[i-1-r],e[i-2-r]=a,e[i-1-r]=s}}(s,o),e.push(s)}}function Se(e,t){var n=(t=this.options=function(e,t){for(var n in t)e[n]=t[n];return e}(Object.create(this.options),t)).debug;if(n&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(t.promoteId&&t.generateId)throw new Error("promoteId and generateId cannot be used together.");var r=function(e,t){var n=[];if("FeatureCollection"===e.type)for(var r=0;r<e.features.length;r++)oe(n,e.features[r],t,r);else oe(n,"Feature"===e.type?e:{geometry:e},t);return n}(e,t);this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(r=function(e,t){var n=t.buffer/t.extent,r=e,i=de(e,1,-1-n,n,0,-1,2,t),o=de(e,1,1-n,2+n,0,-1,2,t);return(i||o)&&(r=de(e,1,-n,1+n,0,-1,2,t)||[],i&&(r=be(i,1).concat(r)),o&&(r=r.concat(be(o,-1)))),r}(r,t)).length&&this.splitTile(r,0,0,0),n&&(r.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Te(e,t,n){return 32*((1<<e)*n+t)+e}function Ie(e,t){const n=e.tileID.canonical;if(!this._geoJSONIndex)return t(null,null);const r=this._geoJSONIndex.getTile(n.z,n.x,n.y);if(!r)return t(null,null);const i=new h(r.features);let o=N(i);0===o.byteOffset&&o.byteLength===o.buffer.byteLength||(o=new Uint8Array(o)),t(null,{vectorTile:i,rawData:o.buffer})}Se.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Se.prototype.splitTile=function(e,t,n,r,i,o,a){for(var s=[e,t,n,r],l=this.options,c=l.debug;s.length;){r=s.pop(),n=s.pop(),t=s.pop(),e=s.pop();var u=1<<t,d=Te(t,n,r),f=this.tiles[d];if(!f&&(c>1&&console.time("creation"),f=this.tiles[d]=_e(e,t,n,r,l),this.tileCoords.push({z:t,x:n,y:r}),c)){c>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,n,r,f.numFeatures,f.numPoints,f.numSimplified),console.timeEnd("creation"));var p="z"+t;this.stats[p]=(this.stats[p]||0)+1,this.total++}if(f.source=e,i){if(t===l.maxZoom||t===i)continue;var m=1<<i-t;if(n!==Math.floor(o/m)||r!==Math.floor(a/m))continue}else if(t===l.indexMaxZoom||f.numPoints<=l.indexMaxPoints)continue;if(f.source=null,0!==e.length){c>1&&console.time("clipping");var h,g,y,v,b,w,x=.5*l.buffer/l.extent,E=.5-x,_=.5+x,A=1+x;h=g=y=v=null,b=de(e,u,n-x,n+_,0,f.minX,f.maxX,l),w=de(e,u,n+E,n+A,0,f.minX,f.maxX,l),e=null,b&&(h=de(b,u,r-x,r+_,1,f.minY,f.maxY,l),g=de(b,u,r+E,r+A,1,f.minY,f.maxY,l),b=null),w&&(y=de(w,u,r-x,r+_,1,f.minY,f.maxY,l),v=de(w,u,r+E,r+A,1,f.minY,f.maxY,l),w=null),c>1&&console.timeEnd("clipping"),s.push(h||[],t+1,2*n,2*r),s.push(g||[],t+1,2*n,2*r+1),s.push(y||[],t+1,2*n+1,2*r),s.push(v||[],t+1,2*n+1,2*r+1)}}},Se.prototype.getTile=function(e,t,n){var r=this.options,i=r.extent,o=r.debug;if(e<0||e>24)return null;var a=1<<e,s=Te(e,t=(t%a+a)%a,n);if(this.tiles[s])return xe(this.tiles[s],i);o>1&&console.log("drilling down to z%d-%d-%d",e,t,n);for(var l,c=e,u=t,d=n;!l&&c>0;)c--,u=Math.floor(u/2),d=Math.floor(d/2),l=this.tiles[Te(c,u,d)];return l&&l.source?(o>1&&console.log("found parent tile z%d-%d-%d",c,u,d),o>1&&console.time("drilling down"),this.splitTile(l.source,c,u,d,e,t,n),o>1&&console.timeEnd("drilling down"),this.tiles[s]?xe(this.tiles[s],i):null):null};class ke extends l{constructor(e,t,n,r){super(e,t,n,Ie),r&&(this.loadGeoJSON=r)}loadData(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=t,this._pendingLoadDataParams=e,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())}_loadData(){if(!this._pendingCallback||!this._pendingLoadDataParams)return;const t=this._pendingCallback,n=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;const r=!!(n&&n.request&&n.request.collectResourceTiming)&&new e.RequestPerformance(n.request);this.loadGeoJSON(n,((i,o)=>{if(i||!o)return t(i);if("object"!=typeof o)return t(new Error(`Input data given to '${n.source}' is not a valid GeoJSON object.`));{u(o,!0);try{if(n.filter){const t=e.createExpression(n.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===t.result)throw new Error(t.value.map((e=>`${e.key}: ${e.message}`)).join(", "));const r=o.features.filter((e=>t.value.evaluate({zoom:0},e)));o={type:"FeatureCollection",features:r}}this._geoJSONIndex=n.cluster?new H(function({superclusterOptions:t,clusterProperties:n}){if(!n||!t)return t;const r={},i={},o={accumulated:null,zoom:0},a={properties:null},s=Object.keys(n);for(const t of s){const[o,a]=n[t],s=e.createExpression(a),l=e.createExpression("string"==typeof o?[o,["accumulated"],["get",t]]:o);r[t]=s.value,i[t]=l.value}return t.map=e=>{a.properties=e;const t={};for(const e of s)t[e]=r[e].evaluate(o,a);return t},t.reduce=(e,t)=>{a.properties=t;for(const t of s)o.accumulated=e[t],e[t]=i[t].evaluate(o,a)},t}(n)).load(o.features):function(e,t){return new Se(e,t)}(o,n.geojsonVtOptions)}catch(i){return t(i)}this.loaded={};const a={};if(r){const e=r.finish();e&&(a.resourceTiming={},a.resourceTiming[n.source]=JSON.parse(JSON.stringify(e)))}t(null,a)}}))}coalesce(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())}reloadTile(e,t){const n=this.loaded;return n&&n[e.uid]?super.reloadTile(e,t):this.loadTile(e,t)}loadGeoJSON(t,n){if(t.request)e.getJSON(t.request,n);else{if("string"!=typeof t.data)return n(new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`));try{return n(null,JSON.parse(t.data))}catch(e){return n(new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`))}}}removeSource(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),t()}getClusterExpansionZoom(e,t){try{t(null,this._geoJSONIndex.getClusterExpansionZoom(e.clusterId))}catch(e){t(e)}}getClusterChildren(e,t){try{t(null,this._geoJSONIndex.getChildren(e.clusterId))}catch(e){t(e)}}getClusterLeaves(e,t){try{t(null,this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset))}catch(e){t(e)}}}class Ce{constructor(t){this.self=t,this.actor=new e.Actor(t,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:l,geojson:ke},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(e,t)=>{if(this.workerSourceTypes[e])throw new Error(`Worker source with name "${e}" already registered.`);this.workerSourceTypes[e]=t},this.self.registerRTLTextPlugin=t=>{if(e.plugin.isParsed())throw new Error("RTL text plugin already registered.");e.plugin.applyArabicShaping=t.applyArabicShaping,e.plugin.processBidirectionalText=t.processBidirectionalText,e.plugin.processStyledBidirectionalText=t.processStyledBidirectionalText}}setReferrer(e,t){this.referrer=t}setImages(e,t,n){this.availableImages[e]=t;for(const n in this.workerSources[e]){const r=this.workerSources[e][n];for(const e in r)r[e].availableImages=t}n()}setLayers(e,t,n){this.getLayerIndex(e).replace(t),n()}updateLayers(e,t,n){this.getLayerIndex(e).update(t.layers,t.removedIds),n()}loadTile(e,t,n){this.getWorkerSource(e,t.type,t.source).loadTile(t,n)}loadDEMTile(e,t,n){this.getDEMWorkerSource(e,t.source).loadTile(t,n)}reloadTile(e,t,n){this.getWorkerSource(e,t.type,t.source).reloadTile(t,n)}abortTile(e,t,n){this.getWorkerSource(e,t.type,t.source).abortTile(t,n)}removeTile(e,t,n){this.getWorkerSource(e,t.type,t.source).removeTile(t,n)}removeDEMTile(e,t){this.getDEMWorkerSource(e,t.source).removeTile(t)}removeSource(e,t,n){if(!this.workerSources[e]||!this.workerSources[e][t.type]||!this.workerSources[e][t.type][t.source])return;const r=this.workerSources[e][t.type][t.source];delete this.workerSources[e][t.type][t.source],void 0!==r.removeSource?r.removeSource(t,n):n()}loadWorkerSource(e,t,n){try{this.self.importScripts(t.url),n()}catch(e){n(e.toString())}}syncRTLPluginState(t,n,r){try{e.plugin.setState(n);const t=e.plugin.getPluginURL();if(e.plugin.isLoaded()&&!e.plugin.isParsed()&&null!=t){this.self.importScripts(t);const n=e.plugin.isParsed();r(n?void 0:new Error(`RTL Text Plugin failed to import scripts from ${t}`),n)}}catch(e){r(e.toString())}}getAvailableImages(e){let t=this.availableImages[e];return t||(t=[]),t}getLayerIndex(e){let t=this.layerIndexes[e];return t||(t=this.layerIndexes[e]=new r),t}getWorkerSource(e,t,n){if(this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][t]||(this.workerSources[e][t]={}),!this.workerSources[e][t][n]){const r={send:(t,n,r)=>{this.actor.send(t,n,r,e)}};this.workerSources[e][t][n]=new this.workerSourceTypes[t](r,this.getLayerIndex(e),this.getAvailableImages(e))}return this.workerSources[e][t][n]}getDEMWorkerSource(e,t){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][t]||(this.demWorkerSources[e][t]=new c),this.demWorkerSources[e][t]}enforceCacheSizeLimit(t,n){e.enforceCacheSizeLimit(n)}}return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new Ce(self)),Ce})),r(["./shared"],(function(e){var t=n;function n(e){return!function(e){return"undefined"==typeof window||"undefined"==typeof document?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var e,t,n=new Blob([""],{type:"text/javascript"}),r=URL.createObjectURL(n);try{t=new Worker(r),e=!0}catch(t){e=!1}return t&&t.terminate(),URL.revokeObjectURL(r),e}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var e=document.createElement("canvas");e.width=e.height=1;var t=e.getContext("2d");if(!t)return!1;var n=t.getImageData(0,0,1,1);return n&&n.width===e.width}()?(void 0===r[t=e&&e.failIfMajorPerformanceCaveat]&&(r[t]=function(e){var t,r=function(e){var t=document.createElement("canvas"),r=Object.create(n.webGLContextAttributes);return r.failIfMajorPerformanceCaveat=e,t.getContext("webgl",r)||t.getContext("experimental-webgl",r)}(e);if(!r)return!1;try{t=r.createShader(r.VERTEX_SHADER)}catch(e){return!1}return!(!t||r.isContextLost())&&(r.shaderSource(t,"void main() {}"),r.compileShader(t),!0===r.getShaderParameter(t,r.COMPILE_STATUS))}(t)),r[t]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var t}(e)}var r={};function i(e,t){if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!i(e[n],t[n]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==t){if("object"!=typeof t)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!i(e[n],t[n]))return!1;return!0}return e===t}n.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};class o{static testProp(e){if(!o.docStyle)return e[0];for(let t=0;t<e.length;t++)if(e[t]in o.docStyle)return e[t];return e[0]}static create(e,t,n){const r=window.document.createElement(e);return void 0!==t&&(r.className=t),n&&n.appendChild(r),r}static createNS(e,t){return window.document.createElementNS(e,t)}static disableDrag(){o.docStyle&&o.selectProp&&(o.userSelect=o.docStyle[o.selectProp],o.docStyle[o.selectProp]="none")}static enableDrag(){o.docStyle&&o.selectProp&&(o.docStyle[o.selectProp]=o.userSelect)}static setTransform(e,t){e.style[o.transformProp]=t}static addEventListener(e,t,n,r={}){e.addEventListener(t,n,"passive"in r?r:r.capture)}static removeEventListener(e,t,n,r={}){e.removeEventListener(t,n,"passive"in r?r:r.capture)}static suppressClickInternal(e){e.preventDefault(),e.stopPropagation(),window.removeEventListener("click",o.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",o.suppressClickInternal,!0),window.setTimeout((()=>{window.removeEventListener("click",o.suppressClickInternal,!0)}),0)}static mousePos(t,n){const r=t.getBoundingClientRect();return new e.pointGeometry(n.clientX-r.left-t.clientLeft,n.clientY-r.top-t.clientTop)}static touchPos(t,n){const r=t.getBoundingClientRect(),i=[];for(let o=0;o<n.length;o++)i.push(new e.pointGeometry(n[o].clientX-r.left-t.clientLeft,n[o].clientY-r.top-t.clientTop));return i}static mouseButton(e){return e.button}static remove(e){e.parentNode&&e.parentNode.removeChild(e)}}o.docStyle="undefined"!=typeof window&&window.document&&window.document.documentElement.style,o.selectProp=o.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),o.transformProp=o.testProp(["transform","WebkitTransform"]);class a{constructor(e){this._transformRequestFn=e}transformRequest(e,t){return this._transformRequestFn&&this._transformRequestFn(e,t)||{url:e}}normalizeSpriteURL(e,t,n){const r=function(e){const t=e.match(s);if(!t)throw new Error(`Unable to parse URL "${e}"`);return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}(e);return r.path+=`${t}${n}`,function(e){const t=e.params.length?`?${e.params.join("&")}`:"";return`${e.protocol}://${e.authority}${e.path}${t}`}(r)}setTransformRequest(e){this._transformRequestFn=e}}const s=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function l(t){var n=new e.ARRAY_TYPE(3);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n}var c,u=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e};c=new e.ARRAY_TYPE(3),e.ARRAY_TYPE!=Float32Array&&(c[0]=0,c[1]=0,c[2]=0);var d=function(e){var t=e[0],n=e[1];return t*t+n*n};!function(){var t=new e.ARRAY_TYPE(2);e.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0)}();class f{constructor(e,t,n,r){this.context=e,this.format=n,this.texture=e.gl.createTexture(),this.update(t,r)}update(t,n,r){const{width:i,height:o}=t,a=!(this.size&&this.size[0]===i&&this.size[1]===o||r),{context:s}=this,{gl:l}=s;if(this.useMipmap=Boolean(n&&n.useMipmap),l.bindTexture(l.TEXTURE_2D,this.texture),s.pixelStoreUnpackFlipY.set(!1),s.pixelStoreUnpack.set(1),s.pixelStoreUnpackPremultiplyAlpha.set(this.format===l.RGBA&&(!n||!1!==n.premultiply)),a)this.size=[i,o],t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement||t instanceof ImageData||e.isImageBitmap(t)?l.texImage2D(l.TEXTURE_2D,0,this.format,this.format,l.UNSIGNED_BYTE,t):l.texImage2D(l.TEXTURE_2D,0,this.format,i,o,0,this.format,l.UNSIGNED_BYTE,t.data);else{const{x:n,y:a}=r||{x:0,y:0};t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement||t instanceof ImageData||e.isImageBitmap(t)?l.texSubImage2D(l.TEXTURE_2D,0,n,a,l.RGBA,l.UNSIGNED_BYTE,t):l.texSubImage2D(l.TEXTURE_2D,0,n,a,i,o,l.RGBA,l.UNSIGNED_BYTE,t.data)}this.useMipmap&&this.isSizePowerOfTwo()&&l.generateMipmap(l.TEXTURE_2D)}bind(e,t,n){const{context:r}=this,{gl:i}=r;i.bindTexture(i.TEXTURE_2D,this.texture),n!==i.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(n=i.LINEAR),e!==this.filter&&(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,e),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,n||e),this.filter=e),t!==this.wrap&&(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,t),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,t),this.wrap=t)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:e}=this.context;e.deleteTexture(this.texture),this.texture=null}}function p(e){const{userImage:t}=e;return!!(t&&t.render&&t.render())&&(e.data.replace(new Uint8Array(t.data.buffer)),!0)}class m extends e.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new e.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(e){if(this.loaded!==e&&(this.loaded=e,e)){for(const{ids:e,callback:t}of this.requestors)this._notify(e,t);this.requestors=[]}}getImage(e){return this.images[e]}addImage(e,t){this._validate(e,t)&&(this.images[e]=t)}_validate(t,n){let r=!0;return this._validateStretch(n.stretchX,n.data&&n.data.width)||(this.fire(new e.ErrorEvent(new Error(`Image "${t}" has invalid "stretchX" value`))),r=!1),this._validateStretch(n.stretchY,n.data&&n.data.height)||(this.fire(new e.ErrorEvent(new Error(`Image "${t}" has invalid "stretchY" value`))),r=!1),this._validateContent(n.content,n)||(this.fire(new e.ErrorEvent(new Error(`Image "${t}" has invalid "content" value`))),r=!1),r}_validateStretch(e,t){if(!e)return!0;let n=0;for(const r of e){if(r[0]<n||r[1]<r[0]||t<r[1])return!1;n=r[1]}return!0}_validateContent(e,t){return!(e&&(4!==e.length||e[0]<0||t.data.width<e[0]||e[1]<0||t.data.height<e[1]||e[2]<0||t.data.width<e[2]||e[3]<0||t.data.height<e[3]||e[2]<e[0]||e[3]<e[1]))}updateImage(e,t){t.version=this.images[e].version+1,this.images[e]=t,this.updatedImages[e]=!0}removeImage(e){const t=this.images[e];delete this.images[e],delete this.patterns[e],t.userImage&&t.userImage.onRemove&&t.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(e,t){let n=!0;if(!this.isLoaded())for(const t of e)this.images[t]||(n=!1);this.isLoaded()||n?this._notify(e,t):this.requestors.push({ids:e,callback:t})}_notify(t,n){const r={};for(const n of t){this.images[n]||this.fire(new e.Event("styleimagemissing",{id:n}));const t=this.images[n];t?r[n]={data:t.data.clone(),pixelRatio:t.pixelRatio,sdf:t.sdf,version:t.version,stretchX:t.stretchX,stretchY:t.stretchY,content:t.content,hasRenderCallback:Boolean(t.userImage&&t.userImage.render)}:e.warnOnce(`Image "${n}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}n(null,r)}getPixelSize(){const{width:e,height:t}=this.atlasImage;return{width:e,height:t}}getPattern(t){const n=this.patterns[t],r=this.getImage(t);if(!r)return null;if(n&&n.position.version===r.version)return n.position;if(n)n.position.version=r.version;else{const n={w:r.data.width+2,h:r.data.height+2,x:0,y:0},i=new e.ImagePosition(n,r);this.patterns[t]={bin:n,position:i}}return this._updatePatternAtlas(),this.patterns[t].position}bind(e){const t=e.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new f(e,this.atlasImage,t.RGBA),this.atlasTexture.bind(t.LINEAR,t.CLAMP_TO_EDGE)}_updatePatternAtlas(){const t=[];for(const e in this.patterns)t.push(this.patterns[e].bin);const{w:n,h:r}=e.potpack(t),i=this.atlasImage;i.resize({width:n||1,height:r||1});for(const t in this.patterns){const{bin:n}=this.patterns[t],r=n.x+1,o=n.y+1,a=this.images[t].data,s=a.width,l=a.height;e.RGBAImage.copy(a,i,{x:0,y:0},{x:r,y:o},{width:s,height:l}),e.RGBAImage.copy(a,i,{x:0,y:l-1},{x:r,y:o-1},{width:s,height:1}),e.RGBAImage.copy(a,i,{x:0,y:0},{x:r,y:o+l},{width:s,height:1}),e.RGBAImage.copy(a,i,{x:s-1,y:0},{x:r-1,y:o},{width:1,height:l}),e.RGBAImage.copy(a,i,{x:0,y:0},{x:r+s,y:o},{width:1,height:l})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(e){for(const t of e){if(this.callbackDispatchedThisFrame[t])continue;this.callbackDispatchedThisFrame[t]=!0;const e=this.images[t];p(e)&&this.updateImage(t,e)}}}const h=1e20;function g(e,t,n,r,i,o,a,s,l){for(let c=t;c<t+r;c++)y(e,n*o+c,o,i,a,s,l);for(let c=n;c<n+i;c++)y(e,c*o+t,1,r,a,s,l)}function y(e,t,n,r,i,o,a){o[0]=0,a[0]=-h,a[1]=h,i[0]=e[t];for(let s=1,l=0,c=0;s<r;s++){i[s]=e[t+s*n];const r=s*s;do{const e=o[l];c=(i[s]-i[e]+r-e*e)/(s-e)/2}while(c<=a[l]&&--l>-1);l++,o[l]=s,a[l]=c,a[l+1]=h}for(let s=0,l=0;s<r;s++){for(;a[l+1]<s;)l++;const r=o[l],c=s-r;e[t+s*n]=i[r]+c*c}}class v{constructor(e,t){this.requestManager=e,this.localIdeographFontFamily=t,this.entries={}}setURL(e){this.url=e}getGlyphs(t,n){const r=[];for(const e in t)for(const n of t[e])r.push({stack:e,id:n});e.asyncAll(r,(({stack:e,id:t},n)=>{let r=this.entries[e];r||(r=this.entries[e]={glyphs:{},requests:{},ranges:{}});let i=r.glyphs[t];if(void 0!==i)return void n(null,{stack:e,id:t,glyph:i});if(i=this._tinySDF(r,e,t),i)return r.glyphs[t]=i,void n(null,{stack:e,id:t,glyph:i});const o=Math.floor(t/256);if(256*o>65535)return void n(new Error("glyphs > 65535 not supported"));if(r.ranges[o])return void n(null,{stack:e,id:t,glyph:i});let a=r.requests[o];a||(a=r.requests[o]=[],v.loadGlyphRange(e,o,this.url,this.requestManager,((e,t)=>{if(t){for(const e in t)this._doesCharSupportLocalGlyph(+e)||(r.glyphs[+e]=t[+e]);r.ranges[o]=!0}for(const n of a)n(e,t);delete r.requests[o]}))),a.push(((r,i)=>{r?n(r):i&&n(null,{stack:e,id:t,glyph:i[t]||null})}))}),((e,t)=>{if(e)n(e);else if(t){const e={};for(const{stack:n,id:r,glyph:i}of t)(e[n]||(e[n]={}))[r]=i&&{id:i.id,bitmap:i.bitmap.clone(),metrics:i.metrics};n(null,e)}}))}_doesCharSupportLocalGlyph(t){return!!this.localIdeographFontFamily&&(e.unicodeBlockLookup["CJK Unified Ideographs"](t)||e.unicodeBlockLookup["Hangul Syllables"](t)||e.unicodeBlockLookup.Hiragana(t)||e.unicodeBlockLookup.Katakana(t))}_tinySDF(t,n,r){const i=this.localIdeographFontFamily;if(!i)return;if(!this._doesCharSupportLocalGlyph(r))return;let o=t.tinySDF;if(!o){let e="400";/bold/i.test(n)?e="900":/medium/i.test(n)?e="500":/light/i.test(n)&&(e="200"),o=t.tinySDF=new v.TinySDF({fontSize:24,buffer:3,radius:8,cutoff:.25,fontFamily:i,fontWeight:e})}const a=o.draw(String.fromCharCode(r));return{id:r,bitmap:new e.AlphaImage({width:a.width||30,height:a.height||30},a.data),metrics:{width:a.glyphWidth||24,height:a.glyphHeight||24,left:a.glyphLeft||0,top:a.glyphTop-27||-8,advance:a.glyphAdvance||24}}}}v.loadGlyphRange=function(t,n,r,i,o){const a=256*n,s=a+255,l=i.transformRequest(r.replace("{fontstack}",t).replace("{range}",`${a}-${s}`),e.ResourceType.Glyphs);e.getArrayBuffer(l,((t,n)=>{if(t)o(t);else if(n){const t={};for(const r of e.parseGlyphPBF(n))t[r.id]=r;o(null,t)}}))},v.TinySDF=class{constructor({fontSize:e=24,buffer:t=3,radius:n=8,cutoff:r=.25,fontFamily:i="sans-serif",fontWeight:o="normal",fontStyle:a="normal"}={}){this.buffer=t,this.cutoff=r,this.radius=n;const s=this.size=e+4*t,l=this._createCanvas(s),c=this.ctx=l.getContext("2d",{willReadFrequently:!0});c.font=`${a} ${o} ${e}px ${i}`,c.textBaseline="alphabetic",c.textAlign="left",c.fillStyle="black",this.gridOuter=new Float64Array(s*s),this.gridInner=new Float64Array(s*s),this.f=new Float64Array(s),this.z=new Float64Array(s+1),this.v=new Uint16Array(s)}_createCanvas(e){const t=document.createElement("canvas");return t.width=t.height=e,t}draw(e){const{width:t,actualBoundingBoxAscent:n,actualBoundingBoxDescent:r,actualBoundingBoxLeft:i,actualBoundingBoxRight:o}=this.ctx.measureText(e),a=Math.ceil(n),s=Math.min(this.size-this.buffer,Math.ceil(o-i)),l=Math.min(this.size-this.buffer,a+Math.ceil(r)),c=s+2*this.buffer,u=l+2*this.buffer,d=Math.max(c*u,0),f=new Uint8ClampedArray(d),p={data:f,width:c,height:u,glyphWidth:s,glyphHeight:l,glyphTop:a,glyphLeft:0,glyphAdvance:t};if(0===s||0===l)return p;const{ctx:m,buffer:y,gridInner:v,gridOuter:b}=this;m.clearRect(y,y,s,l),m.fillText(e,y,y+a);const w=m.getImageData(y,y,s,l);b.fill(h,0,d),v.fill(0,0,d);for(let e=0;e<l;e++)for(let t=0;t<s;t++){const n=w.data[4*(e*s+t)+3]/255;if(0===n)continue;const r=(e+y)*c+t+y;if(1===n)b[r]=0,v[r]=h;else{const e=.5-n;b[r]=e>0?e*e:0,v[r]=e<0?e*e:0}}g(b,0,0,c,u,c,this.f,this.v,this.z),g(v,y,y,s,l,c,this.f,this.v,this.z);for(let e=0;e<d;e++){const t=Math.sqrt(b[e])-Math.sqrt(v[e]);f[e]=Math.round(255-255*(t/this.radius+this.cutoff))}return p}};const b=new e.Properties({anchor:new e.DataConstantProperty(e.spec.light.anchor),position:new class{constructor(){this.specification=e.spec.light.position}possiblyEvaluate(t,n){return e.sphericalToCartesian(t.expression.evaluate(n))}interpolate(t,n,r){return{x:e.number(t.x,n.x,r),y:e.number(t.y,n.y,r),z:e.number(t.z,n.z,r)}}},color:new e.DataConstantProperty(e.spec.light.color),intensity:new e.DataConstantProperty(e.spec.light.intensity)}),w="-transition";class x extends e.Evented{constructor(t){super(),this._transitionable=new e.Transitionable(b),this.setLight(t),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(t,n={}){if(!this._validate(e.validateLight,t,n))for(const e in t){const n=t[e];e.endsWith(w)?this._transitionable.setTransition(e.slice(0,-w.length),n):this._transitionable.setValue(e,n)}}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}_validate(t,n,r){return(!r||!1!==r.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:n,style:{glyphs:!0,sprite:!0},styleSpec:e.spec})))}}class E{constructor(e,t){this.width=e,this.height=t,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(e,t){const n=e.join(",")+String(t);return this.dashEntry[n]||(this.dashEntry[n]=this.addDash(e,t)),this.dashEntry[n]}getDashRanges(e,t,n){const r=[];let i=e.length%2==1?-e[e.length-1]*n:0,o=e[0]*n,a=!0;r.push({left:i,right:o,isDash:a,zeroLength:0===e[0]});let s=e[0];for(let t=1;t<e.length;t++){a=!a;const l=e[t];i=s*n,s+=l,o=s*n,r.push({left:i,right:o,isDash:a,zeroLength:0===l})}return r}addRoundDash(e,t,n){const r=t/2;for(let t=-n;t<=n;t++){const i=this.width*(this.nextRow+n+t);let o=0,a=e[o];for(let s=0;s<this.width;s++){s/a.right>1&&(a=e[++o]);const l=Math.abs(s-a.left),c=Math.abs(s-a.right),u=Math.min(l,c);let d;const f=t/n*(r+1);if(a.isDash){const e=r-Math.abs(f);d=Math.sqrt(u*u+e*e)}else d=r-Math.sqrt(u*u+f*f);this.data[i+s]=Math.max(0,Math.min(255,d+128))}}}addRegularDash(e){for(let t=e.length-1;t>=0;--t){const n=e[t],r=e[t+1];n.zeroLength?e.splice(t,1):r&&r.isDash===n.isDash&&(r.left=n.left,e.splice(t,1))}const t=e[0],n=e[e.length-1];t.isDash===n.isDash&&(t.left=n.left-this.width,n.right=t.right+this.width);const r=this.width*this.nextRow;let i=0,o=e[i];for(let t=0;t<this.width;t++){t/o.right>1&&(o=e[++i]);const n=Math.abs(t-o.left),a=Math.abs(t-o.right),s=Math.min(n,a);this.data[r+t]=Math.max(0,Math.min(255,(o.isDash?s:-s)+128))}}addDash(t,n){const r=n?7:0,i=2*r+1;if(this.nextRow+i>this.height)return e.warnOnce("LineAtlas out of space"),null;let o=0;for(let e=0;e<t.length;e++)o+=t[e];if(0!==o){const e=this.width/o,i=this.getDashRanges(t,this.width,e);n?this.addRoundDash(i,e,r):this.addRegularDash(i)}const a={y:(this.nextRow+r+.5)/this.height,height:2*r/this.height,width:o};return this.nextRow+=i,this.dirty=!0,a}bind(e){const t=e.gl;this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.ALPHA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,this.width,this.height,0,t.ALPHA,t.UNSIGNED_BYTE,this.data))}}class _{constructor(t,n){this.workerPool=t,this.actors=[],this.currentActor=0,this.id=e.uniqueId();const r=this.workerPool.acquire(this.id);for(let e=0;e<r.length;e++){const t=new _.Actor(r[e],n,this.id);t.name=`Worker ${e}`,this.actors.push(t)}}broadcast(t,n,r){e.asyncAll(this.actors,((e,r)=>{e.send(t,n,r)}),r=r||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach((e=>{e.remove()})),this.actors=[],this.workerPool.release(this.id)}}function A(t,n,r){const i=function(n,i){if(n)return r(n);if(i){const n=e.pick(e.extend(i,t),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);i.vector_layers&&(n.vectorLayers=i.vector_layers,n.vectorLayerIds=n.vectorLayers.map((e=>e.id))),r(null,n)}};return t.url?e.getJSON(n.transformRequest(t.url,e.ResourceType.Source),i):e.exported.frame((()=>i(null,t)))}_.Actor=e.Actor;class O{constructor(t,n,r){this.bounds=e.LngLatBounds.convert(this.validateBounds(t)),this.minzoom=n||0,this.maxzoom=r||24}validateBounds(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]}contains(t){const n=Math.pow(2,t.z),r=Math.floor(e.mercatorXfromLng(this.bounds.getWest())*n),i=Math.floor(e.mercatorYfromLat(this.bounds.getNorth())*n),o=Math.ceil(e.mercatorXfromLng(this.bounds.getEast())*n),a=Math.ceil(e.mercatorYfromLat(this.bounds.getSouth())*n);return t.x>=r&&t.x<o&&t.y>=i&&t.y<a}}class S extends e.Evented{constructor(t,n,r,i){if(super(),this.id=t,this.dispatcher=r,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,e.extend(this,e.pick(n,["url","scheme","tileSize","promoteId"])),this._options=e.extend({type:"vector"},n),this._collectResourceTiming=n.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(i)}load(){this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=A(this._options,this.map._requestManager,((t,n)=>{this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),t?this.fire(new e.ErrorEvent(t)):n&&(e.extend(this,n),n.bounds&&(this.tileBounds=new O(n.bounds,this.minzoom,this.maxzoom)),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))}))}loaded(){return this._loaded}hasTile(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}onAdd(e){this.map=e,this.load()}setSourceProperty(e){this._tileJSONRequest&&this._tileJSONRequest.cancel(),e(),this.load()}setTiles(e){return this.setSourceProperty((()=>{this._options.tiles=e})),this}setUrl(e){return this.setSourceProperty((()=>{this.url=e,this._options.url=e})),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return e.extend({},this._options)}loadTile(t,n){const r=t.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),i={request:this.map._requestManager.transformRequest(r,e.ResourceType.Tile),uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,tileSize:this.tileSize*t.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function o(r,i){return delete t.request,t.aborted?n(null):r&&404!==r.status?n(r):(i&&i.resourceTiming&&(t.resourceTiming=i.resourceTiming),this.map._refreshExpiredTiles&&i&&t.setExpiryData(i),t.loadVectorData(i,this.map.painter),e.cacheEntryPossiblyAdded(this.dispatcher),n(null),void(t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)))}i.request.collectResourceTiming=this._collectResourceTiming,t.actor&&"expired"!==t.state?"loading"===t.state?t.reloadCallback=n:t.request=t.actor.send("reloadTile",i,o.bind(this)):(t.actor=this.dispatcher.getActor(),t.request=t.actor.send("loadTile",i,o.bind(this)))}abortTile(e){e.request&&(e.request.cancel(),delete e.request),e.actor&&e.actor.send("abortTile",{uid:e.uid,type:this.type,source:this.id},void 0)}unloadTile(e){e.unloadVectorData(),e.actor&&e.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id},void 0)}hasTransition(){return!1}}class T extends e.Evented{constructor(t,n,r,i){super(),this.id=t,this.dispatcher=r,this.setEventedParent(i),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=e.extend({type:"raster"},n),e.extend(this,e.pick(n,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=A(this._options,this.map._requestManager,((t,n)=>{this._tileJSONRequest=null,this._loaded=!0,t?this.fire(new e.ErrorEvent(t)):n&&(e.extend(this,n),n.bounds&&(this.tileBounds=new O(n.bounds,this.minzoom,this.maxzoom)),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))}))}loaded(){return this._loaded}onAdd(e){this.map=e,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return e.extend({},this._options)}hasTile(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}loadTile(t,n){const r=t.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);t.request=e.getImage(this.map._requestManager.transformRequest(r,e.ResourceType.Tile),((r,i,o)=>{if(delete t.request,t.aborted)t.state="unloaded",n(null);else if(r)t.state="errored",n(r);else if(i){this.map._refreshExpiredTiles&&t.setExpiryData(o);const r=this.map.painter.context,a=r.gl;t.texture=this.map.painter.getTileTexture(i.width),t.texture?t.texture.update(i,{useMipmap:!0}):(t.texture=new f(r,i,a.RGBA,{useMipmap:!0}),t.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST),r.extTextureFilterAnisotropic&&a.texParameterf(a.TEXTURE_2D,r.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,r.extTextureFilterAnisotropicMax)),t.state="loaded",e.cacheEntryPossiblyAdded(this.dispatcher),n(null)}}))}abortTile(e,t){e.request&&(e.request.cancel(),delete e.request),t()}unloadTile(e,t){e.texture&&this.map.painter.saveTileTexture(e.texture),t()}hasTransition(){return!1}}let I;class k extends T{constructor(t,n,r,i){super(t,n,r,i),this.type="raster-dem",this.maxzoom=22,this._options=e.extend({type:"raster-dem"},n),this.encoding=n.encoding||"mapbox"}serialize(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}}loadTile(t,n){const r=t.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);function i(e,r){e&&(t.state="errored",n(e)),r&&(t.dem=r,t.needsHillshadePrepare=!0,t.state="loaded",n(null))}t.request=e.getImage(this.map._requestManager.transformRequest(r,e.ResourceType.Tile),function(r,o){if(delete t.request,t.aborted)t.state="unloaded",n(null);else if(r)t.state="errored",n(r);else if(o){this.map._refreshExpiredTiles&&t.setExpiryData(o),delete o.cacheControl,delete o.expires;const n=e.isImageBitmap(o)&&(null==I&&(I="undefined"!=typeof OffscreenCanvas&&new OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof createImageBitmap),I)?o:e.exported.getImageData(o,1),r={uid:t.uid,coord:t.tileID,source:this.id,rawImageData:n,encoding:this.encoding};t.actor&&"expired"!==t.state||(t.actor=this.dispatcher.getActor(),t.actor.send("loadDEMTile",r,i.bind(this)))}}.bind(this)),t.neighboringTiles=this._getNeighboringTiles(t.tileID)}_getNeighboringTiles(t){const n=t.canonical,r=Math.pow(2,n.z),i=(n.x-1+r)%r,o=0===n.x?t.wrap-1:t.wrap,a=(n.x+1+r)%r,s=n.x+1===r?t.wrap+1:t.wrap,l={};return l[new e.OverscaledTileID(t.overscaledZ,o,n.z,i,n.y).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,n.z,a,n.y).key]={backfilled:!1},n.y>0&&(l[new e.OverscaledTileID(t.overscaledZ,o,n.z,i,n.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,n.z,n.x,n.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,n.z,a,n.y-1).key]={backfilled:!1}),n.y+1<r&&(l[new e.OverscaledTileID(t.overscaledZ,o,n.z,i,n.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,n.z,n.x,n.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,n.z,a,n.y+1).key]={backfilled:!1}),l}unloadTile(e){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded",e.actor&&e.actor.send("removeDEMTile",{uid:e.uid,source:this.id})}}class C extends e.Evented{constructor(t,n,r,i){super(),this.id=t,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=r.getActor(),this.setEventedParent(i),this._data=n.data,this._options=e.extend({},n),this._collectResourceTiming=n.collectResourceTiming,void 0!==n.maxzoom&&(this.maxzoom=n.maxzoom),n.type&&(this.type=n.type),n.attribution&&(this.attribution=n.attribution),this.promoteId=n.promoteId;const o=e.EXTENT/this.tileSize;this.workerOptions=e.extend({source:this.id,cluster:n.cluster||!1,geojsonVtOptions:{buffer:(void 0!==n.buffer?n.buffer:128)*o,tolerance:(void 0!==n.tolerance?n.tolerance:.375)*o,extent:e.EXTENT,maxZoom:this.maxzoom,lineMetrics:n.lineMetrics||!1,generateId:n.generateId||!1},superclusterOptions:{maxZoom:void 0!==n.clusterMaxZoom?n.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,n.clusterMinPoints||2),extent:e.EXTENT,radius:(n.clusterRadius||50)*o,log:!1,generateId:n.generateId||!1},clusterProperties:n.clusterProperties,filter:n.filter},n.workerOptions)}load(){this._updateWorkerData("metadata")}onAdd(e){this.map=e,this.load()}setData(e){return this._data=e,this._updateWorkerData("content"),this}getClusterExpansionZoom(e,t){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:e,source:this.id},t),this}getClusterChildren(e,t){return this.actor.send("geojson.getClusterChildren",{clusterId:e,source:this.id},t),this}getClusterLeaves(e,t,n,r){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:e,limit:t,offset:n},r),this}_updateWorkerData(t){const n=e.extend({},this.workerOptions),r=this._data;"string"==typeof r?(n.request=this.map._requestManager.transformRequest(e.exported.resolveURL(r),e.ResourceType.Source),n.request.collectResourceTiming=this._collectResourceTiming):n.data=JSON.stringify(r),this._pendingLoads++,this.fire(new e.Event("dataloading",{dataType:"source"})),this.actor.send(`${this.type}.loadData`,n,((r,i)=>{if(this._pendingLoads--,this._removed||i&&i.abandoned)return;let o=null;if(i&&i.resourceTiming&&i.resourceTiming[this.id]&&(o=i.resourceTiming[this.id].slice(0)),this.actor.send(`${this.type}.coalesce`,{source:n.source},null),r)return void this.fire(new e.ErrorEvent(r));const a={dataType:"source",sourceDataType:t};this._collectResourceTiming&&o&&o.length>0&&e.extend(a,{resourceTiming:o}),this.fire(new e.Event("data",a))}))}loaded(){return 0===this._pendingLoads}loadTile(e,t){const n=e.actor?"reloadTile":"loadTile";e.actor=this.actor;const r={type:this.type,uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};e.request=this.actor.send(n,r,((r,i)=>(delete e.request,e.unloadVectorData(),e.aborted?t(null):r?t(r):(e.loadVectorData(i,this.map.painter,"reloadTile"===n),t(null)))))}abortTile(e){e.request&&(e.request.cancel(),delete e.request),e.aborted=!0}unloadTile(e){e.unloadVectorData(),this.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})}onRemove(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}serialize(){return e.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}var M=e.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class N extends e.Evented{constructor(e,t,n,r){super(),this.id=e,this.dispatcher=n,this.coordinates=t.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(r),this.options=t}load(t,n){this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this.url=this.options.url,e.getImage(this.map._requestManager.transformRequest(this.url,e.ResourceType.Image),((r,i)=>{this._loaded=!0,r?this.fire(new e.ErrorEvent(r)):i&&(this.image=i,t&&(this.coordinates=t),n&&n(),this._finishLoading())}))}loaded(){return this._loaded}updateImage(e){return this.image&&e.url?(this.options.url=e.url,this.load(e.coordinates,(()=>{this.texture=null})),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(e){this.map=e,this.load()}setCoordinates(t){this.coordinates=t;const n=t.map(e.MercatorCoordinate.fromLngLat);this.tileID=function(t){let n=1/0,r=1/0,i=-1/0,o=-1/0;for(const e of t)n=Math.min(n,e.x),r=Math.min(r,e.y),i=Math.max(i,e.x),o=Math.max(o,e.y);const a=Math.max(i-n,o-r),s=Math.max(0,Math.floor(-Math.log(a)/Math.LN2)),l=Math.pow(2,s);return new e.CanonicalTileID(s,Math.floor((n+i)/2*l),Math.floor((r+o)/2*l))}(n),this.minzoom=this.maxzoom=this.tileID.z;const r=n.map((e=>this.tileID.getTilePoint(e)._round()));return this._boundsArray=new e.RasterBoundsArray,this._boundsArray.emplaceBack(r[0].x,r[0].y,0,0),this._boundsArray.emplaceBack(r[1].x,r[1].y,e.EXTENT,0),this._boundsArray.emplaceBack(r[3].x,r[3].y,0,e.EXTENT),this._boundsArray.emplaceBack(r[2].x,r[2].y,e.EXTENT,e.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(0===Object.keys(this.tiles).length||!this.image)return;const t=this.map.painter.context,n=t.gl;this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,M.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new f(t,this.image,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE));for(const e in this.tiles){const t=this.tiles[e];"loaded"!==t.state&&(t.state="loaded",t.texture=this.texture)}}loadTile(e,t){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={},t(null)):(e.state="errored",t(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}class j extends N{constructor(e,t,n,r){super(e,t,n,r),this.roundZoom=!0,this.type="video",this.options=t}load(){this._loaded=!1;const t=this.options;this.urls=[];for(const n of t.urls)this.urls.push(this.map._requestManager.transformRequest(n,e.ResourceType.Source).url);e.getVideo(this.urls,((t,n)=>{this._loaded=!0,t?this.fire(new e.ErrorEvent(t)):n&&(this.video=n,this.video.loop=!0,this.video.addEventListener("playing",(()=>{this.map.triggerRepaint()})),this.map&&this.video.play(),this._finishLoading())}))}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(t){if(this.video){const n=this.video.seekable;t<n.start(0)||t>n.end(0)?this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${n.start(0)} and ${n.end(0)}-second mark.`))):this.video.currentTime=t}}getVideo(){return this.video}onAdd(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;const t=this.map.painter.context,n=t.gl;this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,M.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.video)):(this.texture=new f(t,this.video,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE));for(const e in this.tiles){const t=this.tiles[e];"loaded"!==t.state&&(t.state="loaded",t.texture=this.texture)}}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class L extends N{constructor(t,n,r,i){super(t,n,r,i),n.coordinates?Array.isArray(n.coordinates)&&4===n.coordinates.length&&!n.coordinates.some((e=>!Array.isArray(e)||2!==e.length||e.some((e=>"number"!=typeof e))))||this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${t}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${t}`,null,'missing required property "coordinates"'))),n.animate&&"boolean"!=typeof n.animate&&this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${t}`,null,'optional "animate" property must be a boolean value'))),n.canvas?"string"==typeof n.canvas||n.canvas instanceof HTMLCanvasElement||this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${t}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${t}`,null,'missing required property "canvas"'))),this.options=n,this.animate=void 0===n.animate||n.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new e.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),this._hasInvalidDimensions())return;if(0===Object.keys(this.tiles).length)return;const n=this.map.painter.context,r=n.gl;this.boundsBuffer||(this.boundsBuffer=n.createVertexBuffer(this._boundsArray,M.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(t||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new f(n,this.canvas,r.RGBA,{premultiply:!0});for(const e in this.tiles){const t=this.tiles[e];"loaded"!==t.state&&(t.state="loaded",t.texture=this.texture)}}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const e of[this.canvas.width,this.canvas.height])if(isNaN(e)||e<=0)return!0;return!1}}const R={vector:S,raster:T,"raster-dem":k,geojson:C,video:j,image:N,canvas:L};function D(t,n){const r=e.create();return e.translate(r,r,[1,1,0]),e.scale(r,r,[.5*t.width,.5*t.height,1]),e.multiply(r,r,t.calculatePosMatrix(n.toUnwrapped()))}function P(e,t,n,r,i,o){const a=function(e,t,n){if(e)for(const r of e){const e=t[r];if(e&&e.source===n&&"fill-extrusion"===e.type)return!0}else for(const e in t){const r=t[e];if(r.source===n&&"fill-extrusion"===r.type)return!0}return!1}(i&&i.layers,t,e.id),s=o.maxPitchScaleFactor(),l=e.tilesIn(r,s,a);l.sort(B);const c=[];for(const r of l)c.push({wrappedTileID:r.tileID.wrapped().key,queryResults:r.tile.queryRenderedFeatures(t,n,e._state,r.queryGeometry,r.cameraQueryGeometry,r.scale,i,o,s,D(e.transform,r.tileID))});const u=function(e){const t={},n={};for(const r of e){const e=r.queryResults,i=r.wrappedTileID,o=n[i]=n[i]||{};for(const n in e){const r=e[n],i=o[n]=o[n]||{},a=t[n]=t[n]||[];for(const e of r)i[e.featureIndex]||(i[e.featureIndex]=!0,a.push(e))}}return t}(c);for(const t in u)u[t].forEach((t=>{const n=t.feature,r=e.getFeatureState(n.layer["source-layer"],n.id);n.source=n.layer.source,n.layer["source-layer"]&&(n.sourceLayer=n.layer["source-layer"]),n.state=r}));return u}function B(e,t){const n=e.tileID,r=t.tileID;return n.overscaledZ-r.overscaledZ||n.canonical.y-r.canonical.y||n.wrap-r.wrap||n.canonical.x-r.canonical.x}class F{constructor(t,n){this.tileID=t,this.uid=e.uniqueId(),this.uses=0,this.tileSize=n,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(t){const n=t+this.timeAdded;n<e.exported.now()||this.fadeEndTime&&n<this.fadeEndTime||(this.fadeEndTime=n)}wasRequested(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}loadVectorData(t,n,r){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",t){t.featureIndex&&(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=function(e,t){const n={};if(!t)return n;for(const r of e){const e=r.layerIds.map((e=>t.getLayer(e))).filter(Boolean);if(0!==e.length){r.layers=e,r.stateDependentLayerIds&&(r.stateDependentLayers=r.stateDependentLayerIds.map((t=>e.filter((e=>e.id===t))[0])));for(const t of e)n[t.id]=r}}return n}(t.buckets,n.style),this.hasSymbolBuckets=!1;for(const t in this.buckets){const n=this.buckets[t];if(n instanceof e.SymbolBucket){if(this.hasSymbolBuckets=!0,!r)break;n.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const t in this.buckets){const n=this.buckets[t];if(n instanceof e.SymbolBucket&&n.hasRTLText){this.hasRTLText=!0,e.lazyLoadRTLTextPlugin();break}}this.queryPadding=0;for(const e in this.buckets){const t=this.buckets[e];this.queryPadding=Math.max(this.queryPadding,n.style.getLayer(e).queryRadius(t))}t.imageAtlas&&(this.imageAtlas=t.imageAtlas),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage)}else this.collisionBoxArray=new e.CollisionBoxArray}unloadVectorData(){for(const e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(e){return this.buckets[e.id]}upload(e){for(const t in this.buckets){const n=this.buckets[t];n.uploadPending()&&n.upload(e)}const t=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new f(e,this.imageAtlas.image,t.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new f(e,this.glyphAtlasImage,t.ALPHA),this.glyphAtlasImage=null)}prepare(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)}queryRenderedFeatures(e,t,n,r,i,o,a,s,l,c){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:r,cameraQueryGeometry:i,scale:o,tileSize:this.tileSize,pixelPosMatrix:c,transform:s,params:a,queryPadding:this.queryPadding*l},e,t,n):{}}querySourceFeatures(t,n){const r=this.latestFeatureIndex;if(!r||!r.rawTileData)return;const i=r.loadVTLayers(),o=n?n.sourceLayer:"",a=i._geojsonTileLayer||i[o];if(!a)return;const s=e.createFilter(n&&n.filter),{z:l,x:c,y:u}=this.tileID.canonical,d={z:l,x:c,y:u};for(let n=0;n<a.length;n++){const i=a.feature(n);if(s.needGeometry){const t=e.toEvaluationFeature(i,!0);if(!s.filter(new e.EvaluationParameters(this.tileID.overscaledZ),t,this.tileID.canonical))continue}else if(!s.filter(new e.EvaluationParameters(this.tileID.overscaledZ),i))continue;const f=r.getId(i,o),p=new e.GeoJSONFeature(i,l,c,u,f);p.tile=d,t.push(p)}}hasData(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(t){const n=this.expirationTime;if(t.cacheControl){const n=e.parseCacheControl(t.cacheControl);n["max-age"]&&(this.expirationTime=Date.now()+1e3*n["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){const e=Date.now();let t=!1;if(this.expirationTime>e)t=!1;else if(n)if(this.expirationTime<n)t=!0;else{const r=this.expirationTime-n;r?this.expirationTime=e+Math.max(r,3e4):t=!0}else t=!0;t?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}setFeatureState(e,t){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||0===Object.keys(e).length)return;const n=this.latestFeatureIndex.loadVTLayers();for(const r in this.buckets){if(!t.style.hasLayer(r))continue;const i=this.buckets[r],o=i.layers[0].sourceLayer||"_geojsonTileLayer",a=n[o],s=e[o];if(!a||!s||0===Object.keys(s).length)continue;i.update(s,a,this.imageAtlas&&this.imageAtlas.patternPositions||{});const l=t&&t.style&&t.style.getLayer(r);l&&(this.queryPadding=Math.max(this.queryPadding,l.queryRadius(i)))}}holdingForFade(){return void 0!==this.symbolFadeHoldUntil}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<e.exported.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(t){this.symbolFadeHoldUntil=e.exported.now()+t}setDependencies(e,t){const n={};for(const e of t)n[e]=!0;this.dependencies[e]=n}hasDependency(e,t){for(const n of e){const e=this.dependencies[n];if(e)for(const n of t)if(e[n])return!0}return!1}}class U{constructor(e,t){this.max=e,this.onRemove=t,this.reset()}reset(){for(const e in this.data)for(const t of this.data[e])t.timeout&&clearTimeout(t.timeout),this.onRemove(t.value);return this.data={},this.order=[],this}add(e,t,n){const r=e.wrapped().key;void 0===this.data[r]&&(this.data[r]=[]);const i={value:t,timeout:void 0};if(void 0!==n&&(i.timeout=setTimeout((()=>{this.remove(e,i)}),n)),this.data[r].push(i),this.order.push(r),this.order.length>this.max){const e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this}has(e){return e.wrapped().key in this.data}getAndRemove(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null}_getAndRemoveByKey(e){const t=this.data[e].shift();return t.timeout&&clearTimeout(t.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),t.value}getByKey(e){const t=this.data[e];return t?t[0].value:null}get(e){return this.has(e)?this.data[e.wrapped().key][0].value:null}remove(e,t){if(!this.has(e))return this;const n=e.wrapped().key,r=void 0===t?0:this.data[n].indexOf(t),i=this.data[n][r];return this.data[n].splice(r,1),i.timeout&&clearTimeout(i.timeout),0===this.data[n].length&&delete this.data[n],this.onRemove(i.value),this.order.splice(this.order.indexOf(n),1),this}setMaxSize(e){for(this.max=e;this.order.length>this.max;){const e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this}filter(e){const t=[];for(const n in this.data)for(const r of this.data[n])e(r.value)||t.push(r);for(const e of t)this.remove(e.value.tileID,e)}}class z{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(t,n,r){const i=String(n);if(this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][i]=this.stateChanges[t][i]||{},e.extend(this.stateChanges[t][i],r),null===this.deletedStates[t]){this.deletedStates[t]={};for(const e in this.state[t])e!==i&&(this.deletedStates[t][e]=null)}else if(this.deletedStates[t]&&null===this.deletedStates[t][i]){this.deletedStates[t][i]={};for(const e in this.state[t][i])r[e]||(this.deletedStates[t][i][e]=null)}else for(const e in r)this.deletedStates[t]&&this.deletedStates[t][i]&&null===this.deletedStates[t][i][e]&&delete this.deletedStates[t][i][e]}removeFeatureState(e,t,n){if(null===this.deletedStates[e])return;const r=String(t);if(this.deletedStates[e]=this.deletedStates[e]||{},n&&void 0!==t)null!==this.deletedStates[e][r]&&(this.deletedStates[e][r]=this.deletedStates[e][r]||{},this.deletedStates[e][r][n]=null);else if(void 0!==t)if(this.stateChanges[e]&&this.stateChanges[e][r])for(n in this.deletedStates[e][r]={},this.stateChanges[e][r])this.deletedStates[e][r][n]=null;else this.deletedStates[e][r]=null;else this.deletedStates[e]=null}getState(t,n){const r=String(n),i=e.extend({},(this.state[t]||{})[r],(this.stateChanges[t]||{})[r]);if(null===this.deletedStates[t])return{};if(this.deletedStates[t]){const e=this.deletedStates[t][n];if(null===e)return{};for(const t in e)delete i[t]}return i}initializeTileState(e,t){e.setFeatureState(this.state,t)}coalesceChanges(t,n){const r={};for(const t in this.stateChanges){this.state[t]=this.state[t]||{};const n={};for(const r in this.stateChanges[t])this.state[t][r]||(this.state[t][r]={}),e.extend(this.state[t][r],this.stateChanges[t][r]),n[r]=this.state[t][r];r[t]=n}for(const t in this.deletedStates){this.state[t]=this.state[t]||{};const n={};if(null===this.deletedStates[t])for(const e in this.state[t])n[e]={},this.state[t][e]={};else for(const e in this.deletedStates[t]){if(null===this.deletedStates[t][e])this.state[t][e]={};else for(const n of Object.keys(this.deletedStates[t][e]))delete this.state[t][e][n];n[e]=this.state[t][e]}r[t]=r[t]||{},e.extend(r[t],n)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(r).length)for(const e in t)t[e].setFeatureState(r,n)}}class V extends e.Evented{constructor(t,n,r){super(),this.id=t,this.dispatcher=r,this.on("data",(e=>{"source"===e.dataType&&"metadata"===e.sourceDataType&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&"source"===e.dataType&&"content"===e.sourceDataType&&(this.reload(),this.transform&&this.update(this.transform))})),this.on("dataloading",(()=>{this._sourceErrored=!1})),this.on("error",(()=>{this._sourceErrored=this._source.loaded()})),this._source=function(t,n,r,i){const o=new R[n.type](t,n,r,i);if(o.id!==t)throw new Error(`Expected Source id to be ${t} instead of ${o.id}`);return e.bindAll(["load","abort","unload","serialize","prepare"],o),o}(t,n,r,this),this._tiles={},this._cache=new U(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new z}onAdd(e){this.map=e,this._maxTileCacheSize=e?e._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(e)}onRemove(e){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(e)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(const e in this._tiles){const t=this._tiles[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(e,t){return this._source.loadTile(e,t)}_unloadTile(e){if(this._source.unloadTile)return this._source.unloadTile(e,(()=>{}))}_abortTile(t){this._source.abortTile&&this._source.abortTile(t,(()=>{})),this._source.fire(new e.Event("dataabort",{tile:t,coord:t.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(e){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const t in this._tiles){const n=this._tiles[t];n.upload(e),n.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map((e=>e.tileID)).sort(G).map((e=>e.key))}getRenderableIds(t){const n=[];for(const e in this._tiles)this._isIdRenderable(e,t)&&n.push(this._tiles[e]);return t?n.sort(((t,n)=>{const r=t.tileID,i=n.tileID,o=new e.pointGeometry(r.canonical.x,r.canonical.y)._rotate(this.transform.angle),a=new e.pointGeometry(i.canonical.x,i.canonical.y)._rotate(this.transform.angle);return r.overscaledZ-i.overscaledZ||a.y-o.y||a.x-o.x})).map((e=>e.tileID.key)):n.map((e=>e.tileID)).sort(G).map((e=>e.key))}hasRenderableParent(e){const t=this.findLoadedParent(e,0);return!!t&&this._isIdRenderable(t.tileID.key)}_isIdRenderable(e,t){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(t||!this._tiles[e].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const e in this._tiles)"errored"!==this._tiles[e].state&&this._reloadTile(e,"reloading")}}_reloadTile(e,t){const n=this._tiles[e];n&&("loading"!==n.state&&(n.state=t),this._loadTile(n,this._tileLoaded.bind(this,n,e,t)))}_tileLoaded(t,n,r,i){if(i)return t.state="errored",void(404!==i.status?this._source.fire(new e.ErrorEvent(i,{tile:t})):this.update(this.transform));t.timeAdded=e.exported.now(),"expired"===r&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(n,t),"raster-dem"===this.getSource().type&&t.dem&&this._backfillDEM(t),this._state.initializeTileState(t,this.map?this.map.painter:null),t.aborted||this._source.fire(new e.Event("data",{dataType:"source",tile:t,coord:t.tileID}))}_backfillDEM(e){const t=this.getRenderableIds();for(let r=0;r<t.length;r++){const i=t[r];if(e.neighboringTiles&&e.neighboringTiles[i]){const t=this.getTileByID(i);n(e,t),n(t,e)}}function n(e,t){e.needsHillshadePrepare=!0;let n=t.tileID.canonical.x-e.tileID.canonical.x;const r=t.tileID.canonical.y-e.tileID.canonical.y,i=Math.pow(2,e.tileID.canonical.z),o=t.tileID.key;0===n&&0===r||Math.abs(r)>1||(Math.abs(n)>1&&(1===Math.abs(n+i)?n+=i:1===Math.abs(n-i)&&(n-=i)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,n,r),e.neighboringTiles&&e.neighboringTiles[o]&&(e.neighboringTiles[o].backfilled=!0)))}}getTile(e){return this.getTileByID(e.key)}getTileByID(e){return this._tiles[e]}_retainLoadedChildren(e,t,n,r){for(const i in this._tiles){let o=this._tiles[i];if(r[i]||!o.hasData()||o.tileID.overscaledZ<=t||o.tileID.overscaledZ>n)continue;let a=o.tileID;for(;o&&o.tileID.overscaledZ>t+1;){const e=o.tileID.scaledTo(o.tileID.overscaledZ-1);o=this._tiles[e.key],o&&o.hasData()&&(a=e)}let s=a;for(;s.overscaledZ>t;)if(s=s.scaledTo(s.overscaledZ-1),e[s.key]){r[a.key]=a;break}}}findLoadedParent(e,t){if(e.key in this._loadedParentTiles){const n=this._loadedParentTiles[e.key];return n&&n.tileID.overscaledZ>=t?n:null}for(let n=e.overscaledZ-1;n>=t;n--){const t=e.scaledTo(n),r=this._getLoadedTile(t);if(r)return r}}_getLoadedTile(e){const t=this._tiles[e.key];return t&&t.hasData()?t:this._cache.getByKey(e.wrapped().key)}updateCacheSize(e){const t=Math.ceil(e.width/this._source.tileSize)+1,n=Math.ceil(e.height/this._source.tileSize)+1,r=Math.floor(t*n*5),i="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,r):r;this._cache.setMaxSize(i)}handleWrapJump(e){const t=Math.round((e-(void 0===this._prevLng?e:this._prevLng))/360);if(this._prevLng=e,t){const e={};for(const n in this._tiles){const r=this._tiles[n];r.tileID=r.tileID.unwrapTo(r.tileID.wrap+t),e[r.tileID.key]=r}this._tiles=e;for(const e in this._timers)clearTimeout(this._timers[e]),delete this._timers[e];for(const e in this._tiles)this._setTileReloadTimer(e,this._tiles[e])}}update(t){if(this.transform=t,!this._sourceLoaded||this._paused)return;let n;this.updateCacheSize(t),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?n=t.getVisibleUnwrappedCoordinates(this._source.tileID).map((t=>new e.OverscaledTileID(t.canonical.z,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y))):(n=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(n=n.filter((e=>this._source.hasTile(e))))):n=[];const r=t.coveringZoomLevel(this._source),i=Math.max(r-V.maxOverzooming,this._source.minzoom),o=Math.max(r+V.maxUnderzooming,this._source.minzoom),a=this._updateRetainedTiles(n,r);if(H(this._source.type)){const t={},n={},s=Object.keys(a);for(const r of s){const o=a[r],s=this._tiles[r];if(!s||s.fadeEndTime&&s.fadeEndTime<=e.exported.now())continue;const l=this.findLoadedParent(o,i);l&&(this._addTile(l.tileID),t[l.tileID.key]=l.tileID),n[r]=o}this._retainLoadedChildren(n,r,o,a);for(const e in t)a[e]||(this._coveredTiles[e]=!0,a[e]=t[e])}for(const e in a)this._tiles[e].clearFadeHold();const s=e.keysDifference(this._tiles,a);for(const e of s){const t=this._tiles[e];t.hasSymbolBuckets&&!t.holdingForFade()?t.setHoldDuration(this.map._fadeDuration):t.hasSymbolBuckets&&!t.symbolFadeFinished()||this._removeTile(e)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(e)}_updateRetainedTiles(e,t){const n={},r={},i=Math.max(t-V.maxOverzooming,this._source.minzoom),o=Math.max(t+V.maxUnderzooming,this._source.minzoom),a={};for(const r of e){const e=this._addTile(r);n[r.key]=r,e.hasData()||t<this._source.maxzoom&&(a[r.key]=r)}this._retainLoadedChildren(a,t,o,n);for(const o of e){let e=this._tiles[o.key];if(e.hasData())continue;if(t+1>this._source.maxzoom){const e=o.children(this._source.maxzoom)[0],t=this.getTile(e);if(t&&t.hasData()){n[e.key]=e;continue}}else{const e=o.children(this._source.maxzoom);if(n[e[0].key]&&n[e[1].key]&&n[e[2].key]&&n[e[3].key])continue}let a=e.wasRequested();for(let t=o.overscaledZ-1;t>=i;--t){const i=o.scaledTo(t);if(r[i.key])break;if(r[i.key]=!0,e=this.getTile(i),!e&&a&&(e=this._addTile(i)),e&&(n[i.key]=i,a=e.wasRequested(),e.hasData()))break}}return n}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const e in this._tiles){const t=[];let n,r=this._tiles[e].tileID;for(;r.overscaledZ>0;){if(r.key in this._loadedParentTiles){n=this._loadedParentTiles[r.key];break}t.push(r.key);const e=r.scaledTo(r.overscaledZ-1);if(n=this._getLoadedTile(e),n)break;r=e}for(const e of t)this._loadedParentTiles[e]=n}}_addTile(t){let n=this._tiles[t.key];if(n)return n;n=this._cache.getAndRemove(t),n&&(this._setTileReloadTimer(t.key,n),n.tileID=t,this._state.initializeTileState(n,this.map?this.map.painter:null),this._cacheTimers[t.key]&&(clearTimeout(this._cacheTimers[t.key]),delete this._cacheTimers[t.key],this._setTileReloadTimer(t.key,n)));const r=n;return n||(n=new F(t,this._source.tileSize*t.overscaleFactor()),this._loadTile(n,this._tileLoaded.bind(this,n,t.key,n.state))),n.uses++,this._tiles[t.key]=n,r||this._source.fire(new e.Event("dataloading",{tile:n,coord:n.tileID,dataType:"source"})),n}_setTileReloadTimer(e,t){e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);const n=t.getExpiryTimeout();n&&(this._timers[e]=setTimeout((()=>{this._reloadTile(e,"expired"),delete this._timers[e]}),n))}_removeTile(e){const t=this._tiles[e];t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),t.uses>0||(t.hasData()&&"reloading"!==t.state?this._cache.add(t.tileID,t,t.getExpiryTimeout()):(t.aborted=!0,this._abortTile(t),this._unloadTile(t))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const e in this._tiles)this._removeTile(e);this._cache.reset()}tilesIn(t,n,r){const i=[],o=this.transform;if(!o)return i;const a=r?o.getCameraQueryGeometry(t):t,s=t.map((e=>o.pointCoordinate(e))),l=a.map((e=>o.pointCoordinate(e))),c=this.getIds();let u=1/0,d=1/0,f=-1/0,p=-1/0;for(const e of l)u=Math.min(u,e.x),d=Math.min(d,e.y),f=Math.max(f,e.x),p=Math.max(p,e.y);for(let t=0;t<c.length;t++){const r=this._tiles[c[t]];if(r.holdingForFade())continue;const a=r.tileID,m=Math.pow(2,o.zoom-r.tileID.overscaledZ),h=n*r.queryPadding*e.EXTENT/r.tileSize/m,g=[a.getTilePoint(new e.MercatorCoordinate(u,d)),a.getTilePoint(new e.MercatorCoordinate(f,p))];if(g[0].x-h<e.EXTENT&&g[0].y-h<e.EXTENT&&g[1].x+h>=0&&g[1].y+h>=0){const e=s.map((e=>a.getTilePoint(e))),t=l.map((e=>a.getTilePoint(e)));i.push({tile:r,tileID:a,queryGeometry:e,cameraQueryGeometry:t,scale:m})}}return i}getVisibleCoordinates(e){const t=this.getRenderableIds(e).map((e=>this._tiles[e].tileID));for(const e of t)e.posMatrix=this.transform.calculatePosMatrix(e.toUnwrapped());return t}hasTransition(){if(this._source.hasTransition())return!0;if(H(this._source.type))for(const t in this._tiles){const n=this._tiles[t];if(void 0!==n.fadeEndTime&&n.fadeEndTime>=e.exported.now())return!0}return!1}setFeatureState(e,t,n){this._state.updateState(e=e||"_geojsonTileLayer",t,n)}removeFeatureState(e,t,n){this._state.removeFeatureState(e=e||"_geojsonTileLayer",t,n)}getFeatureState(e,t){return this._state.getState(e=e||"_geojsonTileLayer",t)}setDependencies(e,t,n){const r=this._tiles[e];r&&r.setDependencies(t,n)}reloadTilesForDependencies(e,t){for(const n in this._tiles)this._tiles[n].hasDependency(e,t)&&this._reloadTile(n,"reloading");this._cache.filter((n=>!n.hasDependency(e,t)))}}function G(e,t){const n=Math.abs(2*e.wrap)-+(e.wrap<0),r=Math.abs(2*t.wrap)-+(t.wrap<0);return e.overscaledZ-t.overscaledZ||r-n||t.canonical.y-e.canonical.y||t.canonical.x-e.canonical.x}function H(e){return"raster"===e||"image"===e||"video"===e}V.maxOverzooming=10,V.maxUnderzooming=3;const W="mapboxgl_preloaded_worker_pool";class Y{constructor(){this.active={}}acquire(e){if(!this.workers)for(this.workers=[];this.workers.length<Y.workerCount;)this.workers.push(new Worker(bi.workerUrl));return this.active[e]=!0,this.workers.slice()}release(e){delete this.active[e],0===this.numActive()&&(this.workers.forEach((e=>{e.terminate()})),this.workers=null)}isPreloaded(){return!!this.active[W]}numActive(){return Object.keys(this.active).length}}const Q=Math.floor(e.exported.hardwareConcurrency/2);let Z;function X(){return Z||(Z=new Y),Z}function J(t,n){const r={};for(const e in t)"ref"!==e&&(r[e]=t[e]);return e.refProperties.forEach((e=>{e in n&&(r[e]=n[e])})),r}function q(e){e=e.slice();const t=Object.create(null);for(let n=0;n<e.length;n++)t[e[n].id]=e[n];for(let n=0;n<e.length;n++)"ref"in e[n]&&(e[n]=J(e[n],t[e[n].ref]));return e}Y.workerCount=Math.max(Math.min(Q,6),1);const K={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function $(e,t,n){n.push({command:K.addSource,args:[e,t[e]]})}function ee(e,t,n){t.push({command:K.removeSource,args:[e]}),n[e]=!0}function te(e,t,n,r){ee(e,n,r),$(e,t,n)}function ne(e,t,n){let r;for(r in e[n])if(Object.prototype.hasOwnProperty.call(e[n],r)&&"data"!==r&&!i(e[n][r],t[n][r]))return!1;for(r in t[n])if(Object.prototype.hasOwnProperty.call(t[n],r)&&"data"!==r&&!i(e[n][r],t[n][r]))return!1;return!0}function re(e,t,n,r,o,a){let s;for(s in t=t||{},e=e||{})Object.prototype.hasOwnProperty.call(e,s)&&(i(e[s],t[s])||n.push({command:a,args:[r,s,t[s],o]}));for(s in t)Object.prototype.hasOwnProperty.call(t,s)&&!Object.prototype.hasOwnProperty.call(e,s)&&(i(e[s],t[s])||n.push({command:a,args:[r,s,t[s],o]}))}function ie(e){return e.id}function oe(e,t){return e[t.id]=t,e}class ae{constructor(e,t){this.reset(e,t)}reset(e,t){this.points=e||[],this._distances=[0];for(let e=1;e<this.points.length;e++)this._distances[e]=this._distances[e-1]+this.points[e].dist(this.points[e-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(t||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(t){if(1===this.points.length)return this.points[0];t=e.clamp(t,0,1);let n=1,r=this._distances[n];const i=t*this.paddedLength+this.padding;for(;r<i&&n<this._distances.length;)r=this._distances[++n];const o=n-1,a=this._distances[o],s=r-a,l=s>0?(i-a)/s:0;return this.points[o].mult(1-l).add(this.points[n].mult(l))}}function se(e,t){let n=!0;return"always"===e||"never"!==e&&"never"!==t||(n=!1),n}class le{constructor(e,t,n){const r=this.boxCells=[],i=this.circleCells=[];this.xCellCount=Math.ceil(e/n),this.yCellCount=Math.ceil(t/n);for(let e=0;e<this.xCellCount*this.yCellCount;e++)r.push([]),i.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(e,t,n,r,i){this._forEachCell(t,n,r,i,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)}insertCircle(e,t,n,r){this._forEachCell(t-r,n-r,t+r,n+r,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(n),this.circles.push(r)}_insertBoxCell(e,t,n,r,i,o){this.boxCells[i].push(o)}_insertCircleCell(e,t,n,r,i,o){this.circleCells[i].push(o)}_query(e,t,n,r,i,o,a){if(n<0||e>this.width||r<0||t>this.height)return[];const s=[];if(e<=0&&t<=0&&this.width<=n&&this.height<=r){if(i)return[{key:null,x1:e,y1:t,x2:n,y2:r}];for(let e=0;e<this.boxKeys.length;e++)s.push({key:this.boxKeys[e],x1:this.bboxes[4*e],y1:this.bboxes[4*e+1],x2:this.bboxes[4*e+2],y2:this.bboxes[4*e+3]});for(let e=0;e<this.circleKeys.length;e++){const t=this.circles[3*e],n=this.circles[3*e+1],r=this.circles[3*e+2];s.push({key:this.circleKeys[e],x1:t-r,y1:n-r,x2:t+r,y2:n+r})}}else this._forEachCell(e,t,n,r,this._queryCell,s,{hitTest:i,overlapMode:o,seenUids:{box:{},circle:{}}},a);return s}query(e,t,n,r){return this._query(e,t,n,r,!1,null)}hitTest(e,t,n,r,i,o){return this._query(e,t,n,r,!0,i,o).length>0}hitTestCircle(e,t,n,r,i){const o=e-n,a=e+n,s=t-n,l=t+n;if(a<0||o>this.width||l<0||s>this.height)return!1;const c=[];return this._forEachCell(o,s,a,l,this._queryCellCircle,c,{hitTest:!0,overlapMode:r,circle:{x:e,y:t,radius:n},seenUids:{box:{},circle:{}}},i),c.length>0}_queryCell(e,t,n,r,i,o,a,s){const{seenUids:l,hitTest:c,overlapMode:u}=a,d=this.boxCells[i];if(null!==d){const i=this.bboxes;for(const a of d)if(!l.box[a]){l.box[a]=!0;const d=4*a,f=this.boxKeys[a];if(e<=i[d+2]&&t<=i[d+3]&&n>=i[d+0]&&r>=i[d+1]&&(!s||s(f))&&(!c||!se(u,f.overlapMode))&&(o.push({key:f,x1:i[d],y1:i[d+1],x2:i[d+2],y2:i[d+3]}),c))return!0}}const f=this.circleCells[i];if(null!==f){const i=this.circles;for(const a of f)if(!l.circle[a]){l.circle[a]=!0;const d=3*a,f=this.circleKeys[a];if(this._circleAndRectCollide(i[d],i[d+1],i[d+2],e,t,n,r)&&(!s||s(f))&&(!c||!se(u,f.overlapMode))){const e=i[d],t=i[d+1],n=i[d+2];if(o.push({key:f,x1:e-n,y1:t-n,x2:e+n,y2:t+n}),c)return!0}}}return!1}_queryCellCircle(e,t,n,r,i,o,a,s){const{circle:l,seenUids:c,overlapMode:u}=a,d=this.boxCells[i];if(null!==d){const e=this.bboxes;for(const t of d)if(!c.box[t]){c.box[t]=!0;const n=4*t,r=this.boxKeys[t];if(this._circleAndRectCollide(l.x,l.y,l.radius,e[n+0],e[n+1],e[n+2],e[n+3])&&(!s||s(r))&&!se(u,r.overlapMode))return o.push(!0),!0}}const f=this.circleCells[i];if(null!==f){const e=this.circles;for(const t of f)if(!c.circle[t]){c.circle[t]=!0;const n=3*t,r=this.circleKeys[t];if(this._circlesCollide(e[n],e[n+1],e[n+2],l.x,l.y,l.radius)&&(!s||s(r))&&!se(u,r.overlapMode))return o.push(!0),!0}}}_forEachCell(e,t,n,r,i,o,a,s){const l=this._convertToXCellCoord(e),c=this._convertToYCellCoord(t),u=this._convertToXCellCoord(n),d=this._convertToYCellCoord(r);for(let f=l;f<=u;f++)for(let l=c;l<=d;l++)if(i.call(this,e,t,n,r,this.xCellCount*l+f,o,a,s))return}_convertToXCellCoord(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))}_convertToYCellCoord(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))}_circlesCollide(e,t,n,r,i,o){const a=r-e,s=i-t,l=n+o;return l*l>a*a+s*s}_circleAndRectCollide(e,t,n,r,i,o,a){const s=(o-r)/2,l=Math.abs(e-(r+s));if(l>s+n)return!1;const c=(a-i)/2,u=Math.abs(t-(i+c));if(u>c+n)return!1;if(l<=s||u<=c)return!0;const d=l-s,f=u-c;return d*d+f*f<=n*n}}function ce(t,n,r,i,o){const a=e.create();return n?(e.scale(a,a,[1/o,1/o,1]),r||e.rotateZ(a,a,i.angle)):e.multiply(a,i.labelPlaneMatrix,t),a}function ue(t,n,r,i,o){if(n){const n=e.clone(t);return e.scale(n,n,[o,o,1]),r||e.rotateZ(n,n,-i.angle),n}return i.glCoordMatrix}function de(t,n){const r=[t.x,t.y,0,1];Ee(r,r,n);const i=r[3];return{point:new e.pointGeometry(r[0]/i,r[1]/i),signedDistanceFromCamera:i}}function fe(e,t){return.5+e/t*.5}function pe(e,t){const n=e[0]/e[3],r=e[1]/e[3];return n>=-t[0]&&n<=t[0]&&r>=-t[1]&&r<=t[1]}function me(t,n,r,i,o,a,s,l,c){const u=i?t.textSizeData:t.iconSizeData,d=e.evaluateSizeForZoom(u,r.transform.zoom),f=[256/r.width*2+1,256/r.height*2+1],p=i?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;p.clear();const m=t.lineVertexArray,h=i?t.text.placedSymbolArray:t.icon.placedSymbolArray,g=r.transform.width/r.transform.height;let y=!1;for(let i=0;i<h.length;i++){const v=h.get(i);if(v.hidden||v.writingMode===e.WritingMode.vertical&&!y){xe(v.numGlyphs,p);continue}y=!1;const b=[v.anchorX,v.anchorY,0,1];if(e.transformMat4(b,b,n),!pe(b,f)){xe(v.numGlyphs,p);continue}const w=fe(r.transform.cameraToCenterDistance,b[3]),x=e.evaluateSizeForFeature(u,d,v),E=s?x/w:x*w,_=new e.pointGeometry(v.anchorX,v.anchorY),A=de(_,o).point,O={},S=ye(v,E,!1,l,n,o,a,t.glyphOffsetArray,m,p,A,_,O,g,c);y=S.useVertical,(S.notEnoughRoom||y||S.needsFlipping&&ye(v,E,!0,l,n,o,a,t.glyphOffsetArray,m,p,A,_,O,g,c).notEnoughRoom)&&xe(v.numGlyphs,p)}i?t.text.dynamicLayoutVertexBuffer.updateData(p):t.icon.dynamicLayoutVertexBuffer.updateData(p)}function he(e,t,n,r,i,o,a,s,l,c,u,d){const f=s.glyphStartIndex+s.numGlyphs,p=s.lineStartIndex,m=s.lineStartIndex+s.lineLength,h=t.getoffsetX(s.glyphStartIndex),g=t.getoffsetX(f-1),y=be(e*h,n,r,i,o,a,s.segment,p,m,l,c,u,d);if(!y)return null;const v=be(e*g,n,r,i,o,a,s.segment,p,m,l,c,u,d);return v?{first:y,last:v}:null}function ge(t,n,r,i){return t===e.WritingMode.horizontal&&Math.abs(r.y-n.y)>Math.abs(r.x-n.x)*i?{useVertical:!0}:(t===e.WritingMode.vertical?n.y<r.y:n.x>r.x)?{needsFlipping:!0}:null}function ye(t,n,r,i,o,a,s,l,c,u,d,f,p,m,h){const g=n/24,y=t.lineOffsetX*g,v=t.lineOffsetY*g;let b;if(t.numGlyphs>1){const e=t.glyphStartIndex+t.numGlyphs,n=t.lineStartIndex,o=t.lineStartIndex+t.lineLength,u=he(g,l,y,v,r,d,f,t,c,a,p,h);if(!u)return{notEnoughRoom:!0};const w=de(u.first.point,s).point,x=de(u.last.point,s).point;if(i&&!r){const e=ge(t.writingMode,w,x,m);if(e)return e}b=[u.first];for(let i=t.glyphStartIndex+1;i<e-1;i++)b.push(be(g*l.getoffsetX(i),y,v,r,d,f,t.segment,n,o,c,a,p,h));b.push(u.last)}else{if(i&&!r){const n=de(f,o).point,r=t.lineStartIndex+t.segment+1,i=new e.pointGeometry(c.getx(r),c.gety(r)),a=de(i,o),s=a.signedDistanceFromCamera>0?a.point:ve(f,i,n,1,o),l=ge(t.writingMode,n,s,m);if(l)return l}const n=be(g*l.getoffsetX(t.glyphStartIndex),y,v,r,d,f,t.segment,t.lineStartIndex,t.lineStartIndex+t.lineLength,c,a,p,h);if(!n)return{notEnoughRoom:!0};b=[n]}for(const t of b)e.addDynamicAttributes(u,t.point,t.angle);return{}}function ve(e,t,n,r,i){const o=de(e.add(e.sub(t)._unit()),i).point,a=n.sub(o);return n.add(a._mult(r/a.mag()))}function be(t,n,r,i,o,a,s,l,c,u,d,f,p){const m=i?t-n:t+n;let h=m>0?1:-1,g=0;i&&(h*=-1,g=Math.PI),h<0&&(g+=Math.PI);let y=h>0?l+s:l+s+1,v=o,b=o,w=0,x=0;const E=Math.abs(m),_=[];for(;w+x<=E;){if(y+=h,y<l||y>=c)return null;if(b=v,_.push(v),v=f[y],void 0===v){const t=new e.pointGeometry(u.getx(y),u.gety(y)),n=de(t,d);if(n.signedDistanceFromCamera>0)v=f[y]=n.point;else{const n=y-h;v=ve(0===w?a:new e.pointGeometry(u.getx(n),u.gety(n)),t,b,E-w+1,d)}}w+=x,x=b.dist(v)}const A=(E-w)/x,O=v.sub(b),S=O.mult(A)._add(b);S._add(O._unit()._perp()._mult(r*h));const T=g+Math.atan2(v.y-b.y,v.x-b.x);return _.push(S),{point:S,angle:p?T:0,path:_}}const we=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function xe(e,t){for(let n=0;n<e;n++){const e=t.length;t.resize(e+4),t.float32.set(we,3*e)}}function Ee(e,t,n){const r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e[3]=n[3]*r+n[7]*i+n[15],e}const _e=100;class Ae{constructor(e,t=new le(e.width+200,e.height+200,25),n=new le(e.width+200,e.height+200,25)){this.transform=e,this.grid=t,this.ignoredGrid=n,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+_e,this.screenBottomBoundary=e.height+_e,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200}placeCollisionBox(e,t,n,r,i){const o=this.projectAndGetPerspectiveRatio(r,e.anchorPointX,e.anchorPointY),a=n*o.perspectiveRatio,s=e.x1*a+o.point.x,l=e.y1*a+o.point.y,c=e.x2*a+o.point.x,u=e.y2*a+o.point.y;return!this.isInsideGrid(s,l,c,u)||"always"!==t&&this.grid.hitTest(s,l,c,u,t,i)?{box:[],offscreen:!1}:{box:[s,l,c,u],offscreen:this.isOffscreen(s,l,c,u)}}placeCollisionCircles(t,n,r,i,o,a,s,l,c,u,d,f,p){const m=[],h=new e.pointGeometry(n.anchorX,n.anchorY),g=de(h,a),y=fe(this.transform.cameraToCenterDistance,g.signedDistanceFromCamera),v=(u?o/y:o*y)/e.ONE_EM,b=de(h,s).point,w=he(v,i,n.lineOffsetX*v,n.lineOffsetY*v,!1,b,h,n,r,s,{},!1);let x=!1,E=!1,_=!0;if(w){const n=.5*f*y+p,r=new e.pointGeometry(-100,-100),i=new e.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),o=new ae,a=w.first,s=w.last;let u=[];for(let e=a.path.length-1;e>=1;e--)u.push(a.path[e]);for(let e=1;e<s.path.length;e++)u.push(s.path[e]);const h=2.5*n;if(l){const e=u.map((e=>de(e,l)));u=e.some((e=>e.signedDistanceFromCamera<=0))?[]:e.map((e=>e.point))}let g=[];if(u.length>0){const t=u[0].clone(),n=u[0].clone();for(let e=1;e<u.length;e++)t.x=Math.min(t.x,u[e].x),t.y=Math.min(t.y,u[e].y),n.x=Math.max(n.x,u[e].x),n.y=Math.max(n.y,u[e].y);g=t.x>=r.x&&n.x<=i.x&&t.y>=r.y&&n.y<=i.y?[u]:n.x<r.x||t.x>i.x||n.y<r.y||t.y>i.y?[]:e.clipLine([u],r.x,r.y,i.x,i.y)}for(const e of g){o.reset(e,.25*n);let r=0;r=o.length<=.5*n?1:Math.ceil(o.paddedLength/h)+1;for(let e=0;e<r;e++){const i=e/Math.max(r-1,1),a=o.lerp(i),s=a.x+_e,l=a.y+_e;m.push(s,l,n,0);const u=s-n,f=l-n,p=s+n,h=l+n;if(_=_&&this.isOffscreen(u,f,p,h),E=E||this.isInsideGrid(u,f,p,h),"always"!==t&&this.grid.hitTestCircle(s,l,n,t,d)&&(x=!0,!c))return{circles:[],offscreen:!1,collisionDetected:x}}}}return{circles:!c&&x||!E?[]:m,offscreen:_,collisionDetected:x}}queryRenderedSymbols(t){if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};const n=[];let r=1/0,i=1/0,o=-1/0,a=-1/0;for(const s of t){const t=new e.pointGeometry(s.x+_e,s.y+_e);r=Math.min(r,t.x),i=Math.min(i,t.y),o=Math.max(o,t.x),a=Math.max(a,t.y),n.push(t)}const s=this.grid.query(r,i,o,a).concat(this.ignoredGrid.query(r,i,o,a)),l={},c={};for(const t of s){const r=t.key;if(void 0===l[r.bucketInstanceId]&&(l[r.bucketInstanceId]={}),l[r.bucketInstanceId][r.featureIndex])continue;const i=[new e.pointGeometry(t.x1,t.y1),new e.pointGeometry(t.x2,t.y1),new e.pointGeometry(t.x2,t.y2),new e.pointGeometry(t.x1,t.y2)];e.polygonIntersectsPolygon(n,i)&&(l[r.bucketInstanceId][r.featureIndex]=!0,void 0===c[r.bucketInstanceId]&&(c[r.bucketInstanceId]=[]),c[r.bucketInstanceId].push(r.featureIndex))}return c}insertCollisionBox(e,t,n,r,i,o){(n?this.ignoredGrid:this.grid).insert({bucketInstanceId:r,featureIndex:i,collisionGroupID:o,overlapMode:t},e[0],e[1],e[2],e[3])}insertCollisionCircles(e,t,n,r,i,o){const a=n?this.ignoredGrid:this.grid,s={bucketInstanceId:r,featureIndex:i,collisionGroupID:o,overlapMode:t};for(let t=0;t<e.length;t+=4)a.insertCircle(s,e[t],e[t+1],e[t+2])}projectAndGetPerspectiveRatio(t,n,r){const i=[n,r,0,1];return Ee(i,i,t),{point:new e.pointGeometry((i[0]/i[3]+1)/2*this.transform.width+_e,(-i[1]/i[3]+1)/2*this.transform.height+_e),perspectiveRatio:.5+this.transform.cameraToCenterDistance/i[3]*.5}}isOffscreen(e,t,n,r){return n<_e||e>=this.screenRightBoundary||r<_e||t>this.screenBottomBoundary}isInsideGrid(e,t,n,r){return n>=0&&e<this.gridRightBoundary&&r>=0&&t<this.gridBottomBoundary}getViewportMatrix(){const t=e.identity([]);return e.translate(t,t,[-100,-100,0]),t}}function Oe(t,n,r){return n*(e.EXTENT/(t.tileSize*Math.pow(2,r-t.tileID.overscaledZ)))}class Se{constructor(e,t,n,r){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?t:-t))):r&&n?1:0,this.placed=n}isHidden(){return 0===this.opacity&&!this.placed}}class Te{constructor(e,t,n,r,i){this.text=new Se(e?e.text:null,t,n,i),this.icon=new Se(e?e.icon:null,t,r,i)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Ie{constructor(e,t,n){this.text=e,this.icon=t,this.skipFade=n}}class ke{constructor(){this.invProjMatrix=e.create(),this.viewportMatrix=e.create(),this.circles=[]}}class Ce{constructor(e,t,n,r,i){this.bucketInstanceId=e,this.featureIndex=t,this.sourceLayerIndex=n,this.bucketIndex=r,this.tileID=i}}class Me{constructor(e){this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={}}get(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){const t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:e=>e.collisionGroupID===t}}return this.collisionGroups[e]}}function Ne(t,n,r,i,o){const{horizontalAlign:a,verticalAlign:s}=e.getAnchorAlignment(t),l=-(a-.5)*n,c=-(s-.5)*r,u=e.evaluateVariableOffset(t,i);return new e.pointGeometry(l+u[0]*o,c+u[1]*o)}function je(t,n,r,i,o,a){const{x1:s,x2:l,y1:c,y2:u,anchorPointX:d,anchorPointY:f}=t,p=new e.pointGeometry(n,r);return i&&p._rotate(o?a:-a),{x1:s+p.x,y1:c+p.y,x2:l+p.x,y2:u+p.y,anchorPointX:d,anchorPointY:f}}class Le{constructor(e,t,n,r){this.transform=e.clone(),this.collisionIndex=new Ae(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=t,this.retainedQueryData={},this.collisionGroups=new Me(n),this.collisionCircleArrays={},this.prevPlacement=r,r&&(r.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(t,n,r,i){const o=r.getBucket(n),a=r.latestFeatureIndex;if(!o||!a||n.id!==o.layerIds[0])return;const s=r.collisionBoxArray,l=o.layers[0].layout,c=Math.pow(2,this.transform.zoom-r.tileID.overscaledZ),u=r.tileSize/e.EXTENT,d=this.transform.calculatePosMatrix(r.tileID.toUnwrapped()),f="map"===l.get("text-pitch-alignment"),p="map"===l.get("text-rotation-alignment"),m=Oe(r,1,this.transform.zoom),h=ce(d,f,p,this.transform,m);let g=null;if(f){const t=ue(d,f,p,this.transform,m);g=e.multiply([],this.transform.labelPlaneMatrix,t)}this.retainedQueryData[o.bucketInstanceId]=new Ce(o.bucketInstanceId,a,o.sourceLayerIndex,o.index,r.tileID);const y={bucket:o,layout:l,posMatrix:d,textLabelPlaneMatrix:h,labelToScreenMatrix:g,scale:c,textPixelRatio:u,holdingForFade:r.holdingForFade(),collisionBoxArray:s,partiallyEvaluatedTextSize:e.evaluateSizeForZoom(o.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(o.sourceID)};if(i)for(const e of o.sortKeyRanges){const{sortKey:n,symbolInstanceStart:r,symbolInstanceEnd:i}=e;t.push({sortKey:n,symbolInstanceStart:r,symbolInstanceEnd:i,parameters:y})}else t.push({symbolInstanceStart:0,symbolInstanceEnd:o.symbolInstances.length,parameters:y})}attemptAnchorPlacement(e,t,n,r,i,o,a,s,l,c,u,d,f,p,m){const h=[d.textOffset0,d.textOffset1],g=Ne(e,n,r,h,i),y=this.collisionIndex.placeCollisionBox(je(t,g.x,g.y,o,a,this.transform.angle),u,s,l,c.predicate);if((!m||0!==this.collisionIndex.placeCollisionBox(je(m,g.x,g.y,o,a,this.transform.angle),u,s,l,c.predicate).box.length)&&y.box.length>0){let t;return this.prevPlacement&&this.prevPlacement.variableOffsets[d.crossTileID]&&this.prevPlacement.placements[d.crossTileID]&&this.prevPlacement.placements[d.crossTileID].text&&(t=this.prevPlacement.variableOffsets[d.crossTileID].anchor),this.variableOffsets[d.crossTileID]={textOffset:h,width:n,height:r,anchor:e,textBoxScale:i,prevAnchor:t},this.markUsedJustification(f,e,d,p),f.allowVerticalPlacement&&(this.markUsedOrientation(f,p,d),this.placedOrientations[d.crossTileID]=p),{shift:g,placedGlyphBoxes:y}}}placeLayerBucketPart(t,n,r){const{bucket:i,layout:o,posMatrix:a,textLabelPlaneMatrix:s,labelToScreenMatrix:l,textPixelRatio:c,holdingForFade:u,collisionBoxArray:d,partiallyEvaluatedTextSize:f,collisionGroup:p}=t.parameters,m=o.get("text-optional"),h=o.get("icon-optional"),g=e.getOverlapMode(o,"text-overlap","text-allow-overlap"),y="always"===g,v=e.getOverlapMode(o,"icon-overlap","icon-allow-overlap"),b="always"===v,w="map"===o.get("text-rotation-alignment"),x="map"===o.get("text-pitch-alignment"),E="none"!==o.get("icon-text-fit"),_="viewport-y"===o.get("symbol-z-order"),A=y&&(b||!i.hasIconData()||h),O=b&&(y||!i.hasTextData()||m);!i.collisionArrays&&d&&i.deserializeCollisionBoxes(d);const S=(t,d)=>{if(n[t.crossTileID])return;if(u)return void(this.placements[t.crossTileID]=new Ie(!1,!1,!1));let b=!1,_=!1,S=!0,T=null,I={box:null,offscreen:null},k={box:null,offscreen:null},C=null,M=null,N=null,j=0,L=0,R=0;d.textFeatureIndex?j=d.textFeatureIndex:t.useRuntimeCollisionCircles&&(j=t.featureIndex),d.verticalTextFeatureIndex&&(L=d.verticalTextFeatureIndex);const D=d.textBox;if(D){const n=n=>{let r=e.WritingMode.horizontal;if(i.allowVerticalPlacement&&!n&&this.prevPlacement){const e=this.prevPlacement.placedOrientations[t.crossTileID];e&&(this.placedOrientations[t.crossTileID]=e,r=e,this.markUsedOrientation(i,r,t))}return r},r=(n,r)=>{if(i.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&d.verticalTextBox){for(const t of i.writingModes)if(t===e.WritingMode.vertical?(I=r(),k=I):I=n(),I&&I.box&&I.box.length)break}else I=n()};if(o.get("text-variable-anchor")){let s=o.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[t.crossTileID]){const e=this.prevPlacement.variableOffsets[t.crossTileID];s.indexOf(e.anchor)>0&&(s=s.filter((t=>t!==e.anchor)),s.unshift(e.anchor))}const l=(e,n,r)=>{const o=e.x2-e.x1,l=e.y2-e.y1,u=t.textBoxScale,d=E&&"never"===v?n:null;let f={box:[],offscreen:!1};const m="never"!==g?2*s.length:s.length;for(let n=0;n<m;++n){const m=this.attemptAnchorPlacement(s[n%s.length],e,o,l,u,w,x,c,a,p,n>=s.length?g:"never",t,i,r,d);if(m&&(f=m.placedGlyphBoxes,f&&f.box&&f.box.length)){b=!0,T=m.shift;break}}return f};r((()=>l(D,d.iconBox,e.WritingMode.horizontal)),(()=>{const n=d.verticalTextBox;return i.allowVerticalPlacement&&!(I&&I.box&&I.box.length)&&t.numVerticalGlyphVertices>0&&n?l(n,d.verticalIconBox,e.WritingMode.vertical):{box:null,offscreen:null}})),I&&(b=I.box,S=I.offscreen);const u=n(I&&I.box);if(!b&&this.prevPlacement){const e=this.prevPlacement.variableOffsets[t.crossTileID];e&&(this.variableOffsets[t.crossTileID]=e,this.markUsedJustification(i,e.anchor,t,u))}}else{const o=(e,n)=>{const r=this.collisionIndex.placeCollisionBox(e,g,c,a,p.predicate);return r&&r.box&&r.box.length&&(this.markUsedOrientation(i,n,t),this.placedOrientations[t.crossTileID]=n),r};r((()=>o(D,e.WritingMode.horizontal)),(()=>{const n=d.verticalTextBox;return i.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&n?o(n,e.WritingMode.vertical):{box:null,offscreen:null}})),n(I&&I.box&&I.box.length)}}if(C=I,b=C&&C.box&&C.box.length>0,S=C&&C.offscreen,t.useRuntimeCollisionCircles){const n=i.text.placedSymbolArray.get(t.centerJustifiedTextSymbolIndex),c=e.evaluateSizeForFeature(i.textSizeData,f,n),u=o.get("text-padding");M=this.collisionIndex.placeCollisionCircles(g,n,i.lineVertexArray,i.glyphOffsetArray,c,a,s,l,r,x,p.predicate,t.collisionCircleDiameter,u),b=y||M.circles.length>0&&!M.collisionDetected,S=S&&M.offscreen}if(d.iconFeatureIndex&&(R=d.iconFeatureIndex),d.iconBox){const e=e=>{const t=E&&T?je(e,T.x,T.y,w,x,this.transform.angle):e;return this.collisionIndex.placeCollisionBox(t,v,c,a,p.predicate)};k&&k.box&&k.box.length&&d.verticalIconBox?(N=e(d.verticalIconBox),_=N.box.length>0):(N=e(d.iconBox),_=N.box.length>0),S=S&&N.offscreen}const P=m||0===t.numHorizontalGlyphVertices&&0===t.numVerticalGlyphVertices,B=h||0===t.numIconVertices;if(P||B?B?P||(_=_&&b):b=_&&b:_=b=_&&b,b&&C&&C.box&&this.collisionIndex.insertCollisionBox(C.box,g,o.get("text-ignore-placement"),i.bucketInstanceId,k&&k.box&&L?L:j,p.ID),_&&N&&this.collisionIndex.insertCollisionBox(N.box,v,o.get("icon-ignore-placement"),i.bucketInstanceId,R,p.ID),M&&(b&&this.collisionIndex.insertCollisionCircles(M.circles,g,o.get("text-ignore-placement"),i.bucketInstanceId,j,p.ID),r)){const e=i.bucketInstanceId;let t=this.collisionCircleArrays[e];void 0===t&&(t=this.collisionCircleArrays[e]=new ke);for(let e=0;e<M.circles.length;e+=4)t.circles.push(M.circles[e+0]),t.circles.push(M.circles[e+1]),t.circles.push(M.circles[e+2]),t.circles.push(M.collisionDetected?1:0)}this.placements[t.crossTileID]=new Ie(b||A,_||O,S||i.justReloaded),n[t.crossTileID]=!0};if(_){const e=i.getSortedSymbolIndexes(this.transform.angle);for(let t=e.length-1;t>=0;--t){const n=e[t];S(i.symbolInstances.get(n),i.collisionArrays[n])}}else for(let e=t.symbolInstanceStart;e<t.symbolInstanceEnd;e++)S(i.symbolInstances.get(e),i.collisionArrays[e]);if(r&&i.bucketInstanceId in this.collisionCircleArrays){const t=this.collisionCircleArrays[i.bucketInstanceId];e.invert(t.invProjMatrix,a),t.viewportMatrix=this.collisionIndex.getViewportMatrix()}i.justReloaded=!1}markUsedJustification(t,n,r,i){let o;o=i===e.WritingMode.vertical?r.verticalPlacedTextSymbolIndex:{left:r.leftJustifiedTextSymbolIndex,center:r.centerJustifiedTextSymbolIndex,right:r.rightJustifiedTextSymbolIndex}[e.getAnchorJustification(n)];const a=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex,r.verticalPlacedTextSymbolIndex];for(const e of a)e>=0&&(t.text.placedSymbolArray.get(e).crossTileID=o>=0&&e!==o?0:r.crossTileID)}markUsedOrientation(t,n,r){const i=n===e.WritingMode.horizontal||n===e.WritingMode.horizontalOnly?n:0,o=n===e.WritingMode.vertical?n:0,a=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex];for(const e of a)t.text.placedSymbolArray.get(e).placedOrientation=i;r.verticalPlacedTextSymbolIndex&&(t.text.placedSymbolArray.get(r.verticalPlacedTextSymbolIndex).placedOrientation=o)}commit(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;const t=this.prevPlacement;let n=!1;this.prevZoomAdjustment=t?t.zoomAdjustment(this.transform.zoom):0;const r=t?t.symbolFadeChange(e):1,i=t?t.opacities:{},o=t?t.variableOffsets:{},a=t?t.placedOrientations:{};for(const e in this.placements){const t=this.placements[e],o=i[e];o?(this.opacities[e]=new Te(o,r,t.text,t.icon),n=n||t.text!==o.text.placed||t.icon!==o.icon.placed):(this.opacities[e]=new Te(null,r,t.text,t.icon,t.skipFade),n=n||t.text||t.icon)}for(const e in i){const t=i[e];if(!this.opacities[e]){const i=new Te(t,r,!1,!1);i.isHidden()||(this.opacities[e]=i,n=n||t.text.placed||t.icon.placed)}}for(const e in o)this.variableOffsets[e]||!this.opacities[e]||this.opacities[e].isHidden()||(this.variableOffsets[e]=o[e]);for(const e in a)this.placedOrientations[e]||!this.opacities[e]||this.opacities[e].isHidden()||(this.placedOrientations[e]=a[e]);n?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)}updateLayerOpacities(e,t){const n={};for(const r of t){const t=r.getBucket(e);t&&r.latestFeatureIndex&&e.id===t.layerIds[0]&&this.updateBucketOpacities(t,n,r.collisionBoxArray)}}updateBucketOpacities(t,n,r){t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexArray.clear(),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexArray.clear();const i=t.layers[0].layout,o=new Te(null,0,!1,!1,!0),a=i.get("text-allow-overlap"),s=i.get("icon-allow-overlap"),l=i.get("text-variable-anchor"),c="map"===i.get("text-rotation-alignment"),u="map"===i.get("text-pitch-alignment"),d="none"!==i.get("icon-text-fit"),f=new Te(null,0,a&&(s||!t.hasIconData()||i.get("icon-optional")),s&&(a||!t.hasTextData()||i.get("text-optional")),!0);!t.collisionArrays&&r&&(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData())&&t.deserializeCollisionBoxes(r);const p=(e,t,n)=>{for(let r=0;r<t/4;r++)e.opacityVertexArray.emplaceBack(n)};for(let r=0;r<t.symbolInstances.length;r++){const i=t.symbolInstances.get(r),{numHorizontalGlyphVertices:a,numVerticalGlyphVertices:s,crossTileID:m}=i;let h=this.opacities[m];n[m]?h=o:h||(h=f,this.opacities[m]=h),n[m]=!0;const g=i.numIconVertices>0,y=this.placedOrientations[i.crossTileID],v=y===e.WritingMode.vertical,b=y===e.WritingMode.horizontal||y===e.WritingMode.horizontalOnly;if(a>0||s>0){const e=Ge(h.text);p(t.text,a,v?He:e),p(t.text,s,b?He:e);const n=h.text.isHidden();[i.rightJustifiedTextSymbolIndex,i.centerJustifiedTextSymbolIndex,i.leftJustifiedTextSymbolIndex].forEach((e=>{e>=0&&(t.text.placedSymbolArray.get(e).hidden=n||v?1:0)})),i.verticalPlacedTextSymbolIndex>=0&&(t.text.placedSymbolArray.get(i.verticalPlacedTextSymbolIndex).hidden=n||b?1:0);const r=this.variableOffsets[i.crossTileID];r&&this.markUsedJustification(t,r.anchor,i,y);const o=this.placedOrientations[i.crossTileID];o&&(this.markUsedJustification(t,"left",i,o),this.markUsedOrientation(t,o,i))}if(g){const e=Ge(h.icon),n=!(d&&i.verticalPlacedIconSymbolIndex&&v);i.placedIconSymbolIndex>=0&&(p(t.icon,i.numIconVertices,n?e:He),t.icon.placedSymbolArray.get(i.placedIconSymbolIndex).hidden=h.icon.isHidden()),i.verticalPlacedIconSymbolIndex>=0&&(p(t.icon,i.numVerticalIconVertices,n?He:e),t.icon.placedSymbolArray.get(i.verticalPlacedIconSymbolIndex).hidden=h.icon.isHidden())}if(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData()){const n=t.collisionArrays[r];if(n){let r=new e.pointGeometry(0,0);if(n.textBox||n.verticalTextBox){let e=!0;if(l){const t=this.variableOffsets[m];t?(r=Ne(t.anchor,t.width,t.height,t.textOffset,t.textBoxScale),c&&r._rotate(u?this.transform.angle:-this.transform.angle)):e=!1}n.textBox&&Re(t.textCollisionBox.collisionVertexArray,h.text.placed,!e||v,r.x,r.y),n.verticalTextBox&&Re(t.textCollisionBox.collisionVertexArray,h.text.placed,!e||b,r.x,r.y)}const i=Boolean(!b&&n.verticalIconBox);n.iconBox&&Re(t.iconCollisionBox.collisionVertexArray,h.icon.placed,i,d?r.x:0,d?r.y:0),n.verticalIconBox&&Re(t.iconCollisionBox.collisionVertexArray,h.icon.placed,!i,d?r.x:0,d?r.y:0)}}}if(t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexBuffer&&t.iconCollisionBox.collisionVertexBuffer.updateData(t.iconCollisionBox.collisionVertexArray),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexBuffer&&t.textCollisionBox.collisionVertexBuffer.updateData(t.textCollisionBox.collisionVertexArray),t.bucketInstanceId in this.collisionCircleArrays){const e=this.collisionCircleArrays[t.bucketInstanceId];t.placementInvProjMatrix=e.invProjMatrix,t.placementViewportMatrix=e.viewportMatrix,t.collisionCircleArray=e.circles,delete this.collisionCircleArrays[t.bucketInstanceId]}}symbolFadeChange(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(e){return Math.max(0,(this.transform.zoom-e)/1.5)}hasTransitions(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(e,t){const n=this.zoomAtLastRecencyCheck===t?1-this.zoomAdjustment(t):1;return this.zoomAtLastRecencyCheck=t,this.commitTime+this.fadeDuration*n>e}setStale(){this.stale=!0}}function Re(e,t,n,r,i){e.emplaceBack(t?1:0,n?1:0,r||0,i||0),e.emplaceBack(t?1:0,n?1:0,r||0,i||0),e.emplaceBack(t?1:0,n?1:0,r||0,i||0),e.emplaceBack(t?1:0,n?1:0,r||0,i||0)}const De=Math.pow(2,25),Pe=Math.pow(2,24),Be=Math.pow(2,17),Fe=Math.pow(2,16),Ue=Math.pow(2,9),ze=Math.pow(2,8),Ve=Math.pow(2,1);function Ge(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;const t=e.placed?1:0,n=Math.floor(127*e.opacity);return n*De+t*Pe+n*Be+t*Fe+n*Ue+t*ze+n*Ve+t}const He=0;class We{constructor(e){this._sortAcrossTiles="viewport-y"!==e.layout.get("symbol-z-order")&&!e.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(e,t,n,r,i){const o=this._bucketParts;for(;this._currentTileIndex<e.length;)if(t.getBucketParts(o,r,e[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,i())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,o.sort(((e,t)=>e.sortKey-t.sortKey)));this._currentPartIndex<o.length;)if(t.placeLayerBucketPart(o[this._currentPartIndex],this._seenCrossTileIDs,n),this._currentPartIndex++,i())return!0;return!1}}class Ye{constructor(e,t,n,r,i,o,a){this.placement=new Le(e,i,o,a),this._currentPlacementIndex=t.length-1,this._forceFullPlacement=n,this._showCollisionBoxes=r,this._done=!1}isDone(){return this._done}continuePlacement(t,n,r){const i=e.exported.now(),o=()=>{const t=e.exported.now()-i;return!this._forceFullPlacement&&t>2};for(;this._currentPlacementIndex>=0;){const e=n[t[this._currentPlacementIndex]],i=this.placement.collisionIndex.transform.zoom;if("symbol"===e.type&&(!e.minzoom||e.minzoom<=i)&&(!e.maxzoom||e.maxzoom>i)){if(this._inProgressLayer||(this._inProgressLayer=new We(e)),this._inProgressLayer.continuePlacement(r[e.source],this.placement,this._showCollisionBoxes,e,o))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(e){return this.placement.commit(e),this.placement}}const Qe=512/e.EXTENT/2;class Ze{constructor(e,t,n){this.tileID=e,this.indexedSymbolInstances={},this.bucketInstanceId=n;for(let n=0;n<t.length;n++){const r=t.get(n),i=r.key;this.indexedSymbolInstances[i]||(this.indexedSymbolInstances[i]=[]),this.indexedSymbolInstances[i].push({crossTileID:r.crossTileID,coord:this.getScaledCoordinates(r,e)})}}getScaledCoordinates(t,n){const r=Qe/Math.pow(2,n.canonical.z-this.tileID.canonical.z);return{x:Math.floor((n.canonical.x*e.EXTENT+t.anchorX)*r),y:Math.floor((n.canonical.y*e.EXTENT+t.anchorY)*r)}}findMatches(e,t,n){const r=this.tileID.canonical.z<t.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t.canonical.z);for(let i=0;i<e.length;i++){const o=e.get(i);if(o.crossTileID)continue;const a=this.indexedSymbolInstances[o.key];if(!a)continue;const s=this.getScaledCoordinates(o,t);for(const e of a)if(Math.abs(e.coord.x-s.x)<=r&&Math.abs(e.coord.y-s.y)<=r&&!n[e.crossTileID]){n[e.crossTileID]=!0,o.crossTileID=e.crossTileID;break}}}}class Xe{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Je{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(e){const t=Math.round((e-this.lng)/360);if(0!==t)for(const e in this.indexes){const n=this.indexes[e],r={};for(const e in n){const i=n[e];i.tileID=i.tileID.unwrapTo(i.tileID.wrap+t),r[i.tileID.key]=i}this.indexes[e]=r}this.lng=e}addBucket(e,t,n){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(let e=0;e<t.symbolInstances.length;e++)t.symbolInstances.get(e).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});const r=this.usedCrossTileIDs[e.overscaledZ];for(const n in this.indexes){const i=this.indexes[n];if(Number(n)>e.overscaledZ)for(const n in i){const o=i[n];o.tileID.isChildOf(e)&&o.findMatches(t.symbolInstances,e,r)}else{const o=i[e.scaledTo(Number(n)).key];o&&o.findMatches(t.symbolInstances,e,r)}}for(let e=0;e<t.symbolInstances.length;e++){const i=t.symbolInstances.get(e);i.crossTileID||(i.crossTileID=n.generate(),r[i.crossTileID]=!0)}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new Ze(e,t.symbolInstances,t.bucketInstanceId),!0}removeBucketCrossTileIDs(e,t){for(const n in t.indexedSymbolInstances)for(const r of t.indexedSymbolInstances[n])delete this.usedCrossTileIDs[e][r.crossTileID]}removeStaleBuckets(e){let t=!1;for(const n in this.indexes){const r=this.indexes[n];for(const i in r)e[r[i].bucketInstanceId]||(this.removeBucketCrossTileIDs(n,r[i]),delete r[i],t=!0)}return t}}class qe{constructor(){this.layerIndexes={},this.crossTileIDs=new Xe,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(e,t,n){let r=this.layerIndexes[e.id];void 0===r&&(r=this.layerIndexes[e.id]=new Je);let i=!1;const o={};r.handleWrapJump(n);for(const n of t){const t=n.getBucket(e);t&&e.id===t.layerIds[0]&&(t.bucketInstanceId||(t.bucketInstanceId=++this.maxBucketInstanceId),r.addBucket(n.tileID,t,this.crossTileIDs)&&(i=!0),o[t.bucketInstanceId]=!0)}return r.removeStaleBuckets(o)&&(i=!0),i}pruneUnusedLayers(e){const t={};e.forEach((e=>{t[e]=!0}));for(const e in this.layerIndexes)t[e]||delete this.layerIndexes[e]}}const Ke=(t,n)=>e.emitValidationErrors(t,n&&n.filter((e=>"source.canvas"!==e.identifier))),$e=e.pick(K,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),et=e.pick(K,["setCenter","setZoom","setBearing","setPitch"]),tt=function(){const t={},n=e.spec.$version;for(const r in e.spec.$root){const i=e.spec.$root[r];if(i.required){let e=null;e="version"===r?n:"array"===i.type?[]:{},null!=e&&(t[r]=e)}}return t}();class nt extends e.Evented{constructor(t,n={}){super(),this.map=t,this.dispatcher=new _(X(),this),this.imageManager=new m,this.imageManager.setEventedParent(this),this.glyphManager=new v(t._requestManager,n.localIdeographFontFamily),this.lineAtlas=new E(256,512),this.crossTileSymbolIndex=new qe,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new e.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",e.getReferrer());const r=this;this._rtlTextPluginCallback=nt.registerForPluginStateChange((t=>{r.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:t.pluginStatus,pluginURL:t.pluginURL},((t,n)=>{if(e.triggerPluginCompletionEvent(t),n&&n.every((e=>e)))for(const e in r.sourceCaches)r.sourceCaches[e].reload()}))})),this.on("data",(e=>{if("source"!==e.dataType||"metadata"!==e.sourceDataType)return;const t=this.sourceCaches[e.sourceId];if(!t)return;const n=t.getSource();if(n&&n.vectorLayerIds)for(const e in this._layers){const t=this._layers[e];t.source===n.id&&this._validateLayer(t)}}))}loadURL(t,n={}){this.fire(new e.Event("dataloading",{dataType:"style"}));const r="boolean"!=typeof n.validate||n.validate,i=this.map._requestManager.transformRequest(t,e.ResourceType.Style);this._request=e.getJSON(i,((t,n)=>{this._request=null,t?this.fire(new e.ErrorEvent(t)):n&&this._load(n,r)}))}loadJSON(t,n={}){this.fire(new e.Event("dataloading",{dataType:"style"})),this._request=e.exported.frame((()=>{this._request=null,this._load(t,!1!==n.validate)}))}loadEmpty(){this.fire(new e.Event("dataloading",{dataType:"style"})),this._load(tt,!1)}_load(t,n){if(n&&Ke(this,e.validateStyle(t)))return;this._loaded=!0,this.stylesheet=t;for(const e in t.sources)this.addSource(e,t.sources[e],{validate:!1});t.sprite?this._loadSprite(t.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(t.glyphs);const r=q(this.stylesheet.layers);this._order=r.map((e=>e.id)),this._layers={},this._serializedLayers={};for(let t of r)t=e.createStyleLayer(t),t.setEventedParent(this,{layer:{id:t.id}}),this._layers[t.id]=t,this._serializedLayers[t.id]=t.serialize();this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new x(this.stylesheet.light),this.fire(new e.Event("data",{dataType:"style"})),this.fire(new e.Event("style.load"))}_loadSprite(t){this._spriteRequest=function(t,n,r,i){let o,a,s;const l=r>1?"@2x":"";let c=e.getJSON(n.transformRequest(n.normalizeSpriteURL(t,l,".json"),e.ResourceType.SpriteJSON),((e,t)=>{c=null,s||(s=e,o=t,d())})),u=e.getImage(n.transformRequest(n.normalizeSpriteURL(t,l,".png"),e.ResourceType.SpriteImage),((e,t)=>{u=null,s||(s=e,a=t,d())}));function d(){if(s)i(s);else if(o&&a){const t=e.exported.getImageData(a),n={};for(const r in o){const{width:i,height:a,x:s,y:l,sdf:c,pixelRatio:u,stretchX:d,stretchY:f,content:p}=o[r],m=new e.RGBAImage({width:i,height:a});e.RGBAImage.copy(t,m,{x:s,y:l},{x:0,y:0},{width:i,height:a}),n[r]={data:m,pixelRatio:u,sdf:c,stretchX:d,stretchY:f,content:p}}i(null,n)}}return{cancel(){c&&(c.cancel(),c=null),u&&(u.cancel(),u=null)}}}(t,this.map._requestManager,this.map.getPixelRatio(),((t,n)=>{if(this._spriteRequest=null,t)this.fire(new e.ErrorEvent(t));else if(n)for(const e in n)this.imageManager.addImage(e,n[e]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new e.Event("data",{dataType:"style"}))}))}_validateLayer(t){const n=this.sourceCaches[t.source];if(!n)return;const r=t.sourceLayer;if(!r)return;const i=n.getSource();("geojson"===i.type||i.vectorLayerIds&&-1===i.vectorLayerIds.indexOf(r))&&this.fire(new e.ErrorEvent(new Error(`Source layer "${r}" does not exist on source "${i.id}" as specified by style layer "${t.id}".`)))}loaded(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(const e in this.sourceCaches)if(!this.sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(e){const t=[];for(const n of e){const e=this._layers[n];"custom"!==e.type&&t.push(e.serialize())}return t}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const e in this.sourceCaches)if(this.sourceCaches[e].hasTransition())return!0;for(const e in this._layers)if(this._layers[e].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(t){if(!this._loaded)return;const n=this._changed;if(this._changed){const e=Object.keys(this._updatedLayers),n=Object.keys(this._removedLayers);(e.length||n.length)&&this._updateWorkerLayers(e,n);for(const e in this._updatedSources){const t=this._updatedSources[e];"reload"===t?this._reloadSource(e):"clear"===t&&this._clearSource(e)}this._updateTilesForChangedImages();for(const e in this._updatedPaintProps)this._layers[e].updateTransitions(t);this.light.updateTransitions(t),this._resetUpdates()}const r={};for(const e in this.sourceCaches){const t=this.sourceCaches[e];r[e]=t.used,t.used=!1}for(const e of this._order){const n=this._layers[e];n.recalculate(t,this._availableImages),!n.isHidden(t.zoom)&&n.source&&(this.sourceCaches[n.source].used=!0)}for(const t in r){const n=this.sourceCaches[t];r[t]!==n.used&&n.fire(new e.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:t}))}this.light.recalculate(t),this.z=t.zoom,n&&this.fire(new e.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const e=Object.keys(this._changedImages);if(e.length){for(const t in this.sourceCaches)this.sourceCaches[t].reloadTilesForDependencies(["icons","patterns"],e);this._changedImages={}}}_updateWorkerLayers(e,t){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(e),removedIds:t})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(t){if(this._checkLoaded(),Ke(this,e.validateStyle(t)))return!1;(t=e.clone$1(t)).layers=q(t.layers);const n=function(e,t){if(!e)return[{command:K.setStyle,args:[t]}];let n=[];try{if(!i(e.version,t.version))return[{command:K.setStyle,args:[t]}];i(e.center,t.center)||n.push({command:K.setCenter,args:[t.center]}),i(e.zoom,t.zoom)||n.push({command:K.setZoom,args:[t.zoom]}),i(e.bearing,t.bearing)||n.push({command:K.setBearing,args:[t.bearing]}),i(e.pitch,t.pitch)||n.push({command:K.setPitch,args:[t.pitch]}),i(e.sprite,t.sprite)||n.push({command:K.setSprite,args:[t.sprite]}),i(e.glyphs,t.glyphs)||n.push({command:K.setGlyphs,args:[t.glyphs]}),i(e.transition,t.transition)||n.push({command:K.setTransition,args:[t.transition]}),i(e.light,t.light)||n.push({command:K.setLight,args:[t.light]});const r={},o=[];!function(e,t,n,r){let o;for(o in t=t||{},e=e||{})Object.prototype.hasOwnProperty.call(e,o)&&(Object.prototype.hasOwnProperty.call(t,o)||ee(o,n,r));for(o in t)Object.prototype.hasOwnProperty.call(t,o)&&(Object.prototype.hasOwnProperty.call(e,o)?i(e[o],t[o])||("geojson"===e[o].type&&"geojson"===t[o].type&&ne(e,t,o)?n.push({command:K.setGeoJSONSourceData,args:[o,t[o].data]}):te(o,t,n,r)):$(o,t,n))}(e.sources,t.sources,o,r);const a=[];e.layers&&e.layers.forEach((e=>{r[e.source]?n.push({command:K.removeLayer,args:[e.id]}):a.push(e)})),n=n.concat(o),function(e,t,n){t=t||[];const r=(e=e||[]).map(ie),o=t.map(ie),a=e.reduce(oe,{}),s=t.reduce(oe,{}),l=r.slice(),c=Object.create(null);let u,d,f,p,m,h,g;for(u=0,d=0;u<r.length;u++)f=r[u],Object.prototype.hasOwnProperty.call(s,f)?d++:(n.push({command:K.removeLayer,args:[f]}),l.splice(l.indexOf(f,d),1));for(u=0,d=0;u<o.length;u++)f=o[o.length-1-u],l[l.length-1-u]!==f&&(Object.prototype.hasOwnProperty.call(a,f)?(n.push({command:K.removeLayer,args:[f]}),l.splice(l.lastIndexOf(f,l.length-d),1)):d++,h=l[l.length-u],n.push({command:K.addLayer,args:[s[f],h]}),l.splice(l.length-u,0,f),c[f]=!0);for(u=0;u<o.length;u++)if(f=o[u],p=a[f],m=s[f],!c[f]&&!i(p,m))if(i(p.source,m.source)&&i(p["source-layer"],m["source-layer"])&&i(p.type,m.type)){for(g in re(p.layout,m.layout,n,f,null,K.setLayoutProperty),re(p.paint,m.paint,n,f,null,K.setPaintProperty),i(p.filter,m.filter)||n.push({command:K.setFilter,args:[f,m.filter]}),i(p.minzoom,m.minzoom)&&i(p.maxzoom,m.maxzoom)||n.push({command:K.setLayerZoomRange,args:[f,m.minzoom,m.maxzoom]}),p)Object.prototype.hasOwnProperty.call(p,g)&&"layout"!==g&&"paint"!==g&&"filter"!==g&&"metadata"!==g&&"minzoom"!==g&&"maxzoom"!==g&&(0===g.indexOf("paint.")?re(p[g],m[g],n,f,g.slice(6),K.setPaintProperty):i(p[g],m[g])||n.push({command:K.setLayerProperty,args:[f,g,m[g]]}));for(g in m)Object.prototype.hasOwnProperty.call(m,g)&&!Object.prototype.hasOwnProperty.call(p,g)&&"layout"!==g&&"paint"!==g&&"filter"!==g&&"metadata"!==g&&"minzoom"!==g&&"maxzoom"!==g&&(0===g.indexOf("paint.")?re(p[g],m[g],n,f,g.slice(6),K.setPaintProperty):i(p[g],m[g])||n.push({command:K.setLayerProperty,args:[f,g,m[g]]}))}else n.push({command:K.removeLayer,args:[f]}),h=l[l.lastIndexOf(f)+1],n.push({command:K.addLayer,args:[m,h]})}(a,t.layers,n)}catch(e){console.warn("Unable to compute style diff:",e),n=[{command:K.setStyle,args:[t]}]}return n}(this.serialize(),t).filter((e=>!(e.command in et)));if(0===n.length)return!1;const r=n.filter((e=>!(e.command in $e)));if(r.length>0)throw new Error(`Unimplemented: ${r.map((e=>e.command)).join(", ")}.`);return n.forEach((e=>{"setTransition"!==e.command&&this[e.command].apply(this,e.args)})),this.stylesheet=t,!0}addImage(t,n){if(this.getImage(t))return this.fire(new e.ErrorEvent(new Error(`An image named "${t}" already exists.`)));this.imageManager.addImage(t,n),this._afterImageUpdated(t)}updateImage(e,t){this.imageManager.updateImage(e,t)}getImage(e){return this.imageManager.getImage(e)}removeImage(t){if(!this.getImage(t))return this.fire(new e.ErrorEvent(new Error(`An image named "${t}" does not exist.`)));this.imageManager.removeImage(t),this._afterImageUpdated(t)}_afterImageUpdated(t){this._availableImages=this.imageManager.listImages(),this._changedImages[t]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new e.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(t,n,r={}){if(this._checkLoaded(),void 0!==this.sourceCaches[t])throw new Error(`Source "${t}" already exists.`);if(!n.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(n).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(n.type)>=0&&this._validate(e.validateStyle.source,`sources.${t}`,n,null,r))return;this.map&&this.map._collectResourceTiming&&(n.collectResourceTiming=!0);const i=this.sourceCaches[t]=new V(t,n,this.dispatcher);i.style=this,i.setEventedParent(this,(()=>({isSourceLoaded:this.loaded(),source:i.serialize(),sourceId:t}))),i.onAdd(this.map),this._changed=!0}removeSource(t){if(this._checkLoaded(),void 0===this.sourceCaches[t])throw new Error("There is no source with this ID");for(const n in this._layers)if(this._layers[n].source===t)return this.fire(new e.ErrorEvent(new Error(`Source "${t}" cannot be removed while layer "${n}" is using it.`)));const n=this.sourceCaches[t];delete this.sourceCaches[t],delete this._updatedSources[t],n.fire(new e.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:t})),n.setEventedParent(null),n.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(e,t){this._checkLoaded(),this.sourceCaches[e].getSource().setData(t),this._changed=!0}getSource(e){return this.sourceCaches[e]&&this.sourceCaches[e].getSource()}addLayer(t,n,r={}){this._checkLoaded();const i=t.id;if(this.getLayer(i))return void this.fire(new e.ErrorEvent(new Error(`Layer "${i}" already exists on this map.`)));let o;if("custom"===t.type){if(Ke(this,e.validateCustomStyleLayer(t)))return;o=e.createStyleLayer(t)}else{if("object"==typeof t.source&&(this.addSource(i,t.source),t=e.clone$1(t),t=e.extend(t,{source:i})),this._validate(e.validateStyle.layer,`layers.${i}`,t,{arrayIndex:-1},r))return;o=e.createStyleLayer(t),this._validateLayer(o),o.setEventedParent(this,{layer:{id:i}}),this._serializedLayers[o.id]=o.serialize()}const a=n?this._order.indexOf(n):this._order.length;if(n&&-1===a)this.fire(new e.ErrorEvent(new Error(`Cannot add layer "${i}" before non-existing layer "${n}".`)));else{if(this._order.splice(a,0,i),this._layerOrderChanged=!0,this._layers[i]=o,this._removedLayers[i]&&o.source&&"custom"!==o.type){const e=this._removedLayers[i];delete this._removedLayers[i],e.type!==o.type?this._updatedSources[o.source]="clear":(this._updatedSources[o.source]="reload",this.sourceCaches[o.source].pause())}this._updateLayer(o),o.onAdd&&o.onAdd(this.map)}}moveLayer(t,n){if(this._checkLoaded(),this._changed=!0,!this._layers[t])return void this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be moved.`)));if(t===n)return;const r=this._order.indexOf(t);this._order.splice(r,1);const i=n?this._order.indexOf(n):this._order.length;n&&-1===i?this.fire(new e.ErrorEvent(new Error(`Cannot move layer "${t}" before non-existing layer "${n}".`))):(this._order.splice(i,0,t),this._layerOrderChanged=!0)}removeLayer(t){this._checkLoaded();const n=this._layers[t];if(!n)return void this.fire(new e.ErrorEvent(new Error(`Cannot remove non-existing layer "${t}".`)));n.setEventedParent(null);const r=this._order.indexOf(t);this._order.splice(r,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=n,delete this._layers[t],delete this._serializedLayers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t],n.onRemove&&n.onRemove(this.map)}getLayer(e){return this._layers[e]}hasLayer(e){return e in this._layers}setLayerZoomRange(t,n,r){this._checkLoaded();const i=this.getLayer(t);i?i.minzoom===n&&i.maxzoom===r||(null!=n&&(i.minzoom=n),null!=r&&(i.maxzoom=r),this._updateLayer(i)):this.fire(new e.ErrorEvent(new Error(`Cannot set the zoom range of non-existing layer "${t}".`)))}setFilter(t,n,r={}){this._checkLoaded();const o=this.getLayer(t);if(o){if(!i(o.filter,n))return null==n?(o.filter=void 0,void this._updateLayer(o)):void(this._validate(e.validateStyle.filter,`layers.${o.id}.filter`,n,null,r)||(o.filter=e.clone$1(n),this._updateLayer(o)))}else this.fire(new e.ErrorEvent(new Error(`Cannot filter non-existing layer "${t}".`)))}getFilter(t){return e.clone$1(this.getLayer(t).filter)}setLayoutProperty(t,n,r,o={}){this._checkLoaded();const a=this.getLayer(t);a?i(a.getLayoutProperty(n),r)||(a.setLayoutProperty(n,r,o),this._updateLayer(a)):this.fire(new e.ErrorEvent(new Error(`Cannot style non-existing layer "${t}".`)))}getLayoutProperty(t,n){const r=this.getLayer(t);if(r)return r.getLayoutProperty(n);this.fire(new e.ErrorEvent(new Error(`Cannot get style of non-existing layer "${t}".`)))}setPaintProperty(t,n,r,o={}){this._checkLoaded();const a=this.getLayer(t);a?i(a.getPaintProperty(n),r)||(a.setPaintProperty(n,r,o)&&this._updateLayer(a),this._changed=!0,this._updatedPaintProps[t]=!0):this.fire(new e.ErrorEvent(new Error(`Cannot style non-existing layer "${t}".`)))}getPaintProperty(e,t){return this.getLayer(e).getPaintProperty(t)}setFeatureState(t,n){this._checkLoaded();const r=t.source,i=t.sourceLayer,o=this.sourceCaches[r];if(void 0===o)return void this.fire(new e.ErrorEvent(new Error(`The source '${r}' does not exist in the map's style.`)));const a=o.getSource().type;"geojson"===a&&i?this.fire(new e.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==a||i?(void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided."))),o.setFeatureState(i,t.id,n)):this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(t,n){this._checkLoaded();const r=t.source,i=this.sourceCaches[r];if(void 0===i)return void this.fire(new e.ErrorEvent(new Error(`The source '${r}' does not exist in the map's style.`)));const o=i.getSource().type,a="vector"===o?t.sourceLayer:void 0;"vector"!==o||a?n&&"string"!=typeof t.id&&"number"!=typeof t.id?this.fire(new e.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):i.removeFeatureState(a,t.id,n):this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(t){this._checkLoaded();const n=t.source,r=t.sourceLayer,i=this.sourceCaches[n];if(void 0!==i)return"vector"!==i.getSource().type||r?(void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided."))),i.getFeatureState(r,t.id)):void this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new e.ErrorEvent(new Error(`The source '${n}' does not exist in the map's style.`)))}getTransition(){return e.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){return e.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:e.mapObject(this.sourceCaches,(e=>e.serialize())),layers:this._serializeLayers(this._order)},(e=>void 0!==e))}_updateLayer(e){this._updatedLayers[e.id]=!0,e.source&&!this._updatedSources[e.source]&&"raster"!==this.sourceCaches[e.source].getSource().type&&(this._updatedSources[e.source]="reload",this.sourceCaches[e.source].pause()),this._changed=!0}_flattenAndSortRenderedFeatures(e){const t=e=>"fill-extrusion"===this._layers[e].type,n={},r=[];for(let i=this._order.length-1;i>=0;i--){const o=this._order[i];if(t(o)){n[o]=i;for(const t of e){const e=t[o];if(e)for(const t of e)r.push(t)}}}r.sort(((e,t)=>t.intersectionZ-e.intersectionZ));const i=[];for(let o=this._order.length-1;o>=0;o--){const a=this._order[o];if(t(a))for(let e=r.length-1;e>=0;e--){const t=r[e].feature;if(n[t.layer.id]<o)break;i.push(t),r.pop()}else for(const t of e){const e=t[a];if(e)for(const t of e)i.push(t.feature)}}return i}queryRenderedFeatures(t,n,r){n&&n.filter&&this._validate(e.validateStyle.filter,"queryRenderedFeatures.filter",n.filter,null,n);const i={};if(n&&n.layers){if(!Array.isArray(n.layers))return this.fire(new e.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const t of n.layers){const n=this._layers[t];if(!n)return this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be queried for features.`))),[];i[n.source]=!0}}const o=[];n.availableImages=this._availableImages;for(const e in this.sourceCaches)n.layers&&!i[e]||o.push(P(this.sourceCaches[e],this._layers,this._serializedLayers,t,n,r));return this.placement&&o.push(function(e,t,n,r,i,o,a){const s={},l=o.queryRenderedSymbols(r),c=[];for(const e of Object.keys(l).map(Number))c.push(a[e]);c.sort(B);for(const n of c){const r=n.featureIndex.lookupSymbolFeatures(l[n.bucketInstanceId],t,n.bucketIndex,n.sourceLayerIndex,i.filter,i.layers,i.availableImages,e);for(const e in r){const t=s[e]=s[e]||[],i=r[e];i.sort(((e,t)=>{const r=n.featureSortOrder;if(r){const n=r.indexOf(e.featureIndex);return r.indexOf(t.featureIndex)-n}return t.featureIndex-e.featureIndex}));for(const e of i)t.push(e)}}for(const t in s)s[t].forEach((r=>{const i=r.feature,o=n[e[t].source].getFeatureState(i.layer["source-layer"],i.id);i.source=i.layer.source,i.layer["source-layer"]&&(i.sourceLayer=i.layer["source-layer"]),i.state=o}));return s}(this._layers,this._serializedLayers,this.sourceCaches,t,n,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(o)}querySourceFeatures(t,n){n&&n.filter&&this._validate(e.validateStyle.filter,"querySourceFeatures.filter",n.filter,null,n);const r=this.sourceCaches[t];return r?function(e,t){const n=e.getRenderableIds().map((t=>e.getTileByID(t))),r=[],i={};for(let e=0;e<n.length;e++){const o=n[e],a=o.tileID.canonical.key;i[a]||(i[a]=!0,o.querySourceFeatures(r,t))}return r}(r,n):[]}addSourceType(e,t,n){return nt.getSourceType(e)?n(new Error(`A source type called "${e}" already exists.`)):(nt.setSourceType(e,t),t.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:e,url:t.workerSourceURL},n):n(null,null))}getLight(){return this.light.getLight()}setLight(t,n={}){this._checkLoaded();const r=this.light.getLight();let o=!1;for(const e in t)if(!i(t[e],r[e])){o=!0;break}if(!o)return;const a={now:e.exported.now(),transition:e.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(t,n),this.light.updateTransitions(a)}_validate(t,n,r,i,o={}){return(!o||!1!==o.validate)&&Ke(this,t.call(e.validateStyle,e.extend({key:n,style:this.serialize(),value:r,styleSpec:e.spec},i)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),e.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const e in this._layers)this._layers[e].setEventedParent(null);for(const e in this.sourceCaches){const t=this.sourceCaches[e];t.setEventedParent(null),t.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(e){this.sourceCaches[e].clearTiles()}_reloadSource(e){this.sourceCaches[e].resume(),this.sourceCaches[e].reload()}_updateSources(e){for(const t in this.sourceCaches)this.sourceCaches[t].update(e)}_generateCollisionBoxes(){for(const e in this.sourceCaches)this._reloadSource(e)}_updatePlacement(t,n,r,i,o=!1){let a=!1,s=!1;const l={};for(const e of this._order){const n=this._layers[e];if("symbol"!==n.type)continue;if(!l[n.source]){const e=this.sourceCaches[n.source];l[n.source]=e.getRenderableIds(!0).map((t=>e.getTileByID(t))).sort(((e,t)=>t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1)))}const r=this.crossTileSymbolIndex.addLayer(n,l[n.source],t.center.lng);a=a||r}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((o=o||this._layerOrderChanged||0===r)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(e.exported.now(),t.zoom))&&(this.pauseablePlacement=new Ye(t,this._order,o,n,r,i,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,l),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(e.exported.now()),s=!0),a&&this.pauseablePlacement.placement.setStale()),s||a)for(const e of this._order){const t=this._layers[e];"symbol"===t.type&&this.placement.updateLayerOpacities(t,l[t.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(e.exported.now())}_releaseSymbolFadeTiles(){for(const e in this.sourceCaches)this.sourceCaches[e].releaseSymbolFadeTiles()}getImages(e,t,n){this.imageManager.getImages(t.icons,n),this._updateTilesForChangedImages();const r=this.sourceCaches[t.source];r&&r.setDependencies(t.tileID.key,t.type,t.icons)}getGlyphs(e,t,n){this.glyphManager.getGlyphs(t.stacks,n)}getResource(t,n,r){return e.makeRequest(n,r)}}nt.getSourceType=function(e){return R[e]},nt.setSourceType=function(e,t){R[e]=t},nt.registerForPluginStateChange=e.registerForPluginStateChange;var rt=e.createLayout([{name:"a_pos",type:"Int16",components:2}]),it={prelude:ot("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),background:ot("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:ot("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:ot("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),clippingMask:ot("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:ot("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),heatmapTexture:ot("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:ot("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:ot("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:ot("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),fill:ot("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),fillOutline:ot("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),fillOutlinePattern:ot("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),fillPattern:ot("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),fillExtrusion:ot("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),fillExtrusionPattern:ot("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),hillshadePrepare:ot("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:ot("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:ot("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),lineGradient:ot("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),linePattern:ot("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),lineSDF:ot("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),raster:ot("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:ot("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),symbolSDF:ot("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),symbolTextAndIcon:ot("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}")};function ot(e,t){const n=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,r=t.match(/attribute ([\w]+) ([\w]+)/g),i=e.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),o=t.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),a=o?o.concat(i):i,s={};return{fragmentSource:e=e.replace(n,((e,t,n,r,i)=>(s[i]=!0,"define"===t?`\n#ifndef HAS_UNIFORM_u_${i}\nvarying ${n} ${r} ${i};\n#else\nuniform ${n} ${r} u_${i};\n#endif\n`:`\n#ifdef HAS_UNIFORM_u_${i}\n    ${n} ${r} ${i} = u_${i};\n#endif\n`))),vertexSource:t=t.replace(n,((e,t,n,r,i)=>{const o="float"===r?"vec2":"vec4",a=i.match(/color/)?"color":o;return s[i]?"define"===t?`\n#ifndef HAS_UNIFORM_u_${i}\nuniform lowp float u_${i}_t;\nattribute ${n} ${o} a_${i};\nvarying ${n} ${r} ${i};\n#else\nuniform ${n} ${r} u_${i};\n#endif\n`:"vec4"===a?`\n#ifndef HAS_UNIFORM_u_${i}\n    ${i} = a_${i};\n#else\n    ${n} ${r} ${i} = u_${i};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${i}\n    ${i} = unpack_mix_${a}(a_${i}, u_${i}_t);\n#else\n    ${n} ${r} ${i} = u_${i};\n#endif\n`:"define"===t?`\n#ifndef HAS_UNIFORM_u_${i}\nuniform lowp float u_${i}_t;\nattribute ${n} ${o} a_${i};\n#else\nuniform ${n} ${r} u_${i};\n#endif\n`:"vec4"===a?`\n#ifndef HAS_UNIFORM_u_${i}\n    ${n} ${r} ${i} = a_${i};\n#else\n    ${n} ${r} ${i} = u_${i};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${i}\n    ${n} ${r} ${i} = unpack_mix_${a}(a_${i}, u_${i}_t);\n#else\n    ${n} ${r} ${i} = u_${i};\n#endif\n`})),staticAttributes:r,staticUniforms:a}}class at{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(e,t,n,r,i,o,a,s){this.context=e;let l=this.boundPaintVertexBuffers.length!==r.length;for(let e=0;!l&&e<r.length;e++)this.boundPaintVertexBuffers[e]!==r[e]&&(l=!0);e.extVertexArrayObject&&this.vao&&this.boundProgram===t&&this.boundLayoutVertexBuffer===n&&!l&&this.boundIndexBuffer===i&&this.boundVertexOffset===o&&this.boundDynamicVertexBuffer===a&&this.boundDynamicVertexBuffer2===s?(e.bindVertexArrayOES.set(this.vao),a&&a.bind(),i&&i.dynamicDraw&&i.bind(),s&&s.bind()):this.freshBind(t,n,r,i,o,a,s)}freshBind(e,t,n,r,i,o,a){let s;const l=e.numAttributes,c=this.context,u=c.gl;if(c.extVertexArrayObject)this.vao&&this.destroy(),this.vao=c.extVertexArrayObject.createVertexArrayOES(),c.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=n,this.boundIndexBuffer=r,this.boundVertexOffset=i,this.boundDynamicVertexBuffer=o,this.boundDynamicVertexBuffer2=a;else{s=c.currentNumAttributes||0;for(let e=l;e<s;e++)u.disableVertexAttribArray(e)}t.enableAttributes(u,e);for(const t of n)t.enableAttributes(u,e);o&&o.enableAttributes(u,e),a&&a.enableAttributes(u,e),t.bind(),t.setVertexAttribPointers(u,e,i);for(const t of n)t.bind(),t.setVertexAttribPointers(u,e,i);o&&(o.bind(),o.setVertexAttribPointers(u,e,i)),r&&r.bind(),a&&(a.bind(),a.setVertexAttribPointers(u,e,i)),c.currentNumAttributes=l}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function st(e){const t=[];for(let n=0;n<e.length;n++){if(null===e[n])continue;const r=e[n].split(" ");t.push(r.pop())}return t}class lt{constructor(e,t,n,r,i,o){const a=e.gl;this.program=a.createProgram();const s=st(n.staticAttributes),l=r?r.getBinderAttributes():[],c=s.concat(l),u=n.staticUniforms?st(n.staticUniforms):[],d=r?r.getBinderUniforms():[],f=u.concat(d),p=[];for(const e of f)p.indexOf(e)<0&&p.push(e);const m=r?r.defines():[];o&&m.push("#define OVERDRAW_INSPECTOR;");const h=m.concat(it.prelude.fragmentSource,n.fragmentSource).join("\n"),g=m.concat(it.prelude.vertexSource,n.vertexSource).join("\n"),y=a.createShader(a.FRAGMENT_SHADER);if(a.isContextLost())return void(this.failedToCreate=!0);a.shaderSource(y,h),a.compileShader(y),a.attachShader(this.program,y);const v=a.createShader(a.VERTEX_SHADER);if(a.isContextLost())return void(this.failedToCreate=!0);a.shaderSource(v,g),a.compileShader(v),a.attachShader(this.program,v),this.attributes={};const b={};this.numAttributes=c.length;for(let e=0;e<this.numAttributes;e++)c[e]&&(a.bindAttribLocation(this.program,e,c[e]),this.attributes[c[e]]=e);a.linkProgram(this.program),a.deleteShader(v),a.deleteShader(y);for(let e=0;e<p.length;e++){const t=p[e];if(t&&!b[t]){const e=a.getUniformLocation(this.program,t);e&&(b[t]=e)}}this.fixedUniforms=i(e,b),this.binderUniforms=r?r.getUniforms(e,b):[]}draw(e,t,n,r,i,o,a,s,l,c,u,d,f,p,m,h){const g=e.gl;if(this.failedToCreate)return;e.program.set(this.program),e.setDepthMode(n),e.setStencilMode(r),e.setColorMode(i),e.setCullFace(o);for(const e in this.fixedUniforms)this.fixedUniforms[e].set(a[e]);p&&p.setUniforms(e,this.binderUniforms,d,{zoom:f});const y={[g.LINES]:2,[g.TRIANGLES]:3,[g.LINE_STRIP]:1}[t];for(const n of u.get()){const r=n.vaos||(n.vaos={});(r[s]||(r[s]=new at)).bind(e,this,l,p?p.getPaintVertexBuffers():[],c,n.vertexOffset,m,h),g.drawElements(t,n.primitiveLength*y,g.UNSIGNED_SHORT,n.primitiveOffset*y*2)}}}function ct(e,t,n){const r=1/Oe(n,1,t.transform.tileZoom),i=Math.pow(2,n.tileID.overscaledZ),o=n.tileSize*Math.pow(2,t.transform.tileZoom)/i,a=o*(n.tileID.canonical.x+n.tileID.wrap*i),s=o*n.tileID.canonical.y;return{u_image:0,u_texsize:n.imageAtlasTexture.size,u_scale:[r,e.fromScale,e.toScale],u_fade:e.t,u_pixel_coord_upper:[a>>16,s>>16],u_pixel_coord_lower:[65535&a,65535&s]}}const ut=(t,n,r,i)=>{const o=n.style.light,a=o.properties.get("position"),s=[a.x,a.y,a.z],l=function(){var t=new e.ARRAY_TYPE(9);return e.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}();"viewport"===o.properties.get("anchor")&&function(e,t){var n=Math.sin(t),r=Math.cos(t);e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1}(l,-n.transform.angle),function(e,t,n){var r=t[0],i=t[1],o=t[2];e[0]=r*n[0]+i*n[3]+o*n[6],e[1]=r*n[1]+i*n[4]+o*n[7],e[2]=r*n[2]+i*n[5]+o*n[8]}(s,s,l);const c=o.properties.get("color");return{u_matrix:t,u_lightpos:s,u_lightintensity:o.properties.get("intensity"),u_lightcolor:[c.r,c.g,c.b],u_vertical_gradient:+r,u_opacity:i}},dt=(t,n,r,i,o,a,s)=>e.extend(ut(t,n,r,i),ct(a,n,s),{u_height_factor:-Math.pow(2,o.overscaledZ)/s.tileSize/8}),ft=e=>({u_matrix:e}),pt=(t,n,r,i)=>e.extend(ft(t),ct(r,n,i)),mt=(e,t)=>({u_matrix:e,u_world:t}),ht=(t,n,r,i,o)=>e.extend(pt(t,n,r,i),{u_world:o}),gt=(e,t,n,r)=>{const i=e.transform;let o,a;if("map"===r.paint.get("circle-pitch-alignment")){const e=Oe(n,1,i.zoom);o=!0,a=[e,e]}else o=!1,a=i.pixelsToGLUnits;return{u_camera_to_center_distance:i.cameraToCenterDistance,u_scale_with_map:+("map"===r.paint.get("circle-pitch-scale")),u_matrix:e.translatePosMatrix(t.posMatrix,n,r.paint.get("circle-translate"),r.paint.get("circle-translate-anchor")),u_pitch_with_map:+o,u_device_pixel_ratio:e.pixelRatio,u_extrude_scale:a}},yt=(e,t,n)=>{const r=Oe(n,1,t.zoom),i=Math.pow(2,t.zoom-n.tileID.overscaledZ),o=n.tileID.overscaleFactor();return{u_matrix:e,u_camera_to_center_distance:t.cameraToCenterDistance,u_pixels_to_tile_units:r,u_extrude_scale:[t.pixelsToGLUnits[0]/(r*i),t.pixelsToGLUnits[1]/(r*i)],u_overscale_factor:o}},vt=(e,t,n=1)=>({u_matrix:e,u_color:t,u_overlay:0,u_overlay_scale:n}),bt=e=>({u_matrix:e}),wt=(e,t,n,r)=>({u_matrix:e,u_extrude_scale:Oe(t,1,n),u_intensity:r});function xt(t,n){const r=Math.pow(2,n.canonical.z),i=n.canonical.y;return[new e.MercatorCoordinate(0,i/r).toLngLat().lat,new e.MercatorCoordinate(0,(i+1)/r).toLngLat().lat]}const Et=(e,t,n)=>{const r=e.transform;return{u_matrix:Tt(e,t,n),u_ratio:1/Oe(t,1,r.zoom),u_device_pixel_ratio:e.pixelRatio,u_units_to_pixels:[1/r.pixelsToGLUnits[0],1/r.pixelsToGLUnits[1]]}},_t=(t,n,r,i)=>e.extend(Et(t,n,r),{u_image:0,u_image_height:i}),At=(e,t,n,r)=>{const i=e.transform,o=St(t,i);return{u_matrix:Tt(e,t,n),u_texsize:t.imageAtlasTexture.size,u_ratio:1/Oe(t,1,i.zoom),u_device_pixel_ratio:e.pixelRatio,u_image:0,u_scale:[o,r.fromScale,r.toScale],u_fade:r.t,u_units_to_pixels:[1/i.pixelsToGLUnits[0],1/i.pixelsToGLUnits[1]]}},Ot=(t,n,r,i,o)=>{const a=t.lineAtlas,s=St(n,t.transform),l="round"===r.layout.get("line-cap"),c=a.getDash(i.from,l),u=a.getDash(i.to,l),d=c.width*o.fromScale,f=u.width*o.toScale;return e.extend(Et(t,n,r),{u_patternscale_a:[s/d,-c.height/2],u_patternscale_b:[s/f,-u.height/2],u_sdfgamma:a.width/(256*Math.min(d,f)*t.pixelRatio)/2,u_image:0,u_tex_y_a:c.y,u_tex_y_b:u.y,u_mix:o.t})};function St(e,t){return 1/Oe(e,1,t.tileZoom)}function Tt(e,t,n){return e.translatePosMatrix(t.tileID.posMatrix,t,n.paint.get("line-translate"),n.paint.get("line-translate-anchor"))}const It=(e,t,n,r,i)=>{return{u_matrix:e,u_tl_parent:t,u_scale_parent:n,u_buffer_scale:1,u_fade_t:r.mix,u_opacity:r.opacity*i.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:i.paint.get("raster-brightness-min"),u_brightness_high:i.paint.get("raster-brightness-max"),u_saturation_factor:(a=i.paint.get("raster-saturation"),a>0?1-1/(1.001-a):-a),u_contrast_factor:(o=i.paint.get("raster-contrast"),o>0?1/(1-o):1+o),u_spin_weights:kt(i.paint.get("raster-hue-rotate"))};var o,a};function kt(e){e*=Math.PI/180;const t=Math.sin(e),n=Math.cos(e);return[(2*n+1)/3,(-Math.sqrt(3)*t-n+1)/3,(Math.sqrt(3)*t-n+1)/3]}const Ct=(e,t,n,r,i,o,a,s,l,c)=>{const u=i.transform;return{u_is_size_zoom_constant:+("constant"===e||"source"===e),u_is_size_feature_constant:+("constant"===e||"camera"===e),u_size_t:t?t.uSizeT:0,u_size:t?t.uSize:0,u_camera_to_center_distance:u.cameraToCenterDistance,u_pitch:u.pitch/360*2*Math.PI,u_rotate_symbol:+n,u_aspect_ratio:u.width/u.height,u_fade_change:i.options.fadeDuration?i.symbolFadeChange:1,u_matrix:o,u_label_plane_matrix:a,u_coord_matrix:s,u_is_text:+l,u_pitch_with_map:+r,u_texsize:c,u_texture:0}},Mt=(t,n,r,i,o,a,s,l,c,u,d)=>{const f=o.transform;return e.extend(Ct(t,n,r,i,o,a,s,l,c,u),{u_gamma_scale:i?Math.cos(f._pitch)*f.cameraToCenterDistance:1,u_device_pixel_ratio:o.pixelRatio,u_is_halo:+d})},Nt=(t,n,r,i,o,a,s,l,c,u)=>e.extend(Mt(t,n,r,i,o,a,s,l,!0,c,!0),{u_texsize_icon:u,u_texture_icon:1}),jt=(e,t,n)=>({u_matrix:e,u_opacity:t,u_color:n}),Lt=(t,n,r,i,o,a)=>e.extend(function(e,t,n,r){const i=n.imageManager.getPattern(e.from.toString()),o=n.imageManager.getPattern(e.to.toString()),{width:a,height:s}=n.imageManager.getPixelSize(),l=Math.pow(2,r.tileID.overscaledZ),c=r.tileSize*Math.pow(2,n.transform.tileZoom)/l,u=c*(r.tileID.canonical.x+r.tileID.wrap*l),d=c*r.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:i.tl,u_pattern_br_a:i.br,u_pattern_tl_b:o.tl,u_pattern_br_b:o.br,u_texsize:[a,s],u_mix:t.t,u_pattern_size_a:i.displaySize,u_pattern_size_b:o.displaySize,u_scale_a:t.fromScale,u_scale_b:t.toScale,u_tile_units_to_pixels:1/Oe(r,1,n.transform.tileZoom),u_pixel_coord_upper:[u>>16,d>>16],u_pixel_coord_lower:[65535&u,65535&d]}}(i,a,r,o),{u_matrix:t,u_opacity:n}),Rt={fillExtrusion:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_lightpos:new e.Uniform3f(t,n.u_lightpos),u_lightintensity:new e.Uniform1f(t,n.u_lightintensity),u_lightcolor:new e.Uniform3f(t,n.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,n.u_vertical_gradient),u_opacity:new e.Uniform1f(t,n.u_opacity)}),fillExtrusionPattern:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_lightpos:new e.Uniform3f(t,n.u_lightpos),u_lightintensity:new e.Uniform1f(t,n.u_lightintensity),u_lightcolor:new e.Uniform3f(t,n.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,n.u_vertical_gradient),u_height_factor:new e.Uniform1f(t,n.u_height_factor),u_image:new e.Uniform1i(t,n.u_image),u_texsize:new e.Uniform2f(t,n.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade),u_opacity:new e.Uniform1f(t,n.u_opacity)}),fill:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}),fillPattern:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_image:new e.Uniform1i(t,n.u_image),u_texsize:new e.Uniform2f(t,n.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade)}),fillOutline:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_world:new e.Uniform2f(t,n.u_world)}),fillOutlinePattern:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_world:new e.Uniform2f(t,n.u_world),u_image:new e.Uniform1i(t,n.u_image),u_texsize:new e.Uniform2f(t,n.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade)}),circle:(t,n)=>({u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_scale_with_map:new e.Uniform1i(t,n.u_scale_with_map),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_extrude_scale:new e.Uniform2f(t,n.u_extrude_scale),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}),collisionBox:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pixels_to_tile_units:new e.Uniform1f(t,n.u_pixels_to_tile_units),u_extrude_scale:new e.Uniform2f(t,n.u_extrude_scale),u_overscale_factor:new e.Uniform1f(t,n.u_overscale_factor)}),collisionCircle:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_inv_matrix:new e.UniformMatrix4f(t,n.u_inv_matrix),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_viewport_size:new e.Uniform2f(t,n.u_viewport_size)}),debug:(t,n)=>({u_color:new e.UniformColor(t,n.u_color),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_overlay:new e.Uniform1i(t,n.u_overlay),u_overlay_scale:new e.Uniform1f(t,n.u_overlay_scale)}),clippingMask:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}),heatmap:(t,n)=>({u_extrude_scale:new e.Uniform1f(t,n.u_extrude_scale),u_intensity:new e.Uniform1f(t,n.u_intensity),u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}),heatmapTexture:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_world:new e.Uniform2f(t,n.u_world),u_image:new e.Uniform1i(t,n.u_image),u_color_ramp:new e.Uniform1i(t,n.u_color_ramp),u_opacity:new e.Uniform1f(t,n.u_opacity)}),hillshade:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_image:new e.Uniform1i(t,n.u_image),u_latrange:new e.Uniform2f(t,n.u_latrange),u_light:new e.Uniform2f(t,n.u_light),u_shadow:new e.UniformColor(t,n.u_shadow),u_highlight:new e.UniformColor(t,n.u_highlight),u_accent:new e.UniformColor(t,n.u_accent)}),hillshadePrepare:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_image:new e.Uniform1i(t,n.u_image),u_dimension:new e.Uniform2f(t,n.u_dimension),u_zoom:new e.Uniform1f(t,n.u_zoom),u_unpack:new e.Uniform4f(t,n.u_unpack)}),line:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_ratio:new e.Uniform1f(t,n.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,n.u_units_to_pixels)}),lineGradient:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_ratio:new e.Uniform1f(t,n.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,n.u_units_to_pixels),u_image:new e.Uniform1i(t,n.u_image),u_image_height:new e.Uniform1f(t,n.u_image_height)}),linePattern:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_texsize:new e.Uniform2f(t,n.u_texsize),u_ratio:new e.Uniform1f(t,n.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_image:new e.Uniform1i(t,n.u_image),u_units_to_pixels:new e.Uniform2f(t,n.u_units_to_pixels),u_scale:new e.Uniform3f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade)}),lineSDF:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_ratio:new e.Uniform1f(t,n.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,n.u_units_to_pixels),u_patternscale_a:new e.Uniform2f(t,n.u_patternscale_a),u_patternscale_b:new e.Uniform2f(t,n.u_patternscale_b),u_sdfgamma:new e.Uniform1f(t,n.u_sdfgamma),u_image:new e.Uniform1i(t,n.u_image),u_tex_y_a:new e.Uniform1f(t,n.u_tex_y_a),u_tex_y_b:new e.Uniform1f(t,n.u_tex_y_b),u_mix:new e.Uniform1f(t,n.u_mix)}),raster:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_tl_parent:new e.Uniform2f(t,n.u_tl_parent),u_scale_parent:new e.Uniform1f(t,n.u_scale_parent),u_buffer_scale:new e.Uniform1f(t,n.u_buffer_scale),u_fade_t:new e.Uniform1f(t,n.u_fade_t),u_opacity:new e.Uniform1f(t,n.u_opacity),u_image0:new e.Uniform1i(t,n.u_image0),u_image1:new e.Uniform1i(t,n.u_image1),u_brightness_low:new e.Uniform1f(t,n.u_brightness_low),u_brightness_high:new e.Uniform1f(t,n.u_brightness_high),u_saturation_factor:new e.Uniform1f(t,n.u_saturation_factor),u_contrast_factor:new e.Uniform1f(t,n.u_contrast_factor),u_spin_weights:new e.Uniform3f(t,n.u_spin_weights)}),symbolIcon:(t,n)=>({u_is_size_zoom_constant:new e.Uniform1i(t,n.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,n.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,n.u_size_t),u_size:new e.Uniform1f(t,n.u_size),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,n.u_pitch),u_rotate_symbol:new e.Uniform1i(t,n.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,n.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,n.u_fade_change),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,n.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,n.u_coord_matrix),u_is_text:new e.Uniform1i(t,n.u_is_text),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_texsize:new e.Uniform2f(t,n.u_texsize),u_texture:new e.Uniform1i(t,n.u_texture)}),symbolSDF:(t,n)=>({u_is_size_zoom_constant:new e.Uniform1i(t,n.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,n.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,n.u_size_t),u_size:new e.Uniform1f(t,n.u_size),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,n.u_pitch),u_rotate_symbol:new e.Uniform1i(t,n.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,n.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,n.u_fade_change),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,n.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,n.u_coord_matrix),u_is_text:new e.Uniform1i(t,n.u_is_text),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_texsize:new e.Uniform2f(t,n.u_texsize),u_texture:new e.Uniform1i(t,n.u_texture),u_gamma_scale:new e.Uniform1f(t,n.u_gamma_scale),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_is_halo:new e.Uniform1i(t,n.u_is_halo)}),symbolTextAndIcon:(t,n)=>({u_is_size_zoom_constant:new e.Uniform1i(t,n.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,n.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,n.u_size_t),u_size:new e.Uniform1f(t,n.u_size),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,n.u_pitch),u_rotate_symbol:new e.Uniform1i(t,n.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,n.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,n.u_fade_change),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,n.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,n.u_coord_matrix),u_is_text:new e.Uniform1i(t,n.u_is_text),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_texsize:new e.Uniform2f(t,n.u_texsize),u_texsize_icon:new e.Uniform2f(t,n.u_texsize_icon),u_texture:new e.Uniform1i(t,n.u_texture),u_texture_icon:new e.Uniform1i(t,n.u_texture_icon),u_gamma_scale:new e.Uniform1f(t,n.u_gamma_scale),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_is_halo:new e.Uniform1i(t,n.u_is_halo)}),background:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_opacity:new e.Uniform1f(t,n.u_opacity),u_color:new e.UniformColor(t,n.u_color)}),backgroundPattern:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_opacity:new e.Uniform1f(t,n.u_opacity),u_image:new e.Uniform1i(t,n.u_image),u_pattern_tl_a:new e.Uniform2f(t,n.u_pattern_tl_a),u_pattern_br_a:new e.Uniform2f(t,n.u_pattern_br_a),u_pattern_tl_b:new e.Uniform2f(t,n.u_pattern_tl_b),u_pattern_br_b:new e.Uniform2f(t,n.u_pattern_br_b),u_texsize:new e.Uniform2f(t,n.u_texsize),u_mix:new e.Uniform1f(t,n.u_mix),u_pattern_size_a:new e.Uniform2f(t,n.u_pattern_size_a),u_pattern_size_b:new e.Uniform2f(t,n.u_pattern_size_b),u_scale_a:new e.Uniform1f(t,n.u_scale_a),u_scale_b:new e.Uniform1f(t,n.u_scale_b),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_tile_units_to_pixels:new e.Uniform1f(t,n.u_tile_units_to_pixels)})};class Dt{constructor(e,t,n){this.context=e;const r=e.gl;this.buffer=r.createBuffer(),this.dynamicDraw=Boolean(n),this.context.unbindVAO(),e.bindElementBuffer.set(this.buffer),r.bufferData(r.ELEMENT_ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(e){const t=this.context.gl;this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Pt={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Bt{constructor(e,t,n,r){this.length=t.length,this.attributes=n,this.itemSize=t.bytesPerElement,this.dynamicDraw=r,this.context=e;const i=e.gl;this.buffer=i.createBuffer(),e.bindVertexBuffer.set(this.buffer),i.bufferData(i.ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(e){const t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer)}enableAttributes(e,t){for(let n=0;n<this.attributes.length;n++){const r=t.attributes[this.attributes[n].name];void 0!==r&&e.enableVertexAttribArray(r)}}setVertexAttribPointers(e,t,n){for(let r=0;r<this.attributes.length;r++){const i=this.attributes[r],o=t.attributes[i.name];void 0!==o&&e.vertexAttribPointer(o,i.components,e[Pt[i.type]],!1,this.itemSize,i.offset+this.itemSize*(n||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class Ft{constructor(e){this.gl=e.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(e){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Ut extends Ft{getDefault(){return e.Color.transparent}set(e){const t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}class zt extends Ft{getDefault(){return 1}set(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1)}}class Vt extends Ft{getDefault(){return 0}set(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1)}}class Gt extends Ft{getDefault(){return[!0,!0,!0,!0]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}class Ht extends Ft{getDefault(){return!0}set(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1)}}class Wt extends Ft{getDefault(){return 255}set(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1)}}class Yt extends Ft{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(e){const t=this.current;(e.func!==t.func||e.ref!==t.ref||e.mask!==t.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1)}}class Qt extends Ft{getDefault(){const e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1)}}class Zt extends Ft{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1}}class Xt extends Ft{getDefault(){return[0,1]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1)}}class Jt extends Ft{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1}}class qt extends Ft{getDefault(){return this.gl.LESS}set(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1)}}class Kt extends Ft{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1}}class $t extends Ft{getDefault(){const e=this.gl;return[e.ONE,e.ZERO]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1)}}class en extends Ft{getDefault(){return e.Color.transparent}set(e){const t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}class tn extends Ft{getDefault(){return this.gl.FUNC_ADD}set(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1)}}class nn extends Ft{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1}}class rn extends Ft{getDefault(){return this.gl.BACK}set(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1)}}class on extends Ft{getDefault(){return this.gl.CCW}set(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1)}}class an extends Ft{getDefault(){return null}set(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1)}}class sn extends Ft{getDefault(){return this.gl.TEXTURE0}set(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1)}}class ln extends Ft{getDefault(){const e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}class cn extends Ft{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1}}class un extends Ft{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}class dn extends Ft{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1}}class fn extends Ft{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}class pn extends Ft{getDefault(){return null}set(e){const t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}class mn extends Ft{constructor(e){super(e),this.vao=e.extVertexArrayObject}getDefault(){return null}set(e){this.vao&&(e!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(e),this.current=e,this.dirty=!1)}}class hn extends Ft{getDefault(){return 4}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1}}class gn extends Ft{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1}}class yn extends Ft{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1}}class vn extends Ft{constructor(e,t){super(e),this.context=e,this.parent=t}getDefault(){return null}}class bn extends vn{setDirty(){this.dirty=!0}set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}}class wn extends vn{set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}class xn{constructor(e,t,n,r){this.context=e,this.width=t,this.height=n;const i=this.framebuffer=e.gl.createFramebuffer();this.colorAttachment=new bn(e,i),r&&(this.depthAttachment=new wn(e,i))}destroy(){const e=this.context.gl,t=this.colorAttachment.get();if(t&&e.deleteTexture(t),this.depthAttachment){const t=this.depthAttachment.get();t&&e.deleteRenderbuffer(t)}e.deleteFramebuffer(this.framebuffer)}}class En{constructor(e,t,n){this.blendFunction=e,this.blendColor=t,this.mask=n}}En.Replace=[1,0],En.disabled=new En(En.Replace,e.Color.transparent,[!1,!1,!1,!1]),En.unblended=new En(En.Replace,e.Color.transparent,[!0,!0,!0,!0]),En.alphaBlended=new En([1,771],e.Color.transparent,[!0,!0,!0,!0]);class _n{constructor(e){this.gl=e,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Ut(this),this.clearDepth=new zt(this),this.clearStencil=new Vt(this),this.colorMask=new Gt(this),this.depthMask=new Ht(this),this.stencilMask=new Wt(this),this.stencilFunc=new Yt(this),this.stencilOp=new Qt(this),this.stencilTest=new Zt(this),this.depthRange=new Xt(this),this.depthTest=new Jt(this),this.depthFunc=new qt(this),this.blend=new Kt(this),this.blendFunc=new $t(this),this.blendColor=new en(this),this.blendEquation=new tn(this),this.cullFace=new nn(this),this.cullFaceSide=new rn(this),this.frontFace=new on(this),this.program=new an(this),this.activeTexture=new sn(this),this.viewport=new ln(this),this.bindFramebuffer=new cn(this),this.bindRenderbuffer=new un(this),this.bindTexture=new dn(this),this.bindVertexBuffer=new fn(this),this.bindElementBuffer=new pn(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new mn(this),this.pixelStoreUnpack=new hn(this),this.pixelStoreUnpackPremultiplyAlpha=new gn(this),this.pixelStoreUnpackFlipY=new yn(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=e.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(e.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=e.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=e.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(e,t){return new Dt(this,e,t)}createVertexBuffer(e,t,n){return new Bt(this,e,t,n)}createRenderbuffer(e,t,n){const r=this.gl,i=r.createRenderbuffer();return this.bindRenderbuffer.set(i),r.renderbufferStorage(r.RENDERBUFFER,e,t,n),this.bindRenderbuffer.set(null),i}createFramebuffer(e,t,n){return new xn(this,e,t,n)}clear({color:e,depth:t}){const n=this.gl;let r=0;e&&(r|=n.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==t&&(r|=n.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(t),this.depthMask.set(!0)),n.clear(r)}setCullFace(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace))}setDepthMode(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)}setStencilMode(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)}setColorMode(e){i(e.blendFunction,En.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e.blendFunction),this.blendColor.set(e.blendColor)),this.colorMask.set(e.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class An{constructor(e,t,n){this.func=e,this.mask=t,this.range=n}}An.ReadOnly=!1,An.ReadWrite=!0,An.disabled=new An(519,An.ReadOnly,[0,1]);const On=7680;class Sn{constructor(e,t,n,r,i,o){this.test=e,this.ref=t,this.mask=n,this.fail=r,this.depthFail=i,this.pass=o}}Sn.disabled=new Sn({func:519,mask:0},0,0,On,On,On);class Tn{constructor(e,t,n){this.enable=e,this.mode=t,this.frontFace=n}}let In;function kn(t,n,r,i,o,a,s){const l=t.context,c=l.gl,u=t.useProgram("collisionBox"),d=[];let f=0,p=0;for(let m=0;m<i.length;m++){const h=i[m],g=n.getTile(h),y=g.getBucket(r);if(!y)continue;let v=h.posMatrix;0===o[0]&&0===o[1]||(v=t.translatePosMatrix(h.posMatrix,g,o,a));const b=s?y.textCollisionBox:y.iconCollisionBox,w=y.collisionCircleArray;if(w.length>0){const n=e.create(),r=v;e.mul(n,y.placementInvProjMatrix,t.transform.glCoordMatrix),e.mul(n,n,y.placementViewportMatrix),d.push({circleArray:w,circleOffset:p,transform:r,invTransform:n}),f+=w.length/4,p=f}b&&u.draw(l,c.LINES,An.disabled,Sn.disabled,t.colorModeForRenderPass(),Tn.disabled,yt(v,t.transform,g),r.id,b.layoutVertexBuffer,b.indexBuffer,b.segments,null,t.transform.zoom,null,null,b.collisionVertexBuffer)}if(!s||!d.length)return;const m=t.useProgram("collisionCircle"),h=new e.CollisionCircleLayoutArray;h.resize(4*f),h._trim();let g=0;for(const e of d)for(let t=0;t<e.circleArray.length/4;t++){const n=4*t,r=e.circleArray[n+0],i=e.circleArray[n+1],o=e.circleArray[n+2],a=e.circleArray[n+3];h.emplace(g++,r,i,o,a,0),h.emplace(g++,r,i,o,a,1),h.emplace(g++,r,i,o,a,2),h.emplace(g++,r,i,o,a,3)}(!In||In.length<2*f)&&(In=function(t){const n=2*t,r=new e.QuadTriangleArray;r.resize(n),r._trim();for(let e=0;e<n;e++){const t=6*e;r.uint16[t+0]=4*e+0,r.uint16[t+1]=4*e+1,r.uint16[t+2]=4*e+2,r.uint16[t+3]=4*e+2,r.uint16[t+4]=4*e+3,r.uint16[t+5]=4*e+0}return r}(f));const y=l.createIndexBuffer(In,!0),v=l.createVertexBuffer(h,e.collisionCircleLayout.members,!0);for(const n of d){const i={u_matrix:n.transform,u_inv_matrix:n.invTransform,u_camera_to_center_distance:(b=t.transform).cameraToCenterDistance,u_viewport_size:[b.width,b.height]};m.draw(l,c.TRIANGLES,An.disabled,Sn.disabled,t.colorModeForRenderPass(),Tn.disabled,i,r.id,v,y,e.SegmentVector.simpleSegment(0,2*n.circleOffset,n.circleArray.length,n.circleArray.length/2),null,t.transform.zoom,null,null,null)}var b;v.destroy(),y.destroy()}Tn.disabled=new Tn(!1,1029,2305),Tn.backCCW=new Tn(!0,1029,2305);const Cn=e.identity(new Float32Array(16));function Mn(t,n,r,i,o,a){const{horizontalAlign:s,verticalAlign:l}=e.getAnchorAlignment(t),c=-(s-.5)*n,u=-(l-.5)*r,d=e.evaluateVariableOffset(t,i);return new e.pointGeometry((c/o+d[0])*a,(u/o+d[1])*a)}function Nn(t,n,r,i,o,a,s,l,c,u){const d=t.text.placedSymbolArray,f=t.text.dynamicLayoutVertexArray,p=t.icon.dynamicLayoutVertexArray,m={};f.clear();for(let p=0;p<d.length;p++){const h=d.get(p),g=t.allowVerticalPlacement&&!h.placedOrientation,y=h.hidden||!h.crossTileID||g?null:i[h.crossTileID];if(y){const i=new e.pointGeometry(h.anchorX,h.anchorY),d=de(i,r?s:a),p=fe(o.cameraToCenterDistance,d.signedDistanceFromCamera);let g=e.evaluateSizeForFeature(t.textSizeData,c,h)*p/e.ONE_EM;r&&(g*=t.tilePixelRatio/l);const{width:v,height:b,anchor:w,textOffset:x,textBoxScale:E}=y,_=Mn(w,v,b,x,E,g),A=r?de(i.add(_),a).point:d.point.add(n?_.rotate(-o.angle):_),O=t.allowVerticalPlacement&&h.placedOrientation===e.WritingMode.vertical?Math.PI/2:0;for(let t=0;t<h.numGlyphs;t++)e.addDynamicAttributes(f,A,O);u&&h.associatedIconIndex>=0&&(m[h.associatedIconIndex]={shiftedAnchor:A,angle:O})}else xe(h.numGlyphs,f)}if(u){p.clear();const n=t.icon.placedSymbolArray;for(let t=0;t<n.length;t++){const r=n.get(t);if(r.hidden)xe(r.numGlyphs,p);else{const n=m[t];if(n)for(let t=0;t<r.numGlyphs;t++)e.addDynamicAttributes(p,n.shiftedAnchor,n.angle);else xe(r.numGlyphs,p)}}t.icon.dynamicLayoutVertexBuffer.updateData(p)}t.text.dynamicLayoutVertexBuffer.updateData(f)}function jn(e,t,n){return n.iconsInText&&t?"symbolTextAndIcon":e?"symbolSDF":"symbolIcon"}function Ln(t,n,r,i,o,a,s,l,c,u,d,f){const p=t.context,m=p.gl,h=t.transform,g="map"===l,y="map"===c,v="viewport"!==l&&"point"!==r.layout.get("symbol-placement"),b=g&&!y&&!v,w=!r.layout.get("symbol-sort-key").isConstant();let x=!1;const E=t.depthModeForSublayer(0,An.ReadOnly),_=r.layout.get("text-variable-anchor"),A=[];for(const l of i){const i=n.getTile(l),c=i.getBucket(r);if(!c)continue;const d=o?c.text:c.icon;if(!d||!d.segments.get().length)continue;const f=d.programConfigurations.get(r.id),p=o||c.sdfIcons,E=o?c.textSizeData:c.iconSizeData,O=y||0!==h.pitch,S=t.useProgram(jn(p,o,c),f),T=e.evaluateSizeForZoom(E,h.zoom);let I,k,C,M,N=[0,0],j=null;if(o){if(k=i.glyphAtlasTexture,C=m.LINEAR,I=i.glyphAtlasTexture.size,c.iconsInText){N=i.imageAtlasTexture.size,j=i.imageAtlasTexture;const e="composite"===E.kind||"camera"===E.kind;M=O||t.options.rotating||t.options.zooming||e?m.LINEAR:m.NEAREST}}else{const e=1!==r.layout.get("icon-size").constantOr(0)||c.iconsNeedLinear;k=i.imageAtlasTexture,C=p||t.options.rotating||t.options.zooming||e||O?m.LINEAR:m.NEAREST,I=i.imageAtlasTexture.size}const L=Oe(i,1,t.transform.zoom),R=ce(l.posMatrix,y,g,t.transform,L),D=ue(l.posMatrix,y,g,t.transform,L),P=_&&c.hasTextData(),B="none"!==r.layout.get("icon-text-fit")&&P&&c.hasIconData();if(v){const e="map"===r.layout.get("text-rotation-alignment");me(c,l.posMatrix,t,o,R,D,y,u,e)}const F=t.translatePosMatrix(l.posMatrix,i,a,s),U=v||o&&_||B?Cn:R,z=t.translatePosMatrix(D,i,a,s,!0),V=p&&0!==r.paint.get(o?"text-halo-width":"icon-halo-width").constantOr(1);let G;G=p?c.iconsInText?Nt(E.kind,T,b,y,t,F,U,z,I,N):Mt(E.kind,T,b,y,t,F,U,z,o,I,!0):Ct(E.kind,T,b,y,t,F,U,z,o,I);const H={program:S,buffers:d,uniformValues:G,atlasTexture:k,atlasTextureIcon:j,atlasInterpolation:C,atlasInterpolationIcon:M,isSDF:p,hasHalo:V};if(w&&c.canOverlap){x=!0;const t=d.segments.get();for(const n of t)A.push({segments:new e.SegmentVector([n]),sortKey:n.sortKey,state:H})}else A.push({segments:d.segments,sortKey:0,state:H})}x&&A.sort(((e,t)=>e.sortKey-t.sortKey));for(const e of A){const n=e.state;if(p.activeTexture.set(m.TEXTURE0),n.atlasTexture.bind(n.atlasInterpolation,m.CLAMP_TO_EDGE),n.atlasTextureIcon&&(p.activeTexture.set(m.TEXTURE1),n.atlasTextureIcon&&n.atlasTextureIcon.bind(n.atlasInterpolationIcon,m.CLAMP_TO_EDGE)),n.isSDF){const i=n.uniformValues;n.hasHalo&&(i.u_is_halo=1,Rn(n.buffers,e.segments,r,t,n.program,E,d,f,i)),i.u_is_halo=0}Rn(n.buffers,e.segments,r,t,n.program,E,d,f,n.uniformValues)}}function Rn(e,t,n,r,i,o,a,s,l){const c=r.context;i.draw(c,c.gl.TRIANGLES,o,a,s,Tn.disabled,l,n.id,e.layoutVertexBuffer,e.indexBuffer,t,n.paint,r.transform.zoom,e.programConfigurations.get(n.id),e.dynamicLayoutVertexBuffer,e.opacityVertexBuffer)}function Dn(e,t,n,r,i,o,a){const s=e.context.gl,l=n.paint.get("fill-pattern"),c=l&&l.constantOr(1),u=n.getCrossfadeParameters();let d,f,p,m,h;a?(f=c&&!n.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",d=s.LINES):(f=c?"fillPattern":"fill",d=s.TRIANGLES);for(const g of r){const r=t.getTile(g);if(c&&!r.patternsLoaded())continue;const y=r.getBucket(n);if(!y)continue;const v=y.programConfigurations.get(n.id),b=e.useProgram(f,v);c&&(e.context.activeTexture.set(s.TEXTURE0),r.imageAtlasTexture.bind(s.LINEAR,s.CLAMP_TO_EDGE),v.updatePaintBuffers(u));const w=l.constantOr(null);if(w&&r.imageAtlas){const e=r.imageAtlas,t=e.patternPositions[w.to.toString()],n=e.patternPositions[w.from.toString()];t&&n&&v.setConstantPatternPositions(t,n)}const x=e.translatePosMatrix(g.posMatrix,r,n.paint.get("fill-translate"),n.paint.get("fill-translate-anchor"));if(a){m=y.indexBuffer2,h=y.segments2;const t=[s.drawingBufferWidth,s.drawingBufferHeight];p="fillOutlinePattern"===f&&c?ht(x,e,u,r,t):mt(x,t)}else m=y.indexBuffer,h=y.segments,p=c?pt(x,e,u,r):ft(x);b.draw(e.context,d,i,e.stencilModeForClipping(g),o,Tn.disabled,p,n.id,y.layoutVertexBuffer,m,h,n.paint,e.transform.zoom,v)}}function Pn(e,t,n,r,i,o,a){const s=e.context,l=s.gl,c=n.paint.get("fill-extrusion-pattern"),u=c.constantOr(1),d=n.getCrossfadeParameters(),f=n.paint.get("fill-extrusion-opacity");for(const p of r){const r=t.getTile(p),m=r.getBucket(n);if(!m)continue;const h=m.programConfigurations.get(n.id),g=e.useProgram(u?"fillExtrusionPattern":"fillExtrusion",h);u&&(e.context.activeTexture.set(l.TEXTURE0),r.imageAtlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE),h.updatePaintBuffers(d));const y=c.constantOr(null);if(y&&r.imageAtlas){const e=r.imageAtlas,t=e.patternPositions[y.to.toString()],n=e.patternPositions[y.from.toString()];t&&n&&h.setConstantPatternPositions(t,n)}const v=e.translatePosMatrix(p.posMatrix,r,n.paint.get("fill-extrusion-translate"),n.paint.get("fill-extrusion-translate-anchor")),b=n.paint.get("fill-extrusion-vertical-gradient"),w=u?dt(v,e,b,f,p,d,r):ut(v,e,b,f);g.draw(s,s.gl.TRIANGLES,i,o,a,Tn.backCCW,w,n.id,m.layoutVertexBuffer,m.indexBuffer,m.segments,n.paint,e.transform.zoom,h)}}function Bn(e,t,n,r,i,o){const a=e.context,s=a.gl,l=t.fbo;if(!l)return;const c=e.useProgram("hillshade");a.activeTexture.set(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,l.colorAttachment.get());const u=((e,t,n)=>{const r=n.paint.get("hillshade-shadow-color"),i=n.paint.get("hillshade-highlight-color"),o=n.paint.get("hillshade-accent-color");let a=n.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===n.paint.get("hillshade-illumination-anchor")&&(a-=e.transform.angle);const s=!e.options.moving;return{u_matrix:e.transform.calculatePosMatrix(t.tileID.toUnwrapped(),s),u_image:0,u_latrange:xt(0,t.tileID),u_light:[n.paint.get("hillshade-exaggeration"),a],u_shadow:r,u_highlight:i,u_accent:o}})(e,t,n);c.draw(a,s.TRIANGLES,r,i,o,Tn.disabled,u,n.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}function Fn(t,n,r,i,o,a){const s=t.context,l=s.gl,c=n.dem;if(c&&c.data){const u=c.dim,d=c.stride,p=c.getPixels();if(s.activeTexture.set(l.TEXTURE1),s.pixelStoreUnpackPremultiplyAlpha.set(!1),n.demTexture=n.demTexture||t.getTileTexture(d),n.demTexture){const e=n.demTexture;e.update(p,{premultiply:!1}),e.bind(l.NEAREST,l.CLAMP_TO_EDGE)}else n.demTexture=new f(s,p,l.RGBA,{premultiply:!1}),n.demTexture.bind(l.NEAREST,l.CLAMP_TO_EDGE);s.activeTexture.set(l.TEXTURE0);let m=n.fbo;if(!m){const e=new f(s,{width:u,height:u,data:null},l.RGBA);e.bind(l.LINEAR,l.CLAMP_TO_EDGE),m=n.fbo=s.createFramebuffer(u,u,!0),m.colorAttachment.set(e.texture)}s.bindFramebuffer.set(m.framebuffer),s.viewport.set([0,0,u,u]),t.useProgram("hillshadePrepare").draw(s,l.TRIANGLES,i,o,a,Tn.disabled,((t,n)=>{const r=n.stride,i=e.create();return e.ortho(i,0,e.EXTENT,-e.EXTENT,0,0,1),e.translate(i,i,[0,-e.EXTENT,0]),{u_matrix:i,u_image:1,u_dimension:[r,r],u_zoom:t.overscaledZ,u_unpack:n.getUnpackVector()}})(n.tileID,c),r.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments),n.needsHillshadePrepare=!1}}function Un(t,n,r,i,o){const a=i.paint.get("raster-fade-duration");if(a>0){const i=e.exported.now(),s=(i-t.timeAdded)/a,l=n?(i-n.timeAdded)/a:-1,c=r.getSource(),u=o.coveringZoomLevel({tileSize:c.tileSize,roundZoom:c.roundZoom}),d=!n||Math.abs(n.tileID.overscaledZ-u)>Math.abs(t.tileID.overscaledZ-u),f=d&&t.refreshedUponExpiration?1:e.clamp(d?s:1-l,0,1);return t.refreshedUponExpiration&&s>=1&&(t.refreshedUponExpiration=!1),n?{opacity:1,mix:1-f}:{opacity:f,mix:0}}return{opacity:1,mix:0}}const zn=new e.Color(1,0,0,1),Vn=new e.Color(0,1,0,1),Gn=new e.Color(0,0,1,1),Hn=new e.Color(1,0,1,1),Wn=new e.Color(0,1,1,1);function Yn(e,t,n,r){Zn(e,0,t+n/2,e.transform.width,n,r)}function Qn(e,t,n,r){Zn(e,t-n/2,0,n,e.transform.height,r)}function Zn(e,t,n,r,i,o){const a=e.context,s=a.gl;s.enable(s.SCISSOR_TEST),s.scissor(t*e.pixelRatio,n*e.pixelRatio,r*e.pixelRatio,i*e.pixelRatio),a.clear({color:o}),s.disable(s.SCISSOR_TEST)}function Xn(t,n,r){const i=t.context,o=i.gl,a=r.posMatrix,s=t.useProgram("debug"),l=An.disabled,c=Sn.disabled,u=t.colorModeForRenderPass(),d="$debug";i.activeTexture.set(o.TEXTURE0),t.emptyTexture.bind(o.LINEAR,o.CLAMP_TO_EDGE),s.draw(i,o.LINE_STRIP,l,c,u,Tn.disabled,vt(a,e.Color.red),d,t.debugBuffer,t.tileBorderIndexBuffer,t.debugSegments);const f=n.getTileByID(r.key).latestRawTileData,p=Math.floor((f&&f.byteLength||0)/1024),m=n.getTile(r).tileSize,h=512/Math.min(m,512)*(r.overscaledZ/t.transform.zoom)*.5;let g=r.canonical.toString();r.overscaledZ!==r.canonical.z&&(g+=` => ${r.overscaledZ}`),function(e,t){e.initDebugOverlayCanvas();const n=e.debugOverlayCanvas,r=e.context.gl,i=e.debugOverlayCanvas.getContext("2d");i.clearRect(0,0,n.width,n.height),i.shadowColor="white",i.shadowBlur=2,i.lineWidth=1.5,i.strokeStyle="white",i.textBaseline="top",i.font="bold 36px Open Sans, sans-serif",i.fillText(t,5,5),i.strokeText(t,5,5),e.debugOverlayTexture.update(n),e.debugOverlayTexture.bind(r.LINEAR,r.CLAMP_TO_EDGE)}(t,`${g} ${p}kb`),s.draw(i,o.TRIANGLES,l,c,En.alphaBlended,Tn.disabled,vt(a,e.Color.transparent,h),d,t.debugBuffer,t.quadTriangleIndexBuffer,t.debugSegments)}const Jn={symbol:function(t,n,r,i,o){if("translucent"!==t.renderPass)return;const a=Sn.disabled,s=t.colorModeForRenderPass();r.layout.get("text-variable-anchor")&&function(t,n,r,i,o,a,s){const l=n.transform,c="map"===o,u="map"===a;for(const o of t){const t=i.getTile(o),a=t.getBucket(r);if(!a||!a.text||!a.text.segments.get().length)continue;const d=e.evaluateSizeForZoom(a.textSizeData,l.zoom),f=Oe(t,1,n.transform.zoom),p=ce(o.posMatrix,u,c,n.transform,f),m="none"!==r.layout.get("icon-text-fit")&&a.hasIconData();if(d){const e=Math.pow(2,l.zoom-t.tileID.overscaledZ);Nn(a,c,u,s,l,p,o.posMatrix,e,d,m)}}}(i,t,r,n,r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),o),0!==r.paint.get("icon-opacity").constantOr(1)&&Ln(t,n,r,i,!1,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),r.layout.get("icon-rotation-alignment"),r.layout.get("icon-pitch-alignment"),r.layout.get("icon-keep-upright"),a,s),0!==r.paint.get("text-opacity").constantOr(1)&&Ln(t,n,r,i,!0,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),r.layout.get("text-keep-upright"),a,s),n.map.showCollisionBoxes&&(kn(t,n,r,i,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),!0),kn(t,n,r,i,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),!1))},circle:function(t,n,r,i){if("translucent"!==t.renderPass)return;const o=r.paint.get("circle-opacity"),a=r.paint.get("circle-stroke-width"),s=r.paint.get("circle-stroke-opacity"),l=!r.layout.get("circle-sort-key").isConstant();if(0===o.constantOr(1)&&(0===a.constantOr(1)||0===s.constantOr(1)))return;const c=t.context,u=c.gl,d=t.depthModeForSublayer(0,An.ReadOnly),f=Sn.disabled,p=t.colorModeForRenderPass(),m=[];for(let o=0;o<i.length;o++){const a=i[o],s=n.getTile(a),c=s.getBucket(r);if(!c)continue;const u=c.programConfigurations.get(r.id),d={programConfiguration:u,program:t.useProgram("circle",u),layoutVertexBuffer:c.layoutVertexBuffer,indexBuffer:c.indexBuffer,uniformValues:gt(t,a,s,r)};if(l){const t=c.segments.get();for(const n of t)m.push({segments:new e.SegmentVector([n]),sortKey:n.sortKey,state:d})}else m.push({segments:c.segments,sortKey:0,state:d})}l&&m.sort(((e,t)=>e.sortKey-t.sortKey));for(const e of m){const{programConfiguration:n,program:i,layoutVertexBuffer:o,indexBuffer:a,uniformValues:s}=e.state;i.draw(c,u.TRIANGLES,d,f,p,Tn.disabled,s,r.id,o,a,e.segments,r.paint,t.transform.zoom,n)}},heatmap:function(t,n,r,i){if(0!==r.paint.get("heatmap-opacity"))if("offscreen"===t.renderPass){const o=t.context,a=o.gl,s=Sn.disabled,l=new En([a.ONE,a.ONE],e.Color.transparent,[!0,!0,!0,!0]);!function(e,t,n){const r=e.gl;e.activeTexture.set(r.TEXTURE1),e.viewport.set([0,0,t.width/4,t.height/4]);let i=n.heatmapFbo;if(i)r.bindTexture(r.TEXTURE_2D,i.colorAttachment.get()),e.bindFramebuffer.set(i.framebuffer);else{const o=r.createTexture();r.bindTexture(r.TEXTURE_2D,o),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),i=n.heatmapFbo=e.createFramebuffer(t.width/4,t.height/4,!1),function(e,t,n,r){const i=e.gl;i.texImage2D(i.TEXTURE_2D,0,i.RGBA,t.width/4,t.height/4,0,i.RGBA,e.extRenderToTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:i.UNSIGNED_BYTE,null),r.colorAttachment.set(n)}(e,t,o,i)}}(o,t,r),o.clear({color:e.Color.transparent});for(let e=0;e<i.length;e++){const c=i[e];if(n.hasRenderableParent(c))continue;const u=n.getTile(c),d=u.getBucket(r);if(!d)continue;const f=d.programConfigurations.get(r.id),p=t.useProgram("heatmap",f),{zoom:m}=t.transform;p.draw(o,a.TRIANGLES,An.disabled,s,l,Tn.disabled,wt(c.posMatrix,u,m,r.paint.get("heatmap-intensity")),r.id,d.layoutVertexBuffer,d.indexBuffer,d.segments,r.paint,t.transform.zoom,f)}o.viewport.set([0,0,t.width,t.height])}else"translucent"===t.renderPass&&(t.context.setColorMode(t.colorModeForRenderPass()),function(t,n){const r=t.context,i=r.gl,o=n.heatmapFbo;if(!o)return;r.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,o.colorAttachment.get()),r.activeTexture.set(i.TEXTURE1);let a=n.colorRampTexture;a||(a=n.colorRampTexture=new f(r,n.colorRamp,i.RGBA)),a.bind(i.LINEAR,i.CLAMP_TO_EDGE),t.useProgram("heatmapTexture").draw(r,i.TRIANGLES,An.disabled,Sn.disabled,t.colorModeForRenderPass(),Tn.disabled,((t,n,r,i)=>{const o=e.create();e.ortho(o,0,t.width,t.height,0,0,1);const a=t.context.gl;return{u_matrix:o,u_world:[a.drawingBufferWidth,a.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:n.paint.get("heatmap-opacity")}})(t,n),n.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,n.paint,t.transform.zoom)}(t,r))},line:function(t,n,r,i){if("translucent"!==t.renderPass)return;const o=r.paint.get("line-opacity"),a=r.paint.get("line-width");if(0===o.constantOr(1)||0===a.constantOr(1))return;const s=t.depthModeForSublayer(0,An.ReadOnly),l=t.colorModeForRenderPass(),c=r.paint.get("line-dasharray"),u=r.paint.get("line-pattern"),d=u.constantOr(1),p=r.paint.get("line-gradient"),m=r.getCrossfadeParameters(),h=d?"linePattern":c?"lineSDF":p?"lineGradient":"line",g=t.context,y=g.gl;let v=!0;for(const o of i){const i=n.getTile(o);if(d&&!i.patternsLoaded())continue;const a=i.getBucket(r);if(!a)continue;const b=a.programConfigurations.get(r.id),w=t.context.program.get(),x=t.useProgram(h,b),E=v||x.program!==w,_=u.constantOr(null);if(_&&i.imageAtlas){const e=i.imageAtlas,t=e.patternPositions[_.to.toString()],n=e.patternPositions[_.from.toString()];t&&n&&b.setConstantPatternPositions(t,n)}const A=d?At(t,i,r,m):c?Ot(t,i,r,c,m):p?_t(t,i,r,a.lineClipsArray.length):Et(t,i,r);if(d)g.activeTexture.set(y.TEXTURE0),i.imageAtlasTexture.bind(y.LINEAR,y.CLAMP_TO_EDGE),b.updatePaintBuffers(m);else if(c&&(E||t.lineAtlas.dirty))g.activeTexture.set(y.TEXTURE0),t.lineAtlas.bind(g);else if(p){const i=a.gradients[r.id];let s=i.texture;if(r.gradientVersion!==i.version){let l=256;if(r.stepInterpolant){const r=n.getSource().maxzoom,i=o.canonical.z===r?Math.ceil(1<<t.transform.maxZoom-o.canonical.z):1;l=e.clamp(e.nextPowerOfTwo(a.maxLineLength/e.EXTENT*1024*i),256,g.maxTextureSize)}i.gradient=e.renderColorRamp({expression:r.gradientExpression(),evaluationKey:"lineProgress",resolution:l,image:i.gradient||void 0,clips:a.lineClipsArray}),i.texture?i.texture.update(i.gradient):i.texture=new f(g,i.gradient,y.RGBA),i.version=r.gradientVersion,s=i.texture}g.activeTexture.set(y.TEXTURE0),s.bind(r.stepInterpolant?y.NEAREST:y.LINEAR,y.CLAMP_TO_EDGE)}x.draw(g,y.TRIANGLES,s,t.stencilModeForClipping(o),l,Tn.disabled,A,r.id,a.layoutVertexBuffer,a.indexBuffer,a.segments,r.paint,t.transform.zoom,b,a.layoutVertexBuffer2),v=!1}},fill:function(t,n,r,i){const o=r.paint.get("fill-color"),a=r.paint.get("fill-opacity");if(0===a.constantOr(1))return;const s=t.colorModeForRenderPass(),l=r.paint.get("fill-pattern"),c=t.opaquePassEnabledForLayer()&&!l.constantOr(1)&&1===o.constantOr(e.Color.transparent).a&&1===a.constantOr(0)?"opaque":"translucent";if(t.renderPass===c){const e=t.depthModeForSublayer(1,"opaque"===t.renderPass?An.ReadWrite:An.ReadOnly);Dn(t,n,r,i,e,s,!1)}if("translucent"===t.renderPass&&r.paint.get("fill-antialias")){const e=t.depthModeForSublayer(r.getPaintProperty("fill-outline-color")?2:0,An.ReadOnly);Dn(t,n,r,i,e,s,!0)}},"fill-extrusion":function(e,t,n,r){const i=n.paint.get("fill-extrusion-opacity");if(0!==i&&"translucent"===e.renderPass){const o=new An(e.context.gl.LEQUAL,An.ReadWrite,e.depthRangeFor3D);if(1!==i||n.paint.get("fill-extrusion-pattern").constantOr(1))Pn(e,t,n,r,o,Sn.disabled,En.disabled),Pn(e,t,n,r,o,e.stencilModeFor3D(),e.colorModeForRenderPass());else{const i=e.colorModeForRenderPass();Pn(e,t,n,r,o,Sn.disabled,i)}}},hillshade:function(e,t,n,r){if("offscreen"!==e.renderPass&&"translucent"!==e.renderPass)return;const i=e.context,o=e.depthModeForSublayer(0,An.ReadOnly),a=e.colorModeForRenderPass(),[s,l]="translucent"===e.renderPass?e.stencilConfigForOverlap(r):[{},r];for(const r of l){const i=t.getTile(r);i.needsHillshadePrepare&&"offscreen"===e.renderPass?Fn(e,i,n,o,Sn.disabled,a):"translucent"===e.renderPass&&Bn(e,i,n,o,s[r.overscaledZ],a)}i.viewport.set([0,0,e.width,e.height])},raster:function(e,t,n,r){if("translucent"!==e.renderPass)return;if(0===n.paint.get("raster-opacity"))return;if(!r.length)return;const i=e.context,o=i.gl,a=t.getSource(),s=e.useProgram("raster"),l=e.colorModeForRenderPass(),[c,u]=a instanceof N?[{},r]:e.stencilConfigForOverlap(r),d=u[u.length-1].overscaledZ,f=!e.options.moving;for(const r of u){const u=e.depthModeForSublayer(r.overscaledZ-d,1===n.paint.get("raster-opacity")?An.ReadWrite:An.ReadOnly,o.LESS),p=t.getTile(r),m=e.transform.calculatePosMatrix(r.toUnwrapped(),f);p.registerFadeDuration(n.paint.get("raster-fade-duration"));const h=t.findLoadedParent(r,0),g=Un(p,h,t,n,e.transform);let y,v;const b="nearest"===n.paint.get("raster-resampling")?o.NEAREST:o.LINEAR;i.activeTexture.set(o.TEXTURE0),p.texture.bind(b,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),i.activeTexture.set(o.TEXTURE1),h?(h.texture.bind(b,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),y=Math.pow(2,h.tileID.overscaledZ-p.tileID.overscaledZ),v=[p.tileID.canonical.x*y%1,p.tileID.canonical.y*y%1]):p.texture.bind(b,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST);const w=It(m,v||[0,0],y||1,g,n);a instanceof N?s.draw(i,o.TRIANGLES,u,Sn.disabled,l,Tn.disabled,w,n.id,a.boundsBuffer,e.quadTriangleIndexBuffer,a.boundsSegments):s.draw(i,o.TRIANGLES,u,c[r.overscaledZ],l,Tn.disabled,w,n.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}},background:function(e,t,n){const r=n.paint.get("background-color"),i=n.paint.get("background-opacity");if(0===i)return;const o=e.context,a=o.gl,s=e.transform,l=s.tileSize,c=n.paint.get("background-pattern");if(e.isPatternMissing(c))return;const u=!c&&1===r.a&&1===i&&e.opaquePassEnabledForLayer()?"opaque":"translucent";if(e.renderPass!==u)return;const d=Sn.disabled,f=e.depthModeForSublayer(0,"opaque"===u?An.ReadWrite:An.ReadOnly),p=e.colorModeForRenderPass(),m=e.useProgram(c?"backgroundPattern":"background"),h=s.coveringTiles({tileSize:l});c&&(o.activeTexture.set(a.TEXTURE0),e.imageManager.bind(e.context));const g=n.getCrossfadeParameters();for(const t of h){const s=e.transform.calculatePosMatrix(t.toUnwrapped()),u=c?Lt(s,i,e,c,{tileID:t,tileSize:l},g):jt(s,i,r);m.draw(o,a.TRIANGLES,f,d,p,Tn.disabled,u,n.id,e.tileExtentBuffer,e.quadTriangleIndexBuffer,e.tileExtentSegments)}},debug:function(e,t,n){for(let r=0;r<n.length;r++)Xn(e,t,n[r])},custom:function(e,t,n){const r=e.context,i=n.implementation;if("offscreen"===e.renderPass){const t=i.prerender;t&&(e.setCustomLayerDefaults(),r.setColorMode(e.colorModeForRenderPass()),t.call(i,r.gl,e.transform.customLayerMatrix()),r.setDirty(),e.setBaseState())}else if("translucent"===e.renderPass){e.setCustomLayerDefaults(),r.setColorMode(e.colorModeForRenderPass()),r.setStencilMode(Sn.disabled);const t="3d"===i.renderingMode?new An(e.context.gl.LEQUAL,An.ReadWrite,e.depthRangeFor3D):e.depthModeForSublayer(0,An.ReadOnly);r.setDepthMode(t),i.render(r.gl,e.transform.customLayerMatrix()),r.setDirty(),e.setBaseState(),r.bindFramebuffer.set(null)}}};class qn{constructor(e,t){this.context=new _n(e),this.transform=t,this._tileTextures={},this.setup(),this.numSublayers=V.maxUnderzooming+V.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new qe,this.gpuTimers={}}resize(e,t,n){if(this.width=e*n,this.height=t*n,this.pixelRatio=n,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const e of this.style._order)this.style._layers[e].resize()}setup(){const t=this.context,n=new e.PosArray;n.emplaceBack(0,0),n.emplaceBack(e.EXTENT,0),n.emplaceBack(0,e.EXTENT),n.emplaceBack(e.EXTENT,e.EXTENT),this.tileExtentBuffer=t.createVertexBuffer(n,rt.members),this.tileExtentSegments=e.SegmentVector.simpleSegment(0,0,4,2);const r=new e.PosArray;r.emplaceBack(0,0),r.emplaceBack(e.EXTENT,0),r.emplaceBack(0,e.EXTENT),r.emplaceBack(e.EXTENT,e.EXTENT),this.debugBuffer=t.createVertexBuffer(r,rt.members),this.debugSegments=e.SegmentVector.simpleSegment(0,0,4,5);const i=new e.RasterBoundsArray;i.emplaceBack(0,0,0,0),i.emplaceBack(e.EXTENT,0,e.EXTENT,0),i.emplaceBack(0,e.EXTENT,0,e.EXTENT),i.emplaceBack(e.EXTENT,e.EXTENT,e.EXTENT,e.EXTENT),this.rasterBoundsBuffer=t.createVertexBuffer(i,M.members),this.rasterBoundsSegments=e.SegmentVector.simpleSegment(0,0,4,2);const o=new e.PosArray;o.emplaceBack(0,0),o.emplaceBack(1,0),o.emplaceBack(0,1),o.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(o,rt.members),this.viewportSegments=e.SegmentVector.simpleSegment(0,0,4,2);const a=new e.LineStripIndexArray;a.emplaceBack(0),a.emplaceBack(1),a.emplaceBack(3),a.emplaceBack(2),a.emplaceBack(0),this.tileBorderIndexBuffer=t.createIndexBuffer(a);const s=new e.TriangleIndexArray;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=t.createIndexBuffer(s),this.emptyTexture=new f(t,{width:1,height:1,data:new Uint8Array([0,0,0,0])},t.gl.RGBA);const l=this.context.gl;this.stencilClearMode=new Sn({func:l.ALWAYS,mask:0},0,255,l.ZERO,l.ZERO,l.ZERO)}clearStencil(){const t=this.context,n=t.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const r=e.create();e.ortho(r,0,this.width,this.height,0,0,1),e.scale(r,r,[n.drawingBufferWidth,n.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(t,n.TRIANGLES,An.disabled,this.stencilClearMode,En.disabled,Tn.disabled,bt(r),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(e,t){if(this.currentStencilSource===e.source||!e.isTileClipped()||!t||!t.length)return;this.currentStencilSource=e.source;const n=this.context,r=n.gl;this.nextStencilID+t.length>256&&this.clearStencil(),n.setColorMode(En.disabled),n.setDepthMode(An.disabled);const i=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const e of t){const t=this._tileClippingMaskIDs[e.key]=this.nextStencilID++;i.draw(n,r.TRIANGLES,An.disabled,new Sn({func:r.ALWAYS,mask:0},t,255,r.KEEP,r.KEEP,r.REPLACE),En.disabled,Tn.disabled,bt(e.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const e=this.nextStencilID++,t=this.context.gl;return new Sn({func:t.NOTEQUAL,mask:255},e,255,t.KEEP,t.KEEP,t.REPLACE)}stencilModeForClipping(e){const t=this.context.gl;return new Sn({func:t.EQUAL,mask:255},this._tileClippingMaskIDs[e.key],0,t.KEEP,t.KEEP,t.REPLACE)}stencilConfigForOverlap(e){const t=this.context.gl,n=e.sort(((e,t)=>t.overscaledZ-e.overscaledZ)),r=n[n.length-1].overscaledZ,i=n[0].overscaledZ-r+1;if(i>1){this.currentStencilSource=void 0,this.nextStencilID+i>256&&this.clearStencil();const e={};for(let n=0;n<i;n++)e[n+r]=new Sn({func:t.GEQUAL,mask:255},n+this.nextStencilID,255,t.KEEP,t.KEEP,t.REPLACE);return this.nextStencilID+=i,[e,n]}return[{[r]:Sn.disabled},n]}colorModeForRenderPass(){const t=this.context.gl;if(this._showOverdrawInspector){const n=1/8;return new En([t.CONSTANT_COLOR,t.ONE],new e.Color(n,n,n,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?En.unblended:En.alphaBlended}depthModeForSublayer(e,t,n){if(!this.opaquePassEnabledForLayer())return An.disabled;const r=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon;return new An(n||this.context.gl.LEQUAL,t,[r,r])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(t,n){this.style=t,this.options=n,this.lineAtlas=t.lineAtlas,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(e.exported.now()),this.imageManager.beginFrame();const r=this.style._order,i=this.style.sourceCaches;for(const e in i){const t=i[e];t.used&&t.prepare(this.context)}const o={},a={},s={};for(const e in i){const t=i[e];o[e]=t.getVisibleCoordinates(),a[e]=o[e].slice().reverse(),s[e]=t.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let e=0;e<r.length;e++)if(this.style._layers[r[e]].is3D()){this.opaquePassCutoff=e;break}this.renderPass="offscreen";for(const e of r){const t=this.style._layers[e];if(!t.hasOffscreenPass()||t.isHidden(this.transform.zoom))continue;const n=a[t.source];("custom"===t.type||n.length)&&this.renderLayer(this,i[t.source],t,n)}for(this.context.bindFramebuffer.set(null),this.context.clear({color:n.showOverdrawInspector?e.Color.black:e.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=n.showOverdrawInspector,this.depthRangeFor3D=[0,1-(t._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=r.length-1;this.currentLayer>=0;this.currentLayer--){const e=this.style._layers[r[this.currentLayer]],t=i[e.source],n=o[e.source];this._renderTileClippingMasks(e,n),this.renderLayer(this,t,e,n)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<r.length;this.currentLayer++){const e=this.style._layers[r[this.currentLayer]],t=i[e.source],n=("symbol"===e.type?s:a)[e.source];this._renderTileClippingMasks(e,o[e.source]),this.renderLayer(this,t,e,n)}if(this.options.showTileBoundaries){let e,t;Object.values(this.style._layers).forEach((n=>{n.source&&!n.isHidden(this.transform.zoom)&&(n.source!==(t&&t.id)&&(t=this.style.sourceCaches[n.source]),(!e||e.getSource().maxzoom<t.getSource().maxzoom)&&(e=t))})),e&&Jn.debug(this,e,e.getVisibleCoordinates())}this.options.showPadding&&function(e){const t=e.transform.padding;Yn(e,e.transform.height-(t.top||0),3,zn),Yn(e,t.bottom||0,3,Vn),Qn(e,t.left||0,3,Gn),Qn(e,e.transform.width-(t.right||0),3,Hn);const n=e.transform.centerPoint;!function(e,t,n,r){Zn(e,t-1,n-10,2,20,r),Zn(e,t-10,n-1,20,2,r)}(e,n.x,e.transform.height-n.y,Wn)}(this),this.context.setDefault()}renderLayer(e,t,n,r){n.isHidden(this.transform.zoom)||("background"===n.type||"custom"===n.type||r.length)&&(this.id=n.id,this.gpuTimingStart(n),Jn[n.type](e,t,n,r,this.style.placement.variableOffsets),this.gpuTimingEnd())}gpuTimingStart(e){if(!this.options.gpuTiming)return;const t=this.context.extTimerQuery;let n=this.gpuTimers[e.id];n||(n=this.gpuTimers[e.id]={calls:0,cpuTime:0,query:t.createQueryEXT()}),n.calls++,t.beginQueryEXT(t.TIME_ELAPSED_EXT,n.query)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT)}collectGpuTimers(){const e=this.gpuTimers;return this.gpuTimers={},e}queryGpuTimers(e){const t={};for(const n in e){const r=e[n],i=this.context.extTimerQuery,o=i.getQueryObjectEXT(r.query,i.QUERY_RESULT_EXT)/1e6;i.deleteQueryEXT(r.query),t[n]=o}return t}translatePosMatrix(t,n,r,i,o){if(!r[0]&&!r[1])return t;const a=o?"map"===i?this.transform.angle:0:"viewport"===i?-this.transform.angle:0;if(a){const e=Math.sin(a),t=Math.cos(a);r=[r[0]*t-r[1]*e,r[0]*e+r[1]*t]}const s=[o?r[0]:Oe(n,r[0],this.transform.zoom),o?r[1]:Oe(n,r[1],this.transform.zoom),0],l=new Float32Array(16);return e.translate(l,t,s),l}saveTileTexture(e){const t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e]}getTileTexture(e){const t=this._tileTextures[e];return t&&t.length>0?t.pop():null}isPatternMissing(e){if(!e)return!1;if(!e.from||!e.to)return!0;const t=this.imageManager.getPattern(e.from.toString()),n=this.imageManager.getPattern(e.to.toString());return!t||!n}useProgram(e,t){this.cache=this.cache||{};const n=`${e}${t?t.cacheKey:""}${this._showOverdrawInspector?"/overdraw":""}`;return this.cache[n]||(this.cache[n]=new lt(this.context,e,it[e],t,Rt[e],this._showOverdrawInspector)),this.cache[n]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD)}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new f(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}}class Kn{constructor(e,t){this.points=e,this.planes=t}static fromInvProjectionMatrix(t,n,r){const i=Math.pow(2,r),o=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((n=>e.transformMat4([],n,t))).map((t=>e.scale$1([],t,1/t[3]/n*i))),a=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((e=>{const t=function(e,t){var n=t[0],r=t[1],i=t[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e}([],function(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],l=n[2];return e[0]=i*l-o*s,e[1]=o*a-r*l,e[2]=r*s-i*a,e}([],u([],o[e[0]],o[e[1]]),u([],o[e[2]],o[e[1]]))),n=-((r=t)[0]*(i=o[e[1]])[0]+r[1]*i[1]+r[2]*i[2]);var r,i;return t.concat(n)}));return new Kn(o,a)}}class $n{constructor(e,t){this.min=e,this.max=t,this.center=function(e,t,n){return e[0]=.5*t[0],e[1]=.5*t[1],e[2]=.5*t[2],e}([],function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}([],this.min,this.max))}quadrant(e){const t=[e%2==0,e<2],n=l(this.min),r=l(this.max);for(let e=0;e<t.length;e++)n[e]=t[e]?this.min[e]:this.center[e],r[e]=t[e]?this.center[e]:this.max[e];return r[2]=this.max[2],new $n(n,r)}distanceX(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]}distanceY(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]}intersects(t){const n=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]];let r=!0;for(let i=0;i<t.planes.length;i++){const o=t.planes[i];let a=0;for(let t=0;t<n.length;t++)e.dot(o,n[t])>=0&&a++;if(0===a)return 0;a!==n.length&&(r=!1)}if(r)return 2;for(let e=0;e<3;e++){let n=Number.MAX_VALUE,r=-Number.MAX_VALUE;for(let i=0;i<t.points.length;i++){const o=t.points[i][e]-this.min[e];n=Math.min(n,o),r=Math.max(r,o)}if(r<0||n>this.max[e]-this.min[e])return 0}return 1}}class er{constructor(e=0,t=0,n=0,r=0){if(isNaN(e)||e<0||isNaN(t)||t<0||isNaN(n)||n<0||isNaN(r)||r<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=e,this.bottom=t,this.left=n,this.right=r}interpolate(t,n,r){return null!=n.top&&null!=t.top&&(this.top=e.number(t.top,n.top,r)),null!=n.bottom&&null!=t.bottom&&(this.bottom=e.number(t.bottom,n.bottom,r)),null!=n.left&&null!=t.left&&(this.left=e.number(t.left,n.left,r)),null!=n.right&&null!=t.right&&(this.right=e.number(t.right,n.right,r)),this}getCenter(t,n){const r=e.clamp((this.left+t-this.right)/2,0,t),i=e.clamp((this.top+n-this.bottom)/2,0,n);return new e.pointGeometry(r,i)}equals(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right}clone(){return new er(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}class tr{constructor(t,n,r,i,o){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===o||!!o,this._minZoom=t||0,this._maxZoom=n||22,this._minPitch=null==r?0:r,this._maxPitch=null==i?60:i,this.setMaxBounds(),this.width=0,this.height=0,this._center=new e.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new er,this._posMatrixCache={},this._alignedPosMatrixCache={}}clone(){const e=new tr(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return e.tileSize=this.tileSize,e.latRange=this.latRange,e.width=this.width,e.height=this.height,e._center=this._center,e.zoom=this.zoom,e.angle=this.angle,e._fov=this._fov,e._pitch=this._pitch,e._unmodified=this._unmodified,e._edgeInsets=this._edgeInsets.clone(),e._calcMatrices(),e}get minZoom(){return this._minZoom}set minZoom(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))}get maxZoom(){return this._maxZoom}set maxZoom(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))}get minPitch(){return this._minPitch}set minPitch(e){this._minPitch!==e&&(this._minPitch=e,this.pitch=Math.max(this.pitch,e))}get maxPitch(){return this._maxPitch}set maxPitch(e){this._maxPitch!==e&&(this._maxPitch=e,this.pitch=Math.min(this.pitch,e))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new e.pointGeometry(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(t){const n=-e.wrap(t,-180,180)*Math.PI/180;this.angle!==n&&(this._unmodified=!1,this.angle=n,this._calcMatrices(),this.rotationMatrix=function(){var t=new e.ARRAY_TYPE(4);return e.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t}(),function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(n),l=Math.cos(n);e[0]=r*l+o*s,e[1]=i*l+a*s,e[2]=r*-s+o*l,e[3]=i*-s+a*l}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(t){const n=e.clamp(t,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==n&&(this._unmodified=!1,this._pitch=n,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(e){e=Math.max(.01,Math.min(60,e)),this._fov!==e&&(this._unmodified=!1,this._fov=e/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(e){const t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._zoom=t,this.scale=this.zoomScale(t),this.tileZoom=Math.floor(t),this.zoomFraction=t-this.tileZoom,this._constrain(),this._calcMatrices())}get center(){return this._center}set center(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(e){return this._edgeInsets.equals(e)}interpolatePadding(e,t,n){this._unmodified=!1,this._edgeInsets.interpolate(e,t,n),this._constrain(),this._calcMatrices()}coveringZoomLevel(e){const t=(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize));return Math.max(0,t)}getVisibleUnwrappedCoordinates(t){const n=[new e.UnwrappedTileID(0,t)];if(this._renderWorldCopies){const r=this.pointCoordinate(new e.pointGeometry(0,0)),i=this.pointCoordinate(new e.pointGeometry(this.width,0)),o=this.pointCoordinate(new e.pointGeometry(this.width,this.height)),a=this.pointCoordinate(new e.pointGeometry(0,this.height)),s=Math.floor(Math.min(r.x,i.x,o.x,a.x)),l=Math.floor(Math.max(r.x,i.x,o.x,a.x)),c=1;for(let r=s-c;r<=l+c;r++)0!==r&&n.push(new e.UnwrappedTileID(r,t))}return n}coveringTiles(t){let n=this.coveringZoomLevel(t);const r=n;if(void 0!==t.minzoom&&n<t.minzoom)return[];void 0!==t.maxzoom&&n>t.maxzoom&&(n=t.maxzoom);const i=e.MercatorCoordinate.fromLngLat(this.center),o=Math.pow(2,n),a=[o*i.x,o*i.y,0],s=Kn.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,n);let l=t.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(l=n);const c=e=>({aabb:new $n([e*o,0,0],[(e+1)*o,o,0]),zoom:0,x:0,y:0,wrap:e,fullyVisible:!1}),u=[],f=[],p=n,m=t.reparseOverscaled?r:n;if(this._renderWorldCopies)for(let e=1;e<=3;e++)u.push(c(-e)),u.push(c(e));for(u.push(c(0));u.length>0;){const t=u.pop(),n=t.x,r=t.y;let i=t.fullyVisible;if(!i){const e=t.aabb.intersects(s);if(0===e)continue;i=2===e}const o=t.aabb.distanceX(a),c=t.aabb.distanceY(a),h=Math.max(Math.abs(o),Math.abs(c)),g=3+(1<<p-t.zoom)-2;if(t.zoom===p||h>g&&t.zoom>=l)f.push({tileID:new e.OverscaledTileID(t.zoom===p?m:t.zoom,t.wrap,t.zoom,n,r),distanceSq:d([a[0]-.5-n,a[1]-.5-r])});else for(let e=0;e<4;e++){const o=(n<<1)+e%2,a=(r<<1)+(e>>1);u.push({aabb:t.aabb.quadrant(e),zoom:t.zoom+1,x:o,y:a,wrap:t.wrap,fullyVisible:i})}}return f.sort(((e,t)=>e.distanceSq-t.distanceSq)).map((e=>e.tileID))}resize(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(e){return Math.pow(2,e)}scaleZoom(e){return Math.log(e)/Math.LN2}project(t){const n=e.clamp(t.lat,-this.maxValidLatitude,this.maxValidLatitude);return new e.pointGeometry(e.mercatorXfromLng(t.lng)*this.worldSize,e.mercatorYfromLat(n)*this.worldSize)}unproject(t){return new e.MercatorCoordinate(t.x/this.worldSize,t.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}setLocationAtPoint(t,n){const r=this.pointCoordinate(n),i=this.pointCoordinate(this.centerPoint),o=this.locationCoordinate(t),a=new e.MercatorCoordinate(o.x-(r.x-i.x),o.y-(r.y-i.y));this.center=this.coordinateLocation(a),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(e){return this.coordinatePoint(this.locationCoordinate(e))}pointLocation(e){return this.coordinateLocation(this.pointCoordinate(e))}locationCoordinate(t){return e.MercatorCoordinate.fromLngLat(t)}coordinateLocation(e){return e.toLngLat()}pointCoordinate(t){const n=[t.x,t.y,0,1],r=[t.x,t.y,1,1];e.transformMat4(n,n,this.pixelMatrixInverse),e.transformMat4(r,r,this.pixelMatrixInverse);const i=n[3],o=r[3],a=n[1]/i,s=r[1]/o,l=n[2]/i,c=r[2]/o,u=l===c?0:(0-l)/(c-l);return new e.MercatorCoordinate(e.number(n[0]/i,r[0]/o,u)/this.worldSize,e.number(a,s,u)/this.worldSize)}coordinatePoint(t){const n=[t.x*this.worldSize,t.y*this.worldSize,0,1];return e.transformMat4(n,n,this.pixelMatrix),new e.pointGeometry(n[0]/n[3],n[1]/n[3])}getBounds(){return(new e.LngLatBounds).extend(this.pointLocation(new e.pointGeometry(0,0))).extend(this.pointLocation(new e.pointGeometry(this.width,0))).extend(this.pointLocation(new e.pointGeometry(this.width,this.height))).extend(this.pointLocation(new e.pointGeometry(0,this.height)))}getMaxBounds(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new e.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}setMaxBounds(e){e?(this.lngRange=[e.getWest(),e.getEast()],this.latRange=[e.getSouth(),e.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(t,n=!1){const r=t.key,i=n?this._alignedPosMatrixCache:this._posMatrixCache;if(i[r])return i[r];const o=t.canonical,a=this.worldSize/this.zoomScale(o.z),s=o.x+Math.pow(2,o.z)*t.wrap,l=e.identity(new Float64Array(16));return e.translate(l,l,[s*a,o.y*a,0]),e.scale(l,l,[a/e.EXTENT,a/e.EXTENT,1]),e.multiply(l,n?this.alignedProjMatrix:this.projMatrix,l),i[r]=new Float32Array(l),i[r]}customLayerMatrix(){return this.mercatorMatrix.slice()}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let t,n,r,i,o=-90,a=90,s=-180,l=180;const c=this.size,u=this._unmodified;if(this.latRange){const n=this.latRange;o=e.mercatorYfromLat(n[1])*this.worldSize,a=e.mercatorYfromLat(n[0])*this.worldSize,t=a-o<c.y?c.y/(a-o):0}if(this.lngRange){const t=this.lngRange;s=e.mercatorXfromLng(t[0])*this.worldSize,l=e.mercatorXfromLng(t[1])*this.worldSize,n=l-s<c.x?c.x/(l-s):0}const d=this.point,f=Math.max(n||0,t||0);if(f)return this.center=this.unproject(new e.pointGeometry(n?(l+s)/2:d.x,t?(a+o)/2:d.y)),this.zoom+=this.scaleZoom(f),this._unmodified=u,void(this._constraining=!1);if(this.latRange){const e=d.y,t=c.y/2;e-t<o&&(i=o+t),e+t>a&&(i=a-t)}if(this.lngRange){const e=d.x,t=c.x/2;e-t<s&&(r=s+t),e+t>l&&(r=l-t)}void 0===r&&void 0===i||(this.center=this.unproject(new e.pointGeometry(void 0!==r?r:d.x,void 0!==i?i:d.y))),this._unmodified=u,this._constraining=!1}_calcMatrices(){if(!this.height)return;const t=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;const n=Math.PI/2+this._pitch,r=this._fov*(.5+t.y/this.height),i=Math.sin(r)*this.cameraToCenterDistance/Math.sin(e.clamp(Math.PI-n-r,.01,Math.PI-.01)),o=this.point,a=o.x,s=o.y,l=1.01*(Math.cos(Math.PI/2-this._pitch)*i+this.cameraToCenterDistance),c=this.height/50;let u=new Float64Array(16);e.perspective(u,this._fov,this.width/this.height,c,l),u[8]=2*-t.x/this.width,u[9]=2*t.y/this.height,e.scale(u,u,[1,-1,1]),e.translate(u,u,[0,0,-this.cameraToCenterDistance]),e.rotateX(u,u,this._pitch),e.rotateZ(u,u,this.angle),e.translate(u,u,[-a,-s,0]),this.mercatorMatrix=e.scale([],u,[this.worldSize,this.worldSize,this.worldSize]),e.scale(u,u,[1,1,e.mercatorZfromAltitude(1,this.center.lat)*this.worldSize]),this.projMatrix=u,this.invProjMatrix=e.invert([],this.projMatrix);const d=this.width%2/2,f=this.height%2/2,p=Math.cos(this.angle),m=Math.sin(this.angle),h=a-Math.round(a)+p*d+m*f,g=s-Math.round(s)+p*f+m*d,y=new Float64Array(u);if(e.translate(y,y,[h>.5?h-1:h,g>.5?g-1:g,0]),this.alignedProjMatrix=y,u=e.create(),e.scale(u,u,[this.width/2,-this.height/2,1]),e.translate(u,u,[1,-1,0]),this.labelPlaneMatrix=u,u=e.create(),e.scale(u,u,[1,-1,1]),e.translate(u,u,[-1,-1,0]),e.scale(u,u,[2/this.width,2/this.height,1]),this.glCoordMatrix=u,this.pixelMatrix=e.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),u=e.invert(new Float64Array(16),this.pixelMatrix),!u)throw new Error("failed to invert matrix");this.pixelMatrixInverse=u,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const t=this.pointCoordinate(new e.pointGeometry(0,0)),n=[t.x*this.worldSize,t.y*this.worldSize,0,1];return e.transformMat4(n,n,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const t=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new e.pointGeometry(0,t))}getCameraQueryGeometry(t){const n=this.getCameraPoint();if(1===t.length)return[t[0],n];{let r=n.x,i=n.y,o=n.x,a=n.y;for(const e of t)r=Math.min(r,e.x),i=Math.min(i,e.y),o=Math.max(o,e.x),a=Math.max(a,e.y);return[new e.pointGeometry(r,i),new e.pointGeometry(o,i),new e.pointGeometry(o,a),new e.pointGeometry(r,a),new e.pointGeometry(r,i)]}}}class nr{constructor(t){this._hashName=t&&encodeURIComponent(t),e.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=function(e,t){let n=!1,r=null;const i=()=>{r=null,n&&(e(),r=setTimeout(i,300),n=!1)};return()=>(n=!0,r||i(),r)}(this._updateHashUnthrottled.bind(this))}addTo(e){return this._map=e,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(e){const t=this._map.getCenter(),n=Math.round(100*this._map.getZoom())/100,r=Math.ceil((n*Math.LN2+Math.log(512/360/.5))/Math.LN10),i=Math.pow(10,r),o=Math.round(t.lng*i)/i,a=Math.round(t.lat*i)/i,s=this._map.getBearing(),l=this._map.getPitch();let c="";if(c+=e?`/${o}/${a}/${n}`:`${n}/${a}/${o}`,(s||l)&&(c+="/"+Math.round(10*s)/10),l&&(c+=`/${Math.round(l)}`),this._hashName){const e=this._hashName;let t=!1;const n=window.location.hash.slice(1).split("&").map((n=>{const r=n.split("=")[0];return r===e?(t=!0,`${r}=${c}`):n})).filter((e=>e));return t||n.push(`${e}=${c}`),`#${n.join("&")}`}return`#${c}`}_getCurrentHash(){const e=window.location.hash.replace("#","");if(this._hashName){let t;return e.split("&").map((e=>e.split("="))).forEach((e=>{e[0]===this._hashName&&(t=e)})),(t&&t[1]||"").split("/")}return e.split("/")}_onHashChange(){const e=this._getCurrentHash();if(e.length>=3&&!e.some((e=>isNaN(e)))){const t=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(e[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:t,pitch:+(e[4]||0)}),!0}return!1}_updateHashUnthrottled(){const e=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,e)}catch(e){}}}const rr={linearity:.3,easing:e.bezier(0,0,.3,1)},ir=e.extend({deceleration:2500,maxSpeed:1400},rr),or=e.extend({deceleration:20,maxSpeed:1400},rr),ar=e.extend({deceleration:1e3,maxSpeed:360},rr),sr=e.extend({deceleration:1e3,maxSpeed:90},rr);class lr{constructor(e){this._map=e,this.clear()}clear(){this._inertiaBuffer=[]}record(t){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:e.exported.now(),settings:t})}_drainInertiaBuffer(){const t=this._inertiaBuffer,n=e.exported.now();for(;t.length>0&&n-t[0].time>160;)t.shift()}_onMoveEnd(t){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const n={zoom:0,bearing:0,pitch:0,pan:new e.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:e}of this._inertiaBuffer)n.zoom+=e.zoomDelta||0,n.bearing+=e.bearingDelta||0,n.pitch+=e.pitchDelta||0,e.panDelta&&n.pan._add(e.panDelta),e.around&&(n.around=e.around),e.pinchAround&&(n.pinchAround=e.pinchAround);const r=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,i={};if(n.pan.mag()){const o=ur(n.pan.mag(),r,e.extend({},ir,t||{}));i.offset=n.pan.mult(o.amount/n.pan.mag()),i.center=this._map.transform.center,cr(i,o)}if(n.zoom){const e=ur(n.zoom,r,or);i.zoom=this._map.transform.zoom+e.amount,cr(i,e)}if(n.bearing){const t=ur(n.bearing,r,ar);i.bearing=this._map.transform.bearing+e.clamp(t.amount,-179,179),cr(i,t)}if(n.pitch){const e=ur(n.pitch,r,sr);i.pitch=this._map.transform.pitch+e.amount,cr(i,e)}if(i.zoom||i.bearing){const e=void 0===n.pinchAround?n.around:n.pinchAround;i.around=e?this._map.unproject(e):this._map.getCenter()}return this.clear(),e.extend(i,{noMoveStart:!0})}}function cr(e,t){(!e.duration||e.duration<t.duration)&&(e.duration=t.duration,e.easing=t.easing)}function ur(t,n,r){const{maxSpeed:i,linearity:o,deceleration:a}=r,s=e.clamp(t*o/(n/1e3),-i,i),l=Math.abs(s)/(a*o);return{easing:r.easing,duration:1e3*l,amount:s*(l/2)}}class dr extends e.Event{constructor(t,n,r,i={}){const a=o.mousePos(n.getCanvasContainer(),r),s=n.unproject(a);super(t,e.extend({point:a,lngLat:s,originalEvent:r},i)),this._defaultPrevented=!1,this.target=n}preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}}class fr extends e.Event{constructor(t,n,r){const i="touchend"===t?r.changedTouches:r.touches,a=o.touchPos(n.getCanvasContainer(),i),s=a.map((e=>n.unproject(e))),l=a.reduce(((e,t,n,r)=>e.add(t.div(r.length))),new e.pointGeometry(0,0));super(t,{points:a,point:l,lngLats:s,lngLat:n.unproject(l),originalEvent:r}),this._defaultPrevented=!1}preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}}class pr extends e.Event{constructor(e,t,n){super(e,{originalEvent:n}),this._defaultPrevented=!1}preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}}class mr{constructor(e,t){this._map=e,this._clickTolerance=t.clickTolerance}reset(){delete this._mousedownPos}wheel(e){return this._firePreventable(new pr(e.type,this._map,e))}mousedown(e,t){return this._mousedownPos=t,this._firePreventable(new dr(e.type,this._map,e))}mouseup(e){this._map.fire(new dr(e.type,this._map,e))}click(e,t){this._mousedownPos&&this._mousedownPos.dist(t)>=this._clickTolerance||this._map.fire(new dr(e.type,this._map,e))}dblclick(e){return this._firePreventable(new dr(e.type,this._map,e))}mouseover(e){this._map.fire(new dr(e.type,this._map,e))}mouseout(e){this._map.fire(new dr(e.type,this._map,e))}touchstart(e){return this._firePreventable(new fr(e.type,this._map,e))}touchmove(e){this._map.fire(new fr(e.type,this._map,e))}touchend(e){this._map.fire(new fr(e.type,this._map,e))}touchcancel(e){this._map.fire(new fr(e.type,this._map,e))}_firePreventable(e){if(this._map.fire(e),e.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class hr{constructor(e){this._map=e}reset(){this._delayContextMenu=!1,delete this._contextMenuEvent}mousemove(e){this._map.fire(new dr(e.type,this._map,e))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new dr("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(e){this._delayContextMenu?this._contextMenuEvent=e:this._map.fire(new dr(e.type,this._map,e)),this._map.listens("contextmenu")&&e.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class gr{constructor(e,t){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=t.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(e,t){this.isEnabled()&&e.shiftKey&&0===e.button&&(o.disableDrag(),this._startPos=this._lastPos=t,this._active=!0)}mousemoveWindow(e,t){if(!this._active)return;const n=t;if(this._lastPos.equals(n)||!this._box&&n.dist(this._startPos)<this._clickTolerance)return;const r=this._startPos;this._lastPos=n,this._box||(this._box=o.create("div","maplibregl-boxzoom mapboxgl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair","mapboxgl-crosshair"),this._fireEvent("boxzoomstart",e));const i=Math.min(r.x,n.x),a=Math.max(r.x,n.x),s=Math.min(r.y,n.y),l=Math.max(r.y,n.y);o.setTransform(this._box,`translate(${i}px,${s}px)`),this._box.style.width=a-i+"px",this._box.style.height=l-s+"px"}mouseupWindow(t,n){if(!this._active)return;if(0!==t.button)return;const r=this._startPos,i=n;if(this.reset(),o.suppressClick(),r.x!==i.x||r.y!==i.y)return this._map.fire(new e.Event("boxzoomend",{originalEvent:t})),{cameraAnimation:e=>e.fitScreenCoordinates(r,i,this._map.getBearing(),{linear:!0})};this._fireEvent("boxzoomcancel",t)}keydown(e){this._active&&27===e.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",e))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair","mapboxgl-crosshair"),this._box&&(o.remove(this._box),this._box=null),o.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(t,n){return this._map.fire(new e.Event(t,{originalEvent:n}))}}function yr(e,t){const n={};for(let r=0;r<e.length;r++)n[e[r].identifier]=t[r];return n}class vr{constructor(e){this.reset(),this.numTouches=e.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(t,n,r){(this.centroid||r.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=t.timeStamp),r.length===this.numTouches&&(this.centroid=function(t){const n=new e.pointGeometry(0,0);for(const e of t)n._add(e);return n.div(t.length)}(n),this.touches=yr(r,n)))}touchmove(e,t,n){if(this.aborted||!this.centroid)return;const r=yr(n,t);for(const e in this.touches){const t=this.touches[e],n=r[e];(!n||n.dist(t)>30)&&(this.aborted=!0)}}touchend(e,t,n){if((!this.centroid||e.timeStamp-this.startTime>500)&&(this.aborted=!0),0===n.length){const e=!this.aborted&&this.centroid;if(this.reset(),e)return e}}}class br{constructor(e){this.singleTap=new vr(e),this.numTaps=e.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(e,t,n){this.singleTap.touchstart(e,t,n)}touchmove(e,t,n){this.singleTap.touchmove(e,t,n)}touchend(e,t,n){const r=this.singleTap.touchend(e,t,n);if(r){const t=e.timeStamp-this.lastTime<500,n=!this.lastTap||this.lastTap.dist(r)<30;if(t&&n||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=r,this.count===this.numTaps)return this.reset(),r}}}class wr{constructor(){this._zoomIn=new br({numTouches:1,numTaps:2}),this._zoomOut=new br({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(e,t,n){this._zoomIn.touchstart(e,t,n),this._zoomOut.touchstart(e,t,n)}touchmove(e,t,n){this._zoomIn.touchmove(e,t,n),this._zoomOut.touchmove(e,t,n)}touchend(e,t,n){const r=this._zoomIn.touchend(e,t,n),i=this._zoomOut.touchend(e,t,n);return r?(this._active=!0,e.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:t.getZoom()+1,around:t.unproject(r)},{originalEvent:e})}):i?(this._active=!0,e.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:t.getZoom()-1,around:t.unproject(i)},{originalEvent:e})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const xr={0:1,2:2};class Er{constructor(e){this.reset(),this._clickTolerance=e.clickTolerance||1}reset(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton}_correctButton(e,t){return!1}_move(e,t){return{}}mousedown(e,t){if(this._lastPoint)return;const n=o.mouseButton(e);this._correctButton(e,n)&&(this._lastPoint=t,this._eventButton=n)}mousemoveWindow(e,t){const n=this._lastPoint;if(n)if(e.preventDefault(),function(e,t){const n=xr[t];return void 0===e.buttons||(e.buttons&n)!==n}(e,this._eventButton))this.reset();else if(this._moved||!(t.dist(n)<this._clickTolerance))return this._moved=!0,this._lastPoint=t,this._move(n,t)}mouseupWindow(e){this._lastPoint&&o.mouseButton(e)===this._eventButton&&(this._moved&&o.suppressClick(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class _r extends Er{mousedown(e,t){super.mousedown(e,t),this._lastPoint&&(this._active=!0)}_correctButton(e,t){return 0===t&&!e.ctrlKey}_move(e,t){return{around:t,panDelta:t.sub(e)}}}class Ar extends Er{_correctButton(e,t){return 0===t&&e.ctrlKey||2===t}_move(e,t){const n=.8*(t.x-e.x);if(n)return this._active=!0,{bearingDelta:n}}contextmenu(e){e.preventDefault()}}class Or extends Er{_correctButton(e,t){return 0===t&&e.ctrlKey||2===t}_move(e,t){const n=-.5*(t.y-e.y);if(n)return this._active=!0,{pitchDelta:n}}contextmenu(e){e.preventDefault()}}class Sr{constructor(e){this._minTouches=1,this._clickTolerance=e.clickTolerance||1,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new e.pointGeometry(0,0)}touchstart(e,t,n){return this._calculateTransform(e,t,n)}touchmove(e,t,n){if(this._active&&!(n.length<this._minTouches))return e.preventDefault(),this._calculateTransform(e,t,n)}touchend(e,t,n){this._calculateTransform(e,t,n),this._active&&n.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(t,n,r){r.length>0&&(this._active=!0);const i=yr(r,n),o=new e.pointGeometry(0,0),a=new e.pointGeometry(0,0);let s=0;for(const e in i){const t=i[e],n=this._touches[e];n&&(o._add(t),a._add(t.sub(n)),s++,i[e]=t)}if(this._touches=i,s<this._minTouches||!a.mag())return;const l=a.div(s);return this._sum._add(l),this._sum.mag()<this._clickTolerance?void 0:{around:o.div(s),panDelta:l}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Tr{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}_start(e){}_move(e,t,n){return{}}touchstart(e,t,n){this._firstTwoTouches||n.length<2||(this._firstTwoTouches=[n[0].identifier,n[1].identifier],this._start([t[0],t[1]]))}touchmove(e,t,n){if(!this._firstTwoTouches)return;e.preventDefault();const[r,i]=this._firstTwoTouches,o=Ir(n,t,r),a=Ir(n,t,i);if(!o||!a)return;const s=this._aroundCenter?null:o.add(a).div(2);return this._move([o,a],s,e)}touchend(e,t,n){if(!this._firstTwoTouches)return;const[r,i]=this._firstTwoTouches,a=Ir(n,t,r),s=Ir(n,t,i);a&&s||(this._active&&o.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(e){this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Ir(e,t,n){for(let r=0;r<e.length;r++)if(e[r].identifier===n)return t[r]}function kr(e,t){return Math.log(e/t)/Math.LN2}class Cr extends Tr{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(e){this._startDistance=this._distance=e[0].dist(e[1])}_move(e,t){const n=this._distance;if(this._distance=e[0].dist(e[1]),this._active||!(Math.abs(kr(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:kr(this._distance,n),pinchAround:t}}}function Mr(e,t){return 180*e.angleWith(t)/Math.PI}class Nr extends Tr{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1])}_move(e,t){const n=this._vector;if(this._vector=e[0].sub(e[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Mr(this._vector,n),pinchAround:t}}_isBelowThreshold(e){this._minDiameter=Math.min(this._minDiameter,e.mag());const t=25/(Math.PI*this._minDiameter)*360,n=Mr(e,this._startVector);return Math.abs(n)<t}}function jr(e){return Math.abs(e.y)>Math.abs(e.x)}class Lr extends Tr{reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}_start(e){this._lastPoints=e,jr(e[0].sub(e[1]))&&(this._valid=!1)}_move(e,t,n){const r=e[0].sub(this._lastPoints[0]),i=e[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(r,i,n.timeStamp),this._valid)return this._lastPoints=e,this._active=!0,{pitchDelta:(r.y+i.y)/2*-.5}}gestureBeginsVertically(e,t,n){if(void 0!==this._valid)return this._valid;const r=e.mag()>=2,i=t.mag()>=2;if(!r&&!i)return;if(!r||!i)return void 0===this._firstMove&&(this._firstMove=n),n-this._firstMove<100&&void 0;const o=e.y>0==t.y>0;return jr(e)&&jr(t)&&o}}const Rr={panStep:100,bearingStep:15,pitchStep:10};class Dr{constructor(){const e=Rr;this._panStep=e.panStep,this._bearingStep=e.bearingStep,this._pitchStep=e.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(e){if(e.altKey||e.ctrlKey||e.metaKey)return;let t=0,n=0,r=0,i=0,o=0;switch(e.keyCode){case 61:case 107:case 171:case 187:t=1;break;case 189:case 109:case 173:t=-1;break;case 37:e.shiftKey?n=-1:(e.preventDefault(),i=-1);break;case 39:e.shiftKey?n=1:(e.preventDefault(),i=1);break;case 38:e.shiftKey?r=1:(e.preventDefault(),o=-1);break;case 40:e.shiftKey?r=-1:(e.preventDefault(),o=1);break;default:return}return this._rotationDisabled&&(n=0,r=0),{cameraAnimation:a=>{const s=a.getZoom();a.easeTo({duration:300,easeId:"keyboardHandler",easing:Pr,zoom:t?Math.round(s)+t*(e.shiftKey?2:1):s,bearing:a.getBearing()+n*this._bearingStep,pitch:a.getPitch()+r*this._pitchStep,offset:[-i*this._panStep,-o*this._panStep],center:a.getCenter()},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Pr(e){return e*(2-e)}const Br=4.000244140625;class Fr{constructor(t,n){this._map=t,this._el=t.getCanvasContainer(),this._handler=n,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,e.bindAll(["_onTimeout"],this)}setZoomRate(e){this._defaultZoomRate=e}setWheelZoomRate(e){this._wheelZoomRate=e}isEnabled(){return!!this._enabled}isActive(){return!!this._active||void 0!==this._finishTimeout}isZooming(){return!!this._zooming}enable(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=e&&"center"===e.around)}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(t){if(!this.isEnabled())return;let n=t.deltaMode===WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY;const r=e.exported.now(),i=r-(this._lastWheelEventTime||0);this._lastWheelEventTime=r,0!==n&&n%Br==0?this._type="wheel":0!==n&&Math.abs(n)<4?this._type="trackpad":i>400?(this._type=null,this._lastValue=n,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(i*n)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,n+=this._lastValue)),t.shiftKey&&n&&(n/=4),this._type&&(this._lastWheelEvent=t,this._delta-=n,this._active||this._start(t)),t.preventDefault()}_onTimeout(e){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(e)}_start(t){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const n=o.mousePos(this._el,t);this._around=e.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(n)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId)return;if(this._frameId=null,!this.isActive())return;const t=this._map.transform;if(0!==this._delta){const e="wheel"===this._type&&Math.abs(this._delta)>Br?this._wheelZoomRate:this._defaultZoomRate;let n=2/(1+Math.exp(-Math.abs(this._delta*e)));this._delta<0&&0!==n&&(n=1/n);const r="number"==typeof this._targetZoom?t.zoomScale(this._targetZoom):t.scale;this._targetZoom=Math.min(t.maxZoom,Math.max(t.minZoom,t.scaleZoom(r*n))),"wheel"===this._type&&(this._startZoom=t.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const n="number"==typeof this._targetZoom?this._targetZoom:t.zoom,r=this._startZoom,i=this._easing;let o,a=!1;if("wheel"===this._type&&r&&i){const t=Math.min((e.exported.now()-this._lastWheelEventTime)/200,1),s=i(t);o=e.number(r,n,s),t<1?this._frameId||(this._frameId=!0):a=!0}else o=n,a=!0;return this._active=!0,a&&(this._active=!1,this._finishTimeout=setTimeout((()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!a,zoomDelta:o-t.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(t){let n=e.ease;if(this._prevEase){const t=this._prevEase,r=(e.exported.now()-t.start)/t.duration,i=t.easing(r+.01)-t.easing(r),o=.27/Math.sqrt(i*i+1e-4)*.01,a=Math.sqrt(.0729-o*o);n=e.bezier(o,a,.25,1)}return this._prevEase={start:e.exported.now(),duration:t,easing:n},n}reset(){this._active=!1}}class Ur{constructor(e,t){this._clickZoom=e,this._tapZoom=t}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class zr{constructor(){this.reset()}reset(){this._active=!1}dblclick(e,t){return e.preventDefault(),{cameraAnimation:n=>{n.easeTo({duration:300,zoom:n.getZoom()+(e.shiftKey?-1:1),around:n.unproject(t)},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Vr{constructor(){this._tap=new br({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()}touchstart(e,t,n){this._swipePoint||(this._tapTime&&e.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?n.length>0&&(this._swipePoint=t[0],this._swipeTouch=n[0].identifier):this._tap.touchstart(e,t,n))}touchmove(e,t,n){if(this._tapTime){if(this._swipePoint){if(n[0].identifier!==this._swipeTouch)return;const r=t[0],i=r.y-this._swipePoint.y;return this._swipePoint=r,e.preventDefault(),this._active=!0,{zoomDelta:i/128}}}else this._tap.touchmove(e,t,n)}touchend(e,t,n){this._tapTime?this._swipePoint&&0===n.length&&this.reset():this._tap.touchend(e,t,n)&&(this._tapTime=e.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Gr{constructor(e,t,n){this._el=e,this._mousePan=t,this._touchPan=n}enable(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan","mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan","mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Hr{constructor(e,t,n){this._pitchWithRotate=e.pitchWithRotate,this._mouseRotate=t,this._mousePitch=n}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class Wr{constructor(e,t,n,r){this._el=e,this._touchZoom=t,this._touchRotate=n,this._tapDragZoom=r,this._rotationDisabled=!1,this._enabled=!0}enable(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate","mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate","mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Yr=e=>e.zoom||e.drag||e.pitch||e.rotate;class Qr extends e.Event{}function Zr(e){return e.panDelta&&e.panDelta.mag()||e.zoomDelta||e.bearingDelta||e.pitchDelta}class Xr{constructor(t,n){this._map=t,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new lr(t),this._bearingSnap=n.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(n),e.bindAll(["handleEvent","handleWindowEvent"],this);const r=this._el;this._listeners=[[r,"touchstart",{passive:!0}],[r,"touchmove",{passive:!1}],[r,"touchend",void 0],[r,"touchcancel",void 0],[r,"mousedown",void 0],[r,"mousemove",void 0],[r,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[r,"mouseover",void 0],[r,"mouseout",void 0],[r,"dblclick",void 0],[r,"click",void 0],[r,"keydown",{capture:!1}],[r,"keyup",void 0],[r,"wheel",{passive:!1}],[r,"contextmenu",void 0],[window,"blur",void 0]];for(const[e,t,n]of this._listeners)o.addEventListener(e,t,e===document?this.handleWindowEvent:this.handleEvent,n)}destroy(){for(const[e,t,n]of this._listeners)o.removeEventListener(e,t,e===document?this.handleWindowEvent:this.handleEvent,n)}_addDefaultHandlers(e){const t=this._map,n=t.getCanvasContainer();this._add("mapEvent",new mr(t,e));const r=t.boxZoom=new gr(t,e);this._add("boxZoom",r);const i=new wr,o=new zr;t.doubleClickZoom=new Ur(o,i),this._add("tapZoom",i),this._add("clickZoom",o);const a=new Vr;this._add("tapDragZoom",a);const s=t.touchPitch=new Lr;this._add("touchPitch",s);const l=new Ar(e),c=new Or(e);t.dragRotate=new Hr(e,l,c),this._add("mouseRotate",l,["mousePitch"]),this._add("mousePitch",c,["mouseRotate"]);const u=new _r(e),d=new Sr(e);t.dragPan=new Gr(n,u,d),this._add("mousePan",u),this._add("touchPan",d,["touchZoom","touchRotate"]);const f=new Nr,p=new Cr;t.touchZoomRotate=new Wr(n,p,f,a),this._add("touchRotate",f,["touchPan","touchZoom"]),this._add("touchZoom",p,["touchPan","touchRotate"]);const m=t.scrollZoom=new Fr(t,this);this._add("scrollZoom",m,["mousePan"]);const h=t.keyboard=new Dr;this._add("keyboard",h),this._add("blockableMapEvent",new hr(t));for(const n of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])e.interactive&&e[n]&&t[n].enable(e[n])}_add(e,t,n){this._handlers.push({handlerName:e,handler:t,allowed:n}),this._handlersById[e]=t}stop(e){if(!this._updatingCamera){for(const{handler:e}of this._handlers)e.reset();this._inertia.clear(),this._fireEvents({},{},e),this._changes=[]}}isActive(){for(const{handler:e}of this._handlers)if(e.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return Boolean(Yr(this._eventsInProgress))||this.isZooming()}_blockedByActive(e,t,n){for(const r in e)if(r!==n&&(!t||t.indexOf(r)<0))return!0;return!1}handleWindowEvent(e){this.handleEvent(e,`${e.type}Window`)}_getMapTouches(e){const t=[];for(const n of e)this._el.contains(n.target)&&t.push(n);return t}handleEvent(e,t){if("blur"===e.type)return void this.stop(!0);this._updatingCamera=!0;const n="renderFrame"===e.type?void 0:e,r={needsRenderFrame:!1},i={},a={},s=e.touches,l=s?this._getMapTouches(s):void 0,c=l?o.touchPos(this._el,l):o.mousePos(this._el,e);for(const{handlerName:o,handler:s,allowed:u}of this._handlers){if(!s.isEnabled())continue;let d;this._blockedByActive(a,u,o)?s.reset():s[t||e.type]&&(d=s[t||e.type](e,c,l),this.mergeHandlerResult(r,i,d,o,n),d&&d.needsRenderFrame&&this._triggerRenderFrame()),(d||s.isActive())&&(a[o]=s)}const u={};for(const e in this._previousActiveHandlers)a[e]||(u[e]=n);this._previousActiveHandlers=a,(Object.keys(u).length||Zr(r))&&(this._changes.push([r,i,u]),this._triggerRenderFrame()),(Object.keys(a).length||Zr(r))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:d}=r;d&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],d(this._map))}mergeHandlerResult(t,n,r,i,o){if(!r)return;e.extend(t,r);const a={handlerName:i,originalEvent:r.originalEvent||o};void 0!==r.zoomDelta&&(n.zoom=a),void 0!==r.panDelta&&(n.drag=a),void 0!==r.pitchDelta&&(n.pitch=a),void 0!==r.bearingDelta&&(n.rotate=a)}_applyChanges(){const t={},n={},r={};for(const[i,o,a]of this._changes)i.panDelta&&(t.panDelta=(t.panDelta||new e.pointGeometry(0,0))._add(i.panDelta)),i.zoomDelta&&(t.zoomDelta=(t.zoomDelta||0)+i.zoomDelta),i.bearingDelta&&(t.bearingDelta=(t.bearingDelta||0)+i.bearingDelta),i.pitchDelta&&(t.pitchDelta=(t.pitchDelta||0)+i.pitchDelta),void 0!==i.around&&(t.around=i.around),void 0!==i.pinchAround&&(t.pinchAround=i.pinchAround),i.noInertia&&(t.noInertia=i.noInertia),e.extend(n,o),e.extend(r,a);this._updateMapTransform(t,n,r),this._changes=[]}_updateMapTransform(e,t,n){const r=this._map,i=r.transform;if(!Zr(e))return this._fireEvents(t,n,!0);let{panDelta:o,zoomDelta:a,bearingDelta:s,pitchDelta:l,around:c,pinchAround:u}=e;void 0!==u&&(c=u),r._stop(!0),c=c||r.transform.centerPoint;const d=i.pointLocation(o?c.sub(o):c);s&&(i.bearing+=s),l&&(i.pitch+=l),a&&(i.zoom+=a),i.setLocationAtPoint(d,c),this._map._update(),e.noInertia||this._inertia.record(e),this._fireEvents(t,n,!0)}_fireEvents(t,n,r){const i=Yr(this._eventsInProgress),o=Yr(t),a={};for(const e in t){const{originalEvent:n}=t[e];this._eventsInProgress[e]||(a[`${e}start`]=n),this._eventsInProgress[e]=t[e]}!i&&o&&this._fireEvent("movestart",o.originalEvent);for(const e in a)this._fireEvent(e,a[e]);o&&this._fireEvent("move",o.originalEvent);for(const e in t){const{originalEvent:n}=t[e];this._fireEvent(e,n)}const s={};let l;for(const e in this._eventsInProgress){const{handlerName:t,originalEvent:r}=this._eventsInProgress[e];this._handlersById[t].isActive()||(delete this._eventsInProgress[e],l=n[t]||r,s[`${e}end`]=l)}for(const e in s)this._fireEvent(e,s[e]);const c=Yr(this._eventsInProgress);if(r&&(i||o)&&!c){this._updatingCamera=!0;const t=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),n=e=>0!==e&&-this._bearingSnap<e&&e<this._bearingSnap;t?(n(t.bearing||this._map.getBearing())&&(t.bearing=0),this._map.easeTo(t,{originalEvent:l})):(this._map.fire(new e.Event("moveend",{originalEvent:l})),n(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(t,n){this._map.fire(new e.Event(t,n?{originalEvent:n}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add((e=>{delete this._frameId,this.handleEvent(new Qr("renderFrame",{timeStamp:e})),this._applyChanges()}))}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}const Jr={extend:(t,...n)=>e.extend(t,...n),run(e){e()},logToElement(e,t=!1,n="log"){const r=window.document.getElementById(n);r&&(t&&(r.innerHTML=""),r.innerHTML+=`<br>${e}`)}};class qr extends e.Evented{constructor(t,n){super(),this._moving=!1,this._zooming=!1,this.transform=t,this._bearingSnap=n.bearingSnap,e.bindAll(["_renderFrameCallback"],this)}getCenter(){return new e.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(e,t){return this.jumpTo({center:e},t)}panBy(t,n,r){return t=e.pointGeometry.convert(t).mult(-1),this.panTo(this.transform.center,e.extend({offset:t},n),r)}panTo(t,n,r){return this.easeTo(e.extend({center:t},n),r)}getZoom(){return this.transform.zoom}setZoom(e,t){return this.jumpTo({zoom:e},t),this}zoomTo(t,n,r){return this.easeTo(e.extend({zoom:t},n),r)}zoomIn(e,t){return this.zoomTo(this.getZoom()+1,e,t),this}zoomOut(e,t){return this.zoomTo(this.getZoom()-1,e,t),this}getBearing(){return this.transform.bearing}setBearing(e,t){return this.jumpTo({bearing:e},t),this}getPadding(){return this.transform.padding}setPadding(e,t){return this.jumpTo({padding:e},t),this}rotateTo(t,n,r){return this.easeTo(e.extend({bearing:t},n),r)}resetNorth(t,n){return this.rotateTo(0,e.extend({duration:1e3},t),n),this}resetNorthPitch(t,n){return this.easeTo(e.extend({bearing:0,pitch:0,duration:1e3},t),n),this}snapToNorth(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this}getPitch(){return this.transform.pitch}setPitch(e,t){return this.jumpTo({pitch:e},t),this}cameraForBounds(t,n){t=e.LngLatBounds.convert(t);const r=n&&n.bearing||0;return this._cameraForBoxAndBearing(t.getNorthWest(),t.getSouthEast(),r,n)}_cameraForBoxAndBearing(t,n,r,i){const o={top:0,bottom:0,right:0,left:0};if("number"==typeof(i=e.extend({padding:o,offset:[0,0],maxZoom:this.transform.maxZoom},i)).padding){const e=i.padding;i.padding={top:e,bottom:e,right:e,left:e}}i.padding=e.extend(o,i.padding);const a=this.transform,s=a.padding,l=a.project(e.LngLat.convert(t)),c=a.project(e.LngLat.convert(n)),u=l.rotate(-r*Math.PI/180),d=c.rotate(-r*Math.PI/180),f=new e.pointGeometry(Math.max(u.x,d.x),Math.max(u.y,d.y)),p=new e.pointGeometry(Math.min(u.x,d.x),Math.min(u.y,d.y)),m=f.sub(p),h=(a.width-(s.left+s.right+i.padding.left+i.padding.right))/m.x,g=(a.height-(s.top+s.bottom+i.padding.top+i.padding.bottom))/m.y;if(g<0||h<0)return void e.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const y=Math.min(a.scaleZoom(a.scale*Math.min(h,g)),i.maxZoom),v=e.pointGeometry.convert(i.offset),b=new e.pointGeometry((i.padding.left-i.padding.right)/2,(i.padding.top-i.padding.bottom)/2).rotate(r*Math.PI/180),w=v.add(b).mult(a.scale/a.zoomScale(y));return{center:a.unproject(l.add(c).div(2).sub(w)),zoom:y,bearing:r}}fitBounds(e,t,n){return this._fitInternal(this.cameraForBounds(e,t),t,n)}fitScreenCoordinates(t,n,r,i,o){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(e.pointGeometry.convert(t)),this.transform.pointLocation(e.pointGeometry.convert(n)),r,i),i,o)}_fitInternal(t,n,r){return t?(delete(n=e.extend(t,n)).padding,n.linear?this.easeTo(n,r):this.flyTo(n,r)):this}jumpTo(t,n){this.stop();const r=this.transform;let i=!1,o=!1,a=!1;return"zoom"in t&&r.zoom!==+t.zoom&&(i=!0,r.zoom=+t.zoom),void 0!==t.center&&(r.center=e.LngLat.convert(t.center)),"bearing"in t&&r.bearing!==+t.bearing&&(o=!0,r.bearing=+t.bearing),"pitch"in t&&r.pitch!==+t.pitch&&(a=!0,r.pitch=+t.pitch),null==t.padding||r.isPaddingEqual(t.padding)||(r.padding=t.padding),this.fire(new e.Event("movestart",n)).fire(new e.Event("move",n)),i&&this.fire(new e.Event("zoomstart",n)).fire(new e.Event("zoom",n)).fire(new e.Event("zoomend",n)),o&&this.fire(new e.Event("rotatestart",n)).fire(new e.Event("rotate",n)).fire(new e.Event("rotateend",n)),a&&this.fire(new e.Event("pitchstart",n)).fire(new e.Event("pitch",n)).fire(new e.Event("pitchend",n)),this.fire(new e.Event("moveend",n))}easeTo(t,n){this._stop(!1,t.easeId),(!1===(t=e.extend({offset:[0,0],duration:500,easing:e.ease},t)).animate||!t.essential&&e.exported.prefersReducedMotion)&&(t.duration=0);const r=this.transform,i=this.getZoom(),o=this.getBearing(),a=this.getPitch(),s=this.getPadding(),l="zoom"in t?+t.zoom:i,c="bearing"in t?this._normalizeBearing(t.bearing,o):o,u="pitch"in t?+t.pitch:a,d="padding"in t?t.padding:r.padding,f=e.pointGeometry.convert(t.offset);let p=r.centerPoint.add(f);const m=r.pointLocation(p),h=e.LngLat.convert(t.center||m);this._normalizeCenter(h);const g=r.project(m),y=r.project(h).sub(g),v=r.zoomScale(l-i);let b,w;t.around&&(b=e.LngLat.convert(t.around),w=r.locationPoint(b));const x={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||l!==i,this._rotating=this._rotating||o!==c,this._pitching=this._pitching||u!==a,this._padding=!r.isPaddingEqual(d),this._easeId=t.easeId,this._prepareEase(n,t.noMoveStart,x),this._ease((t=>{if(this._zooming&&(r.zoom=e.number(i,l,t)),this._rotating&&(r.bearing=e.number(o,c,t)),this._pitching&&(r.pitch=e.number(a,u,t)),this._padding&&(r.interpolatePadding(s,d,t),p=r.centerPoint.add(f)),b)r.setLocationAtPoint(b,w);else{const e=r.zoomScale(r.zoom-i),n=l>i?Math.min(2,v):Math.max(.5,v),o=Math.pow(n,1-t),a=r.unproject(g.add(y.mult(t*o)).mult(e));r.setLocationAtPoint(r.renderWorldCopies?a.wrap():a,p)}this._fireMoveEvents(n)}),(e=>{this._afterEase(n,e)}),t),this}_prepareEase(t,n,r={}){this._moving=!0,n||r.moving||this.fire(new e.Event("movestart",t)),this._zooming&&!r.zooming&&this.fire(new e.Event("zoomstart",t)),this._rotating&&!r.rotating&&this.fire(new e.Event("rotatestart",t)),this._pitching&&!r.pitching&&this.fire(new e.Event("pitchstart",t))}_fireMoveEvents(t){this.fire(new e.Event("move",t)),this._zooming&&this.fire(new e.Event("zoom",t)),this._rotating&&this.fire(new e.Event("rotate",t)),this._pitching&&this.fire(new e.Event("pitch",t))}_afterEase(t,n){if(this._easeId&&n&&this._easeId===n)return;delete this._easeId;const r=this._zooming,i=this._rotating,o=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,r&&this.fire(new e.Event("zoomend",t)),i&&this.fire(new e.Event("rotateend",t)),o&&this.fire(new e.Event("pitchend",t)),this.fire(new e.Event("moveend",t))}flyTo(t,n){if(!t.essential&&e.exported.prefersReducedMotion){const r=e.pick(t,["center","zoom","bearing","pitch","around"]);return this.jumpTo(r,n)}this.stop(),t=e.extend({offset:[0,0],speed:1.2,curve:1.42,easing:e.ease},t);const r=this.transform,i=this.getZoom(),o=this.getBearing(),a=this.getPitch(),s=this.getPadding(),l="zoom"in t?e.clamp(+t.zoom,r.minZoom,r.maxZoom):i,c="bearing"in t?this._normalizeBearing(t.bearing,o):o,u="pitch"in t?+t.pitch:a,d="padding"in t?t.padding:r.padding,f=r.zoomScale(l-i),p=e.pointGeometry.convert(t.offset);let m=r.centerPoint.add(p);const h=r.pointLocation(m),g=e.LngLat.convert(t.center||h);this._normalizeCenter(g);const y=r.project(h),v=r.project(g).sub(y);let b=t.curve;const w=Math.max(r.width,r.height),x=w/f,E=v.mag();if("minZoom"in t){const n=e.clamp(Math.min(t.minZoom,i,l),r.minZoom,r.maxZoom),o=w/r.zoomScale(n-i);b=Math.sqrt(o/E*2)}const _=b*b;function A(e){const t=(x*x-w*w+(e?-1:1)*_*_*E*E)/(2*(e?x:w)*_*E);return Math.log(Math.sqrt(t*t+1)-t)}function O(e){return(Math.exp(e)-Math.exp(-e))/2}function S(e){return(Math.exp(e)+Math.exp(-e))/2}const T=A(0);let I=function(e){return S(T)/S(T+b*e)},k=function(e){return w*((S(T)*(O(t=T+b*e)/S(t))-O(T))/_)/E;var t},C=(A(1)-T)/b;if(Math.abs(E)<1e-6||!isFinite(C)){if(Math.abs(w-x)<1e-6)return this.easeTo(t,n);const e=x<w?-1:1;C=Math.abs(Math.log(x/w))/b,k=function(){return 0},I=function(t){return Math.exp(e*b*t)}}return t.duration="duration"in t?+t.duration:1e3*C/("screenSpeed"in t?+t.screenSpeed/b:+t.speed),t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0),this._zooming=!0,this._rotating=o!==c,this._pitching=u!==a,this._padding=!r.isPaddingEqual(d),this._prepareEase(n,!1),this._ease((t=>{const f=t*C,h=1/I(f);r.zoom=1===t?l:i+r.scaleZoom(h),this._rotating&&(r.bearing=e.number(o,c,t)),this._pitching&&(r.pitch=e.number(a,u,t)),this._padding&&(r.interpolatePadding(s,d,t),m=r.centerPoint.add(p));const b=1===t?g:r.unproject(y.add(v.mult(k(f))).mult(h));r.setLocationAtPoint(r.renderWorldCopies?b.wrap():b,m),this._fireMoveEvents(n)}),(()=>this._afterEase(n)),t),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(e,t){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const e=this._onEaseEnd;delete this._onEaseEnd,e.call(this,t)}if(!e){const e=this.handlers;e&&e.stop(!1)}return this}_ease(t,n,r){!1===r.animate||0===r.duration?(t(1),n()):(this._easeStart=e.exported.now(),this._easeOptions=r,this._onEaseFrame=t,this._onEaseEnd=n,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const t=Math.min((e.exported.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(t,n){t=e.wrap(t,-180,180);const r=Math.abs(t-n);return Math.abs(t-360-n)<r&&(t-=360),Math.abs(t+360-n)<r&&(t+=360),t}_normalizeCenter(e){const t=this.transform;if(!t.renderWorldCopies||t.lngRange)return;const n=e.lng-t.center.lng;e.lng+=n>180?-360:n<-180?360:0}}class Kr{constructor(t={}){this.options=t,e.bindAll(["_toggleAttribution","_updateData","_updateCompact","_updateCompactMinimize"],this)}getDefaultPosition(){return"bottom-right"}onAdd(e){return this._map=e,this._compact=this.options&&this.options.compact,this._container=o.create("details","maplibregl-ctrl maplibregl-ctrl-attrib mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=o.create("summary","maplibregl-ctrl-attrib-button mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=o.create("div","maplibregl-ctrl-attrib-inner mapboxgl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){o.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(e,t){const n=this._map._getUIString(`AttributionControl.${t}`);e.title=n,e.setAttribute("aria-label",n)}_toggleAttribution(){this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show","mapboxgl-compact-show")):(this._container.classList.add("maplibregl-compact-show","mapboxgl-compact-show"),this._container.removeAttribute("open")))}_updateData(e){!e||"metadata"!==e.sourceDataType&&"visibility"!==e.sourceDataType&&"style"!==e.dataType||this._updateAttributions()}_updateAttributions(){if(!this._map.style)return;let e=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=e.concat(this.options.customAttribution.map((e=>"string"!=typeof e?"":e))):"string"==typeof this.options.customAttribution&&e.push(this.options.customAttribution)),this._map.style.stylesheet){const e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}const t=this._map.style.sourceCaches;for(const n in t){const r=t[n];if(r.used){const t=r.getSource();t.attribution&&e.indexOf(t.attribution)<0&&e.push(t.attribution)}}e=e.filter((e=>String(e).trim())),e.sort(((e,t)=>e.length-t.length)),e=e.filter(((t,n)=>{for(let r=n+1;r<e.length;r++)if(e[r].indexOf(t)>=0)return!1;return!0}));const n=e.join(" | ");n!==this._attribHTML&&(this._attribHTML=n,e.length?(this._innerContainer.innerHTML=n,this._container.classList.remove("maplibregl-attrib-empty","mapboxgl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty","mapboxgl-attrib-empty"),this._updateCompact(),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640||this._compact?!1===this._compact?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","mapboxgl-compact","maplibregl-compact-show","mapboxgl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show","mapboxgl-compact","mapboxgl-compact-show"))}_updateCompactMinimize(){this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show","mapboxgl-compact-show")}}class $r{constructor(t={}){this.options=t,e.bindAll(["_updateCompact"],this)}getDefaultPosition(){return"bottom-left"}onAdd(e){this._map=e,this._compact=this.options&&this.options.compact,this._container=o.create("div","maplibregl-ctrl mapboxgl-ctrl");const t=o.create("a","maplibregl-ctrl-logo mapboxgl-ctrl-logo");return t.target="_blank",t.rel="noopener nofollow",t.href="https://maplibre.org/",t.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),t.setAttribute("rel","noopener nofollow"),this._container.appendChild(t),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){o.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}_updateCompact(){const e=this._container.children;if(e.length){const t=e[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?!1!==this._compact&&t.classList.add("maplibregl-compact","mapboxgl-compact"):t.classList.remove("maplibregl-compact","mapboxgl-compact")}}}class ei{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(e){const t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t}remove(e){const t=this._currentlyRunning,n=t?this._queue.concat(t):this._queue;for(const t of n)if(t.id===e)return void(t.cancelled=!0)}run(e=0){const t=this._currentlyRunning=this._queue;this._queue=[];for(const n of t)if(!n.cancelled&&(n.callback(e),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}const ti={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},ni={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,fadeDuration:300,crossSourceCollisions:!0},ri={showCompass:!0,showZoom:!0,visualizePitch:!1};class ii{constructor(t,n,r=!1){this._clickTolerance=10,this.element=n,this.mouseRotate=new Ar({clickTolerance:t.dragRotate._mouseRotate._clickTolerance}),this.map=t,r&&(this.mousePitch=new Or({clickTolerance:t.dragRotate._mousePitch._clickTolerance})),e.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),o.addEventListener(n,"mousedown",this.mousedown),o.addEventListener(n,"touchstart",this.touchstart,{passive:!1}),o.addEventListener(n,"touchmove",this.touchmove),o.addEventListener(n,"touchend",this.touchend),o.addEventListener(n,"touchcancel",this.reset)}down(e,t){this.mouseRotate.mousedown(e,t),this.mousePitch&&this.mousePitch.mousedown(e,t),o.disableDrag()}move(e,t){const n=this.map,r=this.mouseRotate.mousemoveWindow(e,t);if(r&&r.bearingDelta&&n.setBearing(n.getBearing()+r.bearingDelta),this.mousePitch){const r=this.mousePitch.mousemoveWindow(e,t);r&&r.pitchDelta&&n.setPitch(n.getPitch()+r.pitchDelta)}}off(){const e=this.element;o.removeEventListener(e,"mousedown",this.mousedown),o.removeEventListener(e,"touchstart",this.touchstart,{passive:!1}),o.removeEventListener(e,"touchmove",this.touchmove),o.removeEventListener(e,"touchend",this.touchend),o.removeEventListener(e,"touchcancel",this.reset),this.offTemp()}offTemp(){o.enableDrag(),o.removeEventListener(window,"mousemove",this.mousemove),o.removeEventListener(window,"mouseup",this.mouseup)}mousedown(t){this.down(e.extend({},t,{ctrlKey:!0,preventDefault:()=>t.preventDefault()}),o.mousePos(this.element,t)),o.addEventListener(window,"mousemove",this.mousemove),o.addEventListener(window,"mouseup",this.mouseup)}mousemove(e){this.move(e,o.mousePos(this.element,e))}mouseup(e){this.mouseRotate.mouseupWindow(e),this.mousePitch&&this.mousePitch.mouseupWindow(e),this.offTemp()}touchstart(e){1!==e.targetTouches.length?this.reset():(this._startPos=this._lastPos=o.touchPos(this.element,e.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>e.preventDefault()},this._startPos))}touchmove(e){1!==e.targetTouches.length?this.reset():(this._lastPos=o.touchPos(this.element,e.targetTouches)[0],this.move({preventDefault:()=>e.preventDefault()},this._lastPos))}touchend(e){0===e.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}function oi(t,n,r){if(t=new e.LngLat(t.lng,t.lat),n){const i=new e.LngLat(t.lng-360,t.lat),o=new e.LngLat(t.lng+360,t.lat),a=r.locationPoint(t).distSqr(n);r.locationPoint(i).distSqr(n)<a?t=i:r.locationPoint(o).distSqr(n)<a&&(t=o)}for(;Math.abs(t.lng-r.center.lng)>180;){const e=r.locationPoint(t);if(e.x>=0&&e.y>=0&&e.x<=r.width&&e.y<=r.height)break;t.lng>r.center.lng?t.lng-=360:t.lng+=360}return t}const ai={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function si(e,t,n){const r=e.classList;for(const e in ai)r.remove(`maplibregl-${n}-anchor-${e}`,`mapboxgl-${n}-anchor-${e}`);r.add(`maplibregl-${n}-anchor-${t}`,`mapboxgl-${n}-anchor-${t}`)}class li extends e.Evented{constructor(t,n){if(super(),(t instanceof HTMLElement||n)&&(t=e.extend({element:t},n)),e.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=t&&t.anchor||"center",this._color=t&&t.color||"#3FB1CE",this._scale=t&&t.scale||1,this._draggable=t&&t.draggable||!1,this._clickTolerance=t&&t.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=t&&t.rotation||0,this._rotationAlignment=t&&t.rotationAlignment||"auto",this._pitchAlignment=t&&t.pitchAlignment&&"auto"!==t.pitchAlignment?t.pitchAlignment:this._rotationAlignment,t&&t.element)this._element=t.element,this._offset=e.pointGeometry.convert(t&&t.offset||[0,0]);else{this._defaultMarker=!0,this._element=o.create("div"),this._element.setAttribute("aria-label","Map marker");const n=o.createNS("http://www.w3.org/2000/svg","svg"),r=41,i=27;n.setAttributeNS(null,"display","block"),n.setAttributeNS(null,"height",`${r}px`),n.setAttributeNS(null,"width",`${i}px`),n.setAttributeNS(null,"viewBox",`0 0 ${i} ${r}`);const a=o.createNS("http://www.w3.org/2000/svg","g");a.setAttributeNS(null,"stroke","none"),a.setAttributeNS(null,"stroke-width","1"),a.setAttributeNS(null,"fill","none"),a.setAttributeNS(null,"fill-rule","evenodd");const s=o.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"fill-rule","nonzero");const l=o.createNS("http://www.w3.org/2000/svg","g");l.setAttributeNS(null,"transform","translate(3.0, 29.0)"),l.setAttributeNS(null,"fill","#000000");const c=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const e of c){const t=o.createNS("http://www.w3.org/2000/svg","ellipse");t.setAttributeNS(null,"opacity","0.04"),t.setAttributeNS(null,"cx","10.5"),t.setAttributeNS(null,"cy","5.80029008"),t.setAttributeNS(null,"rx",e.rx),t.setAttributeNS(null,"ry",e.ry),l.appendChild(t)}const u=o.createNS("http://www.w3.org/2000/svg","g");u.setAttributeNS(null,"fill",this._color);const d=o.createNS("http://www.w3.org/2000/svg","path");d.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),u.appendChild(d);const f=o.createNS("http://www.w3.org/2000/svg","g");f.setAttributeNS(null,"opacity","0.25"),f.setAttributeNS(null,"fill","#000000");const p=o.createNS("http://www.w3.org/2000/svg","path");p.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),f.appendChild(p);const m=o.createNS("http://www.w3.org/2000/svg","g");m.setAttributeNS(null,"transform","translate(6.0, 7.0)"),m.setAttributeNS(null,"fill","#FFFFFF");const h=o.createNS("http://www.w3.org/2000/svg","g");h.setAttributeNS(null,"transform","translate(8.0, 8.0)");const g=o.createNS("http://www.w3.org/2000/svg","circle");g.setAttributeNS(null,"fill","#000000"),g.setAttributeNS(null,"opacity","0.25"),g.setAttributeNS(null,"cx","5.5"),g.setAttributeNS(null,"cy","5.5"),g.setAttributeNS(null,"r","5.4999962");const y=o.createNS("http://www.w3.org/2000/svg","circle");y.setAttributeNS(null,"fill","#FFFFFF"),y.setAttributeNS(null,"cx","5.5"),y.setAttributeNS(null,"cy","5.5"),y.setAttributeNS(null,"r","5.4999962"),h.appendChild(g),h.appendChild(y),s.appendChild(l),s.appendChild(u),s.appendChild(f),s.appendChild(m),s.appendChild(h),n.appendChild(s),n.setAttributeNS(null,"height",r*this._scale+"px"),n.setAttributeNS(null,"width",i*this._scale+"px"),this._element.appendChild(n),this._offset=e.pointGeometry.convert(t&&t.offset||[0,-14])}this._element.classList.add("maplibregl-marker","mapboxgl-marker"),this._element.addEventListener("dragstart",(e=>{e.preventDefault()})),this._element.addEventListener("mousedown",(e=>{e.preventDefault()})),si(this._element,this._anchor,"marker"),this._popup=null}addTo(e){return this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on("move",this._update),e.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),o.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),e){if(!("offset"in e.options)){const t=38.1,n=13.5,r=Math.sqrt(Math.pow(n,2)/2);e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-t],"bottom-left":[r,-1*(t-n+r)],"bottom-right":[-r,-1*(t-n+r)],left:[n,-1*(t-n)],right:[-n,-1*(t-n)]}:this._offset}this._popup=e,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}_onKeyPress(e){const t=e.code,n=e.charCode||e.keyCode;"Space"!==t&&"Enter"!==t&&32!==n&&13!==n||this.togglePopup()}_onMapClick(e){const t=e.originalEvent.target,n=this._element;this._popup&&(t===n||n.contains(t))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const e=this._popup;return e?(e.isOpen()?e.remove():e.addTo(this._map),this):this}_update(e){if(!this._map)return;this._map.transform.renderWorldCopies&&(this._lngLat=oi(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);let t="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?t=`rotateZ(${this._rotation}deg)`:"map"===this._rotationAlignment&&(t=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let n="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?n="rotateX(0deg)":"map"===this._pitchAlignment&&(n=`rotateX(${this._map.getPitch()}deg)`),e&&"moveend"!==e.type||(this._pos=this._pos.round()),o.setTransform(this._element,`${ai[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${n} ${t}`)}getOffset(){return this._offset}setOffset(t){return this._offset=e.pointGeometry.convert(t),this._update(),this}_onMove(t){if(!this._isDragging){const e=this._clickTolerance||this._map._clickTolerance;this._isDragging=t.point.dist(this._pointerdownPos)>=e}this._isDragging&&(this._pos=t.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new e.Event("dragstart"))),this.fire(new e.Event("drag")))}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new e.Event("dragend")),this._state="inactive"}_addDragHandler(e){this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(this._pos).add(this._offset),this._pointerdownPos=e.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))}setDraggable(e){return this._draggable=!!e,this._map&&(e?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(e){return this._rotation=e||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(e){return this._rotationAlignment=e||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(e){return this._pitchAlignment=e&&"auto"!==e?e:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}const ci={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let ui,di=0,fi=!1;const pi={maxWidth:100,unit:"metric"};function mi(e,t,n){const r=n&&n.maxWidth||100,i=e._container.clientHeight/2,o=e.unproject([0,i]),a=e.unproject([r,i]),s=o.distanceTo(a);if(n&&"imperial"===n.unit){const n=3.2808*s;n>5280?hi(t,r,n/5280,e._getUIString("ScaleControl.Miles")):hi(t,r,n,e._getUIString("ScaleControl.Feet"))}else n&&"nautical"===n.unit?hi(t,r,s/1852,e._getUIString("ScaleControl.NauticalMiles")):s>=1e3?hi(t,r,s/1e3,e._getUIString("ScaleControl.Kilometers")):hi(t,r,s,e._getUIString("ScaleControl.Meters"))}function hi(e,t,n,r){const i=function(e){const t=Math.pow(10,`${Math.floor(e)}`.length-1);let n=e/t;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:n>=1?1:function(e){const t=Math.pow(10,Math.ceil(-Math.log(e)/Math.LN10));return Math.round(e*t)/t}(n),t*n}(n);e.style.width=t*(i/n)+"px",e.innerHTML=`${i}&nbsp;${r}`}const gi={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},yi=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function vi(t){if(t){if("number"==typeof t){const n=Math.round(Math.sqrt(.5*Math.pow(t,2)));return{center:new e.pointGeometry(0,0),top:new e.pointGeometry(0,t),"top-left":new e.pointGeometry(n,n),"top-right":new e.pointGeometry(-n,n),bottom:new e.pointGeometry(0,-t),"bottom-left":new e.pointGeometry(n,-n),"bottom-right":new e.pointGeometry(-n,-n),left:new e.pointGeometry(t,0),right:new e.pointGeometry(-t,0)}}if(t instanceof e.pointGeometry||Array.isArray(t)){const n=e.pointGeometry.convert(t);return{center:n,top:n,"top-left":n,"top-right":n,bottom:n,"bottom-left":n,"bottom-right":n,left:n,right:n}}return{center:e.pointGeometry.convert(t.center||[0,0]),top:e.pointGeometry.convert(t.top||[0,0]),"top-left":e.pointGeometry.convert(t["top-left"]||[0,0]),"top-right":e.pointGeometry.convert(t["top-right"]||[0,0]),bottom:e.pointGeometry.convert(t.bottom||[0,0]),"bottom-left":e.pointGeometry.convert(t["bottom-left"]||[0,0]),"bottom-right":e.pointGeometry.convert(t["bottom-right"]||[0,0]),left:e.pointGeometry.convert(t.left||[0,0]),right:e.pointGeometry.convert(t.right||[0,0])}}return vi(new e.pointGeometry(0,0))}const bi={supported:t,setRTLTextPlugin:e.setRTLTextPlugin,getRTLTextPluginStatus:e.getRTLTextPluginStatus,Map:class extends qr{constructor(t){var n;if(e.PerformanceUtils.mark(e.PerformanceMarkers.create),null!=(t=e.extend({},ni,t)).minZoom&&null!=t.maxZoom&&t.minZoom>t.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=t.minPitch&&null!=t.maxPitch&&t.minPitch>t.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=t.minPitch&&t.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=t.maxPitch&&t.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new tr(t.minZoom,t.maxZoom,t.minPitch,t.maxPitch,t.renderWorldCopies),{bearingSnap:t.bearingSnap}),this._interactive=t.interactive,this._maxTileCacheSize=t.maxTileCacheSize,this._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=t.preserveDrawingBuffer,this._antialias=t.antialias,this._trackResize=t.trackResize,this._bearingSnap=t.bearingSnap,this._refreshExpiredTiles=t.refreshExpiredTiles,this._fadeDuration=t.fadeDuration,this._crossSourceCollisions=t.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=t.collectResourceTiming,this._renderTaskQueue=new ei,this._controls=[],this._mapId=e.uniqueId(),this._locale=e.extend({},ti,t.locale),this._clickTolerance=t.clickTolerance,this._pixelRatio=null!==(n=t.pixelRatio)&&void 0!==n?n:devicePixelRatio,this._requestManager=new a(t.transformRequest),"string"==typeof t.container){if(this._container=document.getElementById(t.container),!this._container)throw new Error(`Container '${t.container}' not found.`)}else{if(!(t.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=t.container}if(t.maxBounds&&this.setMaxBounds(t.maxBounds),e.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",(()=>this._update(!1))),this.on("moveend",(()=>this._update(!1))),this.on("zoom",(()=>this._update(!0))),"undefined"!=typeof window&&(addEventListener("online",this._onWindowOnline,!1),addEventListener("resize",this._onWindowResize,!1),addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new Xr(this,t),this._hash=t.hash&&new nr("string"==typeof t.hash&&t.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),t.bounds&&(this.resize(),this.fitBounds(t.bounds,e.extend({},t.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=t.localIdeographFontFamily,t.style&&this.setStyle(t.style,{localIdeographFontFamily:t.localIdeographFontFamily}),t.attributionControl&&this.addControl(new Kr({customAttribution:t.customAttribution})),t.maplibreLogo&&this.addControl(new $r,t.logoPosition),this.on("style.load",(()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)})),this.on("data",(t=>{this._update("style"===t.dataType),this.fire(new e.Event(`${t.dataType}data`,t))})),this.on("dataloading",(t=>{this.fire(new e.Event(`${t.dataType}dataloading`,t))})),this.on("dataabort",(t=>{this.fire(new e.Event("sourcedataabort",t))}))}_getMapId(){return this._mapId}addControl(t,n){if(void 0===n&&(n=t.getDefaultPosition?t.getDefaultPosition():"top-right"),!t||!t.onAdd)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const r=t.onAdd(this);this._controls.push(t);const i=this._controlPositions[n];return-1!==n.indexOf("bottom")?i.insertBefore(r,i.firstChild):i.appendChild(r),this}removeControl(t){if(!t||!t.onRemove)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const n=this._controls.indexOf(t);return n>-1&&this._controls.splice(n,1),t.onRemove(this),this}hasControl(e){return this._controls.indexOf(e)>-1}resize(t){const n=this._containerDimensions(),r=n[0],i=n[1];this._resizeCanvas(r,i,this.getPixelRatio()),this.transform.resize(r,i),this.painter.resize(r,i,this.getPixelRatio());const o=!this._moving;return o&&(this.stop(),this.fire(new e.Event("movestart",t)).fire(new e.Event("move",t))),this.fire(new e.Event("resize",t)),o&&this.fire(new e.Event("moveend",t)),this}getPixelRatio(){return this._pixelRatio}setPixelRatio(e){const[t,n]=this._containerDimensions();this._pixelRatio=e,this._resizeCanvas(t,n,e),this.painter.resize(t,n,e)}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(t){return this.transform.setMaxBounds(e.LngLatBounds.convert(t)),this._update()}setMinZoom(e){if((e=null==e?-2:e)>=-2&&e<=this.transform.maxZoom)return this.transform.minZoom=e,this._update(),this.getZoom()<e&&this.setZoom(e),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(e){if((e=null==e?22:e)>=this.transform.minZoom)return this.transform.maxZoom=e,this._update(),this.getZoom()>e&&this.setZoom(e),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(e){if((e=null==e?0:e)<0)throw new Error("minPitch must be greater than or equal to 0");if(e>=0&&e<=this.transform.maxPitch)return this.transform.minPitch=e,this._update(),this.getPitch()<e&&this.setPitch(e),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(e){if((e=null==e?60:e)>85)throw new Error("maxPitch must be less than or equal to 85");if(e>=this.transform.minPitch)return this.transform.maxPitch=e,this._update(),this.getPitch()>e&&this.setPitch(e),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(e){return this.transform.renderWorldCopies=e,this._update()}project(t){return this.transform.locationPoint(e.LngLat.convert(t))}unproject(t){return this.transform.pointLocation(e.pointGeometry.convert(t))}isMoving(){return this._moving||this.handlers.isMoving()}isZooming(){return this._zooming||this.handlers.isZooming()}isRotating(){return this._rotating||this.handlers.isRotating()}_createDelegatedListener(e,t,n){if("mouseenter"===e||"mouseover"===e){let r=!1;const i=i=>{const o=this.getLayer(t)?this.queryRenderedFeatures(i.point,{layers:[t]}):[];o.length?r||(r=!0,n.call(this,new dr(e,this,i.originalEvent,{features:o}))):r=!1};return{layer:t,listener:n,delegates:{mousemove:i,mouseout:()=>{r=!1}}}}if("mouseleave"===e||"mouseout"===e){let r=!1;const i=i=>{(this.getLayer(t)?this.queryRenderedFeatures(i.point,{layers:[t]}):[]).length?r=!0:r&&(r=!1,n.call(this,new dr(e,this,i.originalEvent)))},o=t=>{r&&(r=!1,n.call(this,new dr(e,this,t.originalEvent)))};return{layer:t,listener:n,delegates:{mousemove:i,mouseout:o}}}{const r=e=>{const r=this.getLayer(t)?this.queryRenderedFeatures(e.point,{layers:[t]}):[];r.length&&(e.features=r,n.call(this,e),delete e.features)};return{layer:t,listener:n,delegates:{[e]:r}}}}on(e,t,n){if(void 0===n)return super.on(e,t);const r=this._createDelegatedListener(e,t,n);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(r);for(const e in r.delegates)this.on(e,r.delegates[e]);return this}once(e,t,n){if(void 0===n)return super.once(e,t);const r=this._createDelegatedListener(e,t,n);for(const e in r.delegates)this.once(e,r.delegates[e]);return this}off(e,t,n){return void 0===n?super.off(e,t):(this._delegatedListeners&&this._delegatedListeners[e]&&(r=>{const i=this._delegatedListeners[e];for(let e=0;e<i.length;e++){const r=i[e];if(r.layer===t&&r.listener===n){for(const e in r.delegates)this.off(e,r.delegates[e]);return i.splice(e,1),this}}})(),this)}queryRenderedFeatures(t,n){if(!this.style)return[];let r;if(void 0!==n||void 0===t||t instanceof e.pointGeometry||Array.isArray(t)||(n=t,t=void 0),n=n||{},(t=t||[[0,0],[this.transform.width,this.transform.height]])instanceof e.pointGeometry||"number"==typeof t[0])r=[e.pointGeometry.convert(t)];else{const n=e.pointGeometry.convert(t[0]),i=e.pointGeometry.convert(t[1]);r=[n,new e.pointGeometry(i.x,n.y),i,new e.pointGeometry(n.x,i.y),n]}return this.style.queryRenderedFeatures(r,n,this.transform)}querySourceFeatures(e,t){return this.style.querySourceFeatures(e,t)}setStyle(t,n){return!1!==(n=e.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},n)).diff&&n.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&t?(this._diffStyle(t,n),this):(this._localIdeographFontFamily=n.localIdeographFontFamily,this._updateStyle(t,n))}setTransformRequest(e){return this._requestManager.setTransformRequest(e),this}_getUIString(e){const t=this._locale[e];if(null==t)throw new Error(`Missing UI string '${e}'`);return t}_updateStyle(e,t){return this.style&&(this.style.setEventedParent(null),this.style._remove()),e?(this.style=new nt(this,t||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e):this.style.loadJSON(e),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new nt(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(t,n){if("string"==typeof t){const r=this._requestManager.transformRequest(t,e.ResourceType.Style);e.getJSON(r,((t,r)=>{t?this.fire(new e.ErrorEvent(t)):r&&this._updateDiff(r,n)}))}else"object"==typeof t&&this._updateDiff(t,n)}_updateDiff(t,n){try{this.style.setState(t)&&this._update(!0)}catch(r){e.warnOnce(`Unable to perform style diff: ${r.message||r.error||r}.  Rebuilding the style from scratch.`),this._updateStyle(t,n)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():e.warnOnce("There is no style added to the map.")}addSource(e,t){return this._lazyInitEmptyStyle(),this.style.addSource(e,t),this._update(!0)}isSourceLoaded(t){const n=this.style&&this.style.sourceCaches[t];if(void 0!==n)return n.loaded();this.fire(new e.ErrorEvent(new Error(`There is no source with ID '${t}'`)))}areTilesLoaded(){const e=this.style&&this.style.sourceCaches;for(const t in e){const n=e[t]._tiles;for(const e in n){const t=n[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}}return!0}addSourceType(e,t,n){return this._lazyInitEmptyStyle(),this.style.addSourceType(e,t,n)}removeSource(e){return this.style.removeSource(e),this._update(!0)}getSource(e){return this.style.getSource(e)}addImage(t,n,{pixelRatio:r=1,sdf:i=!1,stretchX:o,stretchY:a,content:s}={}){if(this._lazyInitEmptyStyle(),n instanceof HTMLImageElement||e.isImageBitmap(n)){const{width:l,height:c,data:u}=e.exported.getImageData(n);this.style.addImage(t,{data:new e.RGBAImage({width:l,height:c},u),pixelRatio:r,stretchX:o,stretchY:a,content:s,sdf:i,version:0})}else{if(void 0===n.width||void 0===n.height)return this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:l,height:c,data:u}=n,d=n;this.style.addImage(t,{data:new e.RGBAImage({width:l,height:c},new Uint8Array(u)),pixelRatio:r,stretchX:o,stretchY:a,content:s,sdf:i,version:0,userImage:d}),d.onAdd&&d.onAdd(this,t)}}}updateImage(t,n){const r=this.style.getImage(t);if(!r)return this.fire(new e.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const i=n instanceof HTMLImageElement||e.isImageBitmap(n)?e.exported.getImageData(n):n,{width:o,height:a,data:s}=i;if(void 0===o||void 0===a)return this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(o!==r.data.width||a!==r.data.height)return this.fire(new e.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));const l=!(n instanceof HTMLImageElement||e.isImageBitmap(n));r.data.replace(s,l),this.style.updateImage(t,r)}hasImage(t){return t?!!this.style.getImage(t):(this.fire(new e.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(e){this.style.removeImage(e)}loadImage(t,n){e.getImage(this._requestManager.transformRequest(t,e.ResourceType.Image),n)}listImages(){return this.style.listImages()}addLayer(e,t){return this._lazyInitEmptyStyle(),this.style.addLayer(e,t),this._update(!0)}moveLayer(e,t){return this.style.moveLayer(e,t),this._update(!0)}removeLayer(e){return this.style.removeLayer(e),this._update(!0)}getLayer(e){return this.style.getLayer(e)}setLayerZoomRange(e,t,n){return this.style.setLayerZoomRange(e,t,n),this._update(!0)}setFilter(e,t,n={}){return this.style.setFilter(e,t,n),this._update(!0)}getFilter(e){return this.style.getFilter(e)}setPaintProperty(e,t,n,r={}){return this.style.setPaintProperty(e,t,n,r),this._update(!0)}getPaintProperty(e,t){return this.style.getPaintProperty(e,t)}setLayoutProperty(e,t,n,r={}){return this.style.setLayoutProperty(e,t,n,r),this._update(!0)}getLayoutProperty(e,t){return this.style.getLayoutProperty(e,t)}setLight(e,t={}){return this._lazyInitEmptyStyle(),this.style.setLight(e,t),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(e,t){return this.style.setFeatureState(e,t),this._update()}removeFeatureState(e,t){return this.style.removeFeatureState(e,t),this._update()}getFeatureState(e){return this.style.getFeatureState(e)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let e=0,t=0;return this._container&&(e=this._container.clientWidth||400,t=this._container.clientHeight||300),[e,t]}_setupContainer(){const e=this._container;e.classList.add("maplibregl-map","mapboxgl-map");const t=this._canvasContainer=o.create("div","maplibregl-canvas-container mapboxgl-canvas-container",e);this._interactive&&t.classList.add("maplibregl-interactive","mapboxgl-interactive"),this._canvas=o.create("canvas","maplibregl-canvas mapboxgl-canvas",t),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const n=this._containerDimensions();this._resizeCanvas(n[0],n[1],this.getPixelRatio());const r=this._controlContainer=o.create("div","maplibregl-control-container mapboxgl-control-container",e),i=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((e=>{i[e]=o.create("div",`maplibregl-ctrl-${e} mapboxgl-ctrl-${e}`,r)})),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(e,t,n){this._canvas.width=n*e,this._canvas.height=n*t,this._canvas.style.width=`${e}px`,this._canvas.style.height=`${t}px`}_setupPainter(){const n=e.extend({},t.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),r=this._canvas.getContext("webgl",n)||this._canvas.getContext("experimental-webgl",n);r?(this.painter=new qn(r,this.transform),e.exported$1.testSupport(r)):this.fire(new e.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(t){t.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new e.Event("webglcontextlost",{originalEvent:t}))}_contextRestored(t){this._setupPainter(),this.resize(),this._update(),this.fire(new e.Event("webglcontextrestored",{originalEvent:t}))}_onMapScroll(e){if(e.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(e){return this.style?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(e){return this._update(),this._renderTaskQueue.add(e)}_cancelRenderFrame(e){this._renderTaskQueue.remove(e)}_render(t){let n,r=0;const i=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(n=i.createQueryEXT(),i.beginQueryEXT(i.TIME_ELAPSED_EXT,n),r=e.exported.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(t),this._removed)return;let o=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const t=this.transform.zoom,n=e.exported.now();this.style.zoomHistory.update(t,n);const r=new e.EvaluationParameters(t,{now:n,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),i=r.crossFadingFactor();1===i&&i===this._crossFadingFactor||(o=!0,this._crossFadingFactor=i),this.style.update(r)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new e.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,e.PerformanceUtils.mark(e.PerformanceMarkers.load),this.fire(new e.Event("load"))),this.style&&(this.style.hasTransitions()||o)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){const t=e.exported.now()-r;i.endQueryEXT(i.TIME_ELAPSED_EXT,n),setTimeout((()=>{const r=i.getQueryObjectEXT(n,i.QUERY_RESULT_EXT)/1e6;i.deleteQueryEXT(n),this.fire(new e.Event("gpu-timing-frame",{cpuTime:t,gpuTime:r}))}),50)}if(this.listens("gpu-timing-layer")){const t=this.painter.collectGpuTimers();setTimeout((()=>{const n=this.painter.queryGpuTimers(t);this.fire(new e.Event("gpu-timing-layer",{layerTimes:n}))}),50)}const a=this._sourcesDirty||this._styleDirty||this._placementDirty;return a||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new e.Event("idle")),!this._loaded||this._fullyLoaded||a||(this._fullyLoaded=!0,e.PerformanceUtils.mark(e.PerformanceMarkers.fullLoad)),this}redraw(){return this.style&&(this._frame&&(this._frame.cancel(),this._frame=null),this._render(0)),this}remove(){this._hash&&this._hash.remove();for(const e of this._controls)e.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),"undefined"!=typeof window&&(removeEventListener("resize",this._onWindowResize,!1),removeEventListener("orientationchange",this._onWindowResize,!1),removeEventListener("online",this._onWindowOnline,!1));const t=this.painter.context.gl.getExtension("WEBGL_lose_context");t&&t.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),o.remove(this._canvasContainer),o.remove(this._controlContainer),this._container.classList.remove("maplibregl-map","mapboxgl-map"),e.PerformanceUtils.clearMetrics(),this._removed=!0,this.fire(new e.Event("remove"))}triggerRepaint(){this.style&&!this._frame&&(this._frame=e.exported.frame((t=>{e.PerformanceUtils.frame(t),this._frame=null,this._render(t)})))}_onWindowOnline(){this._update()}_onWindowResize(e){this._trackResize&&this.resize({originalEvent:e})._update()}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())}get showPadding(){return!!this._showPadding}set showPadding(e){this._showPadding!==e&&(this._showPadding=e,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())}get repaint(){return!!this._repaint}set repaint(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(e){this._vertices=e,this._update()}_setCacheLimits(t,n){e.setCacheLimits(t,n)}},NavigationControl:class{constructor(t){this.options=e.extend({},ri,t),this._container=o.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(e=>e.preventDefault())),this.options.showZoom&&(e.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in mapboxgl-ctrl-zoom-in",(e=>this._map.zoomIn({},{originalEvent:e}))),o.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out mapboxgl-ctrl-zoom-out",(e=>this._map.zoomOut({},{originalEvent:e}))),o.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(e.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("maplibregl-ctrl-compass mapboxgl-ctrl-compass",(e=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:e}):this._map.resetNorth({},{originalEvent:e})})),this._compassIcon=o.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const e=this._map.getZoom(),t=e===this._map.getMaxZoom(),n=e===this._map.getMinZoom();this._zoomInButton.disabled=t,this._zoomOutButton.disabled=n,this._zoomInButton.setAttribute("aria-disabled",t.toString()),this._zoomOutButton.setAttribute("aria-disabled",n.toString())}_rotateCompassArrow(){const e=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=e}onAdd(e){return this._map=e,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new ii(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){o.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(e,t){const n=o.create("button",e,this._container);return n.type="button",n.addEventListener("click",t),n}_setButtonTitle(e,t){const n=this._map._getUIString(`NavigationControl.${t}`);e.title=n,e.setAttribute("aria-label",n)}},GeolocateControl:class extends e.Evented{constructor(t){super(),this.options=e.extend({},ci,t),e.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}onAdd(e){var t;return this._map=e,this._container=o.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),t=this._setupUI,void 0!==ui?t(ui):void 0!==window.navigator.permissions?window.navigator.permissions.query({name:"geolocation"}).then((e=>{ui="denied"!==e.state,t(ui)})):(ui=!!window.navigator.geolocation,t(ui)),this._container}onRemove(){void 0!==this._geolocationWatchID&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),o.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,di=0,fi=!1}_isOutOfMapMaxBounds(e){const t=this._map.getMaxBounds(),n=e.coords;return t&&(n.longitude<t.getWest()||n.longitude>t.getEast()||n.latitude<t.getSouth()||n.latitude>t.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(t){if(this._map){if(this._isOutOfMapMaxBounds(t))return this._setErrorState(),this.fire(new e.Event("outofmaxbounds",t)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale","mapboxgl-user-location-dot-stale"),this.fire(new e.Event("geolocate",t)),this._finish()}}_updateCamera(t){const n=new e.LngLat(t.coords.longitude,t.coords.latitude),r=t.coords.accuracy,i=this._map.getBearing(),o=e.extend({bearing:i},this.options.fitBoundsOptions);this._map.fitBounds(n.toBounds(r),o,{geolocateSource:!0})}_updateMarker(t){if(t){const n=new e.LngLat(t.coords.longitude,t.coords.latitude);this._accuracyCircleMarker.setLngLat(n).addTo(this._map),this._userLocationDotMarker.setLngLat(n).addTo(this._map),this._accuracy=t.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const e=this._map._container.clientHeight/2,t=this._map.unproject([0,e]),n=this._map.unproject([1,e]),r=t.distanceTo(n),i=Math.ceil(2*this._accuracy/r);this._circleElement.style.width=`${i}px`,this._circleElement.style.height=`${i}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_onError(t){if(this._map){if(this.options.trackUserLocation)if(1===t.code){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const e=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=e,this._geolocateButton.setAttribute("aria-label",e),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===t.code&&fi)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale","mapboxgl-user-location-dot-stale"),this.fire(new e.Event("error",t)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(t){if(this._container.addEventListener("contextmenu",(e=>e.preventDefault())),this._geolocateButton=o.create("button","maplibregl-ctrl-geolocate mapboxgl-ctrl-geolocate",this._container),o.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",!1===t){e.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const t=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=t,this._geolocateButton.setAttribute("aria-label",t)}else{const e=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=e,this._geolocateButton.setAttribute("aria-label",e)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=o.create("div","maplibregl-user-location-dot mapboxgl-user-location-dot"),this._userLocationDotMarker=new li(this._dotElement),this._circleElement=o.create("div","maplibregl-user-location-accuracy-circle mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new li({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(t=>{t.geolocateSource||"ACTIVE_LOCK"!==this._watchState||t.originalEvent&&"resize"===t.originalEvent.type||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this.fire(new e.Event("trackuserlocationend")))}))}trigger(){if(!this._setup)return e.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new e.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":di--,fi=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this.fire(new e.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new e.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let e;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),di++,di>1?(e={maximumAge:6e5,timeout:0},fi=!0):(e=this.options.positionOptions,fi=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,e)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:Kr,LogoControl:$r,ScaleControl:class{constructor(t){this.options=e.extend({},pi,t),e.bindAll(["_onMove","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_onMove(){mi(this._map,this._container,this.options)}onAdd(e){return this._map=e,this._container=o.create("div","maplibregl-ctrl maplibregl-ctrl-scale mapboxgl-ctrl mapboxgl-ctrl-scale",e.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){o.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}setUnit(e){this.options.unit=e,mi(this._map,this._container,this.options)}},FullscreenControl:class{constructor(t){this._fullscreen=!1,t&&t.container&&(t.container instanceof HTMLElement?this._container=t.container:e.warnOnce("Full screen control 'container' must be a DOM element.")),e.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(t){return this._map=t,this._container||(this._container=this._map.getContainer()),this._controlContainer=o.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",e.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){o.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!!(document.fullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled)}_setupUI(){const e=this._fullscreenButton=o.create("button","maplibregl-ctrl-fullscreen mapboxgl-ctrl-fullscreen",this._controlContainer);o.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",e).setAttribute("aria-hidden","true"),e.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const e=this._getTitle();this._fullscreenButton.setAttribute("aria-label",e),this._fullscreenButton.title=e}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen&&window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends e.Evented{constructor(t){super(),this.options=e.extend(Object.create(gi),t),e.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}addTo(t){return this._map&&this.remove(),this._map=t,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer","mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new e.Event("open")),this}isOpen(){return!!this._map}remove(){return this._content&&o.remove(this._content),this._container&&(o.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new e.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer","mapboxgl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer","mapboxgl-track-pointer")),this}getElement(){return this._container}setText(e){return this.setDOMContent(document.createTextNode(e))}setHTML(e){const t=document.createDocumentFragment(),n=document.createElement("body");let r;for(n.innerHTML=e;r=n.firstChild,r;)t.appendChild(r);return this.setDOMContent(t)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(e){return this.options.maxWidth=e,this._update(),this}setDOMContent(e){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=o.create("div","maplibregl-popup-content mapboxgl-popup-content",this._container);return this._content.appendChild(e),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(e){this._container&&this._container.classList.add(e)}removeClassName(e){this._container&&this._container.classList.remove(e)}setOffset(e){return this.options.offset=e,this._update(),this}toggleClassName(e){if(this._container)return this._container.classList.toggle(e)}_createCloseButton(){this.options.closeButton&&(this._closeButton=o.create("button","maplibregl-popup-close-button mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_onMouseUp(e){this._update(e.point)}_onMouseMove(e){this._update(e.point)}_onDrag(e){this._update(e.point)}_update(e){if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(this._container||(this._container=o.create("div","maplibregl-popup mapboxgl-popup",this._map.getContainer()),this._tip=o.create("div","maplibregl-popup-tip mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach((e=>this._container.classList.add(e))),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=oi(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!e)return;const t=this._pos=this._trackPointer&&e?e:this._map.project(this._lngLat);let n=this.options.anchor;const r=vi(this.options.offset);if(!n){const e=this._container.offsetWidth,i=this._container.offsetHeight;let o;o=t.y+r.bottom.y<i?["top"]:t.y>this._map.transform.height-i?["bottom"]:[],t.x<e/2?o.push("left"):t.x>this._map.transform.width-e/2&&o.push("right"),n=0===o.length?"bottom":o.join("-")}const i=t.add(r[n]).round();o.setTransform(this._container,`${ai[n]} translate(${i.x}px,${i.y}px)`),si(this._container,n,"popup")}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const e=this._container.querySelector(yi);e&&e.focus()}_onClose(){this.remove()}},Marker:li,Style:nt,LngLat:e.LngLat,LngLatBounds:e.LngLatBounds,Point:e.pointGeometry,MercatorCoordinate:e.MercatorCoordinate,Evented:e.Evented,AJAXError:e.AJAXError,config:e.config,CanvasSource:L,GeoJSONSource:C,ImageSource:N,RasterDEMTileSource:k,RasterTileSource:T,VectorTileSource:S,VideoSource:j,prewarm:function(){X().acquire(W)},clearPrewarmedResources:function(){const e=Z;e&&(e.isPreloaded()&&1===e.numActive()?(e.release(W),Z=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get workerCount(){return Y.workerCount},set workerCount(e){Y.workerCount=e},get maxParallelImageRequests(){return e.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(t){e.config.MAX_PARALLEL_IMAGE_REQUESTS=t},clearStorage(t){e.clearTileCache(t)},workerUrl:"",addProtocol(t,n){e.config.REGISTERED_PROTOCOLS[t]=n},removeProtocol(t){delete e.config.REGISTERED_PROTOCOLS[t]}};return Jr.extend(bi,{isSafari:e.isSafari,getPerformanceMetrics:e.PerformanceUtils.getPerformanceMetrics}),bi})),n}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(83),i=n(154),o=n(3),a=864e5;function s(e,t){Object(o.a)(2,arguments);var n=Object(i.a)(e),s=Object(i.a)(t),l=n.getTime()-Object(r.a)(n),c=s.getTime()-Object(r.a)(s);return Math.round((l-c)/a)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(5),i=n(3);function o(e,t){Object(i.a)(2,arguments);var n=Object(r.a)(e),o=Object(r.a)(t),a=n.getTime()-o.getTime();return a<0?-1:a>0?1:a}},function(e,t,n){"use strict";n.r(t),n.d(t,"Accessible",(function(){return Ut})),n.d(t,"AerialTram",(function(){return zt})),n.d(t,"Alert",(function(){return Vt})),n.d(t,"AlertSolid",(function(){return Gt})),n.d(t,"App",(function(){return Ht})),n.d(t,"ArrowDown",(function(){return kt})),n.d(t,"ArrowLeft",(function(){return Ct})),n.d(t,"Bicycle",(function(){return Wt})),n.d(t,"Bike",(function(){return Yt})),n.d(t,"BikeAndRide",(function(){return Qt})),n.d(t,"BikeLocker",(function(){return Zt})),n.d(t,"BikeParking",(function(){return Xt})),n.d(t,"BikeStaple",(function(){return Jt})),n.d(t,"Bus",(function(){return qt})),n.d(t,"BusCircle",(function(){return Kt})),n.d(t,"Car",(function(){return $t})),n.d(t,"Circle",(function(){return en})),n.d(t,"CircleClockwise",(function(){return gt})),n.d(t,"CircleCounterclockwise",(function(){return yt})),n.d(t,"ClassicBike",(function(){return st})),n.d(t,"ClassicBus",(function(){return lt})),n.d(t,"ClassicCar",(function(){return ct})),n.d(t,"ClassicFerry",(function(){return ut})),n.d(t,"ClassicGondola",(function(){return dt})),n.d(t,"ClassicLegIcon",(function(){return Ve})),n.d(t,"ClassicMicromobility",(function(){return ft})),n.d(t,"ClassicModeIcon",(function(){return ze})),n.d(t,"ClassicTram",(function(){return pt})),n.d(t,"ClassicWalk",(function(){return mt})),n.d(t,"DirectionIcon",(function(){return vt})),n.d(t,"Elevator",(function(){return bt})),n.d(t,"Email",(function(){return tn})),n.d(t,"Feedback",(function(){return nn})),n.d(t,"Ferry",(function(){return rn})),n.d(t,"getCompanyIcon",(function(){return ht})),n.d(t,"HardLeft",(function(){return wt})),n.d(t,"HardRight",(function(){return xt})),n.d(t,"Help",(function(){return on})),n.d(t,"HelpSolid",(function(){return an})),n.d(t,"IconRenderer",(function(){return D})),n.d(t,"Info",(function(){return sn})),n.d(t,"Left",(function(){return Et})),n.d(t,"LegIcon",(function(){return Ue})),n.d(t,"Map",(function(){return ln})),n.d(t,"MapMarker",(function(){return cn})),n.d(t,"MapMarkerSolid",(function(){return un})),n.d(t,"Max",(function(){return dn})),n.d(t,"MaxCircle",(function(){return fn})),n.d(t,"Metro",(function(){return jn})),n.d(t,"Micromobility",(function(){return pn})),n.d(t,"Parking",(function(){return mn})),n.d(t,"Phone",(function(){return hn})),n.d(t,"Plane",(function(){return gn})),n.d(t,"Refresh",(function(){return Mt})),n.d(t,"Right",(function(){return _t})),n.d(t,"Schedule",(function(){return yn})),n.d(t,"SeptaIcon",(function(){return at})),n.d(t,"SlightLeft",(function(){return At})),n.d(t,"SlightRight",(function(){return Ot})),n.d(t,"Snow",(function(){return vn})),n.d(t,"StandardBike",(function(){return jt})),n.d(t,"StandardBus",(function(){return Lt})),n.d(t,"StandardGondola",(function(){return Rt})),n.d(t,"StandardLegIcon",(function(){return He})),n.d(t,"StandardModeIcon",(function(){return Ge})),n.d(t,"StandardRail",(function(){return Dt})),n.d(t,"StandardStreetcar",(function(){return Pt})),n.d(t,"StandardTram",(function(){return Bt})),n.d(t,"StandardWalk",(function(){return Ft})),n.d(t,"Star",(function(){return Nt})),n.d(t,"StopStation",(function(){return bn})),n.d(t,"StopStationSolid",(function(){return wn})),n.d(t,"Straight",(function(){return St})),n.d(t,"Streetcar",(function(){return xn})),n.d(t,"StreetcarCircle",(function(){return En})),n.d(t,"Transittracker",(function(){return _n})),n.d(t,"TransittrackerSolid",(function(){return An})),n.d(t,"TriMet",(function(){return On})),n.d(t,"TriMetLegIcon",(function(){return Ze})),n.d(t,"TriMetModeIcon",(function(){return Ye})),n.d(t,"TriMetModeIcon2021",(function(){return $e})),n.d(t,"TripPlanner",(function(){return Sn})),n.d(t,"TripPlannerSolid",(function(){return Tn})),n.d(t,"UTurnLeft",(function(){return Tt})),n.d(t,"UTurnRight",(function(){return It})),n.d(t,"Walk",(function(){return In})),n.d(t,"Wes",(function(){return kn})),n.d(t,"WesCircle",(function(){return Cn})),n.d(t,"Zoom",(function(){return Mn})),n.d(t,"ZoomAngle",(function(){return Nn}));var r=n(4),i=n.n(r),o=n(9),a=n.n(o),s=n(0),l=n.n(s),c=function(e){e.title;var t=a()(e,["title"]);return l.a.createElement("svg",i()({xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 100 61.3",height:"100%",width:"100%"},t),l.a.createElement("path",{d:"M0,41.6C0,52.3,8.7,61,19.4,61c9.4,0,17.2-6.7,19-15.5c0.1,0,0.1,0,0.2,0c15.3-0.6,4.6,4.2,33-25.7c0.5,1.5,0.9,2.9,1.4,4.3  c-6.9,3-11.8,9.8-11.8,17.9c0,10.7,8.7,19.4,19.4,19.4c10.7,0,19.4-8.7,19.4-19.4s-8.7-19.4-19.4-19.4c-1.2,0-2.4,0.1-3.6,0.3  C69.5-1.5,71.9,0.1,57.9,0v3.9c10.2,0,8.9-0.6,11.2,7.3H35.3L34,7.5c7.6-1.7,9.7-1.7,8.2-3.7H25.1v3.8l4.5,0.1l1.3,3.6  c-2.1,4.6-3.8,8.5-5.3,11.9c-2-0.7-4-1-6.2-1C8.7,22.2,0,30.9,0,41.6z M74.4,28.4c4.8,15.4,4.4,15.1,6.3,15.3c1.1-0.1,1.9-0.9,1.9-2  c0-1.3,0.5,0.4-4.2-14.5c0.7-0.1,1.4-0.2,2.2-0.2c8.2,0,14.9,6.7,14.9,14.9s-6.7,14.9-14.9,14.9s-14.9-6.7-14.9-14.9  C65.7,35.9,69.3,30.7,74.4,28.4z M37,15.3l33,0.1L46.6,41L37,15.3z M29.4,24.9l3.6-8.1l9.4,24.6l-3.6,0C38.8,34.5,35,28.3,29.4,24.9  z M34.3,41.5l-12.3,0l5.6-12.4C31.6,31.8,34.2,36.3,34.3,41.5z M4.5,41.6c0-8.2,6.7-14.9,14.9-14.9c1.5,0,3,0.2,4.3,0.6  c-6.7,14.9-7,15.4-7,16.2c0.2,2.7,1.6,1.9,17.1,1.9c-1.7,6.3-7.5,11-14.3,11C11.2,56.4,4.5,49.8,4.5,41.6z"}))},u=function(e){e.title;var t=a()(e,["title"]);return l.a.createElement("svg",i()({xmlns:"http://www.w3.org/2000/svg",version:"1.0",viewBox:"0 0 81.59 99.992",height:"100%",width:"100%"},t),l.a.createElement("path",{d:"M68.848,68.51"}),l.a.createElement("path",{d:"M12.687,68.51"}),l.a.createElement("g",null,l.a.createElement("path",{d:"M77.619,14.775c-1.098-5.528-4.622-7.731-9.931-9.93C62.499,2.668,50.02,0.079,40.794,0 c-9.243,0.079-21.722,2.668-26.948,4.846c-5.271,2.199-8.795,4.402-9.875,9.93L0,45.284v42.091h6.84v6.564 c-0.027,8.071,11.745,8.071,11.75,0v-6.564h21.737h0.054H63v6.564c-0.014,8.071,11.759,8.071,11.75,0v-6.564h6.84V45.284 L77.619,14.775z M23.996,7.715h16.385h17.212c3.286-0.009,3.286,4.949,0,4.965H40.327H23.996 C20.694,12.664,20.694,7.706,23.996,7.715z M12.687,74.191c-3.101-0.015-5.631-2.542-5.627-5.682 c-0.004-3.099,2.526-5.627,5.627-5.627c3.136,0,5.665,2.528,5.683,5.627C18.352,71.649,15.823,74.177,12.687,74.191z M40.381,48.482H10.426c-2.925,0.028-3.54-2.081-3.253-4.192l3.088-22.177c0.425-2.67,1.336-4.443,4.854-4.468h25.213h26.149 c3.498,0.025,4.412,1.797,4.854,4.468l3.09,22.177c0.266,2.112-0.348,4.22-3.256,4.192H40.381z M68.848,74.191 c-3.1-0.015-5.628-2.542-5.628-5.682c0-3.099,2.528-5.627,5.628-5.627c3.137,0,5.667,2.528,5.681,5.627 C74.515,71.649,71.985,74.177,68.848,74.191z"}),l.a.createElement("path",{d:"M40.381-0.007c0.135,0,0.277,0.006,0.414,0.007c0.137-0.001,0.278-0.007,0.414-0.007H40.381z"})))},d=function(e){e.title;var t=a()(e,["title"]);return l.a.createElement("svg",i()({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",height:"100%",width:"100%"},t),l.a.createElement("path",{d:"M499.991 168h-54.815l-7.854-20.944c-9.192-24.513-25.425-45.351-46.942-60.263S343.651 64 317.472 64H194.528c-26.18 0-51.391 7.882-72.908 22.793-21.518 14.912-37.75 35.75-46.942 60.263L66.824 168H12.009c-8.191 0-13.974 8.024-11.384 15.795l8 24A12 12 0 0 0 20.009 216h28.815l-.052.14C29.222 227.093 16 247.997 16 272v48c0 16.225 6.049 31.029 16 42.309V424c0 13.255 10.745 24 24 24h48c13.255 0 24-10.745 24-24v-40h256v40c0 13.255 10.745 24 24 24h48c13.255 0 24-10.745 24-24v-61.691c9.951-11.281 16-26.085 16-42.309v-48c0-24.003-13.222-44.907-32.772-55.86l-.052-.14h28.815a12 12 0 0 0 11.384-8.205l8-24c2.59-7.771-3.193-15.795-11.384-15.795zm-365.388 1.528C143.918 144.689 168 128 194.528 128h122.944c26.528 0 50.61 16.689 59.925 41.528L391.824 208H120.176l14.427-38.472zM88 328c-17.673 0-32-14.327-32-32 0-17.673 14.327-32 32-32s48 30.327 48 48-30.327 16-48 16zm336 0c-17.673 0-48 1.673-48-16 0-17.673 30.327-48 48-48s32 14.327 32 32c0 17.673-14.327 32-32 32z"}))},f=function(e){e.title;var t=a()(e,["title"]);return l.a.createElement("svg",i()({xmlns:"http://www.w3.org/2000/svg",version:"1.0",viewBox:"0 0 100 68.932",height:"100%",width:"100%"},t),l.a.createElement("path",{d:"M98.634,68.932c-2.155,0-4.226-0.486-6.058-1.335c-1.904-0.882-4.036-1.402-6.263-1.402  c-2.226,0-4.37,0.521-6.25,1.402c-1.855,0.849-3.916,1.335-6.082,1.335c-2.143,0-4.213-0.486-6.081-1.335  c-1.892-0.882-4.023-1.402-6.239-1.402c-2.238,0-4.357,0.521-6.273,1.402c-1.831,0.849-3.914,1.335-6.059,1.335  c-2.155,0-4.238-0.486-6.07-1.335c-1.905-0.882-4.036-1.402-6.262-1.402c-2.227,0-4.371,0.521-6.25,1.402  c-1.843,0.849-3.916,1.335-6.071,1.335c-2.167,0-4.226-0.486-6.095-1.335c-1.879-0.882-4.022-1.402-6.237-1.402  c-2.229,0-4.359,0.521-6.263,1.402c-1.843,0.849-3.915,1.335-6.07,1.335v-9.2c2.156,0,4.228-0.496,6.07-1.333  c1.904-0.881,4.034-1.402,6.263-1.402c2.214,0,4.358,0.521,6.237,1.402c1.869,0.837,3.927,1.333,6.095,1.333  c2.155,0,4.228-0.496,6.071-1.333c1.879-0.881,4.023-1.402,6.25-1.402c2.226,0,4.357,0.521,6.262,1.402  c1.832,0.837,3.915,1.333,6.07,1.333c2.145,0,4.228-0.496,6.059-1.333c1.916-0.881,4.035-1.402,6.273-1.402  c2.214,0,4.348,0.521,6.239,1.402c1.868,0.837,3.938,1.333,6.081,1.333c2.166,0,4.227-0.496,6.082-1.333  c1.88-0.881,4.024-1.402,6.25-1.402c2.227,0,4.358,0.521,6.263,1.402c1.832,0.837,3.902,1.333,6.058,1.333V68.932z"}),l.a.createElement("path",{d:"M0.048,29.398L0.013,51.125c2.156,0,4.228-0.483,6.07-1.318c1.904-0.885,4.034-1.405,6.263-1.405  c2.214,0,4.358,0.521,6.237,1.405c1.869,0.835,3.927,1.318,6.095,1.318c2.155,0,4.228-0.483,6.071-1.318  c1.879-0.885,4.023-1.405,6.25-1.405c2.226,0,4.357,0.521,6.262,1.405c1.832,0.835,3.915,1.318,6.07,1.318  c2.145,0,4.228-0.483,6.059-1.318c1.916-0.885,4.035-1.405,6.273-1.405c2.214,0,4.348,0.521,6.239,1.405  c1.868,0.835,3.938,1.318,6.081,1.318c0.612,0,1.197-0.133,1.795-0.193c1.08-0.242,2.18-0.352,3.233-0.774l0.072-0.037  c7.83-3.207,14.596-11.171,18.811-17.103L100,29.398H0.048z"}),l.a.createElement("path",{d:"M78.22,4.948C75.814-0.45,69.336,0.01,69.336,0.01H0.013L0,25.803h86.913L78.22,4.948z M33.274,20.211  c0,0.993-0.814,1.817-1.808,1.817h-8.009c-0.994,0-1.796-0.824-1.796-1.817V7.864c0-0.991,0.802-1.802,1.796-1.802h8.009  c0.994,0,1.808,0.812,1.808,1.802V20.211z M49.929,20.211c0,0.993-0.802,1.817-1.785,1.817h-8.071c-0.993,0-1.795-0.824-1.795-1.817  V7.864c0-0.991,0.802-1.802,1.795-1.802h8.071c0.982,0,1.785,0.812,1.785,1.802V20.211z M16.679,20.211  c0,0.993-0.813,1.817-1.796,1.817H6.814c-0.994,0-1.795-0.824-1.795-1.817V7.864c0-0.991,0.801-1.802,1.795-1.802h8.069  c0.982,0,1.796,0.812,1.796,1.802V20.211z M55.842,6.062h14.452l0.12-0.011h0.097c0.153-0.012,3.961-0.159,5.244,2.711l5.518,13.267  H62.465L55.842,6.062z"}))},p=function(e){e.title;var t=a()(e,["title"]);return l.a.createElement("svg",i()({xmlns:"http://www.w3.org/2000/svg",version:"1.0",viewBox:"0 0 100 89.383",height:"100%",width:"100%"},t),l.a.createElement("polygon",{points:"100,3.417 100,0 0,38.239 0,41.663 "}),l.a.createElement("path",{d:"M43.871,16.965c2.986,0,5.425-2.467,5.425-5.507c0-3.034-2.439-5.476-5.425-5.476c-3.009,0-5.448,2.442-5.448,5.476  C38.424,14.498,40.864,16.965,43.871,16.965z"}),l.a.createElement("path",{d:"M77.553,45.469H53.319V25.603l-3.385,1.364v18.502H25.477c-1.915,0-3.477,1.576-3.477,3.516V85.86  c0,1.939,1.562,3.523,3.477,3.523h52.077c1.916,0,3.484-1.584,3.484-3.523V48.984C81.038,47.045,79.469,45.469,77.553,45.469z   M40.583,65.495c0,1.052-0.832,1.916-1.871,1.916H27.249c-1.038,0-1.891-0.864-1.891-1.916V53.94c0-1.051,0.854-1.915,1.891-1.915  h11.462c1.038,0,1.871,0.864,1.871,1.915V65.495z M59.211,65.351c0,1.057-0.848,1.892-1.893,1.892H45.887  c-1.047,0-1.893-0.835-1.893-1.892v-11.58c0-1.049,0.846-1.884,1.893-1.884h11.432c1.045,0,1.893,0.835,1.893,1.884V65.351z   M77.696,65.351c0,1.057-0.825,1.892-1.872,1.892H64.371c-1.038,0-1.893-0.835-1.893-1.892v-11.58c0-1.049,0.854-1.884,1.893-1.884  h11.453c1.047,0,1.872,0.835,1.872,1.884V65.351z"}),l.a.createElement("path",{d:"M56.848,12.063c3,0,5.439-2.467,5.439-5.507s-2.439-5.507-5.439-5.507c-2.985,0-5.424,2.467-5.424,5.507  S53.863,12.063,56.848,12.063z"}))},m=function(e){e.title;var t=a()(e,["title"]);return l.a.createElement("svg",i()({height:"100%",viewBox:"0 0 512 512",width:"100%",xmlns:"http://www.w3.org/2000/svg"},t),l.a.createElement("path",{d:"m464.027344 393.210938-47.425782-341.464844c-4.097656-29.5-29.648437-51.746094-59.429687-51.746094h-68.171875v40h68.171875c9.929687 0 18.441406 7.414062 19.808594 17.246094l36.148437 260.25c-52.128906 15.089844-91.835937 59.722656-99.703125 114.503906h-196.867187c-8.253906-23.277344-30.484375-40-56.558594-40-33.085938 0-60 26.914062-60 60s26.914062 60 60 60c26.074219 0 48.304688-16.722656 56.558594-40h235.441406v-20c0-43.472656 27.886719-80.550781 66.710938-94.296875l5.699218 41.042969c-19.234375 10.003906-32.410156 30.113281-32.410156 53.253906 0 33.085938 26.914062 60 60 60s60-26.914062 60-60c0-28.964844-20.632812-53.203125-47.972656-58.789062zm-404.027344 78.789062c-11.027344 0-20-8.972656-20-20s8.972656-20 20-20 20 8.972656 20 20-8.972656 20-20 20zm392 0c-11.027344 0-20-8.972656-20-20s8.972656-20 20-20 20 8.972656 20 20-8.972656 20-20 20zm0 0"}))},h=function(e){e.title;var t=a()(e,["title"]);return l.a.createElement("svg",i()({xmlns:"http://www.w3.org/2000/svg",version:"1.0",viewBox:"0 0 66.461 100",height:"100%",width:"100%"},t),l.a.createElement("path",{d:"M28.549,7.023c-1.933-0.007-3.508-1.582-3.512-3.511C25.041,1.555,26.616-0.021,28.549,0  c1.952-0.021,3.526,1.555,3.511,3.512C32.075,5.441,30.5,7.016,28.549,7.023L28.549,7.023z"}),l.a.createElement("path",{d:"M37.913,7.023c1.936-0.007,3.512-1.582,3.512-3.511c0-1.957-1.576-3.532-3.512-3.512c-1.95-0.021-3.525,1.555-3.512,3.512  C34.388,5.441,35.963,7.016,37.913,7.023L37.913,7.023z"}),l.a.createElement("path",{d:"M51.856,78.064c4.872-0.809,9.73-5.898,9.719-12.109V20.611C61.587,14.218,56.2,8.34,48.903,8.347H33.281H17.606  C10.265,8.34,4.878,14.218,4.885,20.611v45.344c-0.007,6.211,4.852,11.301,9.719,12.109L0,100h8.446l10.432-15.37H33.23h14.351  L58.063,100h8.397L51.856,78.064z M24.986,13.031c0.002-1.136,0.969-2.072,2.085-2.088h6.158h6.159  c1.117,0.016,2.088,0.952,2.088,2.088v3.559c0,1.133-0.916,2.092-2.088,2.088H33.23h-6.158c-1.167,0.004-2.083-0.955-2.085-2.088  V13.031z M17.301,71.45c-3.059-0.023-5.553-2.517-5.546-5.598c-0.007-3.071,2.487-5.562,5.546-5.547  c3.09-0.016,5.584,2.476,5.598,5.547C22.886,68.934,20.391,71.427,17.301,71.45z M18.014,41.986  c-3.508-0.021-6.369-2.421-6.362-6.363v-8.141c0.025-3.396,2.219-6.356,6.362-6.363H33.23h15.215  c4.148,0.007,6.343,2.967,6.363,6.363v8.141c0.011,3.942-2.85,6.343-6.363,6.363H33.23H18.014z M43.46,65.853  c-0.009-3.071,2.482-5.562,5.545-5.547c3.09-0.016,5.584,2.476,5.6,5.547c-0.016,3.081-2.51,5.574-5.6,5.598  C45.942,71.427,43.451,68.934,43.46,65.853z"}))},g=function(e){e.title;var t=a()(e,["title"]);return l.a.createElement("svg",i()({xmlns:"http://www.w3.org/2000/svg",version:"1.0",x:"0px",y:"0px",viewBox:"0 0 55.74 100",height:"100%",width:"100%"},t),l.a.createElement("path",{d:"M31.269,13.769c3.862,0,6.884-3.025,6.884-6.885C38.153,3.022,35.131,0,31.269,0c-3.86,0-6.885,3.022-6.885,6.884  C24.384,10.744,27.409,13.769,31.269,13.769z"}),l.a.createElement("path",{d:"M1.249,51.724l4.512-0.421L5.863,35.25l8.224-5.204c0,0-1.333,10.545-1.333,16.085c0,4.831-0.172,8.736-0.172,8.736  L2.054,96.918L9.489,100L21.28,61.549l8.195,10.424l9.339,26.337l8.394-3.355l-9.425-27.965L27.446,50.665l2.901-21.399l6.46,13.544  l16.622,5.708l2.311-4.199l-15.234-8.887c0,0-3.691-9.819-6.711-15.962c-1.027-2.091-5.196-2.774-6.894-2.901  c-4.896-0.362-7.428,1.296-11.488,3.432C11.358,22.131,0,30.728,0,30.728L1.249,51.724z"}))},y={biketown:Object(s.lazy)((function(){return Promise.resolve().then(n.bind(null,503))})),lyft_pdx:Object(s.lazy)((function(){return Promise.resolve().then(n.bind(null,503))})),bird:Object(s.lazy)((function(){return n.e(12).then(n.bind(null,1177))})),bolt:Object(s.lazy)((function(){return n.e(14).then(n.bind(null,1178))})),boltEu:Object(s.lazy)((function(){return n.e(13).then(n.bind(null,1179))})),car2go:Object(s.lazy)((function(){return n.e(15).then(n.bind(null,1180))})),gruv:Object(s.lazy)((function(){return n.e(16).then(n.bind(null,1181))})),hopr:Object(s.lazy)((function(){return n.e(17).then(n.bind(null,1182))})),lime:Object(s.lazy)((function(){return n.e(4).then(n.bind(null,1183))})),lyft:Object(s.lazy)((function(){return n.e(4).then(n.bind(null,1183))})),razor:Object(s.lazy)((function(){return n.e(18).then(n.bind(null,1184))})),reachnow:Object(s.lazy)((function(){return n.e(19).then(n.bind(null,1185))})),shared:Object(s.lazy)((function(){return n.e(20).then(n.bind(null,1186))})),spin:Object(s.lazy)((function(){return n.e(21).then(n.bind(null,1187))})),uber:Object(s.lazy)((function(){return n.e(22).then(n.bind(null,1188))}))};function v(e){var t=y[e.toLowerCase()]||y[e.toLowerCase().slice(0,4)];return t||console.warn("No Company Icon found for: '".concat(e,"'!")),t}var b=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 261 261"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M30.5 120.5h60a40 40 0 0180 0c0 20.22-10.51 37.32-30 40 15 5 25 20 25 50 37.37-14.48 65-47.51 65-90a100 100 0 00-200 0z"}),l.a.createElement("path",{d:"M.5 140.5h32a100.12 100.12 0 0068 75.41v44.59h60v-60c0-20-15-40-40-40-10.05 0-20.09-8-25.62-20h25.62l-60-60z"}))},w=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 261 261"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M130.5 20.5a100 100 0 00-100 100c0 42.49 27.63 75.52 65 90 0-30 10-45 25-50-19.49-2.68-30-19.78-30-40a40 40 0 0180 0h60a100 100 0 00-100-100z"}),l.a.createElement("path",{d:"M200.5 80.5l-60 60h25.63c-5.54 12-15.57 20-25.62 20-25 0-40 20-40 40v60h60v-44.59a100.12 100.12 0 0068-75.41h32z"}))},x=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 261 261"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M116.93.5v43.28H80.41A36.79 36.79 0 0043.69 80.5v140a36.77 36.77 0 0036.72 36.69h100a36.74 36.74 0 0036.69-36.69v-140a36.77 36.77 0 00-36.69-36.72h-35.62V.5h-27.86zM84.41 61.19h92a23.1 23.1 0 0123.28 23.31v132a23.08 23.08 0 01-23.28 23.28h-92A23.1 23.1 0 0161.1 216.5v-132a23.13 23.13 0 0123.31-23.31zm1 24.31v75h-20l35.06 60 34.94-60h-20v-75h-30zm75.06-5l-35.06 60h20v75h30v-75h20z"}))},E=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 261 261"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M72.5 100.5l50-50c40-40 110-20 110 50v160h-60v-160c0-10 0-20-10-10l-50 50 30 30-120 20 20-120z"}))},_=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 261 261"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M218.5 70.5l20 120-120-20 30-30-50-50c-10-10-10 0-10 10v160h-60v-160c0-70 70-90 110-50l50 50z"}))},A=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 261 261"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M114.5 100.5h60v160h60v-170c0-30-20-50-50-50h-70V.5l-100 69.14 100 70.86v-40z"}))},O=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 261 261"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M146.5 140.5l100-70.86L146.5.5v40h-70c-30 0-50 20-50 50v170h60v-160h60v40z"}))},S=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 261 261"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M86.5 90.5l40 40c10 10 20 20 20 40v90h60v-90c0-40-20-60-40-80l-40-40 30-30-120-20 20 120z"}))},T=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 261 261"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M204.5 120.5l20-120-120 20 30 30-40 40c-20 20-40 40-40 80v90h60v-90c0-20 10-30 20-40l40-40z"}))},I=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 261 261"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M100.5 110.5v150h60v-150h40l-70-110-70 110h40z"}))},k=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 261 261"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M108.5 120.5v-20c0-34.81 3.93-40.31 35.36-40s34.64 4.46 34.64 40v160h60v-160c0-74.12-22.85-97.25-94.64-97.5S48.5 25 48.5 100.5v20h-40l70 100 70-100h-40z"}))},C=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 261 261"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M112.5 120.5l70 100 70-100h-40v-20c0-75.5-23.57-97.75-95.36-97.5S22.5 26.38 22.5 100.5v160h60v-160c0-35.54 3.21-39.69 34.64-40s35.36 5.19 35.36 40v20h-40z"}))};var M=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 24 24"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M0 7.33L2.829 4.5l9.175 9.339L21.171 4.5 24 7.33 12.004 19.5z"}))},N=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 24 24"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167L16.67 24 4.5 12.004z"}))},j=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 1792 1792"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M1639 1056q0 5-1 7-64 268-268 434.5T892 1664q-146 0-282.5-55T366 1452l-129 129q-19 19-45 19t-45-19-19-45v-448q0-26 19-45t45-19h448q26 0 45 19t19 45-19 45l-137 137q71 66 161 102t187 36q134 0 250-65t186-179q11-17 53-117 8-23 30-23h192q13 0 22.5 9.5t9.5 22.5zm25-800v448q0 26-19 45t-45 19h-448q-26 0-45-19t-19-45 19-45l138-138q-148-137-349-137-134 0-250 65T460 628q-11 17-53 117-8 23-30 23H178q-13 0-22.5-9.5T146 736v-7q65-268 270-434.5T896 128q146 0 284 55.5T1425 340l130-129q19-19 45-19t45 19 19 45z"}))},L=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 50 50"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M25 1l6 17h18L35 29l5 17-15-10-15 10 5-17L1 18h18z"}))},R=n(1).default.table.withConfig({displayName:"icon-renderer__StyledTable",componentId:"sc-epf3ui-0"})(["border-collapse:collapse;border-spacing:0;font-family:system-ui;vertical-align:middle;div{width:50px;}td,th{padding:10px;}tr{border:1px solid gray;}tbody tr:nth-child(even){background-color:#eaeaea;}"]);function D(e){var t=e.examples,n=e.renderComponentFn,r=e.typeTitle;return l.a.createElement(R,null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,r),l.a.createElement("th",null,"Result"))),l.a.createElement("tbody",null,t.map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",null,e.type||e),l.a.createElement("td",null,l.a.createElement("div",null,n(e))))}))))}var P=function(e){e.title;var t=a()(e,["title"]);return l.a.createElement("svg",i()({version:"1.1",viewBox:"0 0 32 32",height:"100%",width:"100%"},t),l.a.createElement("g",null,l.a.createElement("path",{d:"M6.9,15.4c-3.8,0-6.9,3.1-6.9,6.9c0,3.8,3.1,6.9,6.9,7c3.8,0,6.9-3.1,6.9-7C13.9,18.6,10.8,15.5,6.9,15.4z M10.7,26.1 c-0.9,1-2.3,1.6-3.7,1.6c-1.4,0-2.8-0.6-3.7-1.6c-0.9-0.9-1.5-2.3-1.5-3.7c0-1.4,0.6-2.8,1.5-3.7c1-1,2.3-1.5,3.7-1.5 c1.4,0,2.8,0.6,3.7,1.5c1,0.9,1.5,2.3,1.5,3.7C12.2,23.8,11.6,25.2,10.7,26.1z"}),l.a.createElement("path",{d:"M19.2,7.7c1.4,0,2.5-1.1,2.5-2.5c0-1.4-1.1-2.5-2.5-2.5c-1.4,0-2.5,1.1-2.5,2.5C16.7,6.6,17.8,7.7,19.2,7.7z"}),l.a.createElement("path",{d:"M23.9,13.9c1.5,0,1.5-2-0.1-2h-4l-2.8-4.6c-0.6-0.8-2.3-0.9-3-0.1l-4.9,4.9C8,13.3,8.7,15,10,15.4l4.5,2.8v4.6 c0,1,0.8,1.6,1.5,1.6c0.7,0,1.5-0.5,1.5-1.6V17c0-0.5-0.1-1.2-0.5-1.3l-3-1.9l2.5-2.6l1.5,2c0.3,0.6,0.9,0.8,1.5,0.8H23.9z"}),l.a.createElement("g",null,l.a.createElement("path",{d:"M25.1,15.3c-3.8,0-6.9,3.1-6.9,6.9c0,3.8,3.1,6.9,6.9,6.9c3.8,0,6.9-3.1,6.9-6.9C32,18.5,28.9,15.3,25.1,15.3z M28.8,26 c-0.9,0.9-2.3,1.5-3.7,1.5c-1.4,0-2.8-0.6-3.7-1.5c-0.9-1-1.5-2.3-1.5-3.7c0-1.5,0.6-2.8,1.5-3.7c1-1,2.3-1.5,3.7-1.5 c1.5,0,2.8,0.6,3.7,1.5c1,1,1.5,2.3,1.5,3.7C30.3,23.7,29.7,25,28.8,26z"}))))},B=function(e){e.title;var t=a()(e,["title"]);return l.a.createElement("svg",i()({version:"1.1",viewBox:"0 0 32 32",height:"100%",width:"100%"},t),l.a.createElement("g",null,l.a.createElement("g",null,l.a.createElement("g",null,l.a.createElement("path",{d:"M19.9,14.4c-1.1,0-2,0.7-2.3,1.7c0.3,0,4.3,0,4.6,0C21.9,15.1,21,14.4,19.9,14.4z"}),l.a.createElement("path",{d:"M26.9,7c-0.2-0.7-0.5-1.4-1.2-1.8c-5.2-2.7-14.4-2.6-19.1,0C6.2,5.5,5.4,6.1,5.1,7c-0.4,1.5-0.6,3-0.6,3.7l0,5.7l0,2.2 v6.1c0,0.2,0.2,0.3,0.4,0.3h22.3c0.2,0,0.3-0.1,0.3-0.3v-5.2l0-8.9C27.5,9.7,27.3,8.1,26.9,7z M11,4.9h9.9V6H11V4.9z M7.9,21.4 c-1,0-1.8-0.8-1.8-1.8c0-0.5,0.2-0.9,0.5-1.3C7,18,7.5,17.8,7.9,17.8c1,0,1.8,0.8,1.8,1.8C9.7,20.6,8.9,21.4,7.9,21.4z M24,21.4 c-1,0-1.8-0.8-1.8-1.8c0-1,0.8-1.8,1.8-1.8c1,0,1.8,0.8,1.8,1.8C25.8,20.6,25,21.4,24,21.4z M25.2,16.4H6.5C6.2,16.4,6,16,6,15.8 l0.5-7.9c0-0.4,0.3-0.8,0.8-0.8h17.4c0.2,0,0.7,0.5,0.7,1l0.6,7.7C26,16.1,25.6,16.4,25.2,16.4z"})),l.a.createElement("g",null,l.a.createElement("path",{d:"M6.5,27.6c0,0.8,0.8,1.2,1.6,1.2c0.4,0,0.8-0.1,1-0.3c0.3-0.2,0.4-0.5,0.4-0.9c0,0,0-1.7,0-1.9c-0.2,0-2.8,0-3,0 C6.5,25.9,6.5,27.6,6.5,27.6z"}),l.a.createElement("path",{d:"M22.3,27.6c0,0.8,0.8,1.1,1.6,1.1c0.8,0,1.6-0.4,1.6-1.1c0,0,0-1.7,0-1.8c-0.2,0-3.1,0-3.2,0 C22.3,25.9,22.3,27.6,22.3,27.6z"})))))},F=function(e){e.title;var t=a()(e,["title"]);return l.a.createElement("svg",i()({version:"1.1",viewBox:"0 0 32 32",height:"100%",width:"100%"},t),l.a.createElement("path",{d:"M24.9,17.2c-1.7-0.6-5.9-0.9-8-1.1V6.7l12.4,4.5V9.5l-7.7-2.8l0-1.3l-11.2-4l0,1.3L2.7,0v1.6l11.9,4.2v10.2L10,16 c0,0-3.8,0.4-6,3c-2.2,2.6-2.3,4.1-2.3,5.7c0,1.5,1.3,4.1,3.2,5.2c1.9,1.1,4.3,1.3,4.3,1.3L19.5,32c0,0,4.9-0.1,7.1-1.4 c1.6-1,3.7-2.5,3.7-6.3C30.3,20.5,27.8,18.2,24.9,17.2z M10.5,26.3H4.1c0,0-0.8-2.8,0.3-4.5c1.1-1.7,2-2.4,2-2.4l4.1,0.1V26.3z M18.9,26.3h-6.2v-6.9h6.2V26.3z M28.2,26.3h-7.1v-6.9h4.8c0,0,1,0.6,2,2.3C29,23.5,28.2,26.3,28.2,26.3z"}))},U=function(e){e.title;var t=a()(e,["title"]);return l.a.createElement("svg",i()({version:"1.1",viewBox:"0 0 32 32",height:"100%",width:"100%"},t),l.a.createElement("path",{d:"M6.9,30.6l2.8,0l0.3-0.5H22l0.3,0.5h2.9l-3.9-6.4c-0.1-0.2-0.2-0.5,0-0.6c0.2-0.1,3.3-2,3.5-2.1c0.2-0.2,0.4-0.3,0.4-0.7 c0,0,0-10.5,0-10.9c0-0.5-0.1-0.9-0.5-1.1c0,0-0.1-0.1-0.5-0.4c-0.4-0.3-0.5-0.9-0.5-1.2c0,0,0-2.1,0-2.9c0-0.8-0.6-1.5-1.1-1.7 l-4.2-0.9c-0.5-0.1-1.3-0.3-2.2-0.3c-0.9,0-1.7,0.2-2.2,0.3L9.6,2.6C9,2.8,8.5,3.5,8.5,4.3c0,0.8,0,2.9,0,2.9c0,0.3-0.2,0.9-0.5,1.2 C7.5,8.7,7.4,8.8,7.4,8.8C7.1,9,6.9,9.5,6.9,9.9c0,0.5,0,10.9,0,10.9c0,0.3,0.2,0.5,0.4,0.7c0.2,0.1,3.3,2,3.5,2.1 c0.2,0.1,0.1,0.4,0,0.6L6.9,30.6z M16,28.4h-4.9l0.8-1.3H16h4.1l0.8,1.3H16z M12.8,25.5l0.8-1.3H16h2.4l0.8,1.3H16H12.8z M22.3,19.3 c0,0.6-0.5,1.1-1.1,1.1c-0.6,0-1.1-0.5-1.1-1.1c0-0.6,0.5-1.1,1.1-1.1C21.8,18.1,22.3,18.6,22.3,19.3z M17.6,3.9 c0-0.3,0.2-0.4,0.6-0.4l3.4,0.7c0.2,0,0.4,0.3,0.4,0.5c0,0.2,0,2,0,2c0,0.1-0.3,0.4-0.6,0.3c-0.4-0.1-3.3-0.7-3.3-0.7 c-0.3-0.1-0.5-0.3-0.5-0.6V3.9z M16,8.9c0.9,0,1.6,0.7,1.6,1.6c0,0.9-0.7,1.6-1.6,1.6c-0.9,0-1.6-0.7-1.6-1.6 C14.3,9.7,15.1,8.9,16,8.9z M10,4.7c0-0.2,0.2-0.5,0.4-0.5l3.4-0.7c0.4,0,0.6,0.1,0.6,0.4v1.8c0,0.3-0.1,0.6-0.5,0.6 c0,0-2.9,0.7-3.3,0.7C10.3,7.1,10,6.8,10,6.7C10,6.7,10,4.9,10,4.7z M10.7,20.4c-0.6,0-1.1-0.5-1.1-1.1c0-0.6,0.5-1.1,1.1-1.1 c0.6,0,1.1,0.5,1.1,1.1C11.9,19.9,11.4,20.4,10.7,20.4z"}))},z=function(e){e.title;var t=a()(e,["title"]);return l.a.createElement("svg",i()({version:"1.1",viewBox:"0 0 32 32",height:"100%",width:"100%"},t),l.a.createElement("path",{d:"M9.3,24.6c0.3,0.6,1,1,1.6,1.2l-3.5,5.4h2.5l3.5-5.3l5.2,0l3.5,5.3h2.5l-3.5-5.3c0.6-0.2,1.3-0.6,1.6-1.2l0.8-1.6 c0.3-0.7,0.6-1.9,0.6-2.7L23.2,6.5c-0.1-1-1-2-2.2-2h-2c0.3-0.9,0.9-2.4,1-2.5C20.9,2,21,2.1,21.1,2.1c0,0,0.1,0.2,0.1,0.2l0-0.1 c0,0.2,0.2,0.4,0.4,0.4c0.2,0,0.5-0.3,0.5-0.5c0-0.7-1.1-0.9-2.1-1.1c-0.7-0.1-2-0.2-3.9-0.2c-1.9,0-3.2,0.1-3.9,0.2 c-1,0.1-2.1,0.3-2.1,1.1c0,0.2,0.3,0.5,0.5,0.5c0.2,0,0.4-0.2,0.4-0.4l0,0.1c0,0,0.1-0.1,0.1-0.2c0,0,0.2-0.2,1.1-0.2 c0.1,0.2,0.7,1.7,1,2.5H11c-1.2,0-2.2,1-2.2,2L7.9,20.4c-0.1,0.8,0.2,2,0.6,2.7L9.3,24.6z M11.9,24.2c-0.8,0-1.4-0.6-1.4-1.4 c0-0.8,0.6-1.4,1.4-1.4c0.8,0,1.4,0.6,1.4,1.4C13.3,23.5,12.7,24.2,11.9,24.2z M20,24.2c-0.8,0-1.4-0.6-1.4-1.4 c0-0.8,0.6-1.4,1.4-1.4c0.8,0,1.4,0.6,1.4,1.4C21.4,23.5,20.8,24.2,20,24.2z M16,1.9c0.5,0,2.1,0,2.8,0c-0.1,0.3-0.7,1.7-1,2.6h-3.6 c-0.3-0.8-0.9-2.3-1-2.6C13.9,1.9,15.5,1.9,16,1.9z M11.3,7.4c0-0.6,0.5-1.1,1.1-1.1h7.1c0.6,0,1.1,0.5,1.1,1.1v0.4 c0,0.6-0.5,1.1-1.1,1.1h-7.1c-0.6,0-1.1-0.5-1.1-1.1V7.4z M10,10.9c0-0.6,0.6-1.1,1.2-1.1l9.6,0c0.6,0,1.1,0.5,1.2,1.1l0.5,8.2 c0,0.6-0.4,1.1-1,1.1H10.6c-0.6,0-1-0.5-1-1.1L10,10.9z"}))},V=function(e){e.title;var t=a()(e,["title"]);return l.a.createElement("svg",i()({version:"1.1",viewBox:"0 0 32 32",height:"100%",width:"100%"},t),l.a.createElement("path",{d:"M9.9,27.2v3.2L8.5,32h1.8l0.8-1.1v-1.8H21v1.8l1,1.1h1.6l-1.4-1.7v-3.1h3.4l0.3-1.6V5.2h-3.2l-0.7-1.9h-5.3V2.6l2.7-1.7V0 h-6.5v1l2.6,1.6v0.7h-5.3L9.4,5.2H6.2l0,20.4l0.3,1.6H9.9z M22.9,8.1l1.8,1.1V16l-1.8,0.6V8.1z M14.7,0.9h2.7L16,1.8L14.7,0.9z M9.9,8.3c0-0.5,0.3-0.8,0.8-0.8h10.4c0.5,0,0.8,0.3,0.8,0.8v7.8c0,0.5-0.3,0.8-0.8,0.8H10.7c-0.5,0-0.8-0.3-0.8-0.8V8.3z M21.9,18.1V20h-3.2v-1.9H21.9z M13.2,18.1v1.8H10v-1.8H13.2z M22.8,21.1v1.6H8.9v-1.6H22.8z M7.2,9.1L9,8v8.6L7.2,16V9.1z"}))},G=function(e){e.title;var t=a()(e,["title"]);return l.a.createElement("svg",i()({version:"1.1",viewBox:"0 0 32 32",height:"100%",width:"100%"},t),l.a.createElement("g",null,l.a.createElement("path",{d:"M17.1,0c1.5,0,2.7,1.2,2.7,2.7c0,1.5-1.2,2.7-2.7,2.7s-2.7-1.2-2.7-2.7C14.5,1.2,15.7,0,17.1,0z M25.2,16.6 c-0.4,0.5-1.1,0.7-1.7,0.3h0c0,0-3.7-2.5-3.9-2.7c-0.3-0.2-0.4-0.6-0.5-0.8c-0.1-0.2-0.5-1-0.8-1.5L18,13.3l-0.9,3.9 c0,0,4.6,5.4,4.7,5.5c0.1,0.1,0.2,0.5,0.3,0.7c0.1,0.2,1.2,6.6,1.2,6.6c0.2,1-0.5,1.9-1.4,2.1c-1,0.2-1.9-0.5-2.1-1.4l-1.2-6.3 l-3.8-4.1c0,0-0.8,3.9-0.9,4c0,0.1-0.1,0.2-0.1,0.3c0,0.1-3.9,6.7-3.9,6.7c-0.5,0.9-1.6,1.1-2.5,0.6c-0.9-0.5-1.1-1.6-0.6-2.5 l3.4-5.8L13,11l-1.9,1.5l-1,4.5c0,0,0,0,0,0c0,0.6-0.7,1.1-1.4,0.9c-0.6-0.1-1-0.4-0.9-1.4h0c0,0,1.1-5,1.1-5.2 c0.1-0.2,0.2-0.5,0.3-0.6c0.8-0.6,3.8-3.1,4.6-3.8c1-0.8,1.5-1.1,2.3-1.1c0.7,0,1.4,0.2,2.1,1C18.7,7.1,19,7.7,19.1,8 c0.2,0.3,2.2,4.4,2.2,4.4l3.6,2.5c0,0,0,0,0,0C25.5,15.3,25.6,16,25.2,16.6z"})))},H=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 390 390"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M222.5 34.3c0 19-15.4 34.3-34.3 34.3-19 0-34.4-15.4-34.4-34.3 0-19 15.4-34.3 34.4-34.3 18.9 0 34.3 15.4 34.3 34.3zM98.6 207.2a88.361 88.361 0 00-31.2 67.5c0 48.9 39.7 88.6 88.6 88.6s88.6-39.7 88.6-88.6l21.4 34.5C251.3 356 207.6 390 156 390c-63.7 0-115.3-51.6-115.3-115.3 0-45.2 26.1-84.4 64-103.3l-6.1 35.8z"}),l.a.createElement("path",{d:"M164.3 78.5l-79.7 27c-13.2 6.3-18.4 15.7-18.4 15.7l-34.4 52.1s-7.3 12.5 2.7 19.7c11.2 8.1 21.9-2.4 23.7-4.6l37.4-54 31.3-10.4-12.4 65.9s-3.5 13.9 5.5 24.9c8.2 10 18.3 11.8 18.3 11.8L247 247.9l52.7 85.8s3.7 6.9 9.5 9.3c4.1 1.7 8.5-.2 8.5-.2L356 320s9.6-7.1 1.7-19.9c-7.7-12.3-17.2-7.1-17.2-7.1l-14.3 8.8-52.7-90.8s-3.2-5.8-9-9.5-14.8-5.1-14.8-5.1L181.8 183l14.9-80s2.8-13.8-6.4-21.1c-9.1-7.3-20.2-4.8-26-3.4z"}))},W=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 390 390"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M277.9 206.4c-15.8-5.3-54.8-8.6-74.4-10v-87.9L318.2 150v-15.3l-71.6-25.9V96.9L143.1 59.7v11.9L71.7 46.5v15.2L182 100.8v94.7l-43-.7s-34.9 3.6-55.5 27.8S62 261.1 62 275.4s11.6 38.5 29.6 48.4c17.9 9.8 40.3 11.6 40.3 11.6l95.8 8.1s45.7-1.3 66.3-13.4c15.2-9 34-23.3 34-58.2 0-35-23.8-56.7-50.1-65.5zm-134.4 84.2H84.4s-7.2-26 2.7-42.1 18.8-22.4 18.8-22.4l37.6.9v63.6zm78 0h-57.3V227h57.3v63.6zm86.8 0h-66.1V227h44.6s9 5.4 18.8 21.5c9.9 16.1 2.7 42.1 2.7 42.1z"}))},Y=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 390 390"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M195.1 44.9L357.6 370H32.5L195.1 44.9m0-44.9L0 390h390L195.1 0z"}),l.a.createElement("circle",{cx:195.1,cy:317.4,r:18.4}),l.a.createElement("path",{d:"M179.7 143.8h30.6v133.7h-30.6z"}))},Q=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 390 390"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M194.9 0L0 390h390L194.9 0zm-15.3 143.9h30.7v133.7h-30.7V143.9zm15.3 191.9c-10.1 0-18.3-8.2-18.3-18.3 0-10.1 8.2-18.3 18.3-18.3s18.3 8.2 18.3 18.3c.1 10.1-8.1 18.3-18.3 18.3z"}))},Z=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 390 390"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M284.5 0h-179C87 0 71.8 15.2 71.8 33.8v322.5c0 18.5 15.2 33.8 33.8 33.8h178.9c18.5 0 33.8-15.2 33.8-33.8V33.8C316.6 15.2 303 0 284.5 0zm11.8 354.6c0 6.7-5.1 11.8-11.8 11.8h-179c-6.7 0-11.8-5.1-11.8-11.8V33.8c0-6.7 5.1-11.8 11.8-11.8h178.9c6.7 0 11.8 5.1 11.8 11.8v320.8z"}),l.a.createElement("circle",{cx:195,cy:335.9,r:22}),l.a.createElement("path",{d:"M117.3 45.6H271v260.1H117.3z"}))},X=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 390 390"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M117.1 116.3h33.8c4.7 0 8.4-3.8 8.4-8.4 0-4.7-3.8-8.4-8.4-8.4h-33.8c-4.7 0-8.4 3.8-8.4 8.4-.1 4.6 3.7 8.4 8.4 8.4z"}),l.a.createElement("path",{d:"M316.4 162.3c-10 0-19.5 2-28.3 5.6-2.5-6.3-4.6-11.9-6-15.8 0 0 0-.1-.1-.2l-24.7-65.8c-1.2-3.3-4.4-5.5-7.9-5.5H217c-4.7 0-8.4 3.8-8.4 8.4 0 4.7 3.8 8.4 8.4 8.4h26.7l10.4 27.9h-113c-3 0-5.6 1.6-7.1 3.9l-25.8 40.6c-9.9-4.8-20.9-7.5-32.6-7.5-41.2 0-74.6 33.4-74.6 74.5 0 41.2 33.4 74.6 74.6 74.6 38.3 0 69.9-28.9 74.1-66.1h30.2c2.4 0 4.7-1 6.2-2.7l81-82.7c1.1 3 3.3 8.8 6.2 16.1-19 13.5-31.4 35.7-31.4 60.8 0 41.2 33.4 74.6 74.6 74.6 41.2 0 74.6-33.4 74.6-74.6-.1-41.1-33.5-74.5-74.7-74.5zm-240.8 83h57.1c-1.8 12.2-7.4 23.5-16.3 32.4-10.9 10.9-25.4 16.9-40.8 16.9-15.4 0-29.9-6-40.8-16.9-10.9-10.9-16.9-25.4-16.9-40.8 0-15.4 6-29.9 16.9-40.8 10.9-10.9 25.4-16.9 40.8-16.9 15.4 0 29.9 6 40.8 16.9 8.9 8.9 14.5 20.1 16.3 32.4H75.6c-4.7 0-8.4 3.8-8.4 8.4-.1 4.6 3.7 8.4 8.4 8.4zm74.1-16.9c-2.3-20-12.4-37.6-27.2-49.6l16.7-26.3 28.5 75.9h-18zm33.4-6.9l-29.8-79.3h107.2l.1.2-77.5 79.1zm174.1 56.1c-10.9 10.9-25.4 16.9-40.8 16.9-15.4 0-29.9-6-40.8-16.9-10.9-10.9-16.9-25.4-16.9-40.8 0-15.4 6-29.9 16.9-40.8 1.4-1.4 2.9-2.8 4.4-4 0 .1 0 .1.1.2 11.1 25.1 21.4 42.2 30.5 50.8 1.6 1.5 3.7 2.3 5.8 2.3 2.2 0 4.5-.9 6.1-2.6 3.2-3.4 3-8.7-.3-11.9-9-8.5-19.4-28.8-27.5-47.3 6.8-2.8 14.2-4.2 21.7-4.2 15.4 0 29.9 6 40.8 16.9 10.9 10.9 16.9 25.4 16.9 40.8 0 15.3-6 29.7-16.9 40.6z"}))},J=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 390 390"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M84.7 188.3C38 188.5 0 226.3 0 273s37.9 84.5 84.7 84.7c46.6-.2 84.5-38.1 84.5-84.7s-38.1-84.5-84.5-84.7zm45 129.8c-11.5 11.7-27.4 19-45.1 19s-33.6-7.3-45.3-19c-11.5-11.5-18.8-27.4-18.8-45.1 0-17.6 7.3-33.6 18.8-45.1C51 216.2 67 209.1 84.6 209.1s33.6 7 45.1 18.8c11.7 11.5 18.8 27.4 18.8 45.1.1 17.7-7 33.6-18.8 45.1zM234.3 94.1c17 0 31-14 31-31s-14-30.8-31-30.8c-16.9 0-30.8 13.8-30.8 30.8 0 17.2 13.9 31 30.8 31z"}),l.a.createElement("path",{d:"M291.5 168.9c18.5 0 18.5-24.4-.8-24.4h-49.3l-33.5-55.6c-7.3-10-28.2-11.2-36.7-1.1l-59.8 59.6c-13.4 14.5-5.4 36 9.9 40.9l55.4 34.6V279c0 12.6 9.5 19.1 18.2 19.1 8.6 0 18.3-6.4 18.3-19.6v-71.7c0-6.5-.9-14.1-6.4-16.3l-36.4-23 30.3-32 18.2 24.3c3.1 7.8 11.4 9.2 18 9.2l54.6-.1z"}),l.a.createElement("path",{d:"M305.4 187c-46.7 0-84.7 37.9-84.7 84.6.2 46.7 37.9 84.7 84.7 84.7 46.6 0 84.6-38 84.6-84.7S352 187 305.4 187zm45.2 129.8c-11.5 11.6-27.4 18.8-45.1 18.8s-33.6-7.2-45.3-18.8c-11.5-11.6-18.8-27.7-18.8-45.2 0-17.7 7.3-33.6 18.8-45.1 11.7-11.7 27.7-18.8 45.3-18.8 17.7 0 33.6 7 45.1 18.8 11.7 11.7 18.8 27.4 18.8 45.1 0 17.5-7.1 33.5-18.8 45.2z"}))},q=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({id:"bike_and_ride_svg__Layer_2_1_",x:0,y:0,viewBox:"0 0 390 390",xmlSpace:"preserve"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("style",null,".bike_and_ride_svg__st0{fill:#010101}"),l.a.createElement("path",{className:"bike_and_ride_svg__st0",d:"M390 121.7L195 41.4 0 121.7v32.2l24.4-10v184.8h341.3V143.8l24.4 10v-32.1zm-51.5 179.8h-287V132.6l143.5-59 143.5 59v168.9z"}),l.a.createElement("path",{className:"bike_and_ride_svg__st0",d:"M165.7 151.4H144c-3 0-5.5-2.4-5.5-5.5s2.4-5.5 5.5-5.5h21.7c3 0 5.5 2.4 5.5 5.5-.2 3.1-2.6 5.5-5.5 5.5z"}),l.a.createElement("path",{className:"bike_and_ride_svg__st0",d:"M272.4 181.1c-6.4 0-12.6 1.3-18.2 3.6-1.7-4.1-2.9-7.6-3.9-10.1v-.1l-15.9-42.4c-.8-2.1-2.8-3.5-5.1-3.5h-21c-3 0-5.5 2.4-5.5 5.5s2.4 5.5 5.5 5.5h17.2l6.7 17.9h-72.8c-2 0-3.6 1-4.6 2.5l-16.7 26.1c-6.3-3.1-13.5-4.9-21.1-4.9-26.5 0-48.1 21.5-48.1 48.1s21.5 48.1 48.1 48.1c24.8 0 45-18.6 47.8-42.6h19.5c1.6 0 3-.7 4-1.8l52.2-53.3c.7 2 2.1 5.7 4 10.4-12.3 8.7-20.3 23-20.3 39.2 0 26.5 21.5 48.1 48.1 48.1 26.5 0 48.1-21.5 48.1-48.1.1-26.6-21.5-48.2-48-48.2zm-129 74.4c-7 7-16.4 10.9-26.3 10.9s-19.3-3.9-26.3-10.9-10.9-16.4-10.9-26.3c0-9.9 3.9-19.3 10.9-26.3s16.4-10.9 26.3-10.9 19.3 3.9 26.3 10.9c5.8 5.8 9.4 13 10.5 20.9H117c-3 0-5.5 2.4-5.5 5.5s2.4 5.5 5.5 5.5h37c-1.2 7.8-4.9 15-10.6 20.7zm21.5-31.7c-1.5-12.9-8-24.2-17.6-32l10.8-17 18.4 48.9-11.6.1zm21.5-4.5l-19.2-51.1h69.1l.1.1-50 51zm112.3 36.2c-7 7-16.4 10.9-26.3 10.9-9.9 0-19.3-3.9-26.3-10.9s-10.9-16.4-10.9-26.3c0-9.9 3.9-19.3 10.9-26.3.9-.9 1.9-1.8 2.8-2.5v.1c7.2 16.2 13.8 27.2 19.7 32.8 1.1 1 2.4 1.5 3.7 1.5 1.5 0 2.9-.6 4-1.7 2-2.1 1.9-5.7-.2-7.7-5.9-5.5-12.5-18.5-17.7-30.5 4.4-1.8 9.2-2.7 14-2.7 9.9 0 19.3 3.9 26.3 10.9s10.9 16.4 10.9 26.3c.1 9.8-3.8 19.1-10.9 26.1z"}))},K=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({id:"bike_locker_svg__Layer_2_1_",x:0,y:0,viewBox:"0 0 390 390",xmlSpace:"preserve"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("style",null,".bike_locker_svg__st0{fill:#010101}"),l.a.createElement("path",{className:"bike_locker_svg__st0",d:"M309.3 47.1c-1.2-1.2-19.8-19.3-19.8-19.3H182.1C172.6 11.1 154.9 0 134.5 0c-30.3 0-54.8 24.6-54.8 54.8 0 30.3 24.5 54.8 54.8 54.8 20.9 0 39.1-11.6 48.3-28.9h19.6l16.9-17.3 13 13.6 13.2-13.6L258.4 77l13.2-13.6L285 77.1l24.3-24.3c1.4-1.2 1.4-4.6 0-5.7zM109 70.5c-8.7 0-15.7-7-15.7-15.6 0-8.7 7-15.6 15.7-15.6s15.6 7 15.6 15.6-6.9 15.6-15.6 15.6zM164.2 205.3h-22.8c-3.2 0-5.7-2.6-5.7-5.7s2.6-5.7 5.7-5.7h22.8c3.2 0 5.7 2.6 5.7 5.7s-2.6 5.7-5.7 5.7z"}),l.a.createElement("path",{className:"bike_locker_svg__st0",d:"M373.7 390H16.3V127.7h357.3V390h.1zM44.5 361.8h301V156h-301v205.8z"}),l.a.createElement("path",{className:"bike_locker_svg__st0",d:"M275.9 236.3c-6.7 0-13.2 1.3-19.1 3.8-1.7-4.3-3.1-8-4-10.6v-.1L236.1 185c-.8-2.2-3-3.7-5.3-3.7h-22c-3.2 0-5.7 2.6-5.7 5.7 0 3.2 2.6 5.7 5.7 5.7h18l7 18.8h-76.3c-2 0-3.8 1-4.8 2.7l-17.5 27.4c-6.6-3.3-14.1-5.1-22.1-5.1-27.5 0-50.1 22.5-50.1 50.3 0 27.8 22.6 50.3 50.3 50.3 25.8 0 47.2-19.5 50-44.6h20.4c1.6 0 3.2-.7 4.2-1.8l54.6-55.7c.7 2 2.2 5.9 4.2 10.9-12.9 9.1-21.2 24.1-21.2 41 0 27.8 22.6 50.3 50.3 50.3 27.8 0 50.3-22.6 50.3-50.3.1-28-22.5-50.6-50.2-50.6zm-135 77.9c-7.4 7.4-17.2 11.4-27.6 11.4s-20.2-4.1-27.6-11.4-11.4-17.2-11.4-27.6c0-10.4 4.1-20.2 11.4-27.6s17.2-11.4 27.6-11.4 20.2 4.1 27.6 11.4c6 6 9.8 13.6 11 21.8h-38.5c-3.2 0-5.7 2.6-5.7 5.7 0 3.2 2.6 5.7 5.7 5.7h38.5c-1.2 8.5-5 16-11 22zm22.5-33.2c-1.5-13.5-8.4-25.3-18.4-33.4l11.3-17.8 19.3 51.1h-12.2zm22.5-4.6l-20.1-53.5h72.3l.1.1-52.3 53.4zm117.5 37.8c-7.4 7.4-17.2 11.4-27.6 11.4-10.4 0-20.2-4.1-27.6-11.4-7.4-7.4-11.4-17.2-11.4-27.6 0-10.4 4.1-20.2 11.4-27.6.9-.9 1.9-1.8 3-2.7v.1c7.6 16.9 14.4 28.5 20.6 34.3 1.1 1 2.5 1.5 3.9 1.5 1.5 0 3.1-.6 4.2-1.7 2.1-2.2 2-5.9-.2-8.1-6.1-5.7-13.1-19.4-18.6-32 4.6-1.8 9.6-2.9 14.7-2.9 10.4 0 20.2 4.1 27.6 11.4 7.4 7.4 11.4 17.2 11.4 27.6.1 10.6-4 20.4-11.4 27.7z"}))},$=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 390 390"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M195 20c46.7 0 90.7 18.2 123.7 51.3 33.1 33.1 51.3 77 51.3 123.7s-18.2 90.7-51.3 123.7c-33.1 33.1-77 51.3-123.7 51.3s-90.7-18.2-123.7-51.3C38.2 285.6 20 241.7 20 195s18.2-90.7 51.3-123.7c33-33.1 77-51.3 123.7-51.3m0-20C87.3 0 0 87.3 0 195s87.3 195 195 195 195-87.3 195-195S302.7 0 195 0z"}),l.a.createElement("path",{d:"M103.3 73.2h118.1c59.6 0 74.8 37.2 74.8 62.3 0 34.9-19.6 44.7-29.8 49.8 29.8 11.2 37.6 34.9 37.6 58.9 0 19.3-8.1 37.6-21 50.1-13.9 13.5-27.1 22-76.8 22H103.3V73.2zm48.8 95.2h59.6c20 0 35.9-7.8 35.9-27.1 0-20-14.2-26.1-37.2-26.1h-58.2l-.1 53.2zm0 105.9h62.3c24.7 0 38.9-10.8 38.9-35.5 0-21.3-18.3-29.5-36.6-29.5H152v65h.1z"}))},ee=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 390 390"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M300.9 0H193.4c-16 0-29.1 13.1-29.1 29.1v40.4h-5.7c-16 0-29.1 13.1-29.1 29.1V139h-5.7c-16 0-29.1 13.1-29.1 29.1v40.5h-5.6c-16 0-29.1 13.1-29.1 29.1V390h17.4V237.7c0-6.4 5.3-11.7 11.7-11.7h5.6v94.4h17.4V226h17.4v24.9h17.4V226h49.6c6.4 0 11.7 5.3 11.7 11.7V390h17.4V237.7c0-16-13.1-29.1-29.1-29.1h-49.6v-52.2h17.4v25h17.4v-25h49.6c6.4 0 11.7 5.3 11.7 11.7v152.4h17.4V168.1c0-16-13.1-29.1-29.1-29.1h-49.6V86.9h84.4c6.4 0 11.7 5.3 11.7 11.7V251h17.4V98.6c0-16-13.1-29.1-29.1-29.1h-84.4V29.1c0-6.4 5.3-11.7 11.7-11.7h107.4c6.4 0 11.7 5.3 11.7 11.7v152.3h17.4l.1-152.3c0-16-13.1-29.1-29.1-29.1zM129.5 208.6h-17.4v-40.5c0-6.4 5.3-11.7 11.7-11.7h5.7v52.2zm34.8-69.6h-17.4V98.6c0-6.4 5.3-11.7 11.7-11.7h5.7V139z"}))},te=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 390 390"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"m 325.28866,67.290913 c 0,-31.901057 -58.52714,-48.981938 -130.6185,-48.981938 -72.09137,0 -130.492908,17.080881 -130.618502,48.981938 L 56.515975,211.72483 v 90.4282 c 0,5.52615 4.521409,10.04757 10.047577,10.04757 h 8.79163 v 25.11894 c 0,8.28925 6.782114,15.07137 15.071365,15.07137 h 10.047583 c 8.28925,0 15.07136,-6.78212 15.07136,-15.07137 V 312.2006 h 158.24934 v 25.11894 c 0,8.28925 6.78211,15.07137 15.07136,15.07137 h 10.04759 c 8.28925,0 15.07136,-6.78212 15.07136,-15.07137 V 312.2006 h 8.79162 c 5.52617,0 10.04758,-4.52142 10.04758,-10.04757 v -90.4282 z M 148.82809,38.404129 h 91.68414 c 4.89819,0 8.79163,3.893436 8.79163,8.79163 0,4.898194 -3.89344,8.79163 -8.79163,8.79163 h -91.68414 c -4.89819,0 -8.79163,-3.893436 -8.79163,-8.79163 0,-4.898194 3.89344,-8.79163 8.79163,-8.79163 z M 95.450336,269.49839 c -10.424362,0 -18.839207,-8.41483 -18.839207,-18.8392 0,-10.42437 8.414845,-18.83921 18.839207,-18.83921 10.424364,0 18.839204,8.41484 18.839204,18.83921 0,10.42437 -8.41484,18.8392 -18.839204,18.8392 z m 198.439644,0 c -10.42436,0 -18.8392,-8.41483 -18.8392,-18.8392 0,-10.42437 8.41484,-18.83921 18.8392,-18.83921 10.42437,0 18.83921,8.41484 18.83921,18.83921 0,10.42437 -8.41484,18.8392 -18.83921,18.8392 z m 8.16366,-57.77356 H 87.286679 c -6.530924,0 -11.680308,-5.40057 -11.303524,-11.9315 L 82.137296,83.115846 C 82.388485,77.715274 86.7843,73.570648 92.184873,73.570648 H 296.02509 c 6.02855,0 10.92674,4.647004 11.30352,10.675551 l 6.02855,115.547131 c 0.37679,6.53093 -4.77259,11.9315 -11.30352,11.9315 z"}))},ne=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 390 390"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M158.5 96h73c3.9 0 7-3.1 7-7s-3.1-7-7-7h-73c-3.9 0-7 3.1-7 7s3.1 7 7 7z"}),l.a.createElement("circle",{cx:274,cy:251,r:15}),l.a.createElement("circle",{cx:116,cy:251,r:15}),l.a.createElement("path",{d:"M275.7 110H113.4c-4.3 0-7.8 3.3-8 7.6l-4.9 92.9c-.3 5.1 3.8 9.5 9 9.5h171c5.2 0 9.3-4.3 9-9.5l-4.8-92c-.3-4.8-4.2-8.5-9-8.5z"}),l.a.createElement("path",{d:"M195 0C87.3 0 0 87.3 0 195s87.3 195 195 195 195-87.3 195-195S302.7 0 195 0zm110 292c0 4.4-3.6 8-8 8h-7v20c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12v-20H132v20c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12v-20h-7c-4.4 0-8-3.6-8-8v-72l6-115c.1-25.4 46.6-39 104-39s104 13.6 104 39l6 115v72z"}))},re=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 390 390"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M371.2 175.3l-3.7-12.1-29.8-95.7c-5.8-18.6-22.9-31.2-42.4-31.2H94.7c-19.5 0-36.5 12.6-42.4 31.2l-29.8 95.7-3.7 12.1C7.6 181.4 0 193.1 0 206.5v76.2c0 7.8 6.4 14.2 14.2 14.2h12.4v35.5c0 11.7 9.6 21.3 21.3 21.3H62c11.7 0 21.3-9.6 21.3-21.3v-35.5h223.4v35.5c0 11.7 9.6 21.3 21.3 21.3h14.2c11.7 0 21.3-9.6 21.3-21.3v-35.5h12.4c7.8 0 14.2-6.4 14.2-14.2v-76.2c-.1-13.3-7.7-25.1-18.9-31.2zM55 252.8c-14.7 0-26.6-11.9-26.6-26.6s11.9-26.6 26.6-26.6 26.6 11.9 26.6 26.6-11.9 26.6-26.6 26.6zm240.7-81.6c-9-14.9-25.4-24.8-44-24.8s-34.9 9.9-44 24.8H47.9l29.8-95.6c2.3-7.4 9.2-12.4 16.8-12.4h200.9c7.8 0 14.5 5 16.8 12.4l29.8 95.7-46.3-.1zm39.3 81.6c-14.7 0-26.6-11.9-26.6-26.6s11.9-26.6 26.6-26.6c14.7 0 26.6 11.9 26.6 26.6s-11.8 26.6-26.6 26.6z"}),l.a.createElement("circle",{cx:251.7,cy:107.4,r:33.7}))},ie=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 390 390"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M195 0C87.3 0 0 87.3 0 195s87.3 195 195 195 195-87.3 195-195S302.7 0 195 0z"}))},oe=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 390 390"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M358 60.8H31.9C14.3 60.8 0 75.2 0 92.7v204.6c0 17.5 14.3 31.9 31.9 31.9h326.3c17.5 0 31.9-14.3 31.9-31.9V92.7c-.2-17.5-14.5-31.9-32.1-31.9zm11.9 215.5l-100.9-75c34.4-29.2 77.2-66.1 100.9-86.6v161.6zM31.9 80.8h326.3c5.2 0 9.6 3.4 11.1 8.1-60.3 52.1-154.5 133-162.9 138.2-6.8 4.3-17 4.3-23.6.1-7.6-5-99.7-83.8-162.3-137.7 1.4-5 5.9-8.7 11.4-8.7zM20 115.4c24.7 21.2 66.1 56.8 99.6 85.3l-99.6 76V115.4zm338 193.7H31.9c-5.1 0-9.4-3.2-11-7.7L135.4 214c19.2 16.3 33.6 28.2 36.7 30.1 6.5 4.2 14.4 6.2 22.3 6.2s15.9-2 22.5-6.2c3.6-2.2 17.7-13.8 36.4-29.5l115.9 86.3c-1.5 4.7-5.9 8.2-11.2 8.2z"}))},ae=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 390 390"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M326.7 46.8c24.8 0 44.9 20.1 44.9 44.8v109.8c0 24.8-20.1 44.9-44.9 44.9h-29.2v10.2c.4 21.2 3 51.2 19.6 82.2-31.1-3.9-85.1-19.9-90-83.2l-.7-9.3H63.3c-24.8 0-44.8-20.1-44.8-44.9V91.7c0-24.8 20.1-44.8 44.8-44.8h263.4m0-18.5H63.3C28.4 28.4 0 56.8 0 91.7v109.8c0 34.9 28.4 63.3 63.3 63.3h146.3c7.1 51.3 45 84.7 105.2 92.3l35.3 4.5-16.7-31.5c-12.8-23.9-16.2-47.6-17.2-65.3h10.4c34.9 0 63.3-28.4 63.3-63.3V91.7c.1-34.9-28.3-63.3-63.2-63.3z"}))},se=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 100 68.932"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M98.634 68.932a14.44 14.44 0 01-6.058-1.335 14.915 14.915 0 00-6.263-1.402c-2.226 0-4.37.521-6.25 1.402a14.59 14.59 0 01-6.082 1.335c-2.143 0-4.213-.486-6.081-1.335a14.803 14.803 0 00-6.239-1.402c-2.238 0-4.357.521-6.273 1.402a14.475 14.475 0 01-6.059 1.335c-2.155 0-4.238-.486-6.07-1.335a14.918 14.918 0 00-6.262-1.402c-2.227 0-4.371.521-6.25 1.402a14.537 14.537 0 01-6.071 1.335c-2.167 0-4.226-.486-6.095-1.335a14.753 14.753 0 00-6.237-1.402c-2.229 0-4.359.521-6.263 1.402a14.532 14.532 0 01-6.07 1.335v-9.2c2.156 0 4.228-.496 6.07-1.333a14.924 14.924 0 016.263-1.402c2.214 0 4.358.521 6.237 1.402 1.869.837 3.927 1.333 6.095 1.333 2.155 0 4.228-.496 6.071-1.333a14.785 14.785 0 016.25-1.402c2.226 0 4.357.521 6.262 1.402a14.68 14.68 0 006.07 1.333 14.66 14.66 0 006.059-1.333c1.916-.881 4.035-1.402 6.273-1.402 2.214 0 4.348.521 6.239 1.402 1.868.837 3.938 1.333 6.081 1.333 2.166 0 4.227-.496 6.082-1.333a14.792 14.792 0 016.25-1.402c2.227 0 4.358.521 6.263 1.402a14.62 14.62 0 006.058 1.333v9.2zM.048 29.398L.013 51.125c2.156 0 4.228-.483 6.07-1.318a14.865 14.865 0 016.263-1.405c2.214 0 4.358.521 6.237 1.405a14.903 14.903 0 006.095 1.318c2.155 0 4.228-.483 6.071-1.318a14.727 14.727 0 016.25-1.405c2.226 0 4.357.521 6.262 1.405a14.702 14.702 0 006.07 1.318c2.145 0 4.228-.483 6.059-1.318 1.916-.885 4.035-1.405 6.273-1.405 2.214 0 4.348.521 6.239 1.405a14.923 14.923 0 006.081 1.318c.612 0 1.197-.133 1.795-.193 1.08-.242 2.18-.352 3.233-.774l.072-.037c7.83-3.207 14.596-11.171 18.811-17.103l2.106-3.62H.048zM78.22 4.948C75.814-.45 69.336.01 69.336.01H.013L0 25.803h86.913L78.22 4.948zM33.274 20.211c0 .993-.814 1.817-1.808 1.817h-8.009c-.994 0-1.796-.824-1.796-1.817V7.864a1.8 1.8 0 011.796-1.802h8.009c.994 0 1.808.812 1.808 1.802v12.347zm16.655 0c0 .993-.802 1.817-1.785 1.817h-8.071c-.993 0-1.795-.824-1.795-1.817V7.864a1.8 1.8 0 011.795-1.802h8.071a1.8 1.8 0 011.785 1.802v12.347zm-33.25 0c0 .993-.813 1.817-1.796 1.817H6.814c-.994 0-1.795-.824-1.795-1.817V7.864a1.8 1.8 0 011.795-1.802h8.069c.982 0 1.796.812 1.796 1.802v12.347zM55.842 6.062h14.452l.12-.011h.097c.153-.012 3.961-.159 5.244 2.711l5.518 13.267H62.465L55.842 6.062z"}))},le=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 390 390"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M195 20c46.7 0 90.7 18.2 123.7 51.3 33.1 33.1 51.3 77 51.3 123.7s-18.2 90.7-51.3 123.7c-33.1 33.1-77 51.3-123.7 51.3s-90.7-18.2-123.7-51.3C38.2 285.6 20 241.7 20 195s18.2-90.7 51.3-123.7c33-33.1 77-51.3 123.7-51.3m0-20C87.3 0 0 87.3 0 195s87.3 195 195 195 195-87.3 195-195S302.7 0 195 0z"}),l.a.createElement("path",{d:"M228.2 315.8h-49.3v-47.6h49.3v47.6zm17.2-111.4c-14.5 10.5-20.6 16.9-20.6 41.2h-44.6c0-32.4 3.4-46.6 34.4-68.5 13.2-9.1 20.9-19.6 20.9-33.4 0-26.3-18.6-33.4-32.7-33.4-30.4 0-34.8 23-36.5 38.8v.3h-47.6c0-58.7 44.2-79 81-79 20.3 0 86.4 5.7 86.4 71.9.2 27.4-14.7 43.6-40.7 62.1z"}))},ce=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 390 390"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M195 0C87.3 0 0 87.3 0 195s87.3 195 195 195 195-87.3 195-195S302.7 0 195 0zm29.2 316.8h-49.3v-47.6h49.3v47.6zm17.2-111.4c-14.5 10.5-20.6 16.9-20.6 41.2h-44.6c0-32.4 3.4-46.6 34.4-68.5 13.2-9.1 20.9-19.6 20.9-33.4 0-26.3-18.6-33.4-32.7-33.4-30.4 0-34.8 23-36.5 38.8v.3h-47.6c0-58.7 44.2-79 81-79 20.3 0 86.4 5.7 86.4 71.9.2 27.4-14.7 43.6-40.7 62.1z"}))},ue=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 390 390"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M195 0C87.3 0 0 87.3 0 195s87.3 195 195 195 195-87.3 195-195S302.7 0 195 0zm18.7 49.1c5.9-6.4 13.1-9.7 21.5-9.7 6.7 0 12.3 2.3 16.7 6.8 4.4 4.4 6.6 10.1 6.6 16.9 0 8.8-3.1 16.6-9.2 23.2-6.2 6.8-13.4 10.2-21.4 10.2-6.6 0-12.1-2.3-16.5-6.9-4.3-4.6-6.5-10.5-6.5-17.5-.1-9 2.9-16.7 8.8-23zm41.7 247.7c-24.4 23-41.8 37.3-53.1 43.8-11.8 6.8-21.4 10.1-29.3 10.1-7.5 0-13.6-2.4-18.1-7.2-4.4-4.7-6.7-11.1-6.7-19.1 0-22.4 12.9-75 39.5-160.7 1-3.4 1.6-6.5 1.6-9-2.5.1-5.5 1.2-9.1 3.4-2.8 1.8-10.1 7.7-28.9 25.8l-3.1 3-19-14.6 3.6-4c17.6-19.3 34-33.2 48.7-41.4 15-8.4 28.1-12.7 39-12.7 6.6 0 11.9 1.5 15.8 4.5 4.1 3.2 6.3 7.8 6.3 13.2 0 3.6-1.8 14.3-17 65.5-18.1 60.9-27.3 98-27.3 110.1 0 1.3.3 2.4.8 3.1.1.2.2.3.3.4 2-.5 10.3-4.1 38.7-31l3.4-3.2 17.8 16.3-3.9 3.7z"}))},de=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 390 390"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M260.4 54.2L129.6 0 6.6 50.9v335.8l123-50.9L260.4 390l123-50.9V3.3l-123 50.9zM139.2 25l111.5 46.2v294L139.2 319V25zM25.9 63.9l94.1-39v294l-94.1 39v-294zm338.2 262.2l-94.1 39V71.2l94.1-39v293.9z"}))},fe=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 390 390"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M195 390l-10.1-12.5c-4.8-6-117.6-147-117.6-249.8C67.3 57.3 124.6 0 195 0s127.7 57.3 127.7 127.7c0 102.8-112.8 243.9-117.6 249.8L195 390zm0-364.1c-56.1 0-101.8 45.7-101.8 101.8 0 76.8 74.3 183.6 101.8 220.5 27.5-36.9 101.8-143.7 101.8-220.5 0-56.2-45.7-101.8-101.8-101.8z"}),l.a.createElement("circle",{cx:195,cy:129.3,r:53.5}))},pe=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 390 390"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M195 0C124.6 0 67.3 57.3 67.3 127.7c0 102.8 112.8 243.9 117.6 249.8L195 390l10.1-12.5c4.8-6 117.6-147 117.6-249.8C322.7 57.3 265.4 0 195 0zm0 182.8c-29.5 0-53.5-24-53.5-53.5s24-53.5 53.5-53.5 53.5 24 53.5 53.5-24 53.5-53.5 53.5z"}))},me=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 390 390"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M257.4 300h7.6c16.6 0 30-13.4 30-30V92c0-16.6-13.4-30-30-30h-56.5l40.3-29.9 11.6 9.9c.8.6 1.7 1 2.6 1 1.1 0 2.2-.5 3-1.4 1.4-1.7 1.2-4.2-.4-5.6l-14-12c-.7-.6-1.6-1-2.6-1H141c-1 0-1.9.3-2.6 1l-14 12c-1.7 1.4-1.9 4-.4 5.6 1.4 1.7 4 1.9 5.6.4l11.6-9.9L181.5 62H125c-16.6 0-30 13.4-30 30v178c0 16.6 13.4 30 30 30h7.6L84 372h26l10.8-16h148.4l10.8 16h26l-48.6-72zm6.6-34c-8.3 0-15-6.7-15-15s6.7-15 15-15 15 6.7 15 15-6.7 15-15 15zM153.1 31h83.8L195 62l-41.9-31zm5.4 45h73c3.9 0 7 3.1 7 7s-3.1 7-7 7h-73c-3.9 0-7-3.1-7-7s3.1-7 7-7zM111 112c0-4.4 3.6-8 8-8h152c4.4 0 8 3.6 8 8v100c0 4.4-3.6 8-8 8H119c-4.4 0-8-3.6-8-8V112zm131.2 204h-94.4l10.8-16h72.8l10.8 16zM126 266c-8.3 0-15-6.7-15-15s6.7-15 15-15 15 6.7 15 15-6.7 15-15 15zm2.9 78l10.8-16h110.6l10.8 16H128.9z"}))},he=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 390 390"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M153.1 31L195 62l41.9-31z"}),l.a.createElement("circle",{cx:264,cy:251,r:15}),l.a.createElement("path",{d:"M111 112v100c0 4.4 3.6 8 8 8h152c4.4 0 8-3.6 8-8V112c0-4.4-3.6-8-8-8H119c-4.4 0-8 3.6-8 8zM269.2 356H120.8l-10.1 14.9c25.5 12.2 54.1 19.1 84.3 19.1s58.8-6.9 84.3-19.1L269.2 356zM151.5 83c0 3.9 3.1 7 7 7h73c3.9 0 7-3.1 7-7s-3.1-7-7-7h-73c-3.9 0-7 3.1-7 7z"}),l.a.createElement("path",{d:"M195 0C87.3 0 0 87.3 0 195c0 69.8 36.7 131 91.8 165.5l40.8-60.5H125c-16.6 0-30-13.4-30-30V92c0-16.6 13.4-30 30-30h56.5l-40.3-29.9-11.6 9.9c-1.7 1.4-4.2 1.2-5.6-.4-1.4-1.7-1.2-4.2.4-5.6l14-12c.7-.6 1.6-1 2.6-1h108c1 0 1.9.3 2.6 1l14 12c1.7 1.4 1.9 4 .4 5.6-.8.9-1.9 1.4-3 1.4-.9 0-1.8-.3-2.6-1l-11.6-9.9L208.5 62H265c16.6 0 30 13.4 30 30v178c0 16.6-13.4 30-30 30h-7.6l40.8 60.5C353.3 326 390 264.8 390 195 390 87.3 302.7 0 195 0z"}),l.a.createElement("path",{d:"M147.8 316h94.4l-10.8-16h-72.8zM261.1 344l-10.8-16H139.7l-10.8 16z"}),l.a.createElement("circle",{cx:126,cy:251,r:15}))},ge=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 512 512"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M464.027 393.21L416.602 51.747C412.504 22.246 386.953 0 357.172 0H289v40h68.172c9.93 0 18.441 7.414 19.808 17.246l36.149 260.25C361 332.586 321.293 377.22 313.426 432H116.559c-8.254-23.277-30.485-40-56.559-40-33.086 0-60 26.914-60 60s26.914 60 60 60c26.074 0 48.305-16.723 56.559-40H352v-20c0-43.473 27.887-80.55 66.71-94.297l5.7 41.043C405.176 408.75 392 428.86 392 452c0 33.086 26.914 60 60 60s60-26.914 60-60c0-28.965-20.633-53.203-47.973-58.79zM60 472c-11.027 0-20-8.973-20-20s8.973-20 20-20 20 8.973 20 20-8.973 20-20 20zm392 0c-11.027 0-20-8.973-20-20s8.973-20 20-20 20 8.973 20 20-8.973 20-20 20zm0 0"}))},ye=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 390 390"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M195 0C87.3 0 0 87.3 0 195s87.3 195 195 195 195-87.3 195-195S302.7 0 195 0zm97.6 182.4c-4.7 11.8-11.4 20-20.2 26.5-8.8 6.6-17.4 11-25 13.1-8.3 2.2-20.6 3.6-38.1 3.6h-40.1v90.6h-57.8V73.6h95.9c20.9 0 37.8 2.3 49.1 6.8 11.2 4.6 20.9 12.1 29.9 24.4 8.9 11.6 13.3 25.6 13.3 42.9-.1 11.7-2.4 23.1-7 34.7z"}),l.a.createElement("path",{d:"M232.4 125.6c-6.5-5.9-15.9-8.9-29-8.9h-36.5v64.9h36.6c14.7 0 24.3-2.9 30.3-9.6 5.2-6.6 8.7-14.6 8.7-22.4.1-10.4-3.6-17.8-10.1-24z"}))},ve=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 390 390"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M114.8 195.5c0 110.9 43.9 194.5 102 194.5v-94.4c-15.1 0-41.3-21.6-41.3-100.2 0-78.5 26.2-102.7 41.3-102.7V1c-58 0-102 83.6-102 194.5M232.6 92.5h20c12.4 0 22.5-7.3 22.5-16.3V16.3c0-9-10.1-16.3-22.5-16.3h-20v92.5zM232.6 389.3h20c12.4 0 22.5-7.3 22.5-16.3v-59.9c0-9-10.1-16.3-22.5-16.3h-20v92.5z"}))},be=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 390 390"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M355.3 366.5L232.8 228.4l-47.5 82.3 18.3 47.1L185 390l-44.8-48.2-63.7-14.5L95 295.2l49.9-7.8 47.4-82.2L11.5 168l23.4-40.6 204.1-5 64.1-110.8c15.2-26.6 55.9-2.8 40.4 24L279.7 146l98.8 179.8-23.2 40.7z"}))},we=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 390 390"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M253.1 390c-66.9 0-121.3-54.4-121.3-121.3s54.4-121.3 121.3-121.3 121.3 54.4 121.3 121.3S320.1 390 253.1 390zm0-223.4c-56.2 0-102 45.8-102 102s45.8 102 102 102 102-45.8 102-102-45.7-102-102-102z"}),l.a.createElement("path",{d:"M304.5 309.2l-60.6-35v-90h19.3V263l51 29.5zM152.9 125.7H65.8v-19.3H153v19.3zM152.9 77.4H65.8V58.1H153v19.3zM172.2 106.4h87.2v19.3h-87.2zM172.3 58.1h87.2v19.3h-87.2z"}),l.a.createElement("path",{d:"M34.8 310V19.3h255.5V133c6.7 1.8 13.1 4.1 19.3 6.9V0H15.5v329.4h110.8c-3-6.2-5.5-12.7-7.6-19.3l-83.9-.1z"}),l.a.createElement("path",{d:"M152.9 154.7H65.8V174H149l3.9-4.2v-15.1zM65.8 203.2v19.3h54.4c2.3-6.7 5.1-13.1 8.4-19.3H65.8zM113.4 251.5H65.8v19.3h46.6v-2.3c.1-5.6.4-11.4 1-17z"}))},xe=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 390 390"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M364.1 204.2l-66.6 38.5L215 195l82.5-47.7 66.6 38.5 10-17.3-56.6-32.7 51.4-29.6-10-17.4-51.4 29.7V53.2h-20V130L205 177.7V82.4l66.6-38.5-10-17.3L205 59.3V0h-20v59.3l-56.6-32.7-10 17.3L185 82.4v95.3L102.5 130V53.2h-20v65.3L31.1 88.8l-10 17.4 51.4 29.6-56.6 32.7 10 17.3 66.6-38.5L175 195l-82.5 47.7-66.6-38.5-10 17.3 56.6 32.7-51.4 29.6 10 17.4 51.4-29.7v65.3h20V260l82.5-47.7v95.3l-66.6 38.5 10 17.3 56.6-32.7V390h20v-59.3l56.6 32.7 10-17.3-66.6-38.5v-95.3l82.5 47.7v76.8h20v-65.3l51.4 29.7 10-17.4-51.4-29.6 56.6-32.7z"}))},Ee=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 390 390"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M195 0C87.3 0 0 87.3 0 195s87.3 195 195 195 195-87.3 195-195S302.7 0 195 0zm123.7 318.7c-27.8 27.8-63.2 45-101.5 49.9V66.3l4.5-22.4h-29.3l4.5 22.4V370H195c-46.7 0-90.7-18.2-123.7-51.3C38.2 285.6 20 241.7 20 195s18.2-90.7 51.3-123.7C104.4 38.2 148.3 20 195 20s90.7 18.2 123.7 51.3c33.1 33.1 51.3 77 51.3 123.7s-18.2 90.7-51.3 123.7z"}),l.a.createElement("path",{d:"M70.8 202.3c0 51.3 41.6 92.9 92.9 92.9 8.6 0 16.9-1.2 24.8-3.4v-179c-7.9-2.2-16.2-3.4-24.8-3.4-51.3 0-92.9 41.6-92.9 92.9zM225.6 66.9V229c40.3-5.1 71.4-39.4 71.4-81.1 0-41.6-31.2-75.9-71.4-81z"}))},_e=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 390 390"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M195 0C87.3 0 0 87.3 0 195s87.3 195 195 195h1.9V66.3l-4.5-22.4h29.3l-4.5 22.4v322.5C314.5 377.7 390 295.2 390 195 390 87.3 302.7 0 195 0zm-6.5 291.8c-7.9 2.2-16.2 3.4-24.8 3.4-51.3 0-92.9-41.6-92.9-92.9s41.6-92.9 92.9-92.9c8.6 0 16.9 1.2 24.8 3.4v179zm37.1-62.8V66.9C265.9 72 297 106.3 297 148c0 41.6-31.2 75.9-71.4 81z"}))},Ae=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 390 390"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M115.4 309.3c3.1 6.6 11.1 12 18.8 13.9L102 371.9h29.4l31.7-48 60.7.1 31.5 48h29.6l-32.3-48.7c7.5-2 15-7.4 18.2-13.9l9.3-18.4c4-8.1 6.9-22.1 6.5-31.2L276.5 98.9c-.6-12-11.2-23.3-25.8-23.3h-23.2c4-10.1 11-27.5 11.7-29.4 10.4.7 12.6 2.1 13 2.4l.6 1.8-.6-1.2c.3 2.7 2.5 4.7 5.1 4.7 2.9 0 6-3.2 6-6 0-8.4-13-11-24.4-12.2-8.6-1-23.7-2.2-45.3-2.2-21.6 0-36.6 1.2-45.3 2.2-11.3 1.2-24.4 3.8-24.4 12.2 0 2.8 3.1 6 5.9 6 2.7 0 4.9-2 5.2-4.7l-.5 1.2s.7-1.7.7-1.8c.3-.4 2.6-1.7 12.9-2.4.7 1.9 7.7 19.3 11.7 29.4h-24.6c-13.8 0-25.9 11.9-25.9 23.3l-9.4 161c-.6 9 2.7 22.8 6.4 31l9.1 18.4zm30.4-5.5c-9.1 0-16.5-7.4-16.5-16.5 0-9 7.4-16.4 16.5-16.4s16.4 7.4 16.4 16.4c0 9.1-7.3 16.5-16.4 16.5zm94.3 0c-9 0-16.3-7.4-16.3-16.5 0-9 7.4-16.4 16.3-16.4 9.1 0 16.5 7.4 16.5 16.4 0 9.1-7.4 16.5-16.5 16.5zM193.6 45.4c6 0 24.3.3 32.9.4-1.5 3.7-8.1 20.1-11.9 29.7h-42c-3.9-9.6-10.4-26.1-11.9-29.7 8.6-.2 27-.4 32.9-.4zM139 109.5c0-7 5.7-12.7 12.6-12.7h82.8c6.9 0 12.6 5.6 12.6 12.7v4.3c0 6.9-5.6 12.6-12.6 12.6h-82.8c-6.9 0-12.6-5.7-12.6-12.6v-4.3zm-20.1 135.3l5.4-94.7c.4-6.9 6.8-12.8 13.7-12.8l111.3.1c6.9 0 12.9 5.7 13.4 12.6l5.6 94.9c.5 6.9-4.9 12.7-11.8 12.7h-126c-6.9-.1-12-5.9-11.6-12.8z"}))},Oe=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 390 390"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M151.7 126.6h82.8c6.9 0 12.6-5.7 12.6-12.6v-4.3c0-7-5.6-12.7-12.6-12.7h-82.8c-6.9 0-12.6 5.6-12.6 12.7v4.3c0 6.9 5.7 12.6 12.6 12.6zM214.8 75.8c3.8-9.6 10.4-26.1 11.9-29.7-8.6-.2-27-.4-32.9-.4-6 0-24.3.3-32.8.4 1.4 3.7 8 20.1 11.9 29.7h41.9zM145.9 271.2c-9.1 0-16.5 7.4-16.5 16.4s7.4 16.5 16.5 16.5 16.4-7.4 16.4-16.5-7.3-16.4-16.4-16.4zM268.5 244.9l-5.6-94.9c-.5-6.8-6.5-12.6-13.4-12.6l-111.3-.1c-6.9 0-13.3 5.9-13.7 12.8l-5.4 94.7c-.4 6.9 4.7 12.7 11.7 12.7h126c6.8.2 12.2-5.6 11.7-12.6zM240.2 271.2c-9 0-16.3 7.4-16.3 16.4s7.4 16.5 16.3 16.5c9.1 0 16.5-7.4 16.5-16.5s-7.4-16.4-16.5-16.4z"}),l.a.createElement("path",{d:"M226.7 45.9c-8.6-.2-27-.4-32.9-.4-6 0-24.3.3-32.8.4 1.4 3.7 8 20.1 11.9 29.7h42c3.6-9.5 10.3-25.9 11.8-29.7zM124.4 150.3L119 245c-.4 6.9 4.7 12.7 11.7 12.7h126c6.9 0 12.3-5.8 11.8-12.7l-5.6-94.9c-.5-6.8-6.5-12.6-13.4-12.6H138.2c-6.9.1-13.4 5.8-13.8 12.8zM223.9 324l-60.7-.1-35.6 54c21 7.7 43.7 12 67.4 12 22.8 0 44.6-3.9 65-11.1L223.9 324zM139.1 109.7v4.3c0 6.9 5.7 12.6 12.6 12.6h82.8c6.9 0 12.6-5.7 12.6-12.6v-4.3c0-7-5.6-12.7-12.6-12.7h-82.8c-6.9.1-12.6 5.7-12.6 12.7z"}),l.a.createElement("path",{d:"M195 .1C87.3.1 0 87.4 0 195.1 0 270.2 42.5 335.5 104.8 368l29.5-44.6c-7.7-1.9-15.7-7.2-18.8-13.9l-9.2-18.4c-3.8-8.2-7.1-22-6.4-31L109.3 99c0-11.3 12.1-23.3 25.9-23.3h24.6c-4-10.1-11-27.5-11.7-29.4-10.4.7-12.6 2.1-12.9 2.4l-.7 1.8.5-1.2c-.3 2.7-2.4 4.7-5.2 4.7s-5.9-3.2-5.9-6c0-8.4 13.1-11 24.5-12.2 8.6-1 23.7-2.2 45.3-2.2 21.6 0 36.7 1.2 45.3 2.2 11.4 1.3 24.4 3.9 24.4 12.2 0 2.8-3.1 6-6 6-2.6 0-4.8-2-5.1-4.7l.6 1.2s-.6-1.7-.6-1.8c-.4-.4-2.5-1.7-13-2.4-.7 1.9-7.7 19.3-11.7 29.4h23.2c14.5 0 25.2 11.3 25.8 23.3l10.1 160.9c.5 9.1-2.4 23.1-6.5 31.2l-9.3 18.4c-3.2 6.4-10.7 11.9-18.2 13.9L283 369c63.5-32.2 107-98 107-174C390 87.4 302.7.1 195 .1z"}),l.a.createElement("path",{d:"M223.9 287.5c0 9 7.4 16.5 16.3 16.5 9.1 0 16.5-7.4 16.5-16.5 0-9-7.3-16.4-16.5-16.4-9 .1-16.3 7.4-16.3 16.4zM145.9 304c9.1 0 16.4-7.4 16.4-16.5 0-9-7.4-16.4-16.4-16.4-9.1 0-16.5 7.4-16.5 16.4.1 9 7.5 16.5 16.5 16.5z"}))},Se=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 390 390"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M285.2 264.7l-105.5-60.9V47.1h30.6v139.1l90.1 52.1z"}),l.a.createElement("path",{d:"M195 20c46.7 0 90.7 18.2 123.7 51.3 33.1 33.1 51.3 77 51.3 123.7s-18.2 90.7-51.3 123.7c-33.1 33.1-77 51.3-123.7 51.3s-90.7-18.2-123.7-51.3C38.2 285.6 20 241.7 20 195s18.2-90.7 51.3-123.7c33-33.1 77-51.3 123.7-51.3m0-20C87.3 0 0 87.3 0 195s87.3 195 195 195 195-87.3 195-195S302.7 0 195 0z"}))},Te=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 390 390"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M195 0C87.3 0 0 87.3 0 195s87.3 195 195 195 195-87.3 195-195S302.7 0 195 0zm90.2 264.7l-105.4-60.9V47.1h30.5v139.1l90.2 52.1-15.3 26.4z"}))},Ie=function(){return l.a.createElement("svg",{viewBox:"0 0 100.3 100.29",height:"100%",width:"100%"},l.a.createElement("path",{id:"path15",d:"M100.3,50.15A50.15,50.15,0,1,1,50.15,0,50.15,50.15,0,0,1,100.3,50.15",style:{fill:"#e0651f"}}),l.a.createElement("path",{id:"path17",d:"M61.62,58.06A22.49,22.49,0,1,1,72.83,38.59",style:{fill:"none",stroke:"#fff",strokeWidth:"6.08px"}}),l.a.createElement("path",{id:"path19",d:"M50.88,37.61a22.49,22.49,0,1,1-22.32.1",style:{fill:"none",stroke:"#fff",strokeWidth:"6.08px"}}),l.a.createElement("path",{id:"path21",d:"M38.17,57.17A22.49,22.49,0,1,1,49.41,76.73",style:{fill:"none",stroke:"#fff",strokeWidth:"6.08px"}}))},ke=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 390 390"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M343.2 255.9l-9.8-16.9c-10.9 6.3-22.3 11.6-33.9 15.5l6.4 18.5c12.8-4.4 25.3-10.2 37.3-17.1zM40.7 144.2l11.3 16c12.7-9 26-16.5 39.3-22.4l-7.9-17.9c-14.6 6.4-28.9 14.5-42.7 24.3zM179.5 125l-11.1 16.1c12.9 8.9 21.8 20.8 28.2 37.7l18.3-6.9c-7.8-20.7-19-35.7-35.4-46.9zM224.2 205.5c-1.2-5-2.4-10.2-3.8-15.5l-18.9 5c1.4 4.9 2.5 10 3.7 15 3.2 13.8 6.2 26.7 12 38.5l17.6-8.6c-4.9-9.8-7.7-21.7-10.6-34.4z"}),l.a.createElement("path",{d:"M260.4 54.2L129.6 0 6.6 50.9v335.8l123-50.9L260.4 390l123-50.9V3.3l-123 50.9zM25.9 357.9v-294l94.1-39v82.7c-7 1.6-14.2 3.7-21.2 6.2l6.5 18.5c4.9-1.7 9.8-3.2 14.8-4.4v191l-94.2 39zm113.3-39v-191c5.4 1.5 10.4 3.4 15.1 5.4l7.9-17.9c-6.9-3.1-14.7-5.7-23.1-7.8V25l111.5 46.2v187.1c-2.9-1.7-5.4-3.8-7.7-6.1l-14.1 13.6c6 6.2 13.2 10.9 21.8 14.2v85.1l-111.4-46.2zm224.9 7.2l-94.1 39v-83.2c7.6-1.2 15.2-2.8 22.7-4.8l-5.1-18.9c-5.8 1.5-11.7 2.9-17.6 3.9V71.2l94.1-39v293.9z"}))},Ce=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 390 390"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M271.3 47.8v215.4c6-1 12-2.4 17.9-3.9l5.2 19.2c-7.6 2.1-15.3 3.7-23.1 4.9v105.9l115.3-47.8V0L271.3 47.8zm36.4 226.5l-6.5-18.8c11.9-4.1 23.4-9.4 34.4-15.8l10 17.2c-12.1 7-24.8 12.9-37.9 17.4zM103.7 131.2l-6.6-18.8c7.2-2.6 14.4-4.6 21.6-6.3V.8L3.4 48.6V390l115.3-47.8V126.7c-5 1.2-10 2.7-15 4.5zm-54.1 28.3l-11.5-16.3c14-9.9 28.6-18.2 43.4-24.7l8 18.2c-13.6 6.1-27 13.7-39.9 22.8zM229.5 267l14.3-13.8c2.4 2.4 4.9 4.4 7.8 6.2V47.8L138.2.8v105.3c8.4 2.2 16.3 4.8 23.4 7.9l-8 18.2c-4.7-2.1-9.8-3.9-15.3-5.5v215.6l113.4 47V281.4c-8.7-3.3-16-8.2-22.2-14.4zm-61.6-126.8l11.3-16.4c16.6 11.5 28.1 26.7 35.9 47.8l-18.6 7c-6.4-17.2-15.4-29.4-28.6-38.4zm37.4 70c-1.2-5-2.4-10.2-3.7-15.2l19.2-5.1c1.4 5.3 2.6 10.6 3.8 15.8 2.9 12.9 5.8 25 10.6 34.9l-17.9 8.7c-5.7-12-8.8-25.1-12-39.1z"}))},Me=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 390 390"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"m 207.60225,19.503527 c 16.02,0 29.07,13.05 29.07,29.07 0,16.020001 -13.05,29.07 -29.07,29.07 -16.02,0 -29.07,-13.049999 -29.07,-29.07 0,-16.02 13.05,-29.07 29.07,-29.07 z m 88.65,181.620003 c -4.05,5.94 -12.15,7.47 -18.09,3.42 0,0 -40.23,-27.45 -43.11,-29.43 -2.88,-1.98 -4.59,-6.12 -5.85,-8.82 -0.9,-1.8 -5.4,-10.62 -8.37,-16.47 l -3.6,15.3 -9.36,42.39 c 0,0 50.13,59.04 51.12,60.21 1.44,1.62 2.25,4.95 2.88,7.47 0.63,2.43 13.41,71.91 13.41,71.91 1.98,10.71 -5.13,21.06 -15.84,23.13 -10.71,1.98001 -21.06,-5.13 -23.13,-15.84 l -12.78,-68.67 -41.67,-45.54 c 0,0 -9.27,43.29 -9.45,44.19 -0.18,0.9 -0.63,2.25 -1.17,3.51 -0.54,1.17 -42.84,72.99 -42.84,72.99 -5.58,9.36 -17.73,12.51 -27.18,6.93 -9.359998,-5.58 -12.509998,-17.73 -6.929998,-27.18 l 37.619998,-63.27 30.24,-136.89 -20.34,16.2 -11.25,49.59 c 0,7.02 -7.92,11.61 -14.94,10.08 -7.02,-1.53 -11.16,-4.41 -9.54,-15.39 h 0.18 c 0,0 11.7,-55.08 12.6,-57.51 0.81,-2.43 2.07,-5.13 3.33,-6.12 8.46,-6.84 41.22,-33.66 50.85,-41.400003 11.07,-9.000001 15.93,-12.329999 25.38,-12.329999 7.11,0 14.85,2.159999 23.04,10.62 3.6,3.690001 6.21,9.720002 8.01,13.500002 1.8,3.69 24.39,48.33 24.39,48.33 l 38.97,27 c 5.94,4.05 7.47,12.15 3.42,18.09 z"}))},Ne=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 390 390"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M257.4 300l39.2-28c5.3-3.8 8.4-9.8 8.4-16.3V129c0-8.6-5.5-16.3-13.7-19-1.1-.4-2.3-.8-3.5-1.1l-5.7-38.3c-1.4-9.1-8-16.6-17-18.9-14.9-3.8-39.8-8.7-70.1-8.7s-55.3 4.9-70.1 8.7c-9 2.3-15.6 9.8-17 18.9l-5.7 38.3c-1.2.4-2.4.8-3.5 1.1-8.2 2.7-13.7 10.4-13.7 19v126.7c0 6.5 3.1 12.5 8.4 16.3l39.2 28L84 372h29l8.1-12h147.8l8.1 12h29l-48.6-72zm31.6-49c0 8.3-6.7 15-15 15s-15-6.7-15-15 6.7-15 15-15 15 6.7 15 15zM202.5 66.5c0-4.6 3.9-8.3 8.5-8 21.5 1.3 39.2 4.9 50.4 7.8 3.1.8 5.5 3.4 5.9 6.6l3.8 25.6c.4 2.8-2.1 5.1-4.9 4.5-15.6-3.8-34.9-7.2-56.1-8.4-4.3-.2-7.6-3.7-7.6-8V66.5zM237.9 314h-85.7l9.4-14h66.8l9.5 14zM214 127c0 10.5-8.5 19-19 19s-19-8.5-19-19 8.5-19 19-19 19 8.5 19 19zm-98 139c-8.3 0-15-6.7-15-15s6.7-15 15-15 15 6.7 15 15-6.7 15-15 15zm7.8-163.1c-2.8.7-5.3-1.7-4.9-4.5l3.8-25.6c.5-3.2 2.8-5.8 5.9-6.6 11.2-2.9 28.8-6.5 50.4-7.7 4.6-.3 8.5 3.4 8.5 8v20c0 4.3-3.3 7.8-7.6 8-21.2 1.1-40.5 4.6-56.1 8.4zm8.1 241.1l9.4-14h107.3l9.4 14H131.9z"}),l.a.createElement("circle",{cx:183,cy:29,r:8}),l.a.createElement("circle",{cx:207,cy:29,r:8}))},je=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 390 390"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("circle",{cx:116,cy:251,r:15}),l.a.createElement("path",{d:"M267.3 72.8c-.5-3.2-2.8-5.8-5.9-6.6-11.2-2.9-28.9-6.5-50.4-7.8-4.6-.3-8.5 3.4-8.5 8v20c0 4.3 3.3 7.8 7.6 8 21.2 1.2 40.5 4.7 56.1 8.4 2.8.7 5.3-1.7 4.9-4.5l-3.8-25.5zM268.9 360H121.1l-8.1 12c24.9 11.6 52.7 18 82 18s57.1-6.5 82-18l-8.1-12zM187.5 86.4v-20c0-4.6-3.9-8.3-8.5-8-21.6 1.3-39.2 4.9-50.4 7.7-3.1.8-5.5 3.4-5.9 6.6l-3.8 25.6c-.4 2.8 2.1 5.1 4.9 4.5 15.6-3.8 34.9-7.2 56.1-8.4 4.3-.2 7.6-3.7 7.6-8z"}),l.a.createElement("circle",{cx:274,cy:251,r:15}),l.a.createElement("path",{d:"M195 0C87.3 0 0 87.3 0 195c0 69.8 36.7 131 91.8 165.5l40.8-60.5-39.2-28c-5.3-3.8-8.4-9.8-8.4-16.3v-48V129c0-8.6 5.5-16.3 13.7-19 1.1-.4 2.3-.8 3.5-1.1l5.7-38.3c1.4-9.1 8-16.6 17-18.9 14.9-3.8 39.8-8.7 70.1-8.7s55.3 4.9 70.1 8.7c9 2.3 15.6 9.8 17 18.9l5.7 38.3c1.2.4 2.4.8 3.5 1.1 8.2 2.7 13.7 10.4 13.7 19V255.7c0 6.5-3.1 12.5-8.4 16.3l-39.2 28 40.8 60.5C353.3 326 390 264.8 390 195 390 87.3 302.7 0 195 0zm-12 37c-4.4 0-8-3.6-8-8s3.6-8 8-8 8 3.6 8 8-3.6 8-8 8zm24 0c-4.4 0-8-3.6-8-8s3.6-8 8-8 8 3.6 8 8-3.6 8-8 8z"}),l.a.createElement("path",{d:"M258.1 344l-9.4-14H141.3l-9.4 14z"}),l.a.createElement("circle",{cx:195,cy:127,r:19}),l.a.createElement("path",{d:"M152.1 314h85.8l-9.5-14h-66.8z"}))},Le=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 390 390"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M319.5 124.5C319.5 55.9 263.7 0 195 0S70.5 55.9 70.5 124.5c0 63.7 48.2 116.5 110 123.7l-.1 141.8h29.3l-.1-141.8c61.8-7.2 109.9-59.9 109.9-123.7zM195 223.9c-54.8 0-99.4-44.6-99.4-99.4s44.6-99.4 99.4-99.4 99.4 44.6 99.4 99.4-44.6 99.4-99.4 99.4z"}),l.a.createElement("path",{d:"M262.2 112.9h-55.7V57.2c0-6.3-5.2-11.5-11.5-11.5s-11.5 5.2-11.5 11.5v55.7h-55.7c-6.3 0-11.5 5.2-11.5 11.5s5.2 11.5 11.5 11.5h55.7v55.7c0 6.3 5.2 11.5 11.5 11.5s11.5-5.2 11.5-11.5v-55.7h55.7c6.3 0 11.5-5.2 11.5-11.5s-5.2-11.5-11.5-11.5z"}))},Re=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({viewBox:"0 0 390 390"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M137.5 81.8v55.7H81.8c-6.3 0-11.5 5.2-11.5 11.5s5.2 11.5 11.5 11.5h55.7v55.7c0 6.3 5.2 11.5 11.5 11.5s11.5-5.2 11.5-11.5v-55.7h55.7c6.3 0 11.5-5.2 11.5-11.5s-5.2-11.5-11.5-11.5h-55.7V81.8c0-6.3-5.2-11.5-11.5-11.5s-11.5 5.2-11.5 11.5z"}),l.a.createElement("path",{d:"M365.4 344.6L246.9 226.2c38.6-48.8 35.3-120-9.8-165.1-48.5-48.5-127.5-48.6-176.1 0s-48.5 127.6 0 176.1c45 45 116.4 48.3 165.2 9.7l118.3 118.4 20.9-20.7zM78.8 219.4c-38.7-38.7-38.7-101.8 0-140.6s101.8-38.7 140.6 0 38.7 101.8 0 140.6c-38.8 38.8-101.8 38.8-140.6 0z"}))},De=n(7),Pe=n(2),Be=n.n(Pe),Fe=function(e){var t=e.getCompanyIcon,n=e.leg,r=e.ModeIcon,o=a()(e,["getCompanyIcon","leg","ModeIcon"]),s=De.default.itinerary.getCompanyFromLeg(n);if(s&&"function"==typeof t){var c=t(s);c&&De.SafeSuspense}var u=n.mode;u&&u.startsWith("CAR")&&(u="CAR");var d={longName:n.longName,routeId:n.routeId,shortName:n.shortName};return l.a.createElement(r,i()({leg:d,mode:u},o))};Fe.propTypes={getCompanyIcon:Be.a.func,ModeIcon:Be.a.elementType.isRequired},Fe.defaultProps={getCompanyIcon:v};var Ue=Fe;var ze=function(e){var t=e.mode,n=a()(e,["mode"]);if(!t)return null;switch(t.toLowerCase()){case"bicycle":case"bicycle_rent":return l.a.createElement(c,n);case"bus":return l.a.createElement(u,n);case"car":case"car_park":return l.a.createElement(d,n);case"ferry":return l.a.createElement(f,n);case"gondola":return l.a.createElement(p,n);case"micromobility":case"micromobility_rent":case"scooter":return l.a.createElement(m,n);case"rail":case"subway":case"tram":return l.a.createElement(h,n);case"transit":return l.a.createElement(u,n);case"walk":return l.a.createElement(g,n);default:return null}},Ve=function(e){return l.a.createElement(Ue,i()({ModeIcon:ze},e))};var Ge=function(e){var t=e.mode,n=a()(e,["mode"]);if(!t)return null;switch(t.toLowerCase()){case"bicycle":case"bicycle_rent":return l.a.createElement(P,n);case"bus":return l.a.createElement(B,n);case"car":case"car_park":return l.a.createElement(d,n);case"ferry":return l.a.createElement(f,n);case"gondola":return l.a.createElement(F,n);case"micromobility":case"micromobility_rent":case"scooter":return l.a.createElement(m,n);case"rail":return l.a.createElement(U,n);case"subway":case"tram":return l.a.createElement(V,n);case"transit":return l.a.createElement(B,n);case"walk":return l.a.createElement(G,n);default:return null}},He=function(e){return l.a.createElement(Ue,i()({ModeIcon:Ge},e))},We=n(42);var Ye=function(e){var t=e.mode,n=a()(e,["mode"]);if(!t)return null;switch(t.toLowerCase()){case"bicycle":return l.a.createElement(X,n);case"bus":case"trolleybus":return l.a.createElement(te,n);case"car":case"car_park":return l.a.createElement(re,n);case"ferry":return l.a.createElement(se,n);case"gondola":return l.a.createElement(W,n);case"micromobility":case"micromobility_rent":case"scooter":return l.a.createElement(ge,n);case"rail":return l.a.createElement(Ne,n);case"streetcar":return l.a.createElement(Ae,n);case"subway":case"tram":return l.a.createElement(me,n);case"transit":return l.a.createElement(Ie,n);case"walk":return l.a.createElement(Me,n);default:return null}},Qe=n(503),Ze=function(e){var t=e.leg,n=a()(e,["leg"]),r=Object(We.getLegRouteLongName)(t);return r&&r.startsWith("Portland Streetcar")?l.a.createElement(Ye,i()({mode:"STREETCAR"},n)):t.rentedBike?t.from.networks&&"GBFS"===t.from.networks[0]?l.a.createElement(Qe.default,n):l.a.createElement(Ye,i()({mode:"BICYCLE"},n)):l.a.createElement(Ue,i()({leg:t,ModeIcon:Ye},n))},Xe=function(){return l.a.createElement("svg",{version:"1.1",id:"Layer_2_1_",x:"0px",y:"0px",viewBox:"0 0 390 390",xmlSpace:"preserve"},l.a.createElement("g",null,l.a.createElement("path",{d:"M84.7,188.3C38,188.5,0,226.3,0,273s37.9,84.5,84.7,84.7c46.6-0.2,84.5-38.1,84.5-84.7S131.1,188.5,84.7,188.3z M129.7,318.1c-11.5,11.7-27.4,19-45.1,19s-33.6-7.3-45.3-19c-11.5-11.5-18.8-27.4-18.8-45.1c0-17.6,7.3-33.6,18.8-45.1 c11.7-11.7,27.7-18.8,45.3-18.8s33.6,7,45.1,18.8c11.7,11.5,18.8,27.4,18.8,45.1C148.6,290.7,141.5,306.6,129.7,318.1z"}),l.a.createElement("path",{d:"M234.3,94.1c17,0,31-14,31-31s-14-30.8-31-30.8c-16.9,0-30.8,13.8-30.8,30.8C203.5,80.3,217.4,94.1,234.3,94.1z"}),l.a.createElement("path",{d:"M291.5,168.9c18.5,0,18.5-24.4-0.8-24.4h-49.3l-33.5-55.6c-7.3-10-28.2-11.2-36.7-1.1l-59.8,59.6 c-13.4,14.5-5.4,36,9.9,40.9l55.4,34.6v56.1c0,12.6,9.5,19.1,18.2,19.1c8.6,0,18.3-6.4,18.3-19.6v-71.7c0-6.5-0.9-14.1-6.4-16.3 l-36.4-23l30.3-32l18.2,24.3c3.1,7.8,11.4,9.2,18,9.2L291.5,168.9L291.5,168.9z"}),l.a.createElement("g",null,l.a.createElement("path",{d:"M305.4,187c-46.7,0-84.7,37.9-84.7,84.6c0.2,46.7,37.9,84.7,84.7,84.7c46.6,0,84.6-38,84.6-84.7S352,187,305.4,187z M350.6,316.8c-11.5,11.6-27.4,18.8-45.1,18.8s-33.6-7.2-45.3-18.8c-11.5-11.6-18.8-27.7-18.8-45.2c0-17.7,7.3-33.6,18.8-45.1 c11.7-11.7,27.7-18.8,45.3-18.8c17.7,0,33.6,7,45.1,18.8c11.7,11.7,18.8,27.4,18.8,45.1C369.4,289.1,362.3,305.1,350.6,316.8z"}))))},Je=function(){return l.a.createElement("svg",{version:"1.1",id:"Layer_3",x:"0px",y:"0px",viewBox:"0 0 390 390",xmlSpace:"preserve"},l.a.createElement("g",null,l.a.createElement("path",{d:"M371.2,175.3l-3.7-12.1l-29.8-95.7c-5.8-18.6-22.9-31.2-42.4-31.2H94.7c-19.5,0-36.5,12.6-42.4,31.2l-29.8,95.7l-3.7,12.1 C7.6,181.4,0,193.1,0,206.5v76.2c0,7.8,6.4,14.2,14.2,14.2h12.4v35.5c0,11.7,9.6,21.3,21.3,21.3H62c11.7,0,21.3-9.6,21.3-21.3 v-35.5h223.4v35.5c0,11.7,9.6,21.3,21.3,21.3h14.2c11.7,0,21.3-9.6,21.3-21.3v-35.5h12.4c7.8,0,14.2-6.4,14.2-14.2v-76.2 C390,193.2,382.4,181.4,371.2,175.3z M55,252.8c-14.7,0-26.6-11.9-26.6-26.6s11.9-26.6,26.6-26.6s26.6,11.9,26.6,26.6 S69.7,252.8,55,252.8z M295.7,171.2c-9-14.9-25.4-24.8-44-24.8s-34.9,9.9-44,24.8H47.9l29.8-95.6c2.3-7.4,9.2-12.4,16.8-12.4h200.9 c7.8,0,14.5,5,16.8,12.4l29.8,95.7L295.7,171.2z M335,252.8c-14.7,0-26.6-11.9-26.6-26.6s11.9-26.6,26.6-26.6 c14.7,0,26.6,11.9,26.6,26.6S349.8,252.8,335,252.8z"}),l.a.createElement("circle",{cx:"251.7",cy:"107.4",r:"33.7"})))},qe=function(){return l.a.createElement("svg",{version:"1.1",id:"wes",x:"0px",y:"0px",viewBox:"0 0 390 390",xmlSpace:"preserve"},l.a.createElement("g",null,l.a.createElement("path",{className:"st0",d:"M334.7,277.7c-24.9,0-46,16.5-52.9,39.2H133.7l-57-115.2l36-178.8H72.4c-5,0-9.1,4.1-9.1,9.1s4.1,9.1,9.1,9.1 h18.1L40,292c-22.1,0.5-40,18.7-40,41c0,22.6,18.4,41,41,41s41-18.4,41-41c0-16.6-10-31-24.2-37.4l10.8-53.6l37.2,75.2 c-7.5,1.3-13.3,7.9-13.3,15.8c0,8.9,7.2,16,16,16H297c6.3,14.7,20.8,24.9,37.7,24.9c22.6,0,41-18.4,41-41c0-22.6-18.4-41-41-41 c-16.9,0-31.5,10.3-37.7,24.9h-5.6c6.5-17.6,23.5-30.1,43.3-30.1c25.5,0,46.2,20.7,46.2,46.2c0,2.5,2,4.5,4.5,4.5s4.5-2,4.5-4.5 C390,302.5,365.2,277.7,334.7,277.7z M63.8,332.9c0,12.6-10.3,22.9-22.9,22.9s-22.9-10.3-22.9-22.9c0-11,7.8-20.2,18.1-22.4 l-4.1,20.6c-1,4.9,2.2,9.7,7.1,10.7c0.6,0.1,1.2,0.2,1.8,0.2c4.2,0,8-3,8.9-7.3l4.1-20.6C59.9,318.3,63.8,325.2,63.8,332.9z M334.7,310.1c12.6,0,22.9,10.3,22.9,22.9c0,12.6-10.3,22.9-22.9,22.9c-6.4,0-12.1-2.6-16.3-6.8h16.3c8.9,0,16-7.2,16-16 s-7.2-16-16-16h-16.3C322.6,312.7,328.4,310.1,334.7,310.1z"}),l.a.createElement("polygon",{className:"st0",points:"280.5,194.3 247.1,194.3 280.8,146.6 233.3,146.6 194.8,223.6 223.3,223.6 190.7,301 \t"})))},Ke=function(){return l.a.createElement("svg",{version:"1.1",id:"bus_circle",x:"0px",y:"0px",viewBox:"0 0 390 390",xmlSpace:"preserve"},l.a.createElement("g",null,l.a.createElement("path",{d:"M209,0c17.8,0,32.3,14.5,32.3,32.3S226.8,64.6,209,64.6s-32.3-14.5-32.3-32.3S191.2,0,209,0z M307.5,201.8 c-4.5,6.6-13.5,8.3-20.1,3.8l0,0c0,0-44.7-30.5-47.9-32.7c-3.2-2.2-5.1-6.8-6.5-9.8c-1-2-6-11.8-9.3-18.3l-4,17l-10.4,47.1 c0,0,55.7,65.6,56.8,66.9c1.6,1.8,2.5,5.5,3.2,8.3c0.7,2.7,14.9,79.9,14.9,79.9c2.2,11.9-5.7,23.4-17.6,25.7 c-11.9,2.2-23.4-5.7-25.7-17.6l-14.2-76.3l-46.3-50.6c0,0-10.3,48.1-10.5,49.1s-0.7,2.5-1.3,3.9c-0.6,1.3-47.6,81.1-47.6,81.1 c-6.2,10.4-19.7,13.9-30.2,7.7c-10.4-6.2-13.9-19.7-7.7-30.2l41.8-70.3l33.6-152.1l-22.6,18l-12.5,55.1l0,0 c0,7.8-8.8,12.9-16.6,11.2c-7.8-1.7-12.4-4.9-10.6-17.1h0.2c0,0,13-61.2,14-63.9c0.9-2.7,2.3-5.7,3.7-6.8 c9.4-7.6,45.8-37.4,56.5-46c12.3-10,17.7-13.7,28.2-13.7c7.9,0,16.5,2.4,25.6,11.8c4,4.1,6.9,10.8,8.9,15 c2,4.1,27.1,53.7,27.1,53.7l43.3,30l0,0C310.3,186.2,312,195.2,307.5,201.8z"})))};var $e=function(e){var t=e.mode,n=a()(e,["mode"]);if(!t)return null;switch(t.toLowerCase()){case"bicycle":case"bicycle_rent":return l.a.createElement(Xe,n);case"car":case"car_park":case"car_hail":return l.a.createElement(Je,n);case"micromobility":case"micromobility_rent":case"scooter":return l.a.createElement(qe,n);case"walk":return l.a.createElement(Ke,n);default:return null}},et=function(){return l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25.023",height:"25.022",viewBox:"0 0 25.023 25.022"},l.a.createElement("g",{id:"Group_57689","data-name":"Group 57689",transform:"translate(-845 -293)"},l.a.createElement("path",{id:"Path_36555","data-name":"Path 36555",d:"M34.988,32.7v1.031a.863.863,0,1,0,1.725,0c0-.263-.014-1.031-.014-1.031h1.14V26.585s-.313-3.1-.442-4.326c-.144-1.37-.461-1.77-1.424-2.224a10.613,10.613,0,0,0-4.562-.924,10.616,10.616,0,0,0-4.563.924c-.963.455-1.279.854-1.424,2.224-.13,1.23-.442,4.326-.442,4.326V32.7h1.14s-.014.768-.014,1.031a.863.863,0,1,0,1.725,0V32.7Zm-8.874-2.88a.859.859,0,1,1,.859.859.859.859,0,0,1-.859-.859m8.879,0a.859.859,0,1,1,.859.859.859.859,0,0,1-.859-.859m-6.234-8.762a.392.392,0,1,1,0-.783H34.1a.392.392,0,1,1,0,.783Zm-2.047,5.577A.577.577,0,0,1,26.127,26c.1-1.375.181-2.151.349-3.531a.612.612,0,0,1,.671-.506H35.69a.629.629,0,0,1,.671.529c.186,1.453.25,2.093.353,3.5a.554.554,0,0,1-.551.638Z",transform:"translate(826.1 278.66)",fill:"#1a1818"}),l.a.createElement("g",{id:"Ellipse_528","data-name":"Ellipse 528",transform:"translate(845 293)",fill:"none",stroke:"#1a1818",strokeWidth:"1"},l.a.createElement("circle",{cx:"12.511",cy:"12.511",r:"12.511",stroke:"none"}),l.a.createElement("circle",{cx:"12.511",cy:"12.511",r:"12.011",fill:"none"}))))},tt=function(){return l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20.469",height:"30",viewBox:"0 0 21 15"},l.a.createElement("path",{id:"Bike",d:"M871.138,64.5a4.216,4.216,0,0,0-.761.068l-1.32-3.617v-1.99h.705a.654.654,0,1,0,0-1.308h-2.73a.654.654,0,1,0,0,1.308h.717V60.4h-5.539V58.315a.66.66,0,0,0-.659-.66h-2.741a.654.654,0,0,0,0,1.308H860.9v1.99l-1.319,3.617a4.357,4.357,0,0,0-.773-.068,4.079,4.079,0,1,0,2,.523l.819-2.24L864.36,68.8l.023.045a.606.606,0,0,0,.341.33.184.184,0,0,0,.1.034.326.326,0,0,0,.148.023h2.138a4.075,4.075,0,1,0,4.026-4.731Zm-9.552,4.083a2.769,2.769,0,1,1-2.775-2.775,2.8,2.8,0,0,1,.318.023l-.921,2.525a.653.653,0,1,0,1.229.443l.92-2.536A2.813,2.813,0,0,1,861.586,68.584Zm8.017-2.32.6,1.66h-1.762A2.815,2.815,0,0,1,869.6,66.264ZM862.576,61.7h4.811L864.975,67Zm4.537,6.22h-1.126l2.342-5.152.819,2.24A4.067,4.067,0,0,0,867.113,67.924Zm4.026,3.423a2.769,2.769,0,0,1-2.695-2.115h2.695a.471.471,0,0,0,.182-.035h.011a.11.11,0,0,0,.057-.023.514.514,0,0,0,.3-.261.6.6,0,0,0,.1-.341.578.578,0,0,0-.034-.193c0-.023-.011-.034-.011-.057l-.91-2.5a2.772,2.772,0,1,1,.307,5.527Z",transform:"translate(-854.74 -57.655)"}))},nt=function(){return l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18.462",height:"13.867",viewBox:"0 0 18.462 13.867"},l.a.createElement("path",{id:"Parking",d:"M929.672,57.655a2.078,2.078,0,0,0-1.993,1.474l-.953,3.185-1.343-.455-.434,1.3,1.365.455-.434,1.474a.673.673,0,0,0-.022.195v5.547a.7.7,0,0,0,.693.693h2.08l.239-.693h10.617l.238.693h2.08a.7.7,0,0,0,.693-.693v-.585a.7.7,0,0,0,0-.109V65.282a.651.651,0,0,0-.022-.195l-.433-1.474,1.365-.455-.434-1.3-1.343.455-.953-3.185a2.078,2.078,0,0,0-1.994-1.474Zm0,1.387h9.014a.7.7,0,0,1,.672.5l.889,2.968H928.113L929,59.54A.7.7,0,0,1,929.672,59.042ZM927.7,63.9h12.958l.455,1.517v4.03H927.246v-4.03Zm1.278.693a1.04,1.04,0,1,0,1.04,1.04A1.04,1.04,0,0,0,928.979,64.589Zm10.4,0a1.04,1.04,0,1,0,1.04,1.04A1.04,1.04,0,0,0,939.38,64.589Zm-7.974,2.08-.866,2.08h1.5l.3-.693h3.683l.3.693h1.5l-.867-2.08Z",transform:"translate(-924.949 -57.655)"}))},rt=function(){return l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26.023",height:"26.022",viewBox:"0 0 26.023 26.022"},l.a.createElement("g",{id:"Group_57632","data-name":"Group 57632",transform:"translate(-299.5 -1876.595)"},l.a.createElement("path",{id:"Path_36325","data-name":"Path 36325",d:"M31.279,26.757A12.511,12.511,0,1,1,43.791,14.245,12.526,12.526,0,0,1,31.279,26.757",transform:"translate(281.232 1875.36)",fill:"none",stroke:"#1a1818",strokeWidth:"1"}),l.a.createElement("path",{id:"Path_36326","data-name":"Path 36326",d:"M42.055,42.153l6.107-5.24H40.543l-5.4-5.409H35.14l0,0,0,0,5.209-5.239h6.8L41.047,31.5h7.619l5.4,5.41h.007l0,0,0,0L48.86,42.153ZM47.7,36.4l-4.217-4.217a.6.6,0,0,0-.428-.177H41.508l4.2,4.2a.671.671,0,0,0,.475.2Zm.483.492,0,0,0,0Z",transform:"translate(267.907 1855.4)"})))},it=function(){return l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26.023",height:"26.022",viewBox:"0 0 26.023 26.022"},l.a.createElement("g",{id:"Group_57691","data-name":"Group 57691",transform:"translate(-703.5 -1378.855)"},l.a.createElement("g",{id:"Regional_Rail_Icon","data-name":"Regional Rail Icon",transform:"translate(709.744 1380.672)"},l.a.createElement("path",{id:"Path_36282","data-name":"Path 36282",d:"M50.43,217.073h7.787l-.275-.62-7.19,0Zm7.137-1.619-.174-.322h.99l.183.322h.656l.6.993h-.694l.363.62H60.2l.7,1.164h-.759l.629,1.1h-1.8l-.52-1.093-8.626.006-.555,1.087H47.491l.629-1.1h-.759l.688-1.164h.73l.354-.62h-.694l.6-.993h.656l.183-.322h.99l-.174.322Z",transform:"translate(-47.361 -199.074)",fill:"#fff"}),l.a.createElement("path",{id:"Path_36283","data-name":"Path 36283",d:"M59.91,189.72h.815v-.5H61.2l1.1-2.369,0-7.063H50.611v7.078l1.1,2.346h.508v.5h.815v-.836l.414,0,.544-.871v-.857h.7l.032-6.36c.018-.213.139-.192.467-.219q.062,0,2.473,0c.357,0,.514-.038.514.29v6.292h.715l0,.863.555.871H59.9v.836Z",transform:"translate(-49.651 -174.173)",fill:"#fff"}),l.a.createElement("path",{id:"Path_36284","data-name":"Path 36284",d:"M56.687,162.042v-.476l.851.027a4.842,4.842,0,0,1,1.533.417c.068.047.151.1.213.035.03-.035.366-.411.369-.414a2.852,2.852,0,0,0-.662-.626l-1.45-.233H55.275l-1.2.225a3.019,3.019,0,0,0-.653.662,3.414,3.414,0,0,0,.369.419c.006,0,.065-.03.18-.089a3.4,3.4,0,0,1,1.253-.375l.978-.044v.476h-.275v.806h.275v1.013l-2.9.222a4.42,4.42,0,0,0-2.334.809c-.322.3-.346,1.182-.36,1.182H62.3s-.024-.969-.428-1.22a6.517,6.517,0,0,0-2.659-.795l-2.526-.2v-1.013h.23v-.806h-.23Z",transform:"translate(-49.651 -160.772)",fill:"#fff"}),l.a.createElement("path",{id:"Path_36285","data-name":"Path 36285",d:"M66.3,184.078a.475.475,0,0,1,.476-.476h1.291a.475.475,0,0,1,.476.476v1.391a.475.475,0,0,1-.476.476H66.777a.475.475,0,0,1-.476-.476v-1.391",transform:"translate(-60.706 -176.858)",fill:"#fff",fillRule:"evenodd"}),l.a.createElement("path",{id:"Path_36286","data-name":"Path 36286",d:"M78.786,182.462h1.731a.154.154,0,0,1,.168.139v2.121a.184.184,0,0,1-.168.2H78.789a.186.186,0,0,1-.168-.2V182.6a.152.152,0,0,1,.165-.139",transform:"translate(-69.387 -176.055)",fill:"#4c748c"}),l.a.createElement("path",{id:"Path_36287","data-name":"Path 36287",d:"M54.676,182.392h1.731a.154.154,0,0,1,.168.139v2.121a.184.184,0,0,1-.168.2H54.679a.186.186,0,0,1-.168-.2v-2.121a.153.153,0,0,1,.165-.139",transform:"translate(-52.399 -176.005)",fill:"#4c748c"}),l.a.createElement("path",{id:"Path_36288","data-name":"Path 36288",d:"M58.361,197.123a.56.56,0,1,1,.561.561.561.561,0,0,1-.561-.561",transform:"translate(-55.112 -185.99)",fill:"#4c748c",fillRule:"evenodd"}),l.a.createElement("path",{id:"Path_36289","data-name":"Path 36289",d:"M78.771,175.09H80.78s.012-.245.009-.452c0-.189-.006-.233-.192-.3a3.52,3.52,0,0,0-1.557-.272c-.139,0-.242.041-.269.133Z",transform:"translate(-69.492 -170.139)",fill:"#4c748c"}),l.a.createElement("path",{id:"Path_36290","data-name":"Path 36290",d:"M57.219,175.12H55.228s-.012-.242-.009-.452c0-.186.006-.233.192-.3a3.52,3.52,0,0,1,1.557-.272c.139,0,.242.041.269.133Z",transform:"translate(-52.898 -170.16)",fill:"#4c748c"}),l.a.createElement("path",{id:"Path_36291","data-name":"Path 36291",d:"M78.261,197.06a.56.56,0,1,1,.561.561.565.565,0,0,1-.561-.561",transform:"translate(-69.133 -185.947)",fill:"#4c748c",fillRule:"evenodd"}),l.a.createElement("rect",{id:"Rectangle_1200","data-name":"Rectangle 1200",width:"4.446",height:"0.874",transform:"translate(4.564 13.187)",fill:"#fff"}),l.a.createElement("rect",{id:"Rectangle_1201","data-name":"Rectangle 1201",width:"3.568",height:"1.176",rx:"0.588",transform:"translate(5.043 3.796)",fill:"#4c748c"}),l.a.createElement("path",{id:"Path_36292","data-name":"Path 36292",d:"M65.551,174.708a.366.366,0,1,1,.366.366.366.366,0,0,1-.366-.366",transform:"translate(-60.178 -170.333)",fill:"#fff",fillRule:"evenodd"}),l.a.createElement("path",{id:"Path_36293","data-name":"Path 36293",d:"M73.021,174.748a.366.366,0,1,1,.366.366.366.366,0,0,1-.366-.366",transform:"translate(-65.441 -170.362)",fill:"#fff",fillRule:"evenodd"}),l.a.createElement("path",{id:"Path_36296","data-name":"Path 36296",d:"M50.43,217.073h7.787l-.275-.62-7.19,0Zm7.137-1.619-.174-.322h.99l.183.322h.656l.6.993h-.694l.363.62H60.2l.7,1.164h-.759l.629,1.1h-1.8l-.52-1.093-8.626.006-.555,1.087H47.491l.629-1.1h-.759l.688-1.164h.73l.354-.62h-.694l.6-.993h.656l.183-.322h.99l-.174.322Z",transform:"translate(-47.361 -199.074)"}),l.a.createElement("path",{id:"Path_36297","data-name":"Path 36297",d:"M59.91,189.72h.815v-.5H61.2l1.1-2.369,0-7.063H50.611v7.078l1.1,2.346h.508v.5h.815v-.836l.414,0,.544-.871v-.857h.7l.032-6.36c.018-.213.139-.192.467-.219q.062,0,2.473,0c.357,0,.514-.038.514.29v6.292h.715l0,.863.555.871H59.9v.836Z",transform:"translate(-49.651 -174.173)"}),l.a.createElement("path",{id:"Path_36298","data-name":"Path 36298",d:"M56.687,162.042v-.476l.851.027a4.842,4.842,0,0,1,1.533.417c.068.047.151.1.213.035.03-.035.366-.411.369-.414a2.852,2.852,0,0,0-.662-.626l-1.45-.233H55.275l-1.2.225a3.019,3.019,0,0,0-.653.662,3.414,3.414,0,0,0,.369.419c.006,0,.065-.03.18-.089a3.4,3.4,0,0,1,1.253-.375l.978-.044v.476h-.275v.806h.275v1.013l-2.9.222a4.42,4.42,0,0,0-2.334.809c-.322.3-.346,1.182-.36,1.182H62.3s-.024-.969-.428-1.22a6.517,6.517,0,0,0-2.659-.795l-2.526-.2v-1.013h.23v-.806h-.23Z",transform:"translate(-49.651 -160.772)"}),l.a.createElement("path",{id:"Path_36299","data-name":"Path 36299",d:"M66.3,184.078a.475.475,0,0,1,.476-.476h1.291a.475.475,0,0,1,.476.476v1.391a.475.475,0,0,1-.476.476H66.777a.475.475,0,0,1-.476-.476v-1.391",transform:"translate(-60.706 -176.858)",fillRule:"evenodd"}),l.a.createElement("path",{id:"Path_36300","data-name":"Path 36300",d:"M78.786,182.462h1.731a.154.154,0,0,1,.168.139v2.121a.184.184,0,0,1-.168.2H78.789a.186.186,0,0,1-.168-.2V182.6a.152.152,0,0,1,.165-.139",transform:"translate(-69.387 -176.055)",fill:"#fff"}),l.a.createElement("path",{id:"Path_36301","data-name":"Path 36301",d:"M54.676,182.392h1.731a.154.154,0,0,1,.168.139v2.121a.184.184,0,0,1-.168.2H54.679a.186.186,0,0,1-.168-.2v-2.121a.153.153,0,0,1,.165-.139",transform:"translate(-52.399 -176.005)",fill:"#fff"}),l.a.createElement("path",{id:"Path_36302","data-name":"Path 36302",d:"M58.361,197.123a.56.56,0,1,1,.561.561.561.561,0,0,1-.561-.561",transform:"translate(-55.112 -185.99)",fill:"#fff",fillRule:"evenodd"}),l.a.createElement("path",{id:"Path_36303","data-name":"Path 36303",d:"M78.771,175.09H80.78s.012-.245.009-.452c0-.189-.006-.233-.192-.3a3.52,3.52,0,0,0-1.557-.272c-.139,0-.242.041-.269.133Z",transform:"translate(-69.492 -170.139)",fill:"#fff"}),l.a.createElement("path",{id:"Path_36304","data-name":"Path 36304",d:"M57.219,175.12H55.228s-.012-.242-.009-.452c0-.186.006-.233.192-.3a3.52,3.52,0,0,1,1.557-.272c.139,0,.242.041.269.133Z",transform:"translate(-52.898 -170.16)",fill:"#fff"}),l.a.createElement("path",{id:"Path_36305","data-name":"Path 36305",d:"M78.261,197.06a.56.56,0,1,1,.561.561.565.565,0,0,1-.561-.561",transform:"translate(-69.133 -185.947)",fill:"#fff",fillRule:"evenodd"}),l.a.createElement("rect",{id:"Rectangle_1205","data-name":"Rectangle 1205",width:"4.446",height:"0.874",transform:"translate(4.564 13.187)"}),l.a.createElement("path",{id:"Path_36560","data-name":"Path 36560",d:"M.476,0H3.093a.476.476,0,0,1,.476.476V.7a.476.476,0,0,1-.476.476H.476A.476.476,0,0,1,0,.7V.476A.476.476,0,0,1,.476,0Z",transform:"translate(5.043 3.796)",fill:"#fff"}),l.a.createElement("path",{id:"Path_36306","data-name":"Path 36306",d:"M65.551,174.708a.366.366,0,1,1,.366.366.366.366,0,0,1-.366-.366",transform:"translate(-60.178 -170.333)",fillRule:"evenodd"}),l.a.createElement("path",{id:"Path_36307","data-name":"Path 36307",d:"M73.021,174.748a.366.366,0,1,1,.366.366.366.366,0,0,1-.366-.366",transform:"translate(-65.441 -170.362)",fillRule:"evenodd"})),l.a.createElement("g",{id:"Group_57686","data-name":"Group 57686",transform:"translate(704 1379.355)"},l.a.createElement("path",{id:"Path_36325","data-name":"Path 36325",d:"M31.279,26.757A12.511,12.511,0,1,1,43.791,14.245,12.526,12.526,0,0,1,31.279,26.757",transform:"translate(-18.768 -1.734)",fill:"none",stroke:"#000",strokeWidth:"1"}))))},ot=function(){return l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"30",viewBox:"0 0 9 15.162"},l.a.createElement("path",{id:"Icon_awesome-walking","data-name":"Icon awesome-walking",d:"M6.16,2.843A1.421,1.421,0,1,0,4.739,1.421,1.422,1.422,0,0,0,6.16,2.843Zm2.8,4.415-.69-.349-.287-.871A3.228,3.228,0,0,0,4.955,3.79a6.511,6.511,0,0,0-2.763.746A2.824,2.824,0,0,0,.721,5.9l-.2.4a.951.951,0,0,0,.42,1.27A.935.935,0,0,0,2.2,7.154l.2-.4A.941.941,0,0,1,2.888,6.3l.794-.32-.45,1.8a1.9,1.9,0,0,0,.441,1.741L5.446,11.45a1.911,1.911,0,0,1,.441.82l.542,2.17a.948.948,0,1,0,1.839-.459l-.657-2.635a1.894,1.894,0,0,0-.441-.82L5.822,9.055,6.332,7.02l.163.489a1.888,1.888,0,0,0,.939,1.1l.69.349a.935.935,0,0,0,1.258-.423.959.959,0,0,0-.423-1.273ZM2.18,11.423a1.837,1.837,0,0,1-.42.637L.279,13.544a.947.947,0,0,0,1.338,1.341l1.759-1.759a1.925,1.925,0,0,0,.42-.637l.4-1C2.559,9.7,3.051,10.251,2.793,9.9L2.18,11.423Z"}))};var at=function(e){var t=e.mode,n=a()(e,["mode"]);if(!t)return null;switch(t.toLowerCase()){case"bicycle":case"bicycle_rent":return l.a.createElement(tt,n);case"bus":case"trolleybus":return l.a.createElement(et,n);case"car":case"car_park":case"car_hail":return l.a.createElement(nt,n);case"streetcar":case"tram":case"transit":case"subway":case"metro":return l.a.createElement(rt,n);case"walk":return l.a.createElement(ot,n);case"rail":return l.a.createElement(it,n);default:return null}},st=c,lt=u,ct=d,ut=f,dt=p,ft=m,pt=h,mt=g,ht=v,gt=b,yt=w,vt=function(e){var t=e.relativeDirection;if(!t)return null;switch(t.toUpperCase()){case"DEPART":case"CONTINUE":return l.a.createElement(I,null);case"LEFT":return l.a.createElement(A,null);case"RIGHT":return l.a.createElement(O,null);case"SLIGHTLY_LEFT":return l.a.createElement(S,null);case"SLIGHTLY_RIGHT":return l.a.createElement(T,null);case"HARD_LEFT":return l.a.createElement(E,null);case"HARD_RIGHT":return l.a.createElement(_,null);case"UTURN_LEFT":return l.a.createElement(k,null);case"UTURN_RIGHT":return l.a.createElement(C,null);case"CIRCLE_CLOCKWISE":return l.a.createElement(b,null);case"CIRCLE_COUNTERCLOCKWISE":return l.a.createElement(w,null);case"ELEVATOR":return l.a.createElement(x,null);case"FOLLOW_SIGNS":return l.a.createElement(I,null);case"ENTER_STATION":case"EXIT_STATION":return l.a.createElement(I,null);default:return null}},bt=x,wt=E,xt=_,Et=A,_t=O,At=S,Ot=T,St=I,Tt=k,It=C,kt=M,Ct=N,Mt=j,Nt=L,jt=P,Lt=B,Rt=F,Dt=U,Pt=z,Bt=V,Ft=G,Ut=H,zt=W,Vt=Y,Gt=Q,Ht=Z,Wt=X,Yt=J,Qt=q,Zt=K,Xt=$,Jt=ee,qt=te,Kt=ne,$t=re,en=ie,tn=oe,nn=ae,rn=se,on=le,an=ce,sn=ue,ln=de,cn=fe,un=pe,dn=me,fn=he,pn=ge,mn=ye,hn=ve,gn=be,yn=we,vn=xe,bn=Ee,wn=_e,xn=Ae,En=Oe,_n=Se,An=Te,On=Ie,Sn=ke,Tn=Ce,In=Me,kn=Ne,Cn=je,Mn=Le,Nn=Re,jn=rt},function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return k})),n.d(t,"d",(function(){return M})),n.d(t,"c",(function(){return h})),n.d(t,"f",(function(){return g})),n.d(t,"e",(function(){return m}));var r=n(65);function i(e){return"/"===e.charAt(0)}function o(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var a=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],a=t&&t.split("/")||[],s=e&&i(e),l=t&&i(t),c=s||l;if(e&&i(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var u=a[a.length-1];n="."===u||".."===u||""===u}else n=!1;for(var d=0,f=a.length;f>=0;f--){var p=a[f];"."===p?o(a,f):".."===p?(o(a,f),d++):d&&(o(a,f),d--)}if(!c)for(;d--;d)a.unshift("..");!c||""===a[0]||a[0]&&i(a[0])||a.unshift("");var m=a.join("/");return n&&"/"!==m.substr(-1)&&(m+="/"),m};function s(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var l=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"==typeof t||"object"==typeof n){var r=s(t),i=s(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},c=n(127);function u(e){return"/"===e.charAt(0)?e:"/"+e}function d(e){return"/"===e.charAt(0)?e.substr(1):e}function f(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function p(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function m(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function h(e,t,n,i){var o;"string"==typeof e?(o=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(o=Object(r.a)({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=a(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function g(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&l(e.state,t.state)}function y(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"==typeof e?e(t,n):e;"string"==typeof o?"function"==typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var v=!("undefined"==typeof window||!window.document||!window.document.createElement);function b(e,t){t(window.confirm(e))}var w="popstate",x="hashchange";function E(){try{return window.history.state||{}}catch(e){return{}}}function _(e){void 0===e&&(e={}),v||Object(c.a)(!1);var t,n=window.history,i=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,o=!(-1===window.navigator.userAgent.indexOf("Trident")),a=e,s=a.forceRefresh,l=void 0!==s&&s,d=a.getUserConfirmation,g=void 0===d?b:d,_=a.keyLength,A=void 0===_?6:_,O=e.basename?p(u(e.basename)):"";function S(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return O&&(o=f(o,O)),h(o,r,n)}function T(){return Math.random().toString(36).substr(2,A)}var I=y();function k(e){Object(r.a)(z,e),z.length=n.length,I.notifyListeners(z.location,z.action)}function C(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||j(S(e.state))}function M(){j(S(E()))}var N=!1;function j(e){if(N)N=!1,k();else{I.confirmTransitionTo(e,"POP",g,(function(t){t?k({action:"POP",location:e}):function(e){var t=z.location,n=R.indexOf(t.key);-1===n&&(n=0);var r=R.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(N=!0,P(i))}(e)}))}}var L=S(E()),R=[L.key];function D(e){return O+m(e)}function P(e){n.go(e)}var B=0;function F(e){1===(B+=e)&&1===e?(window.addEventListener(w,C),o&&window.addEventListener(x,M)):0===B&&(window.removeEventListener(w,C),o&&window.removeEventListener(x,M))}var U=!1;var z={length:n.length,action:"POP",location:L,createHref:D,push:function(e,t){var r="PUSH",o=h(e,t,T(),z.location);I.confirmTransitionTo(o,r,g,(function(e){if(e){var t=D(o),a=o.key,s=o.state;if(i)if(n.pushState({key:a,state:s},null,t),l)window.location.href=t;else{var c=R.indexOf(z.location.key),u=R.slice(0,c+1);u.push(o.key),R=u,k({action:r,location:o})}else window.location.href=t}}))},replace:function(e,t){var r="REPLACE",o=h(e,t,T(),z.location);I.confirmTransitionTo(o,r,g,(function(e){if(e){var t=D(o),a=o.key,s=o.state;if(i)if(n.replaceState({key:a,state:s},null,t),l)window.location.replace(t);else{var c=R.indexOf(z.location.key);-1!==c&&(R[c]=o.key),k({action:r,location:o})}else window.location.replace(t)}}))},go:P,goBack:function(){P(-1)},goForward:function(){P(1)},block:function(e){void 0===e&&(e=!1);var t=I.setPrompt(e);return U||(F(1),U=!0),function(){return U&&(U=!1,F(-1)),t()}},listen:function(e){var t=I.appendListener(e);return F(1),function(){F(-1),t()}}};return z}var A="hashchange",O={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+d(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:d,decodePath:u},slash:{encodePath:u,decodePath:u}};function S(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function T(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function I(e){window.location.replace(S(window.location.href)+"#"+e)}function k(e){void 0===e&&(e={}),v||Object(c.a)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),i=n.getUserConfirmation,o=void 0===i?b:i,a=n.hashType,s=void 0===a?"slash":a,l=e.basename?p(u(e.basename)):"",d=O[s],g=d.encodePath,w=d.decodePath;function x(){var e=w(T());return l&&(e=f(e,l)),h(e)}var E=y();function _(e){Object(r.a)(U,e),U.length=t.length,E.notifyListeners(U.location,U.action)}var k=!1,C=null;function M(){var e,t,n=T(),r=g(n);if(n!==r)I(r);else{var i=x(),a=U.location;if(!k&&(t=i,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(C===m(i))return;C=null,function(e){if(k)k=!1,_();else{var t="POP";E.confirmTransitionTo(e,t,o,(function(n){n?_({action:t,location:e}):function(e){var t=U.location,n=R.lastIndexOf(m(t));-1===n&&(n=0);var r=R.lastIndexOf(m(e));-1===r&&(r=0);var i=n-r;i&&(k=!0,D(i))}(e)}))}}(i)}}var N=T(),j=g(N);N!==j&&I(j);var L=x(),R=[m(L)];function D(e){t.go(e)}var P=0;function B(e){1===(P+=e)&&1===e?window.addEventListener(A,M):0===P&&window.removeEventListener(A,M)}var F=!1;var U={length:t.length,action:"POP",location:L,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=S(window.location.href)),n+"#"+g(l+m(e))},push:function(e,t){var n="PUSH",r=h(e,void 0,void 0,U.location);E.confirmTransitionTo(r,n,o,(function(e){if(e){var t=m(r),i=g(l+t);if(T()!==i){C=t,function(e){window.location.hash=e}(i);var o=R.lastIndexOf(m(U.location)),a=R.slice(0,o+1);a.push(t),R=a,_({action:n,location:r})}else _()}}))},replace:function(e,t){var n="REPLACE",r=h(e,void 0,void 0,U.location);E.confirmTransitionTo(r,n,o,(function(e){if(e){var t=m(r),i=g(l+t);T()!==i&&(C=t,I(i));var o=R.indexOf(m(U.location));-1!==o&&(R[o]=t),_({action:n,location:r})}}))},go:D,goBack:function(){D(-1)},goForward:function(){D(1)},block:function(e){void 0===e&&(e=!1);var t=E.setPrompt(e);return F||(B(1),F=!0),function(){return F&&(F=!1,B(-1)),t()}},listen:function(e){var t=E.appendListener(e);return B(1),function(){B(-1),t()}}};return U}function C(e,t,n){return Math.min(Math.max(e,t),n)}function M(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,o=void 0===i?["/"]:i,a=t.initialIndex,s=void 0===a?0:a,l=t.keyLength,c=void 0===l?6:l,u=y();function d(e){Object(r.a)(w,e),w.length=w.entries.length,u.notifyListeners(w.location,w.action)}function f(){return Math.random().toString(36).substr(2,c)}var p=C(s,0,o.length-1),g=o.map((function(e){return h(e,void 0,"string"==typeof e?f():e.key||f())})),v=m;function b(e){var t=C(w.index+e,0,w.entries.length-1),r=w.entries[t];u.confirmTransitionTo(r,"POP",n,(function(e){e?d({action:"POP",location:r,index:t}):d()}))}var w={length:g.length,action:"POP",location:g[p],index:p,entries:g,createHref:v,push:function(e,t){var r="PUSH",i=h(e,t,f(),w.location);u.confirmTransitionTo(i,r,n,(function(e){if(e){var t=w.index+1,n=w.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),d({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=h(e,t,f(),w.location);u.confirmTransitionTo(i,r,n,(function(e){e&&(w.entries[w.index]=i,d({action:r,location:i}))}))},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(e){var t=w.index+e;return t>=0&&t<w.entries.length},block:function(e){return void 0===e&&(e=!1),u.setPrompt(e)},listen:function(e){return u.appendListener(e)}};return w}},function(e,t,n){"use strict";n.d(t,"m",(function(){return re})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"l",(function(){return d})),n.d(t,"j",(function(){return f})),n.d(t,"h",(function(){return p})),n.d(t,"i",(function(){return m})),n.d(t,"k",(function(){return h})),n.d(t,"g",(function(){return g})),n.d(t,"d",(function(){return y}));var r,i,o,a=n(17);function s(e){return e.type===i.literal}function l(e){return e.type===i.argument}function c(e){return e.type===i.number}function u(e){return e.type===i.date}function d(e){return e.type===i.time}function f(e){return e.type===i.select}function p(e){return e.type===i.plural}function m(e){return e.type===i.pound}function h(e){return e.type===i.tag}function g(e){return!(!e||"object"!=typeof e||e.type!==o.number)}function y(e){return!(!e||"object"!=typeof e||e.type!==o.dateTime)}!function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",e[e.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",e[e.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",e[e.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",e[e.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",e[e.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",e[e.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",e[e.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",e[e.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",e[e.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",e[e.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",e[e.INVALID_TAG=23]="INVALID_TAG",e[e.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",e[e.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",e[e.UNCLOSED_TAG=27]="UNCLOSED_TAG"}(r||(r={})),function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"}(i||(i={})),function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"}(o||(o={}));var v=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,b=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function w(e){var t={};return e.replace(b,(function(e){var n=e.length;switch(e[0]){case"G":t.era=4===n?"long":5===n?"narrow":"short";break;case"y":t.year=2===n?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][n-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][n-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=4===n?"short":5===n?"narrow":"short";break;case"e":if(n<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"c":if(n<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][n-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][n-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][n-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][n-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][n-1];break;case"s":t.second=["numeric","2-digit"][n-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=n<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""})),t}var x=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;var E,_=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,A=/^(@+)?(\+|#+)?$/g,O=/(\*)(0+)|(#+)(0+)|(0+)/g,S=/^(0+)$/;function T(e){var t={};return e.replace(A,(function(e,n,r){return"string"!=typeof r?(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length):"+"===r?t.minimumSignificantDigits=n.length:"#"===n[0]?t.maximumSignificantDigits=n.length:(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length+("string"==typeof r?r.length:0)),""})),t}function I(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function k(e){var t;if("E"===e[0]&&"E"===e[1]?(t={notation:"engineering"},e=e.slice(2)):"E"===e[0]&&(t={notation:"scientific"},e=e.slice(1)),t){var n=e.slice(0,2);if("+!"===n?(t.signDisplay="always",e=e.slice(2)):"+?"===n&&(t.signDisplay="exceptZero",e=e.slice(2)),!S.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function C(e){var t=I(e);return t||{}}function M(e){for(var t={},n=0,r=e;n<r.length;n++){var i=r[n];switch(i.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=i.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=i.options[0].replace(/^(.*?)-/,"");continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=Object(a.a)(Object(a.a)(Object(a.a)({},t),{notation:"scientific"}),i.options.reduce((function(e,t){return Object(a.a)(Object(a.a)({},e),C(t))}),{}));continue;case"engineering":t=Object(a.a)(Object(a.a)(Object(a.a)({},t),{notation:"engineering"}),i.options.reduce((function(e,t){return Object(a.a)(Object(a.a)({},e),C(t))}),{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(i.options[0]);continue;case"integer-width":if(i.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");i.options[0].replace(O,(function(e,n,r,i,o,a){if(n)t.minimumIntegerDigits=r.length;else{if(i&&o)throw new Error("We currently do not support maximum integer digits");if(a)throw new Error("We currently do not support exact integer digits")}return""}));continue}if(S.test(i.stem))t.minimumIntegerDigits=i.stem.length;else if(_.test(i.stem)){if(i.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");i.stem.replace(_,(function(e,n,r,i,o,a){return"*"===r?t.minimumFractionDigits=n.length:i&&"#"===i[0]?t.maximumFractionDigits=i.length:o&&a?(t.minimumFractionDigits=o.length,t.maximumFractionDigits=o.length+a.length):(t.minimumFractionDigits=n.length,t.maximumFractionDigits=n.length),""})),i.options.length&&(t=Object(a.a)(Object(a.a)({},t),T(i.options[0])))}else if(A.test(i.stem))t=Object(a.a)(Object(a.a)({},t),T(i.stem));else{var o=I(i.stem);o&&(t=Object(a.a)(Object(a.a)({},t),o));var s=k(i.stem);s&&(t=Object(a.a)(Object(a.a)({},t),s))}}return t}var N=new RegExp("^"+v.source+"*"),j=new RegExp(v.source+"*$");function L(e,t){return{start:e,end:t}}var R=!!String.prototype.startsWith,D=!!String.fromCodePoint,P=!!Object.fromEntries,B=!!String.prototype.codePointAt,F=!!String.prototype.trimStart,U=!!String.prototype.trimEnd,z=!!Number.isSafeInteger?Number.isSafeInteger:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},V=!0;try{V="a"===(null===(E=J("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu").exec("a"))||void 0===E?void 0:E[0])}catch(e){V=!1}var G,H=R?function(e,t,n){return e.startsWith(t,n)}:function(e,t,n){return e.slice(n,n+t.length)===t},W=D?String.fromCodePoint:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n,r="",i=e.length,o=0;i>o;){if((n=e[o++])>1114111)throw RangeError(n+" is not a valid code point");r+=n<65536?String.fromCharCode(n):String.fromCharCode(55296+((n-=65536)>>10),n%1024+56320)}return r},Y=P?Object.fromEntries:function(e){for(var t={},n=0,r=e;n<r.length;n++){var i=r[n],o=i[0],a=i[1];t[o]=a}return t},Q=B?function(e,t){return e.codePointAt(t)}:function(e,t){var n=e.length;if(!(t<0||t>=n)){var r,i=e.charCodeAt(t);return i<55296||i>56319||t+1===n||(r=e.charCodeAt(t+1))<56320||r>57343?i:r-56320+(i-55296<<10)+65536}},Z=F?function(e){return e.trimStart()}:function(e){return e.replace(N,"")},X=U?function(e){return e.trimEnd()}:function(e){return e.replace(j,"")};function J(e,t){return new RegExp(e,t)}if(V){var q=J("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");G=function(e,t){var n;return q.lastIndex=t,null!==(n=q.exec(e)[1])&&void 0!==n?n:""}}else G=function(e,t){for(var n=[];;){var r=Q(e,t);if(void 0===r||ee(r)||te(r))break;n.push(r),t+=r>=65536?2:1}return W.apply(void 0,n)};var K=function(){function e(e,t){void 0===t&&(t={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!t.ignoreTag,this.requiresOtherClause=!!t.requiresOtherClause,this.shouldParseSkeletons=!!t.shouldParseSkeletons}return e.prototype.parse=function(){if(0!==this.offset())throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(e,t,n){for(var o=[];!this.isEOF();){var a=this.char();if(123===a){if((s=this.parseArgument(e,n)).err)return s;o.push(s.val)}else{if(125===a&&e>0)break;if(35!==a||"plural"!==t&&"selectordinal"!==t){if(60===a&&!this.ignoreTag&&47===this.peek()){if(n)break;return this.error(r.UNMATCHED_CLOSING_TAG,L(this.clonePosition(),this.clonePosition()))}if(60===a&&!this.ignoreTag&&$(this.peek()||0)){if((s=this.parseTag(e,t)).err)return s;o.push(s.val)}else{var s;if((s=this.parseLiteral(e,t)).err)return s;o.push(s.val)}}else{var l=this.clonePosition();this.bump(),o.push({type:i.pound,location:L(l,this.clonePosition())})}}}return{val:o,err:null}},e.prototype.parseTag=function(e,t){var n=this.clonePosition();this.bump();var o=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:i.literal,value:"<"+o+"/>",location:L(n,this.clonePosition())},err:null};if(this.bumpIf(">")){var a=this.parseMessage(e+1,t,!0);if(a.err)return a;var s=a.val,l=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!$(this.char()))return this.error(r.INVALID_TAG,L(l,this.clonePosition()));var c=this.clonePosition();return o!==this.parseTagName()?this.error(r.UNMATCHED_CLOSING_TAG,L(c,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:i.tag,value:o,children:s,location:L(n,this.clonePosition())},err:null}:this.error(r.INVALID_TAG,L(l,this.clonePosition())))}return this.error(r.UNCLOSED_TAG,L(n,this.clonePosition()))}return this.error(r.INVALID_TAG,L(n,this.clonePosition()))},e.prototype.parseTagName=function(){var e,t=this.offset();for(this.bump();!this.isEOF()&&(45===(e=this.char())||46===e||e>=48&&e<=57||95===e||e>=97&&e<=122||e>=65&&e<=90||183==e||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039);)this.bump();return this.message.slice(t,this.offset())},e.prototype.parseLiteral=function(e,t){for(var n=this.clonePosition(),r="";;){var o=this.tryParseQuote(t);if(o)r+=o;else{var a=this.tryParseUnquoted(e,t);if(a)r+=a;else{var s=this.tryParseLeftAngleBracket();if(!s)break;r+=s}}}var l=L(n,this.clonePosition());return{val:{type:i.literal,value:r,location:l},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return this.isEOF()||60!==this.char()||!this.ignoreTag&&($(e=this.peek()||0)||47===e)?null:(this.bump(),"<");var e},e.prototype.tryParseQuote=function(e){if(this.isEOF()||39!==this.char())return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if("plural"===e||"selectordinal"===e)break;return null;default:return null}this.bump();var t=[this.char()];for(this.bump();!this.isEOF();){var n=this.char();if(39===n){if(39!==this.peek()){this.bump();break}t.push(39),this.bump()}else t.push(n);this.bump()}return W.apply(void 0,t)},e.prototype.tryParseUnquoted=function(e,t){if(this.isEOF())return null;var n=this.char();return 60===n||123===n||35===n&&("plural"===t||"selectordinal"===t)||125===n&&e>0?null:(this.bump(),W(n))},e.prototype.parseArgument=function(e,t){var n=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(r.EXPECT_ARGUMENT_CLOSING_BRACE,L(n,this.clonePosition()));if(125===this.char())return this.bump(),this.error(r.EMPTY_ARGUMENT,L(n,this.clonePosition()));var o=this.parseIdentifierIfPossible().value;if(!o)return this.error(r.MALFORMED_ARGUMENT,L(n,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(r.EXPECT_ARGUMENT_CLOSING_BRACE,L(n,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:i.argument,value:o,location:L(n,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(r.EXPECT_ARGUMENT_CLOSING_BRACE,L(n,this.clonePosition())):this.parseArgumentOptions(e,t,o,n);default:return this.error(r.MALFORMED_ARGUMENT,L(n,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),t=this.offset(),n=G(this.message,t),r=t+n.length;return this.bumpTo(r),{value:n,location:L(e,this.clonePosition())}},e.prototype.parseArgumentOptions=function(e,t,n,s){var l,c=this.clonePosition(),u=this.parseIdentifierIfPossible().value,d=this.clonePosition();switch(u){case"":return this.error(r.EXPECT_ARGUMENT_TYPE,L(c,d));case"number":case"date":case"time":this.bumpSpace();var f=null;if(this.bumpIf(",")){this.bumpSpace();var p=this.clonePosition();if((x=this.parseSimpleArgStyleIfPossible()).err)return x;if(0===(g=X(x.val)).length)return this.error(r.EXPECT_ARGUMENT_STYLE,L(this.clonePosition(),this.clonePosition()));f={style:g,styleLocation:L(p,this.clonePosition())}}if((E=this.tryParseArgumentClose(s)).err)return E;var m=L(s,this.clonePosition());if(f&&H(null==f?void 0:f.style,"::",0)){var h=Z(f.style.slice(2));if("number"===u)return(x=this.parseNumberSkeletonFromString(h,f.styleLocation)).err?x:{val:{type:i.number,value:n,location:m,style:x.val},err:null};if(0===h.length)return this.error(r.EXPECT_DATE_TIME_SKELETON,m);var g={type:o.dateTime,pattern:h,location:f.styleLocation,parsedOptions:this.shouldParseSkeletons?w(h):{}};return{val:{type:"date"===u?i.date:i.time,value:n,location:m,style:g},err:null}}return{val:{type:"number"===u?i.number:"date"===u?i.date:i.time,value:n,location:m,style:null!==(l=null==f?void 0:f.style)&&void 0!==l?l:null},err:null};case"plural":case"selectordinal":case"select":var y=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(r.EXPECT_SELECT_ARGUMENT_OPTIONS,L(y,Object(a.a)({},y)));this.bumpSpace();var v=this.parseIdentifierIfPossible(),b=0;if("select"!==u&&"offset"===v.value){if(!this.bumpIf(":"))return this.error(r.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,L(this.clonePosition(),this.clonePosition()));var x;if(this.bumpSpace(),(x=this.tryParseDecimalInteger(r.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,r.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return x;this.bumpSpace(),v=this.parseIdentifierIfPossible(),b=x.val}var E,_=this.tryParsePluralOrSelectOptions(e,u,t,v);if(_.err)return _;if((E=this.tryParseArgumentClose(s)).err)return E;var A=L(s,this.clonePosition());return"select"===u?{val:{type:i.select,value:n,options:Y(_.val),location:A},err:null}:{val:{type:i.plural,value:n,options:Y(_.val),offset:b,pluralType:"plural"===u?"cardinal":"ordinal",location:A},err:null};default:return this.error(r.INVALID_ARGUMENT_TYPE,L(c,d))}},e.prototype.tryParseArgumentClose=function(e){return this.isEOF()||125!==this.char()?this.error(r.EXPECT_ARGUMENT_CLOSING_BRACE,L(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,t=this.clonePosition();!this.isEOF();){switch(this.char()){case 39:this.bump();var n=this.clonePosition();if(!this.bumpUntil("'"))return this.error(r.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,L(n,this.clonePosition()));this.bump();break;case 123:e+=1,this.bump();break;case 125:if(!(e>0))return{val:this.message.slice(t.offset,this.offset()),err:null};e-=1;break;default:this.bump()}}return{val:this.message.slice(t.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(e,t){var n=[];try{n=function(e){if(0===e.length)throw new Error("Number skeleton cannot be empty");for(var t=[],n=0,r=e.split(x).filter((function(e){return e.length>0}));n<r.length;n++){var i=r[n].split("/");if(0===i.length)throw new Error("Invalid number skeleton");for(var o=i[0],a=i.slice(1),s=0,l=a;s<l.length;s++)if(0===l[s].length)throw new Error("Invalid number skeleton");t.push({stem:o,options:a})}return t}(e)}catch(e){return this.error(r.INVALID_NUMBER_SKELETON,t)}return{val:{type:o.number,tokens:n,location:t,parsedOptions:this.shouldParseSkeletons?M(n):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(e,t,n,i){for(var o,a=!1,s=[],l=new Set,c=i.value,u=i.location;;){if(0===c.length){var d=this.clonePosition();if("select"===t||!this.bumpIf("="))break;var f=this.tryParseDecimalInteger(r.EXPECT_PLURAL_ARGUMENT_SELECTOR,r.INVALID_PLURAL_ARGUMENT_SELECTOR);if(f.err)return f;u=L(d,this.clonePosition()),c=this.message.slice(d.offset,this.offset())}if(l.has(c))return this.error("select"===t?r.DUPLICATE_SELECT_ARGUMENT_SELECTOR:r.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,u);"other"===c&&(a=!0),this.bumpSpace();var p=this.clonePosition();if(!this.bumpIf("{"))return this.error("select"===t?r.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:r.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,L(this.clonePosition(),this.clonePosition()));var m=this.parseMessage(e+1,t,n);if(m.err)return m;var h=this.tryParseArgumentClose(p);if(h.err)return h;s.push([c,{value:m.val,location:L(p,this.clonePosition())}]),l.add(c),this.bumpSpace(),c=(o=this.parseIdentifierIfPossible()).value,u=o.location}return 0===s.length?this.error("select"===t?r.EXPECT_SELECT_ARGUMENT_SELECTOR:r.EXPECT_PLURAL_ARGUMENT_SELECTOR,L(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!a?this.error(r.MISSING_OTHER_CLAUSE,L(this.clonePosition(),this.clonePosition())):{val:s,err:null}},e.prototype.tryParseDecimalInteger=function(e,t){var n=1,r=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(n=-1);for(var i=!1,o=0;!this.isEOF();){var a=this.char();if(!(a>=48&&a<=57))break;i=!0,o=10*o+(a-48),this.bump()}var s=L(r,this.clonePosition());return i?z(o*=n)?{val:o,err:null}:this.error(t,s):this.error(e,s)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var t=Q(this.message,e);if(void 0===t)throw Error("Offset "+e+" is at invalid UTF-16 code unit boundary");return t},e.prototype.error=function(e,t){return{val:null,err:{kind:e,message:this.message,location:t}}},e.prototype.bump=function(){if(!this.isEOF()){var e=this.char();10===e?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},e.prototype.bumpIf=function(e){if(H(this.message,e,this.offset())){for(var t=0;t<e.length;t++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(e){var t=this.offset(),n=this.message.indexOf(e,t);return n>=0?(this.bumpTo(n),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset "+e+" must be greater than or equal to the current offset "+this.offset());for(e=Math.min(e,this.message.length);;){var t=this.offset();if(t===e)break;if(t>e)throw Error("targetOffset "+e+" is at invalid UTF-16 code unit boundary");if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&ee(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),t=this.offset(),n=this.message.charCodeAt(t+(e>=65536?2:1));return null!=n?n:null},e}();function $(e){return e>=97&&e<=122||e>=65&&e<=90}function ee(e){return e>=9&&e<=13||32===e||133===e||e>=8206&&e<=8207||8232===e||8233===e}function te(e){return e>=33&&e<=35||36===e||e>=37&&e<=39||40===e||41===e||42===e||43===e||44===e||45===e||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||91===e||92===e||93===e||94===e||96===e||123===e||124===e||125===e||126===e||161===e||e>=162&&e<=165||166===e||167===e||169===e||171===e||172===e||174===e||176===e||177===e||182===e||187===e||191===e||215===e||247===e||e>=8208&&e<=8213||e>=8214&&e<=8215||8216===e||8217===e||8218===e||e>=8219&&e<=8220||8221===e||8222===e||8223===e||e>=8224&&e<=8231||e>=8240&&e<=8248||8249===e||8250===e||e>=8251&&e<=8254||e>=8257&&e<=8259||8260===e||8261===e||8262===e||e>=8263&&e<=8273||8274===e||8275===e||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||8608===e||e>=8609&&e<=8610||8611===e||e>=8612&&e<=8613||8614===e||e>=8615&&e<=8621||8622===e||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||8658===e||8659===e||8660===e||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||8968===e||8969===e||8970===e||8971===e||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||9001===e||9002===e||e>=9003&&e<=9083||9084===e||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||9655===e||e>=9656&&e<=9664||9665===e||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||9839===e||e>=9840&&e<=10087||10088===e||10089===e||10090===e||10091===e||10092===e||10093===e||10094===e||10095===e||10096===e||10097===e||10098===e||10099===e||10100===e||10101===e||e>=10132&&e<=10175||e>=10176&&e<=10180||10181===e||10182===e||e>=10183&&e<=10213||10214===e||10215===e||10216===e||10217===e||10218===e||10219===e||10220===e||10221===e||10222===e||10223===e||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||10627===e||10628===e||10629===e||10630===e||10631===e||10632===e||10633===e||10634===e||10635===e||10636===e||10637===e||10638===e||10639===e||10640===e||10641===e||10642===e||10643===e||10644===e||10645===e||10646===e||10647===e||10648===e||e>=10649&&e<=10711||10712===e||10713===e||10714===e||10715===e||e>=10716&&e<=10747||10748===e||10749===e||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||11158===e||e>=11159&&e<=11263||e>=11776&&e<=11777||11778===e||11779===e||11780===e||11781===e||e>=11782&&e<=11784||11785===e||11786===e||11787===e||11788===e||11789===e||e>=11790&&e<=11798||11799===e||e>=11800&&e<=11801||11802===e||11803===e||11804===e||11805===e||e>=11806&&e<=11807||11808===e||11809===e||11810===e||11811===e||11812===e||11813===e||11814===e||11815===e||11816===e||11817===e||e>=11818&&e<=11822||11823===e||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||11840===e||11841===e||11842===e||e>=11843&&e<=11855||e>=11856&&e<=11857||11858===e||e>=11859&&e<=11903||e>=12289&&e<=12291||12296===e||12297===e||12298===e||12299===e||12300===e||12301===e||12302===e||12303===e||12304===e||12305===e||e>=12306&&e<=12307||12308===e||12309===e||12310===e||12311===e||12312===e||12313===e||12314===e||12315===e||12316===e||12317===e||e>=12318&&e<=12319||12320===e||12336===e||64830===e||64831===e||e>=65093&&e<=65094}function ne(e){e.forEach((function(e){if(delete e.location,f(e)||p(e))for(var t in e.options)delete e.options[t].location,ne(e.options[t].value);else c(e)&&g(e.style)||(u(e)||d(e))&&y(e.style)?delete e.style.location:h(e)&&ne(e.children)}))}function re(e,t){void 0===t&&(t={}),t=Object(a.a)({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var n=new K(e,t).parse();if(n.err){var i=SyntaxError(r[n.err.kind]);throw i.location=n.err.location,i.originalMessage=n.err.message,i}return(null==t?void 0:t.captureLocation)||ne(n.val),n.val}},function(e,t,n){"use strict";var r=n(8),i=n(91),o=n(32);t.a=Object(r.c)((function(e,t){var n=t.className,r=t.to,a=void 0===r?"":r,s=t.toParams,l=t.tracking,c=Object(i.b)(s),u="#".concat(a).concat(Object(o.i)(c)?"":"?".concat(c)),d=l&&function(e,t){return!Object(o.i)(t)&&(e===t||e.startsWith("".concat(t,"/")))}(e.router.location.pathname,a);return{className:n&&d?"".concat(n," active"):d?"active":n,href:u,to:void 0,toParams:void 0,tracking:void 0}}),{})("a")},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return l}));var r="@@router/LOCATION_CHANGE",i=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:r,payload:{location:e,action:t,isFirstRendering:n}}},o="@@router/CALL_HISTORY_METHOD",a=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return{type:o,payload:{method:e,args:n}}}},s=a("push"),l=a("replace");a("go"),a("goBack"),a("goForward")},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(288),i=n(5),o=n(3);function a(e){if(Object(o.a)(1,arguments),!Object(r.a)(e)&&"number"!=typeof e)return!1;var t=Object(i.a)(e);return!isNaN(Number(t))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return p}));function r(e,t){if(null==e)return e;if(0===e.length&&(!t||t&&""!==e))return null;const n=e instanceof Array?e[0]:e;return null==n||t||""!==n?n:null}function i(e){return null==e?e:String(e)}function o(e){const t=r(e,!0);return null==t?t:String(t)}function a(e,t="_"){return null==e?e:e.join(t)}function s(e,t="_"){const n=r(e,!0);return null==n?n:""===n?[]:n.split(t)}const l={encode:i,decode:o},c={encode:a,decode:s};function u(e){const t=new URLSearchParams,n=Object.entries(e);for(const[e,r]of n)if(null!=r)if(Array.isArray(r))for(const n of r)t.append(e,null!=n?n:"");else t.append(e,r);return t.toString()}'{}[],":'.split("").map((e=>[e,encodeURIComponent(e)]));function d(e,t){const n={},r=Object.keys(t);for(const i of r){const r=t[i];e[i]?n[i]=e[i].encode(t[i]):n[i]=null==r?r:String(r)}return n}function f(e,t){const n={},r=Object.keys(e);for(const n of Object.keys(t))null==e[n]&&r.push(n);for(const i of r){const r=t[i];e[i]?n[i]=e[i].decode(r):(console.warn(`Passing through parameter ${i} during decoding since it was not configured.`),n[i]=r)}return n}function p(e){const t=new URLSearchParams(e),n={};for(let[e,r]of t)Object.prototype.hasOwnProperty.call(n,e)?Array.isArray(n[e])?n[e].push(r):n[e]=[n[e],r]:n[e]=r;return n}},function(e,t,n){e.exports=function(){"use strict";for(var e=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e<t?t:e>n?n:e},t=e,n=function(e){e._clipped=!1,e._unclipped=e.slice(0);for(var n=0;n<=3;n++)n<3?((e[n]<0||e[n]>255)&&(e._clipped=!0),e[n]=t(e[n],0,255)):3===n&&(e[n]=t(e[n],0,1));return e},r={},i=0,o=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];i<o.length;i+=1){var a=o[i];r["[object "+a+"]"]=a.toLowerCase()}var s=function(e){return r[Object.prototype.toString.call(e)]||"object"},l=s,c=function(e,t){return void 0===t&&(t=null),e.length>=3?Array.prototype.slice.call(e):"object"==l(e[0])&&t?t.split("").filter((function(t){return void 0!==e[0][t]})).map((function(t){return e[0][t]})):e[0]},u=s,d=function(e){if(e.length<2)return null;var t=e.length-1;return"string"==u(e[t])?e[t].toLowerCase():null},f=Math.PI,p={clip_rgb:n,limit:e,type:s,unpack:c,last:d,PI:f,TWOPI:2*f,PITHIRD:f/3,DEG2RAD:f/180,RAD2DEG:180/f},m={format:{},autodetect:[]},h=p.last,g=p.clip_rgb,y=p.type,v=m,b=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=this;if("object"===y(e[0])&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];var r=h(e),i=!1;if(!r){i=!0,v.sorted||(v.autodetect=v.autodetect.sort((function(e,t){return t.p-e.p})),v.sorted=!0);for(var o=0,a=v.autodetect;o<a.length;o+=1){var s=a[o];if(r=s.test.apply(s,e))break}}if(!v.format[r])throw new Error("unknown format: "+e);var l=v.format[r].apply(null,i?e:e.slice(0,-1));n._rgb=g(l),3===n._rgb.length&&n._rgb.push(1)};b.prototype.toString=function(){return"function"==y(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var w=b,x=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(x.Color,[null].concat(e)))};x.Color=w,x.version="2.4.2";var E=x,_=p.unpack,A=Math.max,O=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=_(e,"rgb"),r=n[0],i=n[1],o=n[2],a=1-A(r/=255,A(i/=255,o/=255)),s=a<1?1/(1-a):0;return[(1-r-a)*s,(1-i-a)*s,(1-o-a)*s,a]},S=p.unpack,T=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=S(e,"cmyk"))[0],r=e[1],i=e[2],o=e[3],a=e.length>4?e[4]:1;return 1===o?[0,0,0,a]:[n>=1?0:255*(1-n)*(1-o),r>=1?0:255*(1-r)*(1-o),i>=1?0:255*(1-i)*(1-o),a]},I=E,k=w,C=m,M=p.unpack,N=p.type,j=O;k.prototype.cmyk=function(){return j(this._rgb)},I.cmyk=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(k,[null].concat(e,["cmyk"])))},C.format.cmyk=T,C.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=M(e,"cmyk"),"array"===N(e)&&4===e.length)return"cmyk"}});var L=p.unpack,R=p.last,D=function(e){return Math.round(100*e)/100},P=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=L(e,"hsla"),r=R(e)||"lsa";return n[0]=D(n[0]||0),n[1]=D(100*n[1])+"%",n[2]=D(100*n[2])+"%","hsla"===r||n.length>3&&n[3]<1?(n[3]=n.length>3?n[3]:1,r="hsla"):n.length=3,r+"("+n.join(",")+")"},B=p.unpack,F=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=B(e,"rgba"))[0],r=e[1],i=e[2];n/=255,r/=255,i/=255;var o,a,s=Math.min(n,r,i),l=Math.max(n,r,i),c=(l+s)/2;return l===s?(o=0,a=Number.NaN):o=c<.5?(l-s)/(l+s):(l-s)/(2-l-s),n==l?a=(r-i)/(l-s):r==l?a=2+(i-n)/(l-s):i==l&&(a=4+(n-r)/(l-s)),(a*=60)<0&&(a+=360),e.length>3&&void 0!==e[3]?[a,o,c,e[3]]:[a,o,c]},U=p.unpack,z=p.last,V=P,G=F,H=Math.round,W=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=U(e,"rgba"),r=z(e)||"rgb";return"hsl"==r.substr(0,3)?V(G(n),r):(n[0]=H(n[0]),n[1]=H(n[1]),n[2]=H(n[2]),("rgba"===r||n.length>3&&n[3]<1)&&(n[3]=n.length>3?n[3]:1,r="rgba"),r+"("+n.slice(0,"rgb"===r?3:4).join(",")+")")},Y=p.unpack,Q=Math.round,Z=function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];var r,i,o,a=(t=Y(t,"hsl"))[0],s=t[1],l=t[2];if(0===s)r=i=o=255*l;else{var c=[0,0,0],u=[0,0,0],d=l<.5?l*(1+s):l+s-l*s,f=2*l-d,p=a/360;c[0]=p+1/3,c[1]=p,c[2]=p-1/3;for(var m=0;m<3;m++)c[m]<0&&(c[m]+=1),c[m]>1&&(c[m]-=1),6*c[m]<1?u[m]=f+6*(d-f)*c[m]:2*c[m]<1?u[m]=d:3*c[m]<2?u[m]=f+(d-f)*(2/3-c[m])*6:u[m]=f;r=(e=[Q(255*u[0]),Q(255*u[1]),Q(255*u[2])])[0],i=e[1],o=e[2]}return t.length>3?[r,i,o,t[3]]:[r,i,o,1]},X=Z,J=m,q=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,K=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,$=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,ee=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,te=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,ne=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,re=Math.round,ie=function(e){var t;if(e=e.toLowerCase().trim(),J.format.named)try{return J.format.named(e)}catch(e){}if(t=e.match(q)){for(var n=t.slice(1,4),r=0;r<3;r++)n[r]=+n[r];return n[3]=1,n}if(t=e.match(K)){for(var i=t.slice(1,5),o=0;o<4;o++)i[o]=+i[o];return i}if(t=e.match($)){for(var a=t.slice(1,4),s=0;s<3;s++)a[s]=re(2.55*a[s]);return a[3]=1,a}if(t=e.match(ee)){for(var l=t.slice(1,5),c=0;c<3;c++)l[c]=re(2.55*l[c]);return l[3]=+l[3],l}if(t=e.match(te)){var u=t.slice(1,4);u[1]*=.01,u[2]*=.01;var d=X(u);return d[3]=1,d}if(t=e.match(ne)){var f=t.slice(1,4);f[1]*=.01,f[2]*=.01;var p=X(f);return p[3]=+t[4],p}};ie.test=function(e){return q.test(e)||K.test(e)||$.test(e)||ee.test(e)||te.test(e)||ne.test(e)};var oe=ie,ae=E,se=w,le=m,ce=p.type,ue=W,de=oe;se.prototype.css=function(e){return ue(this._rgb,e)},ae.css=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(se,[null].concat(e,["css"])))},le.format.css=de,le.autodetect.push({p:5,test:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(!t.length&&"string"===ce(e)&&de.test(e))return"css"}});var fe=w,pe=E,me=m,he=p.unpack;me.format.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=he(e,"rgba");return n[0]*=255,n[1]*=255,n[2]*=255,n},pe.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(fe,[null].concat(e,["gl"])))},fe.prototype.gl=function(){var e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};var ge=p.unpack,ye=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r=ge(e,"rgb"),i=r[0],o=r[1],a=r[2],s=Math.min(i,o,a),l=Math.max(i,o,a),c=l-s,u=100*c/255,d=s/(255-c)*100;return 0===c?n=Number.NaN:(i===l&&(n=(o-a)/c),o===l&&(n=2+(a-i)/c),a===l&&(n=4+(i-o)/c),(n*=60)<0&&(n+=360)),[n,u,d]},ve=p.unpack,be=Math.floor,we=function(){for(var e,t,n,r,i,o,a=[],s=arguments.length;s--;)a[s]=arguments[s];var l,c,u,d=(a=ve(a,"hcg"))[0],f=a[1],p=a[2];p*=255;var m=255*f;if(0===f)l=c=u=p;else{360===d&&(d=0),d>360&&(d-=360),d<0&&(d+=360);var h=be(d/=60),g=d-h,y=p*(1-f),v=y+m*(1-g),b=y+m*g,w=y+m;switch(h){case 0:l=(e=[w,b,y])[0],c=e[1],u=e[2];break;case 1:l=(t=[v,w,y])[0],c=t[1],u=t[2];break;case 2:l=(n=[y,w,b])[0],c=n[1],u=n[2];break;case 3:l=(r=[y,v,w])[0],c=r[1],u=r[2];break;case 4:l=(i=[b,y,w])[0],c=i[1],u=i[2];break;case 5:l=(o=[w,y,v])[0],c=o[1],u=o[2]}}return[l,c,u,a.length>3?a[3]:1]},xe=p.unpack,Ee=p.type,_e=E,Ae=w,Oe=m,Se=ye;Ae.prototype.hcg=function(){return Se(this._rgb)},_e.hcg=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Ae,[null].concat(e,["hcg"])))},Oe.format.hcg=we,Oe.autodetect.push({p:1,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=xe(e,"hcg"),"array"===Ee(e)&&3===e.length)return"hcg"}});var Te=p.unpack,Ie=p.last,ke=Math.round,Ce=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Te(e,"rgba"),r=n[0],i=n[1],o=n[2],a=n[3],s=Ie(e)||"auto";void 0===a&&(a=1),"auto"===s&&(s=a<1?"rgba":"rgb");var l="000000"+((r=ke(r))<<16|(i=ke(i))<<8|(o=ke(o))).toString(16);l=l.substr(l.length-6);var c="0"+ke(255*a).toString(16);switch(c=c.substr(c.length-2),s.toLowerCase()){case"rgba":return"#"+l+c;case"argb":return"#"+c+l;default:return"#"+l}},Me=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,Ne=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,je=function(e){if(e.match(Me)){4!==e.length&&7!==e.length||(e=e.substr(1)),3===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var t=parseInt(e,16);return[t>>16,t>>8&255,255&t,1]}if(e.match(Ne)){5!==e.length&&9!==e.length||(e=e.substr(1)),4===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);var n=parseInt(e,16);return[n>>24&255,n>>16&255,n>>8&255,Math.round((255&n)/255*100)/100]}throw new Error("unknown hex color: "+e)},Le=E,Re=w,De=p.type,Pe=m,Be=Ce;Re.prototype.hex=function(e){return Be(this._rgb,e)},Le.hex=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Re,[null].concat(e,["hex"])))},Pe.format.hex=je,Pe.autodetect.push({p:4,test:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(!t.length&&"string"===De(e)&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});var Fe=p.unpack,Ue=p.TWOPI,ze=Math.min,Ve=Math.sqrt,Ge=Math.acos,He=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r=Fe(e,"rgb"),i=r[0],o=r[1],a=r[2],s=ze(i/=255,o/=255,a/=255),l=(i+o+a)/3,c=l>0?1-s/l:0;return 0===c?n=NaN:(n=(i-o+(i-a))/2,n/=Ve((i-o)*(i-o)+(i-a)*(o-a)),n=Ge(n),a>o&&(n=Ue-n),n/=Ue),[360*n,c,l]},We=p.unpack,Ye=p.limit,Qe=p.TWOPI,Ze=p.PITHIRD,Xe=Math.cos,Je=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r,i,o=(e=We(e,"hsi"))[0],a=e[1],s=e[2];return isNaN(o)&&(o=0),isNaN(a)&&(a=0),o>360&&(o-=360),o<0&&(o+=360),(o/=360)<1/3?r=1-((i=(1-a)/3)+(n=(1+a*Xe(Qe*o)/Xe(Ze-Qe*o))/3)):o<2/3?i=1-((n=(1-a)/3)+(r=(1+a*Xe(Qe*(o-=1/3))/Xe(Ze-Qe*o))/3)):n=1-((r=(1-a)/3)+(i=(1+a*Xe(Qe*(o-=2/3))/Xe(Ze-Qe*o))/3)),[255*(n=Ye(s*n*3)),255*(r=Ye(s*r*3)),255*(i=Ye(s*i*3)),e.length>3?e[3]:1]},qe=p.unpack,Ke=p.type,$e=E,et=w,tt=m,nt=He;et.prototype.hsi=function(){return nt(this._rgb)},$e.hsi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(et,[null].concat(e,["hsi"])))},tt.format.hsi=Je,tt.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=qe(e,"hsi"),"array"===Ke(e)&&3===e.length)return"hsi"}});var rt=p.unpack,it=p.type,ot=E,at=w,st=m,lt=F;at.prototype.hsl=function(){return lt(this._rgb)},ot.hsl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(at,[null].concat(e,["hsl"])))},st.format.hsl=Z,st.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=rt(e,"hsl"),"array"===it(e)&&3===e.length)return"hsl"}});var ct=p.unpack,ut=Math.min,dt=Math.max,ft=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r,i,o=(e=ct(e,"rgb"))[0],a=e[1],s=e[2],l=ut(o,a,s),c=dt(o,a,s),u=c-l;return i=c/255,0===c?(n=Number.NaN,r=0):(r=u/c,o===c&&(n=(a-s)/u),a===c&&(n=2+(s-o)/u),s===c&&(n=4+(o-a)/u),(n*=60)<0&&(n+=360)),[n,r,i]},pt=p.unpack,mt=Math.floor,ht=function(){for(var e,t,n,r,i,o,a=[],s=arguments.length;s--;)a[s]=arguments[s];var l,c,u,d=(a=pt(a,"hsv"))[0],f=a[1],p=a[2];if(p*=255,0===f)l=c=u=p;else{360===d&&(d=0),d>360&&(d-=360),d<0&&(d+=360);var m=mt(d/=60),h=d-m,g=p*(1-f),y=p*(1-f*h),v=p*(1-f*(1-h));switch(m){case 0:l=(e=[p,v,g])[0],c=e[1],u=e[2];break;case 1:l=(t=[y,p,g])[0],c=t[1],u=t[2];break;case 2:l=(n=[g,p,v])[0],c=n[1],u=n[2];break;case 3:l=(r=[g,y,p])[0],c=r[1],u=r[2];break;case 4:l=(i=[v,g,p])[0],c=i[1],u=i[2];break;case 5:l=(o=[p,g,y])[0],c=o[1],u=o[2]}}return[l,c,u,a.length>3?a[3]:1]},gt=p.unpack,yt=p.type,vt=E,bt=w,wt=m,xt=ft;bt.prototype.hsv=function(){return xt(this._rgb)},vt.hsv=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(bt,[null].concat(e,["hsv"])))},wt.format.hsv=ht,wt.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=gt(e,"hsv"),"array"===yt(e)&&3===e.length)return"hsv"}});var Et={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},_t=Et,At=p.unpack,Ot=Math.pow,St=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=At(e,"rgb"),r=n[0],i=n[1],o=n[2],a=kt(r,i,o),s=a[0],l=a[1],c=116*l-16;return[c<0?0:c,500*(s-l),200*(l-a[2])]},Tt=function(e){return(e/=255)<=.04045?e/12.92:Ot((e+.055)/1.055,2.4)},It=function(e){return e>_t.t3?Ot(e,1/3):e/_t.t2+_t.t0},kt=function(e,t,n){return e=Tt(e),t=Tt(t),n=Tt(n),[It((.4124564*e+.3575761*t+.1804375*n)/_t.Xn),It((.2126729*e+.7151522*t+.072175*n)/_t.Yn),It((.0193339*e+.119192*t+.9503041*n)/_t.Zn)]},Ct=St,Mt=Et,Nt=p.unpack,jt=Math.pow,Lt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r,i,o=(e=Nt(e,"lab"))[0],a=e[1],s=e[2];return r=(o+16)/116,n=isNaN(a)?r:r+a/500,i=isNaN(s)?r:r-s/200,r=Mt.Yn*Dt(r),n=Mt.Xn*Dt(n),i=Mt.Zn*Dt(i),[Rt(3.2404542*n-1.5371385*r-.4985314*i),Rt(-.969266*n+1.8760108*r+.041556*i),Rt(.0556434*n-.2040259*r+1.0572252*i),e.length>3?e[3]:1]},Rt=function(e){return 255*(e<=.00304?12.92*e:1.055*jt(e,1/2.4)-.055)},Dt=function(e){return e>Mt.t1?e*e*e:Mt.t2*(e-Mt.t0)},Pt=Lt,Bt=p.unpack,Ft=p.type,Ut=E,zt=w,Vt=m,Gt=Ct;zt.prototype.lab=function(){return Gt(this._rgb)},Ut.lab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(zt,[null].concat(e,["lab"])))},Vt.format.lab=Pt,Vt.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Bt(e,"lab"),"array"===Ft(e)&&3===e.length)return"lab"}});var Ht=p.unpack,Wt=p.RAD2DEG,Yt=Math.sqrt,Qt=Math.atan2,Zt=Math.round,Xt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Ht(e,"lab"),r=n[0],i=n[1],o=n[2],a=Yt(i*i+o*o),s=(Qt(o,i)*Wt+360)%360;return 0===Zt(1e4*a)&&(s=Number.NaN),[r,a,s]},Jt=p.unpack,qt=Ct,Kt=Xt,$t=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Jt(e,"rgb"),r=n[0],i=n[1],o=n[2],a=qt(r,i,o),s=a[0],l=a[1],c=a[2];return Kt(s,l,c)},en=p.unpack,tn=p.DEG2RAD,nn=Math.sin,rn=Math.cos,on=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=en(e,"lch"),r=n[0],i=n[1],o=n[2];return isNaN(o)&&(o=0),[r,rn(o*=tn)*i,nn(o)*i]},an=p.unpack,sn=on,ln=Pt,cn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=an(e,"lch"))[0],r=e[1],i=e[2],o=sn(n,r,i),a=o[0],s=o[1],l=o[2],c=ln(a,s,l);return[c[0],c[1],c[2],e.length>3?e[3]:1]},un=p.unpack,dn=cn,fn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=un(e,"hcl").reverse();return dn.apply(void 0,n)},pn=p.unpack,mn=p.type,hn=E,gn=w,yn=m,vn=$t;gn.prototype.lch=function(){return vn(this._rgb)},gn.prototype.hcl=function(){return vn(this._rgb).reverse()},hn.lch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(gn,[null].concat(e,["lch"])))},hn.hcl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(gn,[null].concat(e,["hcl"])))},yn.format.lch=cn,yn.format.hcl=fn,["lch","hcl"].forEach((function(e){return yn.autodetect.push({p:2,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t=pn(t,e),"array"===mn(t)&&3===t.length)return e}})}));var bn={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},wn=w,xn=m,En=p.type,_n=bn,An=je,On=Ce;wn.prototype.name=function(){for(var e=On(this._rgb,"rgb"),t=0,n=Object.keys(_n);t<n.length;t+=1){var r=n[t];if(_n[r]===e)return r.toLowerCase()}return e},xn.format.named=function(e){if(e=e.toLowerCase(),_n[e])return An(_n[e]);throw new Error("unknown color name: "+e)},xn.autodetect.push({p:5,test:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(!t.length&&"string"===En(e)&&_n[e.toLowerCase()])return"named"}});var Sn=p.unpack,Tn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Sn(e,"rgb");return(n[0]<<16)+(n[1]<<8)+n[2]},In=p.type,kn=function(e){if("number"==In(e)&&e>=0&&e<=16777215)return[e>>16,e>>8&255,255&e,1];throw new Error("unknown num color: "+e)},Cn=E,Mn=w,Nn=m,jn=p.type,Ln=Tn;Mn.prototype.num=function(){return Ln(this._rgb)},Cn.num=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Mn,[null].concat(e,["num"])))},Nn.format.num=kn,Nn.autodetect.push({p:5,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(1===e.length&&"number"===jn(e[0])&&e[0]>=0&&e[0]<=16777215)return"num"}});var Rn=E,Dn=w,Pn=m,Bn=p.unpack,Fn=p.type,Un=Math.round;Dn.prototype.rgb=function(e){return void 0===e&&(e=!0),!1===e?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Un)},Dn.prototype.rgba=function(e){return void 0===e&&(e=!0),this._rgb.slice(0,4).map((function(t,n){return n<3?!1===e?t:Un(t):t}))},Rn.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Dn,[null].concat(e,["rgb"])))},Pn.format.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Bn(e,"rgba");return void 0===n[3]&&(n[3]=1),n},Pn.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Bn(e,"rgba"),"array"===Fn(e)&&(3===e.length||4===e.length&&"number"==Fn(e[3])&&e[3]>=0&&e[3]<=1))return"rgb"}});var zn=Math.log,Vn=function(e){var t,n,r,i=e/100;return i<66?(t=255,n=i<6?0:-155.25485562709179-.44596950469579133*(n=i-2)+104.49216199393888*zn(n),r=i<20?0:.8274096064007395*(r=i-10)-254.76935184120902+115.67994401066147*zn(r)):(t=351.97690566805693+.114206453784165*(t=i-55)-40.25366309332127*zn(t),n=325.4494125711974+.07943456536662342*(n=i-50)-28.0852963507957*zn(n),r=255),[t,n,r,1]},Gn=Vn,Hn=p.unpack,Wn=Math.round,Yn=E,Qn=w,Zn=m,Xn=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var n,r=Hn(e,"rgb"),i=r[0],o=r[2],a=1e3,s=4e4,l=.4;s-a>l;){var c=Gn(n=.5*(s+a));c[2]/c[0]>=o/i?s=n:a=n}return Wn(n)};Qn.prototype.temp=Qn.prototype.kelvin=Qn.prototype.temperature=function(){return Xn(this._rgb)},Yn.temp=Yn.kelvin=Yn.temperature=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Qn,[null].concat(e,["temp"])))},Zn.format.temp=Zn.format.kelvin=Zn.format.temperature=Vn;var Jn=p.unpack,qn=Math.cbrt,Kn=Math.pow,$n=Math.sign,er=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Jn(e,"rgb"),r=n[0],i=n[1],o=n[2],a=[tr(r/255),tr(i/255),tr(o/255)],s=a[0],l=a[1],c=a[2],u=qn(.4122214708*s+.5363325363*l+.0514459929*c),d=qn(.2119034982*s+.6806995451*l+.1073969566*c),f=qn(.0883024619*s+.2817188376*l+.6299787005*c);return[.2104542553*u+.793617785*d-.0040720468*f,1.9779984951*u-2.428592205*d+.4505937099*f,.0259040371*u+.7827717662*d-.808675766*f]};function tr(e){var t=Math.abs(e);return t<.04045?e/12.92:($n(e)||1)*Kn((t+.055)/1.055,2.4)}var nr=p.unpack,rr=Math.pow,ir=Math.sign,or=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=nr(e,"lab"))[0],r=e[1],i=e[2],o=rr(n+.3963377774*r+.2158037573*i,3),a=rr(n-.1055613458*r-.0638541728*i,3),s=rr(n-.0894841775*r-1.291485548*i,3);return[255*ar(4.0767416621*o-3.3077115913*a+.2309699292*s),255*ar(-1.2684380046*o+2.6097574011*a-.3413193965*s),255*ar(-.0041960863*o-.7034186147*a+1.707614701*s),e.length>3?e[3]:1]};function ar(e){var t=Math.abs(e);return t>.0031308?(ir(e)||1)*(1.055*rr(t,1/2.4)-.055):12.92*e}var sr=p.unpack,lr=p.type,cr=E,ur=w,dr=m,fr=er;ur.prototype.oklab=function(){return fr(this._rgb)},cr.oklab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(ur,[null].concat(e,["oklab"])))},dr.format.oklab=or,dr.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=sr(e,"oklab"),"array"===lr(e)&&3===e.length)return"oklab"}});var pr=p.unpack,mr=er,hr=Xt,gr=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=pr(e,"rgb"),r=n[0],i=n[1],o=n[2],a=mr(r,i,o),s=a[0],l=a[1],c=a[2];return hr(s,l,c)},yr=p.unpack,vr=on,br=or,wr=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=yr(e,"lch"))[0],r=e[1],i=e[2],o=vr(n,r,i),a=o[0],s=o[1],l=o[2],c=br(a,s,l);return[c[0],c[1],c[2],e.length>3?e[3]:1]},xr=p.unpack,Er=p.type,_r=E,Ar=w,Or=m,Sr=gr;Ar.prototype.oklch=function(){return Sr(this._rgb)},_r.oklch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Ar,[null].concat(e,["oklch"])))},Or.format.oklch=wr,Or.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=xr(e,"oklch"),"array"===Er(e)&&3===e.length)return"oklch"}});var Tr=w,Ir=p.type;Tr.prototype.alpha=function(e,t){return void 0===t&&(t=!1),void 0!==e&&"number"===Ir(e)?t?(this._rgb[3]=e,this):new Tr([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]},w.prototype.clipped=function(){return this._rgb._clipped||!1};var kr=w,Cr=Et;kr.prototype.darken=function(e){void 0===e&&(e=1);var t=this,n=t.lab();return n[0]-=Cr.Kn*e,new kr(n,"lab").alpha(t.alpha(),!0)},kr.prototype.brighten=function(e){return void 0===e&&(e=1),this.darken(-e)},kr.prototype.darker=kr.prototype.darken,kr.prototype.brighter=kr.prototype.brighten,w.prototype.get=function(e){var t=e.split("."),n=t[0],r=t[1],i=this[n]();if(r){var o=n.indexOf(r)-("ok"===n.substr(0,2)?2:0);if(o>-1)return i[o];throw new Error("unknown channel "+r+" in mode "+n)}return i};var Mr=w,Nr=p.type,jr=Math.pow,Lr=1e-7,Rr=20;Mr.prototype.luminance=function(e){if(void 0!==e&&"number"===Nr(e)){if(0===e)return new Mr([0,0,0,this._rgb[3]],"rgb");if(1===e)return new Mr([255,255,255,this._rgb[3]],"rgb");var t=this.luminance(),n="rgb",r=Rr,i=function(t,o){var a=t.interpolate(o,.5,n),s=a.luminance();return Math.abs(e-s)<Lr||!r--?a:s>e?i(t,a):i(a,o)},o=(t>e?i(new Mr([0,0,0]),this):i(this,new Mr([255,255,255]))).rgb();return new Mr(o.concat([this._rgb[3]]))}return Dr.apply(void 0,this._rgb.slice(0,3))};var Dr=function(e,t,n){return.2126*(e=Pr(e))+.7152*(t=Pr(t))+.0722*(n=Pr(n))},Pr=function(e){return(e/=255)<=.03928?e/12.92:jr((e+.055)/1.055,2.4)},Br={},Fr=w,Ur=p.type,zr=Br,Vr=function(e,t,n){void 0===n&&(n=.5);for(var r=[],i=arguments.length-3;i-- >0;)r[i]=arguments[i+3];var o=r[0]||"lrgb";if(zr[o]||r.length||(o=Object.keys(zr)[0]),!zr[o])throw new Error("interpolation mode "+o+" is not defined");return"object"!==Ur(e)&&(e=new Fr(e)),"object"!==Ur(t)&&(t=new Fr(t)),zr[o](e,t,n).alpha(e.alpha()+n*(t.alpha()-e.alpha()))},Gr=w,Hr=Vr;Gr.prototype.mix=Gr.prototype.interpolate=function(e,t){void 0===t&&(t=.5);for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return Hr.apply(void 0,[this,e,t].concat(n))};var Wr=w;Wr.prototype.premultiply=function(e){void 0===e&&(e=!1);var t=this._rgb,n=t[3];return e?(this._rgb=[t[0]*n,t[1]*n,t[2]*n,n],this):new Wr([t[0]*n,t[1]*n,t[2]*n,n],"rgb")};var Yr=w,Qr=Et;Yr.prototype.saturate=function(e){void 0===e&&(e=1);var t=this,n=t.lch();return n[1]+=Qr.Kn*e,n[1]<0&&(n[1]=0),new Yr(n,"lch").alpha(t.alpha(),!0)},Yr.prototype.desaturate=function(e){return void 0===e&&(e=1),this.saturate(-e)};var Zr=w,Xr=p.type;Zr.prototype.set=function(e,t,n){void 0===n&&(n=!1);var r=e.split("."),i=r[0],o=r[1],a=this[i]();if(o){var s=i.indexOf(o)-("ok"===i.substr(0,2)?2:0);if(s>-1){if("string"==Xr(t))switch(t.charAt(0)){case"+":case"-":a[s]+=+t;break;case"*":a[s]*=+t.substr(1);break;case"/":a[s]/=+t.substr(1);break;default:a[s]=+t}else{if("number"!==Xr(t))throw new Error("unsupported value for Color.set");a[s]=t}var l=new Zr(a,i);return n?(this._rgb=l._rgb,this):l}throw new Error("unknown channel "+o+" in mode "+i)}return a};var Jr=w,qr=function(e,t,n){var r=e._rgb,i=t._rgb;return new Jr(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"rgb")};Br.rgb=qr;var Kr=w,$r=Math.sqrt,ei=Math.pow,ti=function(e,t,n){var r=e._rgb,i=r[0],o=r[1],a=r[2],s=t._rgb,l=s[0],c=s[1],u=s[2];return new Kr($r(ei(i,2)*(1-n)+ei(l,2)*n),$r(ei(o,2)*(1-n)+ei(c,2)*n),$r(ei(a,2)*(1-n)+ei(u,2)*n),"rgb")};Br.lrgb=ti;var ni=w,ri=function(e,t,n){var r=e.lab(),i=t.lab();return new ni(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"lab")};Br.lab=ri;var ii=w,oi=function(e,t,n,r){var i,o,a,s,l,c,u,d,f,p,m,h,g;return"hsl"===r?(a=e.hsl(),s=t.hsl()):"hsv"===r?(a=e.hsv(),s=t.hsv()):"hcg"===r?(a=e.hcg(),s=t.hcg()):"hsi"===r?(a=e.hsi(),s=t.hsi()):"lch"===r||"hcl"===r?(r="hcl",a=e.hcl(),s=t.hcl()):"oklch"===r&&(a=e.oklch().reverse(),s=t.oklch().reverse()),"h"!==r.substr(0,1)&&"oklch"!==r||(l=(i=a)[0],u=i[1],f=i[2],c=(o=s)[0],d=o[1],p=o[2]),isNaN(l)||isNaN(c)?isNaN(l)?isNaN(c)?h=Number.NaN:(h=c,1!=f&&0!=f||"hsv"==r||(m=d)):(h=l,1!=p&&0!=p||"hsv"==r||(m=u)):h=l+n*(c>l&&c-l>180?c-(l+360):c<l&&l-c>180?c+360-l:c-l),void 0===m&&(m=u+n*(d-u)),g=f+n*(p-f),new ii("oklch"===r?[g,m,h]:[h,m,g],r)},ai=oi,si=function(e,t,n){return ai(e,t,n,"lch")};Br.lch=si,Br.hcl=si;var li=w,ci=function(e,t,n){var r=e.num(),i=t.num();return new li(r+n*(i-r),"num")};Br.num=ci;var ui=oi,di=function(e,t,n){return ui(e,t,n,"hcg")};Br.hcg=di;var fi=oi,pi=function(e,t,n){return fi(e,t,n,"hsi")};Br.hsi=pi;var mi=oi,hi=function(e,t,n){return mi(e,t,n,"hsl")};Br.hsl=hi;var gi=oi,yi=function(e,t,n){return gi(e,t,n,"hsv")};Br.hsv=yi;var vi=w,bi=function(e,t,n){var r=e.oklab(),i=t.oklab();return new vi(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"oklab")};Br.oklab=bi;var wi=oi,xi=function(e,t,n){return wi(e,t,n,"oklch")};Br.oklch=xi;var Ei=w,_i=p.clip_rgb,Ai=Math.pow,Oi=Math.sqrt,Si=Math.PI,Ti=Math.cos,Ii=Math.sin,ki=Math.atan2,Ci=function(e,t,n){void 0===t&&(t="lrgb"),void 0===n&&(n=null);var r=e.length;n||(n=Array.from(new Array(r)).map((function(){return 1})));var i=r/n.reduce((function(e,t){return e+t}));if(n.forEach((function(e,t){n[t]*=i})),e=e.map((function(e){return new Ei(e)})),"lrgb"===t)return Mi(e,n);for(var o=e.shift(),a=o.get(t),s=[],l=0,c=0,u=0;u<a.length;u++)if(a[u]=(a[u]||0)*n[0],s.push(isNaN(a[u])?0:n[0]),"h"===t.charAt(u)&&!isNaN(a[u])){var d=a[u]/180*Si;l+=Ti(d)*n[0],c+=Ii(d)*n[0]}var f=o.alpha()*n[0];e.forEach((function(e,r){var i=e.get(t);f+=e.alpha()*n[r+1];for(var o=0;o<a.length;o++)if(!isNaN(i[o]))if(s[o]+=n[r+1],"h"===t.charAt(o)){var u=i[o]/180*Si;l+=Ti(u)*n[r+1],c+=Ii(u)*n[r+1]}else a[o]+=i[o]*n[r+1]}));for(var p=0;p<a.length;p++)if("h"===t.charAt(p)){for(var m=ki(c/s[p],l/s[p])/Si*180;m<0;)m+=360;for(;m>=360;)m-=360;a[p]=m}else a[p]=a[p]/s[p];return f/=r,new Ei(a,t).alpha(f>.99999?1:f,!0)},Mi=function(e,t){for(var n=e.length,r=[0,0,0,0],i=0;i<e.length;i++){var o=e[i],a=t[i]/n,s=o._rgb;r[0]+=Ai(s[0],2)*a,r[1]+=Ai(s[1],2)*a,r[2]+=Ai(s[2],2)*a,r[3]+=s[3]*a}return r[0]=Oi(r[0]),r[1]=Oi(r[1]),r[2]=Oi(r[2]),r[3]>.9999999&&(r[3]=1),new Ei(_i(r))},Ni=E,ji=p.type,Li=Math.pow,Ri=function(e){var t="rgb",n=Ni("#ccc"),r=0,i=[0,1],o=[],a=[0,0],s=!1,l=[],c=!1,u=0,d=1,f=!1,p={},m=!0,h=1,g=function(e){if((e=e||["#fff","#000"])&&"string"===ji(e)&&Ni.brewer&&Ni.brewer[e.toLowerCase()]&&(e=Ni.brewer[e.toLowerCase()]),"array"===ji(e)){1===e.length&&(e=[e[0],e[0]]),e=e.slice(0);for(var t=0;t<e.length;t++)e[t]=Ni(e[t]);o.length=0;for(var n=0;n<e.length;n++)o.push(n/(e.length-1))}return x(),l=e},y=function(e){if(null!=s){for(var t=s.length-1,n=0;n<t&&e>=s[n];)n++;return n-1}return 0},v=function(e){return e},b=function(e){return e},w=function(e,r){var i,c;if(null==r&&(r=!1),isNaN(e)||null===e)return n;c=r?e:s&&s.length>2?y(e)/(s.length-2):d!==u?(e-u)/(d-u):1,c=b(c),r||(c=v(c)),1!==h&&(c=Li(c,h)),c=a[0]+c*(1-a[0]-a[1]),c=Math.min(1,Math.max(0,c));var f=Math.floor(1e4*c);if(m&&p[f])i=p[f];else{if("array"===ji(l))for(var g=0;g<o.length;g++){var w=o[g];if(c<=w){i=l[g];break}if(c>=w&&g===o.length-1){i=l[g];break}if(c>w&&c<o[g+1]){c=(c-w)/(o[g+1]-w),i=Ni.interpolate(l[g],l[g+1],c,t);break}}else"function"===ji(l)&&(i=l(c));m&&(p[f]=i)}return i},x=function(){return p={}};g(e);var E=function(e){var t=Ni(w(e));return c&&t[c]?t[c]():t};return E.classes=function(e){if(null!=e){if("array"===ji(e))s=e,i=[e[0],e[e.length-1]];else{var t=Ni.analyze(i);s=0===e?[t.min,t.max]:Ni.limits(t,"e",e)}return E}return s},E.domain=function(e){if(!arguments.length)return i;u=e[0],d=e[e.length-1],o=[];var t=l.length;if(e.length===t&&u!==d)for(var n=0,r=Array.from(e);n<r.length;n+=1){var a=r[n];o.push((a-u)/(d-u))}else{for(var s=0;s<t;s++)o.push(s/(t-1));if(e.length>2){var c=e.map((function(t,n){return n/(e.length-1)})),f=e.map((function(e){return(e-u)/(d-u)}));f.every((function(e,t){return c[t]===e}))||(b=function(e){if(e<=0||e>=1)return e;for(var t=0;e>=f[t+1];)t++;var n=(e-f[t])/(f[t+1]-f[t]);return c[t]+n*(c[t+1]-c[t])})}}return i=[u,d],E},E.mode=function(e){return arguments.length?(t=e,x(),E):t},E.range=function(e,t){return g(e),E},E.out=function(e){return c=e,E},E.spread=function(e){return arguments.length?(r=e,E):r},E.correctLightness=function(e){return null==e&&(e=!0),f=e,x(),v=f?function(e){for(var t=w(0,!0).lab()[0],n=w(1,!0).lab()[0],r=t>n,i=w(e,!0).lab()[0],o=t+(n-t)*e,a=i-o,s=0,l=1,c=20;Math.abs(a)>.01&&c-- >0;)r&&(a*=-1),a<0?(s=e,e+=.5*(l-e)):(l=e,e+=.5*(s-e)),i=w(e,!0).lab()[0],a=i-o;return e}:function(e){return e},E},E.padding=function(e){return null!=e?("number"===ji(e)&&(e=[e,e]),a=e,E):a},E.colors=function(t,n){arguments.length<2&&(n="hex");var r=[];if(0===arguments.length)r=l.slice(0);else if(1===t)r=[E(.5)];else if(t>1){var o=i[0],a=i[1]-o;r=Di(0,t,!1).map((function(e){return E(o+e/(t-1)*a)}))}else{e=[];var c=[];if(s&&s.length>2)for(var u=1,d=s.length,f=1<=d;f?u<d:u>d;f?u++:u--)c.push(.5*(s[u-1]+s[u]));else c=i;r=c.map((function(e){return E(e)}))}return Ni[n]&&(r=r.map((function(e){return e[n]()}))),r},E.cache=function(e){return null!=e?(m=e,E):m},E.gamma=function(e){return null!=e?(h=e,E):h},E.nodata=function(e){return null!=e?(n=Ni(e),E):n},E};function Di(e,t,n){for(var r=[],i=e<t,o=n?i?t+1:t-1:t,a=e;i?a<o:a>o;i?a++:a--)r.push(a);return r}var Pi=w,Bi=Ri,Fi=function(e){for(var t=[1,1],n=1;n<e;n++){for(var r=[1],i=1;i<=t.length;i++)r[i]=(t[i]||0)+t[i-1];t=r}return t},Ui=function(e){var t,n,r,i,o,a,s;if(2===(e=e.map((function(e){return new Pi(e)}))).length)t=e.map((function(e){return e.lab()})),o=t[0],a=t[1],i=function(e){var t=[0,1,2].map((function(t){return o[t]+e*(a[t]-o[t])}));return new Pi(t,"lab")};else if(3===e.length)n=e.map((function(e){return e.lab()})),o=n[0],a=n[1],s=n[2],i=function(e){var t=[0,1,2].map((function(t){return(1-e)*(1-e)*o[t]+2*(1-e)*e*a[t]+e*e*s[t]}));return new Pi(t,"lab")};else if(4===e.length){var l;r=e.map((function(e){return e.lab()})),o=r[0],a=r[1],s=r[2],l=r[3],i=function(e){var t=[0,1,2].map((function(t){return(1-e)*(1-e)*(1-e)*o[t]+3*(1-e)*(1-e)*e*a[t]+3*(1-e)*e*e*s[t]+e*e*e*l[t]}));return new Pi(t,"lab")}}else{if(!(e.length>=5))throw new RangeError("No point in running bezier with only one color.");var c,u,d;c=e.map((function(e){return e.lab()})),d=e.length-1,u=Fi(d),i=function(e){var t=1-e,n=[0,1,2].map((function(n){return c.reduce((function(r,i,o){return r+u[o]*Math.pow(t,d-o)*Math.pow(e,o)*i[n]}),0)}));return new Pi(n,"lab")}}return i},zi=function(e){var t=Ui(e);return t.scale=function(){return Bi(t)},t},Vi=E,Gi=function(e,t,n){if(!Gi[n])throw new Error("unknown blend mode "+n);return Gi[n](e,t)},Hi=function(e){return function(t,n){var r=Vi(n).rgb(),i=Vi(t).rgb();return Vi.rgb(e(r,i))}},Wi=function(e){return function(t,n){var r=[];return r[0]=e(t[0],n[0]),r[1]=e(t[1],n[1]),r[2]=e(t[2],n[2]),r}},Yi=function(e){return e},Qi=function(e,t){return e*t/255},Zi=function(e,t){return e>t?t:e},Xi=function(e,t){return e>t?e:t},Ji=function(e,t){return 255*(1-(1-e/255)*(1-t/255))},qi=function(e,t){return t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))},Ki=function(e,t){return 255*(1-(1-t/255)/(e/255))},$i=function(e,t){return 255===e||(e=t/255*255/(1-e/255))>255?255:e};Gi.normal=Hi(Wi(Yi)),Gi.multiply=Hi(Wi(Qi)),Gi.screen=Hi(Wi(Ji)),Gi.overlay=Hi(Wi(qi)),Gi.darken=Hi(Wi(Zi)),Gi.lighten=Hi(Wi(Xi)),Gi.dodge=Hi(Wi($i)),Gi.burn=Hi(Wi(Ki));for(var eo=Gi,to=p.type,no=p.clip_rgb,ro=p.TWOPI,io=Math.pow,oo=Math.sin,ao=Math.cos,so=E,lo=function(e,t,n,r,i){void 0===e&&(e=300),void 0===t&&(t=-1.5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=[0,1]);var o,a=0;"array"===to(i)?o=i[1]-i[0]:(o=0,i=[i,i]);var s=function(s){var l=ro*((e+120)/360+t*s),c=io(i[0]+o*s,r),u=(0!==a?n[0]+s*a:n)*c*(1-c)/2,d=ao(l),f=oo(l);return so(no([255*(c+u*(-.14861*d+1.78277*f)),255*(c+u*(-.29227*d-.90649*f)),255*(c+u*(1.97294*d)),1]))};return s.start=function(t){return null==t?e:(e=t,s)},s.rotations=function(e){return null==e?t:(t=e,s)},s.gamma=function(e){return null==e?r:(r=e,s)},s.hue=function(e){return null==e?n:("array"===to(n=e)?0==(a=n[1]-n[0])&&(n=n[1]):a=0,s)},s.lightness=function(e){return null==e?i:("array"===to(e)?(i=e,o=e[1]-e[0]):(i=[e,e],o=0),s)},s.scale=function(){return so.scale(s)},s.hue(n),s},co=w,uo="0123456789abcdef",fo=Math.floor,po=Math.random,mo=function(){for(var e="#",t=0;t<6;t++)e+=uo.charAt(fo(16*po()));return new co(e,"hex")},ho=s,go=Math.log,yo=Math.pow,vo=Math.floor,bo=Math.abs,wo=function(e,t){void 0===t&&(t=null);var n={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===ho(e)&&(e=Object.values(e)),e.forEach((function(e){t&&"object"===ho(e)&&(e=e[t]),null==e||isNaN(e)||(n.values.push(e),n.sum+=e,e<n.min&&(n.min=e),e>n.max&&(n.max=e),n.count+=1)})),n.domain=[n.min,n.max],n.limits=function(e,t){return xo(n,e,t)},n},xo=function(e,t,n){void 0===t&&(t="equal"),void 0===n&&(n=7),"array"==ho(e)&&(e=wo(e));var r=e.min,i=e.max,o=e.values.sort((function(e,t){return e-t}));if(1===n)return[r,i];var a=[];if("c"===t.substr(0,1)&&(a.push(r),a.push(i)),"e"===t.substr(0,1)){a.push(r);for(var s=1;s<n;s++)a.push(r+s/n*(i-r));a.push(i)}else if("l"===t.substr(0,1)){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");var l=Math.LOG10E*go(r),c=Math.LOG10E*go(i);a.push(r);for(var u=1;u<n;u++)a.push(yo(10,l+u/n*(c-l)));a.push(i)}else if("q"===t.substr(0,1)){a.push(r);for(var d=1;d<n;d++){var f=(o.length-1)*d/n,p=vo(f);if(p===f)a.push(o[p]);else{var m=f-p;a.push(o[p]*(1-m)+o[p+1]*m)}}a.push(i)}else if("k"===t.substr(0,1)){var h,g=o.length,y=new Array(g),v=new Array(n),b=!0,w=0,x=null;(x=[]).push(r);for(var E=1;E<n;E++)x.push(r+E/n*(i-r));for(x.push(i);b;){for(var _=0;_<n;_++)v[_]=0;for(var A=0;A<g;A++)for(var O=o[A],S=Number.MAX_VALUE,T=void 0,I=0;I<n;I++){var k=bo(x[I]-O);k<S&&(S=k,T=I),v[T]++,y[A]=T}for(var C=new Array(n),M=0;M<n;M++)C[M]=null;for(var N=0;N<g;N++)null===C[h=y[N]]?C[h]=o[N]:C[h]+=o[N];for(var j=0;j<n;j++)C[j]*=1/v[j];b=!1;for(var L=0;L<n;L++)if(C[L]!==x[L]){b=!0;break}x=C,++w>200&&(b=!1)}for(var R={},D=0;D<n;D++)R[D]=[];for(var P=0;P<g;P++)R[h=y[P]].push(o[P]);for(var B=[],F=0;F<n;F++)B.push(R[F][0]),B.push(R[F][R[F].length-1]);B=B.sort((function(e,t){return e-t})),a.push(B[0]);for(var U=1;U<B.length;U+=2){var z=B[U];isNaN(z)||-1!==a.indexOf(z)||a.push(z)}}return a},Eo={analyze:wo,limits:xo},_o=w,Ao=function(e,t){e=new _o(e),t=new _o(t);var n=e.luminance(),r=t.luminance();return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)},Oo=w,So=Math.sqrt,To=Math.pow,Io=Math.min,ko=Math.max,Co=Math.atan2,Mo=Math.abs,No=Math.cos,jo=Math.sin,Lo=Math.exp,Ro=Math.PI,Do=function(e,t,n,r,i){void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=1);var o=function(e){return 360*e/(2*Ro)},a=function(e){return 2*Ro*e/360};e=new Oo(e),t=new Oo(t);var s=Array.from(e.lab()),l=s[0],c=s[1],u=s[2],d=Array.from(t.lab()),f=d[0],p=d[1],m=d[2],h=(l+f)/2,g=(So(To(c,2)+To(u,2))+So(To(p,2)+To(m,2)))/2,y=.5*(1-So(To(g,7)/(To(g,7)+To(25,7)))),v=c*(1+y),b=p*(1+y),w=So(To(v,2)+To(u,2)),x=So(To(b,2)+To(m,2)),E=(w+x)/2,_=o(Co(u,v)),A=o(Co(m,b)),O=_>=0?_:_+360,S=A>=0?A:A+360,T=Mo(O-S)>180?(O+S+360)/2:(O+S)/2,I=1-.17*No(a(T-30))+.24*No(a(2*T))+.32*No(a(3*T+6))-.2*No(a(4*T-63)),k=S-O;k=Mo(k)<=180?k:S<=O?k+360:k-360,k=2*So(w*x)*jo(a(k)/2);var C=f-l,M=x-w,N=1+.015*To(h-50,2)/So(20+To(h-50,2)),j=1+.045*E,L=1+.015*E*I,R=30*Lo(-To((T-275)/25,2)),D=-2*So(To(E,7)/(To(E,7)+To(25,7)))*jo(2*a(R)),P=So(To(C/(n*N),2)+To(M/(r*j),2)+To(k/(i*L),2)+D*(M/(r*j))*(k/(i*L)));return ko(0,Io(100,P))},Po=w,Bo=function(e,t,n){void 0===n&&(n="lab"),e=new Po(e),t=new Po(t);var r=e.get(n),i=t.get(n),o=0;for(var a in r){var s=(r[a]||0)-(i[a]||0);o+=s*s}return Math.sqrt(o)},Fo=w,Uo=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];try{return new(Function.prototype.bind.apply(Fo,[null].concat(e))),!0}catch(e){return!1}},zo=E,Vo=Ri,Go={cool:function(){return Vo([zo.hsl(180,1,.9),zo.hsl(250,.7,.4)])},hot:function(){return Vo(["#000","#f00","#ff0","#fff"]).mode("rgb")}},Ho={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Wo=0,Yo=Object.keys(Ho);Wo<Yo.length;Wo+=1){var Qo=Yo[Wo];Ho[Qo.toLowerCase()]=Ho[Qo]}var Zo=Ho,Xo=E;return Xo.average=Ci,Xo.bezier=zi,Xo.blend=eo,Xo.cubehelix=lo,Xo.mix=Xo.interpolate=Vr,Xo.random=mo,Xo.scale=Ri,Xo.analyze=Eo.analyze,Xo.contrast=Ao,Xo.deltaE=Do,Xo.distance=Bo,Xo.limits=Eo.limits,Xo.valid=Uo,Xo.scales=Go,Xo.colors=bn,Xo.brewer=Zo,Xo}()},function(e,t,n){"use strict";n.d(t,"d",(function(){return M})),n.d(t,"g",(function(){return N})),n.d(t,"f",(function(){return j})),n.d(t,"e",(function(){return L})),n.d(t,"h",(function(){return R})),n.d(t,"c",(function(){return P})),n.d(t,"a",(function(){return B})),n.d(t,"b",(function(){return F}));var r=n(509),i=n(121),o=n(4),a=n.n(o),s=n(0),l=n.n(s),c=n(10),u=s.forwardRef((function(e,t){return s.createElement(c.a,a()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 448 512"},e,{ref:t}),s.createElement("path",{fill:"currentColor",d:"M135.2 17.7C140.6 6.8 151.7 0 163.8 0h120.4c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64s14.3-32 32-32h96l7.2-14.3zM32 128h384v320c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16v224c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16v224c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16v224c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z"}))}));u.displayName="TrashAlt";var d,f,p,m,h,g,y,v,b,w,x,E=n(84),_=n(1),A=n(44),O=n(20),S=n(47),T=n(104);function I(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var k=_.default.li(d||(d=I(["\n  align-items: stretch;\n  display: flex;\n"]))),C=Object(_.css)(f||(f=I(["\n  background: none;\n  flex: 1 0 0;\n  overflow: hidden;\n  text-align: left;\n  text-overflow: ellipsis;\n"]))),M=Object(_.default)(r.a)(p||(p=I(["\n  ","\n"])),C),N=Object(_.default)(T.a)(m||(m=I(["\n  ","\n"])),C),j=_.default.span(h||(h=I([""]))),L=_.default.span(g||(g=I([""]))),R=_.default.span(y||(y=I([""]))),D=_.default.span(v||(v=I([""]))),P=Object(_.default)(O.c)(b||(b=I([""]))),B=Object(_.default)(r.a)(w||(w=I(["\n  background: none;\n  height: 100%;\n"]))),F=_.default.span(x||(x=I([""])));t.i=function(e){var t=e.actionText,n=e.className,r=e.detailText,o=e.icon,a=e.largeIcon,c=e.mainText,d=e.onClick,f=e.onDelete,p=e.onView,m=e.path,h=e.tag,g=void 0===h?"li":h,y=e.title,v=void 0===y?"".concat(c).concat(r&&" (".concat(r,")")):y,b=Object(E.a)(),w=Object(s.useContext)(A.a).SvgIcon,x=b.formatMessage({id:"components.Place.viewStop"}),_=b.formatMessage({id:"components.Place.deleteThisPlace"}),O=a?"2x":void 0,T=l.a.createElement(l.a.Fragment,null,a&&l.a.createElement(P,{size:"2x"},l.a.createElement(w,{iconName:o})),l.a.createElement(L,{title:v},l.a.createElement(D,{className:"place-text"},!a&&l.a.createElement(P,null,l.a.createElement(w,{iconName:o})),l.a.createElement(R,null,c)),r&&l.a.createElement(j,{className:"place-detail"},l.a.createElement(S.a,null," - "),r),t&&l.a.createElement(S.a,null," [",t,"]")));return l.a.createElement(k,{as:g,className:n},d?l.a.createElement(M,{onClick:d},T):l.a.createElement(N,{className:"btn btn-default",to:m},T),!p&&!f&&l.a.createElement(F,null),p&&l.a.createElement(B,{onClick:p,title:x},l.a.createElement(P,{size:O},l.a.createElement(i.a,null)),l.a.createElement(S.a,null,x)),f&&l.a.createElement(B,{onClick:f,title:_},l.a.createElement(P,{size:O},l.a.createElement(u,null)),l.a.createElement(S.a,null,_)))}},function(e,t,n){"use strict";var r=n(8),i=n(0),o=n(32);function a(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l=document.title;t.a=Object(r.c)((function(e){return{appTitle:e.otp.config.title||l}}))((function(e){var t=e.appTitle,n=e.title;return Object(i.useEffect)((function(){var e="string"==typeof n?[n,t]:[].concat(a(n),[t]);return document.title=e.filter((function(e){return!Object(o.i)(null==e?void 0:e.trim())})).join(" | "),function(){document.title=t}}),[t,n]),null}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4),i=n.n(r),o=n(0),a=n(10),s=o.forwardRef((function(e,t){return o.createElement(a.a,i()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 448 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H109.3l105.3-105.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"}))}));s.displayName="ArrowLeft"},function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"Popup",(function(){return Ot})),n.d(r,"MapOverlayPopup",(function(){return St})),n.d(r,"PopupRow",(function(){return Tt})),n.d(r,"PopupTitle",(function(){return It})),n.d(r,"LeafletStyleMarker",(function(){return kt})),n.d(r,"LayerSelector",(function(){return Ct})),n.d(r,"StoryMapContainer",(function(){return Mt}));var i={};n.r(i),n.d(i,"getFitBoundsPadding",(function(){return gn})),n.d(i,"fitMapBounds",(function(){return yn}));var o={};n.r(o),n.d(o,"Popup",(function(){return jn})),n.d(o,"MapOverlayPopup",(function(){return Ln})),n.d(o,"PopupRow",(function(){return Rn})),n.d(o,"PopupTitle",(function(){return Dn})),n.d(o,"LeafletStyleMarker",(function(){return Pn})),n.d(o,"LayerSelector",(function(){return Bn})),n.d(o,"StoryMapContainer",(function(){return Fn}));var a={};n.r(a),n.d(a,"transitModes",(function(){return rr})),n.d(a,"getTransitModes",(function(){return ir})),n.d(a,"isTransit",(function(){return or})),n.d(a,"isReservationRequired",(function(){return ar})),n.d(a,"isCoordinationRequired",(function(){return sr})),n.d(a,"containsGeometry",(function(){return lr})),n.d(a,"endsWithGeometry",(function(){return cr})),n.d(a,"startsWithGeometry",(function(){return ur})),n.d(a,"legContainsGeometry",(function(){return dr})),n.d(a,"isAdvanceBookingRequired",(function(){return fr})),n.d(a,"legDropoffRequiresAdvanceBooking",(function(){return pr})),n.d(a,"isFlex",(function(){return mr})),n.d(a,"isRideshareLeg",(function(){return hr})),n.d(a,"isWalk",(function(){return gr})),n.d(a,"isBicycle",(function(){return yr})),n.d(a,"isBicycleRent",(function(){return vr})),n.d(a,"isCar",(function(){return br})),n.d(a,"isMicromobility",(function(){return wr})),n.d(a,"isAccessMode",(function(){return xr})),n.d(a,"hasTransit",(function(){return Er})),n.d(a,"hasCar",(function(){return _r})),n.d(a,"hasBike",(function(){return Ar})),n.d(a,"hasMicromobility",(function(){return Or})),n.d(a,"hasHail",(function(){return Sr})),n.d(a,"hasRental",(function(){return Tr})),n.d(a,"getMapColor",(function(){return Ir})),n.d(a,"toSentenceCase",(function(){return kr})),n.d(a,"getCompanyFromLeg",(function(){return Cr})),n.d(a,"getItineraryBounds",(function(){return Mr})),n.d(a,"getLegBounds",(function(){return Nr})),n.d(a,"legLocationAtDistance",(function(){return jr})),n.d(a,"legElevationAtDistance",(function(){return Lr})),n.d(a,"mapOldElevationComponentToNew",(function(){return Rr})),n.d(a,"getElevationProfile",(function(){return Dr})),n.d(a,"getTextWidth",(function(){return Pr})),n.d(a,"getCompanyForNetwork",(function(){return Br})),n.d(a,"getCompaniesLabelFromNetworks",(function(){return Fr})),n.d(a,"getTNCLocation",(function(){return Ur})),n.d(a,"calculatePhysicalActivity",(function(){return zr})),n.d(a,"calculateTncFares",(function(){return Vr})),n.d(a,"calculateEmissions",(function(){return Hr})),n.d(a,"getDisplayedStopId",(function(){return Wr})),n.d(a,"getLegCost",(function(){return Yr})),n.d(a,"getItineraryCost",(function(){return Qr})),n.d(a,"convertGraphQLResponseToLegacy",(function(){return Xr})),n.d(a,"getLegRouteShortName",(function(){return Jr})),n.d(a,"getLegRouteLongName",(function(){return qr})),n.d(a,"getLegRouteName",(function(){return Kr}));var s={};n.r(s),n.d(s,"currentPositionToLocation",(function(){return $r})),n.d(s,"coordsToString",(function(){return ei})),n.d(s,"stringToCoords",(function(){return ti})),n.d(s,"constructLocation",(function(){return ni})),n.d(s,"matchLatLon",(function(){return ri})),n.d(s,"isBikeshareStation",(function(){return ii})),n.d(s,"isEScooterStation",(function(){return oi})),n.d(s,"isCarWalkTransition",(function(){return ai})),n.d(s,"isValidLat",(function(){return si})),n.d(s,"isValidLng",(function(){return li})),n.d(s,"isValidLatLng",(function(){return ci}));var l={};n.r(l),n.d(l,"filterProfileOptions",(function(){return ui})),n.d(l,"profileOptionsToItineraries",(function(){return pi}));var c={};n.r(c),n.d(c,"storeItem",(function(){return ki})),n.d(c,"getItem",(function(){return Ci})),n.d(c,"removeItem",(function(){return Mi})),n.d(c,"randId",(function(){return Ni}));var u={};n.r(u),n.d(u,"OTP_API_DATE_FORMAT",(function(){return Di})),n.d(u,"OTP_API_TIME_FORMAT",(function(){return Pi})),n.d(u,"toHoursMinutesSeconds",(function(){return Bi})),n.d(u,"getTimeFormat",(function(){return Fi})),n.d(u,"getDateFormat",(function(){return Ui})),n.d(u,"getLongDateFormat",(function(){return zi})),n.d(u,"offsetTime",(function(){return Vi})),n.d(u,"formatSecondsAfterMidnight",(function(){return Gi})),n.d(u,"getUserTimezone",(function(){return Hi})),n.d(u,"getCurrentTime",(function(){return Wi})),n.d(u,"getCurrentDate",(function(){return Yi}));var d={};n.r(d),n.d(d,"formatPlace",(function(){return Xi})),n.d(d,"default",(function(){return Ki})),n.d(d,"getCustomQueryParams",(function(){return $i}));var f={};n.r(f),n.d(f,"defaultParams",(function(){return no})),n.d(f,"getQueryParamProperty",(function(){return io})),n.d(f,"ensureSingleAccessMode",(function(){return oo})),n.d(f,"getUrlParams",(function(){return ao})),n.d(f,"getOtpUrlParams",(function(){return so})),n.d(f,"getTripOptionsFromQuery",(function(){return lo})),n.d(f,"getDefaultQuery",(function(){return uo})),n.d(f,"reduceOtpFlexModes",(function(){return fo})),n.d(f,"expandOtpFlexMode",(function(){return po})),n.d(f,"isNotDefaultQuery",(function(){return mo})),n.d(f,"parseLocationString",(function(){return yo})),n.d(f,"planParamsToQuery",(function(){return wo})),n.d(f,"planParamsToQueryAsync",(function(){return xo})),n.d(f,"getRoutingParams",(function(){return _o}));var p={};n.r(p),n.d(p,"getTransitOperatorFromFeedIdAndAgencyId",(function(){return So})),n.d(p,"getTransitOperatorFromLeg",(function(){return To})),n.d(p,"getTransitOperatorFromOtpRoute",(function(){return Io})),n.d(p,"makeNumericValueComparator",(function(){return Bo})),n.d(p,"makeStringValueComparator",(function(){return Fo})),n.d(p,"makeRouteComparator",(function(){return Uo})),n.d(p,"getMostReadableTextColor",(function(){return zo}));var m={};n.r(m),n.d(m,"isMobile",(function(){return Vo})),n.d(m,"enableScrollForSelector",(function(){return Go}));var h={};n.r(h),n.d(h,"extractAdditionalModes",(function(){return Zo})),n.d(h,"SIMPLIFICATIONS",(function(){return Xo})),n.d(h,"TRANSIT_SUBMODES",(function(){return Ko})),n.d(h,"TRANSIT_SUBMODES_AND_TRANSIT",(function(){return $o})),n.d(h,"generateCombinations",(function(){return ea})),n.d(h,"generateOtp2Query",(function(){return ta}));var g={};n.r(g),n.d(g,"getFitBoundsPadding",(function(){return qa})),n.d(g,"fitMapBounds",(function(){return Ka}));var y={};n.r(y),n.d(y,"Popup",(function(){return ns})),n.d(y,"MapOverlayPopup",(function(){return rs})),n.d(y,"PopupRow",(function(){return is})),n.d(y,"PopupTitle",(function(){return os})),n.d(y,"LeafletStyleMarker",(function(){return as})),n.d(y,"LayerSelector",(function(){return ss})),n.d(y,"StoryMapContainer",(function(){return ls}));var v={};n.r(v),n.d(v,"transitModes",(function(){return Ss})),n.d(v,"getTransitModes",(function(){return Ts})),n.d(v,"isTransit",(function(){return Is})),n.d(v,"isReservationRequired",(function(){return ks})),n.d(v,"isCoordinationRequired",(function(){return Cs})),n.d(v,"containsGeometry",(function(){return Ms})),n.d(v,"endsWithGeometry",(function(){return Ns})),n.d(v,"startsWithGeometry",(function(){return js})),n.d(v,"legContainsGeometry",(function(){return Ls})),n.d(v,"isAdvanceBookingRequired",(function(){return Rs})),n.d(v,"legDropoffRequiresAdvanceBooking",(function(){return Ds})),n.d(v,"isFlex",(function(){return Ps})),n.d(v,"isRideshareLeg",(function(){return Bs})),n.d(v,"isWalk",(function(){return Fs})),n.d(v,"isBicycle",(function(){return Us})),n.d(v,"isBicycleRent",(function(){return zs})),n.d(v,"isCar",(function(){return Vs})),n.d(v,"isMicromobility",(function(){return Gs})),n.d(v,"isAccessMode",(function(){return Hs})),n.d(v,"hasTransit",(function(){return Ws})),n.d(v,"hasCar",(function(){return Ys})),n.d(v,"hasBike",(function(){return Qs})),n.d(v,"hasMicromobility",(function(){return Zs})),n.d(v,"hasHail",(function(){return Xs})),n.d(v,"hasRental",(function(){return Js})),n.d(v,"getMapColor",(function(){return qs})),n.d(v,"toSentenceCase",(function(){return Ks})),n.d(v,"getCompanyFromLeg",(function(){return $s})),n.d(v,"getItineraryBounds",(function(){return el})),n.d(v,"getLegBounds",(function(){return tl})),n.d(v,"legLocationAtDistance",(function(){return nl})),n.d(v,"legElevationAtDistance",(function(){return rl})),n.d(v,"mapOldElevationComponentToNew",(function(){return il})),n.d(v,"getElevationProfile",(function(){return ol})),n.d(v,"getTextWidth",(function(){return al})),n.d(v,"getCompanyForNetwork",(function(){return sl})),n.d(v,"getCompaniesLabelFromNetworks",(function(){return ll})),n.d(v,"getTNCLocation",(function(){return cl})),n.d(v,"calculatePhysicalActivity",(function(){return ul})),n.d(v,"calculateTncFares",(function(){return dl})),n.d(v,"calculateEmissions",(function(){return pl})),n.d(v,"getDisplayedStopId",(function(){return ml})),n.d(v,"getLegCost",(function(){return hl})),n.d(v,"getItineraryCost",(function(){return gl})),n.d(v,"convertGraphQLResponseToLegacy",(function(){return vl})),n.d(v,"getLegRouteShortName",(function(){return bl})),n.d(v,"getLegRouteLongName",(function(){return wl})),n.d(v,"getLegRouteName",(function(){return xl}));var b={};n.r(b),n.d(b,"currentPositionToLocation",(function(){return El})),n.d(b,"coordsToString",(function(){return _l})),n.d(b,"stringToCoords",(function(){return Al})),n.d(b,"constructLocation",(function(){return Ol})),n.d(b,"matchLatLon",(function(){return Sl})),n.d(b,"isBikeshareStation",(function(){return Tl})),n.d(b,"isEScooterStation",(function(){return Il})),n.d(b,"isCarWalkTransition",(function(){return kl})),n.d(b,"isValidLat",(function(){return Cl})),n.d(b,"isValidLng",(function(){return Ml})),n.d(b,"isValidLatLng",(function(){return Nl}));var w={};n.r(w),n.d(w,"filterProfileOptions",(function(){return jl})),n.d(w,"profileOptionsToItineraries",(function(){return Dl}));var x={};n.r(x),n.d(x,"storeItem",(function(){return Bl})),n.d(x,"getItem",(function(){return Fl})),n.d(x,"removeItem",(function(){return Ul})),n.d(x,"randId",(function(){return zl}));var E={};n.r(E),n.d(E,"OTP_API_DATE_FORMAT",(function(){return Vl})),n.d(E,"OTP_API_TIME_FORMAT",(function(){return Gl})),n.d(E,"toHoursMinutesSeconds",(function(){return Hl})),n.d(E,"getTimeFormat",(function(){return Wl})),n.d(E,"getDateFormat",(function(){return Yl})),n.d(E,"getLongDateFormat",(function(){return Ql})),n.d(E,"offsetTime",(function(){return Zl})),n.d(E,"formatSecondsAfterMidnight",(function(){return Xl})),n.d(E,"getUserTimezone",(function(){return Jl})),n.d(E,"getCurrentTime",(function(){return ql})),n.d(E,"getCurrentDate",(function(){return Kl}));var _={};n.r(_),n.d(_,"formatPlace",(function(){return tc})),n.d(_,"default",(function(){return ic})),n.d(_,"getCustomQueryParams",(function(){return oc}));var A={};n.r(A),n.d(A,"defaultParams",(function(){return lc})),n.d(A,"getQueryParamProperty",(function(){return uc})),n.d(A,"ensureSingleAccessMode",(function(){return dc})),n.d(A,"getUrlParams",(function(){return fc})),n.d(A,"getOtpUrlParams",(function(){return pc})),n.d(A,"getTripOptionsFromQuery",(function(){return mc})),n.d(A,"getDefaultQuery",(function(){return gc})),n.d(A,"reduceOtpFlexModes",(function(){return yc})),n.d(A,"expandOtpFlexMode",(function(){return vc})),n.d(A,"isNotDefaultQuery",(function(){return bc})),n.d(A,"parseLocationString",(function(){return Ec})),n.d(A,"planParamsToQuery",(function(){return Oc})),n.d(A,"planParamsToQueryAsync",(function(){return Sc})),n.d(A,"getRoutingParams",(function(){return Ic}));var O={};n.r(O),n.d(O,"getTransitOperatorFromFeedIdAndAgencyId",(function(){return kc})),n.d(O,"getTransitOperatorFromLeg",(function(){return Cc})),n.d(O,"getTransitOperatorFromOtpRoute",(function(){return Mc})),n.d(O,"makeNumericValueComparator",(function(){return zc})),n.d(O,"makeStringValueComparator",(function(){return Vc})),n.d(O,"makeRouteComparator",(function(){return Gc})),n.d(O,"getMostReadableTextColor",(function(){return Hc}));var S={};n.r(S),n.d(S,"isMobile",(function(){return Wc})),n.d(S,"enableScrollForSelector",(function(){return Yc}));var T={};n.r(T),n.d(T,"extractAdditionalModes",(function(){return Jc})),n.d(T,"SIMPLIFICATIONS",(function(){return qc})),n.d(T,"TRANSIT_SUBMODES",(function(){return eu})),n.d(T,"TRANSIT_SUBMODES_AND_TRANSIT",(function(){return tu})),n.d(T,"generateCombinations",(function(){return nu})),n.d(T,"generateOtp2Query",(function(){return ru}));var I=n(8),k=n(19),C=n(144),M=n(153),N=n(92),j=n(33),L=n.n(j),R=n(15),D=n.n(R),P=n(23),B=n.n(P),F=n(0),U=n.n(F),z=n(190),V=n(7),G=n(89),H=n(51),W=n.n(H),Y=n(69),Q=n(84),Z=n(1),X=Z.default.button.withConfig({displayName:"styled__ViewStopButton",componentId:"sc-12v7ov3-0"})(["background:none;border-bottom:none;border-left:1px solid #000;border-right:none;border-top:none;color:#008;font-family:inherit;margin-left:5px;padding-top:0;"]),J=n(379),q=n.n(J);var K=Object(H.flatten)(q.a),$=function(e,t){var n=e.lon,r=e.lat,i=e.x,o=e.y,a=r||o,s=n||i;return a&&s?{lat:a,lon:s,name:t}:null},ee=function(e){var t=e.station;return U.a.createElement(N.c.PopupRow,null,U.a.createElement("div",null,U.a.createElement(Y.a,{defaultMessage:K["otpUi.MapPopup.availableBikes"],description:"Label text for the number of bikes available",id:"otpUi.MapPopup.availableBikes",values:{value:t.bikesAvailable}})),U.a.createElement("div",null,U.a.createElement(Y.a,{defaultMessage:K["otpUi.MapPopup.availableDocks"],description:"Label text for the number of docks available",id:"otpUi.MapPopup.availableDocks",values:{value:t.spacesAvailable}})))},te=function(e){var t=e.id,n=e.setViewedStop;return U.a.createElement(N.c.PopupRow,null,U.a.createElement("strong",null,U.a.createElement(Y.a,{defaultMessage:K["otpUi.MapPopup.stopId"],description:"Displays the stop id",id:"otpUi.MapPopup.stopId",values:{stopId:t}})),U.a.createElement(X,{onClick:n},U.a.createElement(Y.a,{defaultMessage:K["otpUi.MapPopup.stopViewer"],description:"Text for link that opens the stop viewer",id:"otpUi.MapPopup.stopViewer"})))};var ne=function(e){var t,n=e.closePopup,r=void 0===n?function(){}:n,i=e.configCompanies,o=e.entity,a=e.getEntityName,s=e.getEntityPrefix,l=e.setLocation,c=e.setViewedStop,u=Object(Q.a)();if(!o)return U.a.createElement(U.a.Fragment,null);var d=(a||function(e,t){return function(n,r){var i,o="networks"in n&&(V.default.itinerary.getCompaniesLabelFromNetworks((null==n?void 0:n.networks)||[],r)||(null==n||null===(i=n.networks)||void 0===i?void 0:i[0])),a=n.name||n.id;return((a.match(/-/g)||[]).length>3||"Default vehicle type"===a)&&(a=null),"isFloatingBike"in n&&n.isFloatingBike?a=e.formatMessage({defaultMessage:t["otpUi.MapPopup.floatingBike"],description:"Popup title for a free-floating bike",id:"otpUi.MapPopup.floatingBike"},{name:a}):"isFloatingCar"in n&&n.isFloatingCar?a=e.formatMessage({defaultMessage:t["otpUi.MapPopup.floatingCar"],description:"Popup title for a free-floating car",id:"otpUi.MapPopup.floatingCar"},{company:o,name:a}):"isFloatingVehicle"in n&&n.isFloatingVehicle&&(a=e.formatMessage({defaultMessage:t["otpUi.MapPopup.floatingEScooter"],description:"Popup title for a free-floating e-scooter",id:"otpUi.MapPopup.floatingEScooter"},{name:a})),a}}(u,K))(o,i),f="networks"in o&&(V.default.itinerary.getCompaniesLabelFromNetworks((null==o?void 0:o.networks)||[],i)||(null==o||null===(t=o.networks)||void 0===t?void 0:t[0])),p=function(e){return"bikesAvailable"in e}(o),m=p&&void 0!==(null==o?void 0:o.bikesAvailable)&&!(null!=o&&o.isFloatingBike),h=!p&&(null==o?void 0:o.code)||o.id.split(":")[1]||o.id,g="focus-".concat(encodeURIComponent(o.id).replace(/%/g,""),"-popup");return U.a.createElement(N.c.MapOverlayPopup,null,U.a.createElement(G.b,{closePopup:r,id:g},U.a.createElement(N.c.PopupTitle,null,s&&s(o),U.a.createElement(Y.a,{defaultMessage:K["otpUi.MapPopup.popupTitle"],description:"Text for title of the popup, contains an optional company name",id:"otpUi.MapPopup.popupTitle",values:{name:d,stationNetwork:f}})),m&&U.a.createElement(ee,{station:o}),c&&!p&&U.a.createElement(te,{id:h,setViewedStop:Object(F.useCallback)((function(){return c(o)}),[o])}),l&&U.a.createElement(N.c.PopupRow,null,U.a.createElement(z.a,{label:!0,location:$(o,d),setLocation:l}))))},re=function(e){return["case",["==",["get",e],"SCOOTER"],"#f5a729",["==",["get",e],"BICYCLE"],"#f00","#333"]},ie=["concat","#",["case",["!=",["index-of",",",["get","routeColors"]],-1],["slice",["get","routeColors"],0,["index-of",",",["get","routeColors"]]],["get","routeColors"]]],oe=function(e){return{rentalStations:{"circle-color":e||re("formFactors"),"circle-opacity":.9,"circle-stroke-color":"#333","circle-stroke-width":3},rentalVehicles:{"circle-color":e||re("formFactor"),"circle-opacity":.9,"circle-stroke-color":"#333","circle-stroke-width":2},stations:{"circle-color":e||"#fff","circle-opacity":.9,"circle-radius":10,"circle-stroke-color":"#333","circle-stroke-width":3},areaStops:{"circle-color":ie,"circle-opacity":.9,"circle-stroke-color":"#333","circle-stroke-width":2},stops:{"circle-color":e||"#fff","circle-opacity":.9,"circle-stroke-color":"#333","circle-stroke-width":2},vehicleParking:{"circle-color":e||"black","circle-opacity":.9,"circle-radius":10,"circle-stroke-color":"#333","circle-stroke-width":3}}};function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){D()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var le="otp2-tiles",ce=["areaStops"],ue="OTP-UI-stopsAndStations",de=function(e){var t=e.color,n=e.configCompanies,r=e.getEntityPrefix,i=e.id,o=e.network,a=e.onMapClick,s=e.setLocation,l=e.setViewedStop,c=e.stopsWhitelist,u=e.type,d=Object(k.i)().current,f=Object(F.useState)(null),p=B()(f,2),m=p[0],h=p[1],g=function(e){var t,n,r=(null===(t=e.features)||void 0===t?void 0:t[0]).sourceLayer,i=se(se({},null===(n=e.features)||void 0===n?void 0:n[0].properties),{},{lat:e.lngLat.lat,lon:e.lngLat.lng,sourceLayer:r});"stops"!==r&&"stations"!==r||h(i),"rentalVehicles"!==r&&"rentalStations"!==r||h(se(se({isFloatingBike:"rentalVehicles"===r&&"BICYCLE"===i.formFactor,isFloatingVehicle:"rentalVehicles"===r&&"SCOOTER"===i.formFactor,networks:[i.network]},i),{},{bikesAvailable:i.vehiclesAvailable,x:i.lon,y:i.lat}))},y=Object(F.useCallback)((function(){d.getCanvas().style.cursor="pointer"}),[d]),v=Object(F.useCallback)((function(){d.getCanvas().style.cursor=""}),[d]);Object(F.useEffect)((function(){return null==d||d.on("mouseenter",i,y),null==d||d.on("mouseleave",i,v),null==d||d.on("click",i,a||g),null==d||d.on("mouseenter","".concat(i,"-secondary"),y),null==d||d.on("mouseleave","".concat(i,"-secondary"),v),null==d||d.on("click","".concat(i,"-secondary"),a||g),function(){null==d||d.off("mouseenter",i,y),null==d||d.off("mouseleave",i,v),null==d||d.off("click",i,a||g),null==d||d.off("mouseenter","".concat(i,"-secondary"),y),null==d||d.off("mouseleave","".concat(i,"-secondary"),v),null==d||d.off("click","".concat(i,"-secondary"),a||g)}}),[i,d]);var b=["all"];o&&(b=["all",["==","network",o]]),"stops"!==u&&"areaStops"!==u&&u!==ue||(b=["all",["!",["has","parentStation"]],["!=",["get","routes"],["literal","[]"]]]),c&&(b=["in",["get","gtfsId"],["literal",c]]);var w=ce.includes(u),x=u===ue;return U.a.createElement(U.a.Fragment,null,w&&U.a.createElement(k.b,{filter:b,id:"".concat(i,"-fill"),paint:{"fill-color":ie,"fill-opacity":.2},"source-layer":u,source:le,minzoom:c?2:14,type:"fill"}),w&&U.a.createElement(k.b,{filter:b,id:"".concat(i,"-outline"),layout:{"line-join":"round","line-cap":"round"},minzoom:c?2:14,paint:{"line-color":ie,"line-opacity":.8,"line-width":3},"source-layer":u,source:le,type:"line"}),x&&U.a.createElement(k.b,{filter:b,id:i,key:"".concat(i,"-stops"),paint:oe(t).stops,source:le,minzoom:c?2:14,"source-layer":"stops",type:"circle"}),x&&U.a.createElement(k.b,{filter:b,id:"".concat(i,"-secondary"),key:"".concat(i,"-stations"),paint:oe(t).stops,source:le,minzoom:c?2:14,"source-layer":"stations",type:"circle"}),!w&&!x&&U.a.createElement(k.b,{filter:b,id:i,key:i,paint:oe(t)[u],source:le,minzoom:c?2:14,"source-layer":u,type:"circle"}),m&&U.a.createElement(k.g,{latitude:m.lat,longitude:m.lon,maxWidth:"100%",onClose:function(){return h(null)}},U.a.createElement(ne,{closePopup:function(){return h(null)},configCompanies:n,entity:se(se({},m),{},{id:(null==m?void 0:m.id)||(null==m?void 0:m.gtfsId)}),getEntityPrefix:r,setLocation:s?function(e){h(null),s(e)}:null,setViewedStop:l?function(e){h(null),l(e)}:null})))},fe=function(e,t,n,r,i,o,a){var s=e.findIndex((function(e){return e.type===ue}));return s>-1&&(e[s].overrideType="stops,stations"),[U.a.createElement(k.h,{alwaysShow:!0,id:le,key:le,type:"vector",url:"".concat(t,"/").concat(e.map((function(e){return e.overrideType||e.type})).join(","),"/tilejson.json")})].concat(L()(e.map((function(e){var t=e.color,s=e.name,l=e.network,c=e.type,u=e.initiallyVisible,d="".concat(c).concat(l?"-".concat(l):"");return U.a.createElement(de,{color:t,configCompanies:o,getEntityPrefix:a,id:d,key:d,name:s||d,network:l,setLocation:n,setViewedStop:r,stopsWhitelist:i,type:c,visible:u})}))))},pe=n(25),me=n(44),he=n(16),ge=n(131),ye=n(27),ve=n(41),be=n(21),we=n(228),xe=n(38),Ee=n(316);var _e,Ae=Object(I.c)((function(e,t){var n=e.otp.transitIndex.stops;return{stopData:null==n?void 0:n[t.stopId],transitOperators:e.otp.config.transitOperators||[]}}))((function(e){var t=e.stopData,n=e.transitOperators,r=(null==t?void 0:t.fetchStatus)===xe.k.FETCHING;return U.a.createElement(Ee.a,{loading:r,stopData:t,transitOperators:n})})),Oe=n(26);var Se,Te,Ie=Z.default.div(_e||(Se=["\n  background-color: ",";\n  border: 2px solid #fff;\n  border-radius: 50%;\n  height: 15px;\n  width: 15px;\n"],Te||(Te=Se.slice(0)),_e=Object.freeze(Object.defineProperties(Se,{raw:{value:Object.freeze(Te)}}))),Oe.d),ke=Object(I.c)((function(e){return{diagramLeg:e.otp.ui.diagramLeg,elevationPoint:e.otp.ui.elevationPoint,showElevationProfile:!!e.otp.config.elevationProfile}}))((function(e){var t=e.diagramLeg,n=e.elevationPoint,r=null;if(e.showElevationProfile&&t&&n){var i=V.default.itinerary.legLocationAtDistance(t,n);i&&(r=U.a.createElement(k.e,{latitude:i[0],longitude:i[1]},U.a.createElement(Ie,null)))}return r})),Ce=n(493),Me=n(46),Ne=n(52),je=n(88),Le=n(277),Re=["forgetPlace","rememberPlace"];function De(){return(De=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Pe(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function Be(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Fe={clearLocation:Me.c,forgetPlace:je.m,rememberPlace:je.q,setLocation:ve.e},Ue=Object(I.c)((function(e){var t=e.otp.ui.viewedRoute;if(null!==e.otp.ui.mainPanelContent&&t)return{};var n=Object(he.getActiveSearch)(e),r=n?n.query:e.otp.currentQuery,i=Object(he.getShowUserSettings)(e),o=r.from,a=r.to;return{fromLocation:o,intermediatePlaces:e.otp.currentQuery.intermediatePlaces.filter((function(e){return e})),locations:Object(Ne.l)(e).saved,showUserSettings:i,toLocation:a,visible:!0}}),Fe)((function(e){var t=e.forgetPlace,n=e.rememberPlace,r=Be(e,Re),i=Object(Q.a)(),o=Object(F.useCallback)((function(e){t(e,i)}),[t,i]),a=Object(F.useCallback)(function(){var e,t=(e=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t,i);case 2:e.sent===je.a.SUCCESS&&Object(Le.a)(Object(Ne.f)(t.location),i);case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Pe(o,r,i,a,s,"next",e)}function s(e){Pe(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),[n,i]);return U.a.createElement(Ce.a,De({},r,{forgetPlace:o,rememberPlace:a}))}));function ze(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function Ve(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){ze(o,r,i,a,s,"next",e)}function s(e){ze(o,r,i,a,s,"throw",e)}a(void 0)}))}}function Ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return He(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return He(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function He(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var We={setLocation:ve.e},Ye=Object(I.c)(null,We)((function(e){var t,n=e.setLocation,r=e.url,i=Ge(Object(F.useState)([]),2),o=i[0],a=i[1];return Object(F.useEffect)((function(){function e(){return(e=Ve(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(r);case 2:return e.next=4,e.sent.json();case 4:t=e.sent,a(t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}r&&function(){e.apply(this,arguments)}()}),[r]),U.a.createElement(U.a.Fragment,null,null==o||null===(t=o.features)||void 0===t?void 0:t.map((function(e,t){var r=e.geometry,i=e.properties;return r&&r.coordinates?U.a.createElement(N.a,{key:t,popupContents:U.a.createElement(N.c.MapOverlayPopup,null,i.Name&&U.a.createElement(N.c.PopupTitle,null,i.Name),U.a.createElement(N.c.PopupRow,null,i.popupContent&&U.a.createElement("div",null,i.popupContent),i.Address&&U.a.createElement("div",null,i.Address,", ",i.Zip,", ",i.City,","," ",i.State),i.Phone&&U.a.createElement("div",null,i.Phone),U.a.createElement(z.a,{label:!0,location:{lat:r.coordinates[1],lon:r.coordinates[0],name:i.Name},setLocation:n}))),popupProps:{offset:10},position:[r.coordinates[1],r.coordinates[0]]},U.a.createElement("img",{alt:i.Name,className:i.className,src:i.icon})):null})))})),Qe=n(45),Ze=n(308);var Xe,Je,qe=function(e,t){void 0===t&&(t={});var n=0,r=0,i=0;return Object(Ze.a)(e,(function(e){n+=e[0],r+=e[1],i++}),!0),Object(Qe.g)([n/i,r/i],t.properties)},Ke=n(169),$e=n(61),et=n.n($e),tt=n(119),nt=n(137),rt=n(183),it=n(32),ot=n(70),at=n(262);function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){ct(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ut(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var dt=Z.default.span(Xe||(Xe=ut(["\n  align-items: center;\n  background: black;\n  border-radius: 5px;\n  color: white;\n  display: inline-flex;\n  font-weight: 600;\n  justify-content: center;\n  margin-left: 24px;\n  padding: 0px 8px;\n"]))),ft=Z.default.div(Je||(Je=ut(["\n  ","\n\n  background: #fffffffa;\n  border-radius: 5px;\n  padding: 8px;\n  align-items: center;\n  display: flex;\n  flex-wrap: wrap;\n\n  \n  span {\n    span {\n      span {\n        max-height: 28px;\n        min-height: 20px;\n      }\n    }\n  }\n  div {\n    margin-top: -0px !important;\n    transform: scale(0.9);\n  }\n  .route-block-wrapper span {\n    padding: 0px;\n  }\n  * {\n    height: 26px;\n  }\n}\n"])),nt.e);function pt(e){return lt(lt({},e),{},{allLegGeometry:Object(Qe.f)(e.legs.flatMap((function(e){return et.a.decode(e.legGeometry.points)})))})}function mt(e,t){var n=t.map((function(e){return e.uniquePoint})),r=-1/0,i=e.allLegGeometry,o=qe(i).geometry.coordinates,a=o;return i.geometry.coordinates.forEach((function(e){var t=n.reduce((function(t,n){return t+Object(Ke.a)(e,n)}),0),i=Object(Ke.a)(e,o),s=t/n.length*1.2-i;s>r&&(r=s,a=e)})),{itin:e,uniquePoint:a}}var ht,gt={setActiveItinerary:tt.a,setVisibleItinerary:tt.d},yt=Object(I.c)((function(e){var t,n=e.otp,r=n.activeSearchId;if(!0!==(null===(t=n.config.itinerary)||void 0===t?void 0:t.previewOverlay))return{};if(!r)return{};var i=Object(he.getVisibleItineraryIndex)(e),o=Object(he.getActiveItinerary)(e),a=Object(he.getActiveSearch)(e),s=null==a?void 0:a.response.flatMap((function(e){var t;return null==e||null===(t=e.plan)||void 0===t?void 0:t.itineraries})),l=a?null==a?void 0:a.query:e.otp.currentQuery;return{from:l.from,itins:s,to:l.to,visible:null==o,visibleItinerary:i}}),gt)((function(e){var t=e.itins,n=e.setActiveItinerary,r=(e.setVisibleItinerary,e.visible),i=e.visibleItinerary,o=Object(F.useContext)(me.a).LegIcon;if(!t||!r)return U.a.createElement(U.a.Fragment,null);var a=function(e){for(var t=0;t<e.length;t++){var n,r,i,o=null==e||null===(n=e[t-1])||void 0===n?void 0:n.index,a=e[t],s=null!==(r=null==a||null===(i=a.allStartTimes)||void 0===i?void 0:i.length)&&void 0!==r?r:1;e[t]=lt(lt({},a),{},{index:(null!=o?o:-1)+s})}return e}(t.map(pt)),s=Object(rt.b)(a).mergedItineraries,l=s.reduce((function(e,t){return e.push(mt(t,e)),e}),[]);l.length>1&&(l[0]=mt(s[0],l));try{return U.a.createElement(U.a.Fragment,null,l.map((function(e){return(!Object(it.j)(i)||i===e.itin.index)&&e.uniquePoint&&U.a.createElement(k.e,{key:e.itin.duration,latitude:e.uniquePoint[0],longitude:e.uniquePoint[1],style:{cursor:"pointer"}},U.a.createElement(ft,{onClick:function(){n({index:e.itin.index})}},U.a.createElement(at.a,{expanded:!1,itinerary:e.itin,LegIcon:o}),U.a.createElement(dt,null,U.a.createElement(ot.a,{duration:e.itin.duration}))))})))}catch(e){return console.warn("Can't create geojson from route: ".concat(e)),U.a.createElement(U.a.Fragment,null)}}));var vt=Z.default.div(ht||(ht=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  background: var(--main-base-color, ",");\n  border-radius: 30px;\n  box-shadow: 0px 0px 10px 10px var(--main-base-color, ",");\n  cursor: pointer;\n  display: block;\n  height: 50px;\n  opacity: ",";\n  transition: 0.1s opacity ease-out;\n  width: 50px;\n"])),Oe.b,Oe.b,(function(e){return e.invisible?0:.3})),bt=Object(I.c)((function(e){var t=e.otp.ui.highlightedLocation,n=e.otp.config.nearbyView;return{location:!1===(null==n?void 0:n.showShadowDotOnMapDrag)?null:t}}))((function(e){var t=e.location;return U.a.createElement(k.e,{latitude:(null==t?void 0:t.lat)||0,longitude:(null==t?void 0:t.lon)||0},U.a.createElement(vt,{invisible:!t}))})),wt=n(4),xt=n.n(wt),Et=n(40),_t=n.n(Et),At=n(98),Ot=Object(Z.default)(k.g).withConfig({displayName:"styled__Popup",componentId:"sc-12kjso7-0"})(["& > .maplibregl-popup-content,& > .mapboxgl-popup-content{border-radius:10px;box-shadow:0 3px 14px 4px rgb(0 0 0 / 20%);}"]),St=Z.default.div.withConfig({displayName:"styled__MapOverlayPopup",componentId:"sc-12kjso7-1"})(["font-size:12px;line-height:1.5;min-width:250px;"]),Tt=Z.default.p.withConfig({displayName:"styled__PopupRow",componentId:"sc-12kjso7-2"})(["margin-top:6px;"]),It=Z.default.header.withConfig({displayName:"styled__PopupTitle",componentId:"sc-12kjso7-3"})(["font-size:18px;font-weight:500;margin-bottom:6px;"]),kt=Z.default.div.withConfig({displayName:"styled__LeafletStyleMarker",componentId:"sc-12kjso7-4"})(["background:","50;border-radius:","px;border:","px solid ",';content:"";cursor:pointer;display:block;height:',"px;width:","px;"],(function(e){return(null==e?void 0:e.color)||"#0000ff"}),(function(e){return(null==e?void 0:e.size)||10}),(function(e){return(null==e?void 0:e.stroke)||2}),(function(e){return(null==e?void 0:e.strokeColor)||"".concat(null==e?void 0:e.color,"f0")||"#0000fffo"}),(function(e){return(null==e?void 0:e.size)||10}),(function(e){return(null==e?void 0:e.size)||10})),Ct=Z.default.aside.withConfig({displayName:"styled__LayerSelector",componentId:"sc-12kjso7-5"})(['display:flex;justify-content:end;margin:10px;position:relative;right:0;top:0;&:not(:last-of-type){display:none;}.layers-list{background:rgba(255,255,255,0.95);list-style-type:none;padding:1em;position:absolute;right:0;z-index:1000;label{display:block;height:0;overflow:hidden;width:0;input{margin-right:1ch;}}&::after{display:block;content:"";cursor:pointer;}&:hover,&.fake-mobile-hover{box-shadow:0px -1px 15px -3px rgba(0,0,0,0.1);label{height:unset;overflow:unset;width:unset;}li:first-child{margin-right:2em;}&::after{display:none;}}}']),Mt=Z.default.div.withConfig({displayName:"styled__StoryMapContainer",componentId:"sc-12kjso7-6"})(["height:90vh;"]);var Nt={50:"#ECECEC",100:"#D9D9D9",200:"#C5C5C5",300:"#B3B3B3",400:"#9F9F9F",500:"#8C8C8C",600:"#797979",700:"#666666",800:"#535353",900:"#404040"};function jt(e){var t=Array.from(document.querySelectorAll(e));return{entries:t,firstElement:t[0],lastElement:t[t.length-1]}}function Lt(e,t){var n=jt(e),r=n.entries,i=n.firstElement;if(t===n.lastElement)return i;var o=r.indexOf(t);return r[o+1]}function Rt(e,t){var n=jt(e),r=n.entries,i=n.firstElement,o=n.lastElement;if(t===i)return o;var a=r.indexOf(t);return r[a-1]}Z.default.button.withConfig({displayName:"styled__DropdownButton",componentId:"sc-kes9ha-0"})(['background:#fff;border:1px solid black;border-radius:5px;color:inherit;padding:5px 7px;transition:all 0.1s ease-in-out;span.caret{border-left:4px solid transparent;border-right:4px solid transparent;border-top:4px solid;color:inherit;display:inline-block;height:0;margin-left:5px;vertical-align:middle;width:0;}&:hover,&[aria-expanded="true"]{background:',";color:black;cursor:pointer;}"],Nt[50]),Z.default.div.withConfig({displayName:"styled__DropdownMenu",componentId:"sc-kes9ha-1"})(["background-clip:padding-box;background-color:#fff;border-radius:4px;border:1px solid rgba(0,0,0,0.15);box-shadow:0 6px 12px rgba(0,0,0,0.175);color:#333;list-style:none;margin:2px 0 0;min-width:160px;padding:5px 0;position:absolute;"," top:100%;width:100%;z-index:1000;hr{margin:0;padding:0;}a,button{background:transparent;border:none;cursor:pointer;padding:5px 15px;text-align:start;width:100%;&:hover{background:",";}}"],(function(e){return e.alignLeft?"left: 0;":"right: 0;"}),Nt[50]),Z.default.span.withConfig({displayName:"styled__DropdownWrapper",componentId:"sc-kes9ha-2"})(["float:",";position:relative;"],(function(e){return e.pullRight?"right":"left"}));var Dt=function(e){var t=e.children,n=e.closePopup,r=void 0===n?null:n,i=e.focusElements,o=void 0===i?["button","a","input","select"]:i,a=e.id,s=o.map((function(e){return"#".concat(a,"-focus-trap ").concat(e,":not([disabled])")})).join(", "),l=Object(F.useCallback)((function(e){var t=e.target;switch(e.key){case"Escape":r();break;case"Tab":var n,i;if(e.preventDefault(),e.shiftKey)null===(n=Rt(s,t))||void 0===n||n.focus();else null===(i=Lt(s,t))||void 0===i||i.focus()}}),[r]);return U.a.createElement("div",{id:"".concat(a,"-focus-trap"),onKeyDown:l,role:"presentation"},t)},Pt=function(e){var t=e.children,n=e.popupContents,r=e.popupProps,i=e.position,o=e.tooltipContents,a=Object(F.useState)(!1),s=B()(a,2),l=s[0],c=s[1],u=Object(F.useState)(!1),d=B()(u,2),f=d[0],p=d[1];return U.a.createElement(k.e,{latitude:i[0],longitude:i[1],onClick:function(){return c(!0)},style:{cursor:n?"pointer":"inherit"}},U.a.createElement("span",{onMouseEnter:function(){return p(!0)},onMouseLeave:function(){return p(!1)}},t||U.a.createElement(kt,null)),f&&o&&U.a.createElement(Ot,xt()({},r,{anchor:"right",closeButton:!1,closeOnClick:!1,latitude:i[0],longitude:i[1]}),o),l&&n&&U.a.createElement(Ot,xt()({},r,{latitude:i[0],longitude:i[1],maxWidth:"100%",onClose:function(){return c(!1)}}),U.a.createElement(Dt,{closePopup:function(){return c(!1)},id:"map-popup"},n)))};var Bt=n(71),Ft=Z.default.span.withConfig({displayName:"styled__LocationPickerSpan",componentId:"sc-vb4790-0"})([":first-of-type{border-left:none;}"]),Ut=Z.default.span.withConfig({displayName:"styled__FromToPickerSpan",componentId:"sc-vb4790-1"})(["> *{padding-left:0.4em;border-left:1px solid black;}"]),zt=Z.default.button.withConfig({displayName:"styled__Button",componentId:"sc-vb4790-2"})(["background:none;border:none;color:navy;font-family:inherit;font-size:inherit;line-height:inherit;padding-left:0.2em;:hover{text-decoration:underline;cursor:pointer;}"]),Vt=n(382),Gt=n.n(Vt),Ht="0.9em",Wt=W()(Gt.a),Yt=function(e){var t=e.label,n=void 0===t?null:t,r=e.location,i=void 0===r?null:r,o=e.onFromClick,a=void 0===o?null:o,s=e.onToClick,l=void 0===s?null:s,c=e.setLocation,u=void 0===c?null:c,d=e.showIcons,f=void 0===d||d,p=!0===n?U.a.createElement("strong",null,U.a.createElement(Y.a,{defaultMessage:Wt["otpUi.FromToLocationPicker.planATrip"],description:"Label to prompt the user to plan a trip",id:"otpUi.FromToLocationPicker.planATrip"})):n;return U.a.createElement(U.a.Fragment,null,p,U.a.createElement(Ut,null,U.a.createElement(Ft,null,f&&U.a.createElement(Bt.default,{type:"from",size:Ht}),U.a.createElement(zt,{onClick:function(){a?a():u({location:i,locationType:"from",reverseGeocode:!1})}},U.a.createElement(Y.a,{defaultMessage:Wt["otpUi.FromToLocationPicker.from"],description:"Text for the 'from' button of the picker",id:"otpUi.FromToLocationPicker.from"}))),U.a.createElement(Ft,null,f&&U.a.createElement(Bt.default,{type:"to",size:Ht}),U.a.createElement(zt,{onClick:function(){l?l():u({location:i,locationType:"to",reverseGeocode:!1})}},U.a.createElement(Y.a,{defaultMessage:Wt["otpUi.FromToLocationPicker.to"],description:"Text for the 'to' button of the picker",id:"otpUi.FromToLocationPicker.to"})))))},Qt=Z.default.div.withConfig({displayName:"park-and-ride-marker__StyledParkAndRideIcon",componentId:"sc-3bjx94-0"})(["background:#000;border-radius:17px;color:#fff;font-size:16px;font-weight:bold;height:12px;line-height:0px;padding-left:7px;padding-top:12px;width:17px;"]),Zt=function(){return U.a.createElement(Qt,null,"P")},Xt=function(e){var t=e.parkAndRideLocations,n=e.setLocation;return t&&0!==t.length?U.a.createElement(U.a.Fragment,null,t.map((function(e,t){var i=e.name.startsWith("P+R ")?e.name.substring(4):e.name;return U.a.createElement(Pt,{popupProps:{offset:10},popupContents:U.a.createElement(r.MapOverlayPopup,null,U.a.createElement(r.PopupTitle,null,i),U.a.createElement(r.PopupRow,null,U.a.createElement(Yt,{label:!0,location:{lat:e.y,lon:e.x,name:i},setLocation:n?function(e){n(null),n(e)}:null}))),key:t,position:[e.y,e.x]},U.a.createElement(Zt,null))}))):null};var Jt,qt,Kt,$t={parkAndRideQuery:pe.H,setLocation:ve.e},en=Object(I.c)((function(e){var t,n=(null===(t=e.otp.overlay)||void 0===t?void 0:t.parkAndRide).locations;return Array.isArray(n)?{parkAndRideLocations:n}:{}}),$t)((function(e){return Object(F.useEffect)((function(){var t={};e.maxTransitDistance&&(t.maxTransitDistance=e.maxTransitDistance),e.parkAndRideQuery(t)}),[e]),U.a.createElement(Xt,e)})),tn=n(121),nn=n(20),rn=n(54);function on(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function an(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?on(Object(n),!0).forEach((function(t){sn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):on(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ln(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var cn=Z.default.div(Jt||(Jt=ln(["\n  align-items: flex-start;\n  display: flex;\n  margin-bottom: 6px;\n  width: 100%;\n"]))),un=Z.default.div(qt||(qt=ln(["\n  flex-grow: 1;\n  font-size: 14px;\n"]))),dn=Z.default.button(Kt||(Kt=ln(["\n  background: none;\n  border: none;\n  margin-top: -1px;\n  padding-top: 0;\n"])));var fn={clearMapPopupLocation:ve.a,setLocation:ve.e,zoomToPlace:ve.k},pn=Object(I.c)((function(e){return{mapPopupLocation:e.otp.ui.mapPopupLocation}}),fn)((function(e){var t=e.clearMapPopupLocation,n=e.mapPopupLocation,r=e.setLocation,i=e.zoomToPlace,o=Object(Q.a)(),a=Object(k.i)().current,s=Object(F.useCallback)((function(e){t(),r(e)}),[r,t]);if(!n)return null;var l=n.name||o.formatMessage({id:"common.coordinates"},Object(rn.i)(o,n)),c=o.formatMessage({id:"components.PointPopup.zoomToLocation"});return U.a.createElement(N.b,{closeButton:!1,closeOnClick:!0,latitude:n.lat,longitude:n.lon,onClose:t,style:{maxWidth:"260px",width:"260px"}},U.a.createElement(G.b,{closePopup:t,id:"point-popup"},U.a.createElement(cn,null,U.a.createElement(un,null,"string"==typeof l&&l.split(",").length>3?l.split(",").splice(0,3).join(","):l),U.a.createElement(dn,{"aria-label":c,id:"zoom-btn",onClick:function(){return i(a,n,15)},title:c},U.a.createElement(nn.a,{Icon:tn.a}))),U.a.createElement("div",{id:"from-to"},U.a.createElement(z.a,{label:!0,location:an(an({},n),{},{name:l}),setLocation:s}))))})),mn=n(322),hn=Object(I.c)((function(e){var t,n=e.otp,r=n.activeSearchId,i=n.config,o=n.ui;if(!1!==(null===(t=i.itinerary)||void 0===t?void 0:t.showFirstResultByDefault))return{};if(!r)return{};var a=Object(he.getVisibleItineraryIndex)(e),s=Object(he.getActiveItinerary)(e),l=Object(he.getActiveSearch)(e),c=null==l?void 0:l.response.flatMap((function(e){var t,n;return null==e||null===(t=e.plan)||void 0===t||null===(n=t.itineraries)||void 0===n?void 0:n.flatMap((function(e){var t;return null===(t=e.legs)||void 0===t?void 0:t.map((function(e){return e.legGeometry.points}))}))})),u=l?null==l?void 0:l.query:e.otp.currentQuery,d=u.from,f=u.to;return{from:d,geometries:c,mainPanelContent:o.mainPanelContent,to:f,visible:null==a&&null==s}}))((function(e){var t=e.from,n=e.geometries,r=e.mainPanelContent,i=e.to,o=e.visible,a=Object(k.i)().current;if(Object(F.useEffect)((function(){o&&null===r&&(null==a||a.fitBounds([t,i],{duration:600,padding:Object(mn.getFitBoundsPadding)(a,.2)}))}),[a,o,t,i,r]),!n||!o)return U.a.createElement(U.a.Fragment,null);var s=Array.from(new Set(n));try{var l={features:s.filter((function(e){return!!e})).map((function(e){return{geometry:et.a.toGeoJSON(e),properties:[],type:"Feature"}})),type:"FeatureCollection"};return U.a.createElement(k.h,{data:l,id:"route-preview-source",type:"geojson"},U.a.createElement(k.b,{id:"route-preview",layout:{"line-cap":"round","line-join":"round"},paint:{"line-blur":4,"line-color":Oe.b,"line-dasharray":[1,2],"line-opacity":.6,"line-width":4},type:"line"}))}catch(e){return console.warn("Can't create geojson from route ".concat(n,": ").concat(e)),U.a.createElement(U.a.Fragment,null)}}));Object(Z.default)(k.g).withConfig({displayName:"styled__Popup",componentId:"sc-12kjso7-0"})(["& > .maplibregl-popup-content,& > .mapboxgl-popup-content{border-radius:10px;box-shadow:0 3px 14px 4px rgb(0 0 0 / 20%);}"]),Z.default.div.withConfig({displayName:"styled__MapOverlayPopup",componentId:"sc-12kjso7-1"})(["font-size:12px;line-height:1.5;min-width:250px;"]),Z.default.p.withConfig({displayName:"styled__PopupRow",componentId:"sc-12kjso7-2"})(["margin-top:6px;"]),Z.default.header.withConfig({displayName:"styled__PopupTitle",componentId:"sc-12kjso7-3"})(["font-size:18px;font-weight:500;margin-bottom:6px;"]),Z.default.div.withConfig({displayName:"styled__LeafletStyleMarker",componentId:"sc-12kjso7-4"})(["background:","50;border-radius:","px;border:","px solid ",';content:"";cursor:pointer;display:block;height:',"px;width:","px;"],(function(e){return(null==e?void 0:e.color)||"#0000ff"}),(function(e){return(null==e?void 0:e.size)||10}),(function(e){return(null==e?void 0:e.stroke)||2}),(function(e){return(null==e?void 0:e.strokeColor)||"".concat(null==e?void 0:e.color,"f0")||"#0000fffo"}),(function(e){return(null==e?void 0:e.size)||10}),(function(e){return(null==e?void 0:e.size)||10})),Z.default.aside.withConfig({displayName:"styled__LayerSelector",componentId:"sc-12kjso7-5"})(['display:flex;justify-content:end;margin:10px;position:relative;right:0;top:0;&:not(:last-of-type){display:none;}.layers-list{background:rgba(255,255,255,0.95);list-style-type:none;padding:1em;position:absolute;right:0;z-index:1000;label{display:block;height:0;overflow:hidden;width:0;input{margin-right:1ch;}}&::after{display:block;content:"";cursor:pointer;}&:hover,&.fake-mobile-hover{box-shadow:0px -1px 15px -3px rgba(0,0,0,0.1);label{height:unset;overflow:unset;width:unset;}li:first-child{margin-right:2em;}&::after{display:none;}}}']),Z.default.div.withConfig({displayName:"styled__StoryMapContainer",componentId:"sc-12kjso7-6"})(["height:90vh;"]);function gn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,n=e.getCanvas(),r=e.getPixelRatio(),i=n.width*t/r,o=n.height*t/r;return{bottom:o,left:i,right:i,top:o}}function yn(e,t){e.fitBounds(t,{duration:500,padding:gn(e)}),e.triggerRepaint()}var vn={50:"#ECECEC",100:"#D9D9D9",200:"#C5C5C5",300:"#B3B3B3",400:"#9F9F9F",500:"#8C8C8C",600:"#797979",700:"#666666",800:"#535353",900:"#404040"};Z.default.button.withConfig({displayName:"styled__DropdownButton",componentId:"sc-kes9ha-0"})(['background:#fff;border:1px solid black;border-radius:5px;color:inherit;padding:5px 7px;transition:all 0.1s ease-in-out;span.caret{border-left:4px solid transparent;border-right:4px solid transparent;border-top:4px solid;color:inherit;display:inline-block;height:0;margin-left:5px;vertical-align:middle;width:0;}&:hover,&[aria-expanded="true"]{background:',";color:black;cursor:pointer;}"],vn[50]),Z.default.div.withConfig({displayName:"styled__DropdownMenu",componentId:"sc-kes9ha-1"})(["background-clip:padding-box;background-color:#fff;border-radius:4px;border:1px solid rgba(0,0,0,0.15);box-shadow:0 6px 12px rgba(0,0,0,0.175);color:#333;list-style:none;margin:2px 0 0;min-width:160px;padding:5px 0;position:absolute;"," top:100%;width:100%;z-index:1000;hr{margin:0;padding:0;}a,button{background:transparent;border:none;cursor:pointer;padding:5px 15px;text-align:start;width:100%;&:hover{background:",";}}"],(function(e){return e.alignLeft?"left: 0;":"right: 0;"}),vn[50]),Z.default.span.withConfig({displayName:"styled__DropdownWrapper",componentId:"sc-kes9ha-2"})(["float:",";position:relative;"],(function(e){return e.pullRight?"right":"left"}));var bn=n(514),wn=n.n(bn),xn=function(e){return!!e&&Object.keys(e).length>0},En=function(e,t){return e.extend(t)},_n=function(e){var t=Object(k.i)().current,n=e.routeData,r=Object.values(n.patterns);Object(F.useEffect)((function(){var o,a;if(function(e){return(null==e?void 0:e.patterns)&&Object.values(e.patterns).every((function(e){return void 0!==(null==e?void 0:e.geometry)}))}(n)){var s=r.reduce((function(e,t){return e.concat(et.a.decode(t.geometry.points))}),[]);if(s.length>0){var l=s.map((function(e){return[e[1],e[0]]}));o=l.reduce(En,new At.LngLatBounds(l[0],l[0]))}}if(r.forEach((function(e){var t;null===(t=e.stops)||void 0===t||t.forEach((function(e){var t=(e.geometries||{}).geoJson;if("Polygon"===(null==t?void 0:t.type)){var n=t.coordinates[0];o=n.reduce(En,o||new At.LngLatBounds(n[0],n[0]))}else if(t){var r=t.coordinates;o=o?o.extend(r):new At.LngLatBounds(r,r)}}))})),xn(o)&&t){var c=function(){return i.fitMapBounds(t,o)};c(),a=setTimeout(c,250),e.mapCenterCallback&&e.mapCenterCallback()}return function(){return clearTimeout(a)}}),[n,r,t]);var o=e.clipToPatternStops,a=e.path;if(!n||!n.patterns)return U.a.createElement(U.a.Fragment,null);var s=n.color?"#".concat(n.color):(null==a?void 0:a.color)||"#00bfff",l=r.filter((function(e){return xn(null==e?void 0:e.geometry)})).map((function(e){var t,n,r,i=et.a.decode(e.geometry.points);return(o?(t=null==e?void 0:e.stops,n=i,r=(null==t?void 0:t.map((function(e){var t,n,r;return"Polygon"!==(null===(t=e.geometries)||void 0===t||null===(n=t.geoJson)||void 0===n?void 0:n.type)?null:(null===(r=e.geometries.geoJson.coordinates)||void 0===r?void 0:r[0])||null})).filter((function(e){return!!e})))||[],n.filter((function(e){var t=B()(e,2),n=t[0],i=t[1];return r.every((function(e){return!wn()([i,n],e)}))}))):i).map((function(e){return[e[1],e[0]]}))})),c={type:"FeatureCollection",features:l.map((function(e){return{type:"Feature",geometry:{type:"LineString",coordinates:e},properties:[]}}))};return l.length>0?U.a.createElement(k.h,{id:"route",type:"geojson",data:c},U.a.createElement(k.b,{id:"route",layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":(null==a?void 0:a.color)||s,"line-opacity":(null==a?void 0:a.opacity)||1,"line-width":(null==a?void 0:a.weight)||3},type:"line"})):U.a.createElement(U.a.Fragment,null)},An=["patterns","vehicles"];function On(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?On(Object(n),!0).forEach((function(t){Tn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):On(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function In(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var kn=function(e){var t=(e.otp.ui.viewedRoute||{}).routeId,n=e.otp.transitIndex.routes;return t&&n?n[t]:{}},Cn=function(e){var t=(e.otp.ui.viewedRoute||{}).patternId,n=kn(e),r=n.patterns,i=(n.vehicles,In(n,An)),o=t&&r?Tn({},t,r[t]):r||[];return Sn(Sn({},i),{},{patterns:o})},Mn={id:null,routeData:null},Nn=Object(I.c)((function(e){var t,n,r=kn(e),i=r.patterns,o=void 0===i?{}:i;if(!r.pending&&0!==Object.keys(o).length){var a=e.otp.ui.viewedRoute||{},s=a.patternId,l=a.routeId,c="".concat(l,"-").concat(s||"");c!==Mn.id&&(Mn.id=c,Mn.routeData=Cn(e)),n=Mn.routeData}else n=Cn(e);return{clipToPatternStops:null===(t=e.otp.config.routeViewer)||void 0===t?void 0:t.hideRouteShapesWithinFlexZones,routeData:n}}))(_n),jn=Object(Z.default)(k.g).withConfig({displayName:"styled__Popup",componentId:"sc-12kjso7-0"})(["& > .maplibregl-popup-content,& > .mapboxgl-popup-content{border-radius:10px;box-shadow:0 3px 14px 4px rgb(0 0 0 / 20%);}"]),Ln=Z.default.div.withConfig({displayName:"styled__MapOverlayPopup",componentId:"sc-12kjso7-1"})(["font-size:12px;line-height:1.5;min-width:250px;"]),Rn=Z.default.p.withConfig({displayName:"styled__PopupRow",componentId:"sc-12kjso7-2"})(["margin-top:6px;"]),Dn=Z.default.header.withConfig({displayName:"styled__PopupTitle",componentId:"sc-12kjso7-3"})(["font-size:18px;font-weight:500;margin-bottom:6px;"]),Pn=Z.default.div.withConfig({displayName:"styled__LeafletStyleMarker",componentId:"sc-12kjso7-4"})(["background:","50;border-radius:","px;border:","px solid ",';content:"";cursor:pointer;display:block;height:',"px;width:","px;"],(function(e){return(null==e?void 0:e.color)||"#0000ff"}),(function(e){return(null==e?void 0:e.size)||10}),(function(e){return(null==e?void 0:e.stroke)||2}),(function(e){return(null==e?void 0:e.strokeColor)||"".concat(null==e?void 0:e.color,"f0")||"#0000fffo"}),(function(e){return(null==e?void 0:e.size)||10}),(function(e){return(null==e?void 0:e.size)||10})),Bn=Z.default.aside.withConfig({displayName:"styled__LayerSelector",componentId:"sc-12kjso7-5"})(['display:flex;justify-content:end;margin:10px;position:relative;right:0;top:0;&:not(:last-of-type){display:none;}.layers-list{background:rgba(255,255,255,0.95);list-style-type:none;padding:1em;position:absolute;right:0;z-index:1000;label{display:block;height:0;overflow:hidden;width:0;input{margin-right:1ch;}}&::after{display:block;content:"";cursor:pointer;}&:hover,&.fake-mobile-hover{box-shadow:0px -1px 15px -3px rgba(0,0,0,0.1);label{height:unset;overflow:unset;width:unset;}li:first-child{margin-right:2em;}&::after{display:none;}}}']),Fn=Z.default.div.withConfig({displayName:"styled__StoryMapContainer",componentId:"sc-12kjso7-6"})(["height:90vh;"]);var Un={50:"#ECECEC",100:"#D9D9D9",200:"#C5C5C5",300:"#B3B3B3",400:"#9F9F9F",500:"#8C8C8C",600:"#797979",700:"#666666",800:"#535353",900:"#404040"};function zn(e){var t=Array.from(document.querySelectorAll(e));return{entries:t,firstElement:t[0],lastElement:t[t.length-1]}}function Vn(e,t){var n=zn(e),r=n.entries,i=n.firstElement;if(t===n.lastElement)return i;var o=r.indexOf(t);return r[o+1]}function Gn(e,t){var n=zn(e),r=n.entries,i=n.firstElement,o=n.lastElement;if(t===i)return o;var a=r.indexOf(t);return r[a-1]}Z.default.button.withConfig({displayName:"styled__DropdownButton",componentId:"sc-kes9ha-0"})(['background:#fff;border:1px solid black;border-radius:5px;color:inherit;padding:5px 7px;transition:all 0.1s ease-in-out;span.caret{border-left:4px solid transparent;border-right:4px solid transparent;border-top:4px solid;color:inherit;display:inline-block;height:0;margin-left:5px;vertical-align:middle;width:0;}&:hover,&[aria-expanded="true"]{background:',";color:black;cursor:pointer;}"],Un[50]),Z.default.div.withConfig({displayName:"styled__DropdownMenu",componentId:"sc-kes9ha-1"})(["background-clip:padding-box;background-color:#fff;border-radius:4px;border:1px solid rgba(0,0,0,0.15);box-shadow:0 6px 12px rgba(0,0,0,0.175);color:#333;list-style:none;margin:2px 0 0;min-width:160px;padding:5px 0;position:absolute;"," top:100%;width:100%;z-index:1000;hr{margin:0;padding:0;}a,button{background:transparent;border:none;cursor:pointer;padding:5px 15px;text-align:start;width:100%;&:hover{background:",";}}"],(function(e){return e.alignLeft?"left: 0;":"right: 0;"}),Un[50]),Z.default.span.withConfig({displayName:"styled__DropdownWrapper",componentId:"sc-kes9ha-2"})(["float:",";position:relative;"],(function(e){return e.pullRight?"right":"left"}));var Hn=function(e){var t=e.children,n=e.closePopup,r=void 0===n?null:n,i=e.focusElements,o=void 0===i?["button","a","input","select"]:i,a=e.id,s=o.map((function(e){return"#".concat(a,"-focus-trap ").concat(e,":not([disabled])")})).join(", "),l=Object(F.useCallback)((function(e){var t=e.target;switch(e.key){case"Escape":r();break;case"Tab":var n,i;if(e.preventDefault(),e.shiftKey)null===(n=Gn(s,t))||void 0===n||n.focus();else null===(i=Vn(s,t))||void 0===i||i.focus()}}),[r]);return U.a.createElement("div",{id:"".concat(a,"-focus-trap"),onKeyDown:l,role:"presentation"},t)};var Wn=jn,Yn=Z.default.span.withConfig({displayName:"styled__LocationPickerSpan",componentId:"sc-vb4790-0"})([":first-of-type{border-left:none;}"]),Qn=Z.default.span.withConfig({displayName:"styled__FromToPickerSpan",componentId:"sc-vb4790-1"})(["> *{padding-left:0.4em;border-left:1px solid black;}"]),Zn=Z.default.button.withConfig({displayName:"styled__Button",componentId:"sc-vb4790-2"})(["background:none;border:none;color:navy;font-family:inherit;font-size:inherit;line-height:inherit;padding-left:0.2em;:hover{text-decoration:underline;cursor:pointer;}"]),Xn=n(383),Jn=n.n(Xn),qn="0.9em",Kn=W()(Jn.a),$n=function(e){var t=e.label,n=void 0===t?null:t,r=e.location,i=void 0===r?null:r,o=e.onFromClick,a=void 0===o?null:o,s=e.onToClick,l=void 0===s?null:s,c=e.setLocation,u=void 0===c?null:c,d=e.showIcons,f=void 0===d||d,p=!0===n?U.a.createElement("strong",null,U.a.createElement(Y.a,{defaultMessage:Kn["otpUi.FromToLocationPicker.planATrip"],description:"Label to prompt the user to plan a trip",id:"otpUi.FromToLocationPicker.planATrip"})):n;return U.a.createElement(U.a.Fragment,null,p,U.a.createElement(Qn,null,U.a.createElement(Yn,null,f&&U.a.createElement(Bt.default,{type:"from",size:qn}),U.a.createElement(Zn,{onClick:function(){a?a():u({location:i,locationType:"from",reverseGeocode:!1})}},U.a.createElement(Y.a,{defaultMessage:Kn["otpUi.FromToLocationPicker.from"],description:"Text for the 'from' button of the picker",id:"otpUi.FromToLocationPicker.from"}))),U.a.createElement(Yn,null,f&&U.a.createElement(Bt.default,{type:"to",size:qn}),U.a.createElement(Zn,{onClick:function(){l?l():u({location:i,locationType:"to",reverseGeocode:!1})}},U.a.createElement(Y.a,{defaultMessage:Kn["otpUi.FromToLocationPicker.to"],description:"Text for the 'to' button of the picker",id:"otpUi.FromToLocationPicker.to"})))))},er=n(147);function tr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tr(Object(n),!0).forEach((function(t){D()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rr=["TRAM","TROLLEYBUS","BUS","SUBWAY","FERRY","RAIL","GONDOLA"];function ir(e){return e&&e.modes&&e.modes.transitModes?e.modes.transitModes.map((function(e){return"string"!=typeof e?e.mode:e})):rr}function or(e){return rr.includes(e)||"TRANSIT"===e}function ar(e){return"mustPhone"===(null==e?void 0:e.boardRule)||"mustPhone"===(null==e?void 0:e.alightRule)}function sr(e){return"coordinateWithDriver"===(null==e?void 0:e.boardRule)||"coordinateWithDriver"===(null==e?void 0:e.alightRule)}function lr(e){var t,n;return null!==(null==e||null===(t=e.stop)||void 0===t?void 0:t.geometries)&&void 0!==(null==e||null===(n=e.stop)||void 0===n?void 0:n.geometries)}function cr(e){return lr(null==e?void 0:e.to)}function ur(e){return lr(null==e?void 0:e.from)}function dr(e){return cr(e)||ur(e)}function fr(e){var t;return(null==e||null===(t=e.latestBookingTime)||void 0===t?void 0:t.daysPrior)>0}function pr(e){return fr(null==e?void 0:e.dropOffBookingInfo)}function mr(e){return ar(e)||sr(e)||pr(e)||fr(null==e?void 0:e.pickupBookingInfo)||dr(e)}function hr(e){var t,n;return!(null===(t=e.rideHailingEstimate)||void 0===t||null===(n=t.provider)||void 0===n||!n.id)}function gr(e){return!!e&&"WALK"===e}function yr(e){return!!e&&"BICYCLE"===e}function vr(e){return!!e&&"BICYCLE_RENT"===e}function br(e){return!!e&&e.startsWith("CAR")}function wr(e){return!!e&&(e.startsWith("MICROMOBILITY")||e.startsWith("SCOOTER"))}function xr(e){return gr(e)||yr(e)||vr(e)||br(e)||wr(e)}function Er(e){return e.split(",").some((function(e){return or(e)}))}function _r(e){return e.split(",").some((function(e){return br(e)}))}function Ar(e){return e.split(",").some((function(e){return yr(e)||vr(e)}))}function Or(e){return e.split(",").some((function(e){return wr(e)}))}function Sr(e){return e.split(",").some((function(e){return e.indexOf("_HAIL")>-1}))}function Tr(e){return e.split(",").some((function(e){return e.indexOf("_RENT")>-1}))}function Ir(e){return"WALK"===(e=e||this.get("mode"))?"#444":"BICYCLE"===e?"#0073e5":"SUBWAY"===e?"#e60000":"RAIL"===e?"#b00":"BUS"===e||"TROLLEYBUS"===e?"#080":"TRAM"===e?"#800":"FERRY"===e?"#008":"CAR"===e?"#444":"MICROMOBILITY"===e||"SCOOTER"===e?"#f5a729":"#aaa"}function kr(e){return null==e?"":(e=String(e)).charAt(0).toUpperCase()+e.substr(1).toLowerCase()}function Cr(e){if(!e)return null;var t=e.from,n=e.mode,r=e.rentedBike,i=e.rentedCar,o=e.rentedVehicle,a=e.rideHailingEstimate;return"CAR"===n&&i?t.networks[0]:"CAR"===n&&a?a.provider.id:"BICYCLE"===n&&r&&t.networks?t.networks[0]:t.rentalVehicle?t.rentalVehicle.network:("MICROMOBILITY"===n||"SCOOTER"===n)&&o&&t.networks?t.networks[0]:null}function Mr(e){var t=[];return e.legs.forEach((function(e){var n=et.a.toGeoJSON(e.legGeometry.points).coordinates.map((function(e){return[e[1],e[0]]}));t=[].concat(L()(t),L()(n))})),t}function Nr(e){var t=et.a.toGeoJSON(e.legGeometry.points).coordinates.map((function(e){return[e[1],e[0]]}));return 0===t.length&&t.push([e.from.lat,e.from.lon],[e.to.lat,e.to.lon]),t}function jr(e,t){if(!e.legGeometry)return null;try{var n=et.a.toGeoJSON(e.legGeometry.points),r=Object(er.default)(n,t,{units:"meters"});if(r&&r.geometry&&r.geometry.coordinates)return[r.geometry.coordinates[1],r.geometry.coordinates[0]]}catch(e){}return null}function Lr(e,t){var n=0;e[0][0]>0&&e.unshift([0,null]);for(var r=1;r<e.length;r++){var i=e[r-1],o=e[r][0]-i[0];if(t>=n&&t<=n+o){if(null===i[1])return console.warn("Elevation value does not exist for distance.",t,n),null;var a=(t-n)/o,s=e[r][1]-i[1];return i[1]+s*a}n+=o}return console.warn("Elevation value does not exist for distance.",t,n),null}function Rr(e){return{distance:e.first,elevation:e.second}}function Dr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=1e5,r=-1e5,i=0,o=0,a=0,s=null,l=[];return e.forEach((function(e){var c,u=e.elevationProfile||Array.isArray(e.elevation)&&(null===(c=e.elevation)||void 0===c?void 0:c.map(Rr));if(u&&0!==u.length){for(var d=0;d<u.length;d++){var f=u[d];if(s){var p=(f.elevation-s.elevation)*t;p>0?o+=p:a+=p}0===d&&f.distance;var m=f.elevation*t;m<n&&(n=m),m>r&&(r=m),l.push([i+f.distance,f.elevation]),d===u.length-1&&(f.distance,e.distance),s=f}i+=e.distance}else i+=e.distance})),{maxElev:r,minElev:n,points:l,traversed:i,gain:o,loss:a}}function Pr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"22px Arial",n=Pr.canvas||(Pr.canvas=document.createElement("canvas")),r=n.getContext("2d");r.font=t;var i=r.measureText(e);return i.width}function Br(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t.find((function(t){return t.id===e}));return n||console.warn("No company found in config.yml that matches rented vehicle network: ".concat(e),t),n}function Fr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(Array.isArray(e)?e:[e]).map((function(e){return Br(e,t)})).filter((function(e){return!!e})).map((function(e){return e.label})).join("/")}function Ur(e,t){var n=e[t];return"".concat(n.lat.toFixed(5),",").concat(n.lon.toFixed(5))}function zr(e){var t=0,n=0;return e.legs.forEach((function(e){e.mode.startsWith("WALK")&&(t+=e.duration),e.mode.startsWith("BICYCLE")&&(n+=e.duration)})),{bikeDuration:n,caloriesBurned:t/3600*280+n/3600*290,walkDuration:t}}function Vr(e){return e.legs.filter((function(e){return"CAR"===e.mode&&e.rideHailingEstimate})).reduce((function(e,t){var n=e.maxTNCFare,r=e.minTNCFare,i=t.rideHailingEstimate,o=i.minPrice,a=i.maxPrice;return{currencyCode:o.currency.code,maxTNCFare:n+a.amount,minTNCFare:r+o.amount}}),{currencyCode:null,maxTNCFare:0,minTNCFare:0})}var Gr={walk:.026,bicycle:.017,car:.162,tram:.066,trolleybus:.066,subway:.066,rail:.066,bus:.09,ferry:.082,cable_car:.021,gondola:.021,funicular:.066,transit:.066,leg_switch:0,airplane:.382,micromobility:.095};function Hr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=nr(nr({},Gr),n),o=(null==e||null===(t=e.legs)||void 0===t?void 0:t.reduce((function(e,t){return(t.distance*i[t.mode.toLowerCase()]||0)+e}),0))||0;switch(r){case"ounce":return o/28.35;case"kilogram":return o/1e3;case"pound":return o/454;case"gram":default:return o}}function Wr(e){var t,n,r;return"stopId"in e?(r=e.stopCode,n=e.stopId):"id"in e&&(r=e.code,n=e.id),r||(null===(t=n)||void 0===t?void 0:t.split(":")[1])||n}function Yr(e,t,n){if(!e.fareProducts)return{price:void 0};var r=e.fareProducts.filter((function(e){var r=e.product;return(null===r.riderCategory?null:r.riderCategory.id)===n&&(null===r.medium?null:r.medium.id)===t})),i=r.find((function(e){return"rideCost"===e.product.name||"regular"===e.product.name})),o=r.find((function(e){return"transfer"===e.product.name}));return{price:null==i?void 0:i.product.price,transferAmount:null==o?void 0:o.product.price,productUseId:null==i?void 0:i.id}}function Qr(e,t,n){var r=e.filter((function(e){var t;return(null===(t=e.fareProducts)||void 0===t?void 0:t.length)>0})).map((function(e){return Yr(e,t,n)})).filter((function(e){return void 0!==e.price})).reduce((function(e,t){return e.some((function(e){return e.productUseId===t.productUseId}))||e.push({productUseId:t.productUseId,price:t.price}),e}),[]).map((function(e){return e.price}));if(0!==r.length)return r.reduce((function(e,t){var n;return{amount:e.amount+(null==t?void 0:t.amount)||0,currency:null!==(n=e.currency)&&void 0!==n?n:null==t?void 0:t.currency}}),{amount:0,currency:null})}var Zr=function(e){switch(e){case"COORDINATE_WITH_DRIVER":return"coordinateWithDriver";case"CALL_AGENCY":return"mustPhone";case"SCHEDULED":return"scheduled";case"NONE":return"none";default:return null}},Xr=function(e){var t,n,r,i,o,a,s,l,c,u,d,f,p,m,h,g;return nr(nr({},e),{},{agencyBrandingUrl:null===(t=e.agency)||void 0===t?void 0:t.url,agencyId:null===(n=e.agency)||void 0===n?void 0:n.id,agencyName:null===(r=e.agency)||void 0===r?void 0:r.name,agencyUrl:null===(i=e.agency)||void 0===i?void 0:i.url,alightRule:Zr(e.dropoffType),boardRule:Zr(e.pickupType),dropOffBookingInfo:{latestBookingTime:e.dropOffBookingInfo},from:nr(nr({},e.from),{},{stopCode:null===(o=e.from.stop)||void 0===o?void 0:o.code,stopId:null===(a=e.from.stop)||void 0===a?void 0:a.gtfsId}),route:null===(s=e.route)||void 0===s?void 0:s.shortName,routeColor:null===(l=e.route)||void 0===l?void 0:l.color,routeId:null===(c=e.route)||void 0===c?void 0:c.gtfsId,routeLongName:null===(u=e.route)||void 0===u?void 0:u.longName,routeShortName:null===(d=e.route)||void 0===d?void 0:d.shortName,routeTextColor:null===(f=e.route)||void 0===f?void 0:f.textColor,to:nr(nr({},e.to),{},{stopCode:null===(p=e.to.stop)||void 0===p?void 0:p.code,stopId:null===(m=e.to.stop)||void 0===m?void 0:m.gtfsId}),tripHeadsign:null===(h=e.trip)||void 0===h?void 0:h.tripHeadsign,tripId:null===(g=e.trip)||void 0===g?void 0:g.gtfsId})},Jr=function(e){var t=e.route,n=e.routeShortName;return"object"===_t()(t)?null==t?void 0:t.shortName:n||t},qr=function(e){var t=e.route,n=e.routeLongName;return"object"===_t()(t)?null==t?void 0:t.longName:n},Kr=function(e){return Jr(e)||qr(e)};function $r(e){return e.error||!e.coords?(console.warn("Cannot construct location from current position due to geolocation error or missing coordinates."),null):{lat:e.coords.latitude,lon:e.coords.longitude,category:"CURRENT_LOCATION"}}function ei(e){return e.length&&e.map((function(e){return(+e).toFixed(5)})).join(", ")}function ti(e){return e&&e.split(",").map((function(e){return+e}))||[]}function ni(e){return{lat:e.lat,lon:e.lng}}function ri(e,t){return e&&t?e.lat===t.lat&&e.lon===t.lon:e===t}function ii(e){return-1!==e.place_id.lastIndexOf("bicycle_rent_station")}function oi(e){return-1!==e.place_id.lastIndexOf("escooter_rent_station")}function ai(e){return-1!==e.place_id.lastIndexOf("itin_car_")}function si(e){return Number.isFinite(e)&&e>=-90&&e<=90}function li(e){return Number.isFinite(e)&&e>=-180&&e<=180}function ci(e){return Array.isArray(e)&&2===e.length&&si(e[0])&&li(e[1])}function ui(e){var t=[],n=[],r=e.otp.profile.filter((function(e,r){var i=e.access.map((function(e){return e.mode})).join("/");return e.transit&&(i+=" to ".concat(e.transit.map((function(e){return e.routes.map((function(e){return e.id})).join("/")})).join(","))),-1===t.indexOf(i)&&(t.push(i),n.push(r),!0)})),i=e.otp.journeys.filter((function(e,t){return-1!==n.indexOf(t)}));return e.otp.profile=r,e.otp.journeys=i,e}function di(e){return null==e?void 0:e.split(",")[0]}function fi(e,t,n){return{mode:e.mode,duration:e.time,transitLeg:!1,from:{name:di(t)},to:{name:di(n)}}}function pi(e,t){return e.map((function(e){return function(e,t){var n={duration:e.time,legs:[],walkTime:0,waitingTime:0};if(e.access&&e.access.length>0)if("BICYCLE_RENT"===e.access[0].mode){var r,i,o="WALK_ON",a=[],s=[],l=[],c=0,u=0;e.access[0].streetEdges.forEach((function(e){e.bikeRentalOffStation&&(o="WALK_OFF",i=e.bikeRentalOffStation.name),"WALK_ON"===o?(a.push(e),c+=e.distance):"BIKE"===o?s.push(e):"WALK_OFF"===o&&(l.push(e),u+=e.distance),e.bikeRentalOnStation&&(o="BIKE",r=e.bikeRentalOnStation.name)})),n.walkTime+=c+u,n.legs.push({mode:"WALK",duration:c,transitLeg:!1,from:{name:di(t&&t.from.name)},to:{name:r}}),n.legs.push({mode:"BICYCLE_RENT",duration:e.time-c-u,transitLeg:!1,from:{name:r},to:{name:i}}),n.legs.push({mode:"WALK",duration:u,transitLeg:!1,from:{name:i},to:{name:di(t&&t.to.name)}})}else n.legs.push(fi(e.access[0],t&&t.from.name,e.transit?null:t&&t.to.name)),"WALK"===e.access[0].mode&&(n.walkTime+=e.access[0].time);if(e.transit&&e.transit.forEach((function(e){n.legs.push({transitLeg:!0,mode:e.mode,from:{name:e.fromName},to:{name:e.toName},routes:e.routes,duration:e.rideStats.avg,averageWait:e.waitStats.avg}),n.waitingTime+=e.waitStats.avg})),e.egress&&e.egress.length>0){var d=e.transit?e.transit[e.transit.length-1].toName:null;n.legs.push(fi(e.egress[0],d,t&&t.to.name)),"WALK"===e.egress[0].mode&&(n.walkTime+=e.egress[0].time)}return n}(e,t)}))}var mi=n(74),hi=n.n(mi),gi=n(49),yi=n.n(gi),vi=n(369),bi=n(173),wi=n(264),xi=n(164),Ei=n.n(xi),_i=n(56),Ai=n.n(_i),Oi=n(165),Si=n.n(Oi),Ti=n(129),Ii="otp";function ki(e,t){window.localStorage.setItem("".concat(Ii,".").concat(e),JSON.stringify(t))}function Ci(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{t=window.localStorage.getItem("".concat(Ii,".").concat(e));var r=JSON.parse(t);return r||n}catch(e){return console.warn(e,t),n}}function Mi(e){window.localStorage.removeItem("".concat(Ii,".").concat(e))}function Ni(){return Math.random().toString(36).substr(2,9)}var ji=n(192),Li=n(154),Ri=n(43),Di="yyyy-MM-dd",Pi="HH:mm";function Bi(e){return{hours:Math.floor(e/3600),minutes:Math.floor(e/60)%60,seconds:e%60}}function Fi(e){var t;return(null==e||null===(t=e.dateTime)||void 0===t?void 0:t.timeFormat)||Pi}function Ui(e){var t;return(null==e||null===(t=e.dateTime)||void 0===t?void 0:t.dateFormat)||Di}function zi(e){var t;return(null==e||null===(t=e.dateTime)||void 0===t?void 0:t.longDateFormat)||"D MMMM YYYY"}function Vi(e,t){return e+((null==t?void 0:t.offset)||0)}function Gi(e,t){var n=Object(ji.a)(Object(Li.a)(new Date),{seconds:e});return Object(bi.a)(n,t)}function Hi(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Etc/Greenwich";return(null===(e=Intl)||void 0===e?void 0:e.DateTimeFormat().resolvedOptions().timeZone)||t}function Wi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hi();return Object(bi.a)(Object(Ri.utcToZonedTime)(Date.now(),e),Pi)}function Yi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hi();return Object(bi.a)(Object(Ri.utcToZonedTime)(Date.now(),e),Di)}function Qi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qi(Object(n),!0).forEach((function(t){D()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xi(e,t){if(!e)return null;var n=e.name||"".concat(t?"".concat(t," "):"","(").concat(e.lat,",").concat(e.lon,")");return"".concat(n,"::").concat(e.lat,",").concat(e.lon)}var Ji=Ci("defaultQuery",{}),qi=[{name:"from",routingTypes:["ITINERARY","PROFILE"],default:null,itineraryRewrite:function(e){return{fromPlace:Xi(e)}},profileRewrite:function(e){return{from:{lat:e.lat,lon:e.lon}}}},{name:"to",routingTypes:["ITINERARY","PROFILE"],default:null,itineraryRewrite:function(e){return{toPlace:Xi(e)}},profileRewrite:function(e){return{to:{lat:e.lat,lon:e.lon}}}},{name:"date",routingTypes:["ITINERARY","PROFILE"],default:Yi},{name:"time",routingTypes:["ITINERARY"],default:Wi},{name:"departArrive",routingTypes:["ITINERARY"],default:"NOW",itineraryRewrite:function(e){return{arriveBy:"ARRIVE"===e}}},{name:"startTime",routingTypes:["PROFILE"],default:"07:00"},{name:"endTime",routingTypes:["PROFILE"],default:"09:00"},{name:"mode",routingTypes:["ITINERARY","PROFILE"],default:"WALK,TRANSIT",profileRewrite:function(e){var t=[],n=[],r=[];return e&&e.length>0&&e.split(",").forEach((function(e){or(e)&&r.push(e),xr(e)&&(t.push(e),br(e)||n.push(e))})),{accessModes:t,directModes:n,transitModes:r}}},{name:"showIntermediateStops",routingTypes:["ITINERARY"],default:!0},{name:"maxWalkDistance",routingTypes:["ITINERARY"],applicable:function(e){return!e.otp2&&e.mode&&Er(e.mode)&&-1!==e.mode.indexOf("WALK")},default:1609,selector:"DROPDOWN",label:"Maximum Walk",options:[{text:"1/10 mile",value:160.9},{text:"1/4 mile",value:402.3},{text:"1/2 mile",value:804.7},{text:"3/4 mile",value:1207},{text:"1 mile",value:1609},{text:"2 miles",value:3219},{text:"5 miles",value:8047}]},{name:"maxBikeDistance",routingTypes:["ITINERARY"],applicable:function(e){return e.mode&&Er(e.mode)&&-1!==e.mode.indexOf("BICYCLE")},default:4828,selector:"DROPDOWN",label:"Maximum Bike",options:[{text:"1/4 mile",value:402.3},{text:"1/2 mile",value:804.7},{text:"3/4 mile",value:1207},{text:"1 mile",value:1609},{text:"2 miles",value:3219},{text:"3 miles",value:4828},{text:"5 miles",value:8047},{text:"10 miles",value:16093},{text:"20 miles",value:32187},{text:"30 miles",value:48280}],itineraryRewrite:function(e){return{maxWalkDistance:e,maxBikeDistance:e}}},{name:"optimize",applicable:function(){return!1},routingTypes:["ITINERARY"],default:"QUICK",selector:"DROPDOWN",label:"Optimize for",options:[{text:"Speed",value:"QUICK"},{text:"Fewest Transfers",value:"TRANSFERS"}]},{name:"optimizeBike",applicable:function(e){return!e.otp2&&Ar(e.mode)},routingTypes:["ITINERARY"],default:"SAFE",selector:"DROPDOWN",label:"Optimize for",options:function(){return[{text:"Speed",value:"QUICK"},{text:"Bike-Friendly Trip",value:"SAFE"},{text:"Flat Trip",value:"FLAT"}]},itineraryRewrite:function(e){return{optimize:e}}},{name:"maxWalkTime",routingTypes:["PROFILE"],default:15,selector:"DROPDOWN",label:"Max Walk Time",applicable:function(e){return e.mode&&Er(e.mode)&&-1!==e.mode.indexOf("WALK")},options:[{text:"5 minutes",value:5},{text:"10 minutes",value:10},{text:"15 minutes",value:15},{text:"20 minutes",value:20},{text:"30 minutes",value:30},{text:"45 minutes",value:45},{text:"1 hour",value:60}]},{name:"walkReluctance",routingTypes:["ITINERARY","PROFILE"],selector:"SLIDER",low:1,high:10,step:.5,label:"walk reluctance",labelLow:"More Walking",labelHigh:"More Transit",applicable:function(e){return!!e.otp2&&e.mode&&-1!==e.mode.indexOf("WALK")}},{name:"maxBikeTime",routingTypes:["PROFILE"],default:20,selector:"DROPDOWN",label:"Max Bike Time",applicable:function(e){return e.mode&&Er(e.mode)&&-1!==e.mode.indexOf("BICYCLE")},options:[{text:"5 minutes",value:5},{text:"10 minutes",value:10},{text:"15 minutes",value:15},{text:"20 minutes",value:20},{text:"30 minutes",value:30},{text:"45 minutes",value:45},{text:"1 hour",value:60}]},{name:"bikeSpeed",routingTypes:["ITINERARY","PROFILE"],default:3.58,selector:"DROPDOWN",label:"Bicycle Speed",applicable:function(e){return e.mode&&-1!==e.mode.indexOf("BICYCLE")},options:[{text:"6 MPH",value:2.68},{text:"8 MPH",value:3.58},{text:"10 MPH",value:4.47},{text:"12 MPH",value:5.36}]},{name:"maxEScooterDistance",routingTypes:["ITINERARY"],applicable:function(e){return e.mode&&Er(e.mode)&&Or(e.mode)},default:4828,selector:"DROPDOWN",label:"Maximum E-scooter Distance",options:[{text:"1/4 mile",value:402.3},{text:"1/2 mile",value:804.7},{text:"3/4 mile",value:1207},{text:"1 mile",value:1609},{text:"2 miles",value:3219},{text:"3 miles",value:4828},{text:"5 miles",value:8047},{text:"10 miles",value:16093},{text:"20 miles",value:32187},{text:"30 miles",value:48280}],itineraryRewrite:function(e){return{maxWalkDistance:e,maxEScooterDistance:e}}},{name:"watts",routingTypes:["ITINERARY","PROFILE"],default:250,selector:"DROPDOWN",label:"E-scooter Power",applicable:function(e){return e.mode&&-1!==e.mode.indexOf("MICROMOBILITY")&&-1===e.mode.indexOf("MICROMOBILITY_RENT")&&-1===e.mode.indexOf("SCOOTER")},options:[{text:"Kid's hoverboard (6mph)",value:125},{text:"Entry-level scooter (11mph)",value:250},{text:"Robust E-scooter (18mph)",value:500},{text:"Powerful E-scooter (24mph)",value:1500}],itineraryRewrite:function(e){var t,n,r=e;switch(r){case 125:t=2.8,n=99;break;case 250:t=5,n=102.5;break;case 500:t=8,n=120;break;case 1e3:t=11,n=111}return{maximumMicromobilitySpeed:t,watts:r,weight:n}}},{name:"ignoreRealtimeUpdates",routingTypes:["ITINERARY"],default:!1},{name:"companies",routingTypes:["ITINERARY"]},{name:"wheelchair",routingTypes:["ITINERARY","PROFILE"],default:!1,selector:"CHECKBOX",label:"Prefer Wheelchair Accessible Routes",icon:U.a.createElement(Ti.Wheelchair,null),applicable:function(e,t){if(!e.mode||!t.modes)return!1;var n=(t.modes.accessModes||[]).concat(t.modes.transitModes||[]);return e.mode.split(",").some((function(t){var r=n.find((function(e){return e.mode===t}));return!(!r||!r.showWheelchairSetting)&&!!(!r.company||e.companies&&e.companies.split(",").includes(r.company))}))}},{name:"bannedRoutes",routingTypes:["ITINERARY"]},{name:"numItineraries",routingTypes:["ITINERARY"],default:3},{name:"intermediatePlaces",default:[],routingTypes:["ITINERARY"],itineraryRewrite:function(e){return Array.isArray(e)&&e.length>0?{intermediatePlaces:e.map((function(e){return Xi(e)}))}:void 0}},{name:"otherThanPreferredRoutesPenalty",default:900,routingTypes:["ITINERARY"]},{name:"preferredRoutes",routingTypes:["ITINERARY"]},{name:"maxPreTransitTime",routingTypes:["ITINERARY"]},{name:"waitReluctance",routingTypes:["ITINERARY"]},{name:"driveDistanceReluctance",routingTypes:["ITINERARY"]},{name:"driveTimeReluctance",routingTypes:["ITINERARY"]},{name:"waitAtBeginningFactor",routingTypes:["ITINERARY"]},{name:"bikeSwitchTime",routingTypes:["ITINERARY"]},{name:"bikeSwitchCost",routingTypes:["ITINERARY"]},{name:"minTransferTime",routingTypes:["ITINERARY"]},{name:"preferredAgencies",routingTypes:["ITINERARY"]},{name:"unpreferredRoutes",routingTypes:["ITINERARY"]},{name:"unpreferredAgencies",routingTypes:["ITINERARY"]},{name:"walkBoardCost",routingTypes:["ITINERARY"]},{name:"bikeBoardCost",routingTypes:["ITINERARY"]},{name:"whiteListedRoutes",routingTypes:["ITINERARY"]},{name:"bannedAgencies",routingTypes:["ITINERARY"]},{name:"whiteListedAgencies",routingTypes:["ITINERARY"]},{name:"bannedTrips",routingTypes:["ITINERARY"]},{name:"bannedStops",routingTypes:["ITINERARY"]},{name:"bannedStopsHard",routingTypes:["ITINERARY"]},{name:"transferPenalty",routingTypes:["ITINERARY"]},{name:"nonpreferredTransferPenalty",routingTypes:["ITINERARY"]},{name:"maxTransfers",routingTypes:["ITINERARY"]},{name:"batch",routingTypes:["ITINERARY"]},{name:"startTransitStopId",routingTypes:["ITINERARY"]},{name:"startTransitTripId",routingTypes:["ITINERARY"]},{name:"clampInitialWait",routingTypes:["ITINERARY"]},{name:"reverseOptimizeOnTheFly",routingTypes:["ITINERARY"]},{name:"boardSlack",routingTypes:["ITINERARY"]},{name:"alightSlack",routingTypes:["ITINERARY"]},{name:"locale",routingTypes:["ITINERARY"]},{name:"disableRemainingWeightHeuristic",routingTypes:["ITINERARY"]},{name:"flexFlagStopBufferSize",routingTypes:["ITINERARY"]},{name:"flexUseReservationServices",routingTypes:["ITINERARY"]},{name:"flexUseEligibilityServices",routingTypes:["ITINERARY"]},{name:"flexIgnoreDrtAdvanceBookMin",routingTypes:["ITINERARY"]},{name:"maxHours",routingTypes:["ITINERARY"]},{name:"useRequestedDateTimeInMaxHours",routingTypes:["ITINERARY"]},{name:"disableAlertFiltering",routingTypes:["ITINERARY"]},{name:"geoidElevation",routingTypes:["ITINERARY"]},{name:"invalidDateStrategy",routingTypes:["ITINERARY"]},{name:"minTransitDistance",routingTypes:["ITINERARY"]},{name:"searchTimeout",routingTypes:["ITINERARY"]},{name:"pathComparator",routingTypes:["ITINERARY"]},{name:"onlyTransitTrips",routingTypes:["ITINERARY"]},{name:"minimumMicromobilitySpeed",routingTypes:["ITINERARY"]}];qi.forEach((function(e){e.name in Ji&&(e.default=Ji[e.name],e.userDefaultOverride=!0)}));var Ki=qi;function $i(e){if(!e)return qi;var t=Si()(qi);return Object.keys(e).forEach((function(n){var r=t.findIndex((function(e){return e.name===n}));-1!==r&&(t[r]=Zi(Zi({},t[r]),e[n]))})),t}function eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function to(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eo(Object(n),!0).forEach((function(t){D()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var no=["wheelchair","maxWalkDistance","walkReluctance","maxWalkTime","maxBikeDistance","maxBikeTime","bikeSpeed","optimize","optimizeBike","maxEScooterDistance","watts"],ro=["HH:mm:ss","HH:mm","H:mm","h:mm:ss a","h:mm:ssa","h:mm a","h:mma","h:mm","HHmm","hmm","ha"];function io(e,t,n){return"function"==typeof e[t]?e[t](n):e[t]}function oo(e){var t=e.filter((function(e){return xr(e)})).length;if(t>1){var n=e.find((function(e){return xr(e)}));e=e.filter((function(e){return!xr(e)||e===n}))}else 0===t&&e.push("WALK");return e}function ao(){return Ai.a.parse(window.location.href.split("?")[1])}function so(){return Object.keys(ao()).filter((function(e){return!e.startsWith("ui_")}))}function lo(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=to({},e);return delete n.time,delete n.departArrive,delete n.date,t||(delete n.from,delete n.to),n}function co(e){return"function"==typeof e.default?e.default():e.default}function uo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t={routingType:"ITINERARY"};return Ki.filter((function(e){return"default"in e})).forEach((function(e){t[e.name]=co(e)})),e&&(e.routingTypes&&e.routingTypes.length>0&&(t.routingType=e.routingTypes[0].key),e.defaultQueryParams&&Object.keys(e.defaultQueryParams).forEach((function(n){t[n]=e.defaultQueryParams[n]}))),t}function fo(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t?e.reduce((function(e,t){var n=e;return t.includes("FLEX")?n.includes("FLEX")||n.push("FLEX"):n.push(t),n}),[]):e}function po(e){return fo(e.split(",")).map((function(t){return"FLEX_EGRESS"!==t&&"FLEX_ACCESS"!==t&&"FLEX_DIRECT"!==t||!e.includes("FLEX")?"FLEX"===t?"FLEX_EGRESS,FLEX_ACCESS,FLEX_DIRECT":t:""})).join(",")}function mo(e,t){var n,r=fo(e.mode.split(",").sort(),null===(n=t.modes)||void 0===n?void 0:n.mergeFlex);if(2!==r.length||"TRANSIT"!==r[0]||"WALK"!==r[1]){var i=ir(t).concat(["WALK"]).sort();if(!(r.length===i.length&&r.every((function(e,t){return e===i[t]}))))return!0}for(var o=uo(t),a=function(n){var r=no[n];if(function(e,t,n){var r=e.applicable;return!(!e.routingTypes.includes(t.routingType)||"function"==typeof r&&!r(t,n))}(Ki.find((function(e){return e.name===r})),e,t)&&e[r]!==o[r])return{v:!0}},s=0;s<no.length;s++){var l=a(s);if("object"===_t()(l))return l.v}return!1}function ho(e,t){return go.apply(this,arguments)}function go(){return(go=hi()(yi.a.mark((function e(t,n){var r;return yi.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ei()(n),e.abrupt("return",r.search({text:t}).then((function(e){var t=e.features&&e.features[0];return t?r.getLocationFromGeocodedFeature(t):null})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yo(e){if(!e)return null;var t=e.split("::"),n=t[1]?ti(t[1]):ti(t[0]),r=t[1]?t[0]:ei(n);return 2===n.length?{name:r||null,lat:n[0]||null,lon:n[1]||null}:null}function vo(e,t){return bo.apply(this,arguments)}function bo(){return(bo=hi()(yi.a.mark((function e(t,n){var r;return yi.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=yo(t))||!t||!n){e.next=5;break}return e.next=4,ho(t,n);case 4:r=e.sent;case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wo(e){var t={};return Object.keys(e).forEach((function(n){switch(n){case"fromPlace":t.from=yo(e.fromPlace);break;case"toPlace":t.to=yo(e.toPlace);break;case"arriveBy":t.departArrive="true"===e.arriveBy?"ARRIVE":"false"===e.arriveBy?"DEPART":"NOW";break;case"date":t.date=e.date||Yi();break;case"time":var r=ro.find((function(t){return Object(vi.a)(e.time,t)}));t.time=r?Object(bi.a)(Object(wi.a)(e.time,r,new Date),Pi):Wi();break;case"intermediatePlaces":t.intermediatePlaces=e.intermediatePlaces?e.intermediatePlaces.map(yo):[];break;default:var i=Number(e[n]);t[n]=""===e[n]||Number.isNaN(i)?e[n]:i}})),t}function xo(e){return Eo.apply(this,arguments)}function Eo(){return(Eo=hi()(yi.a.mark((function e(t){var n,r,i=arguments;return yi.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:{},(r=wo(t)).from){e.next=6;break}return e.next=5,vo(t.fromPlace,n.geocoder);case 5:r.from=e.sent;case 6:if(r.to){e.next=10;break}return e.next=9,vo(t.toPlace,n.geocoder);case 9:r.to=e.sent;case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _o(e,t,n){var r,i=t.routingType,o="ITINERARY"===i,a={};if(Ki.filter((function(n){return-1!==n.routingTypes.indexOf(i)&&n.name in t&&("function"!=typeof n.applicable||n.applicable(t,e))})).forEach((function(e){var n=o?e.itineraryRewrite:e.profileRewrite;a=Object.assign(a,n?n(t[e.name]):D()({},e.name,t[e.name]))})),o){"boolean"==typeof n&&(a.ignoreRealtimeUpdates=n);var s=Object(vi.a)(a.date,Di),l=Object(vi.a)(a.time,Pi);s&&l||(delete a.time,delete a.date),a.mode&&(a.mode.includes("CAR_HAIL")||a.mode.includes("CAR_RENT"))&&(a.minTransitDistance="50%",a.searchTimeout=1e4),a.mode&&a.mode.includes("CAR_RENT")&&(a.onlyTransitTrips=!0)}else{var c=Object(vi.a)(a.startTime,Pi),u=Object(vi.a)(a.endTime,Pi);c&&u||(delete a.startTimeValid,delete a.endTimeValid)}if(_r(a.mode)&&(a.mode+=",WALK"),a.mode&&!1!==(null===(r=e.modes)||void 0===r?void 0:r.mergeFlex)){var d=fo(a.mode.split(",")).join(",");a.mode=po(d)}return a}var Ao=n(108),Oo=n.n(Ao);function So(e,t,n){return n.find((function(n){return n.feedId===e&&n.agencyId===t}))||null}function To(e,t){return e.routeId&&e.agencyId?So(e.routeId.split(":")[0],e.agencyId,t):null}function Io(e,t){if(!e.id)return null;var n,r=e.id.split(":")[0];if(e.agency)n=e.agency.id;else{if(!e.agencyId)return null;n=e.agencyId}return So(r,n,t)}var ko=999999999999;function Co(e,t){if(!t||0===t.length)return e.agency?e.agency.name:e.agencyName?e.agencyName:"zzz";var n=Io(e,t);return n&&"number"==typeof n.order?n.order:ko}function Mo(e,t,n){var r,i;return"function"==typeof e?(r=e(t),i=e(n)):(r=t,i=n),{aVal:r,bVal:i}}var No={SUBWAY:1,TRAM:2,TROLLEYBUS:9,RAIL:3,GONDOLA:4,FERRY:5,CABLE_CAR:6,FUNICULAR:7,BUS:8},jo={0:No.TRAM,1:No.SUBWAY,2:No.RAIL,3:No.BUS,4:No.FERRY,5:No.CABLE_CAR,6:No.GONDOLA,7:No.FUNICULAR,11:No.BUS,12:No.RAIL,13:No.TROLLEYBUS};function Lo(e){if(!e)throw new Error("Route is undefined. ".concat(e));return void 0!==No[e.mode]?No[e.mode]:void 0!==jo[e.type]?jo[e.type]:(console.warn("no mode/route type found for route",e),ko)}function Ro(e,t){return Lo(e)-Lo(t)}function Do(e){if("string"==typeof e&&e.length>0){var t=e.charCodeAt(0);return t>=65&&t<=90||t>=97&&t<=122}return!1}function Po(e,t){var n=Do(e.shortName),r=Do(t.shortName);return n&&r?0:n?-1:r?1:0}function Bo(e){return function(t,n){var r=Mo(e,t,n),i=r.aVal,o=r.bVal;return"number"!=typeof i||"number"!=typeof o||isNaN(i)&&isNaN(o)?0:isNaN(i)?1:isNaN(o)?-1:i-o}}function Fo(e){return function(t,n){var r=Mo(e,t,n),i=r.aVal,o=r.bVal;return i||o?i?o?i<o?-1:i>o?1:0:-1:1:0}}function Uo(e){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){for(var r=0;r<t.length;r++){var i=t[r](e,n);if(0!==i)return i}return 0}}(function(e){return function(t,n){var r=Co(t,e),i=Co(n,e);return"string"==typeof r?r<i?-1:r>i?1:0:r-i}}(e),Bo((function(e){return-999===(t=e.sortOrder)?void 0:t;var t})),Ro,Po,Bo((function(e){return parseInt(e.shortName,10)})),Fo((function(e){return e.shortName})),Fo((function(e){return e.longName})))}function zo(e,t){e||(e="#333333"),t||(t="#ffffff"),e.startsWith("#")||(e="#".concat(e)),t.startsWith("#")||(t="#".concat(t));var n=Oo()(t).luminance(),r=Oo()(e).luminance();return r+n<1.41&&r+n>.25&&Math.abs(r-n)>.2?t:Oo()(e).luminance()<.4?"#ffffff":"#000000"}function Vo(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function Go(e){var t=document.querySelector(e),n=null;function r(e){var r=e.targetTouches[0].clientY-n;0===t.scrollTop&&r>0&&e.preventDefault(),t.scrollHeight-t.scrollTop<=t.clientHeight&&r<0&&e.preventDefault()}t.addEventListener("touchstart",(function(e){1===e.targetTouches.length&&(n=e.targetTouches[0].clientY)}),!1),t.addEventListener("touchmove",(function(e){1===e.targetTouches.length&&r(e)}),!1)}var Ho=n(1059);function Wo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wo(Object(n),!0).forEach((function(t){D()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qo={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Plan"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"arriveBy"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"banned"}},type:{kind:"NamedType",name:{kind:"Name",value:"InputBanned"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"bikeReluctance"}},type:{kind:"NamedType",name:{kind:"Name",value:"Float"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"carReluctance"}},type:{kind:"NamedType",name:{kind:"Name",value:"Float"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"date"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fromPlace"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modes"}},type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"TransportMode"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"numItineraries"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"preferred"}},type:{kind:"NamedType",name:{kind:"Name",value:"InputPreferred"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"time"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"toPlace"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"unpreferred"}},type:{kind:"NamedType",name:{kind:"Name",value:"InputUnpreferred"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"walkReluctance"}},type:{kind:"NamedType",name:{kind:"Name",value:"Float"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"walkSpeed"}},type:{kind:"NamedType",name:{kind:"Name",value:"Float"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"wheelchair"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"plan"},arguments:[{kind:"Argument",name:{kind:"Name",value:"arriveBy"},value:{kind:"Variable",name:{kind:"Name",value:"arriveBy"}}},{kind:"Argument",name:{kind:"Name",value:"banned"},value:{kind:"Variable",name:{kind:"Name",value:"banned"}}},{kind:"Argument",name:{kind:"Name",value:"bikeReluctance"},value:{kind:"Variable",name:{kind:"Name",value:"bikeReluctance"}}},{kind:"Argument",name:{kind:"Name",value:"carReluctance"},value:{kind:"Variable",name:{kind:"Name",value:"carReluctance"}}},{kind:"Argument",name:{kind:"Name",value:"date"},value:{kind:"Variable",name:{kind:"Name",value:"date"}}},{kind:"Argument",name:{kind:"Name",value:"fromPlace"},value:{kind:"Variable",name:{kind:"Name",value:"fromPlace"}}},{kind:"Argument",name:{kind:"Name",value:"locale"},value:{kind:"StringValue",value:"en",block:!1}},{kind:"Argument",name:{kind:"Name",value:"numItineraries"},value:{kind:"Variable",name:{kind:"Name",value:"numItineraries"}}},{kind:"Argument",name:{kind:"Name",value:"preferred"},value:{kind:"Variable",name:{kind:"Name",value:"preferred"}}},{kind:"Argument",name:{kind:"Name",value:"time"},value:{kind:"Variable",name:{kind:"Name",value:"time"}}},{kind:"Argument",name:{kind:"Name",value:"toPlace"},value:{kind:"Variable",name:{kind:"Name",value:"toPlace"}}},{kind:"Argument",name:{kind:"Name",value:"transportModes"},value:{kind:"Variable",name:{kind:"Name",value:"modes"}}},{kind:"Argument",name:{kind:"Name",value:"unpreferred"},value:{kind:"Variable",name:{kind:"Name",value:"unpreferred"}}},{kind:"Argument",name:{kind:"Name",value:"walkReluctance"},value:{kind:"Variable",name:{kind:"Name",value:"walkReluctance"}}},{kind:"Argument",name:{kind:"Name",value:"walkSpeed"},value:{kind:"Variable",name:{kind:"Name",value:"walkSpeed"}}},{kind:"Argument",name:{kind:"Name",value:"wheelchair"},value:{kind:"Variable",name:{kind:"Name",value:"wheelchair"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"itineraries"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accessibilityScore"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"duration"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endTime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"legs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accessibilityScore"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"agency"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"alerts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"alertDescriptionText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertHeaderText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"effectiveStartDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"gtfsId"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"id"},name:{kind:"Name",value:"gtfsId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timezone"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"alerts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"alertDescriptionText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertHeaderText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"effectiveStartDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"arrivalDelay"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"departureDelay"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"distance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dropOffBookingInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contactInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bookingUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"infoUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phoneNumber"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"earliestBookingTime"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"daysPrior"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"latestBookingTime"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"daysPrior"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"dropoffType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"duration"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endTime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fareProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"product"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"medium"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"riderCategory"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DefaultFareProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"digits"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lat"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rentalVehicle"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"network"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stop"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"alerts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"alertDescriptionText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertHeaderText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"effectiveStartDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gtfsId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lat"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lon"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"vertexType"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"headsign"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"interlineWithPreviousLeg"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"intermediateStops"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lat"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"locationType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"stopCode"},name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"stopId"},name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"legGeometry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"length"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"points"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"mode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pickupBookingInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contactInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bookingUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"infoUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phoneNumber"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"earliestBookingTime"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"daysPrior"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"latestBookingTime"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"daysPrior"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pickupType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"realTime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"realtimeState"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rentedBike"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rideHailingEstimate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"arrival"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxPrice"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"minPrice"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"provider"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"route"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"alerts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"alertDescriptionText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertHeaderText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"effectiveStartDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gtfsId"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"id"},name:{kind:"Name",value:"gtfsId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shortName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"textColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"startTime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"steps"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"absoluteDirection"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alerts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"alertDescriptionText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertHeaderText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"effectiveStartDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"area"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"distance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"elevationProfile"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"distance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"elevation"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"lat"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"relativeDirection"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stayOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"streetName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lat"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rentalVehicle"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"network"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stop"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"alerts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"alertDescriptionText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertHeaderText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"effectiveStartDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gtfsId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lat"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lon"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"vertexType"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"transitLeg"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"trip"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"arrivalStoptime"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"stop"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"gtfsId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stopPosition"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"departureStoptime"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"stop"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"gtfsId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stopPosition"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"gtfsId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"startTime"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"transfers"},name:{kind:"Name",value:"numberOfTransfers"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"waitingTime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"walkTime"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"routingErrors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"inputField"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:5493,source:{body:'query Plan(\n  $arriveBy: Boolean\n  $banned: InputBanned\n  $bikeReluctance: Float\n  $carReluctance: Float\n  $date: String\n  $fromPlace: String!\n  $modes: [TransportMode]\n  $numItineraries: Int\n  $preferred: InputPreferred\n  $time: String\n  $toPlace: String!\n  $unpreferred: InputUnpreferred\n  $walkReluctance: Float\n  $walkSpeed: Float\n  $wheelchair: Boolean\n) {\n  plan(\n    arriveBy: $arriveBy\n    banned: $banned\n    bikeReluctance: $bikeReluctance\n    carReluctance: $carReluctance\n    date: $date\n    fromPlace: $fromPlace\n    # Currently only supporting EN locale, used for times and text\n    locale: "en"\n    numItineraries: $numItineraries\n    preferred: $preferred\n    time: $time\n    toPlace: $toPlace\n    transportModes: $modes\n    unpreferred: $unpreferred\n    walkReluctance: $walkReluctance\n    walkSpeed: $walkSpeed\n    wheelchair: $wheelchair\n  ) {\n    itineraries {\n      accessibilityScore\n      duration\n      endTime\n      legs {\n        accessibilityScore\n        agency {\n          alerts {\n            alertDescriptionText\n            alertHeaderText\n            alertUrl\n            effectiveStartDate\n            id\n          }\n          gtfsId\n          id: gtfsId\n          name\n          timezone\n          url\n        }\n        alerts {\n          alertDescriptionText\n          alertHeaderText\n          alertUrl\n          effectiveStartDate\n          id\n        }\n        arrivalDelay\n        departureDelay\n        distance\n        dropOffBookingInfo {\n          contactInfo {\n            bookingUrl\n            infoUrl\n            phoneNumber\n          }\n          earliestBookingTime {\n            daysPrior\n            time\n          }\n          latestBookingTime {\n            daysPrior\n            time\n          }\n          message\n        }\n        dropoffType\n        duration\n        endTime\n        fareProducts {\n          id\n          product {\n            __typename\n            id\n            medium {\n              id\n              name\n            }\n            name\n            riderCategory {\n              id\n              name\n            }\n            ... on DefaultFareProduct {\n              price {\n                amount\n                currency {\n                  code\n                  digits\n                }\n              }\n            }\n          }\n        }\n        from {\n          lat\n          lon\n          name\n          rentalVehicle {\n            id\n            network\n          }\n          stop {\n            alerts {\n              alertDescriptionText\n              alertHeaderText\n              alertUrl\n              effectiveStartDate\n              id\n            }\n            code\n            gtfsId\n            id\n            lat\n            lon\n          }\n          vertexType\n        }\n        headsign\n        interlineWithPreviousLeg\n        intermediateStops {\n          lat\n          locationType\n          lon\n          name\n          stopCode: code\n          stopId: id\n        }\n        legGeometry {\n          length\n          points\n        }\n        mode\n        pickupBookingInfo {\n          contactInfo {\n            bookingUrl\n            infoUrl\n            phoneNumber\n          }\n          earliestBookingTime {\n            daysPrior\n            time\n          }\n          latestBookingTime {\n            daysPrior\n            time\n          }\n          message\n        }\n        pickupType\n        realTime\n        realtimeState\n        rentedBike\n        rideHailingEstimate {\n          arrival\n          maxPrice {\n            amount\n            currency {\n              code\n            }\n          }\n          minPrice {\n            amount\n            currency {\n              code\n            }\n          }\n          provider {\n            id\n          }\n        }\n        route {\n          alerts {\n            alertDescriptionText\n            alertHeaderText\n            alertUrl\n            effectiveStartDate\n            id\n          }\n          color\n          gtfsId\n          id: gtfsId\n          longName\n          shortName\n          textColor\n          type\n        }\n        startTime\n        steps {\n          absoluteDirection\n          alerts {\n            alertDescriptionText\n            alertHeaderText\n            alertUrl\n            effectiveStartDate\n            id\n          }\n          area\n          distance\n          elevationProfile {\n            distance\n            elevation\n          }\n          lat\n          lon\n          relativeDirection\n          stayOn\n          streetName\n        }\n        to {\n          lat\n          lon\n          name\n          rentalVehicle {\n            id\n            network\n          }\n          stop {\n            alerts {\n              alertDescriptionText\n              alertHeaderText\n              alertUrl\n              effectiveStartDate\n              id\n            }\n            code\n            gtfsId\n            id\n            lat\n            lon\n          }\n          vertexType\n        }\n        transitLeg\n        trip {\n          arrivalStoptime {\n            stop {\n              gtfsId\n              id\n            }\n            stopPosition\n          }\n          departureStoptime {\n            stop {\n              gtfsId\n              id\n            }\n            stopPosition\n          }\n          gtfsId\n          id\n        }\n      }\n      startTime\n      transfers: numberOfTransfers\n      waitingTime\n      walkTime\n    }\n    routingErrors {\n      code\n      description\n      inputField\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}}}};function Zo(e,t){return e.reduce((function(e,n){if(!t.map((function(e){return e.mode})).includes(n.applicableMode))return e;if(("CHECKBOX"===n.type||"SUBMODE"===n.type)&&n.addTransportMode&&n.value){var r=Array.isArray(n.addTransportMode)?n.addTransportMode:[n.addTransportMode];return[].concat(L()(e),L()(r))}if("DROPDOWN"===n.type){var i,o=null===(i=n.options.find((function(e){return e.value===n.value})))||void 0===i?void 0:i.addTransportMode;if(o)return[].concat(L()(e),[o])}return e}),[])}var Xo={AIRPLANE:"TRANSIT",BICYCLE:"PERSONAL",BUS:"TRANSIT",CABLE_CAR:"TRANSIT",CAR:"CAR",FERRY:"TRANSIT",FLEX:"SHARED",FUNICULAR:"TRANSIT",GONDOLA:"TRANSIT",RAIL:"TRANSIT",MONORAIL:"TRANSIT",SCOOTER:"PERSONAL",SUBWAY:"TRANSIT",TROLLEYBUS:"TRANSIT",TRAM:"TRANSIT",TRANSIT:"TRANSIT",WALK:"WALK"},Jo=[["WALK"],["PERSONAL"],["TRANSIT","SHARED"],["WALK","SHARED"],["TRANSIT"],["TRANSIT","PERSONAL"],["TRANSIT","CAR"]],qo=["SCOOTER","BICYCLE","CAR"],Ko=Object.keys(Xo).filter((function(e){return"TRANSIT"===Xo[e]&&"TRANSIT"!==e})),$o=Object.keys(Xo).filter((function(e){return"TRANSIT"===Xo[e]}));function ea(e){var t,n=[].concat(L()(Zo(e.modeSettings,e.modes)),L()(e.modes)),r=n.filter((function(e){return Ko.includes(e.mode)})).map((function(e){return e.mode}));return(t=n,t?new Array(1<<t.length).fill(null).map((function(e,n){return t.filter((function(e,t){return n&1<<t}))})):[]).filter((function(e){return function(e,t){if(0===e.length)return!1;var n=Array.from(new Set(e.map((function(e){return e.qualifier?"SHARED":Xo[e.mode]}))));if(n.includes("TRANSIT")){if(t.length&&e.find((function(e){return"TRANSIT"===e.mode})))return!1;if(0!==e.reduce((function(e,n){return t.includes(n.mode)?e-1:e}),t.length))return!1}return!(qo.filter((function(t){return e.find((function(e){return e.mode===t}))})).length>1||!Jo.find((function(e){return n.every((function(t){return e.includes(t)}))&&e.every((function(e){return n.includes(e)}))})))}(e,r)})).map((function(t){return Yo(Yo({},e),{},{modes:t})}))}function ta(e){var t=e.arriveBy,n=e.banned,r=e.date,i=e.from,o=e.modes,a=e.modeSettings,s=e.numItineraries,l=e.preferred,c=e.time,u=e.to,d=e.unpreferred,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qo,p=a.reduce((function(e,t){var n;("SLIDER"===t.type&&t.inverseKey&&(e[t.inverseKey]=t.high-t.value+t.low),e[t.key]=t.value,"CHECKBOX"===t.type&&t.truthValue)&&(e[t.key]=!0===t.value?t.truthValue:null!==(n=t.falseValue)&&void 0!==n?n:null);return e}),{}),m=p.bikeReluctance,h=p.carReluctance,g=p.walkSpeed,y=p.walkReluctance,v=p.wheelchair;return{query:Object(Ho.a)(f),variables:{arriveBy:t,banned:n,bikeReluctance:m,carReluctance:h,date:r,fromPlace:"".concat(i.name,"::").concat(i.lat,",").concat(i.lon),modes:o,numItineraries:s,preferred:l,time:c,toPlace:"".concat(u.name,"::").concat(u.lat,",").concat(u.lon),unpreferred:d,walkReluctance:y,walkSpeed:g,wheelchair:v}}}var na={itinerary:a,map:s,profile:l,query:f,queryGen:h,queryParams:d,route:p,storage:c,time:u,ui:m},ra=Z.default.button.withConfig({displayName:"styled__ViewStopButton",componentId:"sc-12v7ov3-0"})(["background:none;border-bottom:none;border-left:1px solid #000;border-right:none;border-top:none;color:#008;font-family:inherit;margin-left:5px;padding-top:0;"]),ia=n(384),oa=n.n(ia);var aa=Object(H.flatten)(oa.a),sa=function(e,t){var n=e.lon,r=e.lat,i=e.x,o=e.y,a=r||o,s=n||i;return a&&s?{lat:a,lon:s,name:t}:null},la=function(e){var t=e.station;return U.a.createElement(o.PopupRow,null,U.a.createElement("div",null,U.a.createElement(Y.a,{defaultMessage:aa["otpUi.MapPopup.availableBikes"],description:"Label text for the number of bikes available",id:"otpUi.MapPopup.availableBikes",values:{value:t.bikesAvailable}})),U.a.createElement("div",null,U.a.createElement(Y.a,{defaultMessage:aa["otpUi.MapPopup.availableDocks"],description:"Label text for the number of docks available",id:"otpUi.MapPopup.availableDocks",values:{value:t.spacesAvailable}})))},ca=function(e){var t=e.id,n=e.setViewedStop;return U.a.createElement(o.PopupRow,null,U.a.createElement("strong",null,U.a.createElement(Y.a,{defaultMessage:aa["otpUi.MapPopup.stopId"],description:"Displays the stop id",id:"otpUi.MapPopup.stopId",values:{stopId:t}})),U.a.createElement(ra,{onClick:n},U.a.createElement(Y.a,{defaultMessage:aa["otpUi.MapPopup.stopViewer"],description:"Text for link that opens the stop viewer",id:"otpUi.MapPopup.stopViewer"})))};var ua=function(e){var t,n=e.closePopup,r=void 0===n?function(){}:n,i=e.configCompanies,a=e.entity,s=e.getEntityName,l=e.setLocation,c=e.setViewedStop,u=Object(Q.a)();if(!a)return U.a.createElement(U.a.Fragment,null);var d=(s||function(e,t){return function(n,r){var i,o="networks"in n&&(na.itinerary.getCompaniesLabelFromNetworks((null==n?void 0:n.networks)||[],r)||(null==n||null===(i=n.networks)||void 0===i?void 0:i[0])),a=n.name||n.id;return((a.match(/-/g)||[]).length>3||"Default vehicle type"===a)&&(a=null),"isFloatingBike"in n&&n.isFloatingBike?a=e.formatMessage({defaultMessage:t["otpUi.MapPopup.floatingBike"],description:"Popup title for a free-floating bike",id:"otpUi.MapPopup.floatingBike"},{name:a}):"isFloatingCar"in n&&n.isFloatingCar?a=e.formatMessage({defaultMessage:t["otpUi.MapPopup.floatingCar"],description:"Popup title for a free-floating car",id:"otpUi.MapPopup.floatingCar"},{company:o,name:a}):"isFloatingVehicle"in n&&n.isFloatingVehicle&&(a=e.formatMessage({defaultMessage:t["otpUi.MapPopup.floatingEScooter"],description:"Popup title for a free-floating e-scooter",id:"otpUi.MapPopup.floatingEScooter"},{name:a})),a}}(u,aa))(a,i),f="networks"in a&&(na.itinerary.getCompaniesLabelFromNetworks((null==a?void 0:a.networks)||[],i)||(null==a||null===(t=a.networks)||void 0===t?void 0:t[0])),p=function(e){return"bikesAvailable"in e}(a),m=p&&void 0!==(null==a?void 0:a.bikesAvailable)&&!(null!=a&&a.isFloatingBike),h=!p&&(null==a?void 0:a.code)||a.id.split(":")[1]||a.id,g="focus-".concat(encodeURIComponent(a.id).replace(/%/g,""),"-popup");return U.a.createElement(o.MapOverlayPopup,null,U.a.createElement(Hn,{closePopup:r,id:g},U.a.createElement(o.PopupTitle,null,U.a.createElement(Y.a,{defaultMessage:aa["otpUi.MapPopup.popupTitle"],description:"Text for title of the popup, contains an optional company name",id:"otpUi.MapPopup.popupTitle",values:{name:d,stationNetwork:f}})),m&&U.a.createElement(la,{station:a}),c&&!p&&U.a.createElement(ca,{id:h,setViewedStop:Object(F.useCallback)((function(){return c(a)}),[a])}),l&&U.a.createElement(o.PopupRow,null,U.a.createElement($n,{label:!0,location:sa(a,d),setLocation:l}))))},da=function(e){return"Polygon"===(null==e?void 0:e.type)||"GeometryCollection"===(null==e?void 0:e.type)};function fa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fa(Object(n),!0).forEach((function(t){D()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ma=function(e){var t=Object(k.i)().current,n=e.activeStop,r=e.color,i=e.highlightedStop,o=e.highlightedStopColor,a=e.minZoom,s=e.refreshStops,l=e.setLocation,c=e.setViewedStop,u=e.stops,d=e.visible,f=Object(F.useState)(null),p=B()(f,2),m=p[0],h=p[1],g=Object(F.useCallback)((function(){t.getCanvas().style.cursor="pointer"}),[t]),y=Object(F.useCallback)((function(){t.getCanvas().style.cursor=""}),[t]),v=Object(F.useCallback)((function(e){var t;h(null===(t=e.features)||void 0===t?void 0:t[0].properties)}),[h]),b=Object(F.useCallback)((function(e){e.viewState.zoom<a&&h(null)}),[h,a]);Object(F.useEffect)((function(){h(n)}),[n]),Object(F.useEffect)((function(){var e=["stops","flex-stops"];return e.forEach((function(e){null==t||t.on("mouseenter",e,g),null==t||t.on("mouseleave",e,y),null==t||t.on("click",e,v)})),d&&s&&s(),null==t||t.on("zoomend",b),function(){e.forEach((function(e){null==t||t.off("mouseenter",e,g),null==t||t.off("mouseleave",e,y),null==t||t.off("click",e,v)})),null==t||t.off("zoomend",b)}}),[t,d]);var w=Object(F.useCallback)((function(){h(null)}),[m]),x=Object(F.useMemo)((function(){return u.filter((function(e){var t;return da(null==e||null===(t=e.geometries)||void 0===t?void 0:t.geoJson)}))}),[u]),E=Object(F.useMemo)((function(){return{type:"FeatureCollection",features:u.map((function(e){var t;return{type:"Feature",properties:pa(pa({},e),{},{flex:da(null==e||null===(t=e.geometries)||void 0===t?void 0:t.geoJson),highlighted:e.id===i}),geometry:{type:"Point",coordinates:[e.lon,e.lat]}}}))}}),[u,i]);return!1!==d&&u&&0!==u.length?U.a.createElement(U.a.Fragment,null,U.a.createElement(k.h,{type:"geojson",data:E},U.a.createElement(k.b,{id:"stops",minzoom:a||10,paint:{"circle-color":r||"#fff","circle-opacity":.9,"circle-stroke-color":r?"#fff":"#333","circle-stroke-width":2},type:"circle"}),U.a.createElement(k.b,{filter:["==","highlighted",!0],id:"higlightedStop",paint:{"circle-color":o||"#ff0000","circle-opacity":1,"circle-radius":10,"circle-stroke-color":r?"#fff":"#333","circle-stroke-width":2},type:"circle"}),U.a.createElement(k.b,{filter:["==","flex",!0],id:"flex-stops",paint:{"circle-color":["get","color"],"circle-opacity":.9,"circle-stroke-color":"#333","circle-stroke-width":2},type:"circle"})),m&&U.a.createElement(Wn,{latitude:m.lat,longitude:m.lon,maxWidth:"100%",onClose:w},U.a.createElement(ua,{entity:m,setLocation:function(e){w(),l(e)},setViewedStop:function(e){w(),c(e)}})),x.map((function(e){return U.a.createElement(k.h,{data:e.geometries.geoJson,id:e.id,key:e.id,type:"geojson"},U.a.createElement(k.b,{id:e.id,paint:{"fill-color":e.color,"fill-opacity":.5,"fill-outline-color":e.color},type:"fill"}),U.a.createElement(k.b,{id:"".concat(e.id,"-outline"),layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":e.color,"line-opacity":1,"line-width":4},type:"line"}))}))):U.a.createElement(U.a.Fragment,null)},ha={refreshStops:pe.z,setLocation:ve.e,setViewedStop:be.p},ga=Object(I.c)((function(e){var t,n=e.otp.ui,r=n.highlightedStop,i=n.mainPanelContent,o=n.viewedRoute||{},a=o.patternId,s=o.routeId,l=(null===(t=e.otp.transitIndex.routes)||void 0===t?void 0:t[s])||{},c=l.patterns,u=l.v2,d=15,f=[];if(i!==ye.a.ROUTE_VIEWER&&i!==ye.a.PATTERN_VIEWER||!c)f=e.otp.overlay.transit.stops;else{var p={};if(u&&!a)Object.values(c).forEach((function(e){var t,n;null==e||null===(t=e.stops)||void 0===t||null===(n=t.filter((function(e){var t,n;return"Polygon"===(null===(t=e.geometries)||void 0===t||null===(n=t.geoJson)||void 0===n?void 0:n.type)})))||void 0===n||n.forEach((function(e){return p[e.id]=e}))}));else if(a){var m,h;null==c||null===(m=c[a])||void 0===m||null===(h=m.stops)||void 0===h||h.forEach((function(e){return p[e.id]=e}))}f=Object.values(p),d=2}return{highlightedStop:r,highlightedStopColor:getComputedStyle(document.documentElement).getPropertyValue("--main-base-color"),minZoom:d,stops:f}}),ha)(ma),ya=n(295),va=Object(M.c)(Object(I.c)((function(e,t){var n=e.otp.config.map.transitive||{},r=n.labeledModes,i=n.styles,o=e.otp.ui.viewedRoute;return null!==e.otp.ui.mainPanelContent&&o?{}:{activeLeg:Object(he.getActiveLeg)(e),labeledModes:r,styles:i,transitiveData:Object(he.getTransitiveData)(e,t)}}))(ya.a)),ba=n(6),wa=n(125),xa=n.n(wa),Ea=function(e){return e.foregroundColor};var _a=Z.default.div.withConfig({displayName:"styled__Circle",componentId:"sc-wxby8t-0"})(["background:#eee;border:2px solid #333;border-radius:10000px;cursor:default;height:15px;line-height:15px;padding:15px;position:relative;text-align:center;transition:all 0.2s ease-in-out;width:15px;"]),Aa=(Object(Z.default)(_a).withConfig({displayName:"styled__RotatingCircle",componentId:"sc-wxby8t-1"})(["transform:rotate(","deg);"],(function(e){return e.vehicle.heading||0})),Z.default.div.withConfig({displayName:"styled__Caret",componentId:"sc-wxby8t-2"})(["height:100%;left:0;position:absolute;top:0;transform:rotate(","deg);width:100%;&::before{border-bottom:","px solid #333;border-left:","px solid transparent;border-right:",'px solid transparent;content:"";height:0;left:50%;margin-left:',"px;position:absolute;top:0px;width:0;}"],(function(e){return e.rotate||0}),5,6,6,-6)),Oa=Object(Z.default)(Aa).withConfig({displayName:"styled__InnerCaret",componentId:"sc-wxby8t-3"})([""]),Sa=Object(Z.default)(Aa).withConfig({displayName:"styled__OuterCaret",componentId:"sc-wxby8t-4"})(["&::before{top:","px;}"],-5),Ta=Object(Z.css)(["background:",";color:",";& svg path,& svg text{fill:",";}","{&::before{border-bottom-color:",";}}"],(function(e){return e.backgroundColor}),Ea,Ea,Oa,Ea);var Ia=xa()((function(e,t,n){return Object(Z.default)(e).withConfig({displayName:"styled",componentId:"sc-wxby8t-6"})(["height:","px;line-height:","px;padding:","px;width:","px;"],n,n,t,n)}));function ka(e,t){var n="inner"===(null==t?void 0:t.position),r=(null==t?void 0:t.height)||5,i=((null==t?void 0:t.width)||12)/2,o=(null==t?void 0:t.offset)||0,a=n?Oa:Sa,s=null!=t&&t.height||o?Object(Z.default)(a).withConfig({displayName:"WithCaret__SizedCaret",componentId:"sc-1th2rf7-0"})(["&::before{border-bottom-width:","px;border-left-width:","px;border-right-width:","px;margin-left:-","px;top:-","px;}"],Math.max(0,r),i,i,i,o+(n?0:r)):a;return function(t){var n=t.className,r=t.children,i=t.style,o=t.vehicle;return U.a.createElement(e,{className:n,style:i,vehicle:o},r,null!==o.heading&&void 0!==o.heading&&U.a.createElement(s,{rotate:o.heading}))}}function Ca(e){var t=e.vehicle.routeShortName,n=(null==t?void 0:t.length)||0,r=Math.max(8*n,20);return t?U.a.createElement("svg",{viewBox:"0 0 ".concat(r," ").concat(r)},U.a.createElement("text",{textAnchor:"middle",x:"50%",y:r/2+4.5},t)):U.a.createElement(U.a.Fragment,null,"")}function Ma(e){var t=e.defaultMode,n=e.ModeIcon,r=e.vehicle;return n({mode:r.routeType||t})||U.a.createElement(Ca,{vehicle:r})}var Na=n(385),ja=n.n(Na),La=W()(ja.a);function Ra(e){var t=e.seconds;return U.a.createElement(Y.a,{defaultMessage:La["otpUi.TransitVehicleOverlay.durationWithSeconds"],description:"Formats a duration in hours, minutes, and seconds",id:"otpUi.TransitVehicleOverlay.durationWithSeconds",values:V.default.time.toHoursMinutesSeconds(t)})}var Da=Z.default.span.withConfig({displayName:"VehicleTooltip__Title",componentId:"sc-57cvce-0"})(["font-size:110%;font-weight:bold;"]);function Pa(e){var t=e.vehicle,n=t.routeShortName,r=t.routeLongName,i=t.routeType,o=t.seconds,a=n||r,s=U.a.createElement(U.a.Fragment,null,a);return(null==a?void 0:a.length)<=5&&(s=U.a.createElement(Y.a,{defaultMessage:La["otpUi.TransitVehicleOverlay.routeTitle"],description:"Formats a route title",id:"otpUi.TransitVehicleOverlay.routeTitle",values:{name:a,type:i||U.a.createElement(Y.a,{defaultMessage:La["otpUi.TransitVehicleOverlay.transitLine"],description:"Generic transit line",id:"otpUi.TransitVehicleOverlay.transitLine"})}})),o?U.a.createElement(Y.a,{defaultMessage:La["otpUi.TransitVehicleOverlay.defaultTooltip"],description:"Realtime vehicle info shown in a tooltip",id:"otpUi.TransitVehicleOverlay.defaultTooltip",values:{duration:U.a.createElement(Ra,{seconds:o}),route:U.a.createElement(Da,null,s)}}):s}var Ba=ka(_a,{offset:3.75}),Fa=function(e){var t=e.defaultMode,n=void 0===t?"bus":t,r=e.IconContainer,i=void 0===r?Ba:r,o=e.iconPadding,a=void 0===o?2:o,s=e.iconPixels,l=void 0===s?20:s,c=e.maxVehicleAge,u=void 0===c?1/0:c,d=e.ModeIcon,f=e.TooltipSlot,p=void 0===f?Pa:f,m=e.VehicleIcon,h=void 0===m?Ma:m,g=e.vehicles,y=Date.now()/1e3,v=null==g?void 0:g.filter((function(e){return!(null==e||!e.lat)&&!(null==e||!e.lon)&&y-((null==e?void 0:e.lastUpdated)||y)<u}));if(!v||0===v.length)return null;var b=Ia(i,a,l);return null==v?void 0:v.map((function(e){return U.a.createElement(N.a,{key:e.vehicleId,popupProps:{offset:[-l/2-a,0]},position:[e.lat,e.lon],tooltipContents:(e.routeShortName||e.routeLongName)&&U.a.createElement(p,{vehicle:e})},U.a.createElement(b,{vehicle:e},U.a.createElement(h,{defaultMode:n,ModeIcon:d,vehicle:e})))}))},Ua=n(2),za=n.n(Ua),Va=function(e){var t=e.stop;switch(e.stopStatus){case"incoming_at":return U.a.createElement(Y.a,{id:"components.TransitVehicleOverlay.incoming_at",values:{stop:t}});case"in_transit_to":return U.a.createElement(Y.a,{id:"components.TransitVehicleOverlay.in_transit_to",values:{stop:t}});case"stopped_at":return U.a.createElement(Y.a,{id:"components.TransitVehicleOverlay.stopped_at",values:{stop:t}});default:return null}};Va.propTypes={stop:za.a.string.isRequired,stopStatus:za.a.string.isRequired},Va.defaultProps={stop:"",stopStatus:""};var Ga=Va;function Ha(e){var t,n,r,i=e.intl,o=e.vehicle,a=null==o||null===(t=o.vehicleId)||void 0===t||null===(n=t.split(":"))||void 0===n?void 0:n[1],s=a||(null==o?void 0:o.vehicleId);null!==s&&((null===(r=s)||void 0===r?void 0:r.length)<=5||a||(null==o?void 0:o.vehicleId))?s=i.formatMessage({id:"components.TransitVehicleOverlay.vehicleName"},{vehicleNumber:s}):(null==o?void 0:o.label)&&(s=null==o?void 0:o.label);var l=(null==o?void 0:o.stopStatus)||"in_transit_to";return U.a.createElement(U.a.Fragment,null,U.a.createElement("div",null,U.a.createElement("strong",null,s)),U.a.createElement("div",null,Object(it.c)(i.formatMessage({id:"common.time.durationAgo"},{duration:Object(ot.b)(Math.floor(Date.now()/1e3-(null==o?void 0:o.seconds)),i,!0)}))),"STOPPED_AT"!==l&&(null==o?void 0:o.speed)>0&&U.a.createElement("div",null,U.a.createElement(Y.a,{id:"components.TransitVehicleOverlay.travelingAt",values:{milesPerHour:U.a.createElement(ba.FormattedNumber,{style:"unit",unit:"mile-per-hour",value:Math.round(o.speed)})}})),(null==o?void 0:o.nextStopName)&&U.a.createElement("div",null,U.a.createElement(Ga,{stop:o.nextStopName,stopStatus:l.toLowerCase()})))}var Wa,Ya,Qa,Za=ka(_a,{height:5,offset:1.5,width:10}),Xa=(Wa=Za,Qa="onhover"===(null==(Ya={alphaHex:"aa",display:"onhover"})?void 0:Ya.display)?Object(Z.css)(["&:hover{","}"],Ta):Ta,Object(Z.default)(Wa).attrs(function(e){var t=(null==e?void 0:e.defaultColor)||"#9999ee";return function(n){var r=n.vehicle.routeColor||t;return{backgroundColor:"".concat(r).concat((null==e?void 0:e.alphaHex)||""),foregroundColor:V.default.route.getMostReadableTextColor(r)}}}(Ya)).withConfig({displayName:"styled",componentId:"sc-wxby8t-5"})(["",""],Qa)),Ja=Object(I.c)((function(e){var t,n,r,i,o,a,s,l,c,u=e.otp.ui.viewedRoute,d=null===(t=e.otp.transitIndex)||void 0===t||null===(n=t.routes)||void 0===n?void 0:n[null==u?void 0:u.routeId],f=!1===(null===(r=e.otp.config)||void 0===r||null===(i=r.routeViewer)||void 0===i?void 0:i.vehicleIconHighlight)?Za:Xa,p=[];(null==u?void 0:u.routeId)&&(p=null==d||null===(c=d.vehicles)||void 0===c?void 0:c.map((function(e){return e.routeType=null==d?void 0:d.mode,e.routeColor=d.color&&!d.color.includes("#")?"#"+d.color:(null==d?void 0:d.color)||Oe.c,e.routeShortName=e.routeShortName||(null==d?void 0:d.shortName),e.routeLongName=e.routeLongName||(null==d?void 0:d.longName),e.textColor=null==d?void 0:d.routeTextColor,e.lastUpdated=null==e?void 0:e.seconds,e})),u.patternId&&p&&(p=p.filter((function(e){return e.patternId===u.patternId}))));return{color:(null==d?void 0:d.color)?"#"+d.color:null,IconContainer:f,iconPadding:null===(o=e.otp.config)||void 0===o||null===(a=o.routeViewer)||void 0===a?void 0:a.vehicleIconPadding,maxVehicleAge:null===(s=e.otp.config)||void 0===s||null===(l=s.routeViewer)||void 0===l?void 0:l.maxRealtimeVehicleAge,TooltipSlot:Object(M.c)(Ha),vehicles:p}}),{})(Fa);Object(Z.default)(k.g).withConfig({displayName:"styled__Popup",componentId:"sc-12kjso7-0"})(["& > .maplibregl-popup-content,& > .mapboxgl-popup-content{border-radius:10px;box-shadow:0 3px 14px 4px rgb(0 0 0 / 20%);}"]),Z.default.div.withConfig({displayName:"styled__MapOverlayPopup",componentId:"sc-12kjso7-1"})(["font-size:12px;line-height:1.5;min-width:250px;"]),Z.default.p.withConfig({displayName:"styled__PopupRow",componentId:"sc-12kjso7-2"})(["margin-top:6px;"]),Z.default.header.withConfig({displayName:"styled__PopupTitle",componentId:"sc-12kjso7-3"})(["font-size:18px;font-weight:500;margin-bottom:6px;"]),Z.default.div.withConfig({displayName:"styled__LeafletStyleMarker",componentId:"sc-12kjso7-4"})(["background:","50;border-radius:","px;border:","px solid ",';content:"";cursor:pointer;display:block;height:',"px;width:","px;"],(function(e){return(null==e?void 0:e.color)||"#0000ff"}),(function(e){return(null==e?void 0:e.size)||10}),(function(e){return(null==e?void 0:e.stroke)||2}),(function(e){return(null==e?void 0:e.strokeColor)||"".concat(null==e?void 0:e.color,"f0")||"#0000fffo"}),(function(e){return(null==e?void 0:e.size)||10}),(function(e){return(null==e?void 0:e.size)||10})),Z.default.aside.withConfig({displayName:"styled__LayerSelector",componentId:"sc-12kjso7-5"})(['display:flex;justify-content:end;margin:10px;position:relative;right:0;top:0;&:not(:last-of-type){display:none;}.layers-list{background:rgba(255,255,255,0.95);list-style-type:none;padding:1em;position:absolute;right:0;z-index:1000;label{display:block;height:0;overflow:hidden;width:0;input{margin-right:1ch;}}&::after{display:block;content:"";cursor:pointer;}&:hover,&.fake-mobile-hover{box-shadow:0px -1px 15px -3px rgba(0,0,0,0.1);label{height:unset;overflow:unset;width:unset;}li:first-child{margin-right:2em;}&::after{display:none;}}}']),Z.default.div.withConfig({displayName:"styled__StoryMapContainer",componentId:"sc-12kjso7-6"})(["height:90vh;"]);function qa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,n=e.getCanvas(),r=e.getPixelRatio(),i=n.width*t/r,o=n.height*t/r;return{bottom:o,left:i,right:i,top:o}}function Ka(e,t){e.fitBounds(t,{duration:500,padding:qa(e)}),e.triggerRepaint()}var $a={50:"#ECECEC",100:"#D9D9D9",200:"#C5C5C5",300:"#B3B3B3",400:"#9F9F9F",500:"#8C8C8C",600:"#797979",700:"#666666",800:"#535353",900:"#404040"};Z.default.button.withConfig({displayName:"styled__DropdownButton",componentId:"sc-kes9ha-0"})(['background:#fff;border:1px solid black;border-radius:5px;color:inherit;padding:5px 7px;transition:all 0.1s ease-in-out;span.caret{border-left:4px solid transparent;border-right:4px solid transparent;border-top:4px solid;color:inherit;display:inline-block;height:0;margin-left:5px;vertical-align:middle;width:0;}&:hover,&[aria-expanded="true"]{background:',";color:black;cursor:pointer;}"],$a[50]),Z.default.div.withConfig({displayName:"styled__DropdownMenu",componentId:"sc-kes9ha-1"})(["background-clip:padding-box;background-color:#fff;border-radius:4px;border:1px solid rgba(0,0,0,0.15);box-shadow:0 6px 12px rgba(0,0,0,0.175);color:#333;list-style:none;margin:2px 0 0;min-width:160px;padding:5px 0;position:absolute;"," top:100%;width:100%;z-index:1000;hr{margin:0;padding:0;}a,button{background:transparent;border:none;cursor:pointer;padding:5px 15px;text-align:start;width:100%;&:hover{background:",";}}"],(function(e){return e.alignLeft?"left: 0;":"right: 0;"}),$a[50]),Z.default.span.withConfig({displayName:"styled__DropdownWrapper",componentId:"sc-kes9ha-2"})(["float:",";position:relative;"],(function(e){return e.pullRight?"right":"left"}));var es=function(e){var t=e.path,n=e.tripData,r=e.visible;if(!n)return null;var i=n.geometry;if(!i)return null;var o=et.a.decode(i.points).map((function(e){return e.reverse()})),a=Object(F.useMemo)((function(){return o.reduce((function(e,t){return e.extend(t)}),new At.LngLatBounds(o[0],o[0]))}),[o]),s=Object(k.i)().current;if(Object(F.useEffect)((function(){s&&4===a.length&&a.every(Number.isFinite)&&g.fitMapBounds(s,a)}),[s,a]),!r||!o)return null;var l={type:"Feature",geometry:{type:"LineString",coordinates:o},properties:[]};return U.a.createElement(k.h,{id:"route",type:"geojson",data:l},U.a.createElement(k.b,{id:"route",layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":(null==t?void 0:t.color)||"#00bfff","line-opacity":(null==t?void 0:t.opacity)||.6,"line-width":(null==t?void 0:t.weight)||8},type:"line"}))},ts=Object(I.c)((function(e,t){var n=e.otp.ui.viewedTrip;return{tripData:n?e.otp.transitIndex.trips[n.tripId]:null,visible:!0}}),{})(es),ns=Object(Z.default)(k.g).withConfig({displayName:"styled__Popup",componentId:"sc-12kjso7-0"})(["& > .maplibregl-popup-content,& > .mapboxgl-popup-content{border-radius:10px;box-shadow:0 3px 14px 4px rgb(0 0 0 / 20%);}"]),rs=Z.default.div.withConfig({displayName:"styled__MapOverlayPopup",componentId:"sc-12kjso7-1"})(["font-size:12px;line-height:1.5;min-width:250px;"]),is=Z.default.p.withConfig({displayName:"styled__PopupRow",componentId:"sc-12kjso7-2"})(["margin-top:6px;"]),os=Z.default.header.withConfig({displayName:"styled__PopupTitle",componentId:"sc-12kjso7-3"})(["font-size:18px;font-weight:500;margin-bottom:6px;"]),as=Z.default.div.withConfig({displayName:"styled__LeafletStyleMarker",componentId:"sc-12kjso7-4"})(["background:","50;border-radius:","px;border:","px solid ",';content:"";cursor:pointer;display:block;height:',"px;width:","px;"],(function(e){return(null==e?void 0:e.color)||"#0000ff"}),(function(e){return(null==e?void 0:e.size)||10}),(function(e){return(null==e?void 0:e.stroke)||2}),(function(e){return(null==e?void 0:e.strokeColor)||"".concat(null==e?void 0:e.color,"f0")||"#0000fffo"}),(function(e){return(null==e?void 0:e.size)||10}),(function(e){return(null==e?void 0:e.size)||10})),ss=Z.default.aside.withConfig({displayName:"styled__LayerSelector",componentId:"sc-12kjso7-5"})(['display:flex;justify-content:end;margin:10px;position:relative;right:0;top:0;&:not(:last-of-type){display:none;}.layers-list{background:rgba(255,255,255,0.95);list-style-type:none;padding:1em;position:absolute;right:0;z-index:1000;label{display:block;height:0;overflow:hidden;width:0;input{margin-right:1ch;}}&::after{display:block;content:"";cursor:pointer;}&:hover,&.fake-mobile-hover{box-shadow:0px -1px 15px -3px rgba(0,0,0,0.1);label{height:unset;overflow:unset;width:unset;}li:first-child{margin-right:2em;}&::after{display:none;}}}']),ls=Z.default.div.withConfig({displayName:"styled__StoryMapContainer",componentId:"sc-12kjso7-6"})(["height:90vh;"]);var cs={50:"#ECECEC",100:"#D9D9D9",200:"#C5C5C5",300:"#B3B3B3",400:"#9F9F9F",500:"#8C8C8C",600:"#797979",700:"#666666",800:"#535353",900:"#404040"};function us(e){var t=Array.from(document.querySelectorAll(e));return{entries:t,firstElement:t[0],lastElement:t[t.length-1]}}function ds(e,t){var n=us(e),r=n.entries,i=n.firstElement;if(t===n.lastElement)return i;var o=r.indexOf(t);return r[o+1]}function fs(e,t){var n=us(e),r=n.entries,i=n.firstElement,o=n.lastElement;if(t===i)return o;var a=r.indexOf(t);return r[a-1]}Z.default.button.withConfig({displayName:"styled__DropdownButton",componentId:"sc-kes9ha-0"})(['background:#fff;border:1px solid black;border-radius:5px;color:inherit;padding:5px 7px;transition:all 0.1s ease-in-out;span.caret{border-left:4px solid transparent;border-right:4px solid transparent;border-top:4px solid;color:inherit;display:inline-block;height:0;margin-left:5px;vertical-align:middle;width:0;}&:hover,&[aria-expanded="true"]{background:',";color:black;cursor:pointer;}"],cs[50]),Z.default.div.withConfig({displayName:"styled__DropdownMenu",componentId:"sc-kes9ha-1"})(["background-clip:padding-box;background-color:#fff;border-radius:4px;border:1px solid rgba(0,0,0,0.15);box-shadow:0 6px 12px rgba(0,0,0,0.175);color:#333;list-style:none;margin:2px 0 0;min-width:160px;padding:5px 0;position:absolute;"," top:100%;width:100%;z-index:1000;hr{margin:0;padding:0;}a,button{background:transparent;border:none;cursor:pointer;padding:5px 15px;text-align:start;width:100%;&:hover{background:",";}}"],(function(e){return e.alignLeft?"left: 0;":"right: 0;"}),cs[50]),Z.default.span.withConfig({displayName:"styled__DropdownWrapper",componentId:"sc-kes9ha-2"})(["float:",";position:relative;"],(function(e){return e.pullRight?"right":"left"}));var ps=function(e){var t=e.children,n=e.closePopup,r=void 0===n?null:n,i=e.focusElements,o=void 0===i?["button","a","input","select"]:i,a=e.id,s=o.map((function(e){return"#".concat(a,"-focus-trap ").concat(e,":not([disabled])")})).join(", "),l=Object(F.useCallback)((function(e){var t=e.target;switch(e.key){case"Escape":r();break;case"Tab":var n,i;if(e.preventDefault(),e.shiftKey)null===(n=fs(s,t))||void 0===n||n.focus();else null===(i=ds(s,t))||void 0===i||i.focus()}}),[r]);return U.a.createElement("div",{id:"".concat(a,"-focus-trap"),onKeyDown:l,role:"presentation"},t)},ms=function(e){var t=e.children,n=e.popupContents,r=e.popupProps,i=e.position,o=e.tooltipContents,a=Object(F.useState)(!1),s=B()(a,2),l=s[0],c=s[1],u=Object(F.useState)(!1),d=B()(u,2),f=d[0],p=d[1];return U.a.createElement(k.e,{latitude:i[0],longitude:i[1],onClick:function(){return c(!0)},style:{cursor:n?"pointer":"inherit"}},U.a.createElement("span",{onMouseEnter:function(){return p(!0)},onMouseLeave:function(){return p(!1)}},t||U.a.createElement(as,null)),f&&o&&U.a.createElement(ns,xt()({},r,{anchor:"right",closeButton:!1,closeOnClick:!1,latitude:i[0],longitude:i[1]}),o),l&&n&&U.a.createElement(ns,xt()({},r,{latitude:i[0],longitude:i[1],maxWidth:"100%",onClose:function(){return c(!1)}}),U.a.createElement(ps,{closePopup:function(){return c(!1)},id:"map-popup"},n)))};var hs=ns,gs=Z.default.span.withConfig({displayName:"styled__LocationPickerSpan",componentId:"sc-vb4790-0"})([":first-of-type{border-left:none;}"]),ys=Z.default.span.withConfig({displayName:"styled__FromToPickerSpan",componentId:"sc-vb4790-1"})(["> *{padding-left:0.4em;border-left:1px solid black;}"]),vs=Z.default.button.withConfig({displayName:"styled__Button",componentId:"sc-vb4790-2"})(["background:none;border:none;color:navy;font-family:inherit;font-size:inherit;line-height:inherit;padding-left:0.2em;:hover{text-decoration:underline;cursor:pointer;}"]),bs=n(386),ws=n.n(bs),xs="0.9em",Es=W()(ws.a),_s=function(e){var t=e.label,n=void 0===t?null:t,r=e.location,i=void 0===r?null:r,o=e.onFromClick,a=void 0===o?null:o,s=e.onToClick,l=void 0===s?null:s,c=e.setLocation,u=void 0===c?null:c,d=e.showIcons,f=void 0===d||d,p=!0===n?U.a.createElement("strong",null,U.a.createElement(Y.a,{defaultMessage:Es["otpUi.FromToLocationPicker.planATrip"],description:"Label to prompt the user to plan a trip",id:"otpUi.FromToLocationPicker.planATrip"})):n;return U.a.createElement(U.a.Fragment,null,p,U.a.createElement(ys,null,U.a.createElement(gs,null,f&&U.a.createElement(Bt.default,{type:"from",size:xs}),U.a.createElement(vs,{onClick:function(){a?a():u({location:i,locationType:"from",reverseGeocode:!1})}},U.a.createElement(Y.a,{defaultMessage:Es["otpUi.FromToLocationPicker.from"],description:"Text for the 'from' button of the picker",id:"otpUi.FromToLocationPicker.from"}))),U.a.createElement(gs,null,f&&U.a.createElement(Bt.default,{type:"to",size:xs}),U.a.createElement(vs,{onClick:function(){l?l():u({location:i,locationType:"to",reverseGeocode:!1})}},U.a.createElement(Y.a,{defaultMessage:Es["otpUi.FromToLocationPicker.to"],description:"Text for the 'to' button of the picker",id:"otpUi.FromToLocationPicker.to"})))))};function As(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Os(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?As(Object(n),!0).forEach((function(t){D()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):As(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ss=["TRAM","TROLLEYBUS","BUS","SUBWAY","FERRY","RAIL","GONDOLA"];function Ts(e){return e&&e.modes&&e.modes.transitModes?e.modes.transitModes.map((function(e){return"string"!=typeof e?e.mode:e})):Ss}function Is(e){return Ss.includes(e)||"TRANSIT"===e}function ks(e){return"mustPhone"===(null==e?void 0:e.boardRule)||"mustPhone"===(null==e?void 0:e.alightRule)}function Cs(e){return"coordinateWithDriver"===(null==e?void 0:e.boardRule)||"coordinateWithDriver"===(null==e?void 0:e.alightRule)}function Ms(e){var t,n;return null!==(null==e||null===(t=e.stop)||void 0===t?void 0:t.geometries)&&void 0!==(null==e||null===(n=e.stop)||void 0===n?void 0:n.geometries)}function Ns(e){return Ms(null==e?void 0:e.to)}function js(e){return Ms(null==e?void 0:e.from)}function Ls(e){return Ns(e)||js(e)}function Rs(e){var t;return(null==e||null===(t=e.latestBookingTime)||void 0===t?void 0:t.daysPrior)>0}function Ds(e){return Rs(null==e?void 0:e.dropOffBookingInfo)}function Ps(e){return ks(e)||Cs(e)||Ds(e)||Rs(null==e?void 0:e.pickupBookingInfo)||Ls(e)}function Bs(e){var t,n;return!(null===(t=e.rideHailingEstimate)||void 0===t||null===(n=t.provider)||void 0===n||!n.id)}function Fs(e){return!!e&&"WALK"===e}function Us(e){return!!e&&"BICYCLE"===e}function zs(e){return!!e&&"BICYCLE_RENT"===e}function Vs(e){return!!e&&e.startsWith("CAR")}function Gs(e){return!!e&&(e.startsWith("MICROMOBILITY")||e.startsWith("SCOOTER"))}function Hs(e){return Fs(e)||Us(e)||zs(e)||Vs(e)||Gs(e)}function Ws(e){return e.split(",").some((function(e){return Is(e)}))}function Ys(e){return e.split(",").some((function(e){return Vs(e)}))}function Qs(e){return e.split(",").some((function(e){return Us(e)||zs(e)}))}function Zs(e){return e.split(",").some((function(e){return Gs(e)}))}function Xs(e){return e.split(",").some((function(e){return e.indexOf("_HAIL")>-1}))}function Js(e){return e.split(",").some((function(e){return e.indexOf("_RENT")>-1}))}function qs(e){return"WALK"===(e=e||this.get("mode"))?"#444":"BICYCLE"===e?"#0073e5":"SUBWAY"===e?"#e60000":"RAIL"===e?"#b00":"BUS"===e||"TROLLEYBUS"===e?"#080":"TRAM"===e?"#800":"FERRY"===e?"#008":"CAR"===e?"#444":"MICROMOBILITY"===e||"SCOOTER"===e?"#f5a729":"#aaa"}function Ks(e){return null==e?"":(e=String(e)).charAt(0).toUpperCase()+e.substr(1).toLowerCase()}function $s(e){if(!e)return null;var t=e.from,n=e.mode,r=e.rentedBike,i=e.rentedCar,o=e.rentedVehicle,a=e.rideHailingEstimate;return"CAR"===n&&i?t.networks[0]:"CAR"===n&&a?a.provider.id:"BICYCLE"===n&&r&&t.networks?t.networks[0]:t.rentalVehicle?t.rentalVehicle.network:("MICROMOBILITY"===n||"SCOOTER"===n)&&o&&t.networks?t.networks[0]:null}function el(e){var t=[];return e.legs.forEach((function(e){var n=et.a.toGeoJSON(e.legGeometry.points).coordinates.map((function(e){return[e[1],e[0]]}));t=[].concat(L()(t),L()(n))})),t}function tl(e){var t=et.a.toGeoJSON(e.legGeometry.points).coordinates.map((function(e){return[e[1],e[0]]}));return 0===t.length&&t.push([e.from.lat,e.from.lon],[e.to.lat,e.to.lon]),t}function nl(e,t){if(!e.legGeometry)return null;try{var n=et.a.toGeoJSON(e.legGeometry.points),r=Object(er.default)(n,t,{units:"meters"});if(r&&r.geometry&&r.geometry.coordinates)return[r.geometry.coordinates[1],r.geometry.coordinates[0]]}catch(e){}return null}function rl(e,t){var n=0;e[0][0]>0&&e.unshift([0,null]);for(var r=1;r<e.length;r++){var i=e[r-1],o=e[r][0]-i[0];if(t>=n&&t<=n+o){if(null===i[1])return console.warn("Elevation value does not exist for distance.",t,n),null;var a=(t-n)/o,s=e[r][1]-i[1];return i[1]+s*a}n+=o}return console.warn("Elevation value does not exist for distance.",t,n),null}function il(e){return{distance:e.first,elevation:e.second}}function ol(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=1e5,r=-1e5,i=0,o=0,a=0,s=null,l=[];return e.forEach((function(e){var c,u=e.elevationProfile||Array.isArray(e.elevation)&&(null===(c=e.elevation)||void 0===c?void 0:c.map(il));if(u&&0!==u.length){for(var d=0;d<u.length;d++){var f=u[d];if(s){var p=(f.elevation-s.elevation)*t;p>0?o+=p:a+=p}0===d&&f.distance;var m=f.elevation*t;m<n&&(n=m),m>r&&(r=m),l.push([i+f.distance,f.elevation]),d===u.length-1&&(f.distance,e.distance),s=f}i+=e.distance}else i+=e.distance})),{maxElev:r,minElev:n,points:l,traversed:i,gain:o,loss:a}}function al(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"22px Arial",n=al.canvas||(al.canvas=document.createElement("canvas")),r=n.getContext("2d");r.font=t;var i=r.measureText(e);return i.width}function sl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t.find((function(t){return t.id===e}));return n||console.warn("No company found in config.yml that matches rented vehicle network: ".concat(e),t),n}function ll(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(Array.isArray(e)?e:[e]).map((function(e){return sl(e,t)})).filter((function(e){return!!e})).map((function(e){return e.label})).join("/")}function cl(e,t){var n=e[t];return"".concat(n.lat.toFixed(5),",").concat(n.lon.toFixed(5))}function ul(e){var t=0,n=0;return e.legs.forEach((function(e){e.mode.startsWith("WALK")&&(t+=e.duration),e.mode.startsWith("BICYCLE")&&(n+=e.duration)})),{bikeDuration:n,caloriesBurned:t/3600*280+n/3600*290,walkDuration:t}}function dl(e){return e.legs.filter((function(e){return"CAR"===e.mode&&e.rideHailingEstimate})).reduce((function(e,t){var n=e.maxTNCFare,r=e.minTNCFare,i=t.rideHailingEstimate,o=i.minPrice,a=i.maxPrice;return{currencyCode:o.currency.code,maxTNCFare:n+a.amount,minTNCFare:r+o.amount}}),{currencyCode:null,maxTNCFare:0,minTNCFare:0})}var fl={walk:.026,bicycle:.017,car:.162,tram:.066,trolleybus:.066,subway:.066,rail:.066,bus:.09,ferry:.082,cable_car:.021,gondola:.021,funicular:.066,transit:.066,leg_switch:0,airplane:.382,micromobility:.095};function pl(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=Os(Os({},fl),n),o=(null==e||null===(t=e.legs)||void 0===t?void 0:t.reduce((function(e,t){return(t.distance*i[t.mode.toLowerCase()]||0)+e}),0))||0;switch(r){case"ounce":return o/28.35;case"kilogram":return o/1e3;case"pound":return o/454;case"gram":default:return o}}function ml(e){var t,n,r;return"stopId"in e?(r=e.stopCode,n=e.stopId):"id"in e&&(r=e.code,n=e.id),r||(null===(t=n)||void 0===t?void 0:t.split(":")[1])||n}function hl(e,t,n){if(!e.fareProducts)return{price:void 0};var r=e.fareProducts.filter((function(e){var r=e.product;return(null===r.riderCategory?null:r.riderCategory.id)===n&&(null===r.medium?null:r.medium.id)===t})),i=r.find((function(e){return"rideCost"===e.product.name||"regular"===e.product.name})),o=r.find((function(e){return"transfer"===e.product.name}));return{price:null==i?void 0:i.product.price,transferAmount:null==o?void 0:o.product.price,productUseId:null==i?void 0:i.id}}function gl(e,t,n){var r=e.filter((function(e){var t;return(null===(t=e.fareProducts)||void 0===t?void 0:t.length)>0})).map((function(e){return hl(e,t,n)})).filter((function(e){return void 0!==e.price})).reduce((function(e,t){return e.some((function(e){return e.productUseId===t.productUseId}))||e.push({productUseId:t.productUseId,price:t.price}),e}),[]).map((function(e){return e.price}));if(0!==r.length)return r.reduce((function(e,t){var n;return{amount:e.amount+(null==t?void 0:t.amount)||0,currency:null!==(n=e.currency)&&void 0!==n?n:null==t?void 0:t.currency}}),{amount:0,currency:null})}var yl=function(e){switch(e){case"COORDINATE_WITH_DRIVER":return"coordinateWithDriver";case"CALL_AGENCY":return"mustPhone";case"SCHEDULED":return"scheduled";case"NONE":return"none";default:return null}},vl=function(e){var t,n,r,i,o,a,s,l,c,u,d,f,p,m,h,g;return Os(Os({},e),{},{agencyBrandingUrl:null===(t=e.agency)||void 0===t?void 0:t.url,agencyId:null===(n=e.agency)||void 0===n?void 0:n.id,agencyName:null===(r=e.agency)||void 0===r?void 0:r.name,agencyUrl:null===(i=e.agency)||void 0===i?void 0:i.url,alightRule:yl(e.dropoffType),boardRule:yl(e.pickupType),dropOffBookingInfo:{latestBookingTime:e.dropOffBookingInfo},from:Os(Os({},e.from),{},{stopCode:null===(o=e.from.stop)||void 0===o?void 0:o.code,stopId:null===(a=e.from.stop)||void 0===a?void 0:a.gtfsId}),route:null===(s=e.route)||void 0===s?void 0:s.shortName,routeColor:null===(l=e.route)||void 0===l?void 0:l.color,routeId:null===(c=e.route)||void 0===c?void 0:c.gtfsId,routeLongName:null===(u=e.route)||void 0===u?void 0:u.longName,routeShortName:null===(d=e.route)||void 0===d?void 0:d.shortName,routeTextColor:null===(f=e.route)||void 0===f?void 0:f.textColor,to:Os(Os({},e.to),{},{stopCode:null===(p=e.to.stop)||void 0===p?void 0:p.code,stopId:null===(m=e.to.stop)||void 0===m?void 0:m.gtfsId}),tripHeadsign:null===(h=e.trip)||void 0===h?void 0:h.tripHeadsign,tripId:null===(g=e.trip)||void 0===g?void 0:g.gtfsId})},bl=function(e){var t=e.route,n=e.routeShortName;return"object"===_t()(t)?null==t?void 0:t.shortName:n||t},wl=function(e){var t=e.route,n=e.routeLongName;return"object"===_t()(t)?null==t?void 0:t.longName:n},xl=function(e){return bl(e)||wl(e)};function El(e){return e.error||!e.coords?(console.warn("Cannot construct location from current position due to geolocation error or missing coordinates."),null):{lat:e.coords.latitude,lon:e.coords.longitude,category:"CURRENT_LOCATION"}}function _l(e){return e.length&&e.map((function(e){return(+e).toFixed(5)})).join(", ")}function Al(e){return e&&e.split(",").map((function(e){return+e}))||[]}function Ol(e){return{lat:e.lat,lon:e.lng}}function Sl(e,t){return e&&t?e.lat===t.lat&&e.lon===t.lon:e===t}function Tl(e){return-1!==e.place_id.lastIndexOf("bicycle_rent_station")}function Il(e){return-1!==e.place_id.lastIndexOf("escooter_rent_station")}function kl(e){return-1!==e.place_id.lastIndexOf("itin_car_")}function Cl(e){return Number.isFinite(e)&&e>=-90&&e<=90}function Ml(e){return Number.isFinite(e)&&e>=-180&&e<=180}function Nl(e){return Array.isArray(e)&&2===e.length&&Cl(e[0])&&Ml(e[1])}function jl(e){var t=[],n=[],r=e.otp.profile.filter((function(e,r){var i=e.access.map((function(e){return e.mode})).join("/");return e.transit&&(i+=" to ".concat(e.transit.map((function(e){return e.routes.map((function(e){return e.id})).join("/")})).join(","))),-1===t.indexOf(i)&&(t.push(i),n.push(r),!0)})),i=e.otp.journeys.filter((function(e,t){return-1!==n.indexOf(t)}));return e.otp.profile=r,e.otp.journeys=i,e}function Ll(e){return null==e?void 0:e.split(",")[0]}function Rl(e,t,n){return{mode:e.mode,duration:e.time,transitLeg:!1,from:{name:Ll(t)},to:{name:Ll(n)}}}function Dl(e,t){return e.map((function(e){return function(e,t){var n={duration:e.time,legs:[],walkTime:0,waitingTime:0};if(e.access&&e.access.length>0)if("BICYCLE_RENT"===e.access[0].mode){var r,i,o="WALK_ON",a=[],s=[],l=[],c=0,u=0;e.access[0].streetEdges.forEach((function(e){e.bikeRentalOffStation&&(o="WALK_OFF",i=e.bikeRentalOffStation.name),"WALK_ON"===o?(a.push(e),c+=e.distance):"BIKE"===o?s.push(e):"WALK_OFF"===o&&(l.push(e),u+=e.distance),e.bikeRentalOnStation&&(o="BIKE",r=e.bikeRentalOnStation.name)})),n.walkTime+=c+u,n.legs.push({mode:"WALK",duration:c,transitLeg:!1,from:{name:Ll(t&&t.from.name)},to:{name:r}}),n.legs.push({mode:"BICYCLE_RENT",duration:e.time-c-u,transitLeg:!1,from:{name:r},to:{name:i}}),n.legs.push({mode:"WALK",duration:u,transitLeg:!1,from:{name:i},to:{name:Ll(t&&t.to.name)}})}else n.legs.push(Rl(e.access[0],t&&t.from.name,e.transit?null:t&&t.to.name)),"WALK"===e.access[0].mode&&(n.walkTime+=e.access[0].time);if(e.transit&&e.transit.forEach((function(e){n.legs.push({transitLeg:!0,mode:e.mode,from:{name:e.fromName},to:{name:e.toName},routes:e.routes,duration:e.rideStats.avg,averageWait:e.waitStats.avg}),n.waitingTime+=e.waitStats.avg})),e.egress&&e.egress.length>0){var d=e.transit?e.transit[e.transit.length-1].toName:null;n.legs.push(Rl(e.egress[0],d,t&&t.to.name)),"WALK"===e.egress[0].mode&&(n.walkTime+=e.egress[0].time)}return n}(e,t)}))}var Pl="otp";function Bl(e,t){window.localStorage.setItem("".concat(Pl,".").concat(e),JSON.stringify(t))}function Fl(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{t=window.localStorage.getItem("".concat(Pl,".").concat(e));var r=JSON.parse(t);return r||n}catch(e){return console.warn(e,t),n}}function Ul(e){window.localStorage.removeItem("".concat(Pl,".").concat(e))}function zl(){return Math.random().toString(36).substr(2,9)}var Vl="yyyy-MM-dd",Gl="HH:mm";function Hl(e){return{hours:Math.floor(e/3600),minutes:Math.floor(e/60)%60,seconds:e%60}}function Wl(e){var t;return(null==e||null===(t=e.dateTime)||void 0===t?void 0:t.timeFormat)||Gl}function Yl(e){var t;return(null==e||null===(t=e.dateTime)||void 0===t?void 0:t.dateFormat)||Vl}function Ql(e){var t;return(null==e||null===(t=e.dateTime)||void 0===t?void 0:t.longDateFormat)||"D MMMM YYYY"}function Zl(e,t){return e+((null==t?void 0:t.offset)||0)}function Xl(e,t){var n=Object(ji.a)(Object(Li.a)(new Date),{seconds:e});return Object(bi.a)(n,t)}function Jl(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Etc/Greenwich";return(null===(e=Intl)||void 0===e?void 0:e.DateTimeFormat().resolvedOptions().timeZone)||t}function ql(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jl();return Object(bi.a)(Object(Ri.utcToZonedTime)(Date.now(),e),Gl)}function Kl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jl();return Object(bi.a)(Object(Ri.utcToZonedTime)(Date.now(),e),Vl)}function $l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ec(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$l(Object(n),!0).forEach((function(t){D()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tc(e,t){if(!e)return null;var n=e.name||"".concat(t?"".concat(t," "):"","(").concat(e.lat,",").concat(e.lon,")");return"".concat(n,"::").concat(e.lat,",").concat(e.lon)}var nc=Fl("defaultQuery",{}),rc=[{name:"from",routingTypes:["ITINERARY","PROFILE"],default:null,itineraryRewrite:function(e){return{fromPlace:tc(e)}},profileRewrite:function(e){return{from:{lat:e.lat,lon:e.lon}}}},{name:"to",routingTypes:["ITINERARY","PROFILE"],default:null,itineraryRewrite:function(e){return{toPlace:tc(e)}},profileRewrite:function(e){return{to:{lat:e.lat,lon:e.lon}}}},{name:"date",routingTypes:["ITINERARY","PROFILE"],default:Kl},{name:"time",routingTypes:["ITINERARY"],default:ql},{name:"departArrive",routingTypes:["ITINERARY"],default:"NOW",itineraryRewrite:function(e){return{arriveBy:"ARRIVE"===e}}},{name:"startTime",routingTypes:["PROFILE"],default:"07:00"},{name:"endTime",routingTypes:["PROFILE"],default:"09:00"},{name:"mode",routingTypes:["ITINERARY","PROFILE"],default:"WALK,TRANSIT",profileRewrite:function(e){var t=[],n=[],r=[];return e&&e.length>0&&e.split(",").forEach((function(e){Is(e)&&r.push(e),Hs(e)&&(t.push(e),Vs(e)||n.push(e))})),{accessModes:t,directModes:n,transitModes:r}}},{name:"showIntermediateStops",routingTypes:["ITINERARY"],default:!0},{name:"maxWalkDistance",routingTypes:["ITINERARY"],applicable:function(e){return!e.otp2&&e.mode&&Ws(e.mode)&&-1!==e.mode.indexOf("WALK")},default:1609,selector:"DROPDOWN",label:"Maximum Walk",options:[{text:"1/10 mile",value:160.9},{text:"1/4 mile",value:402.3},{text:"1/2 mile",value:804.7},{text:"3/4 mile",value:1207},{text:"1 mile",value:1609},{text:"2 miles",value:3219},{text:"5 miles",value:8047}]},{name:"maxBikeDistance",routingTypes:["ITINERARY"],applicable:function(e){return e.mode&&Ws(e.mode)&&-1!==e.mode.indexOf("BICYCLE")},default:4828,selector:"DROPDOWN",label:"Maximum Bike",options:[{text:"1/4 mile",value:402.3},{text:"1/2 mile",value:804.7},{text:"3/4 mile",value:1207},{text:"1 mile",value:1609},{text:"2 miles",value:3219},{text:"3 miles",value:4828},{text:"5 miles",value:8047},{text:"10 miles",value:16093},{text:"20 miles",value:32187},{text:"30 miles",value:48280}],itineraryRewrite:function(e){return{maxWalkDistance:e,maxBikeDistance:e}}},{name:"optimize",applicable:function(){return!1},routingTypes:["ITINERARY"],default:"QUICK",selector:"DROPDOWN",label:"Optimize for",options:[{text:"Speed",value:"QUICK"},{text:"Fewest Transfers",value:"TRANSFERS"}]},{name:"optimizeBike",applicable:function(e){return!e.otp2&&Qs(e.mode)},routingTypes:["ITINERARY"],default:"SAFE",selector:"DROPDOWN",label:"Optimize for",options:function(){return[{text:"Speed",value:"QUICK"},{text:"Bike-Friendly Trip",value:"SAFE"},{text:"Flat Trip",value:"FLAT"}]},itineraryRewrite:function(e){return{optimize:e}}},{name:"maxWalkTime",routingTypes:["PROFILE"],default:15,selector:"DROPDOWN",label:"Max Walk Time",applicable:function(e){return e.mode&&Ws(e.mode)&&-1!==e.mode.indexOf("WALK")},options:[{text:"5 minutes",value:5},{text:"10 minutes",value:10},{text:"15 minutes",value:15},{text:"20 minutes",value:20},{text:"30 minutes",value:30},{text:"45 minutes",value:45},{text:"1 hour",value:60}]},{name:"walkReluctance",routingTypes:["ITINERARY","PROFILE"],selector:"SLIDER",low:1,high:10,step:.5,label:"walk reluctance",labelLow:"More Walking",labelHigh:"More Transit",applicable:function(e){return!!e.otp2&&e.mode&&-1!==e.mode.indexOf("WALK")}},{name:"maxBikeTime",routingTypes:["PROFILE"],default:20,selector:"DROPDOWN",label:"Max Bike Time",applicable:function(e){return e.mode&&Ws(e.mode)&&-1!==e.mode.indexOf("BICYCLE")},options:[{text:"5 minutes",value:5},{text:"10 minutes",value:10},{text:"15 minutes",value:15},{text:"20 minutes",value:20},{text:"30 minutes",value:30},{text:"45 minutes",value:45},{text:"1 hour",value:60}]},{name:"bikeSpeed",routingTypes:["ITINERARY","PROFILE"],default:3.58,selector:"DROPDOWN",label:"Bicycle Speed",applicable:function(e){return e.mode&&-1!==e.mode.indexOf("BICYCLE")},options:[{text:"6 MPH",value:2.68},{text:"8 MPH",value:3.58},{text:"10 MPH",value:4.47},{text:"12 MPH",value:5.36}]},{name:"maxEScooterDistance",routingTypes:["ITINERARY"],applicable:function(e){return e.mode&&Ws(e.mode)&&Zs(e.mode)},default:4828,selector:"DROPDOWN",label:"Maximum E-scooter Distance",options:[{text:"1/4 mile",value:402.3},{text:"1/2 mile",value:804.7},{text:"3/4 mile",value:1207},{text:"1 mile",value:1609},{text:"2 miles",value:3219},{text:"3 miles",value:4828},{text:"5 miles",value:8047},{text:"10 miles",value:16093},{text:"20 miles",value:32187},{text:"30 miles",value:48280}],itineraryRewrite:function(e){return{maxWalkDistance:e,maxEScooterDistance:e}}},{name:"watts",routingTypes:["ITINERARY","PROFILE"],default:250,selector:"DROPDOWN",label:"E-scooter Power",applicable:function(e){return e.mode&&-1!==e.mode.indexOf("MICROMOBILITY")&&-1===e.mode.indexOf("MICROMOBILITY_RENT")&&-1===e.mode.indexOf("SCOOTER")},options:[{text:"Kid's hoverboard (6mph)",value:125},{text:"Entry-level scooter (11mph)",value:250},{text:"Robust E-scooter (18mph)",value:500},{text:"Powerful E-scooter (24mph)",value:1500}],itineraryRewrite:function(e){var t,n,r=e;switch(r){case 125:t=2.8,n=99;break;case 250:t=5,n=102.5;break;case 500:t=8,n=120;break;case 1e3:t=11,n=111}return{maximumMicromobilitySpeed:t,watts:r,weight:n}}},{name:"ignoreRealtimeUpdates",routingTypes:["ITINERARY"],default:!1},{name:"companies",routingTypes:["ITINERARY"]},{name:"wheelchair",routingTypes:["ITINERARY","PROFILE"],default:!1,selector:"CHECKBOX",label:"Prefer Wheelchair Accessible Routes",icon:U.a.createElement(Ti.Wheelchair,null),applicable:function(e,t){if(!e.mode||!t.modes)return!1;var n=(t.modes.accessModes||[]).concat(t.modes.transitModes||[]);return e.mode.split(",").some((function(t){var r=n.find((function(e){return e.mode===t}));return!(!r||!r.showWheelchairSetting)&&!!(!r.company||e.companies&&e.companies.split(",").includes(r.company))}))}},{name:"bannedRoutes",routingTypes:["ITINERARY"]},{name:"numItineraries",routingTypes:["ITINERARY"],default:3},{name:"intermediatePlaces",default:[],routingTypes:["ITINERARY"],itineraryRewrite:function(e){return Array.isArray(e)&&e.length>0?{intermediatePlaces:e.map((function(e){return tc(e)}))}:void 0}},{name:"otherThanPreferredRoutesPenalty",default:900,routingTypes:["ITINERARY"]},{name:"preferredRoutes",routingTypes:["ITINERARY"]},{name:"maxPreTransitTime",routingTypes:["ITINERARY"]},{name:"waitReluctance",routingTypes:["ITINERARY"]},{name:"driveDistanceReluctance",routingTypes:["ITINERARY"]},{name:"driveTimeReluctance",routingTypes:["ITINERARY"]},{name:"waitAtBeginningFactor",routingTypes:["ITINERARY"]},{name:"bikeSwitchTime",routingTypes:["ITINERARY"]},{name:"bikeSwitchCost",routingTypes:["ITINERARY"]},{name:"minTransferTime",routingTypes:["ITINERARY"]},{name:"preferredAgencies",routingTypes:["ITINERARY"]},{name:"unpreferredRoutes",routingTypes:["ITINERARY"]},{name:"unpreferredAgencies",routingTypes:["ITINERARY"]},{name:"walkBoardCost",routingTypes:["ITINERARY"]},{name:"bikeBoardCost",routingTypes:["ITINERARY"]},{name:"whiteListedRoutes",routingTypes:["ITINERARY"]},{name:"bannedAgencies",routingTypes:["ITINERARY"]},{name:"whiteListedAgencies",routingTypes:["ITINERARY"]},{name:"bannedTrips",routingTypes:["ITINERARY"]},{name:"bannedStops",routingTypes:["ITINERARY"]},{name:"bannedStopsHard",routingTypes:["ITINERARY"]},{name:"transferPenalty",routingTypes:["ITINERARY"]},{name:"nonpreferredTransferPenalty",routingTypes:["ITINERARY"]},{name:"maxTransfers",routingTypes:["ITINERARY"]},{name:"batch",routingTypes:["ITINERARY"]},{name:"startTransitStopId",routingTypes:["ITINERARY"]},{name:"startTransitTripId",routingTypes:["ITINERARY"]},{name:"clampInitialWait",routingTypes:["ITINERARY"]},{name:"reverseOptimizeOnTheFly",routingTypes:["ITINERARY"]},{name:"boardSlack",routingTypes:["ITINERARY"]},{name:"alightSlack",routingTypes:["ITINERARY"]},{name:"locale",routingTypes:["ITINERARY"]},{name:"disableRemainingWeightHeuristic",routingTypes:["ITINERARY"]},{name:"flexFlagStopBufferSize",routingTypes:["ITINERARY"]},{name:"flexUseReservationServices",routingTypes:["ITINERARY"]},{name:"flexUseEligibilityServices",routingTypes:["ITINERARY"]},{name:"flexIgnoreDrtAdvanceBookMin",routingTypes:["ITINERARY"]},{name:"maxHours",routingTypes:["ITINERARY"]},{name:"useRequestedDateTimeInMaxHours",routingTypes:["ITINERARY"]},{name:"disableAlertFiltering",routingTypes:["ITINERARY"]},{name:"geoidElevation",routingTypes:["ITINERARY"]},{name:"invalidDateStrategy",routingTypes:["ITINERARY"]},{name:"minTransitDistance",routingTypes:["ITINERARY"]},{name:"searchTimeout",routingTypes:["ITINERARY"]},{name:"pathComparator",routingTypes:["ITINERARY"]},{name:"onlyTransitTrips",routingTypes:["ITINERARY"]},{name:"minimumMicromobilitySpeed",routingTypes:["ITINERARY"]}];rc.forEach((function(e){e.name in nc&&(e.default=nc[e.name],e.userDefaultOverride=!0)}));var ic=rc;function oc(e){if(!e)return rc;var t=Si()(rc);return Object.keys(e).forEach((function(n){var r=t.findIndex((function(e){return e.name===n}));-1!==r&&(t[r]=ec(ec({},t[r]),e[n]))})),t}function ac(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ac(Object(n),!0).forEach((function(t){D()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ac(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lc=["wheelchair","maxWalkDistance","walkReluctance","maxWalkTime","maxBikeDistance","maxBikeTime","bikeSpeed","optimize","optimizeBike","maxEScooterDistance","watts"],cc=["HH:mm:ss","HH:mm","H:mm","h:mm:ss a","h:mm:ssa","h:mm a","h:mma","h:mm","HHmm","hmm","ha"];function uc(e,t,n){return"function"==typeof e[t]?e[t](n):e[t]}function dc(e){var t=e.filter((function(e){return Hs(e)})).length;if(t>1){var n=e.find((function(e){return Hs(e)}));e=e.filter((function(e){return!Hs(e)||e===n}))}else 0===t&&e.push("WALK");return e}function fc(){return Ai.a.parse(window.location.href.split("?")[1])}function pc(){return Object.keys(fc()).filter((function(e){return!e.startsWith("ui_")}))}function mc(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=sc({},e);return delete n.time,delete n.departArrive,delete n.date,t||(delete n.from,delete n.to),n}function hc(e){return"function"==typeof e.default?e.default():e.default}function gc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t={routingType:"ITINERARY"};return ic.filter((function(e){return"default"in e})).forEach((function(e){t[e.name]=hc(e)})),e&&(e.routingTypes&&e.routingTypes.length>0&&(t.routingType=e.routingTypes[0].key),e.defaultQueryParams&&Object.keys(e.defaultQueryParams).forEach((function(n){t[n]=e.defaultQueryParams[n]}))),t}function yc(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t?e.reduce((function(e,t){var n=e;return t.includes("FLEX")?n.includes("FLEX")||n.push("FLEX"):n.push(t),n}),[]):e}function vc(e){return yc(e.split(",")).map((function(t){return"FLEX_EGRESS"!==t&&"FLEX_ACCESS"!==t&&"FLEX_DIRECT"!==t||!e.includes("FLEX")?"FLEX"===t?"FLEX_EGRESS,FLEX_ACCESS,FLEX_DIRECT":t:""})).join(",")}function bc(e,t){var n,r=yc(e.mode.split(",").sort(),null===(n=t.modes)||void 0===n?void 0:n.mergeFlex);if(2!==r.length||"TRANSIT"!==r[0]||"WALK"!==r[1]){var i=Ts(t).concat(["WALK"]).sort();if(!(r.length===i.length&&r.every((function(e,t){return e===i[t]}))))return!0}for(var o=gc(t),a=function(n){var r=lc[n];if(function(e,t,n){var r=e.applicable;return!(!e.routingTypes.includes(t.routingType)||"function"==typeof r&&!r(t,n))}(ic.find((function(e){return e.name===r})),e,t)&&e[r]!==o[r])return{v:!0}},s=0;s<lc.length;s++){var l=a(s);if("object"===_t()(l))return l.v}return!1}function wc(e,t){return xc.apply(this,arguments)}function xc(){return(xc=hi()(yi.a.mark((function e(t,n){var r;return yi.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ei()(n),e.abrupt("return",r.search({text:t}).then((function(e){var t=e.features&&e.features[0];return t?r.getLocationFromGeocodedFeature(t):null})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ec(e){if(!e)return null;var t=e.split("::"),n=t[1]?Al(t[1]):Al(t[0]),r=t[1]?t[0]:_l(n);return 2===n.length?{name:r||null,lat:n[0]||null,lon:n[1]||null}:null}function _c(e,t){return Ac.apply(this,arguments)}function Ac(){return(Ac=hi()(yi.a.mark((function e(t,n){var r;return yi.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Ec(t))||!t||!n){e.next=5;break}return e.next=4,wc(t,n);case 4:r=e.sent;case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oc(e){var t={};return Object.keys(e).forEach((function(n){switch(n){case"fromPlace":t.from=Ec(e.fromPlace);break;case"toPlace":t.to=Ec(e.toPlace);break;case"arriveBy":t.departArrive="true"===e.arriveBy?"ARRIVE":"false"===e.arriveBy?"DEPART":"NOW";break;case"date":t.date=e.date||Kl();break;case"time":var r=cc.find((function(t){return Object(vi.a)(e.time,t)}));t.time=r?Object(bi.a)(Object(wi.a)(e.time,r,new Date),Gl):ql();break;case"intermediatePlaces":t.intermediatePlaces=e.intermediatePlaces?e.intermediatePlaces.map(Ec):[];break;default:var i=Number(e[n]);t[n]=""===e[n]||Number.isNaN(i)?e[n]:i}})),t}function Sc(e){return Tc.apply(this,arguments)}function Tc(){return(Tc=hi()(yi.a.mark((function e(t){var n,r,i=arguments;return yi.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:{},(r=Oc(t)).from){e.next=6;break}return e.next=5,_c(t.fromPlace,n.geocoder);case 5:r.from=e.sent;case 6:if(r.to){e.next=10;break}return e.next=9,_c(t.toPlace,n.geocoder);case 9:r.to=e.sent;case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ic(e,t,n){var r,i=t.routingType,o="ITINERARY"===i,a={};if(ic.filter((function(n){return-1!==n.routingTypes.indexOf(i)&&n.name in t&&("function"!=typeof n.applicable||n.applicable(t,e))})).forEach((function(e){var n=o?e.itineraryRewrite:e.profileRewrite;a=Object.assign(a,n?n(t[e.name]):D()({},e.name,t[e.name]))})),o){"boolean"==typeof n&&(a.ignoreRealtimeUpdates=n);var s=Object(vi.a)(a.date,Vl),l=Object(vi.a)(a.time,Gl);s&&l||(delete a.time,delete a.date),a.mode&&(a.mode.includes("CAR_HAIL")||a.mode.includes("CAR_RENT"))&&(a.minTransitDistance="50%",a.searchTimeout=1e4),a.mode&&a.mode.includes("CAR_RENT")&&(a.onlyTransitTrips=!0)}else{var c=Object(vi.a)(a.startTime,Gl),u=Object(vi.a)(a.endTime,Gl);c&&u||(delete a.startTimeValid,delete a.endTimeValid)}if(Ys(a.mode)&&(a.mode+=",WALK"),a.mode&&!1!==(null===(r=e.modes)||void 0===r?void 0:r.mergeFlex)){var d=yc(a.mode.split(",")).join(",");a.mode=vc(d)}return a}function kc(e,t,n){return n.find((function(n){return n.feedId===e&&n.agencyId===t}))||null}function Cc(e,t){return e.routeId&&e.agencyId?kc(e.routeId.split(":")[0],e.agencyId,t):null}function Mc(e,t){if(!e.id)return null;var n,r=e.id.split(":")[0];if(e.agency)n=e.agency.id;else{if(!e.agencyId)return null;n=e.agencyId}return kc(r,n,t)}var Nc=999999999999;function jc(e,t){if(!t||0===t.length)return e.agency?e.agency.name:e.agencyName?e.agencyName:"zzz";var n=Mc(e,t);return n&&"number"==typeof n.order?n.order:Nc}function Lc(e,t,n){var r,i;return"function"==typeof e?(r=e(t),i=e(n)):(r=t,i=n),{aVal:r,bVal:i}}var Rc={SUBWAY:1,TRAM:2,TROLLEYBUS:9,RAIL:3,GONDOLA:4,FERRY:5,CABLE_CAR:6,FUNICULAR:7,BUS:8},Dc={0:Rc.TRAM,1:Rc.SUBWAY,2:Rc.RAIL,3:Rc.BUS,4:Rc.FERRY,5:Rc.CABLE_CAR,6:Rc.GONDOLA,7:Rc.FUNICULAR,11:Rc.BUS,12:Rc.RAIL,13:Rc.TROLLEYBUS};function Pc(e){if(!e)throw new Error("Route is undefined. ".concat(e));return void 0!==Rc[e.mode]?Rc[e.mode]:void 0!==Dc[e.type]?Dc[e.type]:(console.warn("no mode/route type found for route",e),Nc)}function Bc(e,t){return Pc(e)-Pc(t)}function Fc(e){if("string"==typeof e&&e.length>0){var t=e.charCodeAt(0);return t>=65&&t<=90||t>=97&&t<=122}return!1}function Uc(e,t){var n=Fc(e.shortName),r=Fc(t.shortName);return n&&r?0:n?-1:r?1:0}function zc(e){return function(t,n){var r=Lc(e,t,n),i=r.aVal,o=r.bVal;return"number"!=typeof i||"number"!=typeof o||isNaN(i)&&isNaN(o)?0:isNaN(i)?1:isNaN(o)?-1:i-o}}function Vc(e){return function(t,n){var r=Lc(e,t,n),i=r.aVal,o=r.bVal;return i||o?i?o?i<o?-1:i>o?1:0:-1:1:0}}function Gc(e){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){for(var r=0;r<t.length;r++){var i=t[r](e,n);if(0!==i)return i}return 0}}(function(e){return function(t,n){var r=jc(t,e),i=jc(n,e);return"string"==typeof r?r<i?-1:r>i?1:0:r-i}}(e),zc((function(e){return-999===(t=e.sortOrder)?void 0:t;var t})),Bc,Uc,zc((function(e){return parseInt(e.shortName,10)})),Vc((function(e){return e.shortName})),Vc((function(e){return e.longName})))}function Hc(e,t){e||(e="#333333"),t||(t="#ffffff"),e.startsWith("#")||(e="#".concat(e)),t.startsWith("#")||(t="#".concat(t));var n=Oo()(t).luminance(),r=Oo()(e).luminance();return r+n<1.41&&r+n>.25&&Math.abs(r-n)>.2?t:Oo()(e).luminance()<.4?"#ffffff":"#000000"}function Wc(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function Yc(e){var t=document.querySelector(e),n=null;function r(e){var r=e.targetTouches[0].clientY-n;0===t.scrollTop&&r>0&&e.preventDefault(),t.scrollHeight-t.scrollTop<=t.clientHeight&&r<0&&e.preventDefault()}t.addEventListener("touchstart",(function(e){1===e.targetTouches.length&&(n=e.targetTouches[0].clientY)}),!1),t.addEventListener("touchmove",(function(e){1===e.targetTouches.length&&r(e)}),!1)}function Qc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qc(Object(n),!0).forEach((function(t){D()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xc={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Plan"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"arriveBy"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"banned"}},type:{kind:"NamedType",name:{kind:"Name",value:"InputBanned"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"bikeReluctance"}},type:{kind:"NamedType",name:{kind:"Name",value:"Float"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"carReluctance"}},type:{kind:"NamedType",name:{kind:"Name",value:"Float"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"date"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fromPlace"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modes"}},type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"TransportMode"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"numItineraries"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"preferred"}},type:{kind:"NamedType",name:{kind:"Name",value:"InputPreferred"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"time"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"toPlace"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"unpreferred"}},type:{kind:"NamedType",name:{kind:"Name",value:"InputUnpreferred"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"walkReluctance"}},type:{kind:"NamedType",name:{kind:"Name",value:"Float"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"walkSpeed"}},type:{kind:"NamedType",name:{kind:"Name",value:"Float"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"wheelchair"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"plan"},arguments:[{kind:"Argument",name:{kind:"Name",value:"arriveBy"},value:{kind:"Variable",name:{kind:"Name",value:"arriveBy"}}},{kind:"Argument",name:{kind:"Name",value:"banned"},value:{kind:"Variable",name:{kind:"Name",value:"banned"}}},{kind:"Argument",name:{kind:"Name",value:"bikeReluctance"},value:{kind:"Variable",name:{kind:"Name",value:"bikeReluctance"}}},{kind:"Argument",name:{kind:"Name",value:"carReluctance"},value:{kind:"Variable",name:{kind:"Name",value:"carReluctance"}}},{kind:"Argument",name:{kind:"Name",value:"date"},value:{kind:"Variable",name:{kind:"Name",value:"date"}}},{kind:"Argument",name:{kind:"Name",value:"fromPlace"},value:{kind:"Variable",name:{kind:"Name",value:"fromPlace"}}},{kind:"Argument",name:{kind:"Name",value:"locale"},value:{kind:"StringValue",value:"en",block:!1}},{kind:"Argument",name:{kind:"Name",value:"numItineraries"},value:{kind:"Variable",name:{kind:"Name",value:"numItineraries"}}},{kind:"Argument",name:{kind:"Name",value:"preferred"},value:{kind:"Variable",name:{kind:"Name",value:"preferred"}}},{kind:"Argument",name:{kind:"Name",value:"time"},value:{kind:"Variable",name:{kind:"Name",value:"time"}}},{kind:"Argument",name:{kind:"Name",value:"toPlace"},value:{kind:"Variable",name:{kind:"Name",value:"toPlace"}}},{kind:"Argument",name:{kind:"Name",value:"transportModes"},value:{kind:"Variable",name:{kind:"Name",value:"modes"}}},{kind:"Argument",name:{kind:"Name",value:"unpreferred"},value:{kind:"Variable",name:{kind:"Name",value:"unpreferred"}}},{kind:"Argument",name:{kind:"Name",value:"walkReluctance"},value:{kind:"Variable",name:{kind:"Name",value:"walkReluctance"}}},{kind:"Argument",name:{kind:"Name",value:"walkSpeed"},value:{kind:"Variable",name:{kind:"Name",value:"walkSpeed"}}},{kind:"Argument",name:{kind:"Name",value:"wheelchair"},value:{kind:"Variable",name:{kind:"Name",value:"wheelchair"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"itineraries"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accessibilityScore"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"duration"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endTime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"legs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accessibilityScore"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"agency"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"alerts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"alertDescriptionText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertHeaderText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"effectiveStartDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"gtfsId"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"id"},name:{kind:"Name",value:"gtfsId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timezone"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"alerts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"alertDescriptionText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertHeaderText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"effectiveStartDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"arrivalDelay"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"departureDelay"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"distance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dropOffBookingInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contactInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bookingUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"infoUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phoneNumber"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"earliestBookingTime"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"daysPrior"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"latestBookingTime"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"daysPrior"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"dropoffType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"duration"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endTime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fareProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"product"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"medium"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"riderCategory"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DefaultFareProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"digits"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lat"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rentalVehicle"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"network"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stop"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"alerts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"alertDescriptionText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertHeaderText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"effectiveStartDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gtfsId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lat"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lon"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"vertexType"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"headsign"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"interlineWithPreviousLeg"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"intermediateStops"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lat"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"locationType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"stopCode"},name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"stopId"},name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"legGeometry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"length"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"points"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"mode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pickupBookingInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contactInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bookingUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"infoUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phoneNumber"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"earliestBookingTime"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"daysPrior"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"latestBookingTime"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"daysPrior"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pickupType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"realTime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"realtimeState"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rentedBike"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rideHailingEstimate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"arrival"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxPrice"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"minPrice"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"provider"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"route"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"alerts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"alertDescriptionText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertHeaderText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"effectiveStartDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gtfsId"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"id"},name:{kind:"Name",value:"gtfsId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shortName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"textColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"startTime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"steps"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"absoluteDirection"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alerts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"alertDescriptionText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertHeaderText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"effectiveStartDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"area"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"distance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"elevationProfile"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"distance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"elevation"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"lat"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"relativeDirection"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stayOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"streetName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lat"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rentalVehicle"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"network"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stop"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"alerts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"alertDescriptionText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertHeaderText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"effectiveStartDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gtfsId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lat"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lon"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"vertexType"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"transitLeg"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"trip"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"arrivalStoptime"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"stop"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"gtfsId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stopPosition"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"departureStoptime"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"stop"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"gtfsId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stopPosition"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"gtfsId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"startTime"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"transfers"},name:{kind:"Name",value:"numberOfTransfers"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"waitingTime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"walkTime"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"routingErrors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"inputField"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:5493,source:{body:'query Plan(\n  $arriveBy: Boolean\n  $banned: InputBanned\n  $bikeReluctance: Float\n  $carReluctance: Float\n  $date: String\n  $fromPlace: String!\n  $modes: [TransportMode]\n  $numItineraries: Int\n  $preferred: InputPreferred\n  $time: String\n  $toPlace: String!\n  $unpreferred: InputUnpreferred\n  $walkReluctance: Float\n  $walkSpeed: Float\n  $wheelchair: Boolean\n) {\n  plan(\n    arriveBy: $arriveBy\n    banned: $banned\n    bikeReluctance: $bikeReluctance\n    carReluctance: $carReluctance\n    date: $date\n    fromPlace: $fromPlace\n    # Currently only supporting EN locale, used for times and text\n    locale: "en"\n    numItineraries: $numItineraries\n    preferred: $preferred\n    time: $time\n    toPlace: $toPlace\n    transportModes: $modes\n    unpreferred: $unpreferred\n    walkReluctance: $walkReluctance\n    walkSpeed: $walkSpeed\n    wheelchair: $wheelchair\n  ) {\n    itineraries {\n      accessibilityScore\n      duration\n      endTime\n      legs {\n        accessibilityScore\n        agency {\n          alerts {\n            alertDescriptionText\n            alertHeaderText\n            alertUrl\n            effectiveStartDate\n            id\n          }\n          gtfsId\n          id: gtfsId\n          name\n          timezone\n          url\n        }\n        alerts {\n          alertDescriptionText\n          alertHeaderText\n          alertUrl\n          effectiveStartDate\n          id\n        }\n        arrivalDelay\n        departureDelay\n        distance\n        dropOffBookingInfo {\n          contactInfo {\n            bookingUrl\n            infoUrl\n            phoneNumber\n          }\n          earliestBookingTime {\n            daysPrior\n            time\n          }\n          latestBookingTime {\n            daysPrior\n            time\n          }\n          message\n        }\n        dropoffType\n        duration\n        endTime\n        fareProducts {\n          id\n          product {\n            __typename\n            id\n            medium {\n              id\n              name\n            }\n            name\n            riderCategory {\n              id\n              name\n            }\n            ... on DefaultFareProduct {\n              price {\n                amount\n                currency {\n                  code\n                  digits\n                }\n              }\n            }\n          }\n        }\n        from {\n          lat\n          lon\n          name\n          rentalVehicle {\n            id\n            network\n          }\n          stop {\n            alerts {\n              alertDescriptionText\n              alertHeaderText\n              alertUrl\n              effectiveStartDate\n              id\n            }\n            code\n            gtfsId\n            id\n            lat\n            lon\n          }\n          vertexType\n        }\n        headsign\n        interlineWithPreviousLeg\n        intermediateStops {\n          lat\n          locationType\n          lon\n          name\n          stopCode: code\n          stopId: id\n        }\n        legGeometry {\n          length\n          points\n        }\n        mode\n        pickupBookingInfo {\n          contactInfo {\n            bookingUrl\n            infoUrl\n            phoneNumber\n          }\n          earliestBookingTime {\n            daysPrior\n            time\n          }\n          latestBookingTime {\n            daysPrior\n            time\n          }\n          message\n        }\n        pickupType\n        realTime\n        realtimeState\n        rentedBike\n        rideHailingEstimate {\n          arrival\n          maxPrice {\n            amount\n            currency {\n              code\n            }\n          }\n          minPrice {\n            amount\n            currency {\n              code\n            }\n          }\n          provider {\n            id\n          }\n        }\n        route {\n          alerts {\n            alertDescriptionText\n            alertHeaderText\n            alertUrl\n            effectiveStartDate\n            id\n          }\n          color\n          gtfsId\n          id: gtfsId\n          longName\n          shortName\n          textColor\n          type\n        }\n        startTime\n        steps {\n          absoluteDirection\n          alerts {\n            alertDescriptionText\n            alertHeaderText\n            alertUrl\n            effectiveStartDate\n            id\n          }\n          area\n          distance\n          elevationProfile {\n            distance\n            elevation\n          }\n          lat\n          lon\n          relativeDirection\n          stayOn\n          streetName\n        }\n        to {\n          lat\n          lon\n          name\n          rentalVehicle {\n            id\n            network\n          }\n          stop {\n            alerts {\n              alertDescriptionText\n              alertHeaderText\n              alertUrl\n              effectiveStartDate\n              id\n            }\n            code\n            gtfsId\n            id\n            lat\n            lon\n          }\n          vertexType\n        }\n        transitLeg\n        trip {\n          arrivalStoptime {\n            stop {\n              gtfsId\n              id\n            }\n            stopPosition\n          }\n          departureStoptime {\n            stop {\n              gtfsId\n              id\n            }\n            stopPosition\n          }\n          gtfsId\n          id\n        }\n      }\n      startTime\n      transfers: numberOfTransfers\n      waitingTime\n      walkTime\n    }\n    routingErrors {\n      code\n      description\n      inputField\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}}}};function Jc(e,t){return e.reduce((function(e,n){if(!t.map((function(e){return e.mode})).includes(n.applicableMode))return e;if(("CHECKBOX"===n.type||"SUBMODE"===n.type)&&n.addTransportMode&&n.value){var r=Array.isArray(n.addTransportMode)?n.addTransportMode:[n.addTransportMode];return[].concat(L()(e),L()(r))}if("DROPDOWN"===n.type){var i,o=null===(i=n.options.find((function(e){return e.value===n.value})))||void 0===i?void 0:i.addTransportMode;if(o)return[].concat(L()(e),[o])}return e}),[])}var qc={AIRPLANE:"TRANSIT",BICYCLE:"PERSONAL",BUS:"TRANSIT",CABLE_CAR:"TRANSIT",CAR:"CAR",FERRY:"TRANSIT",FLEX:"SHARED",FUNICULAR:"TRANSIT",GONDOLA:"TRANSIT",RAIL:"TRANSIT",MONORAIL:"TRANSIT",SCOOTER:"PERSONAL",SUBWAY:"TRANSIT",TROLLEYBUS:"TRANSIT",TRAM:"TRANSIT",TRANSIT:"TRANSIT",WALK:"WALK"},Kc=[["WALK"],["PERSONAL"],["TRANSIT","SHARED"],["WALK","SHARED"],["TRANSIT"],["TRANSIT","PERSONAL"],["TRANSIT","CAR"]],$c=["SCOOTER","BICYCLE","CAR"],eu=Object.keys(qc).filter((function(e){return"TRANSIT"===qc[e]&&"TRANSIT"!==e})),tu=Object.keys(qc).filter((function(e){return"TRANSIT"===qc[e]}));function nu(e){var t,n=[].concat(L()(Jc(e.modeSettings,e.modes)),L()(e.modes)),r=n.filter((function(e){return eu.includes(e.mode)})).map((function(e){return e.mode}));return(t=n,t?new Array(1<<t.length).fill(null).map((function(e,n){return t.filter((function(e,t){return n&1<<t}))})):[]).filter((function(e){return function(e,t){if(0===e.length)return!1;var n=Array.from(new Set(e.map((function(e){return e.qualifier?"SHARED":qc[e.mode]}))));if(n.includes("TRANSIT")){if(t.length&&e.find((function(e){return"TRANSIT"===e.mode})))return!1;if(0!==e.reduce((function(e,n){return t.includes(n.mode)?e-1:e}),t.length))return!1}return!($c.filter((function(t){return e.find((function(e){return e.mode===t}))})).length>1||!Kc.find((function(e){return n.every((function(t){return e.includes(t)}))&&e.every((function(e){return n.includes(e)}))})))}(e,r)})).map((function(t){return Zc(Zc({},e),{},{modes:t})}))}function ru(e){var t=e.arriveBy,n=e.banned,r=e.date,i=e.from,o=e.modes,a=e.modeSettings,s=e.numItineraries,l=e.preferred,c=e.time,u=e.to,d=e.unpreferred,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xc,p=a.reduce((function(e,t){var n;("SLIDER"===t.type&&t.inverseKey&&(e[t.inverseKey]=t.high-t.value+t.low),e[t.key]=t.value,"CHECKBOX"===t.type&&t.truthValue)&&(e[t.key]=!0===t.value?t.truthValue:null!==(n=t.falseValue)&&void 0!==n?n:null);return e}),{}),m=p.bikeReluctance,h=p.carReluctance,g=p.walkSpeed,y=p.walkReluctance,v=p.wheelchair;return{query:Object(Ho.a)(f),variables:{arriveBy:t,banned:n,bikeReluctance:m,carReluctance:h,date:r,fromPlace:"".concat(i.name,"::").concat(i.lat,",").concat(i.lon),modes:o,numItineraries:s,preferred:l,time:c,toPlace:"".concat(u.name,"::").concat(u.lat,",").concat(u.lon),unpreferred:d,walkReluctance:y,walkSpeed:g,wheelchair:v}}}var iu={itinerary:v,map:b,profile:w,query:A,queryGen:T,queryParams:_,route:O,storage:x,time:E,ui:S},ou=Z.default.button.withConfig({displayName:"styled__ViewStopButton",componentId:"sc-12v7ov3-0"})(["background:none;border-bottom:none;border-left:1px solid #000;border-right:none;border-top:none;color:#008;font-family:inherit;margin-left:5px;padding-top:0;"]),au=n(387),su=n.n(au);var lu=Object(H.flatten)(su.a),cu=function(e,t){var n=e.lon,r=e.lat,i=e.x,o=e.y,a=r||o,s=n||i;return a&&s?{lat:a,lon:s,name:t}:null},uu=function(e){var t=e.station;return U.a.createElement(y.PopupRow,null,U.a.createElement("div",null,U.a.createElement(Y.a,{defaultMessage:lu["otpUi.MapPopup.availableBikes"],description:"Label text for the number of bikes available",id:"otpUi.MapPopup.availableBikes",values:{value:t.bikesAvailable}})),U.a.createElement("div",null,U.a.createElement(Y.a,{defaultMessage:lu["otpUi.MapPopup.availableDocks"],description:"Label text for the number of docks available",id:"otpUi.MapPopup.availableDocks",values:{value:t.spacesAvailable}})))},du=function(e){var t=e.id,n=e.setViewedStop;return U.a.createElement(y.PopupRow,null,U.a.createElement("strong",null,U.a.createElement(Y.a,{defaultMessage:lu["otpUi.MapPopup.stopId"],description:"Displays the stop id",id:"otpUi.MapPopup.stopId",values:{stopId:t}})),U.a.createElement(ou,{onClick:n},U.a.createElement(Y.a,{defaultMessage:lu["otpUi.MapPopup.stopViewer"],description:"Text for link that opens the stop viewer",id:"otpUi.MapPopup.stopViewer"})))};var fu=function(e){var t,n=e.closePopup,r=void 0===n?function(){}:n,i=e.configCompanies,o=e.entity,a=e.getEntityName,s=e.setLocation,l=e.setViewedStop,c=Object(Q.a)();if(!o)return U.a.createElement(U.a.Fragment,null);var u=(a||function(e,t){return function(n,r){var i,o="networks"in n&&(iu.itinerary.getCompaniesLabelFromNetworks((null==n?void 0:n.networks)||[],r)||(null==n||null===(i=n.networks)||void 0===i?void 0:i[0])),a=n.name||n.id;return((a.match(/-/g)||[]).length>3||"Default vehicle type"===a)&&(a=null),"isFloatingBike"in n&&n.isFloatingBike?a=e.formatMessage({defaultMessage:t["otpUi.MapPopup.floatingBike"],description:"Popup title for a free-floating bike",id:"otpUi.MapPopup.floatingBike"},{name:a}):"isFloatingCar"in n&&n.isFloatingCar?a=e.formatMessage({defaultMessage:t["otpUi.MapPopup.floatingCar"],description:"Popup title for a free-floating car",id:"otpUi.MapPopup.floatingCar"},{company:o,name:a}):"isFloatingVehicle"in n&&n.isFloatingVehicle&&(a=e.formatMessage({defaultMessage:t["otpUi.MapPopup.floatingEScooter"],description:"Popup title for a free-floating e-scooter",id:"otpUi.MapPopup.floatingEScooter"},{name:a})),a}}(c,lu))(o,i),d="networks"in o&&(iu.itinerary.getCompaniesLabelFromNetworks((null==o?void 0:o.networks)||[],i)||(null==o||null===(t=o.networks)||void 0===t?void 0:t[0])),f=function(e){return"bikesAvailable"in e}(o),p=f&&void 0!==(null==o?void 0:o.bikesAvailable)&&!(null!=o&&o.isFloatingBike),m=!f&&(null==o?void 0:o.code)||o.id.split(":")[1]||o.id,h="focus-".concat(encodeURIComponent(o.id).replace(/%/g,""),"-popup");return U.a.createElement(y.MapOverlayPopup,null,U.a.createElement(ps,{closePopup:r,id:h},U.a.createElement(y.PopupTitle,null,U.a.createElement(Y.a,{defaultMessage:lu["otpUi.MapPopup.popupTitle"],description:"Text for title of the popup, contains an optional company name",id:"otpUi.MapPopup.popupTitle",values:{name:u,stationNetwork:d}})),p&&U.a.createElement(uu,{station:o}),l&&!f&&U.a.createElement(du,{id:m,setViewedStop:Object(F.useCallback)((function(){return l(o)}),[o])}),s&&U.a.createElement(y.PopupRow,null,U.a.createElement(_s,{label:!0,location:cu(o,u),setLocation:s}))))},pu=n(236),mu=Z.default.div.withConfig({displayName:"styled__BaseBikeRentalIcon",componentId:"sc-1lr3k75-0"})(["background-position:center;background-repeat:no-repeat;background-size:contain;height:24px;margin:auto;width:24px;",""],(function(e){return function(e){switch(Math.floor(10*e)){case 0:return'background-image: url("data:image/svg+xml;base64,PHN2ZyBpZD0id2hpdGVfYmciIGRhdGEtbmFtZT0id2hpdGUgYmciIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDgyLjUgOTQuNyI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiNmZmY7fS5jbHMtMntmaWxsOiMzMzM7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT5odWItMDwvdGl0bGU+PGNpcmNsZSBjbGFzcz0iY2xzLTEiIGN4PSI0MS4yNSIgY3k9IjQxLjIiIHI9IjM4LjE4Ii8+PHBhdGggY2xhc3M9ImNscy0yIiBkPSJNODMuNCw0M0E0MS4yNSw0MS4yNSwwLDEsMCwyOS41LDgyLjNMNDMuNCw5Ni41LDU1LjMsODIuMUE0MS4yOSw0MS4yOSwwLDAsMCw4My40LDQzWk02NS43LDcwLjZMNDYuNSw0Ny43YTYsNiwwLDAsMCwxLjgtMy4ybDI5LjQsNS4yQTM2LjMzLDM2LjMzLDAsMCwxLDY1LjcsNzAuNlpNNi41LDQ5LjdsMjkuNC01LjJhNi44Myw2LjgzLDAsMCwwLDEuOCwzLjJMMTguNSw3MC42QTM2LjMzLDM2LjMzLDAsMCwxLDYuNSw0OS43Wk01LjksNDNhMzUuODIsMzUuODIsMCwwLDEsNC43LTE3LjhMMzYuNCw0MC4xYTUuOTIsNS45MiwwLDAsMC0uNywyLjl2MC43TDYuMyw0OUEzOS40NSwzOS40NSwwLDAsMSw1LjksNDNaTTI5LjQsOS4xbDEwLjIsMjhhNiw2LDAsMCwwLTIuOCwyLjRMMTAuOSwyNC42QTM2LjYyLDM2LjYyLDAsMCwxLDI5LjQsOS4xWk00Mi4xLDYuOGEzNCwzNCwwLDAsMSwxMiwyLjFsLTEwLjIsMjhhNS42Niw1LjY2LDAsMCwwLTEuOC0uMyw1LjIzLDUuMjMsMCwwLDAtMS44LjNMMzAuMSw4LjlBMzQsMzQsMCwwLDEsNDIuMSw2LjhaTTczLjMsMjQuNkw0Ny41LDM5LjVhNy4yLDcuMiwwLDAsMC0yLjgtMi40bDEwLjItMjhBMzYuOCwzNi44LDAsMCwxLDczLjMsMjQuNlpNMTkuMSw3MUwzOC4zLDQ4LjFhNy4wOSw3LjA5LDAsMCwwLDMuNSwxLjNWNzkuMkEzNS40NCwzNS40NCwwLDAsMSwxOS4xLDcxWm0yMy40LDguM1Y0OS40QTYuMjUsNi4yNSwwLDAsMCw0Niw0OC4xTDY1LjEsNzFBMzYsMzYsMCwwLDEsNDIuNSw3OS4zWm02LTM1LjVWNDMuMWE3LjI3LDcuMjcsMCwwLDAtLjctMi45TDczLjYsMjUuM2EzNS44MiwzNS44MiwwLDAsMSw0LjcsMTcuOCwzOC4wOCwzOC4wOCwwLDAsMS0uNSw1LjlaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMC45IC0xLjgpIi8+PC9zdmc+");';case 1:return'background-image: url("data:image/svg+xml;base64,PHN2ZyBpZD0id2hpdGVfYmciIGRhdGEtbmFtZT0id2hpdGUgYmciIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDgyLjUgOTQuNyI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiNmZmY7fS5jbHMtMntmaWxsOiNmZjJkMjk7fS5jbHMtM3tmaWxsOiMzMzM7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT5odWItMTwvdGl0bGU+PGNpcmNsZSBjbGFzcz0iY2xzLTEiIGN4PSI0MS4yNSIgY3k9IjQxLjIiIHI9IjM4LjE4Ii8+PHBvbHlnb24gY2xhc3M9ImNscy0yIiBwb2ludHM9IjQxLjEgODAuMDcgNDEuMTUgNDYuMDkgMzcuMTEgNDUuNjUgMTUuOTIgNzEuMTEgNDEuMSA4MC4wNyIvPjxwYXRoIGNsYXNzPSJjbHMtMyIgZD0iTTgzLjQsNDNBNDEuMjUsNDEuMjUsMCwxLDAsMjkuNSw4Mi4zTDQzLjQsOTYuNSw1NS4zLDgyLjFBNDEuMjksNDEuMjksMCwwLDAsODMuNCw0M1pNNjUuNyw3MC42TDQ2LjUsNDcuN2E2LDYsMCwwLDAsMS44LTMuMmwyOS40LDUuMkEzNi4zMywzNi4zMywwLDAsMSw2NS43LDcwLjZaTTYuNSw0OS43bDI5LjQtNS4yYTYuODMsNi44MywwLDAsMCwxLjgsMy4yTDE4LjUsNzAuNkEzNi4zMywzNi4zMywwLDAsMSw2LjUsNDkuN1pNNS45LDQzYTM1LjgyLDM1LjgyLDAsMCwxLDQuNy0xNy44TDM2LjQsNDAuMWE1LjkyLDUuOTIsMCwwLDAtLjcsMi45djAuN0w2LjMsNDlBMzkuNDUsMzkuNDUsMCwwLDEsNS45LDQzWk0yOS40LDkuMWwxMC4yLDI4YTYsNiwwLDAsMC0yLjgsMi40TDEwLjksMjQuNkEzNi42MiwzNi42MiwwLDAsMSwyOS40LDkuMVpNNDIuMSw2LjhhMzQsMzQsMCwwLDEsMTIsMi4xbC0xMC4yLDI4YTUuNjYsNS42NiwwLDAsMC0xLjgtLjMsNS4yMyw1LjIzLDAsMCwwLTEuOC4zTDMwLjEsOC45QTM0LDM0LDAsMCwxLDQyLjEsNi44Wk03My4zLDI0LjZMNDcuNSwzOS41YTcuMiw3LjIsMCwwLDAtMi44LTIuNGwxMC4yLTI4QTM2LjgsMzYuOCwwLDAsMSw3My4zLDI0LjZaTTE5LjEsNzFMMzguMyw0OC4xYTcuMDksNy4wOSwwLDAsMCwzLjUsMS4zVjc5LjJBMzUuNDQsMzUuNDQsMCwwLDEsMTkuMSw3MVptMjMuNCw4LjNWNDkuNEE2LjI1LDYuMjUsMCwwLDAsNDYsNDguMUw2NS4xLDcxQTM2LDM2LDAsMCwxLDQyLjUsNzkuM1ptNi0zNS41VjQzLjFhNy4yNyw3LjI3LDAsMCwwLS43LTIuOUw3My42LDI1LjNhMzUuODIsMzUuODIsMCwwLDEsNC43LDE3LjgsMzguMDgsMzguMDgsMCwwLDEtLjUsNS45WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTAuOSAtMS44KSIvPjwvc3ZnPg==");';case 2:return'background-image: url("data:image/svg+xml;base64,PHN2ZyBpZD0id2hpdGVfYmciIGRhdGEtbmFtZT0id2hpdGUgYmciIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDgyLjUgOTQuNyI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiNmZmY7fS5jbHMtMntmaWxsOiNmZjJkMjk7fS5jbHMtM3tmaWxsOiMzMzM7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT5odWItMjwvdGl0bGU+PGNpcmNsZSBjbGFzcz0iY2xzLTEiIGN4PSI0MS4yNSIgY3k9IjQxLjIiIHI9IjM4LjE4Ii8+PHBvbHlnb24gY2xhc3M9ImNscy0yIiBwb2ludHM9IjQxLjEgODAuMDcgNDEuMTUgNDYuMDkgMzcuMTEgNDUuNjUgMTUuOTIgNzEuMTEgNDEuMSA4MC4wNyIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtMiIgcG9pbnRzPSIxNS45NiA3MC43OCAzNy45MSA0NC44NSAzNS4xMSA0MS45MSAyLjQ5IDQ3LjY5IDE1Ljk2IDcwLjc4Ii8+PHBhdGggY2xhc3M9ImNscy0zIiBkPSJNODMuNCw0M0E0MS4yNSw0MS4yNSwwLDEsMCwyOS41LDgyLjNMNDMuNCw5Ni41LDU1LjMsODIuMUE0MS4yOSw0MS4yOSwwLDAsMCw4My40LDQzWk02NS43LDcwLjZMNDYuNSw0Ny43YTYsNiwwLDAsMCwxLjgtMy4ybDI5LjQsNS4yQTM2LjMzLDM2LjMzLDAsMCwxLDY1LjcsNzAuNlpNNi41LDQ5LjdsMjkuNC01LjJhNi44Myw2LjgzLDAsMCwwLDEuOCwzLjJMMTguNSw3MC42QTM2LjMzLDM2LjMzLDAsMCwxLDYuNSw0OS43Wk01LjksNDNhMzUuODIsMzUuODIsMCwwLDEsNC43LTE3LjhMMzYuNCw0MC4xYTUuOTIsNS45MiwwLDAsMC0uNywyLjl2MC43TDYuMyw0OUEzOS40NSwzOS40NSwwLDAsMSw1LjksNDNaTTI5LjQsOS4xbDEwLjIsMjhhNiw2LDAsMCwwLTIuOCwyLjRMMTAuOSwyNC42QTM2LjYyLDM2LjYyLDAsMCwxLDI5LjQsOS4xWk00Mi4xLDYuOGEzNCwzNCwwLDAsMSwxMiwyLjFsLTEwLjIsMjhhNS42Niw1LjY2LDAsMCwwLTEuOC0uMyw1LjIzLDUuMjMsMCwwLDAtMS44LjNMMzAuMSw4LjlBMzQsMzQsMCwwLDEsNDIuMSw2LjhaTTczLjMsMjQuNkw0Ny41LDM5LjVhNy4yLDcuMiwwLDAsMC0yLjgtMi40bDEwLjItMjhBMzYuOCwzNi44LDAsMCwxLDczLjMsMjQuNlpNMTkuMSw3MUwzOC4zLDQ4LjFhNy4wOSw3LjA5LDAsMCwwLDMuNSwxLjNWNzkuMkEzNS40NCwzNS40NCwwLDAsMSwxOS4xLDcxWm0yMy40LDguM1Y0OS40QTYuMjUsNi4yNSwwLDAsMCw0Niw0OC4xTDY1LjEsNzFBMzYsMzYsMCwwLDEsNDIuNSw3OS4zWm02LTM1LjVWNDMuMWE3LjI3LDcuMjcsMCwwLDAtLjctMi45TDczLjYsMjUuM2EzNS44MiwzNS44MiwwLDAsMSw0LjcsMTcuOCwzOC4wOCwzOC4wOCwwLDAsMS0uNSw1LjlaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMC45IC0xLjgpIi8+PC9zdmc+")';case 3:return'background-image: url("data:image/svg+xml;base64,PHN2ZyBpZD0id2hpdGVfYmciIGRhdGEtbmFtZT0id2hpdGUgYmciIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDgyLjUgOTQuNyI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiNmZmY7fS5jbHMtMntmaWxsOiNmZjJkMjk7fS5jbHMtM3tmaWxsOiMzMzM7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT5odWItMzwvdGl0bGU+PGNpcmNsZSBjbGFzcz0iY2xzLTEiIGN4PSI0MS4yNSIgY3k9IjQxLjIiIHI9IjM4LjE4Ii8+PHBvbHlnb24gY2xhc3M9ImNscy0yIiBwb2ludHM9IjQxLjEgODAuMDcgNDEuMTUgNDYuMDkgMzcuMTEgNDUuNjUgMTUuOTIgNzEuMTEgNDEuMSA4MC4wNyIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtMiIgcG9pbnRzPSIxNS45NiA3MC43OCAzNy45MSA0NC44NSAzNS4xMSA0MS45MSAyLjQ5IDQ3LjY5IDE1Ljk2IDcwLjc4Ii8+PHBvbHlnb24gY2xhc3M9ImNscy0yIiBwb2ludHM9IjIuOTIgNDguMDcgMzYuMzggNDIuMTcgMzYuMSAzOC4xMiA3LjMzIDIxLjcgMi45MiA0OC4wNyIvPjxwYXRoIGNsYXNzPSJjbHMtMyIgZD0iTTgzLjQsNDNBNDEuMjUsNDEuMjUsMCwxLDAsMjkuNSw4Mi4zTDQzLjQsOTYuNSw1NS4zLDgyLjFBNDEuMjksNDEuMjksMCwwLDAsODMuNCw0M1pNNjUuNyw3MC42TDQ2LjUsNDcuN2E2LDYsMCwwLDAsMS44LTMuMmwyOS40LDUuMkEzNi4zMywzNi4zMywwLDAsMSw2NS43LDcwLjZaTTYuNSw0OS43bDI5LjQtNS4yYTYuODMsNi44MywwLDAsMCwxLjgsMy4yTDE4LjUsNzAuNkEzNi4zMywzNi4zMywwLDAsMSw2LjUsNDkuN1pNNS45LDQzYTM1LjgyLDM1LjgyLDAsMCwxLDQuNy0xNy44TDM2LjQsNDAuMWE1LjkyLDUuOTIsMCwwLDAtLjcsMi45djAuN0w2LjMsNDlBMzkuNDUsMzkuNDUsMCwwLDEsNS45LDQzWk0yOS40LDkuMWwxMC4yLDI4YTYsNiwwLDAsMC0yLjgsMi40TDEwLjksMjQuNkEzNi42MiwzNi42MiwwLDAsMSwyOS40LDkuMVpNNDIuMSw2LjhhMzQsMzQsMCwwLDEsMTIsMi4xbC0xMC4yLDI4YTUuNjYsNS42NiwwLDAsMC0xLjgtLjMsNS4yMyw1LjIzLDAsMCwwLTEuOC4zTDMwLjEsOC45QTM0LDM0LDAsMCwxLDQyLjEsNi44Wk03My4zLDI0LjZMNDcuNSwzOS41YTcuMiw3LjIsMCwwLDAtMi44LTIuNGwxMC4yLTI4QTM2LjgsMzYuOCwwLDAsMSw3My4zLDI0LjZaTTE5LjEsNzFMMzguMyw0OC4xYTcuMDksNy4wOSwwLDAsMCwzLjUsMS4zVjc5LjJBMzUuNDQsMzUuNDQsMCwwLDEsMTkuMSw3MVptMjMuNCw4LjNWNDkuNEE2LjI1LDYuMjUsMCwwLDAsNDYsNDguMUw2NS4xLDcxQTM2LDM2LDAsMCwxLDQyLjUsNzkuM1ptNi0zNS41VjQzLjFhNy4yNyw3LjI3LDAsMCwwLS43LTIuOUw3My42LDI1LjNhMzUuODIsMzUuODIsMCwwLDEsNC43LDE3LjgsMzguMDgsMzguMDgsMCwwLDEtLjUsNS45WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTAuOSAtMS44KSIvPjwvc3ZnPg==");';case 4:return'background-image: url("data:image/svg+xml;base64,PHN2ZyBpZD0id2hpdGVfYmciIGRhdGEtbmFtZT0id2hpdGUgYmciIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDgyLjUgOTQuNyI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiNmZmY7fS5jbHMtMntmaWxsOiNmZjJkMjk7fS5jbHMtM3tmaWxsOiMzMzM7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT5odWItNDwvdGl0bGU+PGNpcmNsZSBjbGFzcz0iY2xzLTEiIGN4PSI0MS4yNSIgY3k9IjQxLjIiIHI9IjM4LjE4Ii8+PHBvbHlnb24gY2xhc3M9ImNscy0yIiBwb2ludHM9IjQxLjEgODAuMDcgNDEuMTUgNDYuMDkgMzcuMTEgNDUuNjUgMTUuOTIgNzEuMTEgNDEuMSA4MC4wNyIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtMiIgcG9pbnRzPSIxNS45NiA3MC43OCAzNy45MSA0NC44NSAzNS4xMSA0MS45MSAyLjQ5IDQ3LjY5IDE1Ljk2IDcwLjc4Ii8+PHBvbHlnb24gY2xhc3M9ImNscy0yIiBwb2ludHM9IjIuOTIgNDguMDcgMzYuMzggNDIuMTcgMzYuMSAzOC4xMiA3LjMzIDIxLjcgMi45MiA0OC4wNyIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtMiIgcG9pbnRzPSI3LjExIDIxLjcxIDM2LjY4IDM4LjQ1IDM5LjA0IDM1LjE1IDI3LjI5IDQuMTggNy4xMSAyMS43MSIvPjxwYXRoIGNsYXNzPSJjbHMtMyIgZD0iTTgzLjQsNDNBNDEuMjUsNDEuMjUsMCwxLDAsMjkuNSw4Mi4zTDQzLjQsOTYuNSw1NS4zLDgyLjFBNDEuMjksNDEuMjksMCwwLDAsODMuNCw0M1pNNjUuNyw3MC42TDQ2LjUsNDcuN2E2LDYsMCwwLDAsMS44LTMuMmwyOS40LDUuMkEzNi4zMywzNi4zMywwLDAsMSw2NS43LDcwLjZaTTYuNSw0OS43bDI5LjQtNS4yYTYuODMsNi44MywwLDAsMCwxLjgsMy4yTDE4LjUsNzAuNkEzNi4zMywzNi4zMywwLDAsMSw2LjUsNDkuN1pNNS45LDQzYTM1LjgyLDM1LjgyLDAsMCwxLDQuNy0xNy44TDM2LjQsNDAuMWE1LjkyLDUuOTIsMCwwLDAtLjcsMi45djAuN0w2LjMsNDlBMzkuNDUsMzkuNDUsMCwwLDEsNS45LDQzWk0yOS40LDkuMWwxMC4yLDI4YTYsNiwwLDAsMC0yLjgsMi40TDEwLjksMjQuNkEzNi42MiwzNi42MiwwLDAsMSwyOS40LDkuMVpNNDIuMSw2LjhhMzQsMzQsMCwwLDEsMTIsMi4xbC0xMC4yLDI4YTUuNjYsNS42NiwwLDAsMC0xLjgtLjMsNS4yMyw1LjIzLDAsMCwwLTEuOC4zTDMwLjEsOC45QTM0LDM0LDAsMCwxLDQyLjEsNi44Wk03My4zLDI0LjZMNDcuNSwzOS41YTcuMiw3LjIsMCwwLDAtMi44LTIuNGwxMC4yLTI4QTM2LjgsMzYuOCwwLDAsMSw3My4zLDI0LjZaTTE5LjEsNzFMMzguMyw0OC4xYTcuMDksNy4wOSwwLDAsMCwzLjUsMS4zVjc5LjJBMzUuNDQsMzUuNDQsMCwwLDEsMTkuMSw3MVptMjMuNCw4LjNWNDkuNEE2LjI1LDYuMjUsMCwwLDAsNDYsNDguMUw2NS4xLDcxQTM2LDM2LDAsMCwxLDQyLjUsNzkuM1ptNi0zNS41VjQzLjFhNy4yNyw3LjI3LDAsMCwwLS43LTIuOUw3My42LDI1LjNhMzUuODIsMzUuODIsMCwwLDEsNC43LDE3LjgsMzguMDgsMzguMDgsMCwwLDEtLjUsNS45WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTAuOSAtMS44KSIvPjwvc3ZnPg==");';case 5:return'background-image: url("data:image/svg+xml;base64,PHN2ZyBpZD0id2hpdGVfYmciIGRhdGEtbmFtZT0id2hpdGUgYmciIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDgyLjUgOTQuNyI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiNmZmY7fS5jbHMtMntmaWxsOiNmZjJkMjk7fS5jbHMtM3tmaWxsOiMzMzM7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT5odWItNTwvdGl0bGU+PGNpcmNsZSBjbGFzcz0iY2xzLTEiIGN4PSI0MS4yNSIgY3k9IjQxLjIiIHI9IjM4LjE4Ii8+PHBvbHlnb24gY2xhc3M9ImNscy0yIiBwb2ludHM9IjU0LjU1IDQuNjkgNDIuODYgMzYuNTkgMzguOTIgMzUuNiAyNy44MyA0LjM5IDU0LjU1IDQuNjkiLz48cG9seWdvbiBjbGFzcz0iY2xzLTIiIHBvaW50cz0iNDEuMSA4MC4wNyA0MS4xNSA0Ni4wOSAzNy4xMSA0NS42NSAxNS45MiA3MS4xMSA0MS4xIDgwLjA3Ii8+PHBvbHlnb24gY2xhc3M9ImNscy0yIiBwb2ludHM9IjE1Ljk2IDcwLjc4IDM3LjkxIDQ0Ljg1IDM1LjExIDQxLjkxIDIuNDkgNDcuNjkgMTUuOTYgNzAuNzgiLz48cG9seWdvbiBjbGFzcz0iY2xzLTIiIHBvaW50cz0iMi45MiA0OC4wNyAzNi4zOCA0Mi4xNyAzNi4xIDM4LjEyIDcuMzMgMjEuNyAyLjkyIDQ4LjA3Ii8+PHBvbHlnb24gY2xhc3M9ImNscy0yIiBwb2ludHM9IjcuMTEgMjEuNzEgMzYuNjggMzguNDUgMzkuMDQgMzUuMTUgMjcuMjkgNC4xOCA3LjExIDIxLjcxIi8+PHBhdGggY2xhc3M9ImNscy0zIiBkPSJNODMuNCw0M0E0MS4yNSw0MS4yNSwwLDEsMCwyOS41LDgyLjNMNDMuNCw5Ni41LDU1LjMsODIuMUE0MS4yOSw0MS4yOSwwLDAsMCw4My40LDQzWk02NS43LDcwLjZMNDYuNSw0Ny43YTYsNiwwLDAsMCwxLjgtMy4ybDI5LjQsNS4yQTM2LjMzLDM2LjMzLDAsMCwxLDY1LjcsNzAuNlpNNi41LDQ5LjdsMjkuNC01LjJhNi44Myw2LjgzLDAsMCwwLDEuOCwzLjJMMTguNSw3MC42QTM2LjMzLDM2LjMzLDAsMCwxLDYuNSw0OS43Wk01LjksNDNhMzUuODIsMzUuODIsMCwwLDEsNC43LTE3LjhMMzYuNCw0MC4xYTUuOTIsNS45MiwwLDAsMC0uNywyLjl2MC43TDYuMyw0OUEzOS40NSwzOS40NSwwLDAsMSw1LjksNDNaTTI5LjQsOS4xbDEwLjIsMjhhNiw2LDAsMCwwLTIuOCwyLjRMMTAuOSwyNC42QTM2LjYyLDM2LjYyLDAsMCwxLDI5LjQsOS4xWk00Mi4xLDYuOGEzNCwzNCwwLDAsMSwxMiwyLjFsLTEwLjIsMjhhNS42Niw1LjY2LDAsMCwwLTEuOC0uMyw1LjIzLDUuMjMsMCwwLDAtMS44LjNMMzAuMSw4LjlBMzQsMzQsMCwwLDEsNDIuMSw2LjhaTTczLjMsMjQuNkw0Ny41LDM5LjVhNy4yLDcuMiwwLDAsMC0yLjgtMi40bDEwLjItMjhBMzYuOCwzNi44LDAsMCwxLDczLjMsMjQuNlpNMTkuMSw3MUwzOC4zLDQ4LjFhNy4wOSw3LjA5LDAsMCwwLDMuNSwxLjNWNzkuMkEzNS40NCwzNS40NCwwLDAsMSwxOS4xLDcxWm0yMy40LDguM1Y0OS40QTYuMjUsNi4yNSwwLDAsMCw0Niw0OC4xTDY1LjEsNzFBMzYsMzYsMCwwLDEsNDIuNSw3OS4zWm02LTM1LjVWNDMuMWE3LjI3LDcuMjcsMCwwLDAtLjctMi45TDczLjYsMjUuM2EzNS44MiwzNS44MiwwLDAsMSw0LjcsMTcuOCwzOC4wOCwzOC4wOCwwLDAsMS0uNSw1LjlaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMC45IC0xLjgpIi8+PC9zdmc+");';case 6:return'background-image: url("data:image/svg+xml;base64,PHN2ZyBpZD0id2hpdGVfYmciIGRhdGEtbmFtZT0id2hpdGUgYmciIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDgyLjUgOTQuNyI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiNmZmY7fS5jbHMtMntmaWxsOiNmZjJkMjk7fS5jbHMtM3tmaWxsOiMzMzM7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT5odWItNjwvdGl0bGU+PGNpcmNsZSBjbGFzcz0iY2xzLTEiIGN4PSI0MS4yNSIgY3k9IjQxLjIiIHI9IjM4LjE4Ii8+PHBvbHlnb24gY2xhc3M9ImNscy0yIiBwb2ludHM9Ijc1LjI0IDIxLjkyIDQ1LjY3IDM4LjY2IDQzLjMxIDM1LjM2IDU1LjA2IDQuMzkgNzUuMjQgMjEuOTIiLz48cG9seWdvbiBjbGFzcz0iY2xzLTIiIHBvaW50cz0iNTQuNTUgNC42OSA0Mi44NiAzNi41OSAzOC45MiAzNS42IDI3LjgzIDQuMzkgNTQuNTUgNC42OSIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtMiIgcG9pbnRzPSI0MS4xIDgwLjA3IDQxLjE1IDQ2LjA5IDM3LjExIDQ1LjY1IDE1LjkyIDcxLjExIDQxLjEgODAuMDciLz48cG9seWdvbiBjbGFzcz0iY2xzLTIiIHBvaW50cz0iMTUuOTYgNzAuNzggMzcuOTEgNDQuODUgMzUuMTEgNDEuOTEgMi40OSA0Ny42OSAxNS45NiA3MC43OCIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtMiIgcG9pbnRzPSIyLjkyIDQ4LjA3IDM2LjM4IDQyLjE3IDM2LjEgMzguMTIgNy4zMyAyMS43IDIuOTIgNDguMDciLz48cG9seWdvbiBjbGFzcz0iY2xzLTIiIHBvaW50cz0iNy4xMSAyMS43MSAzNi42OCAzOC40NSAzOS4wNCAzNS4xNSAyNy4yOSA0LjE4IDcuMTEgMjEuNzEiLz48cGF0aCBjbGFzcz0iY2xzLTMiIGQ9Ik04My40LDQzQTQxLjI1LDQxLjI1LDAsMSwwLDI5LjUsODIuM0w0My40LDk2LjUsNTUuMyw4Mi4xQTQxLjI5LDQxLjI5LDAsMCwwLDgzLjQsNDNaTTY1LjcsNzAuNkw0Ni41LDQ3LjdhNiw2LDAsMCwwLDEuOC0zLjJsMjkuNCw1LjJBMzYuMzMsMzYuMzMsMCwwLDEsNjUuNyw3MC42Wk02LjUsNDkuN2wyOS40LTUuMmE2LjgzLDYuODMsMCwwLDAsMS44LDMuMkwxOC41LDcwLjZBMzYuMzMsMzYuMzMsMCwwLDEsNi41LDQ5LjdaTTUuOSw0M2EzNS44MiwzNS44MiwwLDAsMSw0LjctMTcuOEwzNi40LDQwLjFhNS45Miw1LjkyLDAsMCwwLS43LDIuOXYwLjdMNi4zLDQ5QTM5LjQ1LDM5LjQ1LDAsMCwxLDUuOSw0M1pNMjkuNCw5LjFsMTAuMiwyOGE2LDYsMCwwLDAtMi44LDIuNEwxMC45LDI0LjZBMzYuNjIsMzYuNjIsMCwwLDEsMjkuNCw5LjFaTTQyLjEsNi44YTM0LDM0LDAsMCwxLDEyLDIuMWwtMTAuMiwyOGE1LjY2LDUuNjYsMCwwLDAtMS44LS4zLDUuMjMsNS4yMywwLDAsMC0xLjguM0wzMC4xLDguOUEzNCwzNCwwLDAsMSw0Mi4xLDYuOFpNNzMuMywyNC42TDQ3LjUsMzkuNWE3LjIsNy4yLDAsMCwwLTIuOC0yLjRsMTAuMi0yOEEzNi44LDM2LjgsMCwwLDEsNzMuMywyNC42Wk0xOS4xLDcxTDM4LjMsNDguMWE3LjA5LDcuMDksMCwwLDAsMy41LDEuM1Y3OS4yQTM1LjQ0LDM1LjQ0LDAsMCwxLDE5LjEsNzFabTIzLjQsOC4zVjQ5LjRBNi4yNSw2LjI1LDAsMCwwLDQ2LDQ4LjFMNjUuMSw3MUEzNiwzNiwwLDAsMSw0Mi41LDc5LjNabTYtMzUuNVY0My4xYTcuMjcsNy4yNywwLDAsMC0uNy0yLjlMNzMuNiwyNS4zYTM1LjgyLDM1LjgyLDAsMCwxLDQuNywxNy44LDM4LjA4LDM4LjA4LDAsMCwxLS41LDUuOVoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0wLjkgLTEuOCkiLz48L3N2Zz4=");';case 7:return'background-image: url("data:image/svg+xml;base64,PHN2ZyBpZD0id2hpdGVfYmciIGRhdGEtbmFtZT0id2hpdGUgYmciIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDgyLjUgOTQuNyI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiNmZmY7fS5jbHMtMntmaWxsOiNmZjJkMjk7fS5jbHMtM3tmaWxsOiMzMzM7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT5odWItNzwvdGl0bGU+PGNpcmNsZSBjbGFzcz0iY2xzLTEiIGN4PSI0MS4yNSIgY3k9IjQxLjIiIHI9IjM4LjE4Ii8+PHBvbHlnb24gY2xhc3M9ImNscy0yIiBwb2ludHM9Ijc5LjQzIDQ4LjI4IDQ1Ljk3IDQyLjM4IDQ2LjI1IDM4LjMzIDc1LjAyIDIxLjkyIDc5LjQzIDQ4LjI4Ii8+PHBvbHlnb24gY2xhc3M9ImNscy0yIiBwb2ludHM9Ijc1LjI0IDIxLjkyIDQ1LjY3IDM4LjY2IDQzLjMxIDM1LjM2IDU1LjA2IDQuMzkgNzUuMjQgMjEuOTIiLz48cG9seWdvbiBjbGFzcz0iY2xzLTIiIHBvaW50cz0iNTQuNTUgNC42OSA0Mi44NiAzNi41OSAzOC45MiAzNS42IDI3LjgzIDQuMzkgNTQuNTUgNC42OSIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtMiIgcG9pbnRzPSI0MS4xIDgwLjA3IDQxLjE1IDQ2LjA5IDM3LjExIDQ1LjY1IDE1LjkyIDcxLjExIDQxLjEgODAuMDciLz48cG9seWdvbiBjbGFzcz0iY2xzLTIiIHBvaW50cz0iMTUuOTYgNzAuNzggMzcuOTEgNDQuODUgMzUuMTEgNDEuOTEgMi40OSA0Ny42OSAxNS45NiA3MC43OCIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtMiIgcG9pbnRzPSIyLjkyIDQ4LjA3IDM2LjM4IDQyLjE3IDM2LjEgMzguMTIgNy4zMyAyMS43IDIuOTIgNDguMDciLz48cG9seWdvbiBjbGFzcz0iY2xzLTIiIHBvaW50cz0iNy4xMSAyMS43MSAzNi42OCAzOC40NSAzOS4wNCAzNS4xNSAyNy4yOSA0LjE4IDcuMTEgMjEuNzEiLz48cGF0aCBjbGFzcz0iY2xzLTMiIGQ9Ik04My40LDQzQTQxLjI1LDQxLjI1LDAsMSwwLDI5LjUsODIuM0w0My40LDk2LjUsNTUuMyw4Mi4xQTQxLjI5LDQxLjI5LDAsMCwwLDgzLjQsNDNaTTY1LjcsNzAuNkw0Ni41LDQ3LjdhNiw2LDAsMCwwLDEuOC0zLjJsMjkuNCw1LjJBMzYuMzMsMzYuMzMsMCwwLDEsNjUuNyw3MC42Wk02LjUsNDkuN2wyOS40LTUuMmE2LjgzLDYuODMsMCwwLDAsMS44LDMuMkwxOC41LDcwLjZBMzYuMzMsMzYuMzMsMCwwLDEsNi41LDQ5LjdaTTUuOSw0M2EzNS44MiwzNS44MiwwLDAsMSw0LjctMTcuOEwzNi40LDQwLjFhNS45Miw1LjkyLDAsMCwwLS43LDIuOXYwLjdMNi4zLDQ5QTM5LjQ1LDM5LjQ1LDAsMCwxLDUuOSw0M1pNMjkuNCw5LjFsMTAuMiwyOGE2LDYsMCwwLDAtMi44LDIuNEwxMC45LDI0LjZBMzYuNjIsMzYuNjIsMCwwLDEsMjkuNCw5LjFaTTQyLjEsNi44YTM0LDM0LDAsMCwxLDEyLDIuMWwtMTAuMiwyOGE1LjY2LDUuNjYsMCwwLDAtMS44LS4zLDUuMjMsNS4yMywwLDAsMC0xLjguM0wzMC4xLDguOUEzNCwzNCwwLDAsMSw0Mi4xLDYuOFpNNzMuMywyNC42TDQ3LjUsMzkuNWE3LjIsNy4yLDAsMCwwLTIuOC0yLjRsMTAuMi0yOEEzNi44LDM2LjgsMCwwLDEsNzMuMywyNC42Wk0xOS4xLDcxTDM4LjMsNDguMWE3LjA5LDcuMDksMCwwLDAsMy41LDEuM1Y3OS4yQTM1LjQ0LDM1LjQ0LDAsMCwxLDE5LjEsNzFabTIzLjQsOC4zVjQ5LjRBNi4yNSw2LjI1LDAsMCwwLDQ2LDQ4LjFMNjUuMSw3MUEzNiwzNiwwLDAsMSw0Mi41LDc5LjNabTYtMzUuNVY0My4xYTcuMjcsNy4yNywwLDAsMC0uNy0yLjlMNzMuNiwyNS4zYTM1LjgyLDM1LjgyLDAsMCwxLDQuNywxNy44LDM4LjA4LDM4LjA4LDAsMCwxLS41LDUuOVoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0wLjkgLTEuOCkiLz48L3N2Zz4=");';case 8:return'background-image: url("data:image/svg+xml;base64,PHN2ZyBpZD0id2hpdGVfYmciIGRhdGEtbmFtZT0id2hpdGUgYmciIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDgyLjUgOTQuNyI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiNmZmY7fS5jbHMtMntmaWxsOiNmZjJkMjk7fS5jbHMtM3tmaWxsOiMzMzM7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT5odWItODwvdGl0bGU+PGNpcmNsZSBjbGFzcz0iY2xzLTEiIGN4PSI0MS4yNSIgY3k9IjQxLjIiIHI9IjM4LjE4Ii8+PHBvbHlnb24gY2xhc3M9ImNscy0yIiBwb2ludHM9IjY2LjM5IDcxIDQ0LjQ0IDQ1LjA2IDQ3LjI0IDQyLjEzIDc5Ljg2IDQ3LjkxIDY2LjM5IDcxIi8+PHBvbHlnb24gY2xhc3M9ImNscy0yIiBwb2ludHM9Ijc5LjQzIDQ4LjI4IDQ1Ljk3IDQyLjM4IDQ2LjI1IDM4LjMzIDc1LjAyIDIxLjkyIDc5LjQzIDQ4LjI4Ii8+PHBvbHlnb24gY2xhc3M9ImNscy0yIiBwb2ludHM9Ijc1LjI0IDIxLjkyIDQ1LjY3IDM4LjY2IDQzLjMxIDM1LjM2IDU1LjA2IDQuMzkgNzUuMjQgMjEuOTIiLz48cG9seWdvbiBjbGFzcz0iY2xzLTIiIHBvaW50cz0iNTQuNTUgNC42OSA0Mi44NiAzNi41OSAzOC45MiAzNS42IDI3LjgzIDQuMzkgNTQuNTUgNC42OSIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtMiIgcG9pbnRzPSI0MS4xIDgwLjA3IDQxLjE1IDQ2LjA5IDM3LjExIDQ1LjY1IDE1LjkyIDcxLjExIDQxLjEgODAuMDciLz48cG9seWdvbiBjbGFzcz0iY2xzLTIiIHBvaW50cz0iMTUuOTYgNzAuNzggMzcuOTEgNDQuODUgMzUuMTEgNDEuOTEgMi40OSA0Ny42OSAxNS45NiA3MC43OCIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtMiIgcG9pbnRzPSIyLjkyIDQ4LjA3IDM2LjM4IDQyLjE3IDM2LjEgMzguMTIgNy4zMyAyMS43IDIuOTIgNDguMDciLz48cG9seWdvbiBjbGFzcz0iY2xzLTIiIHBvaW50cz0iNy4xMSAyMS43MSAzNi42OCAzOC40NSAzOS4wNCAzNS4xNSAyNy4yOSA0LjE4IDcuMTEgMjEuNzEiLz48cGF0aCBjbGFzcz0iY2xzLTMiIGQ9Ik04My40LDQzQTQxLjI1LDQxLjI1LDAsMSwwLDI5LjUsODIuM0w0My40LDk2LjUsNTUuMyw4Mi4xQTQxLjI5LDQxLjI5LDAsMCwwLDgzLjQsNDNaTTY1LjcsNzAuNkw0Ni41LDQ3LjdhNiw2LDAsMCwwLDEuOC0zLjJsMjkuNCw1LjJBMzYuMzMsMzYuMzMsMCwwLDEsNjUuNyw3MC42Wk02LjUsNDkuN2wyOS40LTUuMmE2LjgzLDYuODMsMCwwLDAsMS44LDMuMkwxOC41LDcwLjZBMzYuMzMsMzYuMzMsMCwwLDEsNi41LDQ5LjdaTTUuOSw0M2EzNS44MiwzNS44MiwwLDAsMSw0LjctMTcuOEwzNi40LDQwLjFhNS45Miw1LjkyLDAsMCwwLS43LDIuOXYwLjdMNi4zLDQ5QTM5LjQ1LDM5LjQ1LDAsMCwxLDUuOSw0M1pNMjkuNCw5LjFsMTAuMiwyOGE2LDYsMCwwLDAtMi44LDIuNEwxMC45LDI0LjZBMzYuNjIsMzYuNjIsMCwwLDEsMjkuNCw5LjFaTTQyLjEsNi44YTM0LDM0LDAsMCwxLDEyLDIuMWwtMTAuMiwyOGE1LjY2LDUuNjYsMCwwLDAtMS44LS4zLDUuMjMsNS4yMywwLDAsMC0xLjguM0wzMC4xLDguOUEzNCwzNCwwLDAsMSw0Mi4xLDYuOFpNNzMuMywyNC42TDQ3LjUsMzkuNWE3LjIsNy4yLDAsMCwwLTIuOC0yLjRsMTAuMi0yOEEzNi44LDM2LjgsMCwwLDEsNzMuMywyNC42Wk0xOS4xLDcxTDM4LjMsNDguMWE3LjA5LDcuMDksMCwwLDAsMy41LDEuM1Y3OS4yQTM1LjQ0LDM1LjQ0LDAsMCwxLDE5LjEsNzFabTIzLjQsOC4zVjQ5LjRBNi4yNSw2LjI1LDAsMCwwLDQ2LDQ4LjFMNjUuMSw3MUEzNiwzNiwwLDAsMSw0Mi41LDc5LjNabTYtMzUuNVY0My4xYTcuMjcsNy4yNywwLDAsMC0uNy0yLjlMNzMuNiwyNS4zYTM1LjgyLDM1LjgyLDAsMCwxLDQuNywxNy44LDM4LjA4LDM4LjA4LDAsMCwxLS41LDUuOVoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0wLjkgLTEuOCkiLz48L3N2Zz4=");';case 9:return'background-image: url("data:image/svg+xml;base64,PHN2ZyBpZD0id2hpdGVfYmciIGRhdGEtbmFtZT0id2hpdGUgYmciIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDgyLjUgOTQuNyI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiNmZmY7fS5jbHMtMntmaWxsOiNmZjJkMjk7fS5jbHMtM3tmaWxsOiMzMzM7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT5odWItOTwvdGl0bGU+PGNpcmNsZSBjbGFzcz0iY2xzLTEiIGN4PSI0MS4yNSIgY3k9IjQxLjIiIHI9IjM4LjE4Ii8+PHBvbHlnb24gY2xhc3M9ImNscy0yIiBwb2ludHM9IjQxLjI1IDgwLjI4IDQxLjIgNDYuMzEgNDUuMjQgNDUuODcgNjYuNDMgNzEuMzIgNDEuMjUgODAuMjgiLz48cG9seWdvbiBjbGFzcz0iY2xzLTIiIHBvaW50cz0iNjYuMzkgNzEgNDQuNDQgNDUuMDYgNDcuMjQgNDIuMTMgNzkuODYgNDcuOTEgNjYuMzkgNzEiLz48cG9seWdvbiBjbGFzcz0iY2xzLTIiIHBvaW50cz0iNzkuNDMgNDguMjggNDUuOTcgNDIuMzggNDYuMjUgMzguMzMgNzUuMDIgMjEuOTIgNzkuNDMgNDguMjgiLz48cG9seWdvbiBjbGFzcz0iY2xzLTIiIHBvaW50cz0iNzUuMjQgMjEuOTIgNDUuNjcgMzguNjYgNDMuMzEgMzUuMzYgNTUuMDYgNC4zOSA3NS4yNCAyMS45MiIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtMiIgcG9pbnRzPSI1NC41NSA0LjY5IDQyLjg2IDM2LjU5IDM4LjkyIDM1LjYgMjcuODMgNC4zOSA1NC41NSA0LjY5Ii8+PHBvbHlnb24gY2xhc3M9ImNscy0yIiBwb2ludHM9IjQxLjEgODAuMDcgNDEuMTUgNDYuMDkgMzcuMTEgNDUuNjUgMTUuOTIgNzEuMTEgNDEuMSA4MC4wNyIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtMiIgcG9pbnRzPSIxNS45NiA3MC43OCAzNy45MSA0NC44NSAzNS4xMSA0MS45MSAyLjQ5IDQ3LjY5IDE1Ljk2IDcwLjc4Ii8+PHBvbHlnb24gY2xhc3M9ImNscy0yIiBwb2ludHM9IjIuOTIgNDguMDcgMzYuMzggNDIuMTcgMzYuMSAzOC4xMiA3LjMzIDIxLjcgMi45MiA0OC4wNyIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtMiIgcG9pbnRzPSI3LjExIDIxLjcxIDM2LjY4IDM4LjQ1IDM5LjA0IDM1LjE1IDI3LjI5IDQuMTggNy4xMSAyMS43MSIvPjxwYXRoIGNsYXNzPSJjbHMtMyIgZD0iTTgzLjQsNDNBNDEuMjUsNDEuMjUsMCwxLDAsMjkuNSw4Mi4zTDQzLjQsOTYuNSw1NS4zLDgyLjFBNDEuMjksNDEuMjksMCwwLDAsODMuNCw0M1pNNjUuNyw3MC42TDQ2LjUsNDcuN2E2LDYsMCwwLDAsMS44LTMuMmwyOS40LDUuMkEzNi4zMywzNi4zMywwLDAsMSw2NS43LDcwLjZaTTYuNSw0OS43bDI5LjQtNS4yYTYuODMsNi44MywwLDAsMCwxLjgsMy4yTDE4LjUsNzAuNkEzNi4zMywzNi4zMywwLDAsMSw2LjUsNDkuN1pNNS45LDQzYTM1LjgyLDM1LjgyLDAsMCwxLDQuNy0xNy44TDM2LjQsNDAuMWE1LjkyLDUuOTIsMCwwLDAtLjcsMi45djAuN0w2LjMsNDlBMzkuNDUsMzkuNDUsMCwwLDEsNS45LDQzWk0yOS40LDkuMWwxMC4yLDI4YTYsNiwwLDAsMC0yLjgsMi40TDEwLjksMjQuNkEzNi42MiwzNi42MiwwLDAsMSwyOS40LDkuMVpNNDIuMSw2LjhhMzQsMzQsMCwwLDEsMTIsMi4xbC0xMC4yLDI4YTUuNjYsNS42NiwwLDAsMC0xLjgtLjMsNS4yMyw1LjIzLDAsMCwwLTEuOC4zTDMwLjEsOC45QTM0LDM0LDAsMCwxLDQyLjEsNi44Wk03My4zLDI0LjZMNDcuNSwzOS41YTcuMiw3LjIsMCwwLDAtMi44LTIuNGwxMC4yLTI4QTM2LjgsMzYuOCwwLDAsMSw3My4zLDI0LjZaTTE5LjEsNzFMMzguMyw0OC4xYTcuMDksNy4wOSwwLDAsMCwzLjUsMS4zVjc5LjJBMzUuNDQsMzUuNDQsMCwwLDEsMTkuMSw3MVptMjMuNCw4LjNWNDkuNEE2LjI1LDYuMjUsMCwwLDAsNDYsNDguMUw2NS4xLDcxQTM2LDM2LDAsMCwxLDQyLjUsNzkuM1ptNi0zNS41VjQzLjFhNy4yNyw3LjI3LDAsMCwwLS43LTIuOUw3My42LDI1LjNhMzUuODIsMzUuODIsMCwwLDEsNC43LDE3LjgsMzguMDgsMzguMDgsMCwwLDEtLjUsNS45WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTAuOSAtMS44KSIvPjwvc3ZnPg==");';case 10:return'background-image: url("data:image/svg+xml;base64,PHN2ZyBpZD0ic3ZnNDYxOSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTUgMTcuMTQiPjxkZWZzPjxzdHlsZT4uY2xzLTF7ZmlsbDojZjk0YTE1O308L3N0eWxlPjwvZGVmcz48dGl0bGU+YmlrZXNoYXJlX291dF9vZl9odWI8L3RpdGxlPjxwYXRoIGlkPSJjaXJjbGU0NjA0IiBjbGFzcz0iY2xzLTEiIGQ9Ik0xMS42OSwxLjM4YTEsMSwwLDEsMCwxLDFBMSwxLDAsMCwwLDExLjY5LDEuMzhabS0xLjg2LDJhMC41LDAuNSwwLDAsMC0uMzUuMTRMNi44NCw2YTAuNSwwLjUsMCwwLDAsMCwuNzZsMS44LDEuMzV2Mi43NWEwLjUsMC41LDAsMSwwLDEsMHYtM2EwLjUsMC41LDAsMCwwLS4yLTAuNEw4LjcyLDYuOWwxLjgyLTEuNzIsMC43NSwxYTAuNSwwLjUsMCwwLDAsLjQuMmgxLjVhMC41LDAuNSwwLDEsMCwwLTFIMTEuOTRsLTAuNzUtMS0wLjYtLjhhMC41LDAuNSwwLDAsMC0uMzgtMC4yMUg5LjgzWm0tNS4xNCw0YTMsMywwLDEsMCwzLDNBMywzLDAsMCwwLDQuNjksNy4zOFptOSwwYTMsMywwLDEsMCwzLDNBMywzLDAsMCwwLDEzLjY5LDcuMzhabS05LDFhMiwyLDAsMSwxLTIsMkEyLDIsMCwwLDEsNC42OSw4LjM4Wm05LDBhMiwyLDAsMSwxLTIsMkEyLDIsMCwwLDEsMTMuNjksOC4zOFoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xLjY5IC0xLjM4KSIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtMSIgcG9pbnRzPSIzLjMgMTIuOTQgNy41IDE3LjE0IDExLjcgMTIuOTQgMy4zIDEyLjk0Ii8+PC9zdmc+");';default:return'background-image: url("data:image/svg+xml;base64,PHN2ZyBpZD0id2hpdGVfYmciIGRhdGEtbmFtZT0id2hpdGUgYmciIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDgyLjUgOTQuNyI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiNmZmY7fS5jbHMtMntmaWxsOiMzMzM7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT5odWItMDwvdGl0bGU+PGNpcmNsZSBjbGFzcz0iY2xzLTEiIGN4PSI0MS4yNSIgY3k9IjQxLjIiIHI9IjM4LjE4Ii8+PHBhdGggY2xhc3M9ImNscy0yIiBkPSJNODMuNCw0M0E0MS4yNSw0MS4yNSwwLDEsMCwyOS41LDgyLjNMNDMuNCw5Ni41LDU1LjMsODIuMUE0MS4yOSw0MS4yOSwwLDAsMCw4My40LDQzWk02NS43LDcwLjZMNDYuNSw0Ny43YTYsNiwwLDAsMCwxLjgtMy4ybDI5LjQsNS4yQTM2LjMzLDM2LjMzLDAsMCwxLDY1LjcsNzAuNlpNNi41LDQ5LjdsMjkuNC01LjJhNi44Myw2LjgzLDAsMCwwLDEuOCwzLjJMMTguNSw3MC42QTM2LjMzLDM2LjMzLDAsMCwxLDYuNSw0OS43Wk01LjksNDNhMzUuODIsMzUuODIsMCwwLDEsNC43LTE3LjhMMzYuNCw0MC4xYTUuOTIsNS45MiwwLDAsMC0uNywyLjl2MC43TDYuMyw0OUEzOS40NSwzOS40NSwwLDAsMSw1LjksNDNaTTI5LjQsOS4xbDEwLjIsMjhhNiw2LDAsMCwwLTIuOCwyLjRMMTAuOSwyNC42QTM2LjYyLDM2LjYyLDAsMCwxLDI5LjQsOS4xWk00Mi4xLDYuOGEzNCwzNCwwLDAsMSwxMiwyLjFsLTEwLjIsMjhhNS42Niw1LjY2LDAsMCwwLTEuOC0uMyw1LjIzLDUuMjMsMCwwLDAtMS44LjNMMzAuMSw4LjlBMzQsMzQsMCwwLDEsNDIuMSw2LjhaTTczLjMsMjQuNkw0Ny41LDM5LjVhNy4yLDcuMiwwLDAsMC0yLjgtMi40bDEwLjItMjhBMzYuOCwzNi44LDAsMCwxLDczLjMsMjQuNlpNMTkuMSw3MUwzOC4zLDQ4LjFhNy4wOSw3LjA5LDAsMCwwLDMuNSwxLjNWNzkuMkEzNS40NCwzNS40NCwwLDAsMSwxOS4xLDcxWm0yMy40LDguM1Y0OS40QTYuMjUsNi4yNSwwLDAsMCw0Niw0OC4xTDY1LjEsNzFBMzYsMzYsMCwwLDEsNDIuNSw3OS4zWm02LTM1LjVWNDMuMWE3LjI3LDcuMjcsMCwwLDAtLjctMi45TDczLjYsMjUuM2EzNS44MiwzNS44MiwwLDAsMSw0LjcsMTcuOCwzOC4wOCwzOC4wOCwwLDAsMS0uNSw1LjlaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMC45IC0xLjgpIi8+PC9zdmc+");'}}(e.percent)})),hu=Object(Z.default)(pu.a).withConfig({displayName:"styled__StationMarker",componentId:"sc-1lr3k75-1"})(["color:",";height:12;width:12;"],(function(e){return e.color}));function gu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gu(Object(n),!0).forEach((function(t){D()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vu=function(e){return e.isFloatingCar?"#009cde":e.isFloatingVehicle?"#f5a729":void 0!==e.bikesAvailable||e.isFloatingBike?"#f00":"gray"},bu=function(e){var t=e.companies,n=e.configCompanies,r=e.getStationName,i=e.id,o=e.refreshVehicles,a=e.setLocation,s=e.stations,l=e.visible,c=Object(k.i)().current,u=Object(F.useState)(null==c?void 0:c.getZoom()),d=B()(u,2),f=d[0],p=d[1],m="rental-vehicles-".concat(i),h=Object(F.useState)(null),g=B()(h,2),y=g[0],v=g[1];if(Object(F.useEffect)((function(){o&&"function"==typeof o&&(o(),setInterval(o,3e4))}),[o]),Object(F.useEffect)((function(){[m].forEach((function(e){null==c||c.on("mouseenter",e,(function(){c.getCanvas().style.cursor="pointer"})),null==c||c.on("mouseleave",e,(function(){c.getCanvas().style.cursor=""})),null==c||c.on("click",e,(function(e){var t;v(null===(t=e.features)||void 0===t?void 0:t[0].properties)}))})),c.on("zoom",(function(e){var t=e.viewState.zoom;Math.floor(f/2)!==Math.floor(t/2)&&p(t)}))}),[c]),!1===l||!s||0===s.length)return U.a.createElement(U.a.Fragment,null);var b={type:"FeatureCollection",features:s.filter((function(e){return!t||!e.networks||t.includes(e.networks[0])})).map((function(e){return{type:"Feature",geometry:{type:"Point",coordinates:[e.x,e.y]},properties:yu(yu({},e),{},{networks:JSON.stringify(e.networks),"stroke-width":e.isFloatingBike||e.isFloatingVehicle?1:2,color:vu(e)})}}))};return U.a.createElement(U.a.Fragment,null,f<16&&U.a.createElement(k.h,{type:"geojson",data:b},U.a.createElement(k.b,{id:m,paint:{"circle-color":["get","color"],"circle-opacity":.9,"circle-stroke-color":"#333","circle-stroke-width":["get","stroke-width"]},type:"circle"})),f>=16&&s.map((function(e){return U.a.createElement(ms,{key:e.id,popupContents:U.a.createElement(fu,{configCompanies:n,setLocation:function(e){v(null),a(e)},getEntityName:r&&function(e,t){return r(t,e)},entity:e}),position:[e.y,e.x]},void 0===e.bikesAvailable||e.isFloatingBike||e.isFloatingVehicle||void 0===e.spacesAvailable?U.a.createElement(hu,{width:12,color:vu(e)}):U.a.createElement(mu,{percent:(null==e?void 0:e.bikesAvailable)/((null==e?void 0:e.bikesAvailable)+(null==e?void 0:e.spacesAvailable))}))})),y&&U.a.createElement(hs,{latitude:y.y,longitude:y.x,maxWidth:"100%",onClose:function(){v(null)}},U.a.createElement(fu,{configCompanies:n,getEntityName:r&&function(e,t){return r(t,e)},setLocation:function(e){v(null),a(e)},entity:yu(yu({},y),{},{networks:JSON.parse(y.networks)})})))};function wu(e){return(wu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Eu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _u(e,t){return(_u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Au(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Su(e);if(t){var i=Su(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ou(this,n)}}function Ou(e,t){if(t&&("object"===wu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Su(e){return(Su=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Tu,Iu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_u(e,t)}(o,e);var t,n,r,i=Au(o);function o(){return xu(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){return U.a.createElement(bu,this.props)}}])&&Eu(t.prototype,n),r&&Eu(t,r),o}(F.Component),ku={setLocation:ve.e},Cu=Object(I.c)((function(e,t){return{configCompanies:e.otp.config.companies,zoom:e.otp.config.map.initZoom}}),ku)(Iu),Mu=n(246);function Nu(e){return(Nu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ju(){return(ju=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Lu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ru(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lu(Object(n),!0).forEach((function(t){Wu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Du(e){return function(e){if(Array.isArray(e))return Bu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Pu(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pu(e,t){if(e){if("string"==typeof e)return Bu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bu(e,t):void 0}}function Bu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Uu(e,t){return(Uu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Hu(e);if(t){var i=Hu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Vu(this,n)}}function Vu(e,t){if(t&&("object"===Nu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Gu(e)}function Gu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hu(e){return(Hu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yu=Z.default.div(Tu||(Tu=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  height: 100%;\n  width: 100%;\n\n  .map {\n    height: 100%;\n    width: 100%;\n  }\n\n  * {\n    box-sizing: unset;\n  }\n\n  .maplibregl-popup-content,\n  .mapboxgl-popup-content {\n    border-radius: 10px;\n    box-shadow: 0 3px 14px 4px rgb(0 0 0 / 20%);\n  }\n"])));function Qu(e,t,n){return n.formatList((e||[]).map((function(e){var n,r;return(null===(n=t.companies)||void 0===n||null===(r=n.find((function(t){return t.id===e})))||void 0===r?void 0:r.label)||e})),{type:"conjunction"})}function Zu(e,t,n){var r=e.companies,i=e.name,o=e.type;switch(i){case"Streets":return n.formatMessage({id:"components.MapLayers.streets"});case"Satellite":return n.formatMessage({id:"components.MapLayers.satellite"});case"Stops":return n.formatMessage({id:"components.MapLayers.stops"});default:if(i)return i}switch(o){case"streets":return n.formatMessage({id:"components.MapLayers.streets"});case"satellite":return n.formatMessage({id:"components.MapLayers.satellite"});case"bike-rental":case"otp2-bike-rental":case"rentalStations":return n.formatMessage({id:"components.MapLayers.bike-rental"},{companies:Qu(r,t,n)});case"car-rental":return n.formatMessage({id:"components.MapLayers.car-rental"});case"micromobility-rental":case"otp2-micromobility-rental":return n.formatMessage({id:"components.MapLayers.micromobility-rental"},{companies:Qu(r,t,n)});case"park-and-ride":return n.formatMessage({id:"components.MapLayers.park-and-ride"});case"stops":return n.formatMessage({id:"components.MapLayers.stops"});case"stations":return n.formatMessage({id:"components.MapLayers.stations"});case"rentalVehicles":return e.network?Qu([e.network],t,n):n.formatMessage({id:"components.MapLayers.shared-vehicles"});case"otp2":return o;default:return console.warn("No name found for overlay type ".concat(o,".")),o}}var Xu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Uu(e,t)}(o,e);var t,n,r,i=zu(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Wu(Gu(t=i.call(this,e)),"getEntityPrefix",(function(e){var n=!!e.stops&&JSON.parse(e.stops)[0]||e.gtfsId;return t.props.findStopTimesForStop({date:Object(C.getCurrentDate)(),stopId:n}),U.a.createElement(Ae,{stopId:n})})),Wu(Gu(t),"_handleQueryChange",(function(e,n){var r=(t.props.mapConfig||{}).overlays,i=void 0===r?[]:r;if(e.mode){var o,a=e.mode.split(","),s=n.mode.split(","),l=a.filter((function(e){return!s.includes(e)})),c=s.filter((function(e){return!a.includes(e)})),u=[],d=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Pu(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(i);try{for(d.s();!(o=d.n()).done;){var f=o.value;if(f.modes&&1===f.modes.length){var p=f.modes[0];if("CAR_RENT"!==p&&"CAR_HAIL"!==p&&"MICROMOBILITY_RENT"!==p&&"SCOOTER"!==p||!f.companies)c.includes(p)&&u.push({overlay:f,visible:!0}),l.includes(p)&&u.push({overlay:f,visible:!1});else{var m,h=f.companies[0];if(c.includes(p))(null===(m=n.companies)||void 0===m?void 0:m.includes(h))&&u.push({overlay:f,visible:!0});else l.includes(p)?u.push({overlay:f,visible:!1}):s.includes(p)&&e.companies!==n.companies&&u.push({overlay:f,visible:n.companies.includes(h)})}}}}catch(e){d.e(e)}finally{d.f()}u.length>0&&t.props.updateOverlayVisibility(u)}})),Wu(Gu(t),"onMapClick",(function(e){t.props.setMapPopupLocationAndGeocode(e)}));var n=e.mapConfig||{},r=n.initLat,a=void 0===r?null:r,s=n.initLon,l=void 0===s?null:s,c=n.initZoom,u=void 0===c?13:c;return t.state={lat:a,lon:l,zoom:u},t}return t=o,(n=[{key:"componentDidMount",value:function(){this.setState({lat:null,lon:null})}},{key:"componentDidUpdate",value:function(e){this._handleQueryChange(e.query,this.props.query)}},{key:"render",value:function(){var e,t,n=this,r=this.props,i=r.bikeRentalQuery,o=r.bikeRentalStations,a=r.carRentalQuery,s=r.carRentalStations,l=r.config,c=r.getCurrentPosition,u=r.intl,d=r.itinerary,f=r.mapConfig,p=r.nearbyViewActive,m=r.pending,h=r.setLocation,g=r.setViewedStop,y=r.vehicleRentalQuery,v=r.vehicleRentalStations,b=r.viewedRouteStops,w=this.context,x=w.getCustomMapOverlays,E=w.getTransitiveRouteLabel,_=w.ModeIcon,A=f||{},O=A.baseLayers,S=A.maxZoom,T=A.navigationControlPosition,I=A.overlays,C=this.state,M=C.lat,j=C.lon,L=C.zoom,R="".concat(Object(pe.a)(l)).concat(null===(e=l.api)||void 0===e?void 0:e.path,"/vectorTiles"),D=[].concat(Du(o.filter((function(e){return!e.isFloatingVehicle||!1===e.isFloatingVehicle}))),Du(v.filter((function(e){return!0===e.isFloatingBike})))),P=v.filter((function(e){return!1===e.isFloatingBike&&e.isFloatingVehicle})),B=null==O?void 0:O.map((function(e){return Ru(Ru({},e),{},{name:Zu(e,l,u)})})),F=null==B?void 0:B.map((function(e){return e.url})),z=null==B?void 0:B.map((function(e){return e.name})),V=(null==I||null===(t=I.find((function(e){return"vehicles-one-route"===e.type})))||void 0===t?void 0:t.name)||void 0;return U.a.createElement(Yu,{className:"percy-hide"},U.a.createElement(N.d,{baseLayer:(null==F?void 0:F.length)>1?F:null==F?void 0:F[0],baseLayerNames:z,center:[M,j],mapLibreProps:{reuseMaps:!0},maxZoom:S,onContextMenu:this.onMapClick,showEverything:p,zoom:L},U.a.createElement(pn,null),U.a.createElement(bt,null),U.a.createElement(yt,null),U.a.createElement(hn,null),U.a.createElement(Ue,null),U.a.createElement(Nn,null),U.a.createElement(Ja,{id:V,key:V,ModeIcon:_,name:V,visible:!0}),U.a.createElement(k.a,{onGeolocate:function(){c(u)},position:"top-left"}),U.a.createElement(va,{getTransitiveRouteLabel:E}),U.a.createElement(ts,null),U.a.createElement(ke,null),null==I?void 0:I.map((function(e,t){var r=Ru(Ru({},e),{},{id:t,key:t,name:Zu(e,l,u)});switch(e.type){case"geojson":return U.a.createElement(Ye,ju({},r,{url:e.url}));case"bike-rental":return U.a.createElement(Cu,ju({},r,{refreshVehicles:i,stations:o}));case"car-rental":return U.a.createElement(Cu,ju({},r,{refreshVehicles:a,stations:s}));case"park-and-ride":return U.a.createElement(en,r);case"stops":return U.a.createElement(ga,r);case"micromobility-rental":return U.a.createElement(Cu,ju({},r,{refreshVehicles:y,stations:v}));case"otp2-micromobility-rental":return U.a.createElement(Cu,ju({key:t},r,{refreshVehicles:y,stations:P}));case"otp2-bike-rental":return U.a.createElement(Cu,ju({key:t},r,{refreshVehicles:i,stations:D}));case"otp2":return fe(e.layers.map((function(e){return Ru(Ru({},e),{},{name:Zu(e,l,u)||e.network||e.type})})),R,h,g,b,l.companies,n.getEntityPrefix);default:return null}})),"function"==typeof x&&x(!d&&!m),U.a.createElement(k.f,{position:T||"bottom-right"})))}}])&&Fu(t.prototype,n),r&&Fu(t,r),o}(F.Component);Wu(Xu,"contextType",me.a);var Ju={bikeRentalQuery:pe.b,carRentalQuery:pe.c,findStopTimesForStop:pe.t,getCurrentPosition:ge.c,setLocation:ve.e,setMapPopupLocationAndGeocode:ve.h,setViewedStop:be.p,updateOverlayVisibility:we.b,vehicleRentalQuery:pe.W};t.a=Object(I.c)((function(e){var t,n,r,i,o,a,s,l=Object(he.getActiveSearch)(e),c=null===(t=e.otp)||void 0===t||null===(n=t.ui)||void 0===n||null===(r=n.viewedRoute)||void 0===r?void 0:r.routeId,u=e.otp.ui.mainPanelContent===ye.a.NEARBY_VIEW,d=Object.entries((null===(i=e.otp)||void 0===i||null===(o=i.transitIndex)||void 0===o||null===(a=o.routes)||void 0===a||null===(s=a[c])||void 0===s?void 0:s.patterns)||{}),f=c&&!u?Array.from(new Set(d.reduce((function(e,t){var n;return[].concat(Du(null==t||null===(n=t[1])||void 0===n?void 0:n.stops.map((function(e){return e.id}))),Du(e))}),[]))):null;return{bikeRentalStations:e.otp.overlay.bikeRental.stations,carRentalStations:e.otp.overlay.carRental.stations,config:e.otp.config,itinerary:Object(he.getActiveItinerary)(e),mapConfig:e.otp.config.map,nearbyViewActive:e.otp.ui.mainPanelContent===ye.a.NEARBY_VIEW,pending:!!l&&Boolean(l.pending),query:e.otp.currentQuery,vehicleRentalStations:e.otp.overlay.vehicleRental.stations,viewedRouteStops:f}}),Ju)(Object(M.c)(Object(Mu.a)(Xu)))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(3),i=n(180),o=n(181);function a(e,t){Object(r.a)(2,arguments);var n=Object(i.a)(e)-t;return n<=0&&(n+=7),Object(o.a)(e,n)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(95),i=n(180),o=n(3);function a(e,t){Object(o.a)(2,arguments);var n=t-Object(i.a)(e);return n<=0&&(n+=7),Object(r.a)(e,n)}},function(e,t,n){"use strict";function r(e,t){const n=Array.isArray(e)?e[0]:e?e.x:0,r=Array.isArray(e)?e[1]:e?e.y:0,i=Array.isArray(t)?t[0]:t?t.x:0,o=Array.isArray(t)?t[1]:t?t.y:0;return n===i&&r===o}function i(e,t){if(e===t)return!0;if(!e||!t)return!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!i(e[n],t[n]))return!1;return!0}if(Array.isArray(t))return!1;if("object"==typeof e&&"object"==typeof t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const r of n){if(!t.hasOwnProperty(r))return!1;if(!i(e[r],t[r]))return!1}return!0}return!1}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}))},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,l,"next",e)}function l(e){r(a,i,o,s,l,"throw",e)}s(void 0)}))}}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"get",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i={"Content-Type":"application/json"};return t&&(i["x-api-key"]=t),e&&(i.Authorization="Bearer ".concat(e)),a({headers:i,method:n,mode:"cors"},r)}function c(e,t,n){return u.apply(this,arguments)}function u(){return(u=i(regeneratorRuntime.mark((function e(t,n,r){var i,o,a,s,c,u=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]?u[3]:"get",o=u.length>4&&void 0!==u[4]?u[4]:{},e.next=4,fetch(t,l(n,r,i,o));case 4:if(!((a=e.sent).status&&a.status>=400||a.code&&a.code>=400)){e.next=12;break}return e.next=8,a.json();case 8:return s=e.sent,c="Error ".concat(i,"-ing user: ").concat(s.message),s.detail&&(c+="  (".concat(s.detail,")")),e.abrupt("return",{message:c,status:"error"});case 12:return e.next=14,a.json();case 14:return e.t0=e.sent,e.abrupt("return",{data:e.t0,status:"success"});case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c})),"undefined"==typeof fetch&&n(280)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")},e.exports=t.default},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return d}));var r=n(12),i=n(7),o=n(25),a=Object(r.a)("SET_ACTIVE_ITINERARY");function s(e){return function(t,n){t(a(e));var r=i.default.query.getUrlParams();r.ui_activeItinerary=e.index,-1!==e.index&&"-1"!==e.index||(r.ui_itineraryView=void 0,r.ui_activeItinerary=void 0),t(Object(o.T)(r))}}var l=Object(r.a)("SET_ACTIVE_LEG"),c=Object(r.a)("SET_ACTIVE_STEP"),u=Object(r.a)("SET_VISIBLE_ITINERARY"),d=Object(r.a)("UPDATE_ITINERARY_FILTER")},function(e,t,n){"use strict";n.d(t,"d",(function(){return Vi})),n.d(t,"e",(function(){return yo})),n.d(t,"f",(function(){return Bm})),n.d(t,"a",(function(){return kw})),n.d(t,"b",(function(){return Db})),n.d(t,"c",(function(){return Hw})),n.d(t,"g",(function(){return $w})),n.d(t,"h",(function(){return gx})),n.d(t,"i",(function(){return Nx}));var r=n(8),i=n(7),o=n(0),a=n.n(o),s=n(46),l=n(119),c=n(80);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p={ARRIVE:"ARRIVALTIME",DEPART:"DEPARTURETIME",NOW:"DURATION"},m={ARRIVE:"ASC",DEPART:"DESC",NOW:"DESC"};var h={setQueryParam:s.h,updateItineraryFilter:l.e},g=Object(r.c)((function(e){var t=e.otp.currentQuery,n=t.date,r=t.departArrive,o=t.time,a=e.otp.config,s=e.otp.filter.sort;return{config:a,date:n,dateFormatLegacy:i.default.time.getDateFormat(a),departArrive:r,sort:s,time:o,timeFormatLegacy:i.default.time.getTimeFormat(a)}}),h)((function(e){var t,n=e.config,r=e.date,i=e.dateFormatLegacy,s=e.departArrive,l=e.setQueryParam,u=e.sort,f=e.time,h=e.timeFormatLegacy,g=e.updateItineraryFilter,y=n.homeTimezone,v=n.isTouchScreenOnDesktop?"with-desktop-touchscreen":"",b=null==n||null===(t=n.itinerary)||void 0===t?void 0:t.syncSortWithDepartArrive,w=Object(o.useCallback)((function(e){b&&g({sort:d(d({},u),{},{direction:m[e.departArrive]||u.direction,type:p[e.departArrive]})}),l(e)}),[l,g,u,b]);return a.a.createElement("div",{className:"date-time-modal"},a.a.createElement("div",{className:"main-panel"},a.a.createElement(c.a,{className:"date-time-selector ".concat(v),date:r,dateFormatLegacy:i,departArrive:s,onQueryParamChange:w,time:f,timeFormatLegacy:h,timeZone:y})))})),y=n(312),v=n(156),b=n(43),w=n(20),x=n(229),E=n(69),_=n(6),A=n(32),O=n(167),S=i.default.time.getCurrentDate,T=function(e){var t=e.date,n=e.timeZone;if(Object(A.i)(t))return a.a.createElement(a.a.Fragment,null,"---");var r=Object(b.toDate)(S(n),{timeZone:n}),i=Object(b.toDate)(t,{timeZone:n}),o=Object(x.a)(i,r),s=Object(b.format)(i,"eeee").toLowerCase();if(o>-7&&o<-1){var l=a.a.createElement(O.a,{day:s});return a.a.createElement(E.a,{id:"components.DateTimePreview.dayLastWeek",values:{formattedDayOfWeek:l}})}return-1===o?a.a.createElement(E.a,{id:"common.dateExpressions.yesterday"}):0===o?a.a.createElement(E.a,{id:"common.dateExpressions.today"}):1===o?a.a.createElement(E.a,{id:"common.dateExpressions.tomorrow"}):o>1&&o<7?a.a.createElement(O.a,{day:s}):a.a.createElement(_.FormattedDate,{value:i})},I=function(e){var t=e.departArrive,n=e.time;if(isNaN(n))return a.a.createElement(a.a.Fragment,null,"---");switch(t){case"NOW":return a.a.createElement(E.a,{id:"components.DateTimePreview.leaveNow"});case"DEPART":return a.a.createElement(E.a,{id:"components.DateTimePreview.departAt",values:{departTime:n}});case"ARRIVE":return a.a.createElement(E.a,{id:"components.DateTimePreview.arriveAt",values:{arriveTime:n}});default:return null}},k=Object(r.c)((function(e){var t=e.otp.currentQuery;return{date:t.date,departArrive:t.departArrive,time:t.time,timeZone:e.otp.config.homeTimezone}}))((function(e){var t=e.date,n=e.departArrive,r=e.time,i=e.timeZone,o=Object(b.toDate)("".concat(t," ").concat(r),{timeZone:i}).valueOf();return a.a.createElement(a.a.Fragment,null,a.a.createElement(w.b,{Icon:y.a},a.a.createElement(T,{date:t,timeZone:i})),a.a.createElement("br",null),a.a.createElement(w.b,{Icon:v.a},a.a.createElement(I,{departArrive:n,time:o})))})),C=n(143),M=n(84),N=n(16),j=n(509),L=n(4),R=n.n(L),D=n(10),P=o.forwardRef((function(e,t){return o.createElement(D.a,R()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7l233.4-233.3c12.5-12.5 32.8-12.5 45.3 0z"}))}));P.displayName="Check";var B=o.forwardRef((function(e,t){return o.createElement(D.a,R()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 384 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128v320c0 35.3 28.7 64 64 64h256c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64h-37.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zm-80 128h160c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"}))}));B.displayName="Clipboard";var F=o.forwardRef((function(e,t){return o.createElement(D.a,R()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 448 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M64 32C64 14.3 49.7 0 32 0S0 14.3 0 32v448c0 17.7 14.3 32 32 32s32-14.3 32-32V352l64.3-16.1c41.1-10.3 84.6-5.5 122.5 13.4 44.2 22.1 95.5 24.8 141.7 7.4l34.7-13c12.5-4.7 20.8-16.6 20.8-30V66.1c0-23-24.2-38-44.8-27.7l-9.6 4.8c-46.3 23.2-100.8 23.2-147.1 0-35.1-17.6-75.4-22-113.5-12.5L64 48V32z"}))}));F.displayName="Flag";var U=n(153),z=n(410),V=n(241),G=n(58),H=n(269),W=n.n(H),Y=n(508),Q=n.n(Y),Z=n(2),X=n.n(Z),J=n(21),q=n(44),K=n(47),$=n(240);function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(){return(te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ie(e,t,n){return t&&re(e.prototype,t),n&&re(e,n),e}function oe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ae(e,t)}function ae(e,t){return(ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ue(e);if(t){var i=ue(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return le(this,n)}}function le(e,t){if(t&&("object"===ee(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ce(e)}function ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fe=function(e){oe(n,e);var t=se(n);function n(e){var r;return ne(this,n),de(ce(r=t.call(this,e)),"_resetState",(function(){return r.setState({showCopied:!1})})),de(ce(r),"_onClick",(function(){var e=window.sessionStorage.getItem("routerId"),t=window.location.href;if(e){var n=t.split("#");2===n.length?t="".concat(n[0],"#/start/x/x/x/").concat(e).concat(n[1]):console.warn("URL not formatted as expected, copied URL will not contain session routerId.",e)}Q()(t),r.setState({showCopied:!0}),window.setTimeout(r._resetState,2e3)})),r.state={showCopied:!1},r}return ie(n,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(K.a,{"aria-live":"assertive"},this.state.showCopied&&a.a.createElement(E.a,{id:"components.TripTools.linkCopied"})),a.a.createElement(j.a,{className:"tool-button",onClick:this._onClick},this.state.showCopied?a.a.createElement("span",null,a.a.createElement(w.b,{Icon:P},a.a.createElement(E.a,{id:"components.TripTools.linkCopied"}))):a.a.createElement("span",null,a.a.createElement(w.b,{Icon:B},a.a.createElement(E.a,{id:"components.TripTools.copyLink"})))))}}]),n}(o.Component),pe=function(e){oe(n,e);var t=se(n);function n(){var e;ne(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return de(ce(e=t.call.apply(t,[this].concat(i))),"_onClick",(function(){var e=window.location.href.replace("#","#/print");window.location=e})),e}return ie(n,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(j.a,{className:"tool-button",onClick:this._onClick,role:"link"},a.a.createElement(w.b,{Icon:z.a},a.a.createElement(E.a,{id:"common.forms.print"}))))}}]),n}(o.Component),me=function(e){oe(n,e);var t=se(n);function n(){var e;ne(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return de(ce(e=t.call.apply(t,[this].concat(i))),"_onClick",(function(){var t=e.props,n=t.intl,r=t.mailto,i=t.subject||n.formatMessage({id:"components.TripTools.reportEmailSubject"}),o=[n.formatMessage({id:"components.TripTools.reportEmailTemplate"}),"","SEARCH DATA:","Address: "+window.location.href,"Browser: "+W.a.name+" "+W.a.version,"OS: "+W.a.osname+" "+W.a.osversion,""];window.open("mailto:".concat(r,"?subject=").concat(i,"&body=").concat(encodeURIComponent(o.join("\n"))),"_self")})),e}return ie(n,[{key:"render",value:function(){return a.a.createElement(j.a,{className:"tool-button",onClick:this._onClick},a.a.createElement(w.b,{Icon:F},a.a.createElement(E.a,{id:"components.TripTools.reportIssue"})))}}]),n}(o.Component);me.propTypes={intl:X.a.object,mailto:X.a.string,subject:X.a.string};var he=Object(U.c)(me),ge=function(e){oe(n,e);var t=se(n);function n(){var e;ne(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return de(ce(e=t.call.apply(t,[this].concat(i))),"_onClick",(function(){window.location.href=e.props.url})),e}return ie(n,[{key:"render",value:function(){var e=this.props,t=e.Icon,n=e.onClick,r=e.text;return a.a.createElement("div",null,a.a.createElement(j.a,{className:"tool-button",onClick:n||this._onClick,role:"link"},a.a.createElement(w.b,{Icon:t},r)))}}]),n}(o.Component);ge.propTypes={Icon:X.a.elementType,onClick:X.a.func,text:X.a.element,url:X.a.string};var ye=function(e){var t=e.buttonTypes,n=e.popupTarget,r=e.reportConfig,i=e.setPopupContent,s=e.startOverFromInitialUrl,l=Object(o.useContext)(q.a).SvgIcon,c=Object(o.useMemo)((function(){return function(e){return a.a.createElement(D.a,null,a.a.createElement(l,te({iconName:n},e)))}}),[l,n]),u=[];return t.forEach((function(e){switch(e){case"COPY_URL":u.push(a.a.createElement(fe,null));break;case"PRINT":u.push(a.a.createElement(pe,null));break;case"REPORT_ISSUE":r&&r.mailto&&u.push(a.a.createElement(he,r));break;case"START_OVER":u.push(a.a.createElement(ge,{Icon:V.a,onClick:function(){return s()},text:a.a.createElement(E.a,{id:"common.forms.startOver"})}));break;case"POPUP_LINK":n&&u.push(a.a.createElement(ge,{Icon:c,onClick:function(){return i(n)},text:a.a.createElement($.a,{compact:!0,popupTarget:n})}));break;default:console.warn("TripTools called with invalid button type ".concat(e,"!"))}})),a.a.createElement("div",{className:"trip-tools-container"},a.a.createElement("h2",null,a.a.createElement(E.a,{id:"components.TripTools.header"})),a.a.createElement("div",{className:"trip-tools"},u.map((function(e,t){return a.a.createElement("div",{className:"button-container",key:t},e)}))))};ye.propTypes={buttonTypes:X.a.arrayOf(X.a.string),popupTarget:X.a.string,reportConfig:X.a.object,setPopupContent:X.a.func,startOverFromInitialUrl:X.a.func},ye.defaultProps={buttonTypes:["COPY_URL","PRINT","REPORT_ISSUE","START_OVER","POPUP_LINK"]};var ve={setPopupContent:J.l,startOverFromInitialUrl:J.s},be=Object(G.j)(Object(r.c)((function(e){var t,n,r;return{popupTarget:null===(t=e.otp.config)||void 0===t||null===(n=t.popups)||void 0===n||null===(r=n.launchers)||void 0===r?void 0:r.itineraryFooter,reportConfig:e.otp.config.reportIssue}}),ve)(ye)),we=Object(r.c)((function(e){return{error:Object(N.getActiveError)(e)}}))((function(e){var t=e.error,n=e.message,r=e.warning,i=Object(M.a)();return(n=n||Object(N.getErrorMessage)(t,i))?a.a.createElement("div",{className:"error-message"},a.a.createElement("div",{className:"header"},a.a.createElement(w.b,{Icon:C.a},r?a.a.createElement(E.a,{id:"components.ErrorMessage.warning"}):a.a.createElement(E.a,{id:"components.ErrorMessage.header"}))),a.a.createElement("div",{className:"message"},n),!r&&a.a.createElement(be,{buttonTypes:["START_OVER","REPORT_ISSUE"]})):null})),xe=n(186),Ee=n(41),_e=n(109),Ae=n(377),Oe=["clearLocation","handleLocationSelected","selfValidate"];function Se(){return(Se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ke(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Ce=Object(Ae.a)(c.b,{includeLocation:!0});function Me(e){var t=e.feature,n=void 0===t?{}:t,r=Object(o.useContext)(q.a).ModeIcon,i=n.properties;if(n&&i){var s=i.modes;if(s&&s.length>0)return a.a.createElement(_e.c,null,a.a.createElement(r,{"aria-hidden":!0,mode:s[0].toLowerCase(),role:"img"}))}return a.a.createElement(xe.a,{size:13})}var Ne=Object(Ae.a)((function(e){var t=e.clearLocation,n=e.handleLocationSelected,r=e.selfValidate,i=ke(e,Oe),s=Object(M.a)(),l=Te(Object(o.useState)(!1),2),c=l[0],u=l[1],d=Object(o.useCallback)((function(e){u(!0),n(s,e)}),[s,n,u]),f=Object(o.useCallback)((function(e){u(!0),t&&t(e)}),[t,u]);return a.a.createElement(Ce,Se({},i,{clearLocation:f,GeocodedOptionIconComponent:Me,onLocationSelected:d,selfValidate:r||c}))}),{actions:{clearLocation:s.c,handleLocationSelected:Ee.b},includeLocation:!0}),je=n(25);function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pe(e,t){return(Pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ze(e);if(t){var i=ze(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Fe(this,n)}}function Fe(e,t){if(t&&("object"===Le(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ue(e)}function Ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ze(e){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pe(e,t)}(s,e);var t,n,r,o=Be(s);function s(){var e;Re(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ve(Ue(e=o.call.apply(o,[this].concat(n))),"_onClick",(function(){e.props.routingQuery(),"function"==typeof e.props.onClick&&e.props.onClick(),i.default.ui.isMobile()||e.props.setMainPanelContent(null)})),e}return t=s,(n=[{key:"render",value:function(){var e=this.props,t=e.currentQuery,n=e.text,r=!t.from||!t.to||this.props.disabled;return a.a.createElement(j.a,{className:"plan-trip-button",disabled:r,onClick:this._onClick},n||a.a.createElement(E.a,{id:"components.PlanTripButton.planTrip"}))}}])&&De(t.prototype,n),r&&De(t,r),s}(o.Component);Ve(Ge,"propTypes",{onClick:X.a.func,planTrip:X.a.func,profileTrip:X.a.func,routingType:X.a.string,text:X.a.string}),Ve(Ge,"defaultProps",{disabled:!1});var He={routingQuery:je.O,setMainPanelContent:J.i},We=Object(r.c)((function(e,t){return{currentQuery:e.otp.currentQuery}}),He)(Ge),Ye=o.forwardRef((function(e,t){return o.createElement(D.a,R()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M32 96h320V32c0-12.9 7.8-24.6 19.8-29.6s25.7-2.2 34.9 6.9l96 96c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-96 96c-9.2 9.2-22.9 11.9-34.9 6.9S352 236.8 352 223.8V160H32c-17.7 0-32-14.3-32-32s14.3-32 32-32zm448 256c17.7 0 32 14.3 32 32s-14.3 32-32 32H160v64c0 12.9-7.8 24.6-19.8 29.6s-25.7 2.2-34.9-6.9l-96-96c-6-6-9.4-14.1-9.4-22.6s3.4-16.6 9.4-22.6l96-96c9.2-9.2 22.9-11.9 34.9-6.9s19.8 16.6 19.8 29.6v64h320z"}))}));Ye.displayName="ExchangeAlt";var Qe={switchLocations:s.j},Ze=Object(r.c)(null,Qe)((function(e){var t=e.switchLocations,n=Object(M.a)();return a.a.createElement(j.a,{className:"switch-button",onClick:t,title:n.formatMessage({id:"components.SwitchButton.switchLocations"})},a.a.createElement(w.c,{rotate90:!0},a.a.createElement(Ye,null)),a.a.createElement("span",{className:"hidden"},n.formatMessage({id:"components.SwitchButton.defaultContent"})))})),Xe=n(112),Je=n(1054),qe=n(130),Ke=n(125),$e=n.n(Ke),et=n(515),tt=n.n(et);function nt(e){return e.split(" ").map((function(e){return"Northwest"===e?"NW":"Northeast"===e?"NE":"Southwest"===e?"SW":"Southeast"===e?"SE":"North"===e?"N":"East"===e?"E":"South"===e?"S":"West"===e?"W":"Street"===e?"St":"Avenue"===e?"Ave":"Road"===e?"Rd":"Drive"===e?"Dr":"Boulevard"===e?"Blvd":e})).join(" ")}var rt=n(26);function it(e){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function at(e,t){return(at=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function st(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ut(e);if(t){var i=ut(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return lt(this,n)}}function lt(e,t){if(t&&("object"===it(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ct(e)}function ct(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ut(e){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ft=i.default.itinerary,pt=ft.getElevationProfile,mt=ft.getTextWidth,ht=ft.legElevationAtDistance,gt=160,yt=140,vt=100,bt=rt.j[400],wt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&at(e,t)}(o,e);var t,n,r,i=st(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),dt(ct(t=i.call(this,e)),"_determineCompressionFactor",(function(e,n){var r=t._getElevationProfile(n).traversed;if(r>0){var i=e/(r+40);t.setState({width:e,xAxisCompression:i})}})),dt(ct(t),"_onResize",(function(e,n){t._determineCompressionFactor(e,t.props.leg)})),dt(ct(t),"_onMouseMove",(function(e){var n=e.clientX-t.container.getBoundingClientRect().left+t.container.scrollLeft;t.props.setElevationPoint(n/t.state.xAxisCompression)})),dt(ct(t),"_onMouseLeave",(function(){t.props.setElevationPoint(null)})),dt(ct(t),"_onCloseButtonClick",(function(){t.props.setLegDiagram(null),t.props.setElevationPoint(null)})),dt(ct(t),"_unitConversion",(function(){return t.state.useImperialUnits?3.28084:1})),dt(ct(t),"_getElevationProfile",$e()((function(e){return e?pt(e.steps,t._unitConversion()):{}}))),t.state={useImperialUnits:!0,xAxisCompression:.5},t}return t=o,(n=[{key:"componentDidUpdate",value:function(e){var t=this.props.leg;t&&e.leg&&t.startTime!==e.leg.startTime&&this._determineCompressionFactor(this.state.width,t)}},{key:"_formatElevation",value:function(e){return Math.round(e)+(this.state.useImperialUnits?"'":"m")}},{key:"render",value:function(){var e=this,t=this.props.elevationPoint,n=this.state.xAxisCompression,r=this.props.leg;if(!r)return null;var i,o=[],s=[],l=[],c=[],u=this._getElevationProfile(r),d=u.maxElev,f=u.minElev,p=u.points,m=u.traversed*n,h=d-f;i=h>4e3?1e3:h>2e3?500:h>800?250:h>400?100:50;for(var g=Math.floor(f/i)*i,y=Math.ceil(d/i)*i,v=y-g,b=g;b<=y;b+=i){var x=120-vt*(b-g)/v;o.push(a.a.createElement("text",{fontSize:11,key:"axis-label-".concat(b),textAnchor:"end",x:37,y:x+3},this._formatElevation(b))),s.push(a.a.createElement("line",{key:"axis-guideline-".concat(b),stroke:bt,strokeDasharray:"1, 3",strokeWidth:1,x1:0,x2:m,y1:x,y2:x}))}var E,_=0,A=[],O=[_],S=[];if(r.steps.map((function(t,r){var i=t.distance*n,o=0,s=0;if(t.elevation&&t.elevation.length>0)for(var c=0;c<t.elevation.length;c++){var u=t.elevation[c];if(E){var d=(u.second-E.second)*e._unitConversion();d>0?o+=d:s+=d}var f=_+u.first*n,p=120-vt*(u.second*e._unitConversion()-g)/v;A.push([f,p]),E=u}l.push(a.a.createElement("line",{key:"step-".concat(r,"-line"),stroke:bt,strokeWidth:4,x1:_+1,x2:_+i-1,y1:yt,y2:yt})),i>30&&l.push(a.a.createElement("g",{key:"step-".concat(r,"-label")},a.a.createElement("clipPath",{id:"clip-".concat(r)},a.a.createElement("rect",{height:200,width:i-10,x:_+10,y:0})),a.a.createElement("text",{fontSize:16,textAnchor:"middle",x:_+i/2,y:158},o>=10&&a.a.createElement("tspan",{fill:rt.k[700]},"",e._formatElevation(o),"  "),s<=-10&&a.a.createElement("tspan",{fill:rt.d},"",e._formatElevation(-s))),a.a.createElement("clipPath",{id:"clip-".concat(r)},a.a.createElement("rect",{height:200,width:i-10,x:_+10,y:0})))),_+=i,O.push(_),S.push({gain:o,loss:s})})),0===A.length)return console.warn("There is no elevation data to render for leg",r),null;0!==A[0][0]&&A.unshift([0,A[0][1]]),A.push([m,A[A.length-1][1]]),A.push([A[A.length-1][0],yt]),A.push([0,yt]);var T=A.map((function(e,t){return 0===t?"M".concat(e[0]," ").concat(e[1]):"L".concat(e[0]," ").concat(e[1])})).join(" ");if(l.unshift(a.a.createElement("path",{d:"".concat(T," Z"),fill:rt.d,fillOpacity:.5,key:"elev-polyline",strokeWidth:0})),t){for(var I=ht(p,t),k=I*this._unitConversion(),C=t*n,M=0;M<O.length;M++)if(C>=O[M]&&C<=O[M+1]){var N=O[M],L=O[M+1]-N;s.push(a.a.createElement("rect",{fill:rt.j[50],fillOpacity:.5,height:200,key:"step-hover-".concat(M),width:L,x:N,y:0}));var R=nt(r.steps[M].streetName),D=N+L/2,P="middle",B=D,F=mt(R)/2;D-F<0?(P="start",B=3):D+F>m&&(P="end",B=m-3),s.push(a.a.createElement("text",{fill:rt.j[600],fontSize:22,key:"step-text-hover-".concat(M),opacity:.6,textAnchor:P,x:B,y:80},R))}var U=null!==I?120-vt*(k-g)/v:80;s.push(a.a.createElement("line",{key:"elev-point-line",stroke:bt,strokeWidth:1,x1:C,x2:C,y1:null!==I?U:20,y2:yt})),null!==I&&(c.push(a.a.createElement("circle",{cx:C,cy:U,fill:rt.d,key:"elev-point-circle",r:"8",stroke:"white",strokeWidth:"2"})),c.push(a.a.createElement("text",{fontSize:14,fontWeight:600,key:"elev-point-label",textAnchor:"middle",x:C,y:U-15},this._formatElevation(k))))}return a.a.createElement("div",{className:"leg-diagram"},a.a.createElement("div",{className:"y-axis-panel",style:{width:40}},a.a.createElement("svg",null,o)),a.a.createElement("div",{className:"main-diagram",onMouseLeave:this._onMouseLeave,onMouseMove:this._onMouseMove,ref:function(t){e.container=t},style:{left:40}},a.a.createElement("svg",{height:gt,width:m+10},s,l,c),a.a.createElement(tt.a,{handleWidth:!0,onResize:this._onResize})),a.a.createElement(j.a,{className:"close-button clear-button-formatting",onClick:this._onCloseButtonClick},a.a.createElement(w.c,null,a.a.createElement(qe.a,null))))}}])&&ot(t.prototype,n),r&&ot(t,r),o}(o.Component);dt(wt,"propTypes",{elevationPoint:X.a.number,leg:X.a.string,setElevationPoint:X.a.func,setLegDiagram:X.a.func});var xt={setElevationPoint:Ee.c,setLegDiagram:Ee.d},Et=Object(r.c)((function(e,t){return{elevationPoint:e.otp.ui.elevationPoint}}),xt)(wt),_t=n(261);function At(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ot(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ot(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var St=function(e){var t=e.id,n=e.onClose,r=Object(M.a)(),i=At(Object(o.useState)(!1),2),s=i[0],l=i[1];Object(o.useEffect)((function(){l(!0),setTimeout((function(){return l(!1)}),750)}),[t]);var c=r.formatMessage({id:"common.forms.close"});return a.a.createElement("div",{className:"leg-diagram",style:{height:"50vh",zIndex:999}},a.a.createElement("div",{style:{alignItems:"center",display:s?"flex":"none",height:"100%",justifyContent:"center"}},a.a.createElement(w.c,{size:"2x",spin:!0},a.a.createElement(_t.Spinner,null))),a.a.createElement("iframe",{frameBorder:"0",src:"https://www.mapillary.com/embed?image_key=".concat(t,"&style=photo"),style:{display:s?"none":"block",height:"100%",width:"100%"},title:r.formatMessage({id:"components.MapillaryFrame.title"})}),a.a.createElement(j.a,{"aria-label":c,className:"mapillary-close-button close-button clear-button-formatting",onClick:n,title:c},a.a.createElement(w.c,null,a.a.createElement(qe.a,null))))};function Tt(e){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function It(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kt(e,t){return(kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ct(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Nt(e);if(t){var i=Nt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Mt(this,n)}}function Mt(e,t){if(t&&("object"===Tt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Nt(e){return(Nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var jt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kt(e,t)}(o,e);var t,n,r,i=Ct(o);function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=i.call(this)).state={activeViewIndex:0},e}return t=o,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.activeMapillaryImage,r=t.diagramLeg,i=t.mapConfig,o=t.setMapillaryId,s=r,l=n,c=i.views||[{type:"DEFAULT"}];return a.a.createElement("div",{className:"map-container"},c.map((function(t,n){return a.a.createElement("div",{className:"map-container",key:n,style:{visibility:n===e.state.activeViewIndex?"visible":"hidden"}},a.a.createElement(Xe.a,null))})),c.length>1&&a.a.createElement("div",{style:{bottom:12+(s?192:0),left:12,position:"absolute",zIndex:1e5}},a.a.createElement(Je.a,null,c.map((function(t,n){return a.a.createElement(j.a,{bsSize:"xsmall",bsStyle:n===e.state.activeViewIndex?"success":"default",key:n,onClick:function(){e.setState({activeViewIndex:n})},style:{padding:"3px 6px"}},t.text||t.type)})))),s&&a.a.createElement(Et,{leg:r}),l&&a.a.createElement(St,{id:n,onClose:function(){return o(null)}}))}}])&&It(t.prototype,n),r&&It(t,r),o}(o.Component),Lt={setMapillaryId:Ee.i},Rt=Object(r.c)((function(e,t){return{activeMapillaryImage:e.otp.ui.mapillaryId,diagramLeg:e.otp.ui.diagramLeg,mapConfig:e.otp.config.map}}),Lt)(jt),Dt=n(211),Pt=n(248),Bt=n(75),Ft=n.n(Bt),Ut=n(1),zt=n(72),Vt=function(e){return null!==e.accessibilityScore&&e.accessibilityScore>-1};function Gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wt(e,t,n){if(!n)return{};var r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(n),!0).forEach((function(t){Ht(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n);return Object.keys(r).forEach((function(i){var o="config.accessibilityScore.gradationMap.".concat(i),s=e.formatMessage({id:o});o!==s&&(r[i].text=s);var l=n[i].icon;"string"==typeof l&&(r[i].icon=a.a.createElement(w.c,null,a.a.createElement(t,{iconName:l})))})),r}var Yt=n(24),Qt=n(37),Zt=n(28),Xt=n(29),Jt=n.n(Xt),qt=n(13),Kt={pullRight:X.a.bool},$t=function(e){function t(){return e.apply(this,arguments)||this}Object(Zt.a)(t,e);var n=t.prototype;return n.hasContent=function(e){var t=!1;return a.a.Children.forEach(e,(function(e){t||(e||0===e)&&(t=!0)})),t},n.render=function(){var e=this.props,t=e.pullRight,n=e.className,r=e.children,i=Object(Qt.a)(e,["pullRight","className","children"]),o=Object(qt.f)(i),s=o[0],l=o[1],c=Object(Yt.a)({},Object(qt.d)(s),{"pull-right":t,hidden:!this.hasContent(r)});return a.a.createElement("span",Object(Yt.a)({},l,{className:Jt()(n,c)}),r)},t}(a.a.Component);$t.propTypes=Kt,$t.defaultProps={pullRight:!1};var en=Object(qt.a)("badge",$t),tn=n(476);function nn(e){var t=e.itinerary;return!t.fieldTripGroupSize||t.fieldTripGroupSize<0?null:a.a.createElement(en,null,a.a.createElement(w.b,{Icon:tn.a},t.fieldTripGroupSize))}var rn=n(70),on=n(63),an=n(516),sn=n(123),ln=n.n(sn),cn=n(388),un=n.n(cn),dn=n(263),fn=n.n(dn),pn=n(389),mn=n.n(pn),hn=n(381),gn=n.n(hn),yn=n(27),vn=n(278),bn=n(42),wn=n(54),xn=function(e){var t=Object(o.useContext)(q.a).LegIcon,n=Object(M.a)(),r=e.leg,i=r.mode,s=Object(bn.isTransitLeg)(r)?Object(wn.c)(i,n):null;return a.a.createElement(a.a.Fragment,null,a.a.createElement(t,e),s&&a.a.createElement(K.a,null,s))},En=n(48),_n=function(e){var t=e.minutes;switch(e.status){case"early":return a.a.createElement(E.a,{id:"components.RealtimeStatusLabel.early",values:{minutes:t}});case"late":return a.a.createElement(E.a,{id:"components.RealtimeStatusLabel.late",values:{minutes:t}});case"onTime":return a.a.createElement(E.a,{id:"components.RealtimeStatusLabel.onTime"});case"scheduled":return a.a.createElement(E.a,{id:"components.RealtimeStatusLabel.scheduled"});default:return null}};_n.propTypes={status:X.a.string.isRequired},_n.defaultProps={status:""};var An,On,Sn,Tn,In,kn=_n;function Cn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Mn,Nn=Ut.default.span(An||(An=Cn(["\n  white-space: nowrap;\n"]))),jn=Ut.default.div(On||(On=Cn([""]))),Ln=Ut.default.div(Sn||(Sn=Cn(["\n  ","\n"])),(function(e){return e.withBackground?"background-color: ".concat(e.color,";"):"color: ".concat(e.color,";")})),Rn=Ut.default.div(Tn||(Tn=Cn(["\n  text-decoration: line-through;\n  opacity: 0.5;\n"]))),Dn=Ut.default.div(In||(In=Cn(["\n  line-height: 1em;\n  margin-bottom: 4px;\n"]))),Pn={EARLY:{color:rt.a,label:"early"},LATE:{color:rt.f,label:"late"},ON_TIME:{color:"#028602",label:"onTime"},SCHEDULED:{label:"scheduled"}},Bn=Object(r.c)((function(e){return{onTimeThresholdSeconds:e.otp.config.onTimeThresholdSeconds,showScheduleDeviation:e.otp.config.showScheduleDeviation}}))((function(e){var t,n=e.className,r=e.delay,i=e.isRealtime,o=e.onTimeThresholdSeconds,s=e.originalTime,l=e.showScheduleDeviation,c=e.time,u=e.withBackground,d=Object(En.l)(i,r,o),f=d===En.a.EARLY||d===En.a.LATE,p=Pn[d].color||u&&rt.j[700];return c&&(t=f?a.a.createElement(Dn,null,a.a.createElement(Rn,{"aria-hidden":!0},a.a.createElement(_.FormattedTime,{timeStyle:"short",value:s})),a.a.createElement("div",null,a.a.createElement(_.FormattedTime,{timeStyle:"short",value:c}))):a.a.createElement("div",null,a.a.createElement(_.FormattedTime,{timeStyle:"short",value:c}))),a.a.createElement(Ln,{className:n,color:p,withBackground:u},t,a.a.createElement(jn,null,l&&a.a.createElement(kn,{minutes:f?a.a.createElement(Nn,null,a.a.createElement(rn.a,{duration:Math.abs(r),includeSeconds:!1})):a.a.createElement(a.a.Fragment,null,null),status:Pn[d].label}),f&&a.a.createElement(on.InvisibleAdditionalDetails,null,a.a.createElement(E.a,{id:"components.MetroUI.originallyScheduledTime",values:{originalTime:a.a.createElement(_.FormattedTime,{timeStyle:"short",value:s})}}))))}));var Fn,Un,zn=Object(Ut.default)(Bn)(Mn||(Fn=["\n  "," {\n    font-size: 80%;\n    line-height: 1em;\n  }\n  "," {\n    display: block;\n  }\n"],Un||(Un=Fn.slice(0)),Mn=Object.freeze(Object.defineProperties(Fn,{raw:{value:Object.freeze(Un)}}))),jn,Nn);var Vn=function(e){var t=e.isDestination,n=e.leg;if("string"==typeof n.startTime)return a.a.createElement(a.a.Fragment,null);var r=t?n.endTime:n.startTime,i=Object(bn.isTransitLeg)(n)&&n.realTime;if(!Object(bn.isTransitLeg)(n))return a.a.createElement("div",null,a.a.createElement(_.FormattedTime,{timeStyle:"short",value:r}));var o=t?n.arrivalDelay:n.departureDelay,s=r-1e3*o;return a.a.createElement(zn,{delay:o,isRealtime:i,originalTime:s,time:r})},Gn=n(390),Hn=n.n(Gn);function Wn(e){return(Wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zn(e,t){return(Zn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn(e);if(t){var i=Kn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Jn(this,n)}}function Jn(e,t){if(t&&("object"===Wn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return qn(e)}function qn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kn(e){return(Kn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var er,tr,nr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zn(e,t)}(o,e);var t,n,r,i=Xn(o);function o(){var e;Yn(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $n(qn(e=i.call.apply(i,[this].concat(n))),"onClick",(function(t){var n=e.props,r=n.setMainPanelContent,i=n.setViewedStop;r(null),i(t)})),e}return t=o,(n=[{key:"render",value:function(){var e=this.props.leg;return a.a.createElement(Hn.a,{leg:e,onStopClick:this.onClick})}}])&&Qn(t.prototype,n),r&&Qn(t,r),o}(o.Component),rr={setMainPanelContent:J.i,setViewedStop:J.p},ir=Object(r.c)(null,rr)(nr);function or(e){return(or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ar(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lr(e,t){return(lr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dr(e);if(t){var i=dr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ur(this,n)}}function ur(e,t){if(t&&("object"===or(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function dr(e){return(dr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fr(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var pr,mr,hr,gr=function(){},yr=Ut.default.div(er||(er=fr(["\n  padding: 0px 10px;\n\n  /* TODO: Find a better way of doing this */\n  table {\n    font-size: 14px;\n  }\n"]))),vr=Object(Ut.default)(un.a)(tr||(tr=fr(["\n  /* Render itineraries using the ambient font (not necessarily Hind). */\n  *:not(.fa) {\n    font-family: inherit;\n  }\n  ",",\n  ",",\n  "," {\n    font-weight: inherit;\n  }\n  "," {\n    max-width: inherit;\n  }\n  "," {\n    white-space: nowrap;\n  }\n"])),on.PlaceName,on.PlaceSubheader,on.LegDescriptionHeadsignPrefix,on.PlaceRowWrapper,on.TimeColumn),br=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lr(e,t)}(o,e);var t,n,r,i=cr(o);function o(){return ar(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"shouldComponentUpdate",value:function(e){return!ln()(this.props.itinerary,e.itinerary)}},{key:"render",value:function(){var e,t,n,r,i,o=this.props,s=o.accessibilityScoreGradationMap,l=o.config,c=o.diagramVisible,u=o.itinerary,d=o.RouteDescriptionOverride,f=o.setActiveLeg,p=o.setLegDiagram,m=o.setMainPanelContent,h=o.setMapillaryId,g=o.setViewedTrip,y=Ft()(u),v=!(null==l||null===(e=l.itinerary)||void 0===e?void 0:e.hideViewTripButton),b=null==l||null===(t=l.itinerary)||void 0===t?void 0:t.allowUserAlertCollapsing,w=null==l||null===(n=l.itinerary)||void 0===n?void 0:n.showApproximatePrefixAccessLegs,x=null==l||null===(r=l.itinerary)||void 0===r?void 0:r.showAlertEffectiveDateTimeText,E=y.legs.find((function(e){return!!e.boardRule&&!e.pickupBookingInfo})),_=y.legs.find((function(e){return!!e.alightRule&&!e.dropOffBookingInfo}));return E&&(E.pickupBookingInfo={latestBookingTime:{daysPrior:0}}),_&&(_.dropOffBookingInfo={latestBookingTime:{daysPrior:0}}),l.formatDuration=rn.b,a.a.createElement(yr,null,a.a.createElement(vr,{accessibilityScoreGradationMap:s,alwaysCollapseAlerts:b,className:"itin-body",config:l,diagramVisible:c,itinerary:y,LegIcon:xn,LineColumnContent:fn.a,mapillaryCallback:h,mapillaryKey:null==l||null===(i=l.mapillary)||void 0===i?void 0:i.key,PlaceName:an.PlaceName,RouteDescription:d||mn.a,setActiveLeg:f,setLegDiagram:p,setViewedTrip:function(e){g(e),m(yn.a.TRIP_VIEWER)},showAgencyInfo:!0,showAlertEffectiveDateTimeText:x,showApproximateAccessLegTravelTimes:w,showElevationProfile:l.elevationProfile,showLegIcon:!0,showMapButtonColumn:!1,showRouteFares:l.itinerary&&l.itinerary.showRouteFares,showViewTripButton:v,TimeColumnContent:Vn,toRouteAbbreviation:gr,TransitLegSubheader:ir,TransitLegSummary:gn.a}),a.a.createElement(vn.a,{itinerary:y,showApproximateMinutesActive:w}),a.a.createElement(be,{itinerary:y}))}}])&&sr(t.prototype,n),r&&sr(t,r),o}(o.Component);pr=br,mr="contextType",hr=q.a,mr in pr?Object.defineProperty(pr,mr,{value:hr,enumerable:!0,configurable:!0,writable:!0}):pr[mr]=hr;var wr={setLegDiagram:Ee.d,setMainPanelContent:J.i,setMapillaryId:Ee.i,setViewedTrip:J.q},xr=Object(r.c)((function(e){return{config:e.otp.config,diagramVisible:e.otp.ui.diagramLeg}}),wr)(br);function Er(e){return(Er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ar(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Or(e,t){return(Or=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=kr(e);if(t){var i=kr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Tr(this,n)}}function Tr(e,t){if(t&&("object"===Er(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ir(e)}function Ir(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kr(e){return(kr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Or(e,t)}(o,e);var t,n,r,i=Sr(o);function o(){var e;_r(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Cr(Ir(e=i.call.apply(i,[this].concat(n))),"__setItinToActiveIndex",(function(){var t=e.props,n=t.index,r=t.setActiveItinerary,i=t.setVisibleItinerary;r&&r({index:n}),i&&i({index:n})})),Cr(Ir(e),"_onDirectClick",(function(){var t=e.props.toggleDetailedItinerary;e.__setItinToActiveIndex(),t()})),Cr(Ir(e),"_onHeaderClick",(function(){var t=e.props,n=t.active,r=t.onClick,i=t.setActiveItinerary;r?r():n?i&&i({index:null}):e.__setItinToActiveIndex()})),e}return t=o,(n=[{key:"render",value:function(){throw new Error("render() called on abstract class NarrativeItinerary")}}])&&Ar(t.prototype,n),r&&Ar(t,r),o}(o.Component);Cr(Mr,"propTypes",{active:X.a.bool,activeLeg:X.a.number,activeStep:X.a.number,expanded:X.a.bool,index:X.a.number,itinerary:X.a.object,onClick:X.a.func,routingType:X.a.string,setActiveItinerary:X.a.func,setActiveLeg:X.a.func,setActiveStep:X.a.func,setVisibleItinerary:X.a.func,toggleDetailedItinerary:X.a.func});var Nr=n(209),jr=function(){return a.a.createElement("div",{className:"simple-realtime-annotation"},a.a.createElement(w.b,{Icon:v.a},a.a.createElement(E.a,{id:"components.SimpleRealtimeAnnotation.usingRealtimeInfo"})))},Lr=o.forwardRef((function(e,t){return o.createElement(D.a,R()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M456 224H312c-13.3 0-24-10.7-24-24V56c0-9.7 5.8-18.5 14.8-22.2s19.3-1.7 26.2 5.2l40 40 73.3-73.3C446 2 450.9 0 456 0s10 2 13.7 5.7l36.7 36.7C510 46 512 50.9 512 56s-2 10-5.7 13.7L433 143l40 40c6.9 6.9 8.9 17.2 5.2 26.2S465.7 224 456 224zm0 64c9.7 0 18.5 5.8 22.2 14.8s1.7 19.3-5.2 26.2l-40 40 73.4 73.4c3.6 3.6 5.7 8.5 5.7 13.7s-2 10-5.7 13.7l-36.7 36.7c-3.7 3.5-8.6 5.5-13.7 5.5s-10-2-13.7-5.7L369 433l-40 40c-6.9 6.9-17.2 8.9-26.2 5.2S288 465.7 288 456V312c0-13.3 10.7-24 24-24h144zm-256 0c13.3 0 24 10.7 24 24v144c0 9.7-5.8 18.5-14.8 22.2s-19.3 1.7-26.2-5.2l-40-40-73.3 73.3C66 510 61.1 512 56 512s-10-2-13.7-5.7L5.7 469.7C2 466 0 461.1 0 456s2-10 5.7-13.7L79 369l-40-40c-6.9-6.9-8.9-17.2-5.2-26.2S46.3 288 56 288h144zM56 224c-9.7 0-18.5-5.8-22.2-14.8S32.1 189.9 39 183l40-40L5.7 69.7C2 66 0 61.1 0 56s2-10 5.7-13.7L42.3 5.7C46 2 50.9 0 56 0s10 2 13.7 5.7L143 79l40-40c6.9-6.9 17.2-8.9 26.2-5.2S224 46.3 224 56v144c0 13.3-10.7 24-24 24H56z"}))}));Lr.displayName="CompressArrowsAlt";var Rr=o.forwardRef((function(e,t){return o.createElement(D.a,R()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M408 80c-3.994 0-7.91.326-11.73.955-9.586-28.51-36.57-49.11-68.27-49.11a71.9 71.9 0 0 0-18.68 2.457C296.6 13.73 273.9 0 248 0s-48.7 13.79-61.4 34.44c-5.9-1.59-12.1-2.44-18.5-2.44-39.7 0-72.09 32.3-72.09 72v121.6c-5.24-1-10.6-1.6-16-1.6-.003 0 .003 0 0 0C36.43 224 0 259.2 0 304.1c0 20.29 7.558 39.52 21.46 54.45l81.25 87.24C141.9 487.9 197.4 512 254.9 512h33.08C393.9 512 480 425.9 480 320V152c0-39.7-32.3-72-72-72zm24 240c0 79.41-64.59 144-143.1 144h-34c-44.41 0-86.83-18.46-117.1-50.96l-79.76-85.63c-6.202-6.659-9.406-15.4-9.406-23.1 0-22.16 18.53-31.4 31.35-31.4 8.56 0 17.1 3.416 23.42 10.18l26.72 28.69c1.676.92 3.776 1.62 5.776 1.62 4.106 0 8.064-3.172 8.064-8.016V104c0-13.25 10.75-24 23.1-24 13.25 0 23.1 10.75 23.1 24v152C192 264.8 199.2 272 208 272s15.1-7.163 15.1-15.1L224 72c0-13.25 10.75-24 23.1-24 13.25 0 23.1 10.75 23.1 24v184c1.8 8.8 9 16 17.8 16s15.99-7.164 15.99-15.1l.008-152.2c0-13.25 10.75-24 23.1-24 13.25 0 23.1 10.75 23.1 24v152.2C352 264.8 359.2 272 368 272s15.1-7.163 15.1-15.1V152c0-13.25 10.75-24 23.1-24 13.25 0 23.1 10.75 23.1 24v168z"}))}));Rr.displayName="HandPaper";var Dr=o.forwardRef((function(e,t){return o.createElement(D.a,R()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M164.9 24.6c-7.7-18.6-28-28.5-47.4-23.2l-88 24C12.1 30.2 0 46 0 64c0 247.4 200.6 448 448 448 18 0 33.8-12.1 38.6-29.5l24-88c5.3-19.4-4.6-39.7-23.2-47.4l-96-40c-16.3-6.8-35.2-2.1-46.3 11.6L304.7 368c-70.4-33.3-127.4-90.3-160.7-160.7l49.3-40.3c13.7-11.2 18.4-30 11.6-46.3l-40-96z"}))}));Dr.displayName="Phone";var Pr,Br=n(172);var Fr,Ur="#FA6400",zr=n.n(Br)()(Ur).lighten(40).toHexString(),Vr=function(e){var t=e.Icon,n=e.showText,r=e.text;return a.a.createElement(a.a.Fragment,null,a.a.createElement(w.c,null,t&&a.a.createElement(t,null)),n&&a.a.createElement("p",null,r))},Gr=Ut.default.div(Pr||(Pr=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  align-items: center;\n  background: ",";\n  border-bottom-right-radius: 8px;\n  border-top-right-radius: 8px;\n  color: ",";\n  display: grid;\n  grid-template-columns: 1fr 2fr 3fr 2fr;\n  grid-template-rows: 1fr 2fr;\n  grid-column-gap: ",";\n  height: ",";\n  margin-right: 1em;\n  max-width: ",';\n  padding-right: 0.25em;\n\n  /* "Flex Service" text */\n  h4 {\n    grid-column: 2 / span 3;\n    grid-row: 1;\n    margin: 0;\n    margin-left: 1ch;\n    padding-top: 0.25em;\n    text-align: left;\n  }\n\n  /* Icon (phone or hand) */\n  span {\n    font-size: 32px;\n    grid-column: 2;\n    grid-row: 2;\n    height: 100%;\n    width: 100%;\n  }\n\n  /* Description text */\n  p {\n    font-size: 13px;\n    grid-column: 3 / span 2;\n    grid-row: 2;\n    text-overflow: ellipsis;\n    overflow-y: clip;\n  }\n\n  /* Barber pole at left */\n  &::before {\n    background: ',";\n    content: '';\n    display: block;\n    grid-row: 1 / span 2;\n    height: inherit;\n    position: relative;\n    width: 20px;\n  }\n"])),zr,Ur,(function(e){return e.shrink?"8px":"inherit"}),(function(e){return e.shrink?"40px":"70px"}),(function(e){return e.shrink?"60px":"180px"}),Object(dn.barberPole)(Ur)),Hr=function(e){var t,n=e.isCallAhead,r=e.isContinuousDropoff,i=e.phoneNumber,o=e.shrink,s=e.textOnly,l=a.a.createElement(a.a.Fragment,null);return n&&r&&(l=a.a.createElement(E.a,{id:"config.flex.both",values:{phoneNumber:i}}),t=Lr),n&&!r&&(l=a.a.createElement(E.a,{id:"config.flex.call-ahead",values:{phoneNumber:i}}),t=Dr),r&&!n&&(l=a.a.createElement(E.a,{id:"config.flex.continuous-dropoff"}),t=Rr),s?a.a.createElement(a.a.Fragment,null,a.a.createElement(E.a,{id:"config.flex.flex-service-colon"})," ",l):a.a.createElement(Gr,{shrink:o},!o&&a.a.createElement("h4",null,a.a.createElement(E.a,{id:"config.flex.flex-service"})),a.a.createElement(Vr,{Icon:t,showText:!o,text:l}))},Wr=n(243);function Yr(e){return(Yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xr(e,t){return(Xr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kr(e);if(t){var i=Kr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return qr(this,n)}}function qr(e,t){if(t&&("object"===Yr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Kr(e){return(Kr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ei=Object(r.c)((function(e,t){var n,r;return{fillModeIcons:null===(n=e.otp.config.itinerary)||void 0===n?void 0:n.fillModeIcons,renderRouteNamesAndColors:null===(r=e.otp.config.itinerary)||void 0===r?void 0:r.renderRouteNamesInBlocks}}))(Ut.default.div(Fr||(Fr=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  background-color: ",";\n  color: ",";\n  fill: ",";\n  height: 24px !important;\n  margin: 0px !important;\n  padding: 3px !important;\n  width: auto !important;\n  display: inline-flex !important;\n  align-items: normal;\n  gap: 2px;\n  :first-child {\n    border-top-left-radius: 4px;\n    border-bottom-left-radius: 4px;\n  }\n  :last-child {\n    border-top-right-radius: 4px;\n    border-bottom-right-radius: 4px;\n  }\n\n  span {\n    display: ",";\n    align-self: center;\n  }\n\n  svg {\n    width: 20px;\n    height: 20px;\n  }\n"])),(function(e){return e.renderRouteNamesAndColors&&e.routeColor?"#".concat(e.routeColor):function(e){if(!e)return ni;var t=ti[e.toUpperCase()];void 0===t&&(t=ni);return t}(e.mode)}),(function(e){return e.renderRouteNamesAndColors&&e.routeTextColor?"#".concat(e.routeTextColor):"inherit"}),(function(e){return e.renderRouteNamesAndColors&&e.fillModeIcons&&e.routeTextColor?"#".concat(e.routeTextColor):"inherit"}),(function(e){return e.renderRouteNamesAndColors?"block":"none"}))),ti={BICYCLE:"#E0C3E2",BUS:"#CAC3DF",CAR:"#E4CCCC",PARK:"#E4CCCC",RAIL:"#BDDAC0",WALK:"#DFC486"},ni="#c49494";var ri,ii,oi,ai,si=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xr(e,t)}(o,e);var t,n,r,i=Jr(o);function o(){return Qr(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){var e=this.context.getTransitiveRouteLabel,t=this.props,n=t.itinerary,r=t.LegIcon,i=[];return n.legs.forEach((function(t,o){if(o>0&&o<n.legs.length-1&&!Object(bn.isTransitLeg)(t)&&Object(bn.isTransitLeg)(n.legs[o-1])&&Object(bn.isTransitLeg)(n.legs[o+1]))return null;var s=t.mode;Object(bn.isTransitLeg)(t)&&(s=t.routeShortName?"".concat(t.routeShortName).concat(t.routeLongName?" - ".concat(t.routeLongName):""):t.routeLongName);var l,c=Object(bn.getCompanyFromLeg)(t);c&&"hopr"===c.toLowerCase()&&(l={marginTop:"-5px"}),i.push(a.a.createElement(ei,{className:"summary-block mode-block ".concat(null===c?"non-company":""),key:i.length,mode:t.mode,routeColor:t.routeColor,routeTextColor:t.routeTextColor,title:s},a.a.createElement(r,{leg:t,style:l}),a.a.createElement("span",null,e(t))))})),a.a.createElement("div",{className:"summary"},i)}}])&&Zr(t.prototype,n),r&&Zr(t,r),o}(o.Component);function li(e){return(li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ci(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ui(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function di(e,t){return(di=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=hi(e);if(t){var i=hi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pi(this,n)}}function pi(e,t){if(t&&("object"===li(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return mi(e)}function mi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hi(e){return(hi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gi(Object(n),!0).forEach((function(t){vi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bi(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}$r(si,"contextType",q.a),$r(si,"propTypes",{itinerary:X.a.object,LegIcon:X.a.elementType.isRequired});var wi=i.default.itinerary,xi=wi.getItineraryCost,Ei=wi.isAdvanceBookingRequired,_i=wi.isCoordinationRequired,Ai=wi.isFlex,Oi=wi.isTransitLeg,Si=Ut.default.div(ri||(ri=bi(["\n  display: inline-block;\n  height: 20px;\n  padding-bottom: 6px;\n  padding-left: 2px;\n  width: 20px;\n\n  /* Equivalent of a single space before the leg icon. */\n  &::before {\n    content: '';\n    margin: 0 ",";\n  }\n"])),(function(e){return e.noSpace?"":"0.125em"})),Ti=Ut.default.button(ii||(ii=bi(["\n  &.visible {\n    display: contents;\n  }\n\n  /* the width/height/overflow trick still renders a tiny button, \n  so make it invisible and out of the way, but still visible to \n  screen readers */\n\n  background: transparent;\n  border: none;\n  height: 0;\n  overflow: hidden;\n  position: absolute;\n  width: 0;\n"]))),Ii=Ut.default.div(oi||(oi=bi(["\n  clear: both;\n  color: #685c5c;\n  cursor: pointer;\n  font-size: small;\n  text-align: center;\n"]))),ki=Ut.default.div(ai||(ai=bi(["\n  display: flex;\n  justify-content: space-between;\n"]))),Ci=[{alias:"best",id:"duration",order:0,render:function(e){return a.a.createElement(rn.a,{duration:e.duration})}},{alias:"departureTime",id:"arrivalTime",order:1,render:function(e,t){if(t.alwaysShowBothTimes)return a.a.createElement(E.a,{id:"common.itineraryDescriptions.timeStartEnd",values:{end:a.a.createElement(_.FormattedTime,{value:e.endTime}),start:a.a.createElement(_.FormattedTime,{value:e.startTime})}});if("ARRIVALTIME"===t.selection)return a.a.createElement(_.FormattedTime,{value:e.endTime});if("DEPARTURETIME"!==t.selection&&e.allStartTimes){var n=e.allStartTimes.sort((function(e,t){return Object(zt.getFirstLegStartTime)(e.legs)-Object(zt.getFirstLegStartTime)(t.legs)}));return a.a.createElement(_.FormattedList,{type:"conjunction",value:n.map((function(e,t){var n=e.legs;return a.a.createElement(_.FormattedTime,{key:t,value:Object(zt.getFirstLegStartTime)(n)})}))})}return a.a.createElement(_.FormattedTime,{value:e.startTime})}},{id:"cost",order:2,render:function(e,t,n){var r,i=Object(zt.getFare)(e,n),o=null===(r=xi(e.legs,n.mediumId,n.riderCategoryId))||void 0===r?void 0:r.currency;return null==i||i<0||void 0===o?a.a.createElement(E.a,{id:"common.itineraryDescriptions.fareUnknown"}):a.a.createElement(_.FormattedNumber,{currency:i.fareCurrency,currencyDisplay:"narrowSymbol",style:"currency",value:i.transitFare+i.maxTNCFare})}},{id:"walkTime",order:3,render:function(e,t){var n=Ft()(e.legs[0]);Oi(n)&&(n.mode="WALK");var r=t.LegIcon;return a.a.createElement(a.a.Fragment,null,a.a.createElement(rn.a,{duration:e.walkTime,includeSeconds:!1}),a.a.createElement(Si,{noSpace:!0},a.a.createElement(r,{leg:yi(yi({},n),{},{mode:"WALK"}),size:5})))}},{id:"carbonEmission",order:4,render:function(e,t){var n=t.co2Config;if(null==n?void 0:n.enabled){var r=n.cutoffPercentage,i=n.showIfHigher,o=e.co2VsBaseline;if(i||!(o>0)){var s=5*Math.round(100*o/5);if(!(Math.abs(100*o)<=r))return a.a.createElement(a.a.Fragment,null,a.a.createElement(E.a,{id:"common.itineraryDescriptions.relativeCo2",values:{co2:a.a.createElement(_.FormattedNumber,{style:"unit",unit:"percent",unitDisplay:"narrow",value:Math.abs(s)}),isMore:s>0}}),a.a.createElement(w.d,null,a.a.createElement(w.a,{Icon:Pt.a})))}}}}],Mi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&di(e,t)}(o,e);var t,n,r,i=fi(o);function o(){var e;ci(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return vi(mi(e=i.call.apply(i,[this].concat(n))),"_onMouseEnter",(function(){var t=e.props,n=t.active,r=t.index,i=t.setVisibleItinerary,o=t.visibleItinerary;"function"!=typeof i||(o===r||n===r&&null==o)||i({index:r})})),vi(mi(e),"_onMouseLeave",(function(){var t=e.props,n=t.index,r=t.setVisibleItinerary,i=t.visibleItinerary;"function"==typeof r&&i===n&&r({index:null})})),vi(mi(e),"_isSortingOnAttribute",(function(t){var n=e.props.sort;if(n&&n.type){var r=n.type.toLowerCase();return t.id.toLowerCase()===r||t.alias&&t.alias.toLowerCase()===r}return!1})),e}return t=o,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.accessibilityScoreGradationMap,r=t.alwaysShowBothTimes,i=t.co2Config,o=t.configCosts,s=t.defaultFareType,l=t.expanded,c=t.intl,u=t.itinerary,d=t.LegIcon,f=t.setActiveLeg,p=t.showRealtimeAnnotation,m=t.showResultHeaders,h=t.visible,g=u.legs.some(Ai),y=u.legs.some(Ei),v=Wt(c,this.context.SvgIcon,n),b=u.legs.map((function(e){return null==e?void 0:e.agencyName})).filter((function(e){return!!e}))[0],w="contact ".concat(b);y&&(w=u.legs.map((function(e){var t,n;return null===(t=e.pickupBookingInfo)||void 0===t||null===(n=t.contactInfo)||void 0===n?void 0:n.phoneNumber})).filter((function(e){return!!e}))[0]);var x={alwaysShowBothTimes:r,co2Config:i,configCosts:o,LegIcon:d},_=function(e){return e.render(u,x,s)};return a.a.createElement("div",{className:"option default-itin".concat(h?" active":"").concat(l?" expanded":""),onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave,role:"presentation"},a.a.createElement(ki,{className:"header",onClick:this._onHeaderClick},a.a.createElement("div",{className:"title"},m&&a.a.createElement("h3",null,a.a.createElement(Wr.a,{intl:c,itinerary:u})),a.a.createElement(si,{itinerary:u,LegIcon:d}),Vt(u)&&a.a.createElement(Dt.a,{gradationMap:v,large:!0,score:u.accessibilityScore})),g&&a.a.createElement(Hr,{isCallAhead:y,isContinuousDropoff:_i,phoneNumber:w}),a.a.createElement("ul",{"aria-label":c.formatMessage({id:"components.ItinerarySummary.itineraryDetails"}),className:"list-unstyled itinerary-attributes"},a.a.createElement(nn,{itinerary:u}),Ci.sort((function(t,n){var r=e._isSortingOnAttribute(t),i=e._isSortingOnAttribute(n);return r?-1:i?1:t.order-n.order})).filter((function(e){return void 0!==_(e)})).map((function(t){var n=e._isSortingOnAttribute(t);return n&&(x.isSelected=!0,x.selection=e.props.sort.type),a.a.createElement("li",{className:"".concat(t.id).concat(n?" main":""),key:t.id},_(t))})))),!l&&a.a.createElement(Ti,{className:h&&!l&&"visible",onClick:this._onDirectClick},a.a.createElement(Ii,null,a.a.createElement(E.a,{id:"components.DefaultItinerary.clickDetails"}))),h&&l&&a.a.createElement(a.a.Fragment,null,p&&a.a.createElement(jr,null),a.a.createElement(xr,{accessibilityScoreGradationMap:v,itinerary:u,LegIcon:d,RouteDescriptionOverride:Nr.a,setActiveLeg:f})))}}])&&ui(t.prototype,n),r&&ui(t,r),o}(Mr);vi(Mi,"contextType",q.a);Mi.ModesAndRoutes=si;var Ni,ji,Li,Ri,Di,Pi,Bi,Fi,Ui,zi,Vi=Object(U.c)(Object(r.c)((function(e,t){var n,r,i,o,a;return{accessibilityScoreGradationMap:null===(n=e.otp.config.accessibilityScore)||void 0===n?void 0:n.gradationMap,alwaysShowBothTimes:null===(r=e.otp.config.itinerary)||void 0===r?void 0:r.alwaysShowBothTimes,co2Config:e.otp.config.co2,configCosts:null===(i=e.otp.config.itinerary)||void 0===i?void 0:i.costs,defaultFareType:(null===(o=e.otp.config.itinerary)||void 0===o?void 0:o.defaultFareType)||{mediumId:null,riderCategoryId:null},showResultHeaders:!1!==(null===(a=e.otp.config.itinerary)||void 0===a?void 0:a.showBatchUiItineraryHeaders)}}))(Mi)),Gi=n(195),Hi=n(189),Wi=function(e){var t=e.active,n=e.displayedTime,r=e.itinerary,i=e.realTime,s=e.setActiveItinerary,l=Object(M.a)(),c=["timeInfo"];i&&c.push("realtime"),t&&c.push("active");var u=l.formatTime(n),d=i?l.formatMessage({id:"components.StopTimeCell.realtime"}):l.formatMessage({id:"components.StopTimeCell.scheduled"}),f="".concat(u," (").concat(d,")"),p=Object(o.useCallback)((function(e){s&&s(r),e.stopPropagation()}),[r,s]),m=s?"button":"span";return a.a.createElement(m,{className:c.length?c.join(" "):void 0,onClick:s?p:void 0,title:f},u,a.a.createElement(K.a,null," (",d,")"))},Yi=function(e){var t=e.expanded,n=e.itinerary,r=e.setActiveItinerary,i=e.showArrivals;return n.allStartTimes?a.a.createElement(_.FormattedList,{type:"disjunction",value:n.allStartTimes.map((function(e,t){var o=e.itinerary,s=e.legs,l=e.realtime,c=i?Object(zt.getLastLegEndTime)(s):Object(zt.getFirstLegStartTime)(s);return a.a.createElement(Wi,{active:o.index===n.index,displayedTime:c,itinerary:o,key:c,realTime:l,setActiveItinerary:r})}))}):a.a.createElement(Wi,{active:!0,displayedTime:i?n.endTime:n.startTime,itinerary:n,realTime:Object(En.c)(n),setActiveItinerary:t?void 0:r})},Qi=n(262);function Zi(e){return(Zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ji(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qi(e,t){return(qi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ki(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=to(e);if(t){var i=to(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $i(this,n)}}function $i(e,t){if(t&&("object"===Zi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return eo(e)}function eo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function to(e){return(to=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function no(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ro(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var io=Ut.default.div.attrs((function(e){return{"aria-label":e["aria-label"]}}))(Ni||(Ni=ro(["\n  border-bottom: 0.1ch solid ","33;\n  color: ",';\n  display: grid; /* We don\'t use grid here, but "block" and "inline" cause problems with Firefox */\n  padding: 0;\n'])),rt.b,rt.b),oo=Ut.default.span(ji||(ji=ro(["\n  align-self: flex-end;\n  color: #0909098f;\n  font-size: 14px;\n  text-overflow: ellipsis;\n  width: 100%;\n\n  .active {\n    color: #090909ee;\n    cursor: auto;\n  }\n\n  div.header {\n    background: none;\n    border: none;\n    display: inline;\n    margin: 0;\n    padding: 0;\n    transition: all 0.1s ease-out;\n  }\n"]))),ao=Ut.default.ul(Li||(Li=ro(["\n  grid-column-start: -1;\n  grid-row: 1 / span 2;\n  justify-self: right;\n  list-style: none;\n  margin: 0;\n  overflow: hidden;\n  padding: 0;\n"]))),so=Ut.default.li(Ri||(Ri=ro(["\n  color: #000000cc;\n  font-size: 22px;\n  font-weight: 600;\n  text-align: right;\n"]))),lo=Ut.default.li(Di||(Di=ro(["\n  color: #090909cc;\n  font-size: 12px;\n  opacity: 0.7;\n  text-align: right;\n"]))),co=Ut.default.div(Pi||(Pi=ro(["\n  background: mediumseagreen;\n  color: white;\n  padding: 4px 8px;\n  text-align: right;\n"]))),uo=Ut.default.div(Bi||(Bi=ro(["\n  display: grid;\n  gap: 7px;\n  grid-template-columns: repeat(auto-fit, minmax(50%, 1fr));\n  padding: 10px 1em;\n\n  "," {\n    "," {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n\n      &.flex {\n        color: orangered;\n        white-space: normal;\n        text-overflow: inherit;\n        grid-row: span 4;\n      }\n    }\n  }\n\n  "," {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n\n    &.flex {\n      color: orangered;\n      white-space: normal;\n      text-overflow: inherit;\n    }\n  }\n\n  svg {\n    /* Fix for safari, where svg needs explicit width to render */\n    width: 28px;\n    /* Fix for our svg icons, which tend to be slightly off-center */\n    &:not(.no-centering-fix) {\n      margin-left: 0px;\n    }\n  }\n"])),ao,lo,lo),fo=Ut.default.button(Fi||(Fi=ro(["\n  border-radius: 10px;\n  display: grid;\n  gap: 0 2px;\n  grid-template-columns: 1fr 3fr;\n  grid-template-rows: repeat(10, 8px);\n  padding: 10px 1em;\n\n  "," {\n    font-size: 100%;\n    grid-column: 2;\n    grid-row: 2 / 5;\n    line-height: 1;\n  }\n\n  "," {\n    grid-column: 2;\n    grid-row: 8;\n  }\n\n  span.route-block-wrapper {\n    grid-row: 2 / 5;\n  }\n"])),so,lo),po=Object(Ut.keyframes)(Ui||(Ui=ro(["\n 0% { filter: blur(","px); }\n 50% { filter: blur(","px) }\n"])),3,4),mo=Ut.default.span(zi||(zi=ro(["\n  ",";\n  animation-name: ",";\n  animation-duration: 1s;\n  animation-iteration-count: infinite;\n  transition: all 0.2s ease-in-out;\n"])),(function(e){return e.loading&&"filter: blur(".concat(3,"px)")}),(function(e){return e.loading?po:""})),ho=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qi(e,t)}(o,e);var t,n,r,i=Ki(o);function o(){var e;Xi(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return no(eo(e=i.call.apply(i,[this].concat(n))),"_onMouseEnter",(function(){var t=e.props,n=t.active,r=t.index,i=t.setVisibleItinerary,o=t.visible;"function"!=typeof i||(o||n)||i({index:r})})),no(eo(e),"_onMouseLeave",(function(){var t=e.props,n=t.setVisibleItinerary,r=t.visible;"function"==typeof n&&r&&n({index:null})})),no(eo(e),"_renderMainRouteBlock",(function(t){var n=e.props,r=n.enableDot,i=n.LegIcon,o=n.showLegDurations,s=t.sort((function(e,t){return t.distance-e.distance}))[0];return a.a.createElement(Nr.a,{"aria-hidden":!0,footer:o&&(null==s?void 0:s.duration)&&a.a.createElement(rn.a,{duration:s.duration}),hideLongName:!0,leg:s,LegIcon:i,showDivider:r})})),e}return t=o,(n=[{key:"render",value:function(){var e=this.props,t=e.accessibilityScoreGradationMap,n=e.active,r=e.arrivesAt,i=e.co2Config,o=e.defaultFareType,s=e.expanded,l=e.intl,c=e.itinerary,u=e.LegIcon,d=e.mini,f=e.pending,p=e.setActiveItinerary,m=e.setActiveLeg,h=e.setItineraryView,g=e.showInlineItinerarySummary,y=e.showLegDurations,v=e.showRealtimeAnnotation,b=this.context,x=b.ItineraryPreviewSupplement,O=b.RouteRenderer,S=b.SvgIcon,T=O||Hi.a,I=Object(Gi.c)(c),k=I.isCallAhead,C=I.isContinuousDropoff,M=I.isFlexItinerary,N=I.phone,j=Object(zt.getFare)(c,o),L=j.fareCurrency,R=j.transitFare,D=Math.round(100*c.co2VsBaseline),P=!d&&Math.abs(D)>=((null==i?void 0:i.cutoffPercentage)||0)&&(D<0||(null==i?void 0:i.showIfHigher))&&(null==i?void 0:i.enabled)&&a.a.createElement(w.b,{Icon:Pt.a},a.a.createElement(E.a,{id:"common.itineraryDescriptions.relativeCo2",values:{co2:a.a.createElement(mo,{loading:f},a.a.createElement(_.FormattedNumber,{style:"unit",unit:"percent",unitDisplay:"narrow",value:Math.abs(D)})),isMore:D>0}})),B=Wt(l,S,t),F=null==R||R<0?a.a.createElement(E.a,{id:"common.itineraryDescriptions.fareUnknown"}):a.a.createElement(_.FormattedNumber,{currency:L,currencyDisplay:"narrowSymbol",style:"currency",value:R});return a.a.createElement("div",{className:"option metro-itin".concat(n?" active":"").concat(s?" expanded":"")},a.a.createElement("div",{className:"header",onClick:s?void 0:function(){p(c),m(null,null),h(A.a.FULL),setTimeout((function(){var e;return null===(e=document.querySelector(".itin-wrapper"))||void 0===e?void 0:e.scrollIntoView()}),10)},onKeyDown:function(){},onMouseEnter:s?void 0:this._onMouseEnter,onMouseLeave:s?void 0:this._onMouseLeave,role:"presentation"},a.a.createElement(io,{className:"itin-wrapper".concat(d?"-small":"")},P&&a.a.createElement(co,null,P),Vt(c)&&a.a.createElement(Dt.a,{gradationMap:B,score:c.accessibilityScore}),!d&&a.a.createElement(uo,{className:"itin-grid",role:"group"},x&&a.a.createElement(x,{active:n,itinerary:c}),a.a.createElement(Qi.a,{expanded:s,itinerary:c,LegIcon:u,showLegDurations:y}),a.a.createElement(ao,{"aria-label":l.formatMessage({id:"components.ItinerarySummary.itineraryDetails"})},a.a.createElement(so,null,a.a.createElement(rn.a,{duration:c.duration,includeSeconds:!1})),M&&a.a.createElement(lo,{className:M?"flex":""},a.a.createElement(Hr,{isCallAhead:k,isContinuousDropoff:C,phoneNumber:N,shrink:!1,textOnly:!0})),!0!==g&&a.a.createElement(lo,null,F),a.a.createElement(lo,null,a.a.createElement(E.a,{id:"components.MetroUI.timeWalking",values:{time:a.a.createElement(rn.a,{duration:c.walkTime,includeSeconds:!1})}}))),a.a.createElement(oo,null,g&&Object(Gi.a)(c)&&a.a.createElement(T,{leg:Object(Gi.a)(c),style:{margin:0,marginLeft:-8,marginRight:-2,transform:"scale(50%)"}}),a.a.createElement("span",{className:"timeInfo"},r?a.a.createElement(E.a,{id:"components.MetroUI.arriveAt"}):a.a.createElement(E.a,{id:"components.MetroUI.leaveAt"}))," ",a.a.createElement(Yi,{expanded:s,itinerary:c,setActiveItinerary:p,showArrivals:r}),g&&a.a.createElement(a.a.Fragment,null," ",a.a.createElement(E.a,{id:"components.MetroUI.itinerarySummary",values:{cost:F,stopName:Object(Gi.b)(c)}}))," ",s&&g&&a.a.createElement("div",{style:{color:"#111"}},a.a.createElement(E.a,{id:"components.TripSummary.leaveAt"}),a.a.createElement(_.FormattedTime,{value:c.startTime}),a.a.createElement("span",{style:{marginLeft:"2ch"}}," "),a.a.createElement(E.a,{id:"components.TripSummary.arriveAt"}),a.a.createElement(_.FormattedTime,{value:c.endTime})))),d&&a.a.createElement(fo,{className:"other-itin"},a.a.createElement(so,{as:"span"},a.a.createElement(rn.a,{duration:c.duration,includeSeconds:!1})),a.a.createElement(lo,{as:"span"},a.a.createElement(Wr.a,{itinerary:c})),this._renderMainRouteBlock(c.legs)))),n&&s&&a.a.createElement(a.a.Fragment,null,v&&a.a.createElement(jr,null),a.a.createElement(xr,{accessibilityScoreGradationMap:B,itinerary:c,LegIcon:u,RouteDescriptionOverride:Nr.a,setActiveLeg:m})))}}])&&Ji(t.prototype,n),r&&Ji(t,r),o}(Mr);no(ho,"contextType",q.a),no(ho,"ModesAndRoutes",Qi.a);var go={setItineraryView:J.g},yo=Object(U.c)(Object(r.c)((function(e,t){var n,r,i,o,a,s,l=Object(N.getActiveSearch)(e);return{accessibilityScoreGradationMap:null===(n=e.otp.config.accessibilityScore)||void 0===n?void 0:n.gradationMap,arrivesAt:"ARRIVALTIME"===e.otp.filter.sort.type,co2Config:e.otp.config.co2,configCosts:null===(r=e.otp.config.itinerary)||void 0===r?void 0:r.costs,defaultFareType:null===(i=e.otp.config.itinerary)||void 0===i?void 0:i.defaultFareType,enableDot:!(null===(o=e.otp.config.itinerary)||void 0===o?void 0:o.disableMetroSeperatorDot),pending:!!l&&Boolean(l.pending),showInlineItinerarySummary:null===(a=e.otp.config.itinerary)||void 0===a?void 0:a.showInlineItinerarySummary,showLegDurations:null===(s=e.otp.config.itinerary)||void 0===s?void 0:s.showLegDurations}}),go)(ho)),vo=n(183),bo=n(1061),wo=n(321),xo={id:n.n(wo)()(X.a.oneOfType([X.a.string,X.a.number])),placement:X.a.oneOf(["top","right","bottom","left"]),positionTop:X.a.oneOfType([X.a.number,X.a.string]),positionLeft:X.a.oneOfType([X.a.number,X.a.string]),arrowOffsetTop:X.a.oneOfType([X.a.number,X.a.string]),arrowOffsetLeft:X.a.oneOfType([X.a.number,X.a.string]),title:X.a.node},Eo=function(e){function t(){return e.apply(this,arguments)||this}return Object(Zt.a)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.placement,r=t.positionTop,i=t.positionLeft,o=t.arrowOffsetTop,s=t.arrowOffsetLeft,l=t.title,c=t.className,u=t.style,d=t.children,f=Object(Qt.a)(t,["placement","positionTop","positionLeft","arrowOffsetTop","arrowOffsetLeft","title","className","style","children"]),p=Object(qt.f)(f),m=p[0],h=p[1],g=Object(Yt.a)({},Object(qt.d)(m),((e={})[n]=!0,e)),y=Object(Yt.a)({display:"block",top:r,left:i},u),v={top:o,left:s};return a.a.createElement("div",Object(Yt.a)({},h,{role:"tooltip",className:Jt()(c,g),style:y}),a.a.createElement("div",{className:"arrow",style:v}),l&&a.a.createElement("h3",{className:Object(qt.e)(m,"title")},l),a.a.createElement("div",{className:Object(qt.e)(m,"content")},d))},t}(a.a.Component);Eo.propTypes=xo,Eo.defaultProps={placement:"right"};var _o=Object(qt.a)("popover",Eo),Ao=n(184);function Oo(e){return(Oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function So(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function To(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Io(e,t){return(Io=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ko(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mo(e);if(t){var i=Mo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Co(this,n)}}function Co(e,t){if(t&&("object"===Oo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Mo(e){return(Mo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function No(e){return(No="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ro(e,t){return(Ro=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Do(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fo(e);if(t){var i=Fo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Po(this,n)}}function Po(e,t){if(t&&("object"===No(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Bo(e)}function Bo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fo(e){return(Fo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Uo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Io(e,t)}(o,e);var t,n,r,i=ko(o);function o(){return So(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){var e=this.props,t=e.componentClass,n=e.realtimeEffects,r=n.normalRoutes.filter((function(e,t,n){return n.indexOf(e)===t})),i=a.a.createElement("div",{className:"realtime-alert"},a.a.createElement("div",{className:"content"},a.a.createElement("h3",null,a.a.createElement(w.b,{Icon:C.a},a.a.createElement(E.a,{id:"components.RealtimeAnnotation.serviceUpdate"}))),a.a.createElement("p",{className:"small"},a.a.createElement(E.a,{id:"components.RealtimeAnnotation.delaysShownInResults",values:{normalDuration:a.a.createElement(rn.a,{duration:n.normalDuration,includeSeconds:!1}),routes:a.a.createElement(_.FormattedList,{type:"conjunction",value:r.map((function(e){return a.a.createElement("strong",{key:e.id},e)}))}),strong:Ao.a}}))));return"popover"===t?a.a.createElement(bo.a,{overlay:a.a.createElement(_o,{id:"popover-positioned-bottom",style:{maxWidth:"300px"}},i),placement:"bottom",trigger:"click"},a.a.createElement(j.a,{bsStyle:"link"},a.a.createElement(w.c,{size:"2x"},a.a.createElement(C.a,null)))):i}}])&&To(t.prototype,n),r&&To(t,r),o}(o.Component),"propTypes",{componentClass:X.a.string,realtimeEffects:X.a.object});var zo=i.default.itinerary.toSentenceCase,Vo=i.default.ui.isMobile,Go="lyft",Ho=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ro(e,t)}(o,e);var t,n,r,i=Do(o);function o(){var e;jo(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Uo(Bo(e=i.call.apply(i,[this].concat(n))),"state",{}),e}return t=o,(n=[{key:"render",value:function(){var e=this.props,t=e.leg,n=e.legMode,r=e.LYFT_CLIENT_ID,i=e.UBER_CLIENT_ID,o={LYFT:"https://lyft.com/ride?id=".concat(Go,"&partner=").concat(r,"&pickup[latitude]=").concat(t.from.lat,"&pickup[longitude]=").concat(t.from.lon,"&destination[latitude]=").concat(t.to.lat,"&destination[longitude]=").concat(t.to.lon),UBER:"https://m.uber.com/".concat(Vo()?"ul/":"","?client_id=").concat(i,"&action=setPickup&pickup[latitude]=").concat(t.from.lat,"&pickup[longitude]=").concat(t.from.lon,"&pickup[nickname]=").concat(encodeURI(t.from.name),"&dropoff[latitude]=").concat(t.to.lat,"&dropoff[longitude]=").concat(t.to.lon,"&dropoff[nickname]=").concat(encodeURI(t.to.name))},s=t.tncData;return a.a.createElement("div",null,a.a.createElement("p",null,"* estimated travel time does not account for traffic."),a.a.createElement("a",{className:"btn btn-default",href:o[n.label.toUpperCase()],rel:"noreferrer",style:{marginBottom:15},target:Vo()?"_self":"_blank"},"Book Ride"),s&&s.estimatedArrival?a.a.createElement("p",null,"ETA for a driver:"," ",a.a.createElement(rn.a,{duration:s.estimatedArrival,includeSeconds:!1})):a.a.createElement("p",null,"Could not obtain eta estimate from ",zo(n.label),"!"),s&&s.minCost?a.a.createElement("p",null,"Estimated cost:"," ",a.a.createElement(_.FormattedNumber,{currency:s.currency,style:"currency",value:s.minCost})," ","-"," ",a.a.createElement(_.FormattedNumber,{currency:s.currency,style:"currency",value:s.maxCost})):a.a.createElement("p",null,"Could not obtain ride estimate from ",zo(n.label),"!"))}}])&&Lo(t.prototype,n),r&&Lo(t,r),o}(o.Component);Uo(Ho,"propTypes",{leg:X.a.object,legMode:X.a.object,LYFT_CLIENT_ID:X.a.string,UBER_CLIENT_ID:X.a.string});var Wo={getTransportationNetworkCompanyEtaEstimate:je.E,getTransportationNetworkCompanyRideEstimate:je.F};Object(r.c)((function(e){var t=e.otp.config,n=t.LYFT_CLIENT_ID,r=t.UBER_CLIENT_ID;return{companies:e.otp.currentQuery.companies,LYFT_CLIENT_ID:n,tncData:e.otp.tnc,UBER_CLIENT_ID:r}}),Wo)(Ho);function Yo(e){return(Yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xo(e,t){return(Xo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ko(e);if(t){var i=Ko(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return qo(this,n)}}function qo(e,t){if(t&&("object"===Yo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ko(e){return(Ko=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var $o,ea=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xo(e,t)}(o,e);var t,n,r,i=Jo(o);function o(){return Qo(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className;return a.a.createElement("div",{className:"otp mobile".concat(n?" ".concat(n):"")},t)}}])&&Zo(t.prototype,n),r&&Zo(t,r),o}(o.Component),ta=n(111),na=n(1060),ra=n(159),ia=n(324),oa=n(206),aa=n(326),sa=n(233),la=n(110);function ca(e){return(ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ua(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function da(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fa(e,t){return(fa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ga(e);if(t){var i=ga(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ma(this,n)}}function ma(e,t){if(t&&("object"===ca(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ha(e)}function ha(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ga(e){return(ga=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ya(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var va=Ut.default.div($o||($o=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  & > li svg {\n    height: 18px;\n  }\n"]))),ba=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fa(e,t)}(o,e);var t,n,r,i=pa(o);function o(){var e;ua(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ya(ha(e=i.call.apply(i,[this].concat(n))),"_backButtonPressed",(function(){var t=e.props,n=t.backScreen,r=t.onBackClicked;n?e.props.setMobileScreen(e.props.backScreen):"function"==typeof r&&r()})),e}return t=o,(n=[{key:"render",value:function(){var e=this.props,t=e.auth0Config,n=e.configLanguages,r=e.defaultMobileTitle,i=e.extraMenuItems,o=e.headerAction,s=e.headerText,l=e.intl,c=e.locale,u=e.networkConnectionLost,d=e.showBackButton,f=l.formatMessage({id:"common.forms.back"});return a.a.createElement("header",{style:{height:"50px"}},a.a.createElement(na.a,{className:"mobile-navbar-container",fixedTop:!0,fluid:!0},a.a.createElement(na.a.Header,null,a.a.createElement(na.a.Brand,null,d?a.a.createElement("button",{"aria-label":f,className:"mobile-back",title:f},a.a.createElement(w.c,{onClick:this._backButtonPressed},a.a.createElement(ta.a,null))):a.a.createElement(oa.b,null))),a.a.createElement(la.a,{title:s}),a.a.createElement("div",{className:"mobile-header"},s?a.a.createElement("h1",{className:"mobile-header-text"},s):a.a.createElement("h1",null,r)),o&&a.a.createElement("div",{className:"mobile-close"},a.a.createElement("div",{className:"mobile-header-action"},o)),a.a.createElement(va,{className:"locale-selector-and-login"},a.a.createElement(aa.a,{configLanguages:n}),t&&a.a.createElement(sa.a,{id:"login-control",links:Object(ra.accountLinks)(i),locale:c}))),a.a.createElement(ia.a,{networkConnectionLost:u}))}}])&&da(t.prototype,n),r&&da(t,r),o}(o.Component);ya(ba,"propTypes",{auth0Config:X.a.object,backScreen:X.a.number,configLanguages:X.a.object,defaultMobileTitle:X.a.string,extraMenuItems:X.a.array,headerAction:X.a.element,headerText:X.a.string,intl:X.a.object,locale:X.a.string,networkConnectionLost:X.a.bool,onBackClicked:X.a.func,setMobileScreen:X.a.func,showBackButton:X.a.bool}),ya(ba,"contextType",q.a);var wa,xa={setMobileScreen:J.j},Ea=Object(r.c)((function(e){var t,n;return{auth0Config:Object(ra.getAuth0Config)(e.otp.config.persistence),configLanguages:e.otp.config.language,extraMenuItems:null===(t=e.otp)||void 0===t||null===(n=t.config)||void 0===n?void 0:n.extraMenuItems,locale:e.otp.ui.locale,networkConnectionLost:e.otp.ui.errors.networkConnectionLost}}),xa)(Object(U.c)(ba)),_a={setMobileScreen:J.j},Aa=Object(r.c)(null,_a)((function(e){var t=e.setMobileScreen,n=Object(M.a)();return a.a.createElement(ea,null,a.a.createElement(Ea,{backScreen:yn.b.SEARCH_FORM,headerText:n.formatMessage({id:"components.DateTimeScreen.header"}),showBackButton:!0}),a.a.createElement("main",{tabIndex:-1},a.a.createElement("div",{className:"options-main-content mobile-padding"},a.a.createElement(g,null)),a.a.createElement("div",{className:"options-lower-tray mobile-padding"},a.a.createElement(We,{onClick:Object(o.useCallback)((function(){return t(yn.b.RESULTS_SUMMARY)}),[t])}))))})),Oa=n(237);function Sa(e){return(Sa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ta(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ia(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ka(e,t){return(ka=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ca(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ja(e);if(t){var i=ja(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ma(this,n)}}function Ma(e,t){if(t&&("object"===Sa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Na(e)}function Na(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ja(e){return(ja=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function La(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ra=Object(Ut.default)(Ne)(wa||(wa=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  "," {\n    width: 100%;\n  }\n  "," {\n    overflow: hidden;\n    padding-left: 5px;\n    padding-right: 5px;\n    width: 100%;\n  }\n"])),Oa.MenuItemList,Oa.MenuItemLi),Da=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ka(e,t)}(o,e);var t,n,r,i=Ca(o);function o(){var e;Ta(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return La(Na(e=i.call.apply(i,[this].concat(n))),"_locationSelected",(function(){e.props.setMobileScreen(yn.b.SEARCH_FORM)})),e}return t=o,(n=[{key:"render",value:function(){var e=this.props,t=e.backScreen,n=e.intl,r=e.location,i=e.locationType,o=e.otherLocation,s=o&&"CURRENT_LOCATION"===o.category;return a.a.createElement(ea,null,a.a.createElement(Ea,{backScreen:t,headerText:"to"===i?n.formatMessage({id:"components.LocationSearch.setDestination"}):n.formatMessage({id:"components.LocationSearch.setOrigin"}),showBackButton:!0}),a.a.createElement("main",{tabIndex:-1},a.a.createElement("div",{className:"location-search mobile-padding"},a.a.createElement(Ra,{hideExistingValue:!0,inputPlaceholder:r?r.name:n.formatMessage({id:"components.LocationSearch.enterLocation"}),isStatic:!0,locationType:i,onLocationSelected:this._locationSelected,suppressNearby:s}))))}}])&&Ia(t.prototype,n),r&&Ia(t,r),o}(o.Component);La(Da,"propTypes",{backScreen:X.a.number,intl:X.a.object,location:X.a.object,locationType:X.a.string,otherLocation:X.a.object,setMobileScreen:X.a.func});var Pa={setMobileScreen:J.j},Ba=Object(r.c)((function(e,t){return{location:e.otp.currentQuery[t.locationType],otherLocation:"from"===t.type?e.otp.currentQuery.to:e.otp.currentQuery.from}}),Pa)(Object(U.c)(Da)),Fa=n(320);function Ua(e){return(Ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function za(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Va(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ga(e,t){return(Ga=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ha(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qa(e);if(t){var i=Qa(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Wa(this,n)}}function Wa(e,t){if(t&&("object"===Ua(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ya(e)}function Ya(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qa(e){return(Qa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Za(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ga(e,t)}(s,e);var t,n,r,o=Ha(s);function s(){var e;za(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Za(Ya(e=o.call.apply(o,[this].concat(n))),"_toggleStoredSettings",(function(){var t=i.default.query.getTripOptionsFromQuery(e.props.query);e.props.defaults?e.props.clearDefaultSettings():e.props.storeDefaultSettings(t)})),e}return t=s,(n=[{key:"render",value:function(){var e=this.props,t=e.config,n=e.defaults,r=e.query,o=e.resetForm,s=!i.default.query.isNotDefaultQuery(r,t),l=s&&!n;return a.a.createElement("div",{className:"store-settings pull-right",style:{marginBottom:"5px"}},a.a.createElement(j.a,{bsSize:"xsmall",bsStyle:"link",disabled:l,onClick:this._toggleStoredSettings},n?a.a.createElement("span",null,a.a.createElement(w.b,{Icon:qe.a},a.a.createElement(E.a,{id:"components.UserTripSettings.forgetOptions"}))):a.a.createElement("span",null,a.a.createElement(w.b,{Icon:Fa.a},a.a.createElement(E.a,{id:"components.UserTripSettings.rememberOptions"})))),a.a.createElement(j.a,{bsSize:"xsmall",bsStyle:"link",disabled:s&&!n,onClick:o},a.a.createElement(w.b,{Icon:V.a},n?a.a.createElement(E.a,{id:"components.UserTripSettings.restoreMyDefaults"}):a.a.createElement(E.a,{id:"components.UserTripSettings.restoreDefaults"}))))}}])&&Va(t.prototype,n),r&&Va(t,r),s}(o.Component),Ja={clearDefaultSettings:s.b,resetForm:s.f,storeDefaultSettings:s.i},qa=Object(r.c)((function(e){var t=e.otp,n=t.config,r=t.currentQuery;return{config:n,defaults:e.user.localUser.defaults,query:r}}),Ja)(Xa);function Ka(e){return(Ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function es(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ts(e,t){return(ts=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ns(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=is(e);if(t){var i=is(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return rs(this,n)}}function rs(e,t){if(t&&("object"===Ka(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function is(e){return(is=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var os=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ts(e,t)}(o,e);var t,n,r,i=ns(o);function o(){return $a(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){var e=this.props,t=e.config,n=e.intl,r=e.query,i=e.setQueryParam,o=e.showUserSettings,s=this.context.ModeIcon;return a.a.createElement("div",{className:"settings-selector-panel"},a.a.createElement("div",{className:"modes-panel"},o&&a.a.createElement(qa,null),a.a.createElement(c.c,{ModeIcon:s,onQueryParamChange:i,queryParams:r,supportedCompanies:t.companies,supportedModes:Object(wn.g)(t,n)})))}}])&&es(t.prototype,n),r&&es(t,r),o}(o.Component);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(os,"contextType",q.a);var as={setQueryParam:s.h},ss=Object(r.c)((function(e){var t=e.otp;return{config:t.config,query:t.currentQuery,showUserSettings:Object(N.getShowUserSettings)(e)}}),as)(Object(U.c)(os)),ls={setMobileScreen:J.j},cs=Object(r.c)(null,ls)((function(e){var t=e.setMobileScreen,n=Object(M.a)();return a.a.createElement(ea,null,a.a.createElement(Ea,{backScreen:yn.b.SEARCH_FORM,headerText:n.formatMessage({id:"components.MobileOptions.header"})}),a.a.createElement("main",{tabIndex:-1},a.a.createElement("div",{className:"options-main-content mobile-padding"},a.a.createElement(ss,null)),a.a.createElement("div",{className:"options-lower-tray mobile-padding"},a.a.createElement(We,{onClick:Object(o.useCallback)((function(){return t(yn.b.RESULTS_SUMMARY)}),[t])}))))})),us=n(136),ds=n(89);function fs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ps(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ps(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ps(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ms,hs,gs,ys,vs,bs,ws,xs,Es,_s,As=n(231),Os=n(182);function Ss(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Ts,Is,ks=Ut.default.div(ms||(ms=Ss(["\n  background-color: ",";\n  color: ",";\n  height: 100%;\n  overflow-y: hidden;\n"])),(function(e){return e.full?e.backgroundColor||rt.j[100]:"inherit"}),(function(e){return e.full?e.textColor:"inherit"})),Cs=Ut.default.div(hs||(hs=Ss(["\n  padding: 8px;\n  background-color: inherit;\n"]))),Ms=Ut.default.div(gs||(gs=Ss(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]))),Ns=Ut.default.label(ys||(ys=Ss(["\n  font-size: 18px;\n  margin-bottom: 0;\n"]))),js=Ut.default.div(vs||(vs=Ss(["\n  align-items: center;\n  background-color: inherit;\n  color: inherit;\n  display: flex;\n  gap: 16px;\n  justify-content: flex-start;\n  margin: 0;\n  padding: 8px;\n\n  label {\n    width: 15%;\n  }\n\n  // Styling for SortResultsDropdown\n\n  & > span {\n    width: 85%;\n\n    button#headsign-selector-label {\n      align-items: center;\n      display: flex;\n      justify-content: space-between;\n      width: 95%;\n\n      span {\n        text-overflow: ellipsis;\n        overflow: hidden;\n        white-space: nowrap;\n      }\n    }\n  }\n"]))),Ls=Ut.default.ol(bs||(bs=Ss(["\n  color: ",";\n  background-color: ",";\n  overflow-y: scroll;\n  /* Calculate the height of the container a little short to ensure all stops \n  are shown when browsers don't calculate 100% sensibly. */\n  height: calc(100% - 140px);\n  padding: 15px 0 0px;\n"])),(function(e){return(null==e?void 0:e.textColor)||rt.b}),(function(e){return(null==e?void 0:e.backgroundColor)||"#fff"})),Rs=Ut.default.button(ws||(ws=Ss(["\n  color: ",";\n  background-color: transparent;\n  border: none;\n  padding: 0;\n  text-align: left;\n  width: 95%;\n\n  &:hover {\n    color: ",";\n    text-decoration: underline;\n  }\n"])),(function(e){return(null==e?void 0:e.textColor)+"da"||!1}),(function(e){return(null==e?void 0:e.textColor)||rt.g[900]})),Ds=Ut.default.li(xs||(xs=Ss(["\n  cursor: pointer;\n  display: block;\n  white-space: nowrap;\n  margin-left: 45px;\n  /* negative margin accounts for the height of the stop blob */\n  margin-top: -28px;\n\n  /* this is the station blob */\n  &::before {\n    content: '';\n    display: block;\n    height: 20px;\n    width: 20px;\n    border: 5px solid ",";\n    background: ",";\n    position: relative;\n    top: 20px;\n    left: -35px;\n    border-radius: 20px;\n  }\n\n  /* this is the line between the blobs */\n  &::after {\n    content: '';\n    display: block;\n    height: 1.65rem; /* set position in line-height agnostic way */\n    width: 10px;\n    background: ",";\n    position: relative;\n    left: -30px;\n    /* this is a few pixels into the blob (to make it look attached) + 3.5rem so that each\n    stop's bar connects the previous bar with the current one */\n    top: -3.5rem; /* adjust position in a way that is agnostic to line-height */\n  }\n\n  /* hide the first line between blobs */\n  &:first-of-type::after {\n    background: transparent;\n  }\n"])),(function(e){return e.textColor+"ee"}),(function(e){return e.routeColor}),(function(e){return e.textColor+"ee"})),Ps=Ut.default.li(Es||(Es=Ss(["\n  list-style-type: none;\n\n  & .header {\n    align-items: center;\n    display: grid;\n    grid-template-columns: 2fr 1fr;\n    overflow: hidden;\n  }\n\n  &:first-of-type .header.stop-view {\n    border-top-left-radius: ",";\n    border-top-right-radius: ",";\n  }\n\n  &:last-of-type .header.stop-view {\n    border-bottom-left-radius: 10px;\n    border-bottom-right-radius: 10px;\n  }\n"])),(function(e){return e.roundedTop?"10px":"0"}),(function(e){return e.roundedTop?"10px":"0"})),Bs=Ut.default.ol(_s||(_s=Ss(["\n  display: grid;\n  grid-template-rows: fit-content(8ch);\n  list-style-type: none;\n  padding: 15px;\n  text-align: right;\n  white-space: nowrap;\n\n  & li:first-of-type {\n    font-size: 24px;\n    font-weight: 700;\n  }\n"])));function Fs(e){return(Fs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Us(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Us(Object(n),!0).forEach((function(t){Xs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Us(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hs(e,t){return(Hs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ws(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zs(e);if(t){var i=Zs(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ys(this,n)}}function Ys(e,t){if(t&&("object"===Fs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Qs(e)}function Qs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zs(e){return(Zs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Js(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var qs,Ks,$s,el=Object(Ut.default)(Os.a)(Ts||(Ts=Js(["\n  span {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n"]))),tl=Object(Ut.default)(ds.a)(Is||(Is=Js(["\n  button {\n    float: right;\n  }\n\n  span,\n  span.caret {\n    color: #333;\n  }\n"]))),nl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hs(e,t)}(o,e);var t,n,r,i=Ws(o);function o(){var e;Vs(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Xs(Qs(e=i.call.apply(i,[this].concat(n))),"_headSignButtonClicked",(function(t){var n=e.props,r=n.route;(0,n.setViewedRoute)({patternId:t,routeId:r.id})})),Xs(Qs(e),"_stopLinkClicked",(function(t){(0,e.props.setViewedStop)(t)})),Xs(Qs(e),"_editHeadsign",(function(t){t.headsign=e.props.intl.formatMessage({id:"components.RouteDetails.headsignTo"},zs({},t))})),e}return t=o,(n=[{key:"render",value:function(){var e,t,n,r=this,i=this.props,o=i.intl,s=i.operator,l=i.patternId,c=i.route,u=i.setHoveredStop,d=c.agency,f=c.patterns,p=void 0===f?{}:f,m=c.shortName,h=c.url,g=p[l],y=h||(null==c||null===(e=c.agency)||void 0===e?void 0:e.url),v=Object(En.g)(s,c),b=function(e,t,n){return Object.entries(e).map((function(e){var n,r,i,o,a=fs(e,2),s=a[0],l=a[1];return{geometryLength:(null===(n=l.patternGeometry)||void 0===n?void 0:n.length)||0,headsign:Object(En.b)(l,t),id:s,lastStop:null===(r=l.stops)||void 0===r||null===(i=r[(null===(o=l.stops)||void 0===o?void 0:o.length)-1])||void 0===i?void 0:i.name}})).reduce((function(t,r){var i=t,o=t.findIndex((function(e){return e.headsign===r.headsign}));return o>=0&&r.lastStop&&r.headsign!==r.lastStop&&(n(r),1===i.length&&2===Object.entries(e).length)?(n(i[0]),i.push(r),i):(o>=0&&i[o].lastStop===r.lastStop?i[o].geometryLength<r.geometryLength&&(i[o]=r):i.push(r),i)}),[])}(p,m,this._editHeadsign).sort((function(e,t){var n,r,i=(null===(n=c.vehicles)||void 0===n?void 0:n.filter((function(t){return t.patternId===e.id})).length)||0,o=(null===(r=c.vehicles)||void 0===r?void 0:r.filter((function(e){return e.patternId===t.id})).length)||0;return i===o?t.geometryLength-e.geometryLength:o-i})),w=o.formatMessage({id:"components.RouteDetails.selectADirection"}),x=(null===(t=b.find((function(e){return e.id===(null==g?void 0:g.id)})))||void 0===t?void 0:t.headsign)||w;return a.a.createElement(ks,{backgroundColor:v,full:null!=g,textColor:Object(us.getMostReadableTextColor)(v,null==c?void 0:c.textColor)},a.a.createElement(Cs,{className:"operator-info"},a.a.createElement(Ms,null,d&&a.a.createElement(a.a.Fragment,null,a.a.createElement(E.a,{id:"components.RouteDetails.operatedBy",values:{agencyName:Object(N.getOperatorName)(s,c)}})),y&&a.a.createElement(As.a,{contents:a.a.createElement(E.a,{id:"components.RouteDetails.moreDetails"}),style:{color:Object(us.getMostReadableTextColor)(v,null==c?void 0:c.textColor)},url:y}))),b&&b.length>0&&a.a.createElement(js,{className:"pattern-picker"},a.a.createElement(Ns,{htmlFor:"headsign-selector-label"},a.a.createElement(E.a,{id:"components.RouteDetails.stopsTo"})),a.a.createElement(tl,{id:"headsign-selector",label:w,style:{color:"black"},text:x},b.map((function(e){return a.a.createElement("li",{key:e.id},a.a.createElement(el,{onClick:function(){return r._headSignButtonClicked(e.id)},value:e.id},a.a.createElement("span",null,e.headsign)))})))),g&&a.a.createElement(a.a.Fragment,null,a.a.createElement("h2",{style:{fontSize:"inherit",fontWeight:400,margin:"10px 0 10px 8px"}},a.a.createElement(E.a,{id:"components.RouteViewer.stopsInDirectionOfTravel"})),a.a.createElement(Ls,{backgroundColor:v,onMouseLeave:function(){return u(null)},textColor:Object(us.getMostReadableTextColor)(v,null==c?void 0:c.textColor)},null==g||null===(n=g.stops)||void 0===n?void 0:n.map((function(e,t){return a.a.createElement(Ds,{key:t,onClick:function(){return r._stopLinkClicked(e)},onMouseOver:function(){return u(e.id)},routeColor:v.includes("ffffff")?rt.c:v,textColor:Object(us.getMostReadableTextColor)(v,null==c?void 0:c.textColor)},a.a.createElement(Rs,{name:e.name,onFocus:function(){return u(e.id)},textColor:Object(us.getMostReadableTextColor)(v,null==c?void 0:c.textColor)},e.name))})))))}}])&&Gs(t.prototype,n),r&&Gs(t,r),o}(o.Component),rl={setHoveredStop:J.f,setViewedRoute:J.o,setViewedStop:J.p},il=Object(r.c)(null,rl)(Object(U.c)(nl));function ol(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var al=Ut.default.span(qs||(qs=ol(["\n  flex-shrink: 0;\n  font-size: 16px;\n  font-weight: 400;\n"]))),sl=Object(Ut.default)(al)(Ks||(Ks=ol(["\n  font-size: 18px;\n  & > span {\n    max-width: unset;\n    vertical-align: text-bottom;\n  }\n"]))),ll=Ut.default.span($s||($s=ol(["\n  font-size: 16px;\n  font-weight: 500;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  width: 100%;\n"]))),cl=function(e){var t=e.isOnColoredBackground,n=e.route,r=e.RouteRenderer||Hi.a,i=n.longName,o=n.shortName,s=t?sl:al;return a.a.createElement(a.a.Fragment,null,a.a.createElement(s,{title:"".concat(o)},a.a.createElement(r,{leg:Object(En.d)(n,t)})),o&&(o!==i||!t)&&a.a.createElement(ll,null,i))};function ul(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return dl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var fl={getVehiclePositionsForRoute:je.G},pl=Object(r.c)((function(e){var t,n;return{refreshSeconds:(null===(t=e.otp.config.routeViewer)||void 0===t?void 0:t.vehiclePositionRefreshSeconds)||30,routeId:null===(n=e.otp.ui.viewedRoute)||void 0===n?void 0:n.routeId}}),fl)((function(e){var t=e.getVehiclePositionsForRoute,n=e.refreshSeconds,r=e.routeId,i=ul(Object(o.useState)(null),2),a=i[0],s=i[1],l=Object(o.useCallback)((function(){r&&t(r)}),[r,t]);return Object(o.useEffect)((function(){return r&&(l(),a||s(setInterval(l,1e3*n))),function(){a&&(clearInterval(a),s(null))}}),[r,l,a,n]),null}));function ml(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ml(Object(n),!0).forEach((function(t){gl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ml(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yl={findRoutesIfNeeded:je.r,setViewedRoute:J.o},vl=Object(r.c)((function(e){var t,n,r,i=e.otp.ui.viewedRoute;return{transitOperators:e.otp.config.transitOperators,vehicleIconHighlight:null===(t=e.otp.config)||void 0===t||null===(n=t.routeViewer)||void 0===n?void 0:n.vehicleIconHighlight,viewedRoute:i,viewedRouteObject:null===(r=e.otp.transitIndex.routes)||void 0===r?void 0:r[null==i?void 0:i.routeId]}}),yl)((function(e){var t=e.findRoutesIfNeeded,n=e.hideBackButton,r=e.setViewedRoute,i=e.transitOperators,s=e.vehicleIconHighlight,l=e.viewedRoute,c=e.viewedRouteObject,u=Object(M.a)(),d=Object(o.useCallback)((function(){(null==l?void 0:l.routeId)&&r(hl(hl({},l),{},{patternId:void 0}))}),[l,r]);Object(o.useEffect)(t,[t]);var f=Object(o.useContext)(q.a),p=f.ModeIcon,m=f.RouteRenderer;if((null==l?void 0:l.patternId)&&c){var h=l.patternId,g=Object(N.getRouteOperator)(c,i),y=Object(En.g)(g,c),v=Object(us.getMostReadableTextColor)(y,null==c?void 0:c.textColor),b=!1===s?void 0:v;return a.a.createElement("div",{className:"route-viewer pattern-viewer",style:{backgroundColor:y,color:v,fill:b}},a.a.createElement(pl,null),a.a.createElement(la.a,{title:Object(En.i)(i,c,h,u)}),a.a.createElement("div",{className:"route-viewer-header",style:{backgroundColor:y}},!n&&a.a.createElement("div",{className:"back-button-container"},a.a.createElement(j.a,{bsSize:"small",onClick:d},a.a.createElement(w.c,null,a.a.createElement(ta.a,null)),a.a.createElement(E.a,{id:"common.forms.back"}))),a.a.createElement("div",{className:"header-text route-expanded"},a.a.createElement("h1",{style:{display:"contents"}},!c.pending&&p&&a.a.createElement(p,{"aria-label":Object(wn.c)(Object(En.f)(c).toLowerCase(),u),mode:Object(En.f)(c),style:{maxHeight:40},width:22}),a.a.createElement(cl,{isOnColoredBackground:!0,route:c,RouteRenderer:m})))),a.a.createElement(il,{operator:g,patternId:h,route:c}))}return null}));function bl(e){return(bl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function El(e,t){return(El=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sl(e);if(t){var i=Sl(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Al(this,n)}}function Al(e,t){if(t&&("object"===bl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ol(e)}function Ol(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sl(e){return(Sl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Il=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&El(e,t)}(o,e);var t,n,r,i=_l(o);function o(){var e;wl(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Tl(Ol(e=i.call.apply(i,[this].concat(n))),"_backClicked",(function(){e.props.setViewedRoute(null),e.props.setMainPanelContent(null)})),e}return t=o,(n=[{key:"render",value:function(){var e=this.props.intl,t=this.context.ModeIcon;return a.a.createElement(ea,null,a.a.createElement(Ea,{headerText:e.formatMessage({id:"components.RouteViewer.header"}),onBackClicked:this._backClicked}),a.a.createElement("main",{tabIndex:-1},a.a.createElement("div",{className:"viewer-container"},a.a.createElement(vl,{hideBackButton:!0,ModeIcon:t})),a.a.createElement("div",{className:"viewer-map"},a.a.createElement(Xe.a,null))))}}])&&xl(t.prototype,n),r&&xl(t,r),o}(o.Component);Tl(Il,"propTypes",{intl:X.a.object,setMainPanelContent:X.a.func,setViewedRoute:X.a.func}),Tl(Il,"contextType",q.a);var kl={setMainPanelContent:J.i,setViewedRoute:J.o},Cl=Object(r.c)(null,kl)(Object(U.c)(Il)),Ml=o.forwardRef((function(e,t){return o.createElement(D.a,R()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M3.9 54.9C10.5 40.9 24.5 32 40 32h432c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L320 320.9V448c0 12.1-6.8 23.2-17.7 28.6s-23.8 4.3-33.5-3l-64-48c-8.1-6-12.8-15.5-12.8-25.6v-79.1L9 97.3C-.7 85.4-2.8 68.8 3.9 54.9z"}))}));Ml.displayName="Filter";var Nl=n(121),jl=o.forwardRef((function(e,t){return o.createElement(D.a,R()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 448 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224H32c-17.7 0-32 14.3-32 32s14.3 32 32 32h306.7L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"}))}));jl.displayName="ArrowRight";var Ll,Rl,Dl,Pl,Bl,Fl,Ul=n(104),zl=n(242);function Vl(e){return(Vl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hl(e,t){return(Hl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zl(e);if(t){var i=Zl(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Yl(this,n)}}function Yl(e,t){if(t&&("object"===Vl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ql(e)}function Ql(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zl(e){return(Zl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jl(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var ql=Ut.default.li(Ll||(Ll=Jl(["\n  align-items: center;\n  background-color: transparent;\n  display: flex;\n  justify-content: space-between;\n  list-style: none;\n  margin: 5px 0;\n  min-height: 50px;\n  position: relative;\n"]))),Kl=Object(Ut.default)(Ul.a)(Rl||(Rl=Jl(["\n  align-items: center;\n  border-radius: 10px;\n  color: inherit !important;\n  display: flex;\n  min-height: 50px;\n  padding: 5px;\n  // Make sure route details always leaves enough room for pattern button\n  padding-right: 55px;\n  text-decoration: none !important;\n  transition: all ease-out 0.1s;\n  width: 100%;\n\n  &:hover {\n    outline: 2px solid ",";\n    outline-offset: -2px;\n  }\n\n  &.active {\n    background-color: ",";\n  }\n"])),rt.g[200],rt.g[50]),$l=(Ut.default.img(Dl||(Dl=Jl(["\n  height: 25px;\n"]))),Ut.default.span(Pl||(Pl=Jl(["\n  display: inherit; // Allows for equal sizing and vertical centering of mode icons\n  height: 28px;\n  width: 28px;\n"])))),ec=Ut.default.div(Bl||(Bl=Jl(["\n  align-items: center;\n  display: flex;\n  gap: 12px;\n  margin-left: 5px;\n  max-height: 180px;\n  min-height: 36px;\n  overflow: hidden;\n"]))),tc=Object(Ut.default)(Ul.a)(Fl||(Fl=Jl(["\n  background: transparent;\n  border: none;\n  border-radius: 50%;\n  color: ",";\n  height: 40px;\n  line-height: 40px;\n  margin-right: 8px;\n  position: absolute;\n  right: 5px;\n  text-align: center;\n  transition: all ease-out 0.1s;\n  width: 40px;\n  z-index: -2;\n\n  svg {\n    height: 22px !important;\n    margin-top: -3px;\n    opacity: 0;\n    width: 22px !important;\n  }\n\n  :active {\n    opacity: 100%;\n    transition: all ease-out 0.1s;\n  }\n\n  &:hover {\n    background: #fff;\n    transition: all ease-out 0.1s;\n  }\n\n  ",".active + & {\n    z-index: 2;\n\n    svg {\n      opacity: 80%;\n    }\n  }\n"])),rt.g[900],Kl),nc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hl(e,t)}(o,e);var t,n,r,i=Wl(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Xl(Ql(t=i.call(this,e)),"activeRef",void 0),Xl(Ql(t),"componentDidMount",(function(){var e,n=t.props,r=n.isActive,i=n.route;r&&(null==i?void 0:i.id)&&(null===(e=t.activeRef.current)||void 0===e||e.scrollIntoView())})),Xl(Ql(t),"_onFocusOrEnter",(function(){var e=t.props,n=e.findRouteIfNeeded,r=e.route,i=null==r?void 0:r.id;i&&n({routeId:i})})),t.activeRef=a.a.createRef(),t}return t=o,(n=[{key:"componentDidUpdate",value:function(){var e;this.props.isActive&&this.props.initialRender&&(null===(e=this.activeRef.current)||void 0===e||e.scrollIntoView())}},{key:"render",value:function(){var e,t,n=this.props,r=n.intl,i=n.isActive,o=n.operator,s=n.route,l=this.context,c=l.ModeIcon,u=l.RouteRenderer;if(!s)return null;var d=s.id,f=s.longName,p=s.mode,m=s.patterns,h=s.shortName,g=Object(En.f)(s),y="/route/".concat(d),v=m&&(null===(e=Object.values(m))||void 0===e||null===(t=e[0])||void 0===t?void 0:t.id),b=r.formatMessage({description:"identifies the purpose of the pattern viewer button",id:"components.RouteViewer.openPatternViewer"});return a.a.createElement(ql,{ref:this.activeRef},a.a.createElement(Kl,{className:"clear-button-formatting",onFocus:this._onFocusOrEnter,onMouseEnter:this._onFocusOrEnter,onTouchStart:this._onFocusOrEnter,to:y,tracking:!0},a.a.createElement(ec,null,a.a.createElement(zl.a,{operator:o}),p&&!1!==o.routeIcons&&a.a.createElement($l,null,a.a.createElement(c,{"aria-label":Object(wn.c)(g.toLowerCase(),r),height:28,leg:{routeId:d,routeLongName:f,routeShortName:h},mode:g,role:"img",width:28})),a.a.createElement(cl,{route:s,RouteRenderer:u}))),a.a.createElement(tc,{"aria-label":b,id:"open-route-button-".concat(h||f,"-").concat(o.name||""),tabIndex:i?0:-1,title:b,to:"".concat(y,"/pattern/").concat(v)},a.a.createElement(w.a,{Icon:jl})))}}])&&Gl(t.prototype,n),r&&Gl(t,r),o}(o.PureComponent);function rc(e){return(rc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ic(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ac(e,t){return(ac=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=uc(e);if(t){var i=uc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return lc(this,n)}}function lc(e,t){if(t&&("object"===rc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return cc(e)}function cc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uc(e){return(uc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Xl(nc,"contextType",q.a);var fc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ac(e,t)}(s,e);var t,n,r,o=sc(s);function s(){var e;ic(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return dc(cc(e=o.call.apply(o,[this].concat(n))),"state",{initialRender:!0}),dc(cc(e),"_backClicked",(function(){return e.props.setMainPanelContent(null)})),dc(cc(e),"onFilterChange",(function(t){var n=t.eventPhase,r=t.target;if(n===Event.BUBBLING_PHASE){var i=r,o=i.id,a=i.value;e.props.setRouteViewerFilter(dc({},o,a))}})),dc(cc(e),"onSearchChange",(function(t){var n=t.target.value;e.props.setRouteViewerFilter({search:n})})),e}return t=s,(n=[{key:"componentDidMount",value:function(){this.props.findRoutesIfNeeded()}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props.routes;this.state.initialRender&&t.length>1&&window.requestAnimationFrame((function(){e.setState({initialRender:!1})}))}},{key:"render",value:function(){var e=this.props,t=e.agencies,n=e.filter,r=e.findRouteIfNeeded,o=e.hideBackButton,s=e.hideHeader,l=e.intl,c=e.modes,u=e.routes,d=e.transitOperators,f=e.viewedRoute,p=e.viewedRouteObject,m=this.state.initialRender,h=n.search,g=d.length>0?Array.from(new Set(d.map((function(e){return e.name})))):t,y=l.formatMessage({id:"components.RouteViewer.findARoute"});return a.a.createElement("div",{className:"route-viewer"},a.a.createElement(pl,null),a.a.createElement(la.a,{title:Object(En.i)(d,p,null,l)}),a.a.createElement("div",{className:"route-viewer-header"},!o&&a.a.createElement("div",{className:"back-button-container"},a.a.createElement(j.a,{bsSize:"small",onClick:this._backClicked},a.a.createElement(w.c,null,a.a.createElement(ta.a,null)),a.a.createElement(E.a,{id:"common.forms.back"}))),!s&&a.a.createElement("h1",{className:"header-text"},a.a.createElement(E.a,{id:"components.RouteViewer.title"})),a.a.createElement("div",null,a.a.createElement(E.a,{id:"components.RouteViewer.details"})),a.a.createElement("section",{className:"search-and-filter"},a.a.createElement("span",{className:"routeFilter"},a.a.createElement(w.c,null,a.a.createElement(Ml,null)),a.a.createElement("select",{"aria-label":l.formatMessage({id:"components.RouteViewer.agencyFilter"}),id:"agency",onBlur:this.onFilterChange,onChange:this.onFilterChange,value:n.agency||""},a.a.createElement("option",{value:""},l.formatMessage({id:"components.RouteViewer.allAgencies"})),g.map((function(e){return a.a.createElement("option",{key:e,value:e},e)}))),a.a.createElement("select",{"aria-label":l.formatMessage({id:"components.RouteViewer.modeFilter"}),id:"mode",onBlur:this.onFilterChange,onChange:this.onFilterChange,value:n.mode||""},a.a.createElement("option",{value:""},l.formatMessage({id:"components.RouteViewer.allModes"})),c.map((function(e){return a.a.createElement("option",{key:e,value:e.toUpperCase()},Object(wn.c)(e.toLowerCase(),l))})))),a.a.createElement("span",{className:"routeSearch"},a.a.createElement(w.c,null,a.a.createElement(Nl.a,null)),a.a.createElement("input",{"aria-label":y,onChange:this.onSearchChange,placeholder:y,type:"search",value:h})))),a.a.createElement("ul",{className:"route-viewer-body"},u.map((function(e){var t=i.default.route.getTransitOperatorFromOtpRoute(e,d)||{};return a.a.createElement(nc,{findRouteIfNeeded:r,initialRender:m,intl:l,isActive:f&&f.routeId===e.id,key:e.id,operator:t,route:e})})),c.length>0&&0===u.length&&a.a.createElement("span",{className:"noRoutesFoundMessage"},a.a.createElement(E.a,{id:"components.RouteViewer.noFilteredRoutesFound"}))))}}])&&oc(t.prototype,n),r&&oc(t,r),s}(o.Component),pc={findRouteIfNeeded:je.o,findRoutesIfNeeded:je.r,setMainPanelContent:J.i,setRouteViewerFilter:J.m},mc=Object(r.c)((function(e){var t,n=e.otp.ui.viewedRoute;return{agencies:Object(N.getAgenciesFromRoutes)(e),filter:e.otp.ui.routeViewer.filter,modes:Object(N.getModesForActiveAgencyFilter)(e),routes:Object(N.getSortedFilteredRoutes)(e),transitOperators:e.otp.config.transitOperators||[],viewedRoute:n,viewedRouteObject:null===(t=e.otp.transitIndex.routes)||void 0===t?void 0:t[null==n?void 0:n.routeId]}}),pc)(Object(U.c)(fc));function hc(e){return(hc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vc(e,t){return(vc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ec(e);if(t){var i=Ec(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return wc(this,n)}}function wc(e,t){if(t&&("object"===hc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return xc(e)}function xc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ec(e){return(Ec=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ac=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vc(e,t)}(o,e);var t,n,r,i=bc(o);function o(){var e;gc(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _c(xc(e=i.call.apply(i,[this].concat(n))),"_backClicked",(function(){e.props.setViewedRoute(null),e.props.setMainPanelContent(null)})),e}return t=o,(n=[{key:"render",value:function(){var e=this.props.intl,t=this.context.ModeIcon;return a.a.createElement(ea,null,a.a.createElement(Ea,{headerText:e.formatMessage({id:"components.RouteViewer.header"}),onBackClicked:this._backClicked}),a.a.createElement("main",{tabIndex:-1},a.a.createElement("div",{className:"viewer-container"},a.a.createElement(mc,{hideBackButton:!0,hideHeader:!0,ModeIcon:t})),a.a.createElement("div",{className:"viewer-map"},a.a.createElement(Xe.a,null))))}}])&&yc(t.prototype,n),r&&yc(t,r),o}(o.Component);_c(Ac,"propTypes",{intl:X.a.object,setMainPanelContent:X.a.func,setViewedRoute:X.a.func}),_c(Ac,"contextType",q.a);var Oc={setMainPanelContent:J.i,setViewedRoute:J.o},Sc=Object(r.c)(null,Oc)(Object(U.c)(Ac)),Tc=n(1055),Ic=n(264),kc=n(173),Cc=o.forwardRef((function(e,t){return o.createElement(D.a,R()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M416 208c0 45.9-14.9 88.3-40 122.7l126.6 126.7c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0s208 93.1 208 208zM208 352c79.5 0 144-64.5 144-144S287.5 64 208 64 64 128.5 64 208s64.5 144 144 144z"}))}));Cc.displayName="MagnifyingGlass";var Mc,Nc,jc,Lc,Rc,Dc,Pc,Bc,Fc,Uc,zc,Vc={retrieveServiceTimeRangeIfNeeded:n(193).a.retrieveServiceTimeRangeIfNeeded},Gc=Object(r.c)(null,Vc)((function(e){var t=e.retrieveServiceTimeRangeIfNeeded;return Object(o.useEffect)((function(){t()}),[t]),null})),Hc=n(246);function Wc(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Ut.default.div(Mc||(Mc=Wc(["\n  aspect-ratio: 1;\n  background: white;\n  border-radius: 1rem;\n  color: black;\n  left: 0px;\n  margin: 5px;\n  padding: 3px;\n  position: fixed;\n"])));var Yc=Ut.default.ol(Nc||(Nc=Wc(["\n  display: flex;\n  flex-direction: column;\n  gap: 1em;\n  padding: 0 1em;\n  list-style: none;\n\n  & > li:last-of-type {\n    margin-bottom: 1em;\n  }\n\n  & > li:first-of-type {\n    margin-top: 1em;\n  }\n\n  @media (max-width: 768px) {\n    min-height: calc(100vh - 50px);\n  }\n"]))),Qc=Ut.default.div(jc||(jc=Wc(["\n  background: white;\n  border-radius: 10px;\n  color: ",";\n  display: flex;\n  flex-direction: column;\n\n  &:hover {\n    box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);\n  }\n\n  .highlighted & {\n    box-shadow: 0 0 6px 0px #facc15, 0 0 0 4px #facc15;\n  }\n"])),rt.b),Zc=Ut.default.div(Lc||(Lc=Wc(["\n  align-items: center;\n  display: grid;\n  grid-template-columns: 25fr 1fr;\n  padding: 1rem 1.2rem 0;\n"]))),Xc=Ut.default.p(Rc||(Rc=Wc(["\n  align-items: center;\n  display: flex;\n  font-size: 22px;\n  font-weight: 600;\n  grid-column: 1;\n  margin: 0;\n  /* Prevent svg and images to be taller than the text. */\n  svg {\n    max-height: 1em;\n  }\n"]))),Jc=Ut.default.p(Dc||(Dc=Wc(["\n  color: ",";\n  font-size: 16px;\n  font-weight: 400;\n  grid-column: 1;\n  margin: 0;\n"])),rt.j[900]),qc=Ut.default.p(Pc||(Pc=Wc(["\n  color: ","ba;\n  grid-column: -1;\n  grid-row: 1;\n  text-align: right;\n"])),rt.j[900]),Kc=Ut.default.div(Bc||(Bc=Wc(["\n  margin-bottom: 1rem;\n  margin-top: 1rem;\n  padding: 0rem 1.2rem;\n"]))),$c=Ut.default.div(Fc||(Fc=Wc(["\n  /* 'clear: both' prevents the date selector from overlapping with the alert. */\n  clear: both;\n  margin: 0.1rem 0;\n  padding: 5px 10px;\n  text-align: center;\n"]))),eu=Ut.default.ul(Uc||(Uc=Wc(["\n  border-radius: 10px;\n  box-shadow: 2px 2px 5px 1px rgb(0 0 0/10%);\n  list-style-type: none;\n  margin: 0;\n  padding-left: 0;\n"]))),tu=Ut.default.div(zc||(zc=Wc(["\n  height: 100%;\n  overflow-y: scroll;\n"]))),nu=o.forwardRef((function(e,t){return o.createElement(D.a,R()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 576 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M287.9 0c9.2 0 17.6 5.25 21.6 13.52l68.6 141.28 153.3 22.7c9 1.3 16.4 7.6 19.3 16.2 2.8 8.7.5 18.2-5.9 24.5L433.6 328.4l26.3 155.5c1.5 9-2.2 18.2-9.7 23.5-7.4 5.3-18.1 6-25.3 1.7l-137-73.2-137.8 73.2c-7.2 4.3-17 3.6-24.5-1.7-7.4-5.3-11.1-14.5-10.5-23.5l27.1-155.5L31.11 218.2c-6.46-6.3-8.75-15.8-5.91-24.5 2.83-8.6 10.3-14.9 19.29-16.2l153.21-22.7 68.6-141.28C270.4 5.249 278.7 0 287.9 0zm0 78.95L235.4 187.2c-3.5 7.1-10.3 12.1-18.1 13.3L98.98 217.9 184.9 303c5.5 5.5 8 13.4 6.7 21.1l-20.2 119.6 105.2-56.2c7.1-3.8 15.6-3.8 22.6 0l105.2 56.2-20.2-119.6c-1.3-7.7 1.3-15.6 6.8-21.1l85.9-85.1-118.3-17.4c-7.9-1.2-14.7-6.2-18.1-13.3L287.9 78.95z"}))}));nu.displayName="Star";var ru=o.forwardRef((function(e,t){return o.createElement(D.a,R()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 576 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M316.9 18c-5.3-11-16.5-18-28.8-18s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329l-24.6 145.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329l104.2-103.1c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7l-143.7-21.2L316.9 18z"}))}));ru.displayName="Star";var iu,ou,au,su,lu=n(88),cu=n(52),uu={forgetStop:lu.n,rememberStop:lu.r},du=Object(r.c)((function(e,t){var n,r,i=Object(N.getShowUserSettings)(e),o=e.otp.config.persistence,a=null===(n=t.stopData)||void 0===n?void 0:n.gtfsId;return{enableFavoriteStops:i&&Object(cu.h)(o).isLocalStorage,isFavoriteStop:null===(r=e.user.localUser)||void 0===r?void 0:r.favoriteStops.some((function(e){return e.id===a}))}}),uu)((function(e){var t=e.enableFavoriteStops,n=e.forgetStop,r=e.isFavoriteStop,i=e.rememberStop,s=e.stopData,l=Object(o.useCallback)((function(){s&&(r?n(s):i(s))}),[n,r,i,s]);return t?a.a.createElement(j.a,{bsSize:"large",bsStyle:"link",onClick:l,style:{color:r?"yellow":"black",marginLeft:"5px",padding:0}},a.a.createElement(w.c,null,r?a.a.createElement(ru,null):a.a.createElement(nu,null))):null})),fu=n(190),pu={setLocation:Ee.e},mu=Object(r.c)(null,pu)((function(e){var t=e.className,n=e.place,r=e.setLocation,i=Object(o.useMemo)((function(){var e,t;return{lat:null!==(e=n.lat)&&void 0!==e?e:0,lon:null!==(t=n.lon)&&void 0!==t?t:0,name:n.name}}),[n]);return a.a.createElement("span",{className:t,role:"group"},a.a.createElement(fu.a,{label:!0,onFromClick:Object(o.useCallback)((function(){r({location:i,locationType:"from",reverseGeocode:!1})}),[i,r]),onToClick:Object(o.useCallback)((function(){r({location:i,locationType:"to",reverseGeocode:!1})}),[i,r])}))})),hu=n(316),gu=n(148),yu=function(e){var t=e.distance,n=Object(M.a)();return!t||t<5?a.a.createElement(a.a.Fragment,null):a.a.createElement(qc,null,a.a.createElement(E.a,{id:"components.NearbyView.distanceAway",values:{localizedDistanceString:Object(gu.humanizeDistanceString)(t,!1,n)}}))},vu=Object(r.c)((function(e){return{transitOperators:e.otp.config.transitOperators}}))((function(e){var t=e.actionIcon,n=e.actionParams,r=e.actionPath,i=e.actionText,o=e.fromToSlot,s=e.onZoomClick,l=e.stopData,c=e.titleAs,u=e.transitOperators,d=Object(M.a)(),f=s?d.formatMessage({id:"components.StopViewer.zoomToStop"}):void 0;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Zc,null,a.a.createElement(Xc,{as:c},a.a.createElement(hu.a,{stopData:l,transitOperators:u}),a.a.createElement("span",null,l.name)),a.a.createElement(yu,{distance:l.distance})),a.a.createElement(Kc,null,a.a.createElement("div",null,a.a.createElement(E.a,{id:"components.StopViewer.displayStopId",values:{stopId:l.code||l.gtfsId,strong:Ao.a}}),s?a.a.createElement("button",{className:"link-button",onClick:s,title:f},a.a.createElement(w.a,{Icon:Nl.a,style:{marginLeft:"0.2em"}}),a.a.createElement(K.a,null,f)):null,a.a.createElement(Ul.a,{className:"pull-right",style:{color:"inherit",fontSize:"small"},to:r,toParams:n},a.a.createElement(w.b,{Icon:t},i))),o))})),bu=n(412),wu=n(38),xu=n(311),Eu=n(128),_u=n(230),Au=function(e){var t=e.originDate,n=e.realTime,r=e.stopTime,i=t||new Date(1e3*r.serviceDay),o=Object(_u.a)(i,n&&r.realtimeDeparture?r.realtimeDeparture:r.scheduledDeparture);return a.a.createElement(_.FormattedTime,{timeStyle:"short",value:o})};function Ou(e){return(Ou="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Su(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Iu(e,t){return(Iu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ku(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Nu(e);if(t){var i=Nu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Cu(this,n)}}function Cu(e,t){if(t&&("object"===Ou(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Mu(e)}function Mu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nu(e){return(Nu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ju(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lu(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Ru=Ut.default.table(iu||(iu=Lu(["\n  box-sizing: border-box;\n  height: 100%;\n  width: 100%;\n  th {\n    background-color: var(--main-base-color, white);\n    box-shadow: 0 1px 0px 0px ",";\n    font-size: 75%;\n    position: sticky;\n    top: 0px;\n  }\n  tr > * {\n    border-bottom: 1px solid ",";\n    padding: 2px 0 2px 10px;\n    vertical-align: top;\n  }\n  td:first-child,\n  th:first-child {\n    padding-left: 0;\n  }\n"])),rt.j[100],bu.a),Du=Ut.default.td(ou||(ou=Lu(["\n  max-width: 100px;\n  overflow-x: hidden;\n  text-overflow: ellipsis;\n"]))),Pu=Ut.default.td(au||(au=Lu(["\n  font-weight: bold;\n"]))),Bu=Ut.default.td(su||(su=Lu(["\n  font-weight: bold;\n  text-align: right;\n  white-space: nowrap;\n"]))),Fu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Iu(e,t)}(l,e);var t,n,r,s=ku(l);function l(){var e;Su(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ju(Mu(e=s.call.apply(s,[this].concat(n))),"targetDepartureRef",Object(o.createRef)()),ju(Mu(e),"_scrollToFirstDeparture",(function(){var t=e.targetDepartureRef.current;t&&t.scrollIntoView({behavior:"smooth",block:"start"})})),e}return t=l,(n=[{key:"componentDidMount",value:function(){this._scrollToFirstDeparture()}},{key:"componentDidUpdate",value:function(){this._scrollToFirstDeparture()}},{key:"render",value:function(){var e=this,t=this.props,n=t.date,r=t.homeTimezone,o=t.showBlockIds,s=t.stopData;if(s.fetchStatus===wu.k.FETCHING)return a.a.createElement(Eu.b,{small:!0});var l=Object(xu.b)(s),c=i.default.time.getCurrentDate(r),u=l.length&&n===c?Object(En.e)(l):null;return a.a.createElement(Ru,null,a.a.createElement("thead",null,a.a.createElement("tr",null,o&&a.a.createElement("th",{scope:"col"},a.a.createElement(E.a,{id:"components.StopScheduleTable.block"})),a.a.createElement("th",{scope:"col"},a.a.createElement(E.a,{id:"components.StopScheduleTable.route"})),a.a.createElement("th",{scope:"col"},a.a.createElement(E.a,{id:"components.StopScheduleTable.destination"})),a.a.createElement("th",{scope:"col"},a.a.createElement(E.a,{id:"components.StopScheduleTable.departure"})))),a.a.createElement("tbody",null,l.map((function(t,n){var r=t.blockId,i=t.headsign,s=t.route,c=t===u,d=c?"highlighted-item":"",f=l[n+1],p=f?f===u:c,m=s?Object(A.i)(s.shortName)?s.longName:s.shortName:"",h=p?e.targetDepartureRef:void 0;return a.a.createElement("tr",{className:d,key:n,ref:h},o&&a.a.createElement(Du,{title:r},r),a.a.createElement(Pu,null,m),a.a.createElement("td",null,i),a.a.createElement(Bu,null,a.a.createElement(Au,{stopTime:t})))}))))}}])&&Tu(t.prototype,n),r&&Tu(t,r),l}(o.Component),Uu=o.forwardRef((function(e,t){return o.createElement(D.a,R()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0 0 114.6 0 256s114.6 256 256 256zm-40-176h24v-64h-24c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24h-80c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-144c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"}))}));Uu.displayName="InfoCircle";var zu,Vu,Gu,Hu,Wu=n(331),Yu=function(e){var t=e.date,n=void 0===t?Date.now():t,r=e.homeTimezone,i=Object(b.format)(n,"z",{locale:Wu.a,timeZone:r});return a.a.createElement(w.b,{Icon:Uu},a.a.createElement(E.a,{id:"components.StopViewer.timezoneWarning",values:{timezoneCode:a.a.createElement("strong",null,i)}}))};function Qu(e){return(Qu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xu(e,t){return(Xu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ju(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$u(e);if(t){var i=$u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return qu(this,n)}}function qu(e,t){if(t&&("object"===Qu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ku(e)}function Ku(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $u(e){return($u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ed(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function td(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var nd=i.default.time,rd=nd.getCurrentDate,id=nd.getUserTimezone,od="yyyy-MM-dd";var ad=Ut.default.div(zu||(zu=td(["\n  margin-right: -12px;\n  overflow-y: auto;\n  padding-right: 12px;\n"]))),sd=Object(Ut.default)(Tc.a)(Vu||(Vu=td(["\n  /* 'clear: both' prevents the date selector from overlapping with the alert. */\n  clear: both;\n  margin: 10px 0;\n  padding: 5px 10px;\n  text-align: center;\n"]))),ld=Ut.default.div(Gu||(Gu=td(["\n  display: flex;\n  flex-direction: column;\n  margin: 5px 0 0;\n\n  "," {\n    margin: 25px 0 0;\n  }\n\n  input[type='date'] {\n    background: inherit;\n    border: none;\n    clear: right;\n    cursor: pointer;\n    outline: none;\n    width: 125px;\n  }\n  /* Remove arrows on date input */\n  input[type='date']::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n  }\n  /* For Chromium browsers, remove extra space between date and the calendar icon. */\n  input[type='date']::-webkit-calendar-picker-indicator {\n    margin: 0;\n  }\n"])),Kc),cd=Object(Ut.default)(mu)(Hu||(Hu=td(["\n  button {\n    color: inherit;\n  }\n  span {\n    border-color: currentColor;\n  }\n  svg {\n    color: inherit;\n    fill: inherit;\n  }\n"]))),ud=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xu(e,t)}(s,e);var t,n,r,o=Ju(s);function s(e){var t,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),ed(Ku(t=o.call(this,e)),"_backClicked",(function(){return Object(A.l)()})),ed(Ku(t),"_findStopTimesForDate",(function(e){var n=t.props,r=n.findStopTimesForStop,i=n.stopId;i&&r({date:e,forceFetch:!0,stopId:i})})),ed(Ku(t),"getOperator",(function(){var e=t.props,n=e.stopData;return e.transitOperators.find((function(e){var t,r;return e.agencyId===(null==n||null===(t=n.routes)||void 0===t||null===(r=t[0])||void 0===r?void 0:r.agency.gtfsId)}))})),ed(Ku(t),"getTitle",(function(){var e=t.props,n=e.intl,r=e.stopData,o=t.getOperator();return[(o?"".concat(o.name," "):"")+n.formatMessage({id:"components.StopViewer.titleBarStopId"},{stopId:r&&i.default.itinerary.getDisplayedStopId(r)}),n.formatMessage({id:"components.StopViewer.schedule"})]})),ed(Ku(t),"_isDateWithinRange",(function(e){var n=t.props,r=n.calendarMax,i=n.calendarMin;return!Object(A.i)(e)&&e>=i&&e<=r})),ed(Ku(t),"handleDateChange",(function(e){var n=e.target.value;t._isDateWithinRange(n)&&t._findStopTimesForDate(n),t.setState({date:n})})),ed(Ku(t),"_zoomToStop",(function(){var e=t.props,n=e.map,r=e.stopData;(0,e.zoomToPlace)(n,r)})),ed(Ku(t),"_renderHeader",(function(e){var n=t.props,r=n.hideBackButton,i=n.stopData,o=n.stopId;return a.a.createElement("div",{className:"stop-viewer-header"},!r&&a.a.createElement("div",{className:"back-button-container"},a.a.createElement(j.a,{bsSize:"small",onClick:t._backClicked},a.a.createElement(w.b,{Icon:ta.a},a.a.createElement(E.a,{id:"common.forms.back"})))),a.a.createElement(ld,null,(null==i?void 0:i.name)?a.a.createElement(vu,{actionIcon:Cc,actionParams:{entityId:o},actionPath:"/nearby/".concat(i.lat,",").concat(i.lon),actionText:a.a.createElement(E.a,{id:"components.StopViewer.viewNearby"}),fromToSlot:t._renderControls(),onZoomClick:t._zoomToStop,stopData:i,titleAs:"h1"}):a.a.createElement(Zc,null,a.a.createElement("h1",null,a.a.createElement(E.a,{id:"components.StopViewer.loadingText"})))),a.a.createElement(du,{stopData:i}),a.a.createElement("div",{style:{clear:"both"}}))})),ed(Ku(t),"_renderControls",(function(){var e,n=t.props,r=n.calendarMax,i=n.calendarMin,o=n.homeTimezone,s=n.intl,l=n.stopData,c=t.state.date;return!(o&&o===id())&&t._isDateWithinRange(c)&&(e=a.a.createElement(sd,{bsStyle:"info"},a.a.createElement(Yu,{date:Object(Ic.a)(c,od,new Date),homeTimezone:o}))),t._isDateWithinRange(c)||(e=a.a.createElement(sd,{bsStyle:"warning"},a.a.createElement(w.b,{Icon:C.a},a.a.createElement(E.a,{id:"components.StopViewer.noStopsFound"})))),a.a.createElement("div",{role:"group",style:{marginBottom:"10px"}},l?a.a.createElement(cd,{place:l}):null,a.a.createElement("input",{"aria-label":s.formatMessage({id:"components.StopViewer.findSchedule"}),className:"pull-right",max:r,min:i,onChange:t.handleDateChange,required:!0,type:"date",value:t.state.date}),e)})),t.state=(n=e.homeTimezone,{date:rd(n)}),t}return t=s,(n=[{key:"componentDidMount",value:function(){this._findStopTimesForDate(this.state.date)}},{key:"componentDidUpdate",value:function(){this._zoomToStop()}},{key:"render",value:function(){var e,t=this.props,n=t.homeTimezone,r=t.showBlockIds,i=t.stopData,o=this.state.date,s=new Set(null==i||null===(e=i.routes)||void 0===e?void 0:e.map((function(e){return e.agency.gtfsId}))).size;return a.a.createElement("div",{className:"stop-viewer base-color-bg"},a.a.createElement(la.a,{title:this.getTitle()}),a.a.createElement(Gc,null),this._renderHeader(s),i&&a.a.createElement("div",{className:"stop-viewer-body"},a.a.createElement(ad,{tabIndex:0},Object(En.o)(i)&&a.a.createElement("div",{style:{lineHeight:"normal"}},a.a.createElement(E.a,{id:"components.StopViewer.flexStop"})),this._isDateWithinRange(o)&&a.a.createElement(Fu,{date:o,homeTimezone:n,showBlockIds:r,stopData:i}))))}}])&&Zu(t.prototype,n),r&&Zu(t,r),s}(o.Component),dd={findStopTimesForStop:je.t,zoomToPlace:Ee.k},fd=Object(U.c)(Object(Hc.a)(Object(r.c)((function(e){var t=e.otp,n=t.config,r=t.serviceTimeRange,i=void 0===r?{end:0,start:0}:r,o=t.transitIndex,a=t.ui,s=n.homeTimezone,l=n.stopViewer,c=n.transitOperators,u=void 0===c?[]:c,d=o.stops,f=a.viewedStop.stopId,p=d[f],m=(new Date).getFullYear(),h=i.end,g=i.start,y=Object(kc.a)(g?Object(b.utcToZonedTime)(1e3*g,s):new Date(m,0,1),od);return{calendarMax:Object(kc.a)(h?Object(b.utcToZonedTime)(1e3*(h-1),s):new Date(m+1,11,31),od),calendarMin:y,homeTimezone:s,showBlockIds:null==l?void 0:l.showBlockIds,stopData:p,stopId:f,transitOperators:u}}),dd)(ud))),pd={setViewedStop:J.p},md=Object(r.c)(null,pd)((function(e){var t=e.setViewedStop,n=Object(M.a)();return a.a.createElement(ea,null,a.a.createElement(Ea,{headerText:n.formatMessage({id:"components.StopViewer.header"}),onBackClicked:Object(o.useCallback)((function(){return t(null)}),[t])}),a.a.createElement("main",{tabIndex:-1},a.a.createElement("div",{className:"viewer-container"},a.a.createElement(fd,{hideBackButton:!0})),a.a.createElement("div",{className:"viewer-map"},a.a.createElement(Xe.a,null))))})),hd=o.forwardRef((function(e,t){return o.createElement(D.a,R()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 640 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M312 32c-13.3 0-24 10.7-24 24s10.7 24 24 24h25.7l34.6 64H222.9l-27.4-38c-4.5-6.3-11.8-10-19.5-10h-56c-13.3 0-24 10.7-24 24s10.7 24 24 24h43.7l22.1 30.7-26.6 53.1c-10-2.5-20.5-3.8-31.2-3.8C57.3 224 0 281.3 0 352s57.3 128 128 128c65.3 0 119.1-48.9 127-112h49c8.5 0 16.3-4.5 20.7-11.8l84.8-143.5 21.7 40.1C402.4 276.3 384 312 384 352c0 70.7 57.3 128 128 128s128-57.3 128-128-57.3-128-128-128c-13.5 0-26.5 2.1-38.7 6L375.4 48.8C369.8 38.4 359 32 347.2 32H312zm146.6 271.7 32.3 59.7c6.3 11.7 20.9 16 32.5 9.7s16-20.9 9.7-32.5l-32.3-59.7c3.6-.6 7.4-.9 11.2-.9 39.8 0 72 32.2 72 72s-32.2 72-72 72-72-32.2-72-72c0-18.6 7-35.5 18.6-48.3zM133.2 368h65c-7.3 32.1-36 56-70.2 56-39.8 0-72-32.2-72-72s32.2-72 72-72c1.7 0 3.4.1 5.1.2l-24.2 48.5c-9 18.1 4.1 39.4 24.3 39.4zm33.7-48 50.7-101.3 72.9 101.2-.1.1H166.8zm90.6-128h108.4L317 274.8 257.4 192z"}))}));hd.displayName="Bicycle";var gd=n(1056),yd=n(202),vd=o.forwardRef((function(e,t){return o.createElement(D.a,R()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 576 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M224 96c26.5 0 48-21.5 48-48S250.5 0 224 0s-48 21.5-48 48 21.5 48 48 48zm-71.5 151.2c12.4-4.7 18.7-18.5 14-30.9s-18.5-18.7-30.9-14C75.1 225.1 32 283.5 32 352c0 88.4 71.6 160 160 160 61.2 0 114.3-34.3 141.2-84.7 6.2-11.7 1.8-26.2-9.9-32.5s-26.2-1.8-32.5 9.9C272 440 234.8 464 192 464c-61.9 0-112-50.1-112-112 0-47.9 30.1-88.8 72.5-104.8zM291.8 176l-1.9-9.7c-4.5-22.3-24-38.3-46.8-38.3-30.1 0-52.7 27.5-46.8 57l23.1 115.5c6 29.9 32.2 51.4 62.8 51.4h100.5c6.7 0 12.6 4.1 15 10.4l36.3 96.9c6 16.1 23.8 24.6 40.1 19.1l48-16c16.8-5.6 25.8-23.7 20.2-40.5s-23.7-25.8-40.5-20.2l-18.7 6.2-25.5-68c-11.7-31.2-41.6-51.9-74.9-51.9h-68.5l-9.6-48H368c17.7 0 32-14.3 32-32s-14.3-32-32-32h-76.2z"}))}));vd.displayName="Wheelchair";var bd;var wd=Ut.default.div(bd||(bd=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  background-color: rgba(19, 193, 193, 0.2);\n  border-radius: 5px;\n  box-shadow: 2px 2px 5px 1px rgba(0, 0, 0, 0.02);\n  font-size: 12px;\n  margin-bottom: 1em;\n  padding: 0.75em 1em;\n"]))),xd=n(488);function Ed(e){return(Ed="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ad(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Od(e,t){return(Od=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=kd(e);if(t){var i=kd(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Td(this,n)}}function Td(e,t){if(t&&("object"===Ed(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Id(e)}function Id(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kd(e){return(kd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Md,Nd,jd,Ld,Rd,Dd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Od(e,t)}(o,e);var t,n,r,i=Sd(o);function o(){var e;_d(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Cd(Id(e=i.call.apply(i,[this].concat(n))),"_onClick",(function(){e.props.setViewedStop(e.props.stop)})),e}return t=o,(n=[{key:"render",value:function(){return a.a.createElement(j.a,{bsSize:"xsmall",className:this.props.className||"view-stop-button",onClick:this._onClick,role:"link"},this.props.text||a.a.createElement(E.a,{id:"components.StopViewer.header"}),this.props.forStop&&a.a.createElement(K.a,null," ",a.a.createElement(E.a,{id:"components.StopViewer.forStop",values:{stopName:this.props.forStop}})))}}])&&Ad(t.prototype,n),r&&Ad(t,r),o}(o.Component),Pd={setMainPanelContent:J.i,setViewedStop:J.p},Bd=Object(r.c)(null,Pd)(Dd);function Fd(e){return(Fd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ud(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vd(e,t){return(Vd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yd(e);if(t){var i=Yd(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Hd(this,n)}}function Hd(e,t){if(t&&("object"===Fd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Wd(e)}function Wd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yd(e){return(Yd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zd(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Xd=i.default.time.getCurrentDate,Jd=Ut.default.ol(Md||(Md=Zd(["\n  list-style: none;\n  padding-left: 0;\n"]))),qd=Ut.default.li(Nd||(Nd=Zd(["\n  align-items: center;\n  display: flex;\n"]))),Kd=Ut.default.h2(jd||(jd=Zd(["\n  font-size: inherit;\n  margin: 0 0 1em 0;\n"]))),$d=Ut.default.h1(Ld||(Ld=Zd(["\n  margin: 2px 0 0 0;\n"]))),ef=Ut.default.div(Rd||(Rd=Zd(["\n  display: flex;\n"]))),tf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vd(e,t)}(s,e);var t,n,r,i=Gd(s);function s(){var e;Ud(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Qd(Wd(e=i.call.apply(i,[this].concat(n))),"firstStopRef",Object(o.createRef)()),Qd(Wd(e),"_backClicked",(function(){e.props.setViewedTrip(null)})),Qd(Wd(e),"getTitle",(function(){var t=e.props,n=t.intl,r=t.transitOperators,i=t.tripData;return[n.formatMessage({id:"components.TripViewer.header"}),(null==i?void 0:i.route)&&Object(N.getOperatorAndRoute)(i.route,r,n)]})),e}return t=s,(n=[{key:"componentDidMount",value:function(){var e=this.props;(0,e.findTrip)({tripId:e.viewedTrip.tripId})}},{key:"componentDidUpdate",value:function(){var e=this.firstStopRef.current;e&&e.scrollIntoView({behavior:"smooth",block:"start"})}},{key:"render",value:function(){var e,t,n,r,i,o,s=this,l=this.props,c=l.hideBackButton,u=l.homeTimezone,d=l.intl,f=l.tripData,p=l.viewedTrip,m=Object(b.toDate)(Xd(u),{timeZone:u}),h=null==f||null===(e=f.stops)||void 0===e?void 0:e.findIndex((function(e){return e.stopId===(null==p?void 0:p.fromStopId)})),g=null==f||null===(t=f.stops)||void 0===t?void 0:t.findIndex((function(e){return e.stopId===(null==p?void 0:p.toStopId)}));return a.a.createElement("div",{className:"trip-viewer"},a.a.createElement(la.a,{title:this.getTitle()}),a.a.createElement("div",{className:"trip-viewer-header"},!c&&a.a.createElement("div",{className:"back-button-container"},a.a.createElement(j.a,{bsSize:"small",onClick:this._backClicked},a.a.createElement(w.c,null,a.a.createElement(ta.a,null)),a.a.createElement(E.a,{id:"common.forms.back"}))),a.a.createElement($d,{className:"header-text"},a.a.createElement(E.a,{id:"components.TripViewer.header"})),a.a.createElement("div",{style:{clear:"both",height:"0.25ch"}}),f&&a.a.createElement("div",null,a.a.createElement(Kd,null,f.route&&a.a.createElement(E.a,{id:"components.TripViewer.routeHeader",values:{routeLongName:f.route.longName,routeShortName:f.route.shortName,strong:Ao.a}})),h>-1&&a.a.createElement(wd,null,a.a.createElement(E.a,{id:"components.TripViewer.tripDescription",values:{boardAtStop:a.a.createElement("strong",null,null===(n=f.stops)||void 0===n||null===(r=n[h])||void 0===r?void 0:r.name),disembarkAtStop:a.a.createElement("strong",null,null===(i=f.stops)||void 0===i||null===(o=i[g])||void 0===o?void 0:o.name)}})),(1===f.wheelchairAccessible||1===f.bikesAllowed)&&a.a.createElement("div",null,1===f.wheelchairAccessible&&a.a.createElement(gd.a,{bsStyle:"primary"},a.a.createElement(w.b,{Icon:vd},a.a.createElement(E.a,{id:"components.TripViewer.accessible"}))),a.a.createElement(xd.a,{margin:.25}),1===f.bikesAllowed&&a.a.createElement(gd.a,{style:{background:"green"}},a.a.createElement(w.b,{Icon:hd},a.a.createElement(E.a,{id:"components.TripViewer.bicyclesAllowed"})))))),a.a.createElement("div",{className:"trip-viewer-body"},a.a.createElement(Jd,{"aria-label":d.formatMessage({id:"components.TripViewer.listOfRouteStops"})},f&&f.stops&&f.stopTimes&&f.stops.map((function(e,t){var n="strip-map-line";0===t?n="strip-map-line-first":t===f.stops.length-1&&(n="strip-map-line-last");var r,i=null,o=null;return h===t&&(i=a.a.createElement(E.a,{id:"components.TripViewer.startOfTrip"}),o=s.firstStopRef),g===t&&(i=a.a.createElement(E.a,{id:"components.TripViewer.endOfTrip"})),t===h?r="strip-map-highlight-first":t>h&&t<g?r="strip-map-highlight":t===g&&(r="strip-map-highlight-last"),a.a.createElement(qd,{key:t},a.a.createElement(ef,{style:{width:"80%"}},a.a.createElement(ef,null,i&&a.a.createElement(K.a,null,i),a.a.createElement("div",{className:"stop-time",ref:o},a.a.createElement(Au,{originDate:m,stopTime:f.stopTimes[t]})),a.a.createElement("div",{className:"strip-map-container"},r&&a.a.createElement("div",{className:r}),a.a.createElement("div",{className:n}),a.a.createElement("div",{className:"strip-map-icon"},a.a.createElement(w.c,null,a.a.createElement(yd.Circle,null))))),a.a.createElement("div",{className:"stop-name"},e.name)),a.a.createElement("div",{className:"stop-button-container"},a.a.createElement(Bd,{stop:e,text:a.a.createElement(E.a,{id:"components.TripViewer.viewStop"})})),a.a.createElement("div",{style:{clear:"both"}}))})))))}}])&&zd(t.prototype,n),r&&zd(t,r),s}(o.Component);Qd(tf,"propTypes",{findTrip:je.A.type,hideBackButton:X.a.bool,homeTimezone:X.a.string,intl:X.a.object,setViewedTrip:J.q.type,transitOperators:X.a.array,tripData:X.a.object,viewedTrip:X.a.object});var nf={findTrip:je.A,setLocation:Ee.e,setViewedTrip:J.q},rf=Object(r.c)((function(e){var t=e.otp.ui.viewedTrip;return{homeTimezone:e.otp.config.homeTimezone,transitOperators:e.otp.config.transitOperators,tripData:e.otp.transitIndex.trips[t.tripId],viewedTrip:t}}),nf)(Object(U.c)(tf)),of={setViewedTrip:J.q},af=Object(r.c)(null,of)((function(e){var t=e.setViewedTrip,n=Object(M.a)();return a.a.createElement(ea,null,a.a.createElement(Ea,{headerText:n.formatMessage({id:"components.TripViewer.header"}),onBackClicked:Object(o.useCallback)((function(){return t(null)}),[t])}),a.a.createElement("main",{tabIndex:-1},a.a.createElement("div",{className:"viewer-container"},a.a.createElement(rf,{hideBackButton:!0})),a.a.createElement("div",{className:"viewer-map"},a.a.createElement(Xe.a,null))))})),sf={setLocationToCurrent:Ee.f,setMobileScreen:J.j},lf=Object(r.c)((function(e){return{geocoderResultsOrder:e.otp.config.geocoder.geocoderResultsOrder}}),sf)((function(e){var t=e.geocoderResultsOrder,n=e.setMobileScreen,r=Object(M.a)(),i=Object(o.useCallback)((function(){return n(yn.b.SET_INITIAL_LOCATION)}),[n]);return a.a.createElement(ea,null,a.a.createElement(Ea,{headerText:r.formatMessage({id:"components.BatchSearchScreen.header"})}),a.a.createElement("main",{tabIndex:-1},a.a.createElement("div",{className:"welcome-location mobile-padding"},a.a.createElement(Ne,{geocoderResultsOrder:t,inputPlaceholder:r.formatMessage({id:"components.WelcomeScreen.prompt"}),locationType:"to",onTextInputClick:i,showClearButton:!1})),a.a.createElement("div",{className:"welcome-map"},a.a.createElement(Xe.a,null))))})),cf=n(19),uf=n(170),df=n(296),ff=n(131),pf=n(310),mf=n(244),hf=o.forwardRef((function(e,t){return o.createElement(D.a,R()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 448 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M64 32C28.7 32 0 60.7 0 96v320c0 35.3 28.7 64 64 64h320c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm128 224h48c17.7 0 32-14.3 32-32s-14.3-32-32-32h-48v64zm48 64h-48v32c0 17.7-14.3 32-32 32s-32-14.3-32-32V168c0-22.1 17.9-40 40-40h72c53 0 96 43 96 96s-43 96-96 96z"}))}));hf.displayName="Parking";var gf=Object(r.c)((function(e){return{companies:e.otp.config.companies}}))((function(e){var t,n=e.companies,r=e.fromToSlot,i=e.place,s=i.networks,l=1===s.length?s[0]:null,c=null==n||null===(t=n.find((function(e){return e.id===l})))||void 0===t?void 0:t.label,u=i.bikesAvailable,d=i.spacesAvailable;return a.a.createElement(Qc,null,a.a.createElement(Zc,null,a.a.createElement(Xc,null,a.a.createElement(w.b,{Icon:function(){var e=Object(mf.getCompanyIcon)(l);return e?a.a.createElement(o.Suspense,{fallback:a.a.createElement("span",null,c)},a.a.createElement(e,{height:22,style:{marginRight:"5px"},width:22})):a.a.createElement(hd,null)}},i.name)),a.a.createElement(Jc,null,c||a.a.createElement(E.a,{id:"components.NearbyView.bikeRentalStation"})),a.a.createElement(yu,{distance:i.distance})),a.a.createElement(Kc,null,a.a.createElement("div",null,a.a.createElement(w.b,{Icon:hd},a.a.createElement(E.a,{id:"components.NearbyView.bikesAvailable",values:{bikesAvailable:u}}))),a.a.createElement("div",null,a.a.createElement(w.b,{Icon:hf},a.a.createElement(E.a,{id:"components.NearbyView.spacesAvailable",values:{spacesAvailable:d}}))),r))})),yf=o.forwardRef((function(e,t){return o.createElement(D.a,R()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 448 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M96 32v32H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48h-48V32c0-17.7-14.3-32-32-32s-32 14.3-32 32v32H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zm352 160H0v272c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192z"}))}));yf.displayName="Calendar";var vf=n(328),bf=n(132),wf=o.forwardRef((function(e,t){return o.createElement(D.a,R()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 448 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M0 64c0-17.7 14.3-32 32-32 229.8 0 416 186.2 416 416 0 17.7-14.3 32-32 32s-32-14.3-32-32C384 253.6 226.4 96 32 96 14.3 96 0 81.7 0 64zm128 352c0 35.3-28.7 64-64 64S0 451.3 0 416s28.7-64 64-64 64 28.7 64 64zM32 160c159.1 0 288 128.9 288 288 0 17.7-14.3 32-32 32s-32-14.3-32-32c0-123.7-100.3-224-224-224-17.7 0-32-14.3-32-32s14.3-32 32-32z"}))}));wf.displayName="Rss";var xf,Ef=function(e){var t=e.intl,n=e.minutes,r=e.status,i=t.formatMessage({id:"common.time.tripDurationFormat"},{hours:0,minutes:n,seconds:0});switch(r.toLowerCase()){case"early":return t.formatMessage({id:"components.RealtimeStatusLabel.early"},{minutes:i});case"late":return t.formatMessage({id:"components.RealtimeStatusLabel.late"},{minutes:i});case"on_time":return t.formatMessage({id:"components.RealtimeStatusLabel.onTime"});case"scheduled":return t.formatMessage({id:"components.RealtimeStatusLabel.scheduled"});default:return""}};var _f=i.default.time.getUserTimezone,Af=Object(Ut.default)(wf)(xf||(xf=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  animation: pulse-opacity 2s ease-in-out infinite;\n  transform: scaleX(-1);\n"]))),Of=Object(r.c)((function(e){var t,n,r,i;return{onlyShowCountdownForRealtime:(null===(t=e.otp.config)||void 0===t||null===(n=t.itinerary)||void 0===n?void 0:n.onlyShowCountdownForRealtime)||!1,useArrivalTime:(null===(r=e.otp.config)||void 0===r||null===(i=r.nearbyView)||void 0===i?void 0:i.useArrivalTime)||!1}}),{})((function(e){var t=e.homeTimezone,n=void 0===t?_f():t,r=e.onlyShowCountdownForRealtime,i=e.stopTime,o=e.useArrivalTime,s=Object(M.a)();if(!n||!i)return console.warn("Missing required prop(s) for StopTimeCell: homeTimezone, stopTime"),a.a.createElement("div",null,a.a.createElement(E.a,{id:"common.forms.error"}));if(isNaN(Object(b.getTimezoneOffset)(n)))return console.warn("homeTimezone '".concat(n,"' is invalid")),a.a.createElement("div",null,a.a.createElement(E.a,{id:"common.forms.error"}));var l=Math.round(Object(En.k)(i,!1,o)),c=l<3600&&l>0,u=l<60,d=Object(b.utcToZonedTime)(1e3*i.serviceDay,n),f="UPDATED"===i.realtimeState,p=f?s.formatMessage({id:"components.StopTimeCell.realtime"}):s.formatMessage({id:"components.StopTimeCell.scheduled"});return a.a.createElement("div",{className:"percy-hide"},a.a.createElement(w.d,{style:{fontSize:"0.6em",margin:0,marginRight:2},title:p},f?a.a.createElement(Af,null):a.a.createElement(v.a,null)),a.a.createElement("span",{className:"percy-hide",title:Ef({intl:s,minutes:Math.abs(Math.ceil(i.departureDelay/60)),status:Object(En.l)(f,i.departureDelay,30)})},!0===r&&f||!1===r&&c?u?a.a.createElement(E.a,{id:"components.StopTimeCell.imminentArrival"}):a.a.createElement(rn.a,{duration:l,includeSeconds:!1}):a.a.createElement(a.a.Fragment,null,!Object(bf.a)(new Date,d)&&a.a.createElement(K.a,null,a.a.createElement(O.a,{day:Object(b.format)(d,"iiii",{timeZone:n}).toLowerCase()})," "),a.a.createElement(Au,{realTime:!0,stopTime:i}))))})),Sf=function(e){var t,n,r,i=e.alwaysShowLongName,s=e.homeTimezone,l=e.pattern,c=e.roundedTop,u=void 0===c||c,d=e.route,f=e.showOperatorLogo,p=e.stopTimes,m=Object(o.useContext)(q.a).RouteRenderer||Hi.a,h=p&&p.length>0;if(!h)return null;var g=d.shortName?d.shortName:d.longName,y=Object(En.g)(d.operator,d);return a.a.createElement(Ps,{className:"pattern-row-item",roundedTop:u},a.a.createElement("div",{className:"header stop-view",style:{backgroundColor:y,color:Object(us.getMostReadableTextColor)(y,null==d?void 0:d.textColor)}},a.a.createElement("div",{className:"route-name"},a.a.createElement("span",{className:"route-name-container",title:g},f&&a.a.createElement(zl.a,{operator:null==d?void 0:d.operator}),a.a.createElement(m,{isOnColoredBackground:null==d||null===(t=d.operator)||void 0===t||null===(n=t.colorMode)||void 0===n?void 0:n.includes("gtfs"),leg:Object(En.d)(d,!0),style:{fontSize:Object(En.n)(g)}})),a.a.createElement("span",{style:{wordBreak:"break-word"},title:l.headsign},i&&!!l.route.longName&&a.a.createElement("strong",{style:{display:"block"}},l.route.longName),a.a.createElement(E.a,{id:"components.NearbyView.headsign",values:{destination:(null==p||null===(r=p[0])||void 0===r?void 0:r.headsign)||Object(En.b)(l)||l.route.longName!==g&&l.route.longName}}))),h&&a.a.createElement(Bs,{className:"departure-times"},s&&function(e,t){var n=new Date,r=Object(b.utcToZonedTime)(1e3*t,e);return a.a.createElement(a.a.Fragment,{key:t},!Object(bf.a)(n,r)&&a.a.createElement("p",{"aria-hidden":!0,className:"day-label"},a.a.createElement(w.b,{Icon:vf.a},a.a.createElement(O.a,{day:Object(b.format)(r,"iiii",{timeZone:e}).toLowerCase()}))))}(s,null==p?void 0:p[0].serviceDay),[0,1,2].map((function(e){return(null==p?void 0:p[e])&&a.a.createElement("li",{className:"departure-time",key:e},a.a.createElement(Of,{homeTimezone:s,key:e,stopTime:p[e]}))})))))};function Tf(e){return function(e){if(Array.isArray(e))return If(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return If(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return If(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function If(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var kf=i.default.time.getUserTimezone,Cf=function(e){return(e.serviceDay||0)+(e.realtimeDeparture||0)},Mf=function(e,t){var n;return null==e||null===(n=e.stoptimesForPatterns)||void 0===n?void 0:n.reduce((function(e,t){var n=Object(En.b)(t.pattern),r=e.findIndex((function(e){var r,i,o,a,s,l,c=!1;if((null===(r=e.pattern.route)||void 0===r?void 0:r.shortName)&&(null===(i=t.pattern.route)||void 0===i?void 0:i.shortName))c=(null===(s=e.pattern.route)||void 0===s?void 0:s.shortName)===(null===(l=t.pattern.route)||void 0===l?void 0:l.shortName);else if((null===(o=e.pattern.route)||void 0===o?void 0:o.longName)&&(null===(a=t.pattern.route)||void 0===a?void 0:a.longName)){var u,d;c=(null===(u=e.pattern.route)||void 0===u?void 0:u.longName)===(null===(d=t.pattern.route)||void 0===d?void 0:d.longName)}return Object(En.b)(e.pattern)===n&&c}));if(-1===r)e.push(t);else{var i=t.stoptimes.filter((function(t){return!e[r].stoptimes.find((function(e){return Cf(t)===Cf(e)}))}));e[r].stoptimes=[].concat(Tf(e[r].stoptimes),Tf(i))}return e}),[]).sort(t)},Nf=Object(r.c)((function(e){var t=e.otp.config,n=null==t?void 0:t.nearbyView,r=(null==t?void 0:t.transitOperators)||[],o=function(e,t){var n,r;return Cf(null===(n=e.stoptimes)||void 0===n?void 0:n[0])-Cf(null===(r=t.stoptimes)||void 0===r?void 0:r[0])};return(null==n?void 0:n.useRouteViewSort)&&(o=function(e,t){return i.default.route.makeRouteComparator(r)(e.pattern.route,t.pattern.route)}),{homeTimezone:t.homeTimezone,nearbyViewConfig:n,routeSortComparator:o}}))((function(e){var t=e.fromToSlot,n=e.homeTimezone,r=e.nearbyViewConfig,i=e.routeSortComparator,o=e.stopData,s=Mf(o,i),l=null==s?void 0:s.map((function(e,t){var i,s,l=e.stoptimes.sort((function(e,t){return Cf(e)-Cf(t)}));return o.nearbyRoutes&&!o.nearbyRoutes.includes(null==e||null===(i=e.pattern)||void 0===i||null===(s=i.route)||void 0===s?void 0:s.gtfsId)?a.a.createElement(a.a.Fragment,null):a.a.createElement(Sf,{alwaysShowLongName:null==r?void 0:r.alwaysShowLongName,homeTimezone:n,key:t,pattern:e.pattern,roundedTop:!1,route:e.pattern.route,stopTimes:l})})),c=!(n&&n===kf())&&a.a.createElement($c,null,a.a.createElement(Yu,{homeTimezone:n}));return a.a.createElement(Qc,null,a.a.createElement(vu,{actionIcon:yf,actionParams:{entityId:void 0},actionPath:"/schedule/".concat(o.gtfsId),actionText:a.a.createElement(E.a,{id:"components.StopViewer.viewSchedule"}),fromToSlot:t,stopData:o}),a.a.createElement("div",null,a.a.createElement("div",null,c),a.a.createElement(eu,null,l)))})),jf=n(101),Lf=function(e){var t=e.companyLabel,n=e.vehicle,r=Object(mf.getCompanyIcon)(n.network);return r?a.a.createElement(o.Suspense,{fallback:a.a.createElement("span",null,t)},a.a.createElement(r,{height:22,style:{marginRight:"5px"},width:22})):a.a.createElement("span",null,function(e){switch(e){case"SCOOTER":case"SCOOTER_SEATED":case"SCOOTER_STANDING":return a.a.createElement(jf.Micromobility,null);default:return a.a.createElement(hd,null)}}(n.vehicleType.formFactor))},Rf=Object(r.c)((function(e){return{companies:e.otp.config.companies}}))((function(e){var t,n,r=e.companies,i=e.fromToSlot,o=e.vehicle,s=Object(M.a)(),l=null!==(t=null==r||null===(n=r.find((function(e){return e.id===o.network})))||void 0===n?void 0:n.label)&&void 0!==t?t:"",c=o.vehicleType.formFactor,u="Default vehicle type"===o.name?function(e,t,n){switch(e){case"BICYCLE":case"CARGO_BICYCLE":return n.formatMessage({id:"components.NearbyView.companyBicycle"},{company:t});case"SCOOTER":case"SCOOTER_SEATED":case"SCOOTER_STANDING":default:return n.formatMessage({id:"components.NearbyView.companyScooter"},{company:t})}}(c,l,s):o.name;return a.a.createElement(Qc,null,a.a.createElement(Zc,null,a.a.createElement(Xc,null,a.a.createElement(w.b,{icon:a.a.createElement(Lf,{companyLabel:l,vehicle:o})},u)),a.a.createElement(yu,{distance:o.distance})),a.a.createElement(Kc,null,"Default vehicle type"!==o.name&&o.name!==u&&a.a.createElement("div",null,o.name),i))})),Df=function(e){var t=e.fromToSlot,n=e.place;return a.a.createElement(Qc,null,a.a.createElement(Zc,null,a.a.createElement(Xc,null,a.a.createElement(w.b,{Icon:hf},n.name)),a.a.createElement(Jc,null,"Park and Ride"),a.a.createElement(yu,{distance:n.distance})),a.a.createElement(Kc,null,t))};function Pf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pf(Object(n),!0).forEach((function(t){Ff(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ff(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return zf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zf(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Vf={fetchNearby:je.e,getCurrentPosition:ff.c,setHighlightedLocation:J.e,setLocation:Ee.e,setMainPanelContent:J.i,setViewedNearbyCoords:J.n,viewNearby:J.u,zoomToPlace:Ee.k},Gf=Object(r.c)((function(e){var t,n,r=e.otp,o=r.config,a=r.location,s=r.transitIndex,l=r.ui,c=o.map,u=o.nearbyView,d=o.routeViewer,f=(null==o?void 0:o.transitOperators)||[],p=l.nearbyViewCoords,m=s.nearby,h=e.router.location.query.entityId,g=a.currentPosition,y=(null==c?void 0:c.initLat)&&(null==c?void 0:c.initLon)?{lat:c.initLat,lon:c.initLon}:null,v=!0===(null==d?void 0:d.onlyShowCurrentServiceWeek)?Object(pf.a)():void 0,b=function(e,t){var n,r;return Cf(null===(n=e.stoptimes)||void 0===n?void 0:n[0])-Cf(null===(r=t.stoptimes)||void 0===r?void 0:r[0])};return(null==u?void 0:u.useRouteViewSort)&&(b=function(e,t){return i.default.route.makeRouteComparator(f)(e.pattern.route,t.pattern.route)}),{currentPosition:g,currentServiceWeek:v,defaultLatLon:y,displayedCoords:null==m?void 0:m.coords,entityId:h&&decodeURIComponent(h),geocoderConfig:o.geocoder,hideEmptyStops:null===(t=o.nearbyView)||void 0===t?void 0:t.hideEmptyStops,homeTimezone:o.homeTimezone,location:e.router.location.hash,nearby:null==m?void 0:m.data,nearbyViewCoords:p,radius:null===(n=o.nearbyView)||void 0===n?void 0:n.radius,routeSortComparator:b}}),Vf)((function(e){var t=e.currentPosition,n=e.currentServiceWeek,r=e.defaultLatLon,i=e.displayedCoords,s=e.entityId,l=e.fetchNearby,c=e.geocoderConfig,u=e.getCurrentPosition,d=e.hideEmptyStops,f=e.location,p=e.mobile,m=e.nearby,h=e.nearbyViewCoords,g=e.radius,y=e.routeSortComparator,v=e.setHighlightedLocation,b=e.setMainPanelContent,w=e.setViewedNearbyCoords,x=e.zoomToPlace,_=Object(cf.i)().default,A=Object(M.a)(),O=Uf(Object(o.useState)(!0),2),S=O[0],T=O[1],I=Uf(Object(o.useState)(""),2),k=I[0],C=I[1],N=Object(o.useRef)(null),j=Object(o.useMemo)((function(){return function(e,t,n,r){if(e)return e;if(null==t?void 0:t.coords){var i=t.coords;return{lat:i.latitude,lon:i.longitude}}var o=null==n?void 0:n.getCenter();return void 0!==o&&{lat:o.lat,lon:o.lng}||r||null}(h,t,_,r)}),[h,t,_]),L=function(e){Object(uf.a)(c).reverse({point:e}).then((function(e){return C((null==e?void 0:e.name)||"")}))};Object(o.useEffect)((function(){return function(){v(null)}}),[f,v]),Object(o.useEffect)((function(){var e=function(e){if(e.geolocateSource){var t={lat:e.viewState.latitude,lon:e.viewState.longitude};w(t),L(t)}},t=function(e){var t={lat:e.viewState.latitude,lon:e.viewState.longitude};w(t),L(t),v(t),setTimeout((function(){v(null)}),500)};return null==_||_.on("dragend",t),null==_||_.on("moveend",e),function(){null==_||_.off("dragend",t),null==_||_.off("moveend",e)}}),[_,w,v]),Object(o.useEffect)((function(){if(window.scrollTo({behavior:"smooth",left:0,top:0}),j){l(j,g,n),T(!0);var e=setInterval((function(){l(j,g,n),T(!0)}),15e6);return function(){clearInterval(e)}}}),[j,l,g]);var R=Object(o.useCallback)((function(e){v(e),_&&x(_,e)}),[v,_,x]),D=Object(o.useCallback)((function(){v(null)}),[v]),P=(null==j?void 0:j.lat)!==(null==i?void 0:i.lat)||(null==j?void 0:j.lon)!==(null==i?void 0:i.lon),B=Array.from(new Set(null==m?void 0:m.map((function(e){var t,n;return null===(t=e.place)||void 0===t||null===(n=t.stopRoutes)||void 0===n?void 0:n.map((function(e){return null==e?void 0:e.gtfsId}))})).flat(1/0))),F=null==m?void 0:m.filter((function(e){if("Stop"===e.place.__typename&&d){var t=Mf(e.place,y);return!(0===(null==t?void 0:t.length))}return!0})),U=(null==F?void 0:F.map)&&(null==F?void 0:F.map((function(e){var t;return a.a.createElement("li",{className:(null!==(t=e.place.gtfsId)&&void 0!==t?t:e.place.id)===s?"highlighted":"",key:e.place.id},a.a.createElement("div",{className:"nearby-view-card",onBlur:D,onFocus:function(){return R(e.place)},onMouseEnter:function(){return R(e.place)},onMouseLeave:D,tabIndex:0},function(e){var t=a.a.createElement(mu,{place:e});switch(e.__typename){case"RentalVehicle":return a.a.createElement(Rf,{fromToSlot:t,vehicle:e});case"Stop":return a.a.createElement(Nf,{fromToSlot:t,stopData:e});case"VehicleParking":return a.a.createElement(Df,{fromToSlot:t,place:e});case"BikeRentalStation":return a.a.createElement(gf,{fromToSlot:t,place:e});default:return console.warn("Received unsupported nearby place type: ".concat(e.__typename," ")),null}}(Bf(Bf({},e.place),{},{distance:e.distance,nearbyRoutes:B}))))})));Object(o.useEffect)((function(){P?P&&(T(!0),j&&l(j,g,n)):T(!1)}),[m,P]);var z=Object(o.useCallback)((function(){return b(0)}),[b]),V=p?ea:tu;return a.a.createElement(V,{className:"nearby-view base-color-bg"},a.a.createElement(la.a,{title:A.formatMessage({id:"components.NearbyView.header"})}),p&&a.a.createElement(Ea,{headerText:A.formatMessage({id:"components.NearbyView.header"}),onBackClicked:z}),m&&a.a.createElement(K.a,{as:"h3",style:{position:"absolute"}},a.a.createElement(E.a,{id:"components.NearbyView.nearbyListIntro",values:{count:m.length}})),a.a.createElement(Yc,{className:"base-color-bg",style:{marginBottom:0}},a.a.createElement("div",{"aria-hidden":!0,ref:N}),a.a.createElement(df.a,{className:"nearby-view-location-field",currentPosition:t,geocoderConfig:c,getCurrentPosition:u,inputPlaceholder:A.formatMessage({id:"components.NearbyView.searchNearby"}),location:Bf(Bf({lat:0,lon:0},h),{},{name:k}),LocationIconComponent:function(){return a.a.createElement(Nl.a,{style:{marginRight:5,padding:5}})},locationType:"to",onLocationSelected:function(e){var t=e.location;w(t),_&&x(_,t),C(t.name||""),t.name||L([t.lon,t.lat])},sortByDistance:!0}),S&&a.a.createElement(Eu.b,{extraSmall:!0}),m&&!P&&(m.error?A.formatMessage({id:"components.NearbyView.error"}):(null==F?void 0:F.length)>0?U:a.a.createElement(E.a,{id:"components.NearbyView.nothingNearby"}))),a.a.createElement(pl,null))}));function Hf(e){return(Hf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qf(e,t){return(Qf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Jf(e);if(t){var i=Jf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Xf(this,n)}}function Xf(e,t){if(t&&("object"===Hf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Jf(e){return(Jf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qf(e,t)}(o,e);var t,n,r,i=Zf(o);function o(){return Wf(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.activeSearch,r=t.currentPosition,i=t.currentQuery,o=t.setMobileScreen,a=t.uiState;n||a.mobileScreen!==yn.b.RESULTS_SUMMARY||o(yn.b.SEARCH_FORM),e.uiState.mobileScreen===yn.b.WELCOME_SCREEN&&(i.from&&i.to||!r.coords&&(i.from||i.to))&&o(yn.b.SEARCH_FORM),!e.activeSearch&&n&&o(yn.b.RESULTS_SUMMARY)}},{key:"render",value:function(){var e=this.context,t=e.MobileResultsScreen,n=e.MobileSearchScreen,r=this.props.uiState;switch(r.mainPanelContent){case yn.a.NEARBY_VIEW:return a.a.createElement(Gf,{mobile:!0});case yn.a.ROUTE_VIEWER:return a.a.createElement(Sc,null);case yn.a.PATTERN_VIEWER:return a.a.createElement(Cl,null);case yn.a.TRIP_VIEWER:return a.a.createElement(af,null)}if(r.viewedStop)return a.a.createElement(md,null);switch(r.mobileScreen){case yn.b.WELCOME_SCREEN:return a.a.createElement(lf,null);case yn.b.SET_INITIAL_LOCATION:return a.a.createElement(Ba,{backScreen:yn.b.WELCOME_SCREEN,locationType:"to"});case yn.b.SEARCH_FORM:return a.a.createElement(n,{newScreen:this.newScreen});case yn.b.SET_FROM_LOCATION:return a.a.createElement(Ba,{backScreen:yn.b.SEARCH_FORM,locationType:"from"});case yn.b.SET_TO_LOCATION:return a.a.createElement(Ba,{backScreen:yn.b.SEARCH_FORM,locationType:"to"});case yn.b.SET_DATETIME:return a.a.createElement(Aa,null);case yn.b.SET_OPTIONS:return a.a.createElement(cs,null);case yn.b.RESULTS_SUMMARY:return a.a.createElement(t,null);default:return a.a.createElement("p",null,"Invalid mobile screen")}}}])&&Yf(t.prototype,n),r&&Yf(t,r),o}(o.Component);qf(Kf,"propTypes",{activeSearch:X.a.object,currentPosition:X.a.object,currentQuery:X.a.object,setMobileScreen:X.a.func,uiState:X.a.object}),qf(Kf,"contextType",q.a);var $f={setMobileScreen:J.j},ep=Object(r.c)((function(e){var t=e.otp,n=t.config,r=t.currentQuery,i=t.location,o=t.ui;return{activeSearch:Object(N.getActiveSearch)(e),config:n,currentPosition:i.currentPosition,currentQuery:r,uiState:o}}),$f)(Kf),tp=(n(298),Object(r.c)((function(e){var t=e.otp.ui,n=t.mainPanelContent;return{isViewingStop:!!t.viewedStop,mainPanelContent:n}}))((function(e){var t=e.children,n=e.className,r=e.isViewingStop,i=e.mainPanelContent,o=e.style;switch(i){case yn.a.ROUTE_VIEWER:return a.a.createElement(mc,{hideBackButton:!0});case yn.a.PATTERN_VIEWER:return a.a.createElement(vl,{hideBackButton:!0});case yn.a.TRIP_VIEWER:return a.a.createElement(rf,{hideBackButton:!0});case yn.a.NEARBY_VIEW:return a.a.createElement(Gf,{hideBackButton:!0});default:return r?a.a.createElement(fd,{hideBackButton:!0}):a.a.createElement("div",{className:n,style:o},t)}}))),np=n(216),rp=n(519),ip=n(1057),op=n(1058),ap=n(174),sp=n(102),lp=n(322),cp=n(364),up=n(208);const dp=({children:e})=>{Object(G.i)();const t=Object(G.h)();return e({replace(e){t.replace(e.search||"?",e.state)},push(e){t.push(e.search||"?",e.state)},get location(){return t.location}})};var fp=n(227),pp=n(56),mp=n.n(pp),hp=n(105);var gp=n(205),yp=function(){return a.a.createElement("div",null,a.a.createElement("h1",null,a.a.createElement(E.a,{id:"components.BeforeSignInScreen.mainTitle"})),a.a.createElement("p",null,a.a.createElement(E.a,{id:"components.BeforeSignInScreen.message"})))};function vp(e){return function(t){return a.a.createElement(o.Suspense,{fallback:a.a.createElement("span",null)},a.a.createElement(e,t))}}var bp=Object(o.lazy)((function(){return Promise.all([n.e(1),n.e(2)]).then(n.bind(null,1190))})),wp=Object(o.lazy)((function(){return Promise.all([n.e(1),n.e(2)]).then(n.bind(null,1219))})),xp=[{a11yIgnore:!0,component:vp(bp),path:"/print"},{a11yIgnore:!0,component:vp(wp),path:"/printFieldTrip"}],Ep=[{a11yIgnore:!0,component:vp(Object(o.lazy)((function(){return Promise.all([n.e(1),n.e(2)]).then(n.bind(null,1220))}))),path:"/previewtrip/:id"}],_p=n(340),Ap=n(97),Op=n(65),Sp=n(94),Tp=n(127);a.a.Component;a.a.Component;var Ip=function(e,t){return"function"==typeof e?e(t):e},kp=function(e,t){return"string"==typeof e?Object(sp.c)(e,null,null,t):e},Cp=function(e){return e},Mp=a.a.forwardRef;void 0===Mp&&(Mp=Cp);var Np=Mp((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,o=Object(Sp.a)(e,["innerRef","navigate","onClick"]),s=o.target,l=Object(Op.a)({},o,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return l.ref=Cp!==Mp&&t||n,a.a.createElement("a",l)}));var jp=Mp((function(e,t){var n=e.component,r=void 0===n?Np:n,i=e.replace,o=e.to,s=e.innerRef,l=Object(Sp.a)(e,["component","replace","to","innerRef"]);return a.a.createElement(G.f.Consumer,null,(function(e){e||Object(Tp.a)(!1);var n=e.history,c=kp(Ip(o,e.location),e.location),u=c?n.createHref(c):"",d=Object(Op.a)({},l,{href:u,navigate:function(){var t=Ip(o,e.location),r=Object(sp.e)(e.location)===Object(sp.e)(kp(t));(i||r?n.replace:n.push)(t)}});return Cp!==Mp?d.ref=t||s:d.innerRef=s,a.a.createElement(r,d)}))})),Lp=function(e){return e},Rp=a.a.forwardRef;void 0===Rp&&(Rp=Lp);Rp((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,i=e.activeClassName,o=void 0===i?"active":i,s=e.activeStyle,l=e.className,c=e.exact,u=e.isActive,d=e.location,f=e.sensitive,p=e.strict,m=e.style,h=e.to,g=e.innerRef,y=Object(Sp.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return a.a.createElement(G.f.Consumer,null,(function(e){e||Object(Tp.a)(!1);var n=d||e.location,i=kp(Ip(h,n),n),v=i.pathname,b=v&&v.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),w=b?Object(G.g)(n.pathname,{path:b,exact:c,sensitive:f,strict:p}):null,x=!!(u?u(w,n):w),E="function"==typeof l?l(x):l,_="function"==typeof m?m(x):m;x&&(E=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(E,o),_=Object(Op.a)({},_,s));var A=Object(Op.a)({"aria-current":x&&r||null,className:E,style:_,to:i},y);return Lp!==Rp?A.ref=t||g:A.innerRef=g,a.a.createElement(jp,A)}))}));var Dp=n(274);function Pp(e){return(Pp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Up(e,t){return(Up=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Gp(e);if(t){var i=Gp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Vp(this,n)}}function Vp(e,t){if(t&&("object"===Pp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Gp(e){return(Gp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Hp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Up(e,t)}(o,e);var t,n,r,i=zp(o);function o(){return Bp(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.loggedInUser,n=e.pathBeforeSignIn,r=e.replace,i=e.routeTo;if(t)if(Object(cu.o)(t)){var o=n&&n.split("?")[1],a=o?"?".concat(o):null;i(wu.e,a,hp.e)}else r(n)}},{key:"render",value:function(){return a.a.createElement("div",{className:"text-center",style:{marginTop:"150px"}},a.a.createElement(Eu.b,null),a.a.createElement("p",{style:{marginTop:"25px"}},a.a.createElement(E.a,{id:"components.AfterSignInScreen.mainTitle"})),a.a.createElement("p",null,a.a.createElement(E.a,{id:"components.AfterSignInScreen.message",values:{redirectLink:function(e){return a.a.createElement(jp,{to:"/"},e)}}})))}}])&&Fp(t.prototype,n),r&&Fp(t,r),o}(o.Component),Wp={replace:hp.e,routeTo:J.d},Yp=Object(Dp.a)(Object(r.c)((function(e,t){var n=e.user;return{loggedInUser:n.loggedInUser,pathBeforeSignIn:n.pathBeforeSignIn}}),Wp)(Hp)),Qp=Object(r.c)((function(e,t){return{to:{pathname:t.to,search:e.router.location.search}}}))(G.b),Zp=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(3)]).then(n.bind(null,1215))})),Xp=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(7),n.e(8)]).then(n.bind(null,1213))})),Jp=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(3)]).then(n.bind(null,1216))})),qp=Object(o.lazy)((function(){return n.e(9).then(n.bind(null,1218))})),Kp=[{exact:!0,path:["/","/@/:latLonZoomRouter","/start/:latLonZoomRouter","/route","/route/:id","/route/:id/pattern/:patternId","/schedule","/schedule/:id","/nearby","/nearby/:latLon","/trip/:id"],shouldRenderWebApp:!0},{a11yIgnore:!0,component:vp(Jp),path:["".concat(wu.f,"/:id"),"".concat(wu.o,"/:id")]},{a11yIgnore:!0,component:vp(Zp),path:"".concat(wu.s,"/:id")},{a11yIgnore:!0,children:a.a.createElement(Qp,{to:wu.s}),exact:!0,path:wu.a},{a11yIgnore:!0,children:a.a.createElement(Qp,{to:wu.h}),exact:!0,path:wu.e},{a11yIgnore:!0,component:vp(Xp),path:["".concat(wu.e,"/:step"),"".concat(wu.l,"/:step"),"".concat(wu.l,"/"),wu.b]},{getContextComponent:function(e){return Object(_p.b)(e.TermsOfService)},path:wu.p},{getContextComponent:function(e){return Object(_p.b)(e.TermsOfStorage)},path:wu.q},{a11yIgnore:!0,component:vp(qp),path:wu.s},{a11yIgnore:!0,component:Yp,path:"/signedin"}],$p=n(234),em=n(339),tm=n(783);function nm(e){return(nm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function im(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function om(e,t){return(om=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function am(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=cm(e);if(t){var i=cm(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return sm(this,n)}}function sm(e,t){if(t&&("object"===nm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return lm(e)}function lm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cm(e){return(cm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function um(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&om(e,t)}(o,e);var t,n,r,i=am(o);function o(){var e;rm(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return um(lm(e=i.call.apply(i,[this].concat(n))),"state",{showTimeoutWarning:!1,timeoutObject:void 0,timeoutStartMillis:0}),um(lm(e),"handleAfterInitialActions",(function(){e.setState({timeoutObject:setInterval(e.handleTimeoutWatch,1e4),timeoutStartMillis:(new Date).valueOf()})})),um(lm(e),"handleTimeoutWatch",(function(){var t=e.props,n=t.lastActionMillis,r=t.sessionTimeoutSeconds,i=t.startOverFromInitialUrl;if(n>e.state.timeoutStartMillis){var o=r-((new Date).valueOf()-n)/1e3;if(o<0)i();else{var a=r>=180?60:r/3;e.setState({showTimeoutWarning:o>=0&&o<=a})}}})),um(lm(e),"handleKeepSession",(function(){e.setState({showTimeoutWarning:!1}),e.props.resetSessionTimeout()})),e}return t=o,(n=[{key:"componentDidMount",value:function(){setTimeout(this.handleAfterInitialActions,1500)}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.timeoutObject)}},{key:"render",value:function(){var e=this.props.startOverFromInitialUrl;return this.state.showTimeoutWarning?a.a.createElement(tm.a.Dialog,null,a.a.createElement(tm.a.Header,null,a.a.createElement(tm.a.Title,null,a.a.createElement(E.a,{id:"components.SessionTimeout.header"}))),a.a.createElement(tm.a.Body,null,a.a.createElement(E.a,{id:"components.SessionTimeout.body"})),a.a.createElement(tm.a.Footer,null,a.a.createElement(j.a,{onClick:e},a.a.createElement(E.a,{id:"common.forms.startOver"})),a.a.createElement(j.a,{bsStyle:"primary",onClick:this.handleKeepSession},a.a.createElement(E.a,{id:"components.SessionTimeout.keepSession"})))):null}}])&&im(t.prototype,n),r&&im(t,r),o}(o.Component),fm={resetSessionTimeout:J.c,startOverFromInitialUrl:J.s},pm=Object(r.c)((function(e){var t=e.otp,n=t.config;return{lastActionMillis:t.lastActionMillis,sessionTimeoutSeconds:n.sessionTimeoutSeconds}}),fm)(dm);function mm(e){return(mm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var hm=["getContextComponent","shouldRenderWebApp"];function gm(){return(gm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ym(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wm(e,t,n){return t&&bm(e.prototype,t),n&&bm(e,n),e}function xm(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Em(e,t)}function Em(e,t){return(Em=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sm(e);if(t){var i=Sm(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Am(this,n)}}function Am(e,t){if(t&&("object"===mm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Om(e)}function Om(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sm(e){return(Sm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Im(e){return function(e){if(Array.isArray(e))return km(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return km(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return km(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function km(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Cm=i.default.ui.isMobile,Mm=[].concat(Im(Kp),Im(xp),Im(Ep)),Nm=function(e){xm(n,e);var t=_m(n);function n(){var e;vm(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Tm(Om(e=t.call.apply(t,[this].concat(i))),"positionShouldUpdate",(function(t){var n,r,i,o,a=e.props.currentPosition;if(!a.coords)return!0;var s=Math.abs((null==t||null===(n=t.coords)||void 0===n?void 0:n.latitude)-(null==a||null===(r=a.coords)||void 0===r?void 0:r.latitude))>=.001,l=Math.abs((null==t||null===(i=t.coords)||void 0===i?void 0:i.longitude)-(null==a||null===(o=a.coords)||void 0===o?void 0:o.longitude))>=.001;return s||l})),Tm(Om(e),"_hidePopup",(function(){var t,n=(null===(t=Om(e))||void 0===t?void 0:t.props).setPopupContent;n&&n(null)})),Tm(Om(e),"renderDesktopView",(function(){var t=e.props.sessionTimeoutSeconds,n=e.context,r=n.MainControls,i=n.MainPanel,o=n.MapWindows,s=e.props.popupContent;return a.a.createElement("div",{className:"otp"},a.a.createElement($p.a,null),a.a.createElement(em.a,{content:s,hideModal:e._hidePopup}),a.a.createElement(rp.a,null,a.a.createElement(ip.a,{className:"main-row"},a.a.createElement(op.a,{className:"sidebar",md:4,sm:6},a.a.createElement("main",{tabIndex:-1},a.a.createElement(i,null))),r&&a.a.createElement(r,null),a.a.createElement(op.a,{className:"map-container",md:8,sm:6},o&&a.a.createElement(o,null),a.a.createElement(Rt,null)))),t&&a.a.createElement(pm,null))})),Tm(Om(e),"renderMobileView",(function(){var t=e.props.popupContent;return a.a.createElement(a.a.Fragment,null,a.a.createElement(em.a,{content:t,hideModal:e._hidePopup}),a.a.createElement(ep,null))})),e}return wm(n,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.activeItinerary,r=t.activeSearchId,o=t.autoFly,a=t.currentPosition,s=t.formChanged,l=t.intl,c=t.location,u=t.mainPanelContent,d=t.map,f=t.matchContentToUrl,p=t.query,m=t.setLocationToCurrent,h=t.setMapCenter,g=i.default.query.getUrlParams().ui_activeSearch,y=g&&r&&g!==r;if(ln()(e.query,p)||y||s(e.query,p),a!==e.currentPosition){if(a.error||!a.coords)return;var v={lat:a.coords.latitude,lon:a.coords.longitude};Cm()&&null===p.from&&(m({locationType:"from"},l),h(d,v))}else null===u&&!1!==o&&null===n&&(p.from&&p.to?null==d||d.fitBounds([p.from,p.to],{duration:600,padding:Object(lp.getFitBoundsPadding)(d,.2)}):p.from&&!p.to?h(d,p.from):p.to&&!p.from&&h(d,p.to));ln()(c.pathname,e.location.pathname)||f(d,c)}},{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.getCurrentPosition,r=t.handleBackButtonPress,i=t.initializeModules,o=t.intl,a=t.location,s=t.map,l=t.matchContentToUrl,c=t.parseUrlQueryString,u=t.receivedPositionResponse,d=t.setNetworkConnectionLost;window.addEventListener("popstate",r),window.addEventListener("online",(function(){return d(!1)})),window.addEventListener("offline",(function(){return d(!0)}));var f=window.location.search;if(f){var p=mp.a.parse(f,{ignoreQueryPrefix:!0});if(!p.code||!p.state)return void(window.location.href="".concat(window.location.origin,"/#/").concat(f))}Cm()&&(n(o),navigator.geolocation.watchPosition((function(t){e.positionShouldUpdate(t)&&u({position:t})}),(function(e){console.log("error in watchPosition",e)}),{enableHighAccuracy:!0})),l(s,a),a&&a.search&&c(),i(o)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("popstate",this.props.handleBackButtonPress)}},{key:"render",value:function(){return Cm()?this.renderMobileView():this.renderDesktopView()}}]),n}(o.Component);Tm(Nm,"propTypes",{query:X.a.object}),Tm(Nm,"contextType",q.a);var jm={formChanged:s.d,getCurrentPosition:ff.c,handleBackButtonPress:J.a,initializeModules:gp.a,matchContentToUrl:J.b,parseUrlQueryString:s.e,receivedPositionResponse:ff.d,setLocationToCurrent:Ee.f,setMapCenter:Ee.g,setPopupContent:J.l},Lm=Object(sp.b)(),Rm=Object(G.j)(Object(Dp.a)(Object(Hc.a)(Object(U.c)(Object(r.c)((function(e){return{activeItinerary:Object(N.getActiveItinerary)(e),activeSearchId:e.otp.activeSearchId,currentPosition:e.otp.location.currentPosition,locale:e.otp.ui.locale,mainPanelContent:e.otp.ui.mainPanelContent,mobileScreen:e.otp.ui.mobileScreen,modeGroups:e.otp.config.modeGroups,popupContent:e.otp.ui.popup,query:e.otp.currentQuery,searches:e.otp.searches,sessionTimeoutSeconds:e.otp.config.sessionTimeoutSeconds}}),jm)(Nm))))),Dm=function(e){xm(n,e);var t=_m(n);function n(e){var r;return vm(this,n),(r=t.call(this,e))._initializeOrUpdateLocale(e),r}return wm(n,[{key:"componentDidUpdate",value:function(e){this._initializeOrUpdateLocale(this.props,e)}},{key:"_initializeOrUpdateLocale",value:function(e,t){var n=i.default.query.getUrlParams().locale;(!t||!n&&!t.locale||n&&n!==t.locale)&&e.setLocale(n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.auth0Config,r=t.components,i=t.defaultLocale,o=t.homeTimezone,s=t.locale,l=t.localizedMessages,c=t.processSignIn,u=t.routerConfig,d=t.showAccessTokenError,f=t.showLoginError,p=l&&a.a.createElement(q.a.Provider,{value:r},a.a.createElement(fp.Toaster,null),a.a.createElement(cf.d,null,a.a.createElement(cp.b,{defaultLocale:i,locale:s||i,messages:l,timeZone:o},a.a.createElement(ap.a,{basename:u&&u.basename,history:Lm},a.a.createElement(up.QueryParamProvider,{adapter:dp},a.a.createElement(G.e,null,Mm.map((function(t,n){var i=t.getContextComponent,o=t.shouldRenderWebApp,s=ym(t,hm);return a.a.createElement(G.c,gm({component:i?i(r):void 0,key:n,render:o?function(){return a.a.createElement(Rm,e.props)}:void 0},s))})),a.a.createElement(G.c,{render:function(){return a.a.createElement(Rm,e.props)}})))))));return n?a.a.createElement(np.a,{audience:wu.c,cacheLocation:"localstorage",clientId:n.clientId,domain:n.domain,onAccessTokenError:d,onLoginError:f,onRedirectCallback:c,onRedirecting:yp,redirectUri:window.location.origin,scope:wu.d},p):p}}]),n}(o.Component),Pm={processSignIn:function(e){return function(t,n){e&&e.returnTo&&(window.history.replaceState({},"",window.location.pathname),t(Object(lu.v)(e.returnTo)),t(Object(hp.e)("/signedin")))}},setLocale:J.h,setNetworkConnectionLost:J.k,showAccessTokenError:function(e,t){return function(t,n){console.error("Failed to retrieve access token: ",e)}},showLoginError:function(e){return function(t,n){e&&t(Object(hp.d)("/oops"))}}},Bm=Object(r.c)((function(e){var t=e.otp.config,n=t.homeTimezone,r=t.location,i=t.map,o=t.persistence,a=t.reactRouter;return{auth0Config:Object(ra.getAuth0Config)(o),autoFly:i.autoFlyOnTripFormUpdate,currentPosition:null==r?void 0:r.currentPosition,defaultLocale:Object(wn.b)(e.otp.config,e.user.loggedInUser),homeTimezone:n,locale:e.otp.ui.locale,localizedMessages:e.otp.ui.localizedMessages,routerConfig:a}}),Pm)(Dm),Fm=n(784),Um=n(782),zm=n(107),Vm=n(250);function Gm(e){return function(e){if(Array.isArray(e))return Hm(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Hm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hm(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ym(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wm(Object(n),!0).forEach((function(t){Qm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zm(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(e,t){return t(e)}),e)}}var Xm={modeButtons:zm.a},Jm=function(e){return function(t){return Ym(Ym({},t),{},{Icon:function(){return a.a.createElement(e,{mode:t.iconName})}})}},qm=function(e){return function(t){e(Ym({queryParamData:t},t))}},Km=function(e,t){return function(n,r){var i=r?[].concat(Gm(e),[n]):e.filter((function(e){return e!==n}));t(Object(zm.d)(Xm,{modeButtons:i}))}},$m=function(e,t){var n=[];return Object(N.hasValidLocation)(e,"from")||n.push(t.formatMessage({id:"components.BatchSettings.origin"})),Object(N.hasValidLocation)(e,"to")||n.push(t.formatMessage({id:"components.BatchSettings.destination"})),n},eh=function(e,t,n,r){var i=$m(t,e);(n(),i.length>0)?window.alert(e.formatMessage({id:"components.BatchSettings.validationMessage"},{issues:e.formatList(i,{type:"conjunction"})})):(Object(s.k)(),r()===Vm.a.INVALID_MODE_SELECTION&&window.alert(e.formatMessage({id:"components.BatchSettings.invalidModeSelection"})))},th=n(55),nh=o.forwardRef((function(e,t){return o.createElement(D.a,R()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),o.createElement("path",{d:"m10 15.586-3.293-3.293-1.414 1.414L10 18.414l9.707-9.707-1.414-1.414z"}))}));nh.displayName="Check";var rh=n(521),ih=n(91),oh=o.forwardRef((function(e,t){return o.createElement(D.a,R()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M142.9 142.9c62.2-62.2 162.7-62.5 225.3-1L327 183c-6.9 6.9-8.9 17.2-5.2 26.2S334.3 224 344 224h128c13.3 0 24-10.7 24-24V72c0-9.7-5.8-18.5-14.8-22.2S461.9 48.1 455 55l-41.6 41.6c-87.6-86.5-228.7-86.2-315.8 1-24.4 24.4-42 53.1-52.8 83.8-5.9 16.7 2.9 34.9 19.5 40.8s34.9-2.9 40.8-19.5c7.7-21.8 20.2-42.3 37.8-59.8zM16 312v128c0 9.7 5.8 18.5 14.8 22.2s19.3 1.7 26.2-5.2l41.6-41.6c87.6 86.5 228.7 86.2 315.8-1 24.4-24.4 42.1-53.1 52.9-83.7 5.9-16.7-2.9-34.9-19.5-40.8s-34.9 2.9-40.8 19.5c-7.7 21.8-20.2 42.3-37.8 59.8-62.2 62.2-162.7 62.5-225.3 1L185 329c6.9-6.9 8.9-17.2 5.2-26.2S177.7 288 168 288H40c-13.3 0-24 10.7-24 24z"}))}));oh.displayName="SyncAlt";var ah,sh=n(137);var lh=Ut.default.button(ah||(ah=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  align-items: center;\n  background: transparent;\n  border: none;\n  color: ",";\n  display: flex;\n  gap: 7px;\n  margin-bottom: 5px;\n"])),rt.j[800]),ch=function(e){var t=e.onClick;return a.a.createElement(lh,{id:"open-advanced-settings-button",onClick:t},a.a.createElement(E.a,{id:"components.BatchSearchScreen.moreOptions"}),a.a.createElement(jl,{size:18}))},uh=function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body},dh=new WeakMap,fh=new WeakMap,ph={},mh=0,hh=function(e){return e&&(e.host||hh(e.parentNode))},gh=function(e,t,n,r){var i=function(e,t){return t.map((function(t){if(e.contains(t))return t;var n=hh(t);return n&&e.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)})).filter((function(e){return Boolean(e)}))}(t,Array.isArray(e)?e:[e]);ph[n]||(ph[n]=new WeakMap);var o=ph[n],a=[],s=new Set,l=new Set(i),c=function(e){e&&!s.has(e)&&(s.add(e),c(e.parentNode))};i.forEach(c);var u=function(e){e&&!l.has(e)&&Array.prototype.forEach.call(e.children,(function(e){if(s.has(e))u(e);else{var t=e.getAttribute(r),i=null!==t&&"false"!==t,l=(dh.get(e)||0)+1,c=(o.get(e)||0)+1;dh.set(e,l),o.set(e,c),a.push(e),1===l&&i&&fh.set(e,!0),1===c&&e.setAttribute(n,"true"),i||e.setAttribute(r,"true")}}))};return u(t),s.clear(),mh++,function(){a.forEach((function(e){var t=dh.get(e)-1,i=o.get(e)-1;dh.set(e,t),o.set(e,i),t||(fh.has(e)||e.removeAttribute(r),fh.delete(e)),i||e.removeAttribute(n)})),--mh||(dh=new WeakMap,dh=new WeakMap,fh=new WeakMap,ph={})}},yh=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=t||uh(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),gh(r,i,n,"aria-hidden")):function(){return null}},vh=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],bh=vh.join(","),wh="undefined"==typeof Element,xh=wh?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Eh=!wh&&Element.prototype.getRootNode?function(e){var t;return null==e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}:function(e){return null==e?void 0:e.ownerDocument},_h=function e(t,n){var r;void 0===n&&(n=!0);var i=null==t||null===(r=t.getAttribute)||void 0===r?void 0:r.call(t,"inert");return""===i||"true"===i||n&&t&&e(t.parentNode)},Ah=function(e,t,n){if(_h(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll(bh));return t&&xh.call(e,bh)&&r.unshift(e),r=r.filter(n)},Oh=function e(t,n,r){for(var i=[],o=Array.from(t);o.length;){var a=o.shift();if(!_h(a,!1))if("SLOT"===a.tagName){var s=a.assignedElements(),l=e(s.length?s:a.children,!0,r);r.flatten?i.push.apply(i,l):i.push({scopeParent:a,candidates:l})}else{xh.call(a,bh)&&r.filter(a)&&(n||!t.includes(a))&&i.push(a);var c=a.shadowRoot||"function"==typeof r.getShadowRoot&&r.getShadowRoot(a),u=!_h(c,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(a));if(c&&u){var d=e(!0===c?a.children:c.children,!0,r);r.flatten?i.push.apply(i,d):i.push({scopeParent:a,candidates:d})}else o.unshift.apply(o,a.children)}}return i},Sh=function(e,t){return e.tabIndex<0&&(t||/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||function(e){var t,n=null==e||null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"contenteditable");return""===n||"true"===n}(e))&&isNaN(parseInt(e.getAttribute("tabindex"),10))?0:e.tabIndex},Th=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},Ih=function(e){return"INPUT"===e.tagName},kh=function(e){return function(e){return Ih(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,n=e.form||Eh(e),r=function(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=r(window.CSS.escape(e.name));else try{t=r(e.name)}catch(e){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",e.message),!1}var i=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(t,e.form);return!i||i===e}(e)},Ch=function(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;return 0===n&&0===r},Mh=function(e,t){var n=t.displayCheck,r=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var i=xh.call(e,"details>summary:first-of-type")?e.parentElement:e;if(xh.call(i,"details:not([open]) *"))return!0;if(n&&"full"!==n&&"legacy-full"!==n){if("non-zero-area"===n)return Ch(e)}else{if("function"==typeof r){for(var o=e;e;){var a=e.parentElement,s=Eh(e);if(a&&!a.shadowRoot&&!0===r(a))return Ch(e);e=e.assignedSlot?e.assignedSlot:a||s===e.ownerDocument?a:s.host}e=o}if(function(e){var t,n,r,i,o=e&&Eh(e),a=null===(t=o)||void 0===t?void 0:t.host,s=!1;if(o&&o!==e)for(s=!!(null!==(n=a)&&void 0!==n&&null!==(r=n.ownerDocument)&&void 0!==r&&r.contains(a)||null!=e&&null!==(i=e.ownerDocument)&&void 0!==i&&i.contains(e));!s&&a;){var l,c,u;s=!(null===(c=a=null===(l=o=Eh(a))||void 0===l?void 0:l.host)||void 0===c||null===(u=c.ownerDocument)||void 0===u||!u.contains(a))}return s}(e))return!e.getClientRects().length;if("legacy-full"!==n)return!0}return!1},Nh=function(e,t){return!(t.disabled||_h(t)||function(e){return Ih(e)&&"hidden"===e.type}(t)||Mh(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}))}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var r=t.children.item(n);if("LEGEND"===r.tagName)return!!xh.call(t,"fieldset[disabled] *")||!r.contains(e)}return!0}t=t.parentElement}return!1}(t))},jh=function(e,t){return!(kh(t)||Sh(t)<0||!Nh(e,t))},Lh=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},Rh=function e(t){var n=[],r=[];return t.forEach((function(t,i){var o=!!t.scopeParent,a=o?t.scopeParent:t,s=Sh(a,o),l=o?e(t.candidates):a;0===s?o?n.push.apply(n,l):n.push(a):r.push({documentOrder:i,tabIndex:s,item:t,isScope:o,content:l})})),r.sort(Th).reduce((function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e}),[]).concat(n)},Dh=function(e,t){var n;return n=(t=t||{}).getShadowRoot?Oh([e],t.includeContainer,{filter:jh.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:Lh}):Ah(e,t.includeContainer,jh.bind(null,t)),Rh(n)},Ph=n(50);function Bh(e){return e.split("-")[1]}function Fh(e){return"y"===e?"height":"width"}function Uh(e){return e.split("-")[0]}function zh(e){return["top","bottom"].includes(Uh(e))?"x":"y"}function Vh(e,t,n){let{reference:r,floating:i}=e;const o=r.x+r.width/2-i.width/2,a=r.y+r.height/2-i.height/2,s=zh(t),l=Fh(s),c=r[l]/2-i[l]/2,u="x"===s;let d;switch(Uh(t)){case"top":d={x:o,y:r.y-i.height};break;case"bottom":d={x:o,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:a};break;case"left":d={x:r.x-i.width,y:a};break;default:d={x:r.x,y:r.y}}switch(Bh(t)){case"start":d[s]-=c*(n&&u?-1:1);break;case"end":d[s]+=c*(n&&u?-1:1)}return d}function Gh(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function Hh(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function Wh(e,t){var n;void 0===t&&(t={});const{x:r,y:i,platform:o,rects:a,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:p=0}=t,m=Gh(p),h=s[f?"floating"===d?"reference":"floating":d],g=Hh(await o.getClippingRect({element:null==(n=await(null==o.isElement?void 0:o.isElement(h)))||n?h:h.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),y="floating"===d?{...a.floating,x:r,y:i}:a.reference,v=await(null==o.getOffsetParent?void 0:o.getOffsetParent(s.floating)),b=await(null==o.isElement?void 0:o.isElement(v))&&await(null==o.getScale?void 0:o.getScale(v))||{x:1,y:1},w=Hh(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:y,offsetParent:v,strategy:l}):y);return{top:(g.top-w.top+m.top)/b.y,bottom:(w.bottom-g.bottom+m.bottom)/b.y,left:(g.left-w.left+m.left)/b.x,right:(w.right-g.right+m.right)/b.x}}const Yh=Math.min,Qh=Math.max;function Zh(e,t,n){return Qh(e,Yh(t,n))}const Xh=e=>({name:"arrow",options:e,async fn(t){const{element:n,padding:r=0}=e||{},{x:i,y:o,placement:a,rects:s,platform:l,elements:c}=t;if(null==n)return{};const u=Gh(r),d={x:i,y:o},f=zh(a),p=Fh(f),m=await l.getDimensions(n),h="y"===f,g=h?"top":"left",y=h?"bottom":"right",v=h?"clientHeight":"clientWidth",b=s.reference[p]+s.reference[f]-d[f]-s.floating[p],w=d[f]-s.reference[f],x=await(null==l.getOffsetParent?void 0:l.getOffsetParent(n));let E=x?x[v]:0;E&&await(null==l.isElement?void 0:l.isElement(x))||(E=c.floating[v]||s.floating[p]);const _=b/2-w/2,A=u[g],O=E-m[p]-u[y],S=E/2-m[p]/2+_,T=Zh(A,S,O),I=null!=Bh(a)&&S!=T&&s.reference[p]/2-(S<A?u[g]:u[y])-m[p]/2<0;return{[f]:d[f]-(I?S<A?A-S:O-S:0),data:{[f]:T,centerOffset:S-T}}}});const Jh=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,i=await async function(e,t){const{placement:n,platform:r,elements:i}=e,o=await(null==r.isRTL?void 0:r.isRTL(i.floating)),a=Uh(n),s=Bh(n),l="x"===zh(n),c=["left","top"].includes(a)?-1:1,u=o&&l?-1:1,d="function"==typeof t?t(e):t;let{mainAxis:f,crossAxis:p,alignmentAxis:m}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return s&&"number"==typeof m&&(p="end"===s?-1*m:m),l?{x:p*u,y:f*c}:{x:f*c,y:p*u}}(t,e);return{x:n+i.x,y:r+i.y,data:i}}}};function qh(e){return"x"===e?"y":"x"}function Kh(e){var t;return(null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function $h(e){return Kh(e).getComputedStyle(e)}function eg(e){return e instanceof Kh(e).Node}function tg(e){return eg(e)?(e.nodeName||"").toLowerCase():""}function ng(e){return e instanceof Kh(e).HTMLElement}function rg(e){return e instanceof Kh(e).Element}function ig(e){if("undefined"==typeof ShadowRoot)return!1;return e instanceof Kh(e).ShadowRoot||e instanceof ShadowRoot}function og(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=$h(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function ag(e){return["table","td","th"].includes(tg(e))}function sg(e){const t=lg(),n=$h(e);return"none"!==n.transform||"none"!==n.perspective||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function lg(){return!!"../example.css".supports&&"../example.css".supports("-webkit-backdrop-filter","none")}function cg(e){return["html","body","#document"].includes(tg(e))}const ug=Math.min,dg=Math.max,fg=Math.round;function pg(e){const t=$h(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=ng(e),o=i?e.offsetWidth:n,a=i?e.offsetHeight:r,s=fg(n)!==o||fg(r)!==a;return s&&(n=o,r=a),{width:n,height:r,fallback:s}}function mg(e){return rg(e)?e:e.contextElement}const hg={x:1,y:1};function gg(e){const t=mg(e);if(!ng(t))return hg;const n=t.getBoundingClientRect(),{width:r,height:i,fallback:o}=pg(t);let a=(o?fg(n.width):n.width)/r,s=(o?fg(n.height):n.height)/i;return a&&Number.isFinite(a)||(a=1),s&&Number.isFinite(s)||(s=1),{x:a,y:s}}const yg={x:0,y:0};function vg(e,t,n){var r,i;if(void 0===t&&(t=!0),!lg())return yg;const o=e?Kh(e):window;return!n||t&&n!==o?yg:{x:(null==(r=o.visualViewport)?void 0:r.offsetLeft)||0,y:(null==(i=o.visualViewport)?void 0:i.offsetTop)||0}}function bg(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),o=mg(e);let a=hg;t&&(r?rg(r)&&(a=gg(r)):a=gg(e));const s=vg(o,n,r);let l=(i.left+s.x)/a.x,c=(i.top+s.y)/a.y,u=i.width/a.x,d=i.height/a.y;if(o){const e=Kh(o),t=r&&rg(r)?Kh(r):r;let n=e.frameElement;for(;n&&r&&t!==e;){const e=gg(n),t=n.getBoundingClientRect(),r=getComputedStyle(n);t.x+=(n.clientLeft+parseFloat(r.paddingLeft))*e.x,t.y+=(n.clientTop+parseFloat(r.paddingTop))*e.y,l*=e.x,c*=e.y,u*=e.x,d*=e.y,l+=t.x,c+=t.y,n=Kh(n).frameElement}}return Hh({width:u,height:d,x:l,y:c})}function wg(e){return((eg(e)?e.ownerDocument:e.document)||window.document).documentElement}function xg(e){return rg(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Eg(e){return bg(wg(e)).left+xg(e).scrollLeft}function _g(e){if("html"===tg(e))return e;const t=e.assignedSlot||e.parentNode||ig(e)&&e.host||wg(e);return ig(t)?t.host:t}function Ag(e){const t=_g(e);return cg(t)?t.ownerDocument.body:ng(t)&&og(t)?t:Ag(t)}function Og(e,t){var n;void 0===t&&(t=[]);const r=Ag(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=Kh(r);return i?t.concat(o,o.visualViewport||[],og(r)?r:[]):t.concat(r,Og(r))}function Sg(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=Kh(e),r=wg(e),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;const e=lg();(!e||e&&"fixed"===t)&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s,y:l}}(e,n);else if("document"===t)r=function(e){const t=wg(e),n=xg(e),r=e.ownerDocument.body,i=dg(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=dg(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Eg(e);const s=-n.scrollTop;return"rtl"===$h(r).direction&&(a+=dg(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:s}}(wg(e));else if(rg(t))r=function(e,t){const n=bg(e,!0,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=ng(e)?gg(e):{x:1,y:1};return{width:e.clientWidth*o.x,height:e.clientHeight*o.y,x:i*o.x,y:r*o.y}}(t,n);else{const n=vg(e);r={...t,x:t.x-n.x,y:t.y-n.y}}return Hh(r)}function Tg(e,t){const n=_g(e);return!(n===t||!rg(n)||cg(n))&&("fixed"===$h(n).position||Tg(n,t))}function Ig(e,t){return ng(e)&&"fixed"!==$h(e).position?t?t(e):e.offsetParent:null}function kg(e,t){const n=Kh(e);if(!ng(e))return n;let r=Ig(e,t);for(;r&&ag(r)&&"static"===$h(r).position;)r=Ig(r,t);return r&&("html"===tg(r)||"body"===tg(r)&&"static"===$h(r).position&&!sg(r))?n:r||function(e){let t=_g(e);for(;ng(t)&&!cg(t);){if(sg(t))return t;t=_g(t)}return null}(e)||n}function Cg(e,t,n){const r=ng(t),i=wg(t),o="fixed"===n,a=bg(e,!0,o,t);let s={scrollLeft:0,scrollTop:0};const l={x:0,y:0};if(r||!r&&!o)if(("body"!==tg(t)||og(i))&&(s=xg(t)),ng(t)){const e=bg(t,!0,o,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else i&&(l.x=Eg(i));return{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}const Mg={getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[..."clippingAncestors"===n?function(e,t){const n=t.get(e);if(n)return n;let r=Og(e).filter((e=>rg(e)&&"body"!==tg(e))),i=null;const o="fixed"===$h(e).position;let a=o?_g(e):e;for(;rg(a)&&!cg(a);){const t=$h(a),n=sg(a);n||"fixed"!==t.position||(i=null),(o?!n&&!i:!n&&"static"===t.position&&i&&["absolute","fixed"].includes(i.position)||og(a)&&!n&&Tg(e,a))?r=r.filter((e=>e!==a)):i=t,a=_g(a)}return t.set(e,r),r}(t,this._c):[].concat(n),r],a=o[0],s=o.reduce(((e,n)=>{const r=Sg(t,n,i);return e.top=dg(r.top,e.top),e.right=ug(r.right,e.right),e.bottom=ug(r.bottom,e.bottom),e.left=dg(r.left,e.left),e}),Sg(t,a,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:r}=e;const i=ng(n),o=wg(n);if(n===o)return t;let a={scrollLeft:0,scrollTop:0},s={x:1,y:1};const l={x:0,y:0};if((i||!i&&"fixed"!==r)&&(("body"!==tg(n)||og(o))&&(a=xg(n)),ng(n))){const e=bg(n);s=gg(n),l.x=e.x+n.clientLeft,l.y=e.y+n.clientTop}return{width:t.width*s.x,height:t.height*s.y,x:t.x*s.x-a.scrollLeft*s.x+l.x,y:t.y*s.y-a.scrollTop*s.y+l.y}},isElement:rg,getDimensions:function(e){return pg(e)},getOffsetParent:kg,getDocumentElement:wg,getScale:gg,async getElementRects(e){let{reference:t,floating:n,strategy:r}=e;const i=this.getOffsetParent||kg,o=this.getDimensions;return{reference:Cg(t,await i(n),r),floating:{x:0,y:0,...await o(n)}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>"rtl"===$h(e).direction};const Ng=(e,t,n)=>{const r=new Map,i={platform:Mg,...n},o={...i.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,s=o.filter(Boolean),l=await(null==a.isRTL?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=Vh(c,r,l),f=r,p={},m=0;for(let n=0;n<s.length;n++){const{name:o,fn:h}=s[n],{x:g,y:y,data:v,reset:b}=await h({x:u,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:p,rects:c,platform:a,elements:{reference:e,floating:t}});u=null!=g?g:u,d=null!=y?y:d,p={...p,[o]:{...p[o],...v}},b&&m<=50&&(m++,"object"==typeof b&&(b.placement&&(f=b.placement),b.rects&&(c=!0===b.rects?await a.getElementRects({reference:e,floating:t,strategy:i}):b.rects),({x:u,y:d}=Vh(c,f,l))),n=-1)}return{x:u,y:d,placement:f,strategy:i,middlewareData:p}})(e,t,{...i,platform:o})},jg=e=>{const{element:t,padding:n}=e;return{name:"arrow",options:e,fn:e=>function(e){return Object.prototype.hasOwnProperty.call(e,"current")}(t)?null!=t.current?Xh({element:t.current,padding:n}).fn(e):{}:t?Xh({element:t,padding:n}).fn(e):{}}};var Lg="undefined"!=typeof document?o.useLayoutEffect:o.useEffect;function Rg(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;0!=r--;)if(!Rg(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;0!=r--;){const n=i[r];if(("_owner"!==n||!e.$$typeof)&&!Rg(e[n],t[n]))return!1}return!0}return e!=e&&t!=t}function Dg(e){const t=o.useRef(e);return Lg((()=>{t.current=e})),t}var Pg="undefined"!=typeof document?o.useLayoutEffect:o.useEffect;let Bg=!1,Fg=0;const Ug=()=>"floating-ui-"+Fg++;const zg=o["useId".toString()]||function(){const[e,t]=o.useState((()=>Bg?Ug():void 0));return Pg((()=>{null==e&&t(Ug())}),[]),o.useEffect((()=>{Bg||(Bg=!0)}),[]),e};function Vg(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach((e=>e(n)))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){e.set(t,(e.get(t)||[]).filter((e=>e!==n)))}}}const Gg=o.createContext(null),Hg=o.createContext(null),Wg=()=>{var e;return(null==(e=o.useContext(Gg))?void 0:e.id)||null},Yg=()=>o.useContext(Hg);function Qg(e){return(null==e?void 0:e.ownerDocument)||document}function Zg(){const e=navigator.userAgentData;return null!=e&&e.platform?e.platform:navigator.platform}function Xg(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map((e=>{let{brand:t,version:n}=e;return t+"/"+n})).join(" "):navigator.userAgent}function Jg(e){return Qg(e).defaultView||window}function qg(e){return!!e&&e instanceof Jg(e).Element}function Kg(e){return!!e&&e instanceof Jg(e).HTMLElement}function $g(e){if(0===e.mozInputSource&&e.isTrusted)return!0;const t=/Android/i;return(t.test(Zg())||t.test(Xg()))&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType}function ey(e){return 0===e.width&&0===e.height||1===e.width&&1===e.height&&0===e.pressure&&0===e.detail&&"mouse"!==e.pointerType||e.width<1&&e.height<1&&0===e.pressure&&0===e.detail}function ty(){return/apple/i.test(navigator.vendor)}function ny(){return Zg().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function ry(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function iy(e){const t=Object(o.useRef)(e);return Pg((()=>{t.current=e})),t}const oy="data-floating-ui-safe-polygon";function ay(e,t,n){return n&&!ry(n)?0:"number"==typeof e?e:null==e?void 0:e[t]}const sy=function(e,t){let{enabled:n=!0,delay:r=0,handleClose:i=null,mouseOnly:a=!1,restMs:s=0,move:l=!0}=void 0===t?{}:t;const{open:c,onOpenChange:u,dataRef:d,events:f,elements:{domReference:p,floating:m},refs:h}=e,g=Yg(),y=Wg(),v=iy(i),b=iy(r),w=o.useRef(),x=o.useRef(),E=o.useRef(),_=o.useRef(),A=o.useRef(!0),O=o.useRef(!1),S=o.useRef((()=>{})),T=o.useCallback((()=>{var e;const t=null==(e=d.current.openEvent)?void 0:e.type;return(null==t?void 0:t.includes("mouse"))&&"mousedown"!==t}),[d]);o.useEffect((()=>{if(n)return f.on("dismiss",e),()=>{f.off("dismiss",e)};function e(){clearTimeout(x.current),clearTimeout(_.current),A.current=!0}}),[n,f]),o.useEffect((()=>{if(!n||!v.current||!c)return;function e(){T()&&u(!1)}const t=Qg(m).documentElement;return t.addEventListener("mouseleave",e),()=>{t.removeEventListener("mouseleave",e)}}),[m,c,u,n,v,d,T]);const I=o.useCallback((function(e){void 0===e&&(e=!0);const t=ay(b.current,"close",w.current);t&&!E.current?(clearTimeout(x.current),x.current=setTimeout((()=>u(!1)),t)):e&&(clearTimeout(x.current),u(!1))}),[b,u]),k=o.useCallback((()=>{S.current(),E.current=void 0}),[]),C=o.useCallback((()=>{if(O.current){const e=Qg(h.floating.current).body;e.style.pointerEvents="",e.removeAttribute(oy),O.current=!1}}),[h]);return o.useEffect((()=>{if(n&&qg(p)){const e=p;return c&&e.addEventListener("mouseleave",o),null==m||m.addEventListener("mouseleave",o),l&&e.addEventListener("mousemove",r,{once:!0}),e.addEventListener("mouseenter",r),e.addEventListener("mouseleave",i),()=>{c&&e.removeEventListener("mouseleave",o),null==m||m.removeEventListener("mouseleave",o),l&&e.removeEventListener("mousemove",r),e.removeEventListener("mouseenter",r),e.removeEventListener("mouseleave",i)}}function t(){return!!d.current.openEvent&&["click","mousedown"].includes(d.current.openEvent.type)}function r(e){if(clearTimeout(x.current),A.current=!1,a&&!ry(w.current)||s>0&&0===ay(b.current,"open"))return;d.current.openEvent=e;const t=ay(b.current,"open",w.current);t?x.current=setTimeout((()=>{u(!0)}),t):u(!0)}function i(n){if(t())return;S.current();const r=Qg(m);if(clearTimeout(_.current),v.current){c||clearTimeout(x.current),E.current=v.current({...e,tree:g,x:n.clientX,y:n.clientY,onClose(){C(),k(),I()}});const t=E.current;return r.addEventListener("mousemove",t),void(S.current=()=>{r.removeEventListener("mousemove",t)})}I()}function o(n){t()||null==v.current||v.current({...e,tree:g,x:n.clientX,y:n.clientY,onClose(){C(),k(),I()}})(n)}}),[p,m,n,e,a,s,l,I,k,C,u,c,g,b,v,d]),Pg((()=>{var e;if(n&&c&&null!=(e=v.current)&&e.__options.blockPointerEvents&&T()){const e=Qg(m).body;if(e.setAttribute(oy,""),e.style.pointerEvents="none",O.current=!0,qg(p)&&m){var t,r;const e=p,n=null==g||null==(t=g.nodesRef.current.find((e=>e.id===y)))||null==(r=t.context)?void 0:r.elements.floating;return n&&(n.style.pointerEvents=""),e.style.pointerEvents="auto",m.style.pointerEvents="auto",()=>{e.style.pointerEvents="",m.style.pointerEvents=""}}}}),[n,c,y,m,p,g,v,d,T]),Pg((()=>{c||(w.current=void 0,k(),C())}),[c,k,C]),o.useEffect((()=>()=>{k(),clearTimeout(x.current),clearTimeout(_.current),C()}),[n,k,C]),o.useMemo((()=>{if(!n)return{};function e(e){w.current=e.pointerType}return{reference:{onPointerDown:e,onPointerEnter:e,onMouseMove(){c||0===s||(clearTimeout(_.current),_.current=setTimeout((()=>{A.current||u(!0)}),s))}},floating:{onMouseEnter(){clearTimeout(x.current)},onMouseLeave(){f.emit("dismiss",{type:"mouseLeave",data:{returnFocus:!1}}),I(!1)}}}}),[f,n,s,c,u,I])};function ly(){return(ly=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function cy(e){let t=e.activeElement;for(;null!=(null==(n=t)||null==(r=n.shadowRoot)?void 0:r.activeElement);){var n,r;t=t.shadowRoot.activeElement}return t}function uy(e,t){if(!e||!t)return!1;const n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&(r=n,"undefined"!=typeof ShadowRoot&&(r instanceof Jg(r).ShadowRoot||r instanceof ShadowRoot))){let n=t;do{if(n&&e===n)return!0;n=n.parentNode||n.host}while(n)}var r;return!1}let dy=0;function fy(e,t){void 0===t&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:i=!1}=t;r&&cancelAnimationFrame(dy);const o=()=>null==e?void 0:e.focus({preventScroll:n});i?o():dy=requestAnimationFrame(o)}function py(e,t){let n=e.filter((e=>{var n;return e.parentId===t&&(null==(n=e.context)?void 0:n.open)}))||[],r=n;for(;r.length;)r=e.filter((e=>{var t;return null==(t=r)?void 0:t.some((t=>{var n;return e.parentId===t.id&&(null==(n=e.context)?void 0:n.open)}))}))||[],n=n.concat(r);return n}function my(e){return"composedPath"in e?e.composedPath()[0]:e.target}function hy(e){return Kg(e)&&e.matches("input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])")}function gy(e){e.preventDefault(),e.stopPropagation()}const yy=()=>({getShadowRoot:!0,displayCheck:"function"==typeof ResizeObserver&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function vy(e,t){const n=Dh(e,yy());"prev"===t&&n.reverse();const r=n.indexOf(cy(Qg(e)));return n.slice(r+1)[0]}function by(){return vy(document.body,"next")}function wy(){return vy(document.body,"prev")}function xy(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!uy(n,r)}const Ey=o["useInsertionEffect".toString()]||(e=>e());function _y(e){const t=o.useRef((()=>{0}));return Ey((()=>{t.current=e})),o.useCallback((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)}),[])}const Ay={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let Oy,Sy;function Ty(e){"Tab"===e.key&&(Oy=e.target,clearTimeout(Sy))}const Iy=o.forwardRef((function(e,t){const n=_y(e.onFocus),[r,i]=o.useState();return Pg((()=>(ty()&&i("button"),document.addEventListener("keydown",Ty),()=>{document.removeEventListener("keydown",Ty)})),[]),o.createElement("span",ly({},e,{ref:t,tabIndex:0,role:r,"aria-hidden":!r||void 0,"data-floating-ui-focus-guard":"",style:Ay,onFocus:e=>{ty()&&ny()&&!function(e){const t=Oy===e.relatedTarget;return Oy=e.relatedTarget,clearTimeout(Sy),t}(e)?(e.persist(),Sy=window.setTimeout((()=>{n(e)}),50)):n(e)}}))})),ky=o.createContext(null),Cy=()=>o.useContext(ky),My=o.forwardRef((function(e,t){return o.createElement("button",ly({},e,{type:"button",ref:t,tabIndex:-1,style:Ay}))}));function Ny(e){let{context:t,children:n,order:r=["content"],guards:i=!0,initialFocus:a=0,returnFocus:s=!0,modal:l=!0,visuallyHiddenDismiss:c=!1,closeOnFocusOut:u=!0}=e;const{refs:d,nodeId:f,onOpenChange:p,events:m,dataRef:h,elements:{domReference:g,floating:y}}=t,v=iy(r),b=Yg(),w=Cy(),[x,E]=o.useState(null),_="number"==typeof a&&a<0,A=o.useRef(null),O=o.useRef(null),S=o.useRef(!1),T=o.useRef(null),I=o.useRef(!1),k=null!=w,C=g&&"combobox"===g.getAttribute("role")&&hy(g),M=o.useCallback((function(e){return void 0===e&&(e=y),e?Dh(e,yy()):[]}),[y]),N=o.useCallback((e=>{const t=M(e);return v.current.map((e=>g&&"reference"===e?g:y&&"floating"===e?y:t)).filter(Boolean).flat()}),[g,y,v,M]);o.useEffect((()=>{if(!l)return;function e(e){if("Tab"===e.key){0!==M().length||C||gy(e);const t=N(),n=my(e);"reference"===v.current[0]&&n===g&&(gy(e),e.shiftKey?fy(t[t.length-1]):fy(t[1])),"floating"===v.current[1]&&n===y&&e.shiftKey&&(gy(e),fy(t[0]))}}const t=Qg(y);return t.addEventListener("keydown",e),()=>{t.removeEventListener("keydown",e)}}),[g,y,l,v,d,C,M,N]),o.useEffect((()=>{if(u)return y&&Kg(g)?(g.addEventListener("focusout",t),g.addEventListener("pointerdown",e),!l&&y.addEventListener("focusout",t),()=>{g.removeEventListener("focusout",t),g.removeEventListener("pointerdown",e),!l&&y.removeEventListener("focusout",t)}):void 0;function e(){I.current=!0,setTimeout((()=>{I.current=!1}))}function t(e){const t=e.relatedTarget,n=!(uy(g,t)||uy(y,t)||uy(t,y)||uy(null==w?void 0:w.portalNode,t)||null!=t&&t.hasAttribute("data-floating-ui-focus-guard")||b&&(py(b.nodesRef.current,f).find((e=>{var n,r;return uy(null==(n=e.context)?void 0:n.elements.floating,t)||uy(null==(r=e.context)?void 0:r.elements.domReference,t)}))||function(e,t){var n;let r=[],i=null==(n=e.find((e=>e.id===t)))?void 0:n.parentId;for(;i;){const t=e.find((e=>e.id===i));i=null==t?void 0:t.parentId,t&&(r=r.concat(t))}return r}(b.nodesRef.current,f).find((e=>{var n,r;return(null==(n=e.context)?void 0:n.elements.floating)===t||(null==(r=e.context)?void 0:r.elements.domReference)===t}))));t&&n&&!I.current&&t!==T.current&&(S.current=!0,setTimeout((()=>p(!1))))}}),[g,y,l,f,b,w,p,u]),o.useEffect((()=>{var e;const t=Array.from((null==w||null==(e=w.portalNode)?void 0:e.querySelectorAll("[data-floating-ui-portal]"))||[]);if(y&&l){const e=[y,...t,...[A.current,O.current].filter(Boolean)],n=yh(v.current.includes("reference")||C?e.concat(g||[]):e);return()=>{n()}}}),[g,y,l,v,w,C]),o.useEffect((()=>{if(l&&!i&&y){const e=[],t=yy(),n=Dh(Qg(y).body,t),r=N(),i=n.filter((e=>!r.includes(e)));return i.forEach(((t,n)=>{e[n]=t.getAttribute("tabindex"),t.setAttribute("tabindex","-1")})),()=>{i.forEach(((t,n)=>{const r=e[n];null==r?t.removeAttribute("tabindex"):t.setAttribute("tabindex",r)}))}}}),[y,l,i,N]),Pg((()=>{if(!y)return;const e=Qg(y);let t=s,n=!1;const r=cy(e),i=h.current;T.current=r;const o=N(y),l=("number"==typeof a?o[a]:a.current)||y;function c(e){if("escapeKey"===e.type&&d.domReference.current&&(T.current=d.domReference.current),["referencePress","escapeKey"].includes(e.type))return;const r=e.data.returnFocus;"object"==typeof r?(t=!0,n=r.preventScroll):t=r}return!_&&fy(l,{preventScroll:l===y}),m.on("dismiss",c),()=>{var r;(m.off("dismiss",c),uy(y,cy(e))&&d.domReference.current&&(T.current=d.domReference.current),t&&Kg(T.current)&&!S.current)&&(!d.domReference.current||I.current?fy(T.current,{cancelPrevious:!1,preventScroll:n}):(i.__syncReturnFocus=!0,null==(r=T.current)||r.focus({preventScroll:n}),setTimeout((()=>{delete i.__syncReturnFocus}))))}}),[y,N,a,s,h,d,m,_]),Pg((()=>{if(w)return w.setFocusManagerState({...t,modal:l,closeOnFocusOut:u}),()=>{w.setFocusManagerState(null)}}),[w,l,u,t]),Pg((()=>{if(!_&&y&&(e(),"function"==typeof MutationObserver)){const t=new MutationObserver(e);return t.observe(y,{childList:!0,subtree:!0}),()=>{t.disconnect()}}function e(){E(M().length)}}),[y,M,_,d]);const j=i&&(k||l)&&!C;function L(e){return c&&l?o.createElement(My,{ref:"start"===e?A:O,onClick:()=>p(!1)},"string"==typeof c?c:"Dismiss"):null}return o.createElement(o.Fragment,null,j&&o.createElement(Iy,{"data-type":"inside",ref:null==w?void 0:w.beforeInsideRef,onFocus:e=>{if(l){const e=N();fy("reference"===r[0]?e[0]:e[e.length-1])}else if(null!=w&&w.preserveTabOrder&&w.portalNode)if(S.current=!1,xy(e,w.portalNode)){const e=by()||g;null==e||e.focus()}else{var t;null==(t=w.beforeOutsideRef.current)||t.focus()}}}),C?null:L("start"),o.cloneElement(n,0===x||r.includes("floating")?{tabIndex:0}:{}),L("end"),j&&o.createElement(Iy,{"data-type":"inside",ref:null==w?void 0:w.afterInsideRef,onFocus:e=>{if(l)fy(N()[0]);else if(null!=w&&w.preserveTabOrder&&w.portalNode)if(S.current=!0,xy(e,w.portalNode)){const e=wy()||g;null==e||e.focus()}else{var t;null==(t=w.afterOutsideRef.current)||t.focus()}}}))}function jy(e){return Kg(e.target)&&"BUTTON"===e.target.tagName}function Ly(e){return hy(e)}const Ry=function(e,t){let{open:n,onOpenChange:r,dataRef:i,elements:{domReference:a}}=e,{enabled:s=!0,event:l="click",toggle:c=!0,ignoreMouse:u=!1,keyboardHandlers:d=!0}=void 0===t?{}:t;const f=o.useRef();return o.useMemo((()=>s?{reference:{onPointerDown(e){f.current=e.pointerType},onMouseDown(e){0===e.button&&(ry(f.current,!0)&&u||"click"!==l&&(n?!c||i.current.openEvent&&"mousedown"!==i.current.openEvent.type||r(!1):(e.preventDefault(),r(!0)),i.current.openEvent=e.nativeEvent))},onClick(e){i.current.__syncReturnFocus||("mousedown"===l&&f.current?f.current=void 0:ry(f.current,!0)&&u||(n?!c||i.current.openEvent&&"click"!==i.current.openEvent.type||r(!1):r(!0),i.current.openEvent=e.nativeEvent))},onKeyDown(e){f.current=void 0,d&&(jy(e)||(" "!==e.key||Ly(a)||e.preventDefault(),"Enter"===e.key&&(n?c&&r(!1):r(!0))))},onKeyUp(e){d&&(jy(e)||Ly(a)||" "===e.key&&(n?c&&r(!1):r(!0)))}}}:{}),[s,i,l,u,d,a,c,n,r])};function Dy(e,t){if(null==t)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return null!=n.target&&t.contains(n.target)}const Py={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},By={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Fy=function(e,t){let{open:n,onOpenChange:r,events:i,nodeId:a,elements:{reference:s,domReference:l,floating:c},dataRef:u}=e,{enabled:d=!0,escapeKey:f=!0,outsidePress:p=!0,outsidePressEvent:m="pointerdown",referencePress:h=!1,referencePressEvent:g="pointerdown",ancestorScroll:y=!1,bubbles:v=!0}=void 0===t?{}:t;const b=Yg(),w=null!=Wg(),x=_y("function"==typeof p?p:()=>!1),E="function"==typeof p?x:p,_=o.useRef(!1),{escapeKeyBubbles:A,outsidePressBubbles:O}=function(e){var t,n;return void 0===e&&(e=!0),{escapeKeyBubbles:"boolean"==typeof e?e:null==(t=e.escapeKey)||t,outsidePressBubbles:"boolean"==typeof e?e:null==(n=e.outsidePress)||n}}(v);return o.useEffect((()=>{if(!n||!d)return;function e(e){if("Escape"===e.key){const e=b?py(b.nodesRef.current,a):[];if(e.length>0){let t=!0;if(e.forEach((e=>{var n;null==(n=e.context)||!n.open||e.context.dataRef.current.__escapeKeyBubbles||(t=!1)})),!t)return}i.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),r(!1)}}function t(e){const t=_.current;if(_.current=!1,t)return;if("function"==typeof E&&!E(e))return;const n=my(e);if(Kg(n)&&c){const t=c.ownerDocument.defaultView||window,r=n.scrollWidth>n.clientWidth,i=n.scrollHeight>n.clientHeight;let o=i&&e.offsetX>n.clientWidth;if(i){"rtl"===t.getComputedStyle(n).direction&&(o=e.offsetX<=n.offsetWidth-n.clientWidth)}if(o||r&&e.offsetY>n.clientHeight)return}const o=b&&py(b.nodesRef.current,a).some((t=>{var n;return Dy(e,null==(n=t.context)?void 0:n.elements.floating)}));if(Dy(e,c)||Dy(e,l)||o)return;const s=b?py(b.nodesRef.current,a):[];if(s.length>0){let e=!0;if(s.forEach((t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__outsidePressBubbles||(e=!1)})),!e)return}i.emit("dismiss",{type:"outsidePress",data:{returnFocus:w?{preventScroll:!0}:$g(e)||ey(e)}}),r(!1)}function o(){r(!1)}u.current.__escapeKeyBubbles=A,u.current.__outsidePressBubbles=O;const p=Qg(c);f&&p.addEventListener("keydown",e),E&&p.addEventListener(m,t);let h=[];return y&&(qg(l)&&(h=Og(l)),qg(c)&&(h=h.concat(Og(c))),!qg(s)&&s&&s.contextElement&&(h=h.concat(Og(s.contextElement)))),h=h.filter((e=>{var t;return e!==(null==(t=p.defaultView)?void 0:t.visualViewport)})),h.forEach((e=>{e.addEventListener("scroll",o,{passive:!0})})),()=>{f&&p.removeEventListener("keydown",e),E&&p.removeEventListener(m,t),h.forEach((e=>{e.removeEventListener("scroll",o)}))}}),[u,c,l,s,f,E,m,i,b,a,n,r,y,d,A,O,w]),o.useEffect((()=>{_.current=!1}),[E,m]),o.useMemo((()=>d?{reference:{[Py[g]]:()=>{h&&(i.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),r(!1))}},floating:{[By[m]]:()=>{_.current=!0}}}:{}),[d,i,h,m,g,r])};const Uy=function(e,t){let{open:n}=e,{enabled:r=!0,role:i="dialog"}=void 0===t?{}:t;const a=zg(),s=zg();return o.useMemo((()=>{const e={id:a,role:i};return r?"tooltip"===i?{reference:{"aria-describedby":n?a:void 0},floating:e}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":"alertdialog"===i?"dialog":i,"aria-controls":n?a:void 0,..."listbox"===i&&{role:"combobox"},..."menu"===i&&{id:s}},floating:{...e,..."menu"===i&&{"aria-labelledby":s}}}:{}}),[r,i,n,a,s])};function zy(e){let t,{restMs:n=0,buffer:r=.5,blockPointerEvents:i=!1}=void 0===e?{}:e,o=!1,a=!1;const s=e=>{let{x:i,y:s,placement:l,elements:c,onClose:u,nodeId:d,tree:f}=e;return function(e){function p(){clearTimeout(t),u()}if(clearTimeout(t),!c.domReference||!c.floating||null==l||null==i||null==s)return;const{clientX:m,clientY:h}=e,g=[m,h],y=my(e),v="mouseleave"===e.type,b=uy(c.floating,y),w=uy(c.domReference,y),x=c.domReference.getBoundingClientRect(),E=c.floating.getBoundingClientRect(),_=l.split("-")[0],A=i>E.right-E.width/2,O=s>E.bottom-E.height/2,S=function(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}(g,x);if(b&&(a=!0,!v))return;if(w&&(a=!1),w&&!v)return void(a=!0);if(v&&qg(e.relatedTarget)&&uy(c.floating,e.relatedTarget))return;if(f&&py(f.nodesRef.current,d).some((e=>{let{context:t}=e;return null==t?void 0:t.open})))return;if("top"===_&&s>=x.bottom-1||"bottom"===_&&s<=x.top+1||"left"===_&&i>=x.right-1||"right"===_&&i<=x.left+1)return p();let T=[];switch(_){case"top":T=[[E.left,x.top+1],[E.left,E.bottom-1],[E.right,E.bottom-1],[E.right,x.top+1]],o=m>=E.left&&m<=E.right&&h>=E.top&&h<=x.top+1;break;case"bottom":T=[[E.left,E.top+1],[E.left,x.bottom-1],[E.right,x.bottom-1],[E.right,E.top+1]],o=m>=E.left&&m<=E.right&&h>=x.bottom-1&&h<=E.bottom;break;case"left":T=[[E.right-1,E.bottom],[E.right-1,E.top],[x.left+1,E.top],[x.left+1,E.bottom]],o=m>=E.left&&m<=x.left+1&&h>=E.top&&h<=E.bottom;break;case"right":T=[[x.right-1,E.bottom],[x.right-1,E.top],[E.left+1,E.top],[E.left+1,E.bottom]],o=m>=x.right-1&&m<=E.right&&h>=E.top&&h<=E.bottom}const I=o?T:function(e){let[t,n]=e;const i=E.width>x.width,o=E.height>x.height;switch(_){case"top":return[[i?t+r/2:A?t+4*r:t-4*r,n+r+1],[i?t-r/2:A?t+4*r:t-4*r,n+r+1],...[[E.left,A||i?E.bottom-r:E.top],[E.right,A?i?E.bottom-r:E.top:E.bottom-r]]];case"bottom":return[[i?t+r/2:A?t+4*r:t-4*r,n-r],[i?t-r/2:A?t+4*r:t-4*r,n-r],...[[E.left,A||i?E.top+r:E.bottom],[E.right,A?i?E.top+r:E.bottom:E.top+r]]];case"left":{const e=[t+r+1,o?n+r/2:O?n+4*r:n-4*r],i=[t+r+1,o?n-r/2:O?n+4*r:n-4*r];return[...[[O||o?E.right-r:E.left,E.top],[O?o?E.right-r:E.left:E.right-r,E.bottom]],e,i]}case"right":return[[t-r,o?n+r/2:O?n+4*r:n-4*r],[t-r,o?n-r/2:O?n+4*r:n-4*r],...[[O||o?E.left+r:E.right,E.top],[O?o?E.left+r:E.right:E.left+r,E.bottom]]]}}([i,s]);return o?void 0:a&&!S?p():void(!function(e,t){const[n,r]=e;let i=!1;const o=t.length;for(let e=0,a=o-1;e<o;a=e++){const[o,s]=t[e]||[0,0],[l,c]=t[a]||[0,0];s>=r!=c>=r&&n<=(l-o)*(r-s)/(c-s)+o&&(i=!i)}return i}([m,h],I)?p():n&&!a&&(t=setTimeout(p,n)))}};return s.__options={blockPointerEvents:i},s}function Vy(e){void 0===e&&(e={});const{open:t=!1,onOpenChange:n,nodeId:r}=e,i=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,whileElementsMounted:a,open:s}=e,[l,c]=o.useState({x:null,y:null,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[u,d]=o.useState(r);Rg(u,r)||d(r);const f=o.useRef(null),p=o.useRef(null),m=o.useRef(l),h=Dg(a),g=Dg(i),[y,v]=o.useState(null),[b,w]=o.useState(null),x=o.useCallback((e=>{f.current!==e&&(f.current=e,v(e))}),[]),E=o.useCallback((e=>{p.current!==e&&(p.current=e,w(e))}),[]),_=o.useCallback((()=>{if(!f.current||!p.current)return;const e={placement:t,strategy:n,middleware:u};g.current&&(e.platform=g.current),Ng(f.current,p.current,e).then((e=>{const t={...e,isPositioned:!0};A.current&&!Rg(m.current,t)&&(m.current=t,Ph.flushSync((()=>{c(t)})))}))}),[u,t,n,g]);Lg((()=>{!1===s&&m.current.isPositioned&&(m.current.isPositioned=!1,c((e=>({...e,isPositioned:!1}))))}),[s]);const A=o.useRef(!1);Lg((()=>(A.current=!0,()=>{A.current=!1})),[]),Lg((()=>{if(y&&b){if(h.current)return h.current(y,b,_);_()}}),[y,b,_,h]);const O=o.useMemo((()=>({reference:f,floating:p,setReference:x,setFloating:E})),[x,E]),S=o.useMemo((()=>({reference:y,floating:b})),[y,b]);return o.useMemo((()=>({...l,update:_,refs:O,elements:S,reference:x,floating:E})),[l,_,O,S,x,E])}(e),a=Yg(),s=o.useRef(null),l=o.useRef({}),c=o.useState((()=>Vg()))[0],[u,d]=o.useState(null),f=o.useCallback((e=>{const t=qg(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;i.refs.setReference(t)}),[i.refs]),p=o.useCallback((e=>{(qg(e)||null===e)&&(s.current=e,d(e)),(qg(i.refs.reference.current)||null===i.refs.reference.current||null!==e&&!qg(e))&&i.refs.setReference(e)}),[i.refs]),m=o.useMemo((()=>({...i.refs,setReference:p,setPositionReference:f,domReference:s})),[i.refs,p,f]),h=o.useMemo((()=>({...i.elements,domReference:u})),[i.elements,u]),g=_y(n),y=o.useMemo((()=>({...i,refs:m,elements:h,dataRef:l,nodeId:r,events:c,open:t,onOpenChange:g})),[i,r,c,t,g,m,h]);return Pg((()=>{const e=null==a?void 0:a.nodesRef.current.find((e=>e.id===r));e&&(e.context=y)})),o.useMemo((()=>({...i,context:y,refs:m,reference:p,positionReference:f})),[i,m,y,p,f])}function Gy(e,t,n){const r=new Map;return{..."floating"===n&&{tabIndex:-1},...e,...t.map((e=>e?e[n]:null)).concat(e).reduce(((e,t)=>t?(Object.entries(t).forEach((t=>{let[n,i]=t;var o;0===n.indexOf("on")?(r.has(n)||r.set(n,[]),"function"==typeof i&&(null==(o=r.get(n))||o.push(i),e[n]=function(){for(var e,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];null==(e=r.get(n))||e.forEach((e=>e(...i)))})):e[n]=i})),e):e),{})}}var Hy,Wy,Yy,Qy,Zy=["aria-controls","aria-expanded","aria-haspopup"];function Xy(){return(Xy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Jy(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function qy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ky(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ky(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ky(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $y(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var ev=Ut.default.span(Hy||(Hy=$y(["\n  position: relative;\n\n  & > button {\n    background-color: var(--main-base-color, rgba(0, 0, 0, 0.5));\n    border-radius: 5px;\n    border: none;\n    color: var(--main-color, white);\n    cursor: pointer;\n    font-size: 12px;\n    height: ","px;\n    padding: 4px 5px;\n    text-align: left;\n    transition: all 250ms cubic-bezier(0.27, 0.01, 0.38, 1.06);\n    white-space: nowrap;\n    width: 120px;\n  }\n\n  & > button:hover,\n  & > button[aria-expanded='true'] {\n    ","\n    ","\n  }\n\n  /* Remove pointer events triggered by children of the button.\n     (they interfere with the floating-ui hover interaction handler.) */\n  & > button > * {\n    pointer-events: none;\n  }\n"])),sh.f,sh.d,sh.e),tv=Ut.default.div(Wy||(Wy=$y(["\n  min-width: min(400px, 100vw);\n  max-width: 100vw;\n  padding: 0 10px;\n  width: 33vw;\n  z-index: 100;\n"]))),nv=Ut.default.div(Yy||(Yy=$y(["\n  background: #fff;\n  border-radius: 4px;\n  padding: 0px 20px 10px;\n  ","\n"])),sh.e),rv=Ut.default.div(Qy||(Qy=$y(["\n  background: #fff;\n  height: 10px;\n  margin-top: -5px;\n  position: absolute;\n  transform: rotate(-45deg);\n  width: 10px;\n  ","\n"])),sh.e);function iv(e){var t,n=e.open,r=e.setOpen,i=e.style,s=Object(o.useRef)(null),l=qy(Object(o.useState)(!1),2),c=l[0],u=l[1],d=Object(o.useCallback)((function(e){r(e),e||u(!1)}),[r,u]),f=Vy({middleware:[Jh(8),(void 0===t&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...l}=t,c={x:n,y:r},u=await Wh(e,l),d=zh(Uh(i)),f=qh(d);let p=c[d],m=c[f];if(o){const e="y"===d?"bottom":"right";p=Zh(p+u["y"===d?"top":"left"],p,p-u[e])}if(a){const e="y"===f?"bottom":"right";m=Zh(m+u["y"===f?"top":"left"],m,m-u[e])}const h=s.fn({...e,[d]:p,[f]:m});return{...h,data:{x:h.x-n,y:h.y-r}}}}),jg({element:s})],onOpenChange:d,open:n}),p=f.context,m=f.floating,h=f.middlewareData.arrow,y=(h=void 0===h?{}:h).x,v=h.y,b=f.reference,w=f.strategy,x=f.x,_=f.y,A=function(e){void 0===e&&(e=[]);const t=e,n=o.useCallback((t=>Gy(t,e,"reference")),t),r=o.useCallback((t=>Gy(t,e,"floating")),t),i=o.useCallback((t=>Gy(t,e,"item")),e.map((e=>null==e?void 0:e.item)));return o.useMemo((()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:i})),[n,r,i])}([sy(p,{enabled:!c,handleClose:zy({blockPointerEvents:!1,buffer:0,restMs:500})}),Ry(p),Uy(p),Fy(p)]),O=A.getFloatingProps,S=(0,A.getReferenceProps)(),T=(S["aria-controls"],S["aria-expanded"],S["aria-haspopup"],Jy(S,Zy)),I=Object(o.useCallback)((function(e){u(!0),"function"==typeof S.onClick&&S.onClick(e)}),[S]);return a.a.createElement(ev,{style:i},a.a.createElement("button",Xy({},S,{id:"date-time-button",onClick:I,ref:b,type:"button"}),a.a.createElement(K.a,null,a.a.createElement("span",{id:"date-time-settings-label"},a.a.createElement(E.a,{id:"components.DateTimePreview.editDepartOrArrival"}))," - "),a.a.createElement("span",T,a.a.createElement(k,null))),n&&a.a.createElement(Ny,{context:p,returnFocus:c},a.a.createElement(tv,Xy({},O(),{"aria-labelledby":"date-time-settings-label",ref:m,style:{left:null!=x?x:0,position:w,top:null!=_?_:0}}),a.a.createElement(rv,{ref:s,style:{left:null!=y?y:0,top:null!=v?v:0}}),a.a.createElement(nv,null,a.a.createElement(g,null)))))}function ov(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return av(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return av(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function av(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sv(Object(n),!0).forEach((function(t){cv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uv(e){return function(t){return lv(lv({},t),{},{enabled:e.includes(t.key)})}}var dv,fv,pv,mv,hv,gv,yv,vv,bv,wv,xv={setQueryParam:s.h},Ev=Object(r.c)((function(e){var t,n,r,i=new URLSearchParams(e.router.location.search),o=e.otp.config.modes;return{activeSearch:Object(N.getActiveSearch)(e),currentQuery:e.otp.currentQuery,enabledModeButtons:(null===(t=Object(up.decodeQueryParams)(Xm,{modeButtons:i.get("modeButtons")}))||void 0===t?void 0:t.modeButtons)||(null==o||null===(n=o.initialState)||void 0===n?void 0:n.enabledModeButtons)||{},fillModeIcons:null===(r=e.otp.config.itinerary)||void 0===r?void 0:r.fillModeIcons,modeButtonOptions:(null==o?void 0:o.modeButtons)||[],spacedOutModeSelector:null==o?void 0:o.spacedOut}}),xv)((function(e){var t=e.activeSearch,n=e.currentQuery,r=e.enabledModeButtons,i=e.fillModeIcons,s=e.modeButtonOptions,l=e.onPlanTripClick,c=e.openAdvancedSettings,u=e.setQueryParam,d=e.spacedOutModeSelector,f=Object(M.a)(),p=ov(Object(o.useState)(!1),2),m=p[0],h=p[1],g=Object(o.useContext)(q.a).ModeIcon,y=s.map(Zm(Jm(g),uv(r))),v=Object(rt.h)(),b=Object(rt.i)();return a.a.createElement(sh.a,null,a.a.createElement(iv,{open:m,setOpen:h}),a.a.createElement(ch,{onClick:c}),a.a.createElement(sh.b,{squashed:!d},a.a.createElement(th.d,{accentColor:v,activeHoverColor:b.toHexString(),fillModeIcons:i,label:f.formatMessage({id:"components.BatchSearchScreen.modeSelectorLabel"}),modeButtons:y,onSettingsUpdate:qm(u),onToggleModeButton:Km(r,qm(u))}),a.a.createElement(sh.c,{id:"plan-trip",onClick:l,title:f.formatMessage({id:"components.BatchSettings.planTripTooltip"})},a.a.createElement(w.c,{style:{fontSize:"1.6em"}},Object(N.hasValidLocation)(n,"from")&&Object(N.hasValidLocation)(n,"to")&&t?a.a.createElement(oh,null):a.a.createElement(Nl.a,null)))))}));function _v(e){return function(e){if(Array.isArray(e))return Iv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Tv(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Av(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function Ov(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Av(o,r,i,a,s,"next",e)}function s(e){Av(o,r,i,a,s,"throw",e)}a(void 0)}))}}function Sv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||Tv(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tv(e,t){if(e){if("string"==typeof e)return Iv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Iv(e,t):void 0}}function Iv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kv(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Cv=Ut.default.div(dv||(dv=kv(["\n  height: 100%;\n  left: 0;\n  overflow-y: auto;\n  padding: 1.5em;\n  position: absolute;\n  top: 0;\n  width: 100%;\n  z-index: 100;\n"]))),Mv=Ut.default.div(fv||(fv=kv(["\n  display: flex;\n  flex-direction: column;\n  gap: 13px;\n  margin-bottom: 2em;\n\n  ","\n"])),c.h),Nv=Ut.default.button(pv||(pv=kv(["\n  background: transparent;\n  border: none;\n"]))),jv=Ut.default.div(mv||(mv=kv(["\n  align-items: center;\n  display: flex;\n  gap: 10px;\n  height: 30px;\n"]))),Lv=Ut.default.h2(hv||(hv=kv(["\n  ","\n"])),rh.invisibleCss),Rv=Ut.default.h2(gv||(gv=kv(["\n  display: block;\n  font-size: 18px;\n  font-weight: 700;\n  height: auto;\n  margin: 1em 0;\n  position: static;\n  width: auto;\n"]))),Dv=Ut.default.button(yv||(yv=kv(["\n  align-items: center;\n  background-color: var(--main-base-color, ",");\n  border: 0;\n  color: white;\n  display: flex;\n  font-weight: 700;\n  gap: 5px;\n  height: 51px;\n  justify-content: center;\n  margin-top: 2em;\n  width: 100%;\n\n  svg {\n    margin-bottom: 7px;\n  }\n"])),rt.g[900]),Pv=Ut.default.div(vv||(vv=kv(["\n  margin: 2em 0;\n\n  .date-time-modal {\n    padding: 0;\n\n    .main-panel {\n      margin: 0;\n\n      button {\n        padding: 6px 0;\n      }\n\n      .date-time-selector {\n        margin: 15px 0;\n      }\n    }\n  }\n"]))),Bv=Ut.default.div(bv||(bv=kv(["\n  margin: 60px 0 60px 5px;\n"]))),Fv=Object(Ut.default)(th.c)(wv||(wv=kv(["\n  margin: 20px 0px;\n  label {\n    padding-left: 0;\n  }\n"]))),Uv={modeButtons:zm.a},zv={getDependentUserInfo:lu.o,setQueryParam:s.h,updateQueryTimeIfLeavingNow:s.k},Vv=Object(r.c)((function(e){var t,n,r,i,o,a,s,l,c=new URLSearchParams(e.router.location.search),u=e.otp.config.modes,d=Object(ih.c)(c,e.otp.modeSettingDefinitions||[],(null==u||null===(t=u.initialState)||void 0===t?void 0:t.modeSettingValues)||{}),f=e.otp.config.autoPlan,p=null===(n=e.otp.config)||void 0===n||null===(r=n.advancedSettingsPanel)||void 0===r?void 0:r.saveAndReturnButton;return{autoPlan:!1!==f,currentQuery:e.otp.currentQuery,enabledModeButtons:(null===(i=Object(zm.c)(Uv,{modeButtons:c.get("modeButtons")}))||void 0===i||null===(o=i.modeButtons)||void 0===o?void 0:o.filter((function(e){return null!==e})))||(null==u||null===(a=u.initialState)||void 0===a?void 0:a.enabledModeButtons)||[],loggedInUser:e.user.loggedInUser,mobilityProfile:(null===(s=e.otp.config)||void 0===s?void 0:s.mobilityProfile)||!1,modeButtonOptions:(null==u?void 0:u.modeButtons)||[],modeSettingDefinitions:(null===(l=e.otp)||void 0===l?void 0:l.modeSettingDefinitions)||[],modeSettingValues:d,saveAndReturnButton:p}}),zv)((function(e){var t,n,r=e.autoPlan,i=e.closeAdvancedSettings,s=e.currentQuery,l=e.enabledModeButtons,c=e.getDependentUserInfo,u=e.handlePlanTrip,d=e.innerRef,f=e.loggedInUser,p=e.mobilityProfile,m=e.modeButtonOptions,h=e.modeSettingDefinitions,y=e.modeSettingValues,v=e.saveAndReturnButton,b=e.setCloseAdvancedSettingsWithDelay,w=e.setQueryParam,x=Object(M.a)(),_=Sv(Object(o.useState)(!1),2),A=_[0],O=_[1],S=Sv(Object(o.useState)(s.forEmail||(null==f?void 0:f.email)),2),T=S[0],I=S[1],k=Object(o.useMemo)((function(){return(null==f?void 0:f.dependents)||[]}),[f]);Object(o.useEffect)((function(){p&&k.length>0&&c(k,x)}),[k,c,x,p]);var C=Object(rt.h)()||rt.g[900],N=x.formatMessage({id:"components.BatchSearchScreen.saveAndReturn"}),j=x.formatMessage({id:"components.BatchSearchScreen.advancedHeader"}),L=Object(o.useContext)(q.a).ModeIcon,R=function(e){return e.map(Zm(function(e){return function(t){return Ym(Ym({},t),{},{icon:a.a.createElement(e,{mode:t.iconName,width:16})})}}(L),Object(th.m)(y),function(e){return function(t){if("SUBMODE"===t.type){var n=t.overrideMode||t.addTransportMode.mode;return Ym(Ym({},t),{},{label:Object(wn.c)(n,e)})}return t}}(x)))},D=R(h.filter((function(e){return!e.applicableMode}))),P=D.map((function(e){return a.a.createElement(th.e,{key:e.key,onChange:qm(w),setting:e})})),B=R(h),F=m.map(Zm(Jm(L),Object(th.h)(B),uv(l))),U=$m(s,x),z=Object(o.useCallback)((function(){0===U.length&&r&&u(),i()}),[r,i,u,U.length]),V=Km(l,qm(w)),G=Object(o.useCallback)(Ov(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:O(!0),z();case 4:case"end":return e.stop()}}),e)}))),[z,b]),H=Object(o.useCallback)((function(e){var t=e.forEmail;I(t),w({forEmail:t})}),[I,w]);return a.a.createElement(Cv,{className:"advanced-settings",ref:d},a.a.createElement(jv,null,a.a.createElement(Nv,{"aria-label":N,id:"close-advanced-settings-button",onClick:function(){z()},title:N},a.a.createElement(ta.a,{size:22})),a.a.createElement("h1",{className:"header-text"},j)),a.a.createElement(Pv,null,a.a.createElement(g,null)),D.length>0&&a.a.createElement(a.a.Fragment,null,a.a.createElement(Lv,null,a.a.createElement(E.a,{id:"components.BatchSearchScreen.tripOptions"})),a.a.createElement(Mv,{className:"global-settings-container"},P)),(null==f||null===(t=f.dependentsInfo)||void 0===t?void 0:t.length)&&a.a.createElement(Bv,null,a.a.createElement(Rv,null,a.a.createElement(E.a,{id:"components.MobilityProfile.MobilityPane.header"})),a.a.createElement(E.a,{id:"components.MobilityProfile.MobilityPane.planTripDescription"}),a.a.createElement(Fv,{label:x.formatMessage({id:"components.MobilityProfile.dropdownLabel"}),name:"forEmail",onChange:H,options:[{text:x.formatMessage({id:"components.MobilityProfile.myself"}),value:null==f?void 0:f.email}].concat(_v((null==f||null===(n=f.dependentsInfo)||void 0===n?void 0:n.map((function(e){return{text:Object(cu.g)(e),value:e.email}})))||[])),value:T})),a.a.createElement(th.a,{accentColor:C,fillModeIcons:!0,label:x.formatMessage({id:"components.BatchSearchScreen.submodeSelectorLabel"}),modeButtons:F,onAllSubmodesDisabled:function(e){V(e.key,!1)},onSettingsUpdate:qm(w),onToggleModeButton:V}),v&&a.a.createElement(Dv,{className:"save-settings-button",onClick:G},A?a.a.createElement(a.a.Fragment,null,a.a.createElement(E.a,{id:"components.BatchSearchScreen.saved"}),a.a.createElement(nh,{size:22})):a.a.createElement(E.a,{id:"components.BatchSearchScreen.saveAndReturn"})))})),Gv=n(157),Hv=n(294);function Wv(e){return(Wv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zv(e,t){return(Zv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kv(e);if(t){var i=Kv(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Jv(this,n)}}function Jv(e,t){if(t&&("object"===Wv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return qv(e)}function qv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kv(e){return(Kv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var eb=i.default.map.matchLatLon,tb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zv(e,t)}(o,e);var t,n,r,i=Xv(o);function o(){var e;Yv(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $v(qv(e=i.call.apply(i,[this].concat(n))),"_setFromOrToLocation",(function(t){var n=e.props,r=n.query,i=n.setLocation;r.to||r.from&&eb(t,r.from)?r.from||eb(t,r.to)||i({location:t,locationType:"from",reverseGeocode:!1}):i({location:t,locationType:"to",reverseGeocode:!1})})),$v(qv(e),"_onSelect",(function(){var t=e.props,n=t.index,r=t.intl,i=t.persistenceMode,o=t.place,a=t.routeTo;Object(A.i)(o.address)?i.isOtpMiddleware?a("/account/places/".concat(n)):i.isLocalStorage&&window.alert(r.formatMessage({id:"components.Place.enterAlert"},{type:Object(wn.d)(o.type,r)})):e._setFromOrToLocation(Object(cu.e)(o))})),$v(qv(e),"_onView",(function(){var t=e.props;(0,t.onView)({stopId:t.place.id})})),$v(qv(e),"_onDelete",(function(){var t=e.props;(0,t.onDelete)(t.place)})),e}return t=o,(n=[{key:"render",value:function(){var e=this.props,t=e.detailText,n=e.icon,r=e.mainText,i=e.onView,o=e.place;return a.a.createElement(Hv.b,{className:"place-item",detailText:t,icon:n,mainText:r,onClick:this._onSelect,onDelete:Object(A.i)(o.address)?null:this._onDelete,onView:i&&this._onView})}}])&&Qv(t.prototype,n),r&&Qv(t,r),o}(o.Component),nb={routeTo:J.d,setLocation:Ee.e},rb=Object(r.c)((function(e){var t=e.otp,n=t.config,r=t.currentQuery,i=n.persistence;return{persistenceMode:Object(cu.h)(i),query:r}}),nb)(Object(U.c)(tb)),ib=n(293);function ob(e){return(ob="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ab(e){return function(e){if(Array.isArray(e))return sb(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return sb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sb(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ub(e,t){return(ub=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function db(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mb(e);if(t){var i=mb(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return fb(this,n)}}function fb(e,t){if(t&&("object"===ob(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pb(e)}function pb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mb(e){return(mb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gb=i.default.time.toHoursMinutesSeconds;function yb(e,t){var n,r=Object(Gv.a)(new Date,new Date(e)),i=gb(r),o=i.hours,a=i.minutes,s=o%24,l=(o-s)/24;return n=0!==l?t.formatMessage({id:"common.time.duration.nDays"},{days:l}):0!==s?t.formatMessage({id:"common.time.duration.nHours"},{hours:s}):0!==a?t.formatMessage({id:"common.time.duration.nMinutes"},{minutes:a}):t.formatMessage({id:"common.time.duration.aFewSeconds"}),t.formatMessage({id:"common.time.durationAgo"},{duration:n})}function vb(e,t,n){var r=e.find((function(e){return e.type===t}));r?r.address||(r.address=r.name):e.push({address:"",icon:n,id:t,type:t})}var bb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ub(e,t)}(o,e);var t,n,r,i=db(o);function o(){var e;lb(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return hb(pb(e=i.call.apply(i,[this].concat(n))),"_disableTracking",(function(){var t=e.props,n=t.intl,r=t.localUser,i=t.toggleTracking,o=r.recentPlaces,a=r.recentSearches;r.storeTripHistory&&(((null==o?void 0:o.length)>0||(null==a?void 0:a.length)>0)&&!window.confirm(n.formatMessage({id:"components.UserSettings.confirmDeletion"}))||i(!1))})),hb(pb(e),"_enableTracking",(function(){return!e.props.localUser.storeTripHistory&&e.props.toggleTracking(!0)})),hb(pb(e),"_getLocalStorageOnlyContent",(function(){var t=e.props,n=t.deleteLocalUserRecentPlace,r=t.forgetSearch,i=t.forgetStop,o=t.intl,s=t.localUser,l=t.setQueryParam,c=t.setUrlSearch,u=t.setViewedStop,d=s.favoriteStops,f=s.recentPlaces,p=s.recentSearches,m=s.storeTripHistory;return a.a.createElement(a.a.Fragment,null,a.a.createElement(wb,{getDetailText:function(e){return o.formatMessage({id:"components.UserSettings.stopId"},{stopId:e.id})},getMainText:function(e){return e.address},header:a.a.createElement(E.a,{id:"components.UserSettings.favoriteStops"}),onDelete:i,onView:u,places:d,textIfEmpty:a.a.createElement(E.a,{id:"components.UserSettings.noFavoriteStops"})}),m&&a.a.createElement(wb,{getDetailText:function(e){return yb(e.timestamp,o)},getMainText:function(e){return e.address},header:a.a.createElement(E.a,{id:"components.UserSettings.recentPlaces"}),onDelete:n,places:f}),m&&a.a.createElement(Eb,{forgetSearch:r,setQueryParam:l,setUrlSearch:c,tripRequests:p,user:s}),a.a.createElement("hr",null),a.a.createElement("div",{className:"remember-settings"},a.a.createElement("div",{className:"section-header"},a.a.createElement(E.a,{id:"components.UserSettings.myPreferences"})),a.a.createElement("small",null,a.a.createElement(E.a,{id:"components.UserSettings.rememberSearches"})," "),a.a.createElement(j.a,{bsSize:"xsmall",bsStyle:"link",className:m?"active":"",onClick:e._enableTracking},a.a.createElement(E.a,{id:"common.forms.yes"})),a.a.createElement(j.a,{bsSize:"xsmall",bsStyle:"link",className:m?"":"active",onClick:e._disableTracking},a.a.createElement(E.a,{id:"common.forms.no"}))),a.a.createElement("div",null,a.a.createElement("hr",null),a.a.createElement("div",{className:"disclaimer"},a.a.createElement(E.a,{id:"components.UserSettings.storageDisclaimer"}))))})),hb(pb(e),"_getLocations",(function(e){var t=ab(e.savedLocations);return vb(t,"home","home"),vb(t,"work","briefcase"),t})),hb(pb(e),"_deleteUserPlace",(function(t){var n=e.props;(0,n.deleteUserPlace)(t,n.intl)})),e}return t=o,(n=[{key:"render",value:function(){var e=this.props,t=e.className,n=void 0===t?"":t,r=e.forgetSearch,i=e.intl,o=e.isUsingOtpMiddleware,s=e.localUser,l=e.loggedInUser,c=e.loggedInUserTripRequests,u=e.setQueryParam,d=e.style;if(o&&!l)return null;var f=this._getLocations(o?l:s),p=["home","work","suggested","stop","recent"],m=o?f:f.sort((function(e,t){return p.indexOf(e.type)-p.indexOf(t.type)}));return a.a.createElement("div",{className:"user-settings ".concat(n),style:d},a.a.createElement(wb,{getDetailText:function(e){return Object(cu.j)(e,i)},getMainText:function(e){return Object(cu.k)(e,i)},header:o&&a.a.createElement(E.a,{id:"components.UserSettings.mySavedPlaces",values:{manageLink:function(e){return a.a.createElement("span",{className:"manage-link"},a.a.createElement(Ul.a,{to:"/account/settings"},e))}}}),onDelete:this._deleteUserPlace,places:m,separator:!1}),o?a.a.createElement(Eb,{forgetSearch:r,setQueryParam:u,tripRequests:c,user:l}):this._getLocalStorageOnlyContent())}}])&&cb(t.prototype,n),r&&cb(t,r),o}(o.Component),wb=function(e){var t=e.getDetailText,n=e.getMainText,r=e.header,i=e.onDelete,o=e.onView,s=e.places,l=e.separator,u=void 0===l||l,d=e.textIfEmpty;return(d||s&&s.length>0)&&a.a.createElement(a.a.Fragment,null,u&&a.a.createElement("hr",null),r&&a.a.createElement("div",{className:"section-header"},r),a.a.createElement(c.e,null,s.length>0?s.map((function(e,r){return a.a.createElement(rb,{detailText:t(e),icon:e.icon,index:r,key:e.id||r,mainText:n(e),onDelete:i,onView:o,place:e})})):d&&a.a.createElement("small",null,d)))},xb=function(e){var t=e.forgetSearch,n=e.setQueryParam,r=e.setUrlSearch,i=e.tripRequest,s=e.user,l=i.canDelete,c=void 0===l||l,u=i.id,d=i.query,f=i.timestamp,p=Object(o.useCallback)((function(){n(d,u),d.modeButtons&&r({modeButtons:d.modeButtons}),d.modeSettings&&r({modeSettings:d.modeSettings})}),[n,r,d,u]),m=Object(o.useCallback)((function(){return t(i)}),[t,i]),h=Object(M.a)(),g=Object(ib.a)(d,h,s.savedLocations).trim();return a.a.createElement(Hv.b,{className:"place-item",detailText:yb(f,h),icon:"clock-o",mainText:g,onClick:p,onDelete:c?m:null})},Eb=function(e){var t=e.forgetSearch,n=e.setQueryParam,r=e.setUrlSearch,i=e.tripRequests,o=void 0===i?null:i,s=e.user;return s.storeTripHistory&&o&&o.length>0&&a.a.createElement("div",{className:"recent-searches-container"},a.a.createElement("hr",null),a.a.createElement("div",{className:"section-header"},a.a.createElement(E.a,{id:"components.UserSettings.recentSearches"})),a.a.createElement(c.e,null,o.sort((function(e,t){return t.timestamp-e.timestamp})).map((function(e){return a.a.createElement(xb,{forgetSearch:t,key:e.id,setQueryParam:n,setUrlSearch:r,tripRequest:e,user:s})}))))},_b={deleteLocalUserRecentPlace:lu.g,deleteUserPlace:lu.j,forgetSearch:je.D,forgetStop:lu.n,setQueryParam:s.h,setUrlSearch:je.T,setViewedStop:J.p,toggleTracking:je.U},Ab=Object(r.c)((function(e){var t=e.otp,n=t.config,r=t.currentQuery,i=e.user,o=i.localUser,a=i.loggedInUser,s=i.loggedInUserTripRequests;return{isUsingOtpMiddleware:Object(cu.p)(n.persistence),localUser:o,loggedInUser:a,loggedInUserTripRequests:s,query:r}}),_b)(Object(U.c)(bb));function Ob(e){return(Ob="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ib(e,t){return(Ib=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Nb(e);if(t){var i=Nb(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Cb(this,n)}}function Cb(e,t){if(t&&("object"===Ob(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Mb(e)}function Mb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nb(e){return(Nb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ib(e,t)}(o,e);var t,n,r,i=kb(o);function o(){var e;Sb(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return jb(Mb(e=i.call.apply(i,[this].concat(n))),"state",{closeAdvancedSettingsWithDelay:!1,planTripClicked:!1,showAdvancedModeSettings:!1}),jb(Mb(e),"_advancedSettingRef",a.a.createRef()),jb(Mb(e),"_mainPanelContentRef",a.a.createRef()),jb(Mb(e),"_itinerariesAndUserRef",a.a.createRef()),jb(Mb(e),"openAdvancedSettings",(function(){e.setState({closeAdvancedSettingsWithDelay:!1,showAdvancedModeSettings:!0})})),jb(Mb(e),"closeAdvancedSettings",(function(){e.setState({showAdvancedModeSettings:!1})})),jb(Mb(e),"setCloseAdvancedSettingsWithDelay",(function(){e.setState({closeAdvancedSettingsWithDelay:!0})})),jb(Mb(e),"handleSubmit",(function(e){return e.preventDefault()})),jb(Mb(e),"handlePlanTripClick",(function(){var t=e.props,n=t.currentQuery,r=t.intl,i=t.routingQuery;eh(r,n,(function(){return e.setState({planTripClicked:!0})}),i)})),e}return t=o,(n=[{key:"componentDidUpdate",value:function(e){null===e.mainPanelContent&&null!==this.props.mainPanelContent&&this.state.showAdvancedModeSettings&&this.setState({showAdvancedModeSettings:!1})}},{key:"render",value:function(){var e=this.props,t=e.activeSearch,n=e.geocoderResultsOrder,r=e.intl,i=e.mobile,o=e.showUserSettings,s=this.state.planTripClicked,l=i?r.formatMessage({id:"common.searchForms.tap"}):r.formatMessage({id:"common.searchForms.click"}),u=this.state.closeAdvancedSettingsWithDelay?300:0,d=c.i+u;return a.a.createElement(tp,{className:"batch-routing-panel",style:{display:"flex",flexDirection:"column",height:"100%"}},a.a.createElement(c.d,{transitionDelay:u},!this.state.showAdvancedModeSettings&&a.a.createElement(K.a,null,a.a.createElement("h1",null,a.a.createElement(E.a,{id:"components.BatchSearchScreen.header"}))),a.a.createElement("form",{className:"form",onSubmit:this.handleSubmit,style:{padding:"10px"}},a.a.createElement(Fm.a,{style:{display:"content"}},this.state.showAdvancedModeSettings&&a.a.createElement(Um.a,{classNames:c.f,nodeRef:this._advancedSettingRef,timeout:{enter:c.i,exit:d}},a.a.createElement(Vv,{closeAdvancedSettings:this.closeAdvancedSettings,handlePlanTrip:this.handlePlanTripClick,innerRef:this._advancedSettingRef,setCloseAdvancedSettingsWithDelay:this.setCloseAdvancedSettingsWithDelay})),!this.state.showAdvancedModeSettings&&a.a.createElement(Um.a,{classNames:c.g,nodeRef:this._mainPanelContentRef,onExit:this.openAdvancedSettings,timeout:d},a.a.createElement("div",{ref:this._mainPanelContentRef},a.a.createElement("span",{className:"batch-routing-panel-location-fields"},a.a.createElement(Ne,{geocoderResultsOrder:n,inputPlaceholder:r.formatMessage({id:"common.searchForms.enterStartLocation"},{mapAction:l}),isRequired:!0,locationType:"from",selfValidate:s,showClearButton:!i}),a.a.createElement(Ne,{geocoderResultsOrder:n,inputPlaceholder:r.formatMessage({id:"common.searchForms.enterDestination"},{mapAction:l}),isRequired:!0,locationType:"to",selfValidate:s,showClearButton:!i}),a.a.createElement("div",{className:"switch-button-container"},a.a.createElement(Ze,null))),a.a.createElement(Ev,{onPlanTripClick:this.handlePlanTripClick,openAdvancedSettings:this.openAdvancedSettings}))))),a.a.createElement(Fm.a,{style:{display:"contents"}},!this.state.showAdvancedModeSettings&&a.a.createElement(Um.a,{classNames:c.g,nodeRef:this._itinerariesAndUserRef,timeout:d},a.a.createElement("div",{ref:this._itinerariesAndUserRef,style:{height:"100%",overflowY:"auto"}},!t&&o&&a.a.createElement(Ab,{style:{margin:"0 10px",overflowY:"auto"}}),a.a.createElement("div",{className:"desktop-narrative-container",style:{flexGrow:1,height:t?"100%":"auto",overflowY:"hidden"}},a.a.createElement(vo.a,null)))))))}}])&&Tb(t.prototype,n),r&&Tb(t,r),o}(o.Component),Rb={routingQuery:je.O},Db=Object(r.c)((function(e){var t,n,r,i=Object(N.getShowUserSettings)(e)&&((null===(t=e.user.loggedInUser)||void 0===t?void 0:t.hasConsentedToTerms)||Object(cu.h)(e.otp.config.persistence).isLocalStorage),o=e.otp.ui.mainPanelContent,a=e.otp.currentQuery,s=null===(n=e.otp.config)||void 0===n||null===(r=n.geocoder)||void 0===r?void 0:r.geocoderResultsOrder;return{activeSearch:Object(N.getActiveSearch)(e),currentQuery:a,geocoderResultsOrder:s,mainPanelContent:o,showUserSettings:i}}),Rb)(Object(U.c)(Lb)),Pb=o.forwardRef((function(e,t){return o.createElement(D.a,R()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M278.6 9.4c-12.5-12.5-32.8-12.5-45.3 0l-64 64c-9.2 9.2-11.9 22.9-6.9 34.9s16.6 19.8 29.6 19.8h32v96h-96V192c0-12.9-7.8-24.6-19.8-29.6s-25.7-2.2-34.9 6.9l-64 64c-12.5 12.5-12.5 32.8 0 45.3l64 64c9.2 9.2 22.9 11.9 34.9 6.9s19.8-16.6 19.8-29.6V288h96v96h-32c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l64 64c12.5 12.5 32.8 12.5 45.3 0l64-64c9.2-9.2 11.9-22.9 6.9-34.9S332.9 384 319.9 384H288v-96h96v32c0 12.9 7.8 24.6 19.8 29.6s25.7 2.2 34.9-6.9l64-64c12.5-12.5 12.5-32.8 0-45.3l-64-64c-9.2-9.2-22.9-11.9-34.9-6.9S384 179.1 384 192.1v32h-96V128h32c12.9 0 24.6-7.8 29.6-19.8s2.2-25.7-6.9-34.9l-64-64z"}))}));Pb.displayName="ArrowsAlt";var Bb=o.forwardRef((function(e,t){return o.createElement(D.a,R()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M64 144c26.5 0 48-21.5 48-48S90.5 48 64 48 16 69.5 16 96s21.5 48 48 48zm128-80c-17.7 0-32 14.3-32 32s14.3 32 32 32h288c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32h288c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32h288c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zM64 464c26.5 0 48-21.5 48-48s-21.5-48-48-48-48 21.5-48 48 21.5 48 48 48zm48-208c0-26.5-21.5-48-48-48s-48 21.5-48 48 21.5 48 48 48 48-21.5 48-48z"}))}));Bb.displayName="ListUl";var Fb=["showMobileSearchScreen"];function Ub(){return(Ub=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function zb(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Vb,Gb={showMobileSearchScreen:J.r},Hb=Object(r.c)(null,Gb)((function(e){var t=e.showMobileSearchScreen,n=zb(e,Fb);return a.a.createElement(j.a,Ub({onClick:t},n))}));var Wb=function(e){var t=e.className,n=e.error;return a.a.createElement("div",{className:"results-error-message ".concat(t)},a.a.createElement(we,{error:n}),a.a.createElement("div",{className:"options-lower-tray mobile-padding"},a.a.createElement(Hb,{className:"back-to-search-button",style:{width:"100%"}},a.a.createElement(w.b,{Icon:ta.a},a.a.createElement(E.a,{id:"components.ResultsError.backToSearch"})))))};Wb.propTypes={className:X.a.string,error:X.a.object};var Yb,Qb,Zb,Xb,Jb,qb=Object(Ut.default)(Wb)(Vb||(Vb=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  top: 300px;\n"]))),Kb=n(71);function $b(e){return($b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ew(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nw(e,t){return(nw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rw(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ow(e);if(t){var i=ow(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return iw(this,n)}}function iw(e,t){if(t&&("object"===$b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ow(e){return(ow=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function aw(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var sw=Ut.default.div(Yb||(Yb=aw(["\n  font-weight: 300;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"]))),lw=Ut.default.div(Qb||(Qb=aw(["\n  height: 50px;\n  left: 0;\n  padding-right: 10px;\n  position: fixed;\n  right: 0;\n  top: 50px;\n"]))),cw=Object(Ut.default)(op.a)(Zb||(Zb=aw(["\n  font-size: 1.1em;\n  line-height: 1.2em;\n"]))),uw=Object(Ut.default)(ip.a)(Xb||(Xb=aw(["\n  padding: 4px 8px;\n"]))),dw=Object(Ut.default)(Kb.default)(Jb||(Jb=aw(["\n  margin: 3px;\n"]))),fw=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nw(e,t)}(o,e);var t,n,r,i=rw(o);function o(){return ew(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){var e=this.props,t=e.errors,n=e.intl,r=e.query,i=e.resultCount,o=0===i&&t.length>0?n.formatMessage({id:"components.ResultsHeader.noTripFound"}):i?n.formatMessage({id:"components.ResultsHeader.tripsFound"},{count:i}):n.formatMessage({id:"components.ResultsHeader.waiting"});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ea,{headerText:o}),a.a.createElement(lw,null,a.a.createElement(uw,{className:"locations-summary"},a.a.createElement(cw,{sm:11,xs:8},a.a.createElement(sw,null,a.a.createElement(dw,{type:"from"})," ",r.from?r.from.name:""),a.a.createElement(sw,{style:{marginTop:2}},a.a.createElement(dw,{type:"to"})," ",r.to?r.to.name:"")),a.a.createElement(op.a,{sm:1,xs:4},a.a.createElement(Hb,{className:"edit-search-button pull-right"},a.a.createElement(E.a,{id:"common.forms.edit"}))))))}}])&&tw(t.prototype,n),r&&tw(t,r),o}(o.Component);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(fw,"propTypes",{errors:X.a.array,intl:X.a.object,query:X.a.object,resultCount:X.a.number});var pw,mw,hw,gw,yw,vw,bw=Object(r.c)((function(e){var t=Object(N.getActiveSearch)(e),n=null==t?void 0:t.response,r=Object(N.getActiveItineraries)(e);return{errors:Object(N.getResponsesWithErrors)(e),query:e.otp.currentQuery,resultCount:n?r.length:null}}))(Object(U.c)(fw));function ww(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var xw,Ew=Object(Ut.default)(ea)(pw||(pw=ww(["\n  .options > .header {\n    margin: 10px;\n  }\n\n  &.otp.mobile .mobile-narrative-container {\n    bottom: 0;\n    left: 0;\n    overflow-y: auto;\n    padding: 0;\n    position: fixed;\n    right: 0;\n  }\n"]))),_w=Object(Ut.default)(j.a)(mw||(mw=ww(["\n  bottom: 10px;\n  left: 10px;\n  position: absolute;\n  z-index: 999999;\n"]))),Aw=Ut.default.div(hw||(hw=ww(["\n  bottom: ",";\n  display: ",";\n  left: 0;\n  position: fixed;\n  right: 0;\n  top: 100px;\n"])),(function(e){return e.expanded?"0":"".concat(55,"%")}),(function(e){return e.visible?"inherit":"none"})),Ow=Object(Ut.css)(gw||(gw=ww(["\n  top: ",";\n  transition: top 300ms;\n"])),(function(e){return e.visible?e.expanded?"100px":"".concat(45,"%"):"100%"})),Sw=Object(Ut.default)(qb)(yw||(yw=ww(["\n  display: ",";\n  ","\n"])),(function(e){return e.visible?"inherit":"none"}),Ow),Tw=Ut.default.div(vw||(vw=ww(["\n  ","\n"])),Ow),Iw={toggleBatchResultsMap:J.t},kw=Object(r.c)((function(e){var t=Object(N.getActiveSearch)(e),n=i.default.query.getUrlParams();return{activeLeg:t?t.activeLeg:null,errors:Object(N.getResponsesWithErrors)(e),itineraries:Object(N.getActiveItineraries)(e),itineraryView:Object(A.f)(n)||e.otp.ui.itineraryView}}),Iw)((function(e){var t=e.errors,n=e.itineraries,r=e.itineraryView,i=e.toggleBatchResultsMap,s=0===n.length&&t.length>0,l=r===A.a.LEG_HIDDEN||r===A.a.LIST_HIDDEN,c=r===A.a.FULL,u=Object(cf.i)().default;return Object(o.useEffect)((function(){u&&u.resize()}),[l,u]),a.a.createElement(Ew,null,a.a.createElement(bw,null),a.a.createElement(Aw,{expanded:l,visible:!c},a.a.createElement(Rt,null),a.a.createElement(_w,{bsSize:"small",onClick:i},a.a.createElement(w.b,{Icon:l?Bb:Pb},l?a.a.createElement(E.a,{id:"components.BatchResultsScreen.showResults"}):a.a.createElement(E.a,{id:"components.BatchResultsScreen.expandMap"})))),s?a.a.createElement(Sw,{error:t[0],expanded:c,visible:!l}):a.a.createElement(Tw,{className:"mobile-narrative-container",expanded:c,visible:!l},a.a.createElement(vo.a,null)))}));function Cw(e){return(Cw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jw(e,t){return(jw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Lw(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Pw(e);if(t){var i=Pw(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Rw(this,n)}}function Rw(e,t){if(t&&("object"===Cw(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Dw(e)}function Dw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pw(e){return(Pw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fw=yn.b.SET_FROM_LOCATION,Uw=yn.b.SET_TO_LOCATION,zw=Ut.default.div(xw||(xw=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  background: white;\n  box-shadow: 3px 0px 12px #00000052;\n  height: ",";\n  left: 0;\n  position: fixed;\n  right: 0;\n  top: 50px;\n  transition: ",";\n  transition-delay: ","ms;\n  /* Must appear under the 'hamburger' dropdown which has z-index of 1000, and the \"network lost\"\n    banner which has a z-index of 10 */\n  z-index: 9;\n"])),(function(e){return e.advancedPanelOpen?"calc(100% - 50px)":"230px"}),(function(e){return"all ".concat(e.transitionDuration,"ms ease")}),(function(e){return e.transitionDelay})),Vw=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jw(e,t)}(o,e);var t,n,r,i=Lw(o);function o(){var e;Mw(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Bw(Dw(e=i.call.apply(i,[this].concat(n))),"state",{closeAdvancedSettingsWithDelay:!1,planTripClicked:!1,showAdvancedModeSettings:!1}),Bw(Dw(e),"_fromFieldClicked",(function(){return e.props.setMobileScreen(Fw)})),Bw(Dw(e),"_toFieldClicked",(function(){return e.props.setMobileScreen(Uw)})),Bw(Dw(e),"_mainPanelContentRef",a.a.createRef()),Bw(Dw(e),"_advancedSettingRef",a.a.createRef()),Bw(Dw(e),"handlePlanTripClick",(function(){var t=e.props,n=t.currentQuery,r=t.intl,i=t.routingQuery;eh(r,n,i,(function(){return e.setState({planTripClicked:!0})}))})),Bw(Dw(e),"openAdvancedSettings",(function(){e.setState({closeAdvancedSettingsWithDelay:!1,showAdvancedModeSettings:!0})})),Bw(Dw(e),"closeAdvancedSettings",(function(){e.setState({showAdvancedModeSettings:!1})})),Bw(Dw(e),"setCloseAdvancedSettingsWithDelay",(function(){e.setState({closeAdvancedSettingsWithDelay:!0})})),e}return t=o,(n=[{key:"render",value:function(){var e=this.props,t=e.geocoderResultsOrder,n=e.intl,r=this.state,i=r.planTripClicked,o=r.showAdvancedModeSettings,s=this.state.closeAdvancedSettingsWithDelay?300:0,l=c.i+s;return a.a.createElement(ea,null,a.a.createElement(Ea,{headerText:n.formatMessage({id:"components.BatchSearchScreen.header"})}),a.a.createElement("main",{tabIndex:-1},a.a.createElement(zw,{advancedPanelOpen:o,className:"batch-search-settings mobile-padding ".concat(o&&"advanced-mode-open"),transitionDelay:s,transitionDuration:c.i},a.a.createElement(c.d,{transitionDelay:s},a.a.createElement(Fm.a,{style:{display:"content"}},!o&&a.a.createElement(Um.a,{classNames:c.g,nodeRef:this._mainPanelContentRef,timeout:l},a.a.createElement("div",{ref:this._mainPanelContentRef,style:{display:"content"}},a.a.createElement(Ne,{geocoderResultsOrder:t,inputPlaceholder:n.formatMessage({id:"components.LocationSearch.setOrigin"}),isRequired:!0,locationType:"from",onTextInputClick:this._fromFieldClicked,selfValidate:i,showClearButton:!1}),a.a.createElement(Ne,{geocoderResultsOrder:t,inputPlaceholder:n.formatMessage({id:"components.LocationSearch.setDestination"}),isRequired:!0,locationType:"to",onTextInputClick:this._toFieldClicked,selfValidate:i,showClearButton:!1}),a.a.createElement("div",{className:"switch-button-container-mobile"},a.a.createElement(Ze,null)),a.a.createElement(Ev,{onPlanTripClick:this.handlePlanTripClick,openAdvancedSettings:this.openAdvancedSettings}))),o&&a.a.createElement(Um.a,{classNames:c.f,nodeRef:this._advancedSettingRef,timeout:{enter:c.i,exit:l}},a.a.createElement(Vv,{closeAdvancedSettings:this.closeAdvancedSettings,handlePlanTrip:this.handlePlanTripClick,innerRef:this._advancedSettingRef,setCloseAdvancedSettingsWithDelay:this.setCloseAdvancedSettingsWithDelay}))))),a.a.createElement("div",{className:"batch-search-map"},a.a.createElement(Xe.a,null))))}}])&&Nw(t.prototype,n),r&&Nw(t,r),o}(o.Component),Gw={routingQuery:je.O,setMobileScreen:J.j},Hw=Object(r.c)((function(e){return{currentQuery:e.otp.currentQuery,geocoderResultsOrder:e.otp.config.geocoder.geocoderResultsOrder}}),Gw)(Object(U.c)(Vw)),Ww=(n(204),n(228),n(249)),Yw=n(14),Qw=n.n(Yw),Zw=n(73),Xw=n(68);function Jw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jw(Object(n),!0).forEach((function(t){Kw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $w=function(e){var t,n=function(e){return Object(Xw.getModuleConfig)({otp:{config:e}},Xw.Modules.CALL_TAKER)}(e);if(n){var r={activeCall:null,callHistory:{calls:{data:[],status:wu.k.UNFETCHED},visible:null==n||null===(t=n.options)||void 0===t?void 0:t.showCallHistoryOnLoad},fieldTrip:{activeId:null,filter:{tab:"new"},groupSize:null,requests:{data:[],status:wu.k.UNFETCHED},travelDateTripsInUse:[],tripHashLookup:{},visible:!1},mailables:{visible:!1},session:null};return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"BEGIN_CALL":var i={id:Object(Ww.randId)(),searches:[],startTime:Object(N.getISOLikeTimestamp)(e.homeTimezone)};return Qw()(t,{activeCall:{$set:i},callHistory:{visible:{$set:!0}}});case"REQUESTING_CALLS":return Qw()(t,{callHistory:{calls:{status:{$set:wu.k.FETCHING}}}});case"RECEIVED_CALLS":var o=n.payload.calls,a={data:o.sort(Zw.a),status:wu.k.FETCHED};return Qw()(t,{callHistory:{calls:{$set:a}}});case"REQUESTING_FIELD_TRIPS":return Qw()(t,{fieldTrip:{requests:{status:{$set:wu.k.FETCHING}}}});case"RECEIVED_FIELD_TRIPS":var s=n.payload.fieldTrips,l={data:s.sort(Zw.a),status:wu.k.FETCHED};return Qw()(t,{fieldTrip:{requests:{$set:l}}});case"SET_FIELD_TRIP_FILTER":return Qw()(t,{fieldTrip:{filter:{$merge:n.payload}}});case"SET_GROUP_SIZE":return Qw()(t,{fieldTrip:{groupSize:{$set:n.payload}}});case"SET_ACTIVE_FIELD_TRIP":return Qw()(t,{fieldTrip:{activeId:{$set:n.payload},groupSize:{$set:null}}});case"RECEIVED_FIELD_TRIP_DETAILS":var c=n.payload.fieldTrip,u=t.fieldTrip.requests.data.findIndex((function(e){return e.id===c.id}));return Qw()(t,{fieldTrip:{requests:{data:Kw({},u,{$set:c})}}});case"RECEIVED_TRAVEL_DATE_TRIPS":return Qw()(t,{fieldTrip:{travelDateTripsInUse:{$set:n.payload}}});case"RECEIVE_TRIP_HASH":var d=n.payload,f=d.hash,p=d.tripId;return Qw()(t,{fieldTrip:{tripHashLookup:Kw({},p,{$set:f})}});case"CLEAR_SAVEABLE":return Qw()(t,{fieldTrip:{saveable:{$set:{}}}});case"SET_SAVEABLE":var m=Kw({},n.payload?"outbound":"inbound",!0);return Qw()(t,{fieldTrip:{saveable:{$set:m}}});case"RECEIVED_QUERIES":var h=n.payload,g=h.callId,y=h.queries,v=t.callHistory.calls.data,b=v.findIndex((function(e){return e.id===g})),w=qw(qw({},v[b]),{},{queries:y});return Qw()(t,{callHistory:{calls:{data:Kw({},b,{$set:w})}}});case"ROUTING_RESPONSE":var x=n.payload.searchId;return!t.activeCall||t.callHistory.visible&&-1!==x.indexOf("_CALL")?t:Qw()(t,{activeCall:{searches:{$push:[x]}}});case"STORE_SESSION":var E=n.payload.session;if(!E||!E.username){var _=E?E.sessionId:"N/A";return window.alert("Session ID ".concat(_," is invalid!")),Qw()(t,{session:{$set:null}})}return Qw()(t,{session:{$set:E}});case"TOGGLE_CALL_HISTORY":return Qw()(t,{callHistory:{visible:{$set:!t.callHistory.visible}}});case"TOGGLE_FIELD_TRIPS":return Qw()(t,{fieldTrip:{activeId:{$set:null},visible:{$set:!t.fieldTrip.visible}}});case"TOGGLE_MAILABLES":return Qw()(t,{mailables:{visible:{$set:!t.mailables.visible}}});case"END_CALL":return Qw()(t,{activeCall:{$set:null}});default:return t}}}},ex=n(373),tx=n.n(ex),nx=n(336),rx=n.n(nx);function ix(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ux(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ox(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ax(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ox(Object(n),!0).forEach((function(t){lx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ox(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||ux(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cx(e){return function(e){if(Array.isArray(e))return dx(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ux(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ux(e,t){if(e){if("string"==typeof e)return dx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dx(e,t):void 0}}function dx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var fx=i.default.profile.filterProfileOptions,px=i.default.query.getUrlParams,mx=i.default.storage.getItem,hx=i.default.time.getUserTimezone;var gx=function(e){var t=function(e){var t,n,r,i,o=Object.assign({autoPlan:{default:"ONE_LOCATION_CHANGED",mobile:"BOTH_LOCATIONS_CHANGED"},debouncePlanTimeMs:0,language:{},onTimeThresholdSeconds:60,realtimeEffectsDisplayThreshold:120,routingTypes:[],stopViewer:{showBlockIds:!1},transitOperators:[]},e);o.homeTimezone||(o.homeTimezone=hx(),console.warn("Config value 'homeTimezone' not configured for this webapp!\n\n      This value is recommended in order to properly display stop times for\n      users that are not in the timezone that the transit system is in. The\n      detected user timezone of '".concat(o.homeTimezone,"' will be used. Hopefully\n      that is the right one..."))),o.phoneFormatOptions||(o.phoneFormatOptions={}),o.phoneFormatOptions.countryCode||(o.phoneFormatOptions.countryCode="US");var a=mx("defaultQuery",{}),s=Object.assign(Object(ih.e)(o),a),l=Object.assign(s,e.initialQuery),c=window.sessionStorage.getItem("routerId");c&&(o.api.originalPath=e.api.path,o.api.path="/otp/routers/".concat(c));var u=th.k;(null===(t=u)||void 0===t?void 0:t.length)||(u=[]);var d=null==o||null===(n=o.modes)||void 0===n?void 0:n.transitModes.map((function(e){var t=e.mode,n=e.overrideMode;Array.isArray(t)&&!n&&console.warn("Mode ".concat(t," is an array, but no overrideMode is specified."));var r=n||t;return{addTransportMode:Array.isArray(t)?t.map((function(e){return{mode:e}})):{mode:t},applicableMode:"TRANSIT",default:!0,iconName:r.toLowerCase(),key:r.toLowerCase(),overrideMode:n,type:"SUBMODE"}})),f=[].concat(cx(u),cx((null==o||null===(r=o.modes)||void 0===r?void 0:r.modeSettingDefinitions)||[]),cx(d||[])),p=new URLSearchParams(px()).get("sessionId");return{activeSearchId:0,config:o,currentQuery:l,filter:{sort:{direction:"ASC",type:(null===(i=o.itinerary)||void 0===i?void 0:i.defaultSort)||"BEST"}},initialUrl:"".concat(window.location.pathname).concat(p?"?sessionId=".concat(p):""),lastActionMillis:0,location:{currentPosition:{coords:null,error:null,fetching:!1},nearbyStops:[],sessionSearches:[]},modeSettingDefinitions:f,overlay:{bikeRental:{stations:[]},carRental:{stations:[]},parkAndRide:{locations:null},transit:{stops:[]},transitive:null,vehicleRental:{stations:[]},zipcar:{locations:[]}},searches:{},tnc:{etaEstimates:{},rideEstimates:{}},transitIndex:{routes:{},routesFetchStatus:wu.k.UNFETCHED,stops:{},trips:{}},ui:{diagramLeg:null,errors:{networkConnectionLost:!navigator.onLine},locale:null,localizedMessages:null,mainPanelContent:null,mobileScreen:yn.b.WELCOME_SCREEN,popup:{id:null},printView:-1!==window.location.href.indexOf("/print/"),routeViewer:{filter:{agency:null,mode:null,search:""}}}}}(e);return function(e){var t=e.config,n=[];if(rx.a.get(t,"persistence.enabled")&&rx.a.get(t,"persistence.strategy")===wu.m&&"ARCGIS"===rx.a.get(t,"geocoder.type")&&n.push(new Error("Local Storage persistence and ARCGIS geocoder cannot be enabled at the same time!")),n.length>0)throw new Error(n.reduce((function(e,t){return"".concat(e,"\n- ").concat(t.message)}),"Encountered the following configuration errors:"))}(t),function(){var n,r,o,a,s,l,c,u,d,f,p,m,h,g,y,v,b,w,x,E,_,A,O,S,T,I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,k=arguments.length>1?arguments[1]:void 0,C=wu.r.includes(k.type)?I:Qw()(I,{lastActionMillis:{$set:(new Date).valueOf()}}),M=k.payload&&k.payload.searchId,j=k.payload&&k.payload.requestId,L=C.searches[M],R=Object(N.getISOLikeTimestamp)(e.homeTimezone);switch(k.type){case"ROUTING_REQUEST":var D=k.payload,P=D.activeItinerary,B=D.pending,F=D.updateSearchInReducer,U=F?{activeItinerary:{$set:P},activeLeg:{$set:null},activeStep:{$set:null},pending:{$set:B},query:{$set:Ft()(C.currentQuery)},timestamp:{$set:R}}:{$set:{activeItinerary:P,activeLeg:null,activeStep:null,pending:B,query:Ft()(C.currentQuery),response:[],timestamp:R}};return Qw()(C,{activeSearchId:{$set:M},searches:lx({},M,U)});case"ROUTING_ERROR":return M?Qw()(C,{searches:lx({},M,{pending:{$set:(null==L?void 0:L.pending)-1},response:{$push:[{error:k.payload.error,requestId:j,url:k.payload.url}]}})}):C;case"ROUTING_RESPONSE":var z="PROFILE"===C.currentQuery.routingType?fx(k.payload.response):k.payload.response;return z.requestId=j,z.plan.itineraries=null===(n=z.plan)||void 0===n||null===(r=n.itineraries)||void 0===r?void 0:r.map((function(e){return Object(zt.applyRouteModeOverrides)(e,C.config.routeModeOverrides),e})),Qw()(C,{searches:lx({},M,{pending:{$set:(null==L?void 0:L.pending)-1},response:void 0!==k.payload.index?(null===(o=C.searches[M].response)||void 0===o?void 0:o[k.payload.index])?lx({},k.payload.index,{plan:{itineraries:{$push:cx(z.plan.itineraries)}}}):lx({},k.payload.index,{$set:z}):{$push:[z]}}),ui:{diagramLeg:{$set:null}}});case"NON_REALTIME_ROUTING_RESPONSE":return Qw()(C,{searches:lx({},M,{nonRealtimeResponse:{$set:k.payload.response}})});case"SET_PENDING_REQUESTS":return Qw()(C,{searches:lx({},M,{pending:{$set:null===(a=k.payload)||void 0===a?void 0:a.pending}})});case"SET_ACTIVE_ITINERARIES":var V={};return Object.entries(k.payload.assignedItinerariesByResponse).forEach((function(e){var t=sx(e,2),n=t[0],r=t[1];V[n]={plan:{itineraries:Object.entries(r).reduce((function(e,t){var n=sx(t,2),r=n[0],i=n[1];return e[r]={$set:i},e}),{})}}})),Qw()(C,{searches:lx({},M,{response:V})});case"SET_ACTIVE_ITINERARIES_FROM_FIELD_TRIP":return Qw()(C,{activeSearchId:{$set:M},searches:lx({},M,{$set:{activeItinerary:0,activeLeg:null,activeStep:null,pending:0,query:Ft()(C.currentQuery),response:k.payload.response,timestamp:R}}),ui:{diagramLeg:{$set:null}}});case"BIKE_RENTAL_REQUEST":return Qw()(C,{overlay:{bikeRental:{error:{$set:null},pending:{$set:!0}}}});case"BIKE_RENTAL_ERROR":return Qw()(C,{overlay:{bikeRental:{error:{$set:k.payload},pending:{$set:!1}}}});case"BIKE_RENTAL_RESPONSE":return Qw()(C,{overlay:{bikeRental:{pending:{$set:!1},stations:{$set:k.payload.stations}}}});case"CAR_RENTAL_ERROR":return Qw()(C,{overlay:{carRental:{error:{$set:k.payload},pending:{$set:!1}}}});case"CAR_RENTAL_RESPONSE":return Qw()(C,{overlay:{carRental:{pending:{$set:!1},stations:{$set:k.payload.stations}}}});case"VEHICLE_RENTAL_ERROR":return Qw()(C,{overlay:{vehicleRental:{error:{$set:k.payload},pending:{$set:!1}}}});case"VEHICLE_RENTAL_RESPONSE":return Qw()(C,{overlay:{vehicleRental:{pending:{$set:!1},stations:{$set:k.payload.stations}}}});case"SET_ACTIVE_ITINERARY":return null!==C.activeSearchId?Qw()(C,{searches:lx({},C.activeSearchId,{activeItinerary:{$set:k.payload.index},activeLeg:{$set:null},activeStep:{$set:null},visibleItinerary:{$set:null}})}):C;case"SET_VISIBLE_ITINERARY":return null!==C.activeSearchId?Qw()(C,{searches:lx({},C.activeSearchId,{visibleItinerary:{$set:k.payload.index}})}):C;case"SET_ACTIVE_LEG":return null!==C.activeSearchId?Qw()(C,{searches:lx({},C.activeSearchId,{activeLeg:{$set:k.payload.index},activeStep:{$set:null}})}):C;case"SET_ACTIVE_STEP":return null!==C.activeSearchId?Qw()(C,{searches:lx({},C.activeSearchId,{activeStep:{$set:k.payload.index}})}):C;case"SET_LOCATION":return Qw()(C,{currentQuery:lx({},null===(s=k.payload)||void 0===s?void 0:s.locationType,{$set:null===(l=k.payload)||void 0===l?void 0:l.location})});case"CLEAR_LOCATION":return Qw()(C,{currentQuery:lx({},k.payload.locationType,{$set:null})});case"SET_QUERY_PARAM":return Qw()(C,{currentQuery:{$merge:k.payload}});case"CLEAR_ACTIVE_SEARCH":return Qw()(C,{activeSearchId:{$set:null}});case"SET_ACTIVE_SEARCH":return Qw()(C,{activeSearchId:{$set:k.payload}});case"SET_AUTOPLAN":return Qw()(C,{config:{autoPlan:{$set:k.payload.autoPlan}}});case"SET_ROUTER_ID":var G=k.payload,H=e.api.originalPath||e.api.path||"/otp/routers/default",W=G?"/otp/routers/".concat(G):H;return G?window.sessionStorage.setItem("routerId",G):window.sessionStorage.removeItem("routerId"),Qw()(C,{config:{api:{originalPath:{$set:H},path:{$set:W}}}});case"SET_LEG_DIAGRAM":return Qw()(C,{ui:{diagramLeg:{$set:k.payload},mapillaryId:{$set:!1}}});case"SET_MAPILLARY_ID":return Qw()(C,{ui:{diagramLeg:{$set:!1},mapillaryId:{$set:k.payload}}});case"SET_ELEVATION_POINT":return Qw()(C,{ui:{elevationPoint:{$set:k.payload}}});case"SET_MAP_POPUP_LOCATION":return!(null==k||null===(c=k.payload)||void 0===c||null===(u=c.location)||void 0===u?void 0:u.name)||null!==(null===(d=C.ui)||void 0===d?void 0:d.mapPopupLocation)&&i.default.map.matchLatLon(C.ui.mapPopupLocation,k.payload.location)?Qw()(C,{ui:{mapPopupLocation:{$set:k.payload.location}}}):C;case"POSITION_FETCHING":return Qw()(C,{location:{currentPosition:{$merge:{fetching:k.payload.type}}}});case"POSITION_ERROR":return Qw()(C,{location:{currentPosition:{$set:k.payload}}});case"POSITION_RESPONSE":return Qw()(C,{location:{currentPosition:{$set:k.payload.position}}});case"ADD_LOCATION_SEARCH":return Qw()(C,{location:{sessionSearches:{$unshift:[k.payload.location]}}});case"NEARBY_STOPS_RESPONSE":var Y=k.payload,Q=Y.focusStopId,Z=Y.stops,X={};Z.forEach((function(e){X[e.id]=e}));var J=Z.map((function(e){return e.id})).filter((function(e){return Q!==e}));return Q?(delete X[Q],Qw()(C,{transitIndex:{stops:lx({$merge:X},Q,{$merge:{nearbyStops:J}})}})):Qw()(C,{location:{nearbyStops:{$set:J}},transitIndex:{stops:{$merge:X}}});case"STOPS_WITHIN_BBOX_RESPONSE":return Qw()(C,{overlay:{transit:{pending:{$set:!1},stops:{$set:null==k||null===(f=k.payload)||void 0===f?void 0:f.stops}}}});case"REALTIME_VEHICLE_POSITIONS_RESPONSE":return(null===(p=k.payload)||void 0===p?void 0:p.vehicles)?Qw()(C,{transitIndex:{routes:lx({},k.payload.routeId,{vehicles:{$set:k.payload.vehicles}})}}):C;case"CLEAR_STOPS_OVERLAY":return Qw()(C,{overlay:{transit:{pending:{$set:!1},stops:{$set:[]}}}});case"SET_MOBILE_SCREEN":return Qw()(C,{ui:{mobileScreen:{$set:k.payload}}});case"SET_MAIN_PANEL_CONTENT":return Qw()(C,{ui:{mainPanelContent:{$set:k.payload}}});case"SET_VIEWED_STOP":return null!==(null==k?void 0:k.payload)?Qw()(C,{ui:{mainPanelContent:{$set:yn.a.STOP_VIEWER},viewedStop:{$set:k.payload}}}):Qw()(C,{ui:{viewedStop:{$set:k.payload}}});case"SET_NEARBY_COORDS":return null!==(null==k?void 0:k.payload)?Qw()(C,{ui:{mainPanelContent:{$set:yn.a.NEARBY_VIEW},nearbyViewCoords:{$set:k.payload}}}):Qw()(C,{ui:{nearbyViewCoords:{$set:null}}});case"CLEAR_VIEWED_STOP":return Qw()(C,{ui:{viewedStop:{$set:null}}});case"SET_VIEWED_TRIP":return Qw()(C,{ui:{viewedTrip:{$set:k.payload}}});case"CLEAR_VIEWED_TRIP":return Qw()(C,{ui:{viewedTrip:{$set:null}}});case"SET_HIGHLIGHTED_LOCATION":return Qw()(C,{ui:{highlightedLocation:{$set:k.payload}}});case"SET_VIEWED_ROUTE":if(k.payload){var q=k.payload.patternId?yn.a.PATTERN_VIEWER:yn.a.ROUTE_VIEWER;return Qw()(C,{ui:{mainPanelContent:{$set:q},viewedRoute:{$set:k.payload}}})}return Qw()(C,{ui:{viewedRoute:{$set:k.payload}}});case"FETCH_NEARBY_RESPONSE":return Qw()(C,{transitIndex:{nearby:{$set:k.payload}}});case"FETCH_NEARBY_ERROR":return Qw()(C,{transitIndex:{nearby:{$set:{error:k.payload}}}});case"FIND_TRIP_RESPONSE":return Qw()(C,{transitIndex:{trips:lx({},k.payload.id,{$set:k.payload})}});case"FIND_STOPS_FOR_TRIP_RESPONSE":return Qw()(C,{transitIndex:{trips:lx({},k.payload.tripId,{stops:{$set:null===(m=k.payload)||void 0===m?void 0:m.stops}})}});case"FIND_STOPS_FOR_PATTERN_RESPONSE":var K=(null==k||null===(h=k.payload)||void 0===h?void 0:h.stops)||[];return Qw()(C,{transitIndex:{routes:lx({},(null==k||null===(g=k.payload)||void 0===g?void 0:g.routeId)||"null",{patterns:lx({},k.payload.patternId,{stops:{$set:K}})})}});case"FIND_STOP_TIMES_FOR_TRIP_RESPONSE":return(null===(y=k.payload)||void 0===y?void 0:y.tripId)&&(null===(v=k.payload)||void 0===v?void 0:v.stopTimes)?Qw()(C,{transitIndex:{trips:lx({},k.payload.tripId,{stopTimes:{$set:k.payload.stopTimes}})}}):C;case"FIND_GEOMETRY_FOR_TRIP_RESPONSE":return Qw()(C,{transitIndex:{trips:lx({},k.payload.tripId,{geometry:{$set:k.payload.geometry}})}});case"FETCHING_STOP_TIMES_FOR_STOP":return(null==C||null===(b=C.transitIndex)||void 0===b?void 0:b.stops)&&(null===(w=k.payload)||void 0===w?void 0:w.stopId)?(null==C||null===(x=C.transitIndex)||void 0===x||null===(E=x.stops)||void 0===E?void 0:E[null===(_=k.payload)||void 0===_?void 0:_.stopId])?Qw()(C,{transitIndex:{stops:lx({},k.payload.stopId,{fetchStatus:{$set:wu.k.FETCHING}})}}):Qw()(C,{transitIndex:{stops:{$merge:lx({},k.payload.stopId,{fetchStatus:wu.k.FETCHING})}}}):C;case"FIND_STOP_TIMES_FOR_STOP_RESPONSE":return(null==C||null===(A=C.transitIndex)||void 0===A?void 0:A.stops)&&(null===(O=k.payload)||void 0===O?void 0:O.gtfsId)?Qw()(C,{transitIndex:{stops:lx({},k.payload.gtfsId,{$set:k.payload})}}):C;case"FINDING_ROUTES":return Qw()(C,{transitIndex:{routesFetchStatus:{$set:wu.k.FETCHING}}});case"FIND_ROUTES_RESPONSE":return C.transitIndex.routes?Qw()(C,{transitIndex:{routes:{$merge:tx()(k.payload,C.transitIndex.routes)}}}):Qw()(C,{transitIndex:{routes:{$set:k.payload},routesFetchStatus:{$set:wu.k.FETCHED}}});case"FINDING_ROUTE":return C.transitIndex.routes?C.transitIndex.routes[k.payload]?Qw()(C,{transitIndex:{routes:lx({},k.payload,{$merge:{pending:!0}})}}):Qw()(C,{transitIndex:{routes:lx({},k.payload,{$set:{pending:!0}})}}):Qw()(C,{transitIndex:{routes:{$set:lx({},k.payload,{pending:!0})}}});case"FIND_ROUTE_RESPONSE":return C.transitIndex.routes?C.transitIndex.routes[k.payload.id]?Qw()(C,{transitIndex:{routes:lx({},k.payload.id,{$merge:ax(ax({},k.payload),{},{pending:!1})})}}):Qw()(C,{transitIndex:{routes:lx({},k.payload.id,{$set:k.payload})}}):Qw()(C,{transitIndex:{routes:{$set:lx({},k.payload.id,k.payload)}}});case"FIND_PATTERNS_FOR_ROUTE_RESPONSE":var $=k.payload,ee=$.patterns,te=$.routeId;return C.transitIndex.routes?Qw()(C,{transitIndex:{routes:lx({},te,{patterns:{$set:ee}})}}):Qw()(C,{transitIndex:{routes:{$set:lx({},te,{patterns:ee})}}});case"FIND_GEOMETRY_FOR_PATTERN_RESPONSE":return Qw()(C,{transitIndex:{routes:lx({},k.payload.routeId,{patterns:lx({},k.payload.patternId,{geometry:{$set:k.payload.geometry}})})}});case"TNC_ETA_RESPONSE":return Qw()(C,{tnc:{etaEstimates:lx({},k.payload.from,(function(e){return e=Object.assign({},e),(k.payload.estimates||[]).forEach((function(t){e[t.company]||(e[t.company]={}),e[t.company][t.productId]=Object.assign({estimateTimestamp:new Date},t)})),e}))}});case"TNC_RIDE_RESPONSE":return Qw()(C,{tnc:{rideEstimates:lx({},k.payload.from,(function(e){e=Object.assign({},e);var t=k.payload,n=t.company,r=t.rideEstimate,i=t.to;return r?(e[i]||(e[i]={}),e[i][n]||(e[i][n]={}),e[i][n][r.rideType]=Object.assign({estimateTimestamp:new Date},r),e):e}))}});case"PARK_AND_RIDE_RESPONSE":return Qw()(C,{overlay:{parkAndRide:{locations:{$set:k.payload},pending:{$set:!1}}}});case"ZIPCAR_LOCATIONS_RESPONSE":return Qw()(C,{overlay:{zipcar:{locations:{$set:k.payload.locations},pending:{$set:!1}}}});case"UPDATE_OVERLAY_VISIBILITY":var ne,re=Ft()(C.config.map.overlays),ie=ix(k.payload);try{var oe=function(){var e,t,n=ne.value,r=n.overlay,i=n.visible,o=null===(e=r.companies)||void 0===e?void 0:e.join(","),a=null===(t=r.modes)||void 0===t?void 0:t.join(",");re.find((function(e){var t,r;return e.type===n.overlay.type&&(null===(t=e.companies)||void 0===t?void 0:t.join(","))===o&&(null===(r=e.modes)||void 0===r?void 0:r.join(","))===a})).visible=i};for(ie.s();!(ne=ie.n()).done;)oe()}catch(e){ie.e(e)}finally{ie.f()}return Qw()(C,{config:{map:{overlays:{$set:re}}}});case"UPDATE_ITINERARY_FILTER":return Qw()(C,{filter:{$set:k.payload}});case"SET_ITINERARY_VIEW":return Qw()(C,{ui:{itineraryView:{$set:k.payload}}});case"UPDATE_LOCALE":return Qw()(C,{ui:{locale:{$set:k.payload.locale},localizedMessages:{$set:k.payload.messages}}});case"UPDATE_ROUTE_VIEWER_FILTER":return Qw()(C,{ui:{routeViewer:{filter:{$merge:k.payload}}}});case"SET_POPUP_CONTENT":var ae=null===(S=C.config.popups)||void 0===S||null===(T=S.targets)||void 0===T?void 0:T[k.payload];return Qw()(C,{ui:{popup:{appendLocale:{$set:null==ae?void 0:ae.appendLocale},id:{$set:k.payload},modal:{$set:!1!==(null==ae?void 0:ae.modal)},url:{$set:null==ae?void 0:ae.url}}}});case"SET_NETWORK_CONNECTION_LOST":return Qw()(C,{ui:{errors:{networkConnectionLost:{$set:k.payload}}}});case"SERVICE_TIME_RANGE_REQUEST":return Qw()(C,{serviceTimeRange:{$set:{pending:!0}}});case"SERVICE_TIME_RANGE_RESPONSE":return Qw()(C,{serviceTimeRange:{$set:k.payload.data.serviceTimeRange}});case"SERVICE_TIME_RANGE_ERROR":return Qw()(C,{serviceTimeRange:{$set:{error:!0}}});default:return C}}};function yx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yx(Object(n),!0).forEach((function(t){xx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bx(e){return function(e){if(Array.isArray(e))return wx(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return wx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wx(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ex=i.default.map.matchLatLon,_x=i.default.query.getTripOptionsFromQuery,Ax=i.default.storage,Ox=Ax.getItem,Sx=Ax.removeItem,Tx=Ax.storeItem;function Ix(e,t,n,r,i,o){var a=Ft()(r.localUser[i]),s=a.findIndex(t);return-1!==s?a.splice(s,1,e):a.unshift(e),n&&(a=n(a)),"recent"===o?Tx(o,a.map(cu.e)):o&&Tx(o,a),Qw()(r,{localUser:xx({},i,{$set:a})})}function kx(e){var t=e.sort((function(e,t){return t.timestamp-e.timestamp}));return e.length>=5&&t.splice(5),t}function Cx(e,t,n,r){var i=t.localUser[n],o=i.findIndex((function(t){return t.id===e.id}));if(r){var a=Ft()(i);a.splice(o,1),Tx(r,a)}return-1!==o?Qw()(t,{localUser:xx({},n,{$splice:[[o,1]]})}):t}function Mx(e){var t=function(e){var t=e.locations,n=void 0===t?null:t,r=Ox("home"),i=Ox("work"),o=Ox("trackRecent",!1),a=Ox("recent",[]).map(cu.f),s=Ox("favoriteStops",[]).map(cu.f),l=Ox("recentSearches",[]),c=[r,i].filter((function(e){return e})).map(cu.f);n&&c.push.apply(c,bx(n.map((function(e){return vx(vx({},e),{},{type:"suggested"})}))));var u=Ox("defaultQuery",{}),d=Object.assign(Object(ih.e)(e),u);return{localUser:{defaults:_x(d),favoriteStops:s,recentPlaces:a,recentSearches:l,savedLocations:c,storeTripHistory:o}}}(e);return vx({accessToken:null,itineraryExistence:null,lastPhoneSmsRequest:{number:null,status:null,timestamp:new Date(0)},loggedInUser:null,loggedInUserMonitoredTrips:null,loggedInUserTripRequests:null,pathBeforeSignIn:null},t)}var Nx=function(e){var t=Mx(e);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_ACCESS_TOKEN":return Qw()(e,{accessToken:{$set:n.payload}});case"SET_CURRENT_USER":return Qw()(e,{loggedInUser:{$set:n.payload}});case"SET_CURRENT_USER_MONITORED_TRIPS":return Qw()(e,{loggedInUserMonitoredTrips:{$set:n.payload}});case"SET_CURRENT_USER_TRIP_REQUESTS":return Qw()(e,{loggedInUserTripRequests:{$set:n.payload}});case"SET_DEPENDENT_USER_INFO":return Qw()(e,{loggedInUser:{dependentsInfo:{$set:n.payload}}});case"SET_PATH_BEFORE_SIGNIN":return Qw()(e,{pathBeforeSignIn:{$set:n.payload}});case"SET_LAST_PHONE_SMS_REQUEST":return Qw()(e,{lastPhoneSmsRequest:{$set:n.payload}});case"SET_ITINERARY_EXISTENCE":return Qw()(e,{itineraryExistence:{$set:n.payload}});case"CLEAR_ITINERARY_EXISTENCE":return Qw()(e,{itineraryExistence:{$set:null}});case"DELETE_LOCAL_USER_RECENT_PLACE":return Cx(n.payload,e,"recentPlaces","recent");case"DELETE_LOCAL_USER_SAVED_PLACE":return Sx(n.payload),Cx(n.payload,e,"savedLocations");case"REMEMBER_LOCAL_USER_PLACE":var r=n.payload,i=r.location,o=r.type;switch(o){case"recent":return Ix(i,(function(e){return Ex(e,i)}),kx,e,"recentPlaces","recent");default:return Tx(o,i),Ix(i,(function(e){return e.type===o}),null,e,"savedLocations")}case"FORGET_STOP":return Cx(n.payload,e,"favoriteStops","favoriteStops");case"REMEMBER_STOP":var a=n.payload,s=a.id,l=a.lat,c=a.lon,u=a.name,d={icon:"bus",id:s,lat:l,lon:c,name:u,type:"stop"},f=Ft()(e.localUser.favoriteStops);if(f.length>=5)return window.alert("Cannot save more than ".concat(5," stops. Remove one before adding more.")),e;var p=f.findIndex((function(e){return e.id===d.id}));return-1!==p?(console.warn("Stop with id ".concat(d.id," already exists in favorites.")),e):(f.unshift(d),Tx("favoriteStops",f),Qw()(e,{localUser:{favoriteStops:{$set:f}}}));case"FORGET_SEARCH":return Cx(n.payload,e,"recentSearches","recentSearches");case"REMEMBER_SEARCH":return Ix(n.payload,(function(e){return ln()(e.query,n.payload.query)}),kx,e,"recentSearches","recentSearches");case"TOGGLE_TRACKING":Tx("trackRecent",n.payload);var m=Ft()(e.localUser.recentPlaces),h=Ft()(e.localUser.recentSearches);return n.payload||(m=[],h=[],Sx("recent"),Sx("recentSearches")),Qw()(e,{localUser:{recentPlaces:{$set:m},recentSearches:{$set:h},storeTripHistory:{$set:n.payload}}});case"TOGGLE_AUTO_REFRESH":return Tx("autoRefreshStopTimes",n.payload),Qw()(e,{localUser:{autoRefreshStopTimes:{$set:n.payload}}});case"CLEAR_DEFAULT_SETTINGS":return Sx("defaultQuery"),Qw()(e,{localUser:{defaults:{$set:null}}});case"STORE_DEFAULT_SETTINGS":return Tx("defaultQuery",n.payload),Qw()(e,{localUser:{defaults:{$set:n.payload}}});default:return e}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4),i=n.n(r),o=n(0),a=n(10),s=o.forwardRef((function(e,t){return o.createElement(a.a,i()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M416 208c0 45.9-14.9 88.3-40 122.7l126.6 126.7c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0s208 93.1 208 208zM208 352c79.5 0 144-64.5 144-144S287.5 64 208 64 64 128.5 64 208s64.5 144 144 144z"}))}));s.displayName="Search"},function(e,t,n){var r=n(198),i=n(348);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,n){(function(e,n){var r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",a="[object Array]",s="[object Boolean]",l="[object Date]",c="[object Error]",u="[object Function]",d="[object Map]",f="[object Number]",p="[object Object]",m="[object Promise]",h="[object RegExp]",g="[object Set]",y="[object String]",v="[object Symbol]",b="[object WeakMap]",w="[object ArrayBuffer]",x="[object DataView]",E=/^\[object .+?Constructor\]$/,_=/^(?:0|[1-9]\d*)$/,A={};A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A[o]=A[a]=A[w]=A[s]=A[x]=A[l]=A[c]=A[u]=A[d]=A[f]=A[p]=A[h]=A[g]=A[y]=A[b]=!1;var O="object"==typeof e&&e&&e.Object===Object&&e,S="object"==typeof self&&self&&self.Object===Object&&self,T=O||S||Function("return this")(),I=t&&!t.nodeType&&t,k=I&&"object"==typeof n&&n&&!n.nodeType&&n,C=k&&k.exports===I,M=C&&O.process,N=function(){try{return M&&M.binding&&M.binding("util")}catch(e){}}(),j=N&&N.isTypedArray;function L(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function R(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function D(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var P,B,F,U=Array.prototype,z=Function.prototype,V=Object.prototype,G=T["__core-js_shared__"],H=z.toString,W=V.hasOwnProperty,Y=(P=/[^.]+$/.exec(G&&G.keys&&G.keys.IE_PROTO||""))?"Symbol(src)_1."+P:"",Q=V.toString,Z=RegExp("^"+H.call(W).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),X=C?T.Buffer:void 0,J=T.Symbol,q=T.Uint8Array,K=V.propertyIsEnumerable,$=U.splice,ee=J?J.toStringTag:void 0,te=Object.getOwnPropertySymbols,ne=X?X.isBuffer:void 0,re=(B=Object.keys,F=Object,function(e){return B(F(e))}),ie=Ne(T,"DataView"),oe=Ne(T,"Map"),ae=Ne(T,"Promise"),se=Ne(T,"Set"),le=Ne(T,"WeakMap"),ce=Ne(Object,"create"),ue=De(ie),de=De(oe),fe=De(ae),pe=De(se),me=De(le),he=J?J.prototype:void 0,ge=he?he.valueOf:void 0;function ye(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ve(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function be(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function we(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new be;++t<n;)this.add(e[t])}function xe(e){var t=this.__data__=new ve(e);this.size=t.size}function Ee(e,t){var n=Fe(e),r=!n&&Be(e),i=!n&&!r&&Ue(e),o=!n&&!r&&!i&&We(e),a=n||r||i||o,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=s.length;for(var c in e)!t&&!W.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Re(c,l))||s.push(c);return s}function _e(e,t){for(var n=e.length;n--;)if(Pe(e[n][0],t))return n;return-1}function Ae(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ee&&ee in Object(e)?function(e){var t=W.call(e,ee),n=e[ee];try{e[ee]=void 0;var r=!0}catch(e){}var i=Q.call(e);r&&(t?e[ee]=n:delete e[ee]);return i}(e):function(e){return Q.call(e)}(e)}function Oe(e){return He(e)&&Ae(e)==o}function Se(e,t,n,r,i){return e===t||(null==e||null==t||!He(e)&&!He(t)?e!=e&&t!=t:function(e,t,n,r,i,u){var m=Fe(e),b=Fe(t),E=m?a:Le(e),_=b?a:Le(t),A=(E=E==o?p:E)==p,O=(_=_==o?p:_)==p,S=E==_;if(S&&Ue(e)){if(!Ue(t))return!1;m=!0,A=!1}if(S&&!A)return u||(u=new xe),m||We(e)?ke(e,t,n,r,i,u):function(e,t,n,r,i,o,a){switch(n){case x:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case w:return!(e.byteLength!=t.byteLength||!o(new q(e),new q(t)));case s:case l:case f:return Pe(+e,+t);case c:return e.name==t.name&&e.message==t.message;case h:case y:return e==t+"";case d:var u=R;case g:var p=1&r;if(u||(u=D),e.size!=t.size&&!p)return!1;var m=a.get(e);if(m)return m==t;r|=2,a.set(e,t);var b=ke(u(e),u(t),r,i,o,a);return a.delete(e),b;case v:if(ge)return ge.call(e)==ge.call(t)}return!1}(e,t,E,n,r,i,u);if(!(1&n)){var T=A&&W.call(e,"__wrapped__"),I=O&&W.call(t,"__wrapped__");if(T||I){var k=T?e.value():e,C=I?t.value():t;return u||(u=new xe),i(k,C,n,r,u)}}if(!S)return!1;return u||(u=new xe),function(e,t,n,r,i,o){var a=1&n,s=Ce(e),l=s.length,c=Ce(t).length;if(l!=c&&!a)return!1;var u=l;for(;u--;){var d=s[u];if(!(a?d in t:W.call(t,d)))return!1}var f=o.get(e);if(f&&o.get(t))return f==t;var p=!0;o.set(e,t),o.set(t,e);var m=a;for(;++u<l;){var h=e[d=s[u]],g=t[d];if(r)var y=a?r(g,h,d,t,e,o):r(h,g,d,e,t,o);if(!(void 0===y?h===g||i(h,g,n,r,o):y)){p=!1;break}m||(m="constructor"==d)}if(p&&!m){var v=e.constructor,b=t.constructor;v==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b||(p=!1)}return o.delete(e),o.delete(t),p}(e,t,n,r,i,u)}(e,t,n,r,Se,i))}function Te(e){return!(!Ge(e)||function(e){return!!Y&&Y in e}(e))&&(ze(e)?Z:E).test(De(e))}function Ie(e){if(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||V,t!==r)return re(e);var t,n,r,i=[];for(var o in Object(e))W.call(e,o)&&"constructor"!=o&&i.push(o);return i}function ke(e,t,n,r,i,o){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(e);if(c&&o.get(t))return c==t;var u=-1,d=!0,f=2&n?new we:void 0;for(o.set(e,t),o.set(t,e);++u<s;){var p=e[u],m=t[u];if(r)var h=a?r(m,p,u,t,e,o):r(p,m,u,e,t,o);if(void 0!==h){if(h)continue;d=!1;break}if(f){if(!L(t,(function(e,t){if(a=t,!f.has(a)&&(p===e||i(p,e,n,r,o)))return f.push(t);var a}))){d=!1;break}}else if(p!==m&&!i(p,m,n,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function Ce(e){return function(e,t,n){var r=t(e);return Fe(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,Ye,je)}function Me(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Ne(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Te(n)?n:void 0}ye.prototype.clear=function(){this.__data__=ce?ce(null):{},this.size=0},ye.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ye.prototype.get=function(e){var t=this.__data__;if(ce){var n=t[e];return n===r?void 0:n}return W.call(t,e)?t[e]:void 0},ye.prototype.has=function(e){var t=this.__data__;return ce?void 0!==t[e]:W.call(t,e)},ye.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ce&&void 0===t?r:t,this},ve.prototype.clear=function(){this.__data__=[],this.size=0},ve.prototype.delete=function(e){var t=this.__data__,n=_e(t,e);return!(n<0)&&(n==t.length-1?t.pop():$.call(t,n,1),--this.size,!0)},ve.prototype.get=function(e){var t=this.__data__,n=_e(t,e);return n<0?void 0:t[n][1]},ve.prototype.has=function(e){return _e(this.__data__,e)>-1},ve.prototype.set=function(e,t){var n=this.__data__,r=_e(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},be.prototype.clear=function(){this.size=0,this.__data__={hash:new ye,map:new(oe||ve),string:new ye}},be.prototype.delete=function(e){var t=Me(this,e).delete(e);return this.size-=t?1:0,t},be.prototype.get=function(e){return Me(this,e).get(e)},be.prototype.has=function(e){return Me(this,e).has(e)},be.prototype.set=function(e,t){var n=Me(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},we.prototype.add=we.prototype.push=function(e){return this.__data__.set(e,r),this},we.prototype.has=function(e){return this.__data__.has(e)},xe.prototype.clear=function(){this.__data__=new ve,this.size=0},xe.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},xe.prototype.get=function(e){return this.__data__.get(e)},xe.prototype.has=function(e){return this.__data__.has(e)},xe.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ve){var r=n.__data__;if(!oe||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new be(r)}return n.set(e,t),this.size=n.size,this};var je=te?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}(te(e),(function(t){return K.call(e,t)})))}:function(){return[]},Le=Ae;function Re(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||_.test(e))&&e>-1&&e%1==0&&e<t}function De(e){if(null!=e){try{return H.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Pe(e,t){return e===t||e!=e&&t!=t}(ie&&Le(new ie(new ArrayBuffer(1)))!=x||oe&&Le(new oe)!=d||ae&&Le(ae.resolve())!=m||se&&Le(new se)!=g||le&&Le(new le)!=b)&&(Le=function(e){var t=Ae(e),n=t==p?e.constructor:void 0,r=n?De(n):"";if(r)switch(r){case ue:return x;case de:return d;case fe:return m;case pe:return g;case me:return b}return t});var Be=Oe(function(){return arguments}())?Oe:function(e){return He(e)&&W.call(e,"callee")&&!K.call(e,"callee")},Fe=Array.isArray;var Ue=ne||function(){return!1};function ze(e){if(!Ge(e))return!1;var t=Ae(e);return t==u||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ve(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}function Ge(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function He(e){return null!=e&&"object"==typeof e}var We=j?function(e){return function(t){return e(t)}}(j):function(e){return He(e)&&Ve(e.length)&&!!A[Ae(e)]};function Ye(e){return null!=(t=e)&&Ve(t.length)&&!ze(t)?Ee(e):Ie(e);var t}n.exports=function(e,t){return Se(e,t)}}).call(this,n(93),n(219)(e))},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=n(29),a=n.n(o),s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function l(e){return"string"==typeof e&&"%"===e[e.length-1]&&function(e){const t=parseFloat(e);return!isNaN(t)&&isFinite(t)}(e.substring(0,e.length-1))}function c(e,t){0===t&&(null==e?void 0:e.style)&&(e.style.display="none")}const u={animating:"rah-animating",animatingUp:"rah-animating--up",animatingDown:"rah-animating--down",animatingToHeightZero:"rah-animating--to-height-zero",animatingToHeightAuto:"rah-animating--to-height-auto",animatingToHeightSpecific:"rah-animating--to-height-specific",static:"rah-static",staticHeightZero:"rah-static--height-zero",staticHeightAuto:"rah-static--height-auto",staticHeightSpecific:"rah-static--height-specific"};function d(e,t){return a()({[e.static]:!0,[e.staticHeightZero]:0===t,[e.staticHeightSpecific]:t>0,[e.staticHeightAuto]:"auto"===t})}t.default=e=>{var{animateOpacity:t=!1,animationStateClasses:n={},applyInlineTransitions:o=!0,children:f,className:p="",contentClassName:m,delay:h=0,duration:g=500,easing:y="ease",height:v,onHeightAnimationEnd:b,onHeightAnimationStart:w,style:x}=e,E=s(e,["animateOpacity","animationStateClasses","applyInlineTransitions","children","className","contentClassName","delay","duration","easing","height","onHeightAnimationEnd","onHeightAnimationStart","style"]);const _=Object(r.useRef)(v),A=Object(r.useRef)(null),O=Object(r.useRef)(),S=Object(r.useRef)(),T=Object(r.useRef)(Object.assign(Object.assign({},u),n)),I="undefined"!=typeof window,k=Object(r.useRef)(!(!I||!window.matchMedia)&&window.matchMedia("(prefers-reduced-motion)").matches),C=k.current?0:h,M=k.current?0:g;let N=v,j="visible";"number"==typeof N?(N=v<0?0:v,j="hidden"):l(N)&&(N="0%"===v?0:v,j="hidden");const[L,R]=Object(r.useState)(N),[D,P]=Object(r.useState)(j),[B,F]=Object(r.useState)(!1),[U,z]=Object(r.useState)(d(T.current,v));Object(r.useEffect)((()=>{c(A.current,L)}),[]),Object(r.useEffect)((()=>{if(v!==_.current&&A.current){!function(e,t){0===t&&(null==e?void 0:e.style)&&(e.style.display="")}(A.current,_.current),A.current.style.overflow="hidden";const e=A.current.offsetHeight;A.current.style.overflow="";const t=M+C;let n,r,i,o="hidden";const s="auto"===_.current;"number"==typeof v?(n=v<0?0:v,r=n):l(v)?(n="0%"===v?0:v,r=n):(n=e,r="auto",o=void 0),s&&(r=n,n=e);const u=a()({[T.current.animating]:!0,[T.current.animatingUp]:"auto"===_.current||v<_.current,[T.current.animatingDown]:"auto"===v||v>_.current,[T.current.animatingToHeightZero]:0===r,[T.current.animatingToHeightAuto]:"auto"===r,[T.current.animatingToHeightSpecific]:r>0}),f=d(T.current,r);R(n),P("hidden"),F(!s),z(u),clearTimeout(S.current),clearTimeout(O.current),s?(i=!0,S.current=setTimeout((()=>{R(r),P(o),F(i),null==w||w(r)}),50),O.current=setTimeout((()=>{F(!1),z(f),c(A.current,r),null==b||b(r)}),t)):(null==w||w(n),S.current=setTimeout((()=>{R(r),P(o),F(!1),z(f),"auto"!==v&&c(A.current,n),null==b||b(n)}),t))}return _.current=v,()=>{clearTimeout(S.current),clearTimeout(O.current)}}),[v]);const V=Object.assign(Object.assign({},x),{height:L,overflow:D||(null==x?void 0:x.overflow)});B&&o&&(V.transition=`height ${M}ms ${y} ${C}ms`,(null==x?void 0:x.transition)&&(V.transition=`${x.transition}, ${V.transition}`),V.WebkitTransition=V.transition);const G={};t&&(G.transition=`opacity ${M}ms ${y} ${C}ms`,G.WebkitTransition=G.transition,0===L&&(G.opacity=0));const H=void 0!==E["aria-hidden"]?E["aria-hidden"]:0===v;return i.a.createElement("div",Object.assign({},E,{"aria-hidden":H,className:`${U} ${p}`,style:V}),i.a.createElement("div",{className:m,style:G,ref:A},f))}},function(e,t,n){(function(t){var n="__lodash_hash_undefined__",r="[object Function]",i="[object GeneratorFunction]",o=/^\[object .+?Constructor\]$/,a="object"==typeof t&&t&&t.Object===Object&&t,s="object"==typeof self&&self&&self.Object===Object&&self,l=a||s||Function("return this")();var c,u=Array.prototype,d=Function.prototype,f=Object.prototype,p=l["__core-js_shared__"],m=(c=/[^.]+$/.exec(p&&p.keys&&p.keys.IE_PROTO||""))?"Symbol(src)_1."+c:"",h=d.toString,g=f.hasOwnProperty,y=f.toString,v=RegExp("^"+h.call(g).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),b=u.splice,w=I(l,"Map"),x=I(Object,"create");function E(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function _(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function A(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function O(e,t){for(var n,r,i=e.length;i--;)if((n=e[i][0])===(r=t)||n!=n&&r!=r)return i;return-1}function S(e){return!(!C(e)||(t=e,m&&m in t))&&(function(e){var t=C(e)?y.call(e):"";return t==r||t==i}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?v:o).test(function(e){if(null!=e){try{return h.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}function T(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function I(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return S(n)?n:void 0}function k(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(k.Cache||A),n}function C(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}E.prototype.clear=function(){this.__data__=x?x(null):{}},E.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},E.prototype.get=function(e){var t=this.__data__;if(x){var r=t[e];return r===n?void 0:r}return g.call(t,e)?t[e]:void 0},E.prototype.has=function(e){var t=this.__data__;return x?void 0!==t[e]:g.call(t,e)},E.prototype.set=function(e,t){return this.__data__[e]=x&&void 0===t?n:t,this},_.prototype.clear=function(){this.__data__=[]},_.prototype.delete=function(e){var t=this.__data__,n=O(t,e);return!(n<0)&&(n==t.length-1?t.pop():b.call(t,n,1),!0)},_.prototype.get=function(e){var t=this.__data__,n=O(t,e);return n<0?void 0:t[n][1]},_.prototype.has=function(e){return O(this.__data__,e)>-1},_.prototype.set=function(e,t){var n=this.__data__,r=O(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},A.prototype.clear=function(){this.__data__={hash:new E,map:new(w||_),string:new E}},A.prototype.delete=function(e){return T(this,e).delete(e)},A.prototype.get=function(e){return T(this,e).get(e)},A.prototype.has=function(e){return T(this,e).has(e)},A.prototype.set=function(e,t){return T(this,e).set(e,t),this},k.Cache=A,e.exports=k}).call(this,n(93))},function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return u}));var r=n(17),i=n(0),o=n(780),a=n(96);function s(e){Object(o.a)(e,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}var l=Object(r.a)(Object(r.a)({},a.a),{textComponent:i.Fragment});function c(e){return function(t){return e(i.Children.toArray(t))}}function u(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=Object.keys(e),r=Object.keys(t),i=n.length;if(r.length!==i)return!1;for(var o=0;o<i;o++){var a=n[o];if(e[a]!==t[a]||!Object.prototype.hasOwnProperty.call(t,a))return!1}return!0}},function(e,t,n){"use strict";var r="Invariant failed";t.a=function(e,t){if(!e)throw new Error(r)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(4),i=n.n(r),o=n(0),a=n.n(o),s=n(10),l=o.forwardRef((function(e,t){return o.createElement(s.a,i()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M386.3 160H336c-17.7 0-32 14.3-32 32s14.3 32 32 32h128c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32s-32 14.3-32 32v51.2l-17.6-17.6c-87.5-87.5-229.3-87.5-316.8 0s-87.5 229.3 0 316.8 229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3 163.8-62.5 226.3 0l17.2 17.2z"}))}));l.displayName="Redo";var c=n(20),u=function(){return a.a.createElement(c.c,{spin:!0},a.a.createElement(l,null))};t.b=function(e){var t=e.extraSmall,n=e.small;return a.a.createElement("div",{className:"text-center percy-hide loading-container"},a.a.createElement(c.c,{size:n?"3x":t?"1x":"5x",spin:!0},a.a.createElement(l,null)))}},function(e,t,n){"use strict";n.r(t),n.d(t,"Wheelchair",(function(){return s})),n.d(t,"WheelchairDimensions",(function(){return l}));var r=n(4),i=n.n(r),o=n(0),a=n(10),s=o.forwardRef((function(e,t){return o.createElement(a.a,i()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 100 100"},e,{ref:t}),o.createElement("path",{d:"M51.77 75.42a13.883 13.883 0 0 1-7.941 2.487c-7.706 0-13.954-6.248-13.954-13.954 0-2.952.922-5.686 2.487-7.94l-5.348-5.348a21.555 21.555 0 0 0-4.852 13.639c0 11.967 9.701 21.668 21.667 21.668 5.174 0 9.923-1.816 13.649-4.843L51.77 75.42z"}),o.createElement("circle",{cx:68.862,cy:21.181,r:7.152}),o.createElement("path",{d:"M73.35 45.582H57.609l8.977-8.978c.271-.215.515-.458.73-.729l.073-.073-.007-.007a4.448 4.448 0 0 0 .919-2.694 4.47 4.47 0 0 0-2.159-3.819l.001-.001L46.04 17.675l-.017.03a4.454 4.454 0 0 0-1.843-.405 4.456 4.456 0 0 0-2.986 1.16l-.006-.006-.06.06c-.077.072-.15.145-.222.222l-8.865 8.865.008.008a4.463 4.463 0 0 0-1.237 3.08 4.486 4.486 0 0 0 4.487 4.487 4.463 4.463 0 0 0 3.08-1.237l.008.008.081-.081.008-.008 6.457-6.457 5.514 3.184-13.011 13.012a21.568 21.568 0 0 0-6.854 3.582l5.307 5.307a13.882 13.882 0 0 1 7.94-2.487c7.707 0 13.954 6.248 13.954 13.954 0 2.952-.922 5.686-2.487 7.94l5.666 5.667a21.57 21.57 0 0 0 4.534-13.256c0-3.507-.838-6.816-2.317-9.746h5.683v18.371a4.488 4.488 0 1 0 8.976 0v-22.86a4.488 4.488 0 0 0-4.488-4.487z"}))}));s.displayName="Wheelchair";var l={height:100,width:100}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4),i=n.n(r),o=n(0),a=n(10),s=o.forwardRef((function(e,t){return o.createElement(a.a,i()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 320 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3l105.4 105.3c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256l105.3-105.4z"}))}));s.displayName="Times"},function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return p}));var r=n(12),i=n(315),o=n(41);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=Object(r.a)("ADD_LOCATION_SEARCH"),c=Object(r.a)("POSITION_ERROR"),u=Object(r.a)("POSITION_FETCHING"),d=Object(r.a)("POSITION_RESPONSE"),f="placeeditor";function p(e,t,n){return function(r){navigator.geolocation?(r(u({type:t})),navigator.geolocation.getCurrentPosition((function(i){i?(console.log("current loc",i,t),r(d({position:i})),t&&t!==f&&(console.log("setting location to current position"),r(Object(o.f)({locationType:t},e))),n&&n(i)):r(c({error:{message:e.formatMessage({id:"actions.location.unknownPositionError"})}}))}),(function(t){console.log("error getting current position",t),Object(i.isMobile)()||1!==t.code||window.alert(e.formatMessage({id:"actions.location.deniedAccessAlert"}));var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t);1===t.code&&("https:"===window.location.protocol||window.location.host.startsWith("localhost:"))&&(n.message=e.formatMessage({id:"actions.location.userDeniedPermission"})),r(c({error:n}))}),{enableHighAccuracy:!0})):(console.log("current position not supported"),r(c({error:{message:e.formatMessage({id:"actions.location.geolocationNotSupportedError"})}})))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(154),i=n(3);function o(e,t){Object(i.a)(2,arguments);var n=Object(r.a)(e),o=Object(r.a)(t);return n.getTime()===o.getTime()}},function(e,t,n){"use strict";var r=n(331);t.a=r.a},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}};function i(e){return e?r[e]:r.trunc}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(5),i=n(3),o=n(11),a=n(53);function s(e,t){var n,s,l,c,u,d,f,p;Object(i.a)(1,arguments);var m=Object(a.a)(),h=Object(o.a)(null!==(n=null!==(s=null!==(l=null!==(c=null==t?void 0:t.weekStartsOn)&&void 0!==c?c:null==t||null===(u=t.locale)||void 0===u||null===(d=u.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==l?l:m.weekStartsOn)&&void 0!==s?s:null===(f=m.locale)||void 0===f||null===(p=f.options)||void 0===p?void 0:p.weekStartsOn)&&void 0!==n?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=Object(r.a)(e),y=g.getUTCDay(),v=(y<h?7:0)+y-h;return g.setUTCDate(g.getUTCDate()-v),g.setUTCHours(0,0,0,0),g}},function(e,t,n){"use strict";var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.getTransitOperatorFromFeedIdAndAgencyId=o,t.getTransitOperatorFromLeg=function(e,t){if(!e.routeId||!e.agencyId)return null;return o(e.routeId.split(":")[0],e.agencyId,t)},t.getTransitOperatorFromOtpRoute=a,t.makeNumericValueComparator=g,t.makeStringValueComparator=y,t.makeRouteComparator=function(e){return function(...e){return(t,n)=>{for(let r=0;r<e.length;r++){const i=e[r](t,n);if(0!==i)return i}return 0}}(function(e){return(t,n)=>{const r=l(t,e),i=l(n,e);return"string"==typeof r?r<i?-1:r>i?1:0:r-i}}(e),g((e=>{return-999===(t=e.sortOrder)?void 0:t;var t})),p,h,g((e=>parseInt(e.shortName,10))),y((e=>e.shortName)),y((e=>e.longName)))},t.getMostReadableTextColor=function(e,t){e||(e="#333333");t||(t="#ffffff");e.startsWith("#")||(e=`#${e}`);t.startsWith("#")||(t=`#${t}`);const n=(0,i.default)(t).luminance(),r=(0,i.default)(e).luminance();if(r+n<1.41&&r+n>.25&&Math.abs(r-n)>.2)return t;return(0,i.default)(e).luminance()<.4?"#ffffff":"#000000"};var i=r(n(108));function o(e,t,n){return n.find((n=>n.feedId===e&&n.agencyId===t))||null}function a(e,t){if(!e.id)return null;const n=e.id.split(":")[0];let r;if(e.agency)r=e.agency.id;else{if(!e.agencyId)return null;r=e.agencyId}return o(n,r,t)}const s=999999999999;function l(e,t){if(!t||0===t.length)return e.agency?e.agency.name:e.agencyName?e.agencyName:"zzz";const n=a(e,t);return n&&"number"==typeof n.order?n.order:s}function c(e,t,n){let r,i;return"function"==typeof e?(r=e(t),i=e(n)):(r=t,i=n),{aVal:r,bVal:i}}const u={SUBWAY:1,TRAM:2,TROLLEYBUS:9,RAIL:3,GONDOLA:4,FERRY:5,CABLE_CAR:6,FUNICULAR:7,BUS:8},d={0:u.TRAM,1:u.SUBWAY,2:u.RAIL,3:u.BUS,4:u.FERRY,5:u.CABLE_CAR,6:u.GONDOLA,7:u.FUNICULAR,11:u.BUS,12:u.RAIL,13:u.TROLLEYBUS};function f(e){if(!e)throw new Error(`Route is undefined. ${e}`);return void 0!==u[e.mode]?u[e.mode]:void 0!==d[e.type]?d[e.type]:(console.warn("no mode/route type found for route",e),s)}function p(e,t){return f(e)-f(t)}function m(e){if("string"==typeof e&&e.length>0){const t=e.charCodeAt(0);return t>=65&&t<=90||t>=97&&t<=122}return!1}function h(e,t){const n=m(e.shortName),r=m(t.shortName);return n&&r?0:n?-1:r?1:0}function g(e){return(t,n)=>{const{aVal:r,bVal:i}=c(e,t,n);return"number"!=typeof r||"number"!=typeof i||isNaN(r)&&isNaN(i)?0:isNaN(r)?1:isNaN(i)?-1:r-i}}function y(e){return(t,n)=>{const{aVal:r,bVal:i}=c(e,t,n);return r||i?r?i?r<i?-1:r>i?1:0:-1:1:0}}},function(e,t,n){"use strict";n.d(t,"f",(function(){return m})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return y})),n.d(t,"c",(function(){return w})),n.d(t,"b",(function(){return x})),n.d(t,"a",(function(){return E}));var r,i,o,a,s,l,c,u,d=n(26),f=n(1);function p(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var m=51,h=Object(f.css)(r||(r=p(["\n  /* Make elements internal content slightly transparent on hover. */\n  & > * {\n    opacity: 90%;\n  }\n"]))),g=Object(f.css)(i||(i=p(["\n  transition: all 250ms ease-out;\n"]))),y=Object(f.css)(o||(o=p(["\n  box-shadow: rgba(0, 0, 0, 0.15) 0 0 20px;\n"]))),v=Object(f.css)(a||(a=p(["\n  border-radius: 5px;\n  border: 0px;\n  height: ","px;\n  margin: 0px;\n  width: ","px;\n  ","\n\n  &:active {\n    background: ",";\n  }\n\n  &:hover {\n    ","\n  }\n\n  svg {\n    max-height: 36px;\n  }\n"])),m,m,g,d.j[50],y),b=f.default.button(s||(s=p(["\n  ","\n"])),v),w=Object(f.default)(b)(l||(l=p(["\n  background-color: green;\n  color: #ffffffdd;\n  padding: 5px;\n\n  &:active {\n    ","\n    background: green;\n    filter: saturate(50%);\n  }\n\n  span {\n    display: inline-block;\n    margin-top: -5px;\n  }\n"])),h),x=f.default.div(c||(c=p(["\n  align-items: flex-start;\n  display: flex;\n  float: right;\n  justify-content: space-between;\n  width: 100%;\n\n  "," {\n    border-bottom-left-radius: ",";\n    border-top-left-radius: ",";\n    margin-top: 0px;\n    margin-left: ",";\n  }\n  label:last-of-type {\n    border-bottom-right-radius: ",";\n    border-top-right-radius: ",";\n  }\n  fieldset {\n    gap: 0 2px;\n    margin: 0 2px 0 0;\n\n    input {\n      margin: 0;\n    }\n  }\n"])),w,(function(e){return e.squashed?0:"invalid"}),(function(e){return e.squashed?0:"invalid"}),(function(e){return e.squashed?0:"3px"}),(function(e){return e.squashed?0:"invalid"}),(function(e){return e.squashed?0:"invalid"})),E=f.default.div(u||(u=p(["\n  align-items: top;\n  display: flex;\n  flex-flow: wrap;\n  gap: 5px 0;\n  justify-content: space-between;\n  margin-bottom: 5px;\n\n  label {\n    /* Cancel bottom margin of bootstrap labels in mode selector. */\n    margin-bottom: 0;\n  }\n"])))},function(e,t){var n=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=n)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(151),i=n(3),o=n(11);function a(e,t){Object(i.a)(2,arguments);var n=Object(o.a)(t);return Object(r.a)(e,-n)}},function(e,t,n){"use strict";var r=n(178),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(m){var i=p(n);i&&i!==m&&e(t,i,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var s=l(t),h=l(n),g=0;g<a.length;++g){var y=a[g];if(!(o[y]||r&&r[y]||h&&h[y]||s&&s[y])){var v=f(n,y);try{c(t,y,v)}catch(e){}}}}return t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(45),i=n(158);function o(e,t,n,o){void 0===o&&(o={});var a=Object(i.a)(e),s=Object(r.a)(a[0]),l=Object(r.a)(a[1]),c=Object(r.a)(n),u=Object(r.e)(t,o.units),d=Math.asin(Math.sin(l)*Math.cos(u)+Math.cos(l)*Math.sin(u)*Math.cos(c)),f=s+Math.atan2(Math.sin(c)*Math.sin(u)*Math.cos(l),Math.cos(u)-Math.sin(l)*Math.sin(d)),p=Object(r.i)(f),m=Object(r.i)(d);return Object(r.g)([p,m],o.properties)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(5),i=n(3);function o(e){Object(i.a)(1,arguments);var t=1,n=Object(r.a)(e),o=n.getUTCDay(),a=(o<t?7:0)+o-t;return n.setUTCDate(n.getUTCDate()-a),n.setUTCHours(0,0,0,0),n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4),i=n.n(r),o=n(0),a=n(10),s=o.forwardRef((function(e,t){return o.createElement(a.a,i()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0 0 114.6 0 256s114.6 256 256 256zm0-384c13.3 0 24 10.7 24 24v112c0 13.3-10.7 24-24 24s-24-10.7-24-24V152c0-13.3 10.7-24 24-24zm32 224c0 17.7-14.3 32-32 32s-32-14.3-32-32 14.3-32 32-32 32 14.3 32 32z"}))}));s.displayName="ExclamationCircle"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toHoursMinutesSeconds=function(e){return{hours:Math.floor(e/3600),minutes:Math.floor(e/60)%60,seconds:e%60}},t.getTimeFormat=function(e){var t;return(null==e||null===(t=e.dateTime)||void 0===t?void 0:t.timeFormat)||a},t.getDateFormat=function(e){var t;return(null==e||null===(t=e.dateTime)||void 0===t?void 0:t.dateFormat)||o},t.getLongDateFormat=function(e){var t;return(null==e||null===(t=e.dateTime)||void 0===t?void 0:t.longDateFormat)||"D MMMM YYYY"},t.offsetTime=function(e,t){return e+((null==t?void 0:t.offset)||0)},t.formatSecondsAfterMidnight=function(e,t){const n=(0,r.add)((0,r.startOfDay)(new Date),{seconds:e});return(0,r.format)(n,t)},t.getUserTimezone=s,t.getCurrentTime=function(e=s()){return(0,r.format)((0,i.utcToZonedTime)(Date.now(),e),a)},t.getCurrentDate=function(e=s()){return(0,r.format)((0,i.utcToZonedTime)(Date.now(),e),o)},t.OTP_API_TIME_FORMAT=t.OTP_API_DATE_FORMAT=void 0;var r=n(86),i=n(43);const o="yyyy-MM-dd";t.OTP_API_DATE_FORMAT=o;const a="HH:mm";function s(e="Etc/Greenwich"){var t;return(null===(t=Intl)||void 0===t?void 0:t.DateTimeFormat().resolvedOptions().timeZone)||e}t.OTP_API_TIME_FORMAT=a},function(e,t,n){"use strict";var r=n(39),i={y:function(e,t){var n=e.getUTCFullYear(),i=n>0?n:1-n;return Object(r.a)("yy"===t?i%100:i,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):Object(r.a)(n+1,2)},d:function(e,t){return Object(r.a)(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return Object(r.a)(e.getUTCHours()%12||12,t.length)},H:function(e,t){return Object(r.a)(e.getUTCHours(),t.length)},m:function(e,t){return Object(r.a)(e.getUTCMinutes(),t.length)},s:function(e,t){return Object(r.a)(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,i=e.getUTCMilliseconds(),o=Math.floor(i*Math.pow(10,n-3));return Object(r.a)(o,t.length)}};t.a=i},function(e,t,n){"use strict";var r=n(36).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,o.default)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===(0,i.default)(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))};var i=r(n(40)),o=r(n(117));e.exports=t.default},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n(191),i=n(141),o=n(169),a=n(45),s=n(158);function l(e,t,n){void 0===n&&(n={});for(var l=Object(s.b)(e).coordinates,c=0,u=0;u<l.length&&!(t>=c&&u===l.length-1);u++){if(c>=t){var d=t-c;if(d){var f=Object(r.a)(l[u],l[u-1])-180;return Object(i.a)(l[u],d,f,n)}return Object(a.g)(l[u])}c+=Object(o.a)(l[u],l[u+1],n)}return Object(a.g)(l[l.length-1])}},function(e,t,n){"use strict";function r(e){return Math.round(10*e)/10}function i(e,t,n){var i=3.28084*e,o="mile",a=t?"mi":"miles",s=r(i/5280);return i<528&&(o="foot",a=t?"ft":"feet",s=Math.round(i)),n?n.formatNumber(s,{style:"unit",unit:o,unitDisplay:t?"short":"long"}):"".concat(s," ").concat(a)}function o(e,t){var n=e/1e3,i="meter",o="m",a=Math.round(e);return n>1&&(i="kilometer",o="km",a=n>100?Math.round(n):r(n)),t?t.formatNumber(a,{style:"unit",unit:i,unitDisplay:"short"}):"".concat(a," ").concat(o)}function a(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;return t?o(e,n):i(e,null,n)}n.r(t),n.d(t,"humanizeDistanceStringImperial",(function(){return i})),n.d(t,"humanizeDistanceStringMetric",(function(){return o})),n.d(t,"humanizeDistanceString",(function(){return a}))},function(e,t,n){"use strict";n.r(t),n.d(t,"ExclamationTriangle",(function(){return s})),n.d(t,"ExclamationTriangleDimensions",(function(){return l}));var r=n(4),i=n.n(r),o=n(0),a=n(10),s=o.forwardRef((function(e,t){return o.createElement(a.a,i()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7.2 40.1S486.3 480 472 480H40c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8.2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24v112c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24zm32 224c0-17.7-14.3-32-32-32s-32 14.3-32 32 14.3 32 32 32 32-14.3 32-32z"}))}));s.displayName="ExclamationTriangle";var l={height:512,width:512}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(11),i=n(5),o=n(3);function a(e,t){Object(o.a)(2,arguments);var n=Object(i.a)(e),a=Object(r.a)(t);if(isNaN(a))return new Date(NaN);if(!a)return n;var s=n.getDate(),l=new Date(n.getTime());l.setMonth(n.getMonth()+a+1,0);var c=l.getDate();return s>=c?l:(n.setFullYear(l.getFullYear(),l.getMonth(),s),n)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(11),i=n(5),o=n(3);function a(e,t){Object(o.a)(2,arguments);var n=Object(i.a)(e).getTime(),a=Object(r.a)(t);return new Date(n+a)}},function(e,t){e.exports={otpUi:{DateTimeSelector:{arrive:"Arrive by",date:"Date",dateTimeSelector:"Date/Time Selector",depart:"Depart at",now:"Leave now",time:"Time"},ModeSelector:{labels:{bicycle:"Bike",car:"Drive",rent:"Rent",transit:"Transit",walk:"Walk"},settings:{"bikeTolerance-label":"Biking Tolerance","bikeTolerance-labelHigh":"More Biking","bikeTolerance-labelLow":"Less Biking","bus-label":"Bus","carTolerance-label":"Driving Tolerance","carTolerance-labelHigh":"More Driving","carTolerance-labelLow":"Less Driving","ferry-label":"Ferry","rail-label":"Train","subway-label":"Subway","tram-label":"Tram","walkReluctance-label":"Avoid Walking","walkTolerance-label":"Walking Tolerance","walkTolerance-labelHigh":"More Walking","walkTolerance-labelLow":"Less Walking","wheelchair-label":"Accessible Routing"}},SettingsSelectorPanel:{bikeOnly:"Bike Only",escooterOnly:"E-scooter Only",takeTransit:"Take Transit",travelPreferences:"Travel Preferences",use:"Use",useCompanies:"Use companies",walkOnly:"Walk Only"},TripOptions:{openApp:"Open app",transitOnly:"Go by Transit"},queryParameters:{bikeSpeed:"Bicycle Speed",distanceInMiles:"{centimiles, select, \n  10 {1/10 mile}\n  25 {1/4 mile}\n  50 {1/2 mile}\n  75 {3/4 mile}\n  other {{miles, number, :: unit/mile unit-width-full-name}}\n}\n",maxBikeDistance:"Maximum Bike",maxBikeTime:"Max Bike Time",maxEScooterDistance:"Maximum E-scooter Distance",maxWalkDistance:"Maximum Walk",maxWalkTime:"Max Walk Time",optimizeBikeFlat:"Flat Trip",optimizeBikeFriendly:"Bike-Friendly Trip",optimizeBikeSpeed:"Speed",optimizeFor:"Optimize for",speedInMilesPerHour:"{mph} MPH",walkReluctance:"Walking Avoidance",walkReluctanceHigh:"More Transit",walkReluctanceLow:"More Walking",walkSpeed:"Walk Speed",watts:"E-scooter Power",watts125kidsHoverboard:"Kid's hoverboard (6 mph)",watts1500powerfulEscooter:"Powerful E-scooter (24 mph)",watts250entryLevelEscooter:"Entry-level scooter (11 mph)",watts500robustEscooter:"Robust E-scooter (18 mph)",wheelchair:"Prefer Wheelchair Accessible Routes"}}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return f}));var r=n(17),i=n(0),o=n(140),a=n.n(o),s=n(126);var l=i.createContext(null),c=l.Consumer,u=l.Provider,d=l;function f(e,t){var n,o=t||{},l=o.intlPropName,u=void 0===l?"intl":l,d=o.forwardRef,f=void 0!==d&&d,p=o.enforceContext,m=void 0===p||p,h=function(t){return i.createElement(c,null,(function(n){var o;m&&Object(s.c)(n);var a=((o={})[u]=n,o);return i.createElement(e,Object(r.a)({},t,a,{ref:f?t.forwardedRef:null}))}))};return h.displayName="injectIntl("+(((n=e).displayName||n.name||"Component")+")"),h.WrappedComponent=e,f?a()(i.forwardRef((function(e,t){return i.createElement(h,Object(r.a)({},e,{forwardedRef:t}))})),e):a()(h,e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(5),i=n(3);function o(e){Object(i.a)(1,arguments);var t=Object(r.a)(e);return t.setHours(0,0,0,0),t}},function(e,t,n){"use strict";function r(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4),i=n.n(r),o=n(0),a=n(10),s=o.forwardRef((function(e,t){return o.createElement(a.a,i()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M232 120c0-13.3 10.7-24 24-24s24 10.7 24 24v123.2l85.3 56.8c11 7.4 14 22.3 5.8 33.3-6.5 11-21.4 14-32.4 5.8l-96-64c-6.7-3.6-10.7-11.1-10.7-20V120zM256 0c141.4 0 256 114.6 256 256S397.4 512 256 512 0 397.4 0 256 114.6 0 256 0zM48 256c0 114.9 93.1 208 208 208s208-93.1 208-208S370.9 48 256 48 48 141.1 48 256z"}))}));s.displayName="Clock"},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(179),i=n(3),o=n(134);function a(e,t,n){Object(i.a)(2,arguments);var a=Object(r.a)(e,t)/1e3;return Object(o.a)(null==n?void 0:n.roundingMethod)(a)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));n(45);function r(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return e.geometry.coordinates;if("Point"===e.type)return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function i(e){return"Feature"===e.type?e.geometry:e}},function(e,t,n){"use strict";n.r(t),n.d(t,"accountLinks",(function(){return o})),n.d(t,"getAuth0Config",(function(){return a}));var r=n(38),i=n(52),o=function(e){var t,n=(null==e||null===(t=e.find((function(e){return"help"===e.id})))||void 0===t?void 0:t.href)||"/help";return[{messageId:"myAccount",url:r.a},{messageId:"help",url:n}]};function a(e){return Object(i.p)(e)?e.auth0:null}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s}));var r=["D","DD"],i=["YY","YYYY"];function o(e){return-1!==r.indexOf(e)}function a(e){return-1!==i.indexOf(e)}function s(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}},function(e,t,n){"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),i=s(n(0)),o=s(n(50)),a=n(466);n(720);function s(e){return e&&e.__esModule?e:{default:e}}var l="unmounted";t.UNMOUNTED=l;var c="exited";t.EXITED=c;var u="entering";t.ENTERING=u;var d="entered";t.ENTERED=d;var f="exiting";t.EXITING=f;var p=function(e){var t,n;function r(t,n){var r;r=e.call(this,t,n)||this;var i,o=n.transitionGroup,a=o&&!o.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=c,r.appearStatus=u):i=d:i=t.unmountOnExit||t.mountOnEnter?l:c,r.state={status:i},r.nextCallback=null,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getChildContext=function(){return{transitionGroup:null}},r.getDerivedStateFromProps=function(e,t){return e.in&&t.status===l?{status:c}:null},a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==u&&n!==d&&(t=u):n!==u&&n!==d||(t=f)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=o.default.findDOMNode(this);t===u?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===c&&this.setState({status:l})},a.performEnter=function(e,t){var n=this,r=this.props.enter,i=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,o=this.getTimeouts(),a=i?o.appear:o.enter;t||r?(this.props.onEnter(e,i),this.safeSetState({status:u},(function(){n.props.onEntering(e,i),n.onTransitionEnd(e,a,(function(){n.safeSetState({status:d},(function(){n.props.onEntered(e,i)}))}))}))):this.safeSetState({status:d},(function(){n.props.onEntered(e)}))},a.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:f},(function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,(function(){t.safeSetState({status:c},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:c},(function(){t.props.onExited(e)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var r=null==t&&!this.props.addEndListener;e&&!r?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if(e===l)return null;var t=this.props,n=t.children,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"==typeof n)return n(e,r);var o=i.default.Children.only(n);return i.default.cloneElement(o,r)},r}(i.default.Component);function m(){}p.contextTypes={transitionGroup:r.object},p.childContextTypes={transitionGroup:function(){}},p.propTypes={},p.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:m,onEntering:m,onEntered:m,onExit:m,onExiting:m,onExited:m},p.UNMOUNTED=0,p.EXITED=1,p.ENTERING=2,p.ENTERED=3,p.EXITING=4;var h=(0,a.polyfill)(p);t.default=h},function(e,t,n){var r=n(257),i=n(138),o=n(447),a=n(668),s=n(356),l=function(e,t,n){var c,u,d,f=e&l.F,p=e&l.G,m=e&l.S,h=e&l.P,g=e&l.B,y=e&l.W,v=p?i:i[t]||(i[t]={}),b=v.prototype,w=p?r:m?r[t]:(r[t]||{}).prototype;for(c in p&&(n=t),n)(u=!f&&w&&void 0!==w[c])&&s(v,c)||(d=u?w[c]:n[c],v[c]=p&&"function"!=typeof w[c]?n[c]:g&&u?o(d,r):y&&w[c]==d?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(d):h&&"function"==typeof d?o(Function.call,d):d,h&&((v.virtual||(v.virtual={}))[c]=d,e&l.R&&b&&!b[c]&&a(b,c,d)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=!("undefined"==typeof window||!window.document||!window.document.createElement);t.default=r,e.exports=t.default},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(366)),l=o(n(367)),c=a(n(125)),u=o(n(575)),d=o(n(578)),f=o(n(579)),p=o(n(580)),m=a(n(581)),h=a(n(582)),g=a(n(583)),y=a(n(584)),v=a(n(585)),b=a(n(586)),w=a(n(587)),x=(0,c.default)((function(e){if(!e||!e.type)return new h.default;var t=e.type;switch(t){case"ARCGIS":return new m.default(s,e);case"PELIAS":return new g.default(l,e);case"HERE":return new y.default(u,e);case"PHOTON":return new v.default(d,e);case"OTP":return new b.default(f,e);case"OFFLINE":return new w.default(p,e);default:return console.error('Unknown geocoder type: "'.concat(t,'". Using NoApiGeocoder.')),new h.default}}));t.default=x},function(e,t,n){(function(e,n){var r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",a="[object Boolean]",s="[object Date]",l="[object Function]",c="[object GeneratorFunction]",u="[object Map]",d="[object Number]",f="[object Object]",p="[object Promise]",m="[object RegExp]",h="[object Set]",g="[object String]",y="[object Symbol]",v="[object WeakMap]",b="[object ArrayBuffer]",w="[object DataView]",x="[object Float32Array]",E="[object Float64Array]",_="[object Int8Array]",A="[object Int16Array]",O="[object Int32Array]",S="[object Uint8Array]",T="[object Uint8ClampedArray]",I="[object Uint16Array]",k="[object Uint32Array]",C=/\w*$/,M=/^\[object .+?Constructor\]$/,N=/^(?:0|[1-9]\d*)$/,j={};j[o]=j["[object Array]"]=j[b]=j[w]=j[a]=j[s]=j[x]=j[E]=j[_]=j[A]=j[O]=j[u]=j[d]=j[f]=j[m]=j[h]=j[g]=j[y]=j[S]=j[T]=j[I]=j[k]=!0,j["[object Error]"]=j[l]=j[v]=!1;var L="object"==typeof e&&e&&e.Object===Object&&e,R="object"==typeof self&&self&&self.Object===Object&&self,D=L||R||Function("return this")(),P=t&&!t.nodeType&&t,B=P&&"object"==typeof n&&n&&!n.nodeType&&n,F=B&&B.exports===P;function U(e,t){return e.set(t[0],t[1]),e}function z(e,t){return e.add(t),e}function V(e,t,n,r){var i=-1,o=e?e.length:0;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function G(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function H(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function W(e,t){return function(n){return e(t(n))}}function Y(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var Q,Z=Array.prototype,X=Function.prototype,J=Object.prototype,q=D["__core-js_shared__"],K=(Q=/[^.]+$/.exec(q&&q.keys&&q.keys.IE_PROTO||""))?"Symbol(src)_1."+Q:"",$=X.toString,ee=J.hasOwnProperty,te=J.toString,ne=RegExp("^"+$.call(ee).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),re=F?D.Buffer:void 0,ie=D.Symbol,oe=D.Uint8Array,ae=W(Object.getPrototypeOf,Object),se=Object.create,le=J.propertyIsEnumerable,ce=Z.splice,ue=Object.getOwnPropertySymbols,de=re?re.isBuffer:void 0,fe=W(Object.keys,Object),pe=Be(D,"DataView"),me=Be(D,"Map"),he=Be(D,"Promise"),ge=Be(D,"Set"),ye=Be(D,"WeakMap"),ve=Be(Object,"create"),be=Ge(pe),we=Ge(me),xe=Ge(he),Ee=Ge(ge),_e=Ge(ye),Ae=ie?ie.prototype:void 0,Oe=Ae?Ae.valueOf:void 0;function Se(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Te(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ie(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ke(e){this.__data__=new Te(e)}function Ce(e,t){var n=We(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&Ye(e)}(e)&&ee.call(e,"callee")&&(!le.call(e,"callee")||te.call(e)==o)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,i=!!r;for(var a in e)!t&&!ee.call(e,a)||i&&("length"==a||ze(a,r))||n.push(a);return n}function Me(e,t,n){var r=e[t];ee.call(e,t)&&He(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function Ne(e,t){for(var n=e.length;n--;)if(He(e[n][0],t))return n;return-1}function je(e,t,n,r,i,p,v){var M;if(r&&(M=p?r(e,i,p,v):r(e)),void 0!==M)return M;if(!Xe(e))return e;var N=We(e);if(N){if(M=function(e){var t=e.length,n=e.constructor(t);t&&"string"==typeof e[0]&&ee.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!t)return function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(e,M)}else{var L=Ue(e),R=L==l||L==c;if(Qe(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(L==f||L==o||R&&!p){if(G(e))return p?e:{};if(M=function(e){return"function"!=typeof e.constructor||Ve(e)?{}:(t=ae(e),Xe(t)?se(t):{});var t}(R?{}:e),!t)return function(e,t){return De(e,Fe(e),t)}(e,function(e,t){return e&&De(t,Je(t),e)}(M,e))}else{if(!j[L])return p?e:{};M=function(e,t,n,r){var i=e.constructor;switch(t){case b:return Re(e);case a:case s:return new i(+e);case w:return function(e,t){var n=t?Re(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case x:case E:case _:case A:case O:case S:case T:case I:case k:return function(e,t){var n=t?Re(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,r);case u:return function(e,t,n){return V(t?n(H(e),!0):H(e),U,new e.constructor)}(e,r,n);case d:case g:return new i(e);case m:return function(e){var t=new e.constructor(e.source,C.exec(e));return t.lastIndex=e.lastIndex,t}(e);case h:return function(e,t,n){return V(t?n(Y(e),!0):Y(e),z,new e.constructor)}(e,r,n);case y:return o=e,Oe?Object(Oe.call(o)):{}}var o}(e,L,je,t)}}v||(v=new ke);var D=v.get(e);if(D)return D;if(v.set(e,M),!N)var P=n?function(e){return function(e,t,n){var r=t(e);return We(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,Je,Fe)}(e):Je(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}(P||e,(function(i,o){P&&(i=e[o=i]),Me(M,o,je(i,t,n,r,o,e,v))})),M}function Le(e){return!(!Xe(e)||(t=e,K&&K in t))&&(Ze(e)||G(e)?ne:M).test(Ge(e));var t}function Re(e){var t=new e.constructor(e.byteLength);return new oe(t).set(new oe(e)),t}function De(e,t,n,r){n||(n={});for(var i=-1,o=t.length;++i<o;){var a=t[i],s=r?r(n[a],e[a],a,n,e):void 0;Me(n,a,void 0===s?e[a]:s)}return n}function Pe(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Be(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Le(n)?n:void 0}Se.prototype.clear=function(){this.__data__=ve?ve(null):{}},Se.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Se.prototype.get=function(e){var t=this.__data__;if(ve){var n=t[e];return n===r?void 0:n}return ee.call(t,e)?t[e]:void 0},Se.prototype.has=function(e){var t=this.__data__;return ve?void 0!==t[e]:ee.call(t,e)},Se.prototype.set=function(e,t){return this.__data__[e]=ve&&void 0===t?r:t,this},Te.prototype.clear=function(){this.__data__=[]},Te.prototype.delete=function(e){var t=this.__data__,n=Ne(t,e);return!(n<0)&&(n==t.length-1?t.pop():ce.call(t,n,1),!0)},Te.prototype.get=function(e){var t=this.__data__,n=Ne(t,e);return n<0?void 0:t[n][1]},Te.prototype.has=function(e){return Ne(this.__data__,e)>-1},Te.prototype.set=function(e,t){var n=this.__data__,r=Ne(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Ie.prototype.clear=function(){this.__data__={hash:new Se,map:new(me||Te),string:new Se}},Ie.prototype.delete=function(e){return Pe(this,e).delete(e)},Ie.prototype.get=function(e){return Pe(this,e).get(e)},Ie.prototype.has=function(e){return Pe(this,e).has(e)},Ie.prototype.set=function(e,t){return Pe(this,e).set(e,t),this},ke.prototype.clear=function(){this.__data__=new Te},ke.prototype.delete=function(e){return this.__data__.delete(e)},ke.prototype.get=function(e){return this.__data__.get(e)},ke.prototype.has=function(e){return this.__data__.has(e)},ke.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Te){var r=n.__data__;if(!me||r.length<199)return r.push([e,t]),this;n=this.__data__=new Ie(r)}return n.set(e,t),this};var Fe=ue?W(ue,Object):function(){return[]},Ue=function(e){return te.call(e)};function ze(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||N.test(e))&&e>-1&&e%1==0&&e<t}function Ve(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||J)}function Ge(e){if(null!=e){try{return $.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function He(e,t){return e===t||e!=e&&t!=t}(pe&&Ue(new pe(new ArrayBuffer(1)))!=w||me&&Ue(new me)!=u||he&&Ue(he.resolve())!=p||ge&&Ue(new ge)!=h||ye&&Ue(new ye)!=v)&&(Ue=function(e){var t=te.call(e),n=t==f?e.constructor:void 0,r=n?Ge(n):void 0;if(r)switch(r){case be:return w;case we:return u;case xe:return p;case Ee:return h;case _e:return v}return t});var We=Array.isArray;function Ye(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}(e.length)&&!Ze(e)}var Qe=de||function(){return!1};function Ze(e){var t=Xe(e)?te.call(e):"";return t==l||t==c}function Xe(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Je(e){return Ye(e)?Ce(e):function(e){if(!Ve(e))return fe(e);var t=[];for(var n in Object(e))ee.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}n.exports=function(e){return je(e,!0,!0)}}).call(this,n(93),n(219)(e))},function(e,t,n){"use strict";n.r(t),n.d(t,"ExternalLinkAlt",(function(){return s})),n.d(t,"ExternalLinkAltDimensions",(function(){return l}));var r=n(4),i=n.n(r),o=n(0),a=n(10),s=o.forwardRef((function(e,t){return o.createElement(a.a,i()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M352 0c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9L370.7 96 201.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L416 141.3l41.4 41.4c9.2 9.2 22.9 11.9 34.9 6.9s19.8-16.6 19.8-29.6V32c0-17.7-14.3-32-32-32H352zM80 32C35.8 32 0 67.8 0 112v320c0 44.2 35.8 80 80 80h320c44.2 0 80-35.8 80-80V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v112c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V112c0-8.8 7.2-16 16-16h112c17.7 0 32-14.3 32-32s-14.3-32-32-32H80z"}))}));s.displayName="ExternalLinkAlt";var l={height:512,width:512}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(69),i=n(2),o=n.n(i),a=n(0),s=n.n(a);function l(e){switch(e.day){case"monday":return s.a.createElement(r.a,{id:"common.daysOfWeek.monday"});case"tuesday":return s.a.createElement(r.a,{id:"common.daysOfWeek.tuesday"});case"wednesday":return s.a.createElement(r.a,{id:"common.daysOfWeek.wednesday"});case"thursday":return s.a.createElement(r.a,{id:"common.daysOfWeek.thursday"});case"friday":return s.a.createElement(r.a,{id:"common.daysOfWeek.friday"});case"saturday":return s.a.createElement(r.a,{id:"common.daysOfWeek.saturday"});case"sunday":return s.a.createElement(r.a,{id:"common.daysOfWeek.sunday"});default:return null}}l.propTypes={day:o.a.string.isRequired},l.defaultProps={day:""}},function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n(0),i=n(107);const o=new class{constructor(){this.paramsMap=new Map,this.registeredParams=new Map}set(e,t,n,r){this.paramsMap.set(e,{stringified:t,decoded:n,decode:r})}has(e,t,n){if(!this.paramsMap.has(e))return!1;const r=this.paramsMap.get(e);return!!r&&(r.stringified===t&&(null==n||r.decode===n))}get(e){var t;if(this.paramsMap.has(e))return null==(t=this.paramsMap.get(e))?void 0:t.decoded}registerParams(e){for(const t of e){const e=this.registeredParams.get(t)||0;this.registeredParams.set(t,e+1)}}unregisterParams(e){for(const t of e){const e=(this.registeredParams.get(t)||0)-1;e<=0?(this.registeredParams.delete(t),this.paramsMap.has(t)&&this.paramsMap.delete(t)):this.registeredParams.set(t,e)}}clear(){this.paramsMap.clear(),this.registeredParams.clear()}};function a(e,t,n,r){var i;if(!n||!t.length)return e;let o={...e},a=!1;for(const e of t)Object.prototype.hasOwnProperty.call(o,e)||(o[e]=null!=(i=n[e])?i:r,a=!0);return a?o:e}const s=Object.prototype.hasOwnProperty;function l(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function c(e,t,n){var r,i;if(l(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(let a=0;a<o.length;a++){const c=null!=(i=null==(r=null==n?void 0:n[o[a]])?void 0:r.equals)?i:l;if(!s.call(t,o[a])||!c(e[o[a]],t[o[a]]))return!1}return!0}function u(e,t,n){const r={},i=Object.keys(t);for(const o of i){const i=t[o],a=e[o];let s;if(n.has(o,a,i.decode))s=n.get(o);else{if(s=i.decode(a),i.equals&&n.has(o,a)){const e=n.get(o);i.equals(s,e)&&(s=e)}void 0!==s&&n.set(o,a,s,i.decode)}void 0===s&&void 0!==i.default&&(s=i.default),r[o]=s}return r}function d(){let e;return function(t,n,r){const i=u(t,n,r);return null!=e&&c(e,i)?e:(e=i,i)}}let f,p,m,h={};const g=(e,t,n)=>{if(f===t&&m===e&&p===n)return h;f=t,m=e;const r=e(null!=t?t:"");p=n;const i=function(e){if(e)return Object.fromEntries(e.split("\n").map((e=>e.split("\0"))))}(n);for(let[e,t]of Object.entries(r)){(null==i?void 0:i[e])&&(delete r[e],e=i[e],r[e]=t);const n=h[e];c(t,n)&&(r[e]=n)}return h=r,r};var y=n(266),v=n(291);function b({changes:e,updateType:t,currentSearchString:n,paramConfigMap:r,options:s}){const{searchStringToObject:l,objectToSearchString:c}=s;let d;null==t&&(t=s.updateType);const f=g(l,n),p=a(r,Object.keys(e),s.params);let m,h;if("function"==typeof e){m=e(u(f,p,o))}else m=e;return d=Object(i.d)(p,m),s.removeDefaultsFromUrl&&function(e,t){var n;for(const r in e)void 0!==(null==(n=t[r])?void 0:n.default)&&void 0!==e[r]&&t[r].encode(t[r].default)===e[r]&&(e[r]=void 0)}(d,p),d=function(e,t){var n;let r={};for(const i in e)null!=(null==(n=t[i])?void 0:n.urlName)?r[t[i].urlName]=e[i]:r[i]=e[i];return r}(d,p),h=c("push"===t||"replace"===t?d:{...f,...d}),(null==h?void 0:h.length)&&"?"!==h[0]&&(h=`?${h}`),null!=h?h:""}const w=e=>e(),x=e=>setTimeout((()=>e()),0),E=[];var _=function(e,t){const{adapter:n,options:s}=Object(v.b)(),[l]=Object(r.useState)(d),{paramConfigMap:c,options:u}=function(e,t){let n,r;void 0===e?(n={},r=t):Array.isArray(e)?(n=Object.fromEntries(e.map((e=>[e,"inherit"]))),r=t):(n=e,r=t);return{paramConfigMap:n,options:r}}(e,t),f=Object(r.useMemo)((()=>Object(y.b)(s,u)),[s,u]);let p=function(e,t){var n,r,o;const a={};let s=!1;const l=Object.keys(e);let c=l;if(t.includeKnownParams||!1!==t.includeKnownParams&&0===l.length){const e=Object.keys(null!=(n=t.params)?n:{});c.push(...e)}for(const n of c){const l=e[n];null==l||"object"!=typeof l?(s=!0,a[n]=null!=(o=null==(r=t.params)?void 0:r[n])?o:i.b):a[n]=l}return s?a:e}(c,f);const m=g(f.searchStringToObject,n.location.search,function(e){let t;for(const n in e)if(e[n].urlName){const r=`${e[n].urlName}\0${n}`;t?t.push(r):t=[r]}return t?t.join("\n"):void 0}(p));f.includeAllParams&&(p=a(p,Object.keys(m),f.params,i.b));const h=l(m,p,o),_=Object.keys(p).join("\0");Object(r.useEffect)((()=>{const e=_.split("\0");return o.registerParams(e),()=>{o.unregisterParams(e)}}),[_]);const A={adapter:n,paramConfigMap:p,options:f},O=Object(r.useRef)(A);null==O.current&&(O.current=A),Object(r.useEffect)((()=>{O.current.adapter=n,O.current.paramConfigMap=p,O.current.options=f}),[n,p,f]);const[S]=Object(r.useState)((()=>(e,t)=>{const{adapter:n,paramConfigMap:r,options:i}=O.current;null==t&&(t=i.updateType),function(e,{immediate:t}={}){E.push(e);let n=t?w:x;1===E.length&&n((()=>{const t=E.slice();E.length=0;const n=t[0].currentSearchString;let r;for(let e=0;e<t.length;++e)r=b(0===e?t[e]:{...t[e],currentSearchString:r});e.options.skipUpdateWhenNoChange&&r===n||function({searchString:e,adapter:t,navigate:n,updateType:r}){const i={...t.location,search:e};n&&("string"==typeof r&&r.startsWith("replace")?t.replace(i):t.push(i))}({searchString:null!=r?r:"",adapter:t[t.length-1].adapter,navigate:!0,updateType:t[t.length-1].updateType})}))}({changes:e,updateType:t,currentSearchString:n.location.search,paramConfigMap:r,options:i,adapter:n},{immediate:!i.enableBatching})}));return[h,S]}},function(e,t,n){"use strict";var r=n(158),i=n(45);t.a=function(e,t,n){void 0===n&&(n={});var o=Object(r.a)(e),a=Object(r.a)(t),s=Object(i.a)(a[1]-o[1]),l=Object(i.a)(a[0]-o[0]),c=Object(i.a)(o[1]),u=Object(i.a)(a[1]),d=Math.pow(Math.sin(s/2),2)+Math.pow(Math.sin(l/2),2)*Math.cos(c)*Math.cos(u);return Object(i.j)(2*Math.atan2(Math.sqrt(d),Math.sqrt(1-d)),n.units)}},function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"autocomplete",(function(){return O})),n.d(r,"reverse",(function(){return I})),n.d(r,"search",(function(){return T}));var i={};n.r(i),n.d(i,"autocomplete",(function(){return L})),n.d(i,"reverse",(function(){return P})),n.d(i,"search",(function(){return D}));var o={};n.r(o),n.d(o,"autocomplete",(function(){return F})),n.d(o,"reverse",(function(){return G})),n.d(o,"search",(function(){return z}));var a={};n.r(a),n.d(a,"autocomplete",(function(){return Y})),n.d(a,"reverse",(function(){return X})),n.d(a,"search",(function(){return Z}));var s=n(366),l=n(367),c=n(125),u=n.n(c),d=n(15),f=n.n(d),p=n(74),m=n.n(p),h=n(49),g=n.n(h),y=n(62),v=n(226);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x="https://autosuggest.search.hereapi.com/v1/autosuggest";function E(e){this.message=e,this.name="GeocoderException"}function _(e){var t=e.options,n=e.query,r=e.url;return fetch("".concat(r,"?").concat(Object(v.stringify)(n)),t).then((function(e){return e.json()}))}var A=function(e){var t=e.rect;return function(e){var n=e.position;if(!n)return!0;var r=t.maxLat,i=t.maxLon,o=t.minLat,a=t.minLon,s=n.lat,l=n.lng;return l<=i&&l>=a&&s<=r&&s>=o}};function O(e){return S.apply(this,arguments)}function S(){return(S=m()(g.a.mark((function e(t){var n,r,i,o,a,s,l,c,u,d,f,p,m,h;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.apiKey,r=t.boundary,i=t.focusPoint,o=t.options,a=t.size,s=void 0===a?20:a,l=t.text,c={apiKey:n,limit:s,q:l,show:"details"},!i){e.next=10;break}return u=Object(y.normalize)(i),d=u.lat,f=u.lon,c.at="".concat(d,",").concat(f),e.next=7,_({options:o,query:c,url:x});case 7:return p=e.sent,null!=r&&r.rect&&p.items&&(p.items=p.items.filter(A(r))),e.abrupt("return",p);case 10:return r&&(m=r.country,h=r.rect,m&&(c.in="countryCode:".concat(m)),h&&(c.in="bbox:".concat([h.minLon,h.minLat,h.maxLon,h.maxLat].join(",")))),e.abrupt("return",_({options:o,query:c,url:x}));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){var t=e.apiKey,n=e.focusPoint,r=e.options,i=e.size,o=void 0===i?10:i,a=e.text;if(!a)return Promise.resolve({items:[]});var s={apiKey:t,limit:o,q:a};if(n){var l=Object(y.normalize)(n),c=l.lat,u=l.lon;s.at="".concat(c,",").concat(u)}return _({options:r,query:s,url:"https://geocode.search.hereapi.com/v1/geocode"})}function I(e){var t=e.apiKey,n=e.options,r=e.point,i={apiKey:t};if(!r)throw new E("No point provided for reverse geocoder.");var o=Object(y.normalize)(r),a=o.lat,s=o.lon;return i.at="".concat(a,",").concat(s),_({options:n,query:i,url:"https://revgeocode.search.hereapi.com/v1/revgeocode"}).then((function(e){return w(w({},e),{},{point:r})}))}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M="https://photon.komoot.io/api";function N(e){this.message=e,this.name="GeocoderException"}function j(e){var t=e.options,n=e.query,r=e.url;return fetch("".concat(r,"?").concat(Object(v.stringify)(n)),t).then((function(e){return e.json()}))}function L(e){return R.apply(this,arguments)}function R(){return(R=m()(g.a.mark((function e(t){var n,r,i,o,a,s,l,c,u,d,f,p,m,h,v;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.boundary,r=t.focusPoint,i=t.options,o=t.size,a=void 0===o?20:o,s=t.text,l=t.url,c=void 0===l?M:l,u={limit:a,q:s},!r){e.next=10;break}return d=Object(y.normalize)(r),f=d.lat,p=d.lon,u.lat=f.toString(),u.lon=p.toString(),e.next=8,j({options:i,query:u,url:c});case 8:return m=e.sent,e.abrupt("return",m);case 10:return n&&(h=n.country,v=n.rect,h&&(u.in="countryCode:".concat(h)),v&&(u.in="bbox:".concat([v.minLon,v.minLat,v.maxLon,v.maxLat].join(",")))),e.abrupt("return",j({options:i,query:u,url:c}));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e){var t=e.focusPoint,n=e.options,r=e.size,i=void 0===r?10:r,o=e.text,a=e.url,s=void 0===a?"https://photon.komoot.io/api":a;if(!o)return Promise.resolve({items:[]});var l={limit:i,q:o};if(t){var c=Object(y.normalize)(t),u=c.lat,d=c.lon;l.lat=u.toString(),l.lon=d.toString()}return j({options:n,query:l,url:s})}function P(e){var t=e.options,n=e.point,r=e.url,i=void 0===r?"https://photon.komoot.io/reverse":r,o={};if(!n)throw new N("No point provided for reverse geocoder.");var a=Object(y.normalize)(n),s=a.lat,l=a.lon;return o.lat=s.toString(),o.lon=l.toString(),j({options:t,query:o,url:i}).then((function(e){return C(C({},e),{},{point:n})}))}function B(e){var t=e.query,n=e.url;return fetch("".concat(n,"/geocode/stopClusters?query=").concat(t)).then((function(e){return e.text()})).then((function(e){var t={results:[]};try{t=JSON.parse('{"results": '.concat(e,"}"))}catch(e){console.warn("Invalid response from OTP Geocoder!")}return t}))}function F(e){return U.apply(this,arguments)}function U(){return(U=m()(g.a.mark((function e(t){var n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,r=t.text,e.abrupt("return",B({query:r,url:n}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e){return V.apply(this,arguments)}function V(){return(V=m()(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",F(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(){return console.warn("Not implemented"),null}var H=n(368),W=n.n(H);function Y(e){return Q.apply(this,arguments)}function Q(){return(Q=m()(g.a.mark((function e(t){var n,r,i,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.items,r=t.text,i=new W.a,o=i.filter(n.map((function(e){return e.label})),r),e.abrupt("return",o.map((function(e){return n[e]})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e){return Y(e)}function X(){return console.warn("Not implemented"),null}var J=n(76),q=n.n(J),K=n(77),$=n.n(K),ee=n(81),te=n.n(ee),ne=n(82),re=n.n(ne),ie=n(60),oe=n.n(ie);function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var le=function(){function e(t,n){q()(this,e),this.geocoderConfig=void 0,this.api=void 0,this.api=t,this.geocoderConfig=n}return $()(e,[{key:"autocomplete",value:function(e){return this.api.autocomplete(this.getAutocompleteQuery(e)).then(this.rewriteAutocompleteResponse.bind(this))}},{key:"getLocationFromGeocodedFeature",value:function(e){if("Point"===e.geometry.type){var t=se(se({},Object(y.fromCoordinates)(e.geometry.coordinates)),{},{name:e.properties.label,rawGeocodedFeature:e});return Promise.resolve(t)}return Promise.reject(new Error("Feature is not of type Point."))}},{key:"reverse",value:function(e){return this.api.reverse(this.getReverseQuery(e)).then(this.rewriteReverseResponse.bind(this))}},{key:"search",value:function(e){return this.api.search(this.getSearchQuery(e)).then(this.rewriteSearchResponse.bind(this))}},{key:"getAutocompleteQuery",value:function(e){var t=this.geocoderConfig,n=t.apiKey,r=t.baseUrl;return se({apiKey:n,boundary:t.boundary,focusPoint:t.focusPoint,options:t.options,url:r?"".concat(r,"/autocomplete"):void 0},e)}},{key:"getReverseQuery",value:function(e){var t,n=this.geocoderConfig,r=n.apiKey,i=n.baseUrl,o=n.options;return se({apiKey:r,format:!(null!==(t=this.geocoderConfig)&&void 0!==t&&t.reverseUseFeatureCollection),options:o,url:i?"".concat(i,"/reverse"):void 0},e)}},{key:"getSearchQuery",value:function(e){var t=this.geocoderConfig,n=t.apiKey,r=t.baseUrl;return se({apiKey:n,boundary:t.boundary,focusPoint:t.focusPoint,options:t.options,url:r?"".concat(r,"/search"):void 0,format:!1},e)}},{key:"rewriteAutocompleteResponse",value:function(e){return e}},{key:"rewriteReverseResponse",value:function(e){return e}},{key:"rewriteSearchResponse",value:function(e){return e}}]),e}();function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function de(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=oe()(e);if(t){var i=oe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return re()(this,n)}}var fe=function(e){te()(n,e);var t=de(n);function n(){return q()(this,n),t.apply(this,arguments)}return $()(n,[{key:"getLocationFromGeocodedFeature",value:function(e){return e.geometry?le.prototype.getLocationFromGeocodedFeature(e):this.api.search({magicKey:e.magicKey,text:e.text}).then((function(e){var t=e.features[0],n=Object(y.fromCoordinates)(t.geometry.coordinates);return n.name=t.properties.label,n.rawGeocodedFeature=t,n}))}},{key:"rewriteAutocompleteResponse",value:function(e){return{features:e.features.filter((function(e){return!e.isCollection})).map((function(e){return ue(ue({},e),{},{properties:{label:e.text}})}))}}},{key:"rewriteReverseResponse",value:function(e){var t;if(null!==(t=this.geocoderConfig)&&void 0!==t&&t.reverseUseFeatureCollection)return e;var n=e.features,r=e.query,i=Object(y.normalize)(r),o=i.lat,a=i.lon,s=n[0];return{lat:o,lon:a,name:s.properties.label,rawGeocodedFeature:s}}}]),n}(le);function pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=oe()(e);if(t){var i=oe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return re()(this,n)}}var me=function(e){te()(n,e);var t=pe(n);function n(){return q()(this,n),t.apply(this,arguments)}return $()(n,[{key:"autocomplete",value:function(e){return this.parseCoordinateString(e.text)}},{key:"reverse",value:function(e){var t,n=e.point,r=n.lat,i=n.lon,o={geometry:{coordinates:[r=this.roundGPSDecimal(r),i=this.roundGPSDecimal(i)],type:"Point"},properties:{name:"".concat(r,", ").concat(i)},type:"Feature"};return null!==(t=this.geocoderConfig)&&void 0!==t&&t.reverseUseFeatureCollection?Promise.resolve({type:"FeatureCollection",features:[o],rawGeocodedFeature:o}):Promise.resolve({lat:r,lon:i,name:o.properties.name,rawGeocodedFeature:o})}},{key:"search",value:function(e){return this.parseCoordinateString(e.text)}},{key:"parseCoordinateString",value:function(e){var t;try{t={geometry:{coordinates:Object(y.toCoordinates)(Object(y.fromLatFirstString)(e)),type:"Point"},properties:{label:e}}}catch(e){return Promise.resolve({features:[],type:"FeatureCollection"})}return Promise.resolve({features:[t],type:"FeatureCollection"})}},{key:"roundGPSDecimal",value:function(e){var t=1e5;return Math.round(e*t)/t}}]),n}(le);function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=oe()(e);if(t){var i=oe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return re()(this,n)}}var ve="address,venue,street,intersection",be=function(e){te()(n,e);var t=ye(n);function n(){return q()(this,n),t.apply(this,arguments)}return $()(n,[{key:"getAutocompleteQuery",value:function(e){var t=this.geocoderConfig,n=t.apiKey,r=t.baseUrl,i=t.boundary,o=t.focusPoint,a=t.layers;return ge({apiKey:n,boundary:i,focusPoint:o,layers:void 0===a?ve:a,options:t.options,sources:t.sources||null,url:r?"".concat(r,"/autocomplete"):void 0},e)}},{key:"getSearchQuery",value:function(e){var t=this.geocoderConfig,n=t.apiKey,r=t.baseUrl,i=t.boundary,o=t.layers;return ge({apiKey:n,boundary:i,layers:void 0===o?ve:o,focusPoint:t.focusPoint,options:t.options,sources:t.sources||null,url:r?"".concat(r,"/search"):void 0,format:!1},e)}},{key:"rewriteReverseResponse",value:function(e){var t;if(null!==(t=this.geocoderConfig)&&void 0!==t&&t.reverseUseFeatureCollection)return e;var n=e.isomorphicMapzenSearchQuery.point,r=n.lat,i=n.lon,o=e[0];return{lat:r,lon:i,name:o.label,rawGeocodedFeature:o}}}]),n}(le);function we(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=oe()(e);if(t){var i=oe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return re()(this,n)}}function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _e={houseNumber:"address",place:"venue"},Ae=function(e){var t=e.scoring,n=e.categories,r=e.address,i=e.resultType,o=e.title,a=e.position,s={};return t&&(s.confidence=t.queryScore),n&&(s.addendum={categories:n}),{geometry:{type:"Point",coordinates:[a.lng,a.lat]},properties:Ee(Ee({country:r.countryName,country_a:r.countryCode,country_code:r.countryCode,county:r.county,housenumber:r.houseNumber,label:r.label,layer:_e[i]?_e[i]:i},s),{},{locality:r.city,name:o,neighbourhood:r.district,postalcode:r.postalCode,region:r.state,source:"here",street:r.street}),type:"Feature"}},Oe=function(e){te()(n,e);var t=we(n);function n(){return q()(this,n),t.apply(this,arguments)}return $()(n,[{key:"rewriteReverseResponse",value:function(e){var t,n=e.items,r=e.point;if(null!==(t=this.geocoderConfig)&&void 0!==t&&t.reverseUseFeatureCollection)return{features:n.map(Ae),type:"FeatureCollection"};var i=n[0];return Ee(Ee({},r),{},{name:i.title,rawGeocodedFeature:Ae(i)})}},{key:"rewriteAutocompleteResponse",value:function(e){var t=e.items;return{features:null==t?void 0:t.filter((function(e){return!!e.position})).map(Ae),type:"FeatureCollection"}}},{key:"rewriteSearchResponse",value:function(e){return{features:e.items.map(Ae),type:"FeatureCollection"}}}]),n}(le);function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=oe()(e);if(t){var i=oe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return re()(this,n)}}var ke=function(e){var t=[];return["name","street","district","state","postcode","city","country"].forEach((function(n){if(void 0!==e[n]){var r="".concat(e[n]);r.length>0&&t.push(r)}})),t.join(", ")},Ce=function(e){te()(n,e);var t=Ie(n);function n(){return q()(this,n),t.apply(this,arguments)}return $()(n,[{key:"getAutocompleteQuery",value:function(e){var t=this.geocoderConfig,n=t.baseUrl;return Te({boundary:t.boundary,focusPoint:t.focusPoint,options:t.options,size:t.size,url:n?"".concat(n,"/api"):void 0},e)}},{key:"getSearchQuery",value:function(e){var t=this.geocoderConfig,n=t.baseUrl;return Te({boundary:t.boundary,focusPoint:t.focusPoint,options:t.options,size:t.size,url:n?"".concat(n,"/api"):void 0},e)}},{key:"rewriteAutocompleteResponse",value:function(e){return e.features.forEach((function(e){e.properties.label=ke(e.properties)})),e}},{key:"rewriteReverseResponse",value:function(e){var t;if(null!==(t=this.geocoderConfig)&&void 0!==t&&t.reverseUseFeatureCollection)return e.features.forEach((function(e){e.properties.label=ke(e.properties)})),e;var n=e.point,r=n.lat,i=n.lon,o=e.features[0];return{lat:r,lon:i,name:ke(o.properties),rawGeocodedFeature:o}}},{key:"rewriteSearchResponse",value:function(e){return this.rewriteAutocompleteResponse(e)}}]),n}(le);function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=oe()(e);if(t){var i=oe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return re()(this,n)}}var je=function(e){var t,n,r,i,o=e.agencies,a=null==o?void 0:o.find((function(t){var n;return t.name===(null===(n=e.feedPublisher)||void 0===n?void 0:n.name)})),s=null===(t=e.id.split(":"))||void 0===t?void 0:t[0],l=null==o?void 0:o.find((function(e){return e.id.split(":")[0]===s})),c="";return a?c+=a.name:l?c+=l.name:null!=e&&null!==(n=e.agencies)&&void 0!==n&&null!==(r=n[0])&&void 0!==r&&r.name?c+=e.agencies[0].name:null!=e&&null!==(i=e.feedPublisher)&&void 0!==i&&i.name&&(c+=e.feedPublisher.name),null!=e&&e.code&&(""!==c&&(c+=" "),c+=e.code),""===c?e.name:"".concat(e.name," (").concat(c,")")},Le=function(e){te()(n,e);var t=Ne(n);function n(){return q()(this,n),t.apply(this,arguments)}return $()(n,[{key:"getAutocompleteQuery",value:function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({url:this.geocoderConfig.baseUrl},e)}},{key:"getSearchQuery",value:function(e){return this.getAutocompleteQuery(e)}},{key:"rewriteAutocompleteResponse",value:function(e){var t;return{features:null==e||null===(t=e.results)||void 0===t?void 0:t.map((function(e){var t=e.primary,n=e.secondaries;return{geometry:{type:"Point",coordinates:[t.coordinate.lon,t.coordinate.lat]},id:t.id,properties:{layer:"stops",source:"otp",modes:t.modes,name:t.name,label:je(t),secondaryLabels:"STATION"!==t.type?n.map((function(e){return je(e)})):[]},type:"Feature"}})),type:"FeatureCollection"}}}]),n}(le);function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=oe()(e);if(t){var i=oe()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return re()(this,n)}}var Be=function(e){te()(n,e);var t=Pe(n);function n(){return q()(this,n),t.apply(this,arguments)}return $()(n,[{key:"getAutocompleteQuery",value:function(e){return De({},e)}},{key:"getSearchQuery",value:function(e){return De({},e)}},{key:"rewriteAutocompleteResponse",value:function(e){return{features:null==e?void 0:e.map((function(e,t){return{geometry:{type:"Point",coordinates:[e.lon,e.lat]},properties:{id:"custom-".concat(t),label:e.label,layer:"custom",name:e.label,source:"offline"},type:"Feature"}})),type:"FeatureCollection"}}},{key:"rewriteSearchResponse",value:function(e){return this.rewriteAutocompleteResponse(e)}}]),n}(le),Fe=u()((function(e){if(!e||!e.type)return new me;var t=e.type;switch(t){case"ARCGIS":return new fe(s,e);case"PELIAS":return new be(l,e);case"HERE":return new Oe(r,e);case"PHOTON":return new Ce(i,e);case"OTP":return new Le(o,e);case"OFFLINE":return new Be(a,e);default:return console.error('Unknown geocoder type: "'.concat(t,'". Using NoApiGeocoder.')),new me}}));t.a=Fe},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r;!function(i){var o=/^\s+/,a=/\s+$/,s=0,l=i.round,c=i.min,u=i.max,d=i.random;function f(e,t){if(t=t||{},(e=e||"")instanceof f)return e;if(!(this instanceof f))return new f(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,r=null,s=null,l=null,d=!1,f=!1;"string"==typeof e&&(e=function(e){e=e.replace(o,"").replace(a,"").toLowerCase();var t,n=!1;if(C[e])e=C[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=G.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=G.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=G.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=G.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=G.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=G.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=G.hex8.exec(e))return{r:R(t[1]),g:R(t[2]),b:R(t[3]),a:F(t[4]),format:n?"name":"hex8"};if(t=G.hex6.exec(e))return{r:R(t[1]),g:R(t[2]),b:R(t[3]),format:n?"name":"hex"};if(t=G.hex4.exec(e))return{r:R(t[1]+""+t[1]),g:R(t[2]+""+t[2]),b:R(t[3]+""+t[3]),a:F(t[4]+""+t[4]),format:n?"name":"hex8"};if(t=G.hex3.exec(e))return{r:R(t[1]+""+t[1]),g:R(t[2]+""+t[2]),b:R(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==typeof e&&(H(e.r)&&H(e.g)&&H(e.b)?(p=e.r,m=e.g,h=e.b,t={r:255*j(p,255),g:255*j(m,255),b:255*j(h,255)},d=!0,f="%"===String(e.r).substr(-1)?"prgb":"rgb"):H(e.h)&&H(e.s)&&H(e.v)?(r=P(e.s),s=P(e.v),t=function(e,t,n){e=6*j(e,360),t=j(t,100),n=j(n,100);var r=i.floor(e),o=e-r,a=n*(1-t),s=n*(1-o*t),l=n*(1-(1-o)*t),c=r%6;return{r:255*[n,s,a,a,l,n][c],g:255*[l,n,n,s,a,a][c],b:255*[a,a,l,n,n,s][c]}}(e.h,r,s),d=!0,f="hsv"):H(e.h)&&H(e.s)&&H(e.l)&&(r=P(e.s),l=P(e.l),t=function(e,t,n){var r,i,o;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=j(e,360),t=j(t,100),n=j(n,100),0===t)r=i=o=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;r=a(l,s,e+1/3),i=a(l,s,e),o=a(l,s,e-1/3)}return{r:255*r,g:255*i,b:255*o}}(e.h,r,l),d=!0,f="hsl"),e.hasOwnProperty("a")&&(n=e.a));var p,m,h;return n=N(n),{ok:d,format:e.format||f,r:c(255,u(t.r,0)),g:c(255,u(t.g,0)),b:c(255,u(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=l(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=l(this._r)),this._g<1&&(this._g=l(this._g)),this._b<1&&(this._b=l(this._b)),this._ok=n.ok,this._tc_id=s++}function p(e,t,n){e=j(e,255),t=j(t,255),n=j(n,255);var r,i,o=u(e,t,n),a=c(e,t,n),s=(o+a)/2;if(o==a)r=i=0;else{var l=o-a;switch(i=s>.5?l/(2-o-a):l/(o+a),o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,l:s}}function m(e,t,n){e=j(e,255),t=j(t,255),n=j(n,255);var r,i,o=u(e,t,n),a=c(e,t,n),s=o,l=o-a;if(i=0===o?0:l/o,o==a)r=0;else{switch(o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,v:s}}function h(e,t,n,r){var i=[D(l(e).toString(16)),D(l(t).toString(16)),D(l(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function g(e,t,n,r){return[D(B(r)),D(l(e).toString(16)),D(l(t).toString(16)),D(l(n).toString(16))].join("")}function y(e,t){t=0===t?0:t||10;var n=f(e).toHsl();return n.s-=t/100,n.s=L(n.s),f(n)}function v(e,t){t=0===t?0:t||10;var n=f(e).toHsl();return n.s+=t/100,n.s=L(n.s),f(n)}function b(e){return f(e).desaturate(100)}function w(e,t){t=0===t?0:t||10;var n=f(e).toHsl();return n.l+=t/100,n.l=L(n.l),f(n)}function x(e,t){t=0===t?0:t||10;var n=f(e).toRgb();return n.r=u(0,c(255,n.r-l(-t/100*255))),n.g=u(0,c(255,n.g-l(-t/100*255))),n.b=u(0,c(255,n.b-l(-t/100*255))),f(n)}function E(e,t){t=0===t?0:t||10;var n=f(e).toHsl();return n.l-=t/100,n.l=L(n.l),f(n)}function _(e,t){var n=f(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,f(n)}function A(e){var t=f(e).toHsl();return t.h=(t.h+180)%360,f(t)}function O(e){var t=f(e).toHsl(),n=t.h;return[f(e),f({h:(n+120)%360,s:t.s,l:t.l}),f({h:(n+240)%360,s:t.s,l:t.l})]}function S(e){var t=f(e).toHsl(),n=t.h;return[f(e),f({h:(n+90)%360,s:t.s,l:t.l}),f({h:(n+180)%360,s:t.s,l:t.l}),f({h:(n+270)%360,s:t.s,l:t.l})]}function T(e){var t=f(e).toHsl(),n=t.h;return[f(e),f({h:(n+72)%360,s:t.s,l:t.l}),f({h:(n+216)%360,s:t.s,l:t.l})]}function I(e,t,n){t=t||6,n=n||30;var r=f(e).toHsl(),i=360/n,o=[f(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(f(r));return o}function k(e,t){t=t||6;for(var n=f(e).toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/t;t--;)a.push(f({h:r,s:i,v:o})),o=(o+s)%1;return a}f.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:i.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=N(e),this._roundA=l(100*this._a)/100,this},toHsv:function(){var e=m(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=m(this._r,this._g,this._b),t=l(360*e.h),n=l(100*e.s),r=l(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=p(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=p(this._r,this._g,this._b),t=l(360*e.h),n=l(100*e.s),r=l(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return h(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,i){var o=[D(l(e).toString(16)),D(l(t).toString(16)),D(l(n).toString(16)),D(B(r))];if(i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0);return o.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:l(this._r),g:l(this._g),b:l(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+l(this._r)+", "+l(this._g)+", "+l(this._b)+")":"rgba("+l(this._r)+", "+l(this._g)+", "+l(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:l(100*j(this._r,255))+"%",g:l(100*j(this._g,255))+"%",b:l(100*j(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+l(100*j(this._r,255))+"%, "+l(100*j(this._g,255))+"%, "+l(100*j(this._b,255))+"%)":"rgba("+l(100*j(this._r,255))+"%, "+l(100*j(this._g,255))+"%, "+l(100*j(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(M[h(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+g(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=f(e);n="#"+g(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return f(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(w,arguments)},brighten:function(){return this._applyModification(x,arguments)},darken:function(){return this._applyModification(E,arguments)},desaturate:function(){return this._applyModification(y,arguments)},saturate:function(){return this._applyModification(v,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(_,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(I,arguments)},complement:function(){return this._applyCombination(A,arguments)},monochromatic:function(){return this._applyCombination(k,arguments)},splitcomplement:function(){return this._applyCombination(T,arguments)},triad:function(){return this._applyCombination(O,arguments)},tetrad:function(){return this._applyCombination(S,arguments)}},f.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:P(e[r]));e=n}return f(e,t)},f.equals=function(e,t){return!(!e||!t)&&f(e).toRgbString()==f(t).toRgbString()},f.random=function(){return f.fromRatio({r:d(),g:d(),b:d()})},f.mix=function(e,t,n){n=0===n?0:n||50;var r=f(e).toRgb(),i=f(t).toRgb(),o=n/100;return f({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},f.readability=function(e,t){var n=f(e),r=f(t);return(i.max(n.getLuminance(),r.getLuminance())+.05)/(i.min(n.getLuminance(),r.getLuminance())+.05)},f.isReadable=function(e,t,n){var r,i,o=f.readability(e,t);switch(i=!1,(r=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7}return i},f.mostReadable=function(e,t,n){var r,i,o,a,s=null,l=0;i=(n=n||{}).includeFallbackColors,o=n.level,a=n.size;for(var c=0;c<t.length;c++)(r=f.readability(e,t[c]))>l&&(l=r,s=f(t[c]));return f.isReadable(e,s,{level:o,size:a})||!i?s:(n.includeFallbackColors=!1,f.mostReadable(e,["#fff","#000"],n))};var C=f.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},M=f.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(C);function N(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function j(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=c(t,u(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),i.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function L(e){return c(1,u(0,e))}function R(e){return parseInt(e,16)}function D(e){return 1==e.length?"0"+e:""+e}function P(e){return e<=1&&(e=100*e+"%"),e}function B(e){return i.round(255*parseFloat(e)).toString(16)}function F(e){return R(e)/255}var U,z,V,G=(z="[\\s|\\(]+("+(U="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+U+")[,|\\s]+("+U+")\\s*\\)?",V="[\\s|\\(]+("+U+")[,|\\s]+("+U+")[,|\\s]+("+U+")[,|\\s]+("+U+")\\s*\\)?",{CSS_UNIT:new RegExp(U),rgb:new RegExp("rgb"+z),rgba:new RegExp("rgba"+V),hsl:new RegExp("hsl"+z),hsla:new RegExp("hsla"+V),hsv:new RegExp("hsv"+z),hsva:new RegExp("hsva"+V),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function H(e){return!!G.CSS_UNIT.exec(e)}e.exports?e.exports=f:void 0===(r=function(){return f}.call(t,n,t,e))||(e.exports=r)}(Math)},function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var r=n(106),i=n(139),o=n(5),a=n(3),s=864e5;var l=n(335),c=n(301),u=n(334),d=n(235),f=n(39),p=n(145),m="midnight",h="noon",g="morning",y="afternoon",v="evening",b="night";function w(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),o=r%60;if(0===o)return n+String(i);var a=t||"";return n+String(i)+a+Object(f.a)(o,2)}function x(e,t){return e%60==0?(e>0?"-":"+")+Object(f.a)(Math.abs(e)/60,2):E(e,t)}function E(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e);return r+Object(f.a)(Math.floor(i/60),2)+n+Object(f.a)(i%60,2)}var _={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return p.a.y(e,t)},Y:function(e,t,n,r){var i=Object(d.a)(e,r),o=i>0?i:1-i;if("YY"===t){var a=o%100;return Object(f.a)(a,2)}return"Yo"===t?n.ordinalNumber(o,{unit:"year"}):Object(f.a)(o,t.length)},R:function(e,t){var n=Object(c.a)(e);return Object(f.a)(n,t.length)},u:function(e,t){var n=e.getUTCFullYear();return Object(f.a)(n,t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Object(f.a)(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Object(f.a)(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return p.a.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return Object(f.a)(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var i=Object(u.a)(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):Object(f.a)(i,t.length)},I:function(e,t,n){var r=Object(l.a)(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):Object(f.a)(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):p.a.d(e,t)},D:function(e,t,n){var r=function(e){Object(a.a)(1,arguments);var t=Object(o.a)(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),i=n-r;return Math.floor(i/s)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):Object(f.a)(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Object(f.a)(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Object(f.a)(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return Object(f.a)(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,i=e.getUTCHours();switch(r=12===i?h:0===i?m:i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,i=e.getUTCHours();switch(r=i>=17?v:i>=12?y:i>=4?g:b,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return p.a.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):p.a.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):Object(f.a)(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):Object(f.a)(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):p.a.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):p.a.s(e,t)},S:function(e,t){return p.a.S(e,t)},X:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return x(i);case"XXXX":case"XX":return E(i);case"XXXXX":case"XXX":default:return E(i,":")}},x:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return x(i);case"xxxx":case"xx":return E(i);case"xxxxx":case"xxx":default:return E(i,":")}},O:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+w(i,":");case"OOOO":default:return"GMT"+E(i,":")}},z:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+w(i,":");case"zzzz":default:return"GMT"+E(i,":")}},t:function(e,t,n,r){var i=r._originalDate||e,o=Math.floor(i.getTime()/1e3);return Object(f.a)(o,t.length)},T:function(e,t,n,r){var i=(r._originalDate||e).getTime();return Object(f.a)(i,t.length)}},A=n(265),O=n(83),S=n(160),T=n(11),I=n(53),k=n(133),C=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,M=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,N=/^'([^]*?)'?$/,j=/''/g,L=/[a-zA-Z]/;function R(e,t,n){var s,l,c,u,d,f,p,m,h,g,y,v,b,w,x,E,N,j;Object(a.a)(2,arguments);var R=String(t),P=Object(I.a)(),B=null!==(s=null!==(l=null==n?void 0:n.locale)&&void 0!==l?l:P.locale)&&void 0!==s?s:k.a,F=Object(T.a)(null!==(c=null!==(u=null!==(d=null!==(f=null==n?void 0:n.firstWeekContainsDate)&&void 0!==f?f:null==n||null===(p=n.locale)||void 0===p||null===(m=p.options)||void 0===m?void 0:m.firstWeekContainsDate)&&void 0!==d?d:P.firstWeekContainsDate)&&void 0!==u?u:null===(h=P.locale)||void 0===h||null===(g=h.options)||void 0===g?void 0:g.firstWeekContainsDate)&&void 0!==c?c:1);if(!(F>=1&&F<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var U=Object(T.a)(null!==(y=null!==(v=null!==(b=null!==(w=null==n?void 0:n.weekStartsOn)&&void 0!==w?w:null==n||null===(x=n.locale)||void 0===x||null===(E=x.options)||void 0===E?void 0:E.weekStartsOn)&&void 0!==b?b:P.weekStartsOn)&&void 0!==v?v:null===(N=P.locale)||void 0===N||null===(j=N.options)||void 0===j?void 0:j.weekStartsOn)&&void 0!==y?y:0);if(!(U>=0&&U<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!B.localize)throw new RangeError("locale must contain localize property");if(!B.formatLong)throw new RangeError("locale must contain formatLong property");var z=Object(o.a)(e);if(!Object(r.a)(z))throw new RangeError("Invalid time value");var V=Object(O.a)(z),G=Object(i.a)(z,V),H={firstWeekContainsDate:F,weekStartsOn:U,locale:B,_originalDate:z},W=R.match(M).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,A.a[t])(e,B.formatLong):e})).join("").match(C).map((function(r){if("''"===r)return"'";var i=r[0];if("'"===i)return D(r);var o=_[i];if(o)return null!=n&&n.useAdditionalWeekYearTokens||!Object(S.b)(r)||Object(S.c)(r,t,String(e)),null!=n&&n.useAdditionalDayOfYearTokens||!Object(S.a)(r)||Object(S.c)(r,t,String(e)),o(G,r,B.localize,H);if(i.match(L))throw new RangeError("Format string contains an unescaped latin alphabet character `"+i+"`");return r})).join("");return W}function D(e){var t=e.match(N);return t?t[1].replace(j,"'"):e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return M})),n.d(t,"b",(function(){return N}));var r=n(0),i=n.n(r),o=n(2),a=n.n(o),s=n(8),l=n(58),c=n(520),u=n.n(c),d=n(105);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p=function(e){var t=e.getIn,n=e.toJS,r=function(e){var r,i=n(t(e,["router"]));if(null==(r=i)||"object"!==f(r)||!t(r,["location"])||!t(r,["action"]))throw'Could not find router reducer in state tree, it must be mounted under "router"';return i},i=function(e){return n(t(r(e),["location"]))};return{getLocation:i,getAction:function(e){return n(t(r(e),["action"]))},getRouter:r,getSearch:function(e){return n(t(r(e),["location","search"]))},getHash:function(e){return n(t(r(e),["location","hash"]))},createMatchSelector:function(e){var t=null,n=null;return function(r){var o=(i(r)||{}).pathname;if(o===t)return n;t=o;var a=Object(l.g)(o,e);return a&&n&&a.url===n.url&&a.isExact===n.isExact||(n=a),n}}}};function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=function(e){if(e&&e.query)return e;var t=e&&e.search;if("string"!=typeof t||0===t.length)return A({},e,{query:{}});var n=t.substring(1).split("&").reduce((function(e,t){var n=x(t.split("="),2);return A({},e,O({},n[0],n[1]))}),{});return A({},e,{query:n})},T=function(e){var t=e.fromJS,n=e.merge;return function(e){var r=t({location:S(e.location),action:e.action});return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.type,a=i.payload;if(o===d.b){var s=a.location,l=a.action,c=a.isFirstRendering;return c?e:n(e,{location:t(S(s)),action:l})}return e}}};function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C={fromJS:function(e){return e},getIn:function(e,t){if(!e)return e;var n=t.length;if(n){for(var r=e,i=0;i<n&&r;++i)r=r[t[i]];return r}},merge:function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{},t)},toJS:function(e){return e}},M=function(e){var t=p(e).getLocation,n=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(c,e);var n,r,o,a,s=(n=c,function(){var e,t=b(n);if(v()){var r=b(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return y(this,e)});function c(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),n=s.call(this,e);var r=e.store,i=e.history,o=e.onLocationChanged,a=e.stateCompareFunction;n.inTimeTravelling=!1,n.unsubscribe=r.subscribe((function(){var o=!e.noTimeTravelDebugging,s=t(r.getState()),l=s.pathname,c=s.search,d=s.hash,f=s.state,p=i.location,m=p.pathname,h=p.search,g=p.hash,y=p.state;!o||"PUSH"!==e.history.action||m===l&&h===c&&g===d&&u()(f,y,a)||(n.inTimeTravelling=!0,i.push({pathname:l,search:c,hash:d,state:f}))}));var l=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n.inTimeTravelling?n.inTimeTravelling=!1:o(e,t,r)};return n.unlisten=i.listen(l),e.noInitialPop||l(i.location,i.action,!0),n}return r=c,(o=[{key:"componentWillUnmount",value:function(){this.unlisten(),this.unsubscribe()}},{key:"render",value:function(){var e=this.props,t=e.omitRouter,n=e.history,r=e.children;return t?i.a.createElement(i.a.Fragment,null,r):i.a.createElement(l.d,{history:n},r)}}])&&g(r.prototype,o),a&&g(r,a),c}(r.PureComponent);n.propTypes={store:a.a.shape({getState:a.a.func.isRequired,subscribe:a.a.func.isRequired}).isRequired,history:a.a.shape({action:a.a.string.isRequired,listen:a.a.func.isRequired,location:a.a.object.isRequired,push:a.a.func.isRequired}).isRequired,basename:a.a.string,children:a.a.oneOfType([a.a.func,a.a.node]),onLocationChanged:a.a.func.isRequired,noInitialPop:a.a.bool,noTimeTravelDebugging:a.a.bool,stateCompareFunction:a.a.func,omitRouter:a.a.bool};var o=function(e){var t=e.context||s.b;if(null==t)throw"Please upgrade to react-redux v6";return i.a.createElement(t.Consumer,null,(function(t){var r=t.store;return i.a.createElement(n,h({store:r},e))}))};return o.propTypes={context:a.a.object},Object(s.c)(null,(function(e){return{onLocationChanged:function(t,n,r){return e(Object(d.c)(t,n,r))}}}))(o)}(C),N=T(C),j=p(C);j.getLocation,j.getAction,j.getHash,j.getRouter,j.getSearch,j.createMatchSelector},function(e,t,n){var r=n(429),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);if(isNaN(t))return t;return t<0?Math.ceil(t):Math.floor(t)},e.exports=t.default},function(e,t,n){e.exports=n(665)},function(e,t,n){"use strict";e.exports=n(530)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(5),i=n(3);function o(e,t){return Object(i.a)(2,arguments),Object(r.a)(e).getTime()-Object(r.a)(t).getTime()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(5),i=n(3);function o(e){Object(i.a)(1,arguments);var t=Object(r.a)(e),n=t.getDay();return n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(95),i=n(3),o=n(11);function a(e,t){Object(i.a)(2,arguments);var n=Object(o.a)(t);return Object(r.a)(e,-n)}},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return a}));var i,o,a=n(1).default.button(r||(i=["\n  background: transparent;\n  border: none;\n  margin: 0;\n  padding: 0;\n"],o||(o=i.slice(0)),r=Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(o)}}))))},function(e,t,n){"use strict";n.d(t,"b",(function(){return Et}));var r,i,o,a,s,l=n(8),c=n(229),u=n(69),d=n(153),f=n(42),p=n(75),m=n.n(p),h=n(7),g=n(125),y=n.n(g),v=n(2),b=n.n(v),w=n(0),x=n.n(w),E=n(268),_=n.n(E),A=n(21),O=n(44),S=n(16),T=n(48),I=n(72),k=n(32),C=n(26),M=n(119),N=n(293),j=n(47),L=n(110),R=n(1054),D=n(1);function P(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var B,F,U=Object(D.default)(R.a)(r||(r=P(["\n  display: flex;\n  flex: 1;\n  margin-top: 5px;\n  button {\n    flex: 1;\n  }\n"]))),z=D.default.div(i||(i=P(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n\n  // Prevent the loading spinner from clipping the top of the container\n  .loading-container {\n    margin-top: 25px;\n  }\n"]))),V=D.default.ul(o||(o=P(["\n  list-style: none;\n  padding: 0;\n"]))),G=D.default.div(a||(a=P(["\n  padding: 0 1em;\n"]))),H=D.default.ul(s||(s=P(["\n  display: grid;\n  gap: 10px;\n  grid-template-columns: 1fr 1fr 1fr;\n  list-style: none;\n  padding: 0 0 15px 0;\n\n  &:first-of-type {\n    margin-top: 15px;\n  }\n"]))),W=n(243),Y=n(143),Q=n(84),Z=n(20),X=n(231);function J(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var q,K,$,ee=D.default.ul(B||(B=J(["\n  margin: 0;\n  padding: 0;\n"]))),te=D.default.li(F||(F=J(["\n  background: rgba(0, 0, 0, 0.1);\n  display: grid;\n  grid-template-columns: 1fr 3fr;\n  grid-template-rows: 1fr max-content;\n  list-style-type: none;\n  margin: 0;\n  padding: 0 1em;\n\n  h3 {\n    grid-column: 2;\n    grid-row: 1;\n  }\n\n  span {\n    grid-column: 1;\n    grid-row: 1 / -1;\n    place-self: center;\n  }\n\n  p {\n    grid-column: 2;\n    grid-row: 2;\n    padding-bottom: 10px;\n  }\n"]))),ne=Object(l.c)((function(e){var t=e.otp.config.itinerary;return{exclusiveErrors:(null==t?void 0:t.exclusiveErrors)||["NO_TRANSIT_CONNECTION"],mutedErrors:null==t?void 0:t.mutedErrors}}))((function(e){var t=e.errors,n=e.exclusiveErrors,r=e.mutedErrors,i=Object(Q.a)();return x.a.createElement(ee,null,Object.keys(t).filter((function(e){return"NO_TRANSIT_CONNECTION_IN_SEARCH_WINDOW"!==e&&!(null==r?void 0:r.includes(e))})).filter((function(e,t,r){return!(r.length>1&&(null==n?void 0:n.includes(e)))})).map((function(e){var n,r=null===(n=Array.from(t[e]))||void 0===n?void 0:n.map((function(e){return i.formatMessage({id:"components.OTP2ErrorRenderer.inputFields.".concat(e)})}));return x.a.createElement(te,{key:e},x.a.createElement(Z.a,{Icon:Y.a,size:"3x"}),x.a.createElement("h3",null,x.a.createElement(u.a,{id:"components.OTP2ErrorRenderer.".concat(e,".header")})),x.a.createElement("p",null,x.a.createElement(u.a,{id:"components.OTP2ErrorRenderer.".concat(e,".body"),values:{inputFields:i.formatList(r),inputFieldsCount:r.length,link:function(t){return x.a.createElement(X.a,{contents:t,inline:!0,style:{color:"inherit"},url:i.formatMessage({id:"components.OTP2ErrorRenderer.".concat(e,".link")})})}}})))})))})),re=n(128),ie=n(149),oe=n(244);function ae(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var se=D.default.div(q||(q=ae(["\n  border-top: 1px solid grey;\n  display: flex;\n  padding: 10px;\n"]))),le=D.default.div(K||(K=ae(["\n  font-size: 18px;\n  height: 24px;\n  width: 24px;\n"]))),ce=D.default.div($||($=ae(["\n  font-size: 14px;\n  margin-left: 10px;\n  text-align: left;\n"])));function ue(e){var t=e.errors,n=Object(Q.a)();return t.map((function(e,t){var r=x.a.createElement(Z.c,{className:"text-warning"},x.a.createElement(ie.ExclamationTriangle,null));if(e.network){var i=Object(oe.getCompanyIcon)(e.network);i&&(r=x.a.createElement(w.Suspense,{fallback:x.a.createElement("span",null,"Loading...")},x.a.createElement(i,null)))}return x.a.createElement(se,{key:t},x.a.createElement(le,null,r),x.a.createElement(ce,null,Object(S.getErrorMessage)(e,n)))}))}var de=n(111),fe=n(89),pe=n(4),me=n.n(pe),he=n(10),ge=w.forwardRef((function(e,t){return w.createElement(he.a,me()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 576 512"},e,{ref:t}),w.createElement("path",{fill:"currentColor",d:"M151.6 469.6C145.5 476.2 137 480 128 480s-17.5-3.8-23.6-10.4l-88-96c-11.9-13-11.1-33.3 2-45.2s33.3-11.1 45.2 2L96 365.7V64c0-17.7 14.3-32 32-32s32 14.3 32 32v301.7l32.4-35.4c11.9-13 32.2-13.9 45.2-2s13.9 32.2 2 45.2l-88 96zM320 480c-17.7 0-32-14.3-32-32s14.3-32 32-32h32c17.7 0 32 14.3 32 32s-14.3 32-32 32h-32zm0-128c-17.7 0-32-14.3-32-32s14.3-32 32-32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32h-96zm0-128c-17.7 0-32-14.3-32-32s14.3-32 32-32h160c17.7 0 32 14.3 32 32s-14.3 32-32 32H320zm0-128c-17.7 0-32-14.3-32-32s14.3-32 32-32h224c17.7 0 32 14.3 32 32s-14.3 32-32 32H320z"}))}));ge.displayName="SortAmountDown";var ye=w.forwardRef((function(e,t){return w.createElement(he.a,me()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 576 512"},e,{ref:t}),w.createElement("path",{fill:"currentColor",d:"M151.6 42.4C145.5 35.8 137 32 128 32s-17.5 3.8-23.6 10.4l-88 96c-11.9 13-11.1 33.3 2 45.2s33.3 11.1 45.2-2L96 146.3V448c0 17.7 14.3 32 32 32s32-14.3 32-32V146.3l32.4 35.4c11.9 13 32.2 13.9 45.2 2s13.9-32.2 2-45.2l-88-96zM320 480h32c17.7 0 32-14.3 32-32s-14.3-32-32-32h-32c-17.7 0-32 14.3-32 32s14.3 32 32 32zm0-128h96c17.7 0 32-14.3 32-32s-14.3-32-32-32h-96c-17.7 0-32 14.3-32 32s14.3 32 32 32zm0-128h160c17.7 0 32-14.3 32-32s-14.3-32-32-32H320c-17.7 0-32 14.3-32 32s14.3 32 32 32zm0-128h224c17.7 0 32-14.3 32-32s-14.3-32-32-32H320c-17.7 0-32 14.3-32 32s14.3 32 32 32z"}))}));ye.displayName="SortAmountUp";var ve=n(182),be=n(240),we=n(509),xe=n(173),Ee=n(181),_e=n(460),Ae=n(95),Oe=n(144),Se=n(43),Te=n(91),Ie=n(25),ke=n(46);function Ce(e){var t=Object(S.getActiveItineraries)(e);return Object(S.getActiveItinerary)(e)||t[0]}function Me(e,t,n,r){return function(i,o){var a=o(),s=a.otp.config.api,l={date:Object(xe.a)(t,Oe.OTP_API_DATE_FORMAT),departArrive:e,time:n};(null==s?void 0:s.v2)||(r||(r=Ce(a)),l.startTransitStopId=Object(I.getFirstStopId)(r)),i(function(e){return function(t){t(Object(ke.h)(e)),t(Object(Ie.O)())}}(l))}}function Ne(e,t){return function(n,r){var i=r().otp,o=i.config,a=i.currentQuery,s=o.homeTimezone,l=a.date,c=a.time,u=Object(Se.toDate)(l,{timeZone:s}),d=-1===e;d&&function(e){var t=e.departArrive,n=e.time;return"DEPART"===t&&n===Te.a}(a)?u=Object(Ee.a)(u,1):d||Object(_e.a)(Object(Se.toDate)("".concat(l," ").concat(c),{timeZone:s}),Object(Te.f)(l,s))||(u=Object(Ae.a)(u,1)),t&&n(Object(M.e)({sort:t})),n(Me(d?"DEPART":"ARRIVE",u,Te.a))}}function je(e){return function(t,n){var r=n(),i=r.otp.config.homeTimezone,o=Ce(r),a=e<0,s=Object(Se.utcToZonedTime)(new Date((a?o.startTime:o.endTime)+e),i);t(Me(a?"ARRIVE":"DEPART",s,Object(xe.a)(s,Oe.OTP_API_TIME_FORMAT),o))}}var Le={planFirst:function(){return Ne(-1,{direction:"ASC",type:"DEPARTURETIME"})},planLast:function(){return Ne(1,{direction:"DESC",type:"DEPARTURETIME"})},planNext:function(){return je(9e4)},planPrevious:function(){return je(-9e4)}},Re=Object(l.c)((function(e,t){var n,r=Object(S.getActiveItineraries)(e);return{enabled:null===(n=e.otp.config.itinerary)||void 0===n?void 0:n.showPlanFirstLastButtons,itineraries:r}}),Le)((function(e){var t=e.enabled,n=e.itineraries,r=e.planFirst,i=e.planLast,o=e.planNext,a=e.planPrevious;return t&&0!==n.length?x.a.createElement(U,null,x.a.createElement(we.a,{bsSize:"small",onClick:r},x.a.createElement(u.a,{id:"components.PlanFirstLastButtons.first"})),x.a.createElement(we.a,{bsSize:"small",onClick:a},x.a.createElement(u.a,{id:"components.PlanFirstLastButtons.previous"})),x.a.createElement(we.a,{bsSize:"small",onClick:o},x.a.createElement(u.a,{id:"components.PlanFirstLastButtons.next"})),x.a.createElement(we.a,{bsSize:"small",onClick:i},x.a.createElement(u.a,{id:"components.PlanFirstLastButtons.last"}))):null})),De=n(292),Pe=n(320),Be=n(1061),Fe=n(24),Ue=n(37),ze=n(28),Ve=n(29),Ge=n.n(Ve),He=n(321),We=n.n(He),Ye=n(13),Qe={id:We()(b.a.oneOfType([b.a.string,b.a.number])),placement:b.a.oneOf(["top","right","bottom","left"]),positionTop:b.a.oneOfType([b.a.number,b.a.string]),positionLeft:b.a.oneOfType([b.a.number,b.a.string]),arrowOffsetTop:b.a.oneOfType([b.a.number,b.a.string]),arrowOffsetLeft:b.a.oneOfType([b.a.number,b.a.string])},Ze=function(e){function t(){return e.apply(this,arguments)||this}return Object(ze.a)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.placement,r=t.positionTop,i=t.positionLeft,o=t.arrowOffsetTop,a=t.arrowOffsetLeft,s=t.className,l=t.style,c=t.children,u=Object(Ue.a)(t,["placement","positionTop","positionLeft","arrowOffsetTop","arrowOffsetLeft","className","style","children"]),d=Object(Ye.f)(u),f=d[0],p=d[1],m=Object(Fe.a)({},Object(Ye.d)(f),((e={})[n]=!0,e)),h=Object(Fe.a)({top:r,left:i},l),g={top:o,left:a};return x.a.createElement("div",Object(Fe.a)({},p,{role:"tooltip",className:Ge()(s,m),style:h}),x.a.createElement("div",{className:Object(Ye.e)(f,"arrow"),style:g}),x.a.createElement("div",{className:Object(Ye.e)(f,"inner")},c))},t}(x.a.Component);Ze.propTypes=Qe,Ze.defaultProps={placement:"right"};var Xe=Object(Ye.a)("tooltip",Ze),Je=w.forwardRef((function(e,t){return w.createElement(he.a,me()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),w.createElement("path",{fill:"currentColor",d:"M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0 0 114.6 0 256s114.6 256 256 256zm-24-168v-64h-64c-13.3 0-24-10.7-24-24s10.7-24 24-24h64v-64c0-13.3 10.7-24 24-24s24 10.7 24 24v64h64c13.3 0 24 10.7 24 24s-10.7 24-24 24h-64v64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"}))}));Je.displayName="PlusCircle";var qe,Ke,$e,et=n(38),tt=n(272),nt=Object(l.c)((function(e){var t=e.otp.config.persistence;return{itinerary:Object(S.getActiveItinerary)(e),loggedInUser:e.user.loggedInUser,persistence:t}}))((function(e){var t,n,r,i,o=e.itinerary,a=e.loggedInUser,s=e.persistence,l=Object(Q.a)();if(!s||!s.enabled)return null;if(a?Object(I.itineraryCanBeMonitored)(o)||(t=!0,n=x.a.createElement(u.a,{id:"components.SaveTripButton.cantSaveText"}),i=De.a,r=l.formatMessage({id:"components.SaveTripButton.cantSaveTooltip"})):(t=!0,n=x.a.createElement(u.a,{id:"components.SaveTripButton.signInText"}),i=Pe.a,r=l.formatMessage({id:"components.SaveTripButton.signInTooltip"})),t){var c=x.a.createElement("button",{className:"clear-button-formatting pull-right",disabled:t,style:{pointerEvents:"none"}},x.a.createElement(Z.b,{Icon:i},n));return x.a.createElement(Be.a,{overlay:x.a.createElement(Xe,{id:"disabled-save-tooltip"},r),placement:"top"},x.a.createElement("div",{className:"pull-right",style:{cursor:"not-allowed"}},c))}return x.a.createElement(tt.m,{className:"pull-right",to:et.i},x.a.createElement(Z.b,{Icon:Je},x.a.createElement(u.a,{id:"components.SaveTripButton.saveTripText"})))}));function rt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var it=D.default.button(qe||(qe=rt(["\n  background-color: #ecbe03;\n  border: none;\n  border-radius: 5px;\n  display: inline-block;\n  font-size: 12px;\n  padding: 2px 4px;\n"]))),ot=D.default.div(Ke||(Ke=rt(["\n  display: flex;\n  float: left;\n  gap: 8px;\n  margin-left: ",";\n"])),(function(e){return e.showHeaderText?"inherit":"auto"})),at=Object(D.default)(fe.a)($e||($e=rt(["\n  button {\n    border: none;\n  }\n"])));function st(e){var t,n=e.customBatchUiBackground,r=e.enabledSortModes,i=e.errors,o=e.itineraries,a=e.itineraryIsExpanded,s=e.onSortChange,l=e.onSortDirChange,c=e.onToggleShowErrors,d=e.onViewAllOptions,f=e.pending,p=e.popupTarget,m=e.setPopupContent,h=e.showHeaderText,g=void 0===h||h,y=e.showingErrors,v=e.sort,b=Object(Q.a)(),w=b.formatMessage({id:"components.NarrativeItinerariesHeader.itinerariesFound"},{itineraryNum:o.length}),E=b.formatMessage({id:"components.NarrativeItinerariesHeader.numIssues"},{issueNum:i.length}),_=b.formatMessage({id:"components.NarrativeItinerariesHeader.sortResults"}),A=b.formatMessage({id:"components.NarrativeItinerariesHeader.searching"}),O=f?A:b.formatList([w,E],{type:"conjunction"}),S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["BEST","DURATION","ARRIVALTIME","WALKTIME","COST","DEPARTURETIME"];return[{text:e.formatMessage({id:"components.NarrativeItinerariesHeader.selectBest"}),value:"BEST"},{text:e.formatMessage({id:"components.NarrativeItinerariesHeader.selectDuration"}),value:"DURATION"},{text:e.formatMessage({id:"components.NarrativeItinerariesHeader.selectArrivalTime"}),value:"ARRIVALTIME"},{text:e.formatMessage({id:"components.NarrativeItinerariesHeader.selectDepartureTime"}),value:"DEPARTURETIME"},{text:e.formatMessage({id:"components.NarrativeItinerariesHeader.selectWalkTime"}),value:"WALKTIME"},{text:e.formatMessage({id:"components.NarrativeItinerariesHeader.selectCost"}),value:"COST"}].filter((function(e){return t.includes(e.value)}))}(b,r),T=null===(t=S.find((function(e){return e.value===v.type})))||void 0===t?void 0:t.text;return x.a.createElement("div",{className:"options header",style:{alignItems:"end",display:"flex",flexWrap:"wrap"}},x.a.createElement(j.a,{as:"div",role:"status"},x.a.createElement("p",null,O),!f&&0!==o.length&&x.a.createElement(x.a.Fragment,null,x.a.createElement("p",null,x.a.createElement(u.a,{id:"components.NarrativeItinerariesHeader.howToFindResults"})),x.a.createElement("p",null,b.formatMessage({id:"components.NarrativeItinerariesHeader.resultsSortedBy"},{sortSelected:T})))),a||y?x.a.createElement(x.a.Fragment,null,x.a.createElement("button",{className:"clear-button-formatting",onClick:d},x.a.createElement(Z.b,{Icon:de.a},x.a.createElement(u.a,{id:"components.NarrativeItinerariesHeader.viewAll"}))),a&&x.a.createElement("div",{style:{marginLeft:"auto"}},x.a.createElement(nt,null))):x.a.createElement(x.a.Fragment,null,g?x.a.createElement("div",{style:{flexGrow:1}},x.a.createElement("h1",{style:{display:"inline",fontSize:"15px",marginRight:"10px"}},f?A:w),i.length>0&&x.a.createElement(it,{onClick:c},x.a.createElement(Z.b,{Icon:ie.ExclamationTriangle},x.a.createElement("span",null,E)))):x.a.createElement(j.a,{as:"h2"},w),x.a.createElement(ot,{showHeaderText:g},p&&x.a.createElement("button",{onClick:function(){return m(p)}},x.a.createElement(be.a,{compact:!0,popupTarget:p})),x.a.createElement("button",{className:"clear-button-formatting",onClick:l,title:b.formatMessage({id:"components.NarrativeItinerariesHeader.changeSortDir"})},x.a.createElement(Z.c,{className:"".concat(n&&"base-color-bg")},"asc"===v.direction.toLowerCase()?x.a.createElement(ye,null):x.a.createElement(ge,null))),x.a.createElement(at,{id:"sort-results",label:_,text:T,title:_},S.map((function(e){return x.a.createElement("li",{className:"sort-option",key:e.value},x.a.createElement(ve.a,{"aria-selected":T===e.text||void 0,onClick:function(){return s(e.value)},role:"option"},e.text))})))),x.a.createElement(Re,null)))}function lt(e){return(lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ct(e){return function(e){if(Array.isArray(e))return ut(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ut(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ut(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pt(e,t){return(pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yt(e);if(t){var i=yt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ht(this,n)}}function ht(e,t){if(t&&("object"===lt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return gt(e)}function gt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yt(e){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(n),!0).forEach((function(t){wt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xt(e){return{itinerary:e,legs:e.legs,realtime:Object(T.c)(e)}}var Et=y()((function(e){var t=e.reduce((function(e,t){var n=m()(e),r=m()(t),i=n.findIndex((function(e){return Object(I.itinerariesAreEqual)(e,t)}));if(-1===i||t.legs.some(f.isFlex))n.push(r);else if(Object(c.a)(r.startTime,Date.now())<1){var o=n[i],a=o,s=r;o.startTime>r.startTime&&((a=r).startTimes=o.allStartTimes,n[i]=r,s=o),a.allStartTimes||(a.allStartTimes=[xt(a)]),a.allStartTimes.find((function(e){return Object(I.getFirstLegStartTime)(e.legs)===s.startTime}))||a.allStartTimes.push(xt(s)),a.legs=a.legs.map((function(e,t){var n=m()(e),r=s.legs[t],i=null==r?void 0:r.routeId;return i&&(null==e?void 0:e.routeId)&&(null==e?void 0:e.routeId)!==i&&(n.alternateRoutes||(n.alternateRoutes={}),n.alternateRoutes[i]=bt({},r)),n}))}return n}),[]).map((function(e){var t;if(null===(t=e.allStartTimes)||void 0===t?void 0:t.length){var n=Object(I.sortStartTimes)(e.allStartTimes),r=n[0].itinerary;return r.allStartTimes=n,r}return e}));return{allItineraries:e.map((function(e,n){var r;return bt(bt({},e),{},{allStartTimes:null===(r=t.find((function(e){var t;return null===(t=e.allStartTimes)||void 0===t?void 0:t.find((function(e){return e.itinerary.index===n}))})))||void 0===r?void 0:r.allStartTimes,index:n})})),mergedItineraries:t}})),_t=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pt(e,t)}(o,e);var t,n,r,i=mt(o);function o(){var e;dt(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return wt(gt(e=i.call.apply(i,[this].concat(n))),"state",{showingErrors:!1}),wt(gt(e),"_setActiveLeg",(function(t,n){var r=e.props,i=r.activeLeg,o=r.setActiveLeg,a=r.setItineraryView;i===t?(o(null,null),a(k.a.FULL)):(o(t,n),a(k.a.LEG))})),wt(gt(e),"_toggleDetailedItinerary",(function(){var t=e.props,n=t.setActiveLeg;(0,t.setItineraryView)(t.showDetails?k.a.LIST:k.a.FULL),n(null,null)})),wt(gt(e),"_onSortChange",(function(t){var n=e.props,r=n.sort;(0,n.updateItineraryFilter)({sort:bt(bt({},r),{},{type:t})})})),wt(gt(e),"_onSortDirChange",(function(){var t=e.props,n=t.sort,r=t.updateItineraryFilter,i="ASC"===n.direction?"DESC":"ASC";r({sort:bt(bt({},n),{},{direction:i})})})),wt(gt(e),"_onViewAllOptions",(function(){var t=e.props,n=t.itineraryIsExpanded;(0,t.setActiveItinerary)({index:-1}),n?e._toggleDetailedItinerary():e._toggleShowErrors()})),wt(gt(e),"_toggleShowErrors",(function(){e.setState({showingErrors:!e.state.showingErrors})})),wt(gt(e),"_renderLoadingSpinner",(function(){var t=e.props,n=t.pending;if(!t.renderSkeletons)return n?x.a.createElement(re.b,null):null})),wt(gt(e),"_renderLoadingDivs",(function(){var t=e.props,n=t.itineraries,r=t.modes,i=t.pending,o=t.renderSkeletons,a=e.state.showingErrors;if(!o)return null;if(!i||a)return null;var s=r.combinations?r.combinations.length-n.length:0;return Array.from({length:s},(function(e,t){return x.a.createElement("div",{className:"option default-itin",key:t},x.a.createElement(E.SkeletonTheme,{color:C.j[100],highlightColor:C.j[50]},x.a.createElement(_.a,{count:3})))}))})),wt(gt(e),"_renderItineraryRow",(function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.props,i=r.activeItinerary,o=r.activeLeg,a=r.activeStep,s=r.itineraryIsExpanded,l=r.realtimeEffects,c=r.setActiveItinerary,u=r.setActiveStep,d=r.setVisibleItinerary,f=r.showDetails,p=r.sort,m=r.timeFormat,h=r.visibleItinerary;if(!t)return null;var g=t.index===i,y=t.index===h;if(!g&&s)return null;var v=e.context,b=v.ItineraryBody,w=v.LegIcon,E=s?"div":"li",_=l.isAffectedByRealtimeData&&(l.exceedsThreshold||l.routesDiffer);return x.a.createElement(E,{className:"result",key:t.index},x.a.createElement(b,{active:g,activeLeg:o,activeStep:a,expanded:f,index:t.index,itinerary:t,LegIcon:w,mini:n,onClick:g?e._toggleDetailedItinerary:void 0,role:"listitem",routingType:"ITINERARY",setActiveItinerary:c,setActiveLeg:e._setActiveLeg,setActiveStep:u,setVisibleItinerary:d,showRealtimeAnnotation:_,sort:p,timeFormat:m,toggleDetailedItinerary:e._toggleDetailedItinerary,visible:y}))})),e}return t=o,(n=[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.activeItinerary,r=t.activeSearch,i=t.itineraryConfig,o=t.mergedItineraries,a=t.setActiveItinerary,s=t.setVisibleItinerary,l=t.visibleItinerary,c=(h.default.query.getUrlParams()||{}).ui_activeItinerary;r&&void 0!==c&&"-1"!==c&&n!==+c&&(a({index:+c}),s({index:+c})),(null==i?void 0:i.showFirstResultByDefault)&&(-1!==n||null!==l&&!1!==l||e.mergedItineraries.length===o.length||s({index:(null==o?void 0:o.length)>0&&(null==o?void 0:o[0].index)}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.activeItinerary,r=t.activeSearch,i=t.customBatchUiBackground,o=t.enabledSortModes,a=t.errorMessages,s=t.errors,l=t.errorsOtp2,c=t.groupItineraries,d=t.groupTransitModes,p=t.intl,h=t.itineraries,g=t.itineraryIsExpanded,y=t.mergedItineraries,v=t.pending,b=t.popupTarget,w=t.setPopupContent,E=t.showHeaderText,_=t.sort,A=t.user,O=this.state.showingErrors;if(!r)return null;var S=g?"div":V,T=null==h?void 0:h[n],I=y.reduce((function(e,t){var n=m()(e),r=Object(W.b)({combineTransitModes:d,intl:p,itinerary:t}),i=t.legs.filter(f.isTransitLeg).length>0?n.multi:n.single;return i[r]||(i[r]=[]),i[r].push(t),n}),{multi:{},single:{}});return x.a.createElement(z,{className:"options itinerary ".concat(i&&!g&&"base-color-bg")},x.a.createElement(L.a,{title:Object(N.a)(r.query,p,A.savedLocations)}),x.a.createElement(st,{customBatchUiBackground:i,enabledSortModes:o,errors:s,itineraries:y,itinerary:T,itineraryIsExpanded:g,onSortChange:this._onSortChange,onSortDirChange:this._onSortDirChange,onToggleShowErrors:this._toggleShowErrors,onViewAllOptions:this._onViewAllOptions,pending:v,popupTarget:b,setPopupContent:w,showHeaderText:E,showingErrors:O,sort:_}),x.a.createElement("div",{className:"list",id:"itinerary-menu",style:{flexGrow:"1",overflowY:"auto"}},!v&&x.a.createElement(ne,{errors:l,itinerariesLength:y.length}),O||0===y.length?x.a.createElement(ue,{errorMessages:a,errors:s}):x.a.createElement(x.a.Fragment,null,c&&!g?Object.keys(I.multi).map((function(t){return x.a.createElement(G,{key:t},x.a.createElement("h3",null,t),x.a.createElement(S,null,I.multi[t].map((function(t){return e._renderItineraryRow(t)}))))})):g?x.a.createElement(S,null,this._renderItineraryRow(T)):x.a.createElement(S,null,y.map((function(t){return e._renderItineraryRow(t)}))),this._renderLoadingDivs(),c&&!g&&Object.keys(I.single).length>0&&x.a.createElement(G,null,x.a.createElement(j.a,{as:"h3"},x.a.createElement(u.a,{id:"components.DefaultItinerary.nonTransit"})),x.a.createElement(H,null,Object.keys(I.single).map((function(t){return I.single[t].map((function(t){return e._renderItineraryRow(t,!0)}))}))))),this._renderLoadingSpinner()))}}])&&ft(t.prototype,n),r&&ft(t,r),o}(w.Component);wt(_t,"propTypes",{activeItinerary:b.a.number,activeLeg:b.a.object,activeSearch:b.a.object,activeStep:b.a.object,containerStyle:b.a.object,customBatchUiBackground:b.a.bool,enabledSortModes:b.a.object,errorMessages:b.a.object,errors:b.a.array,itineraries:b.a.array,itineraryIsExpanded:b.a.bool,modes:b.a.object,pending:b.a.bool,popupTarget:b.a.string,realtimeEffects:b.a.object,renderSkeletons:b.a.bool,setActiveItinerary:b.a.func,setActiveLeg:b.a.func,setActiveStep:b.a.func,setItineraryView:b.a.func,setPopupContent:b.a.func,setVisibleItinerary:b.a.func,showDetails:b.a.bool,showHeaderText:b.a.bool,sort:b.a.object,timeFormat:b.a.string,updateItineraryFilter:b.a.func,visibleItinerary:b.a.number}),wt(_t,"contextType",O.a);var At=function(e,t){var n=((null==t?void 0:t.plan)||{}).routingErrors;return n&&n.forEach((function(t){var n=t.code,r=t.inputField;e[n]||(e[n]=new Set),e[n].add(r)})),e};t.a=Object(l.c)((function(e){var t,n,r,i,o,a,s=e.otp,l=s.config,c=s.filter,u=l.co2,d=l.errorMessages,f=l.itinerary,p=l.modes,m=c.sort,g=Object(S.getActiveSearch)(e),y=null==g?void 0:g.activeItinerary,v=(null==g?void 0:g.pending)>0,b=Object(S.getActiveItineraries)(e),w=Object(S.getRealtimeEffects)(e),x=h.default.query.getUrlParams(),E=Object(k.f)(x),_=E===k.a.FULL||E===k.a.LEG||E===k.a.LEG_HIDDEN,A=l.itinerary||!1,O=A.customBatchUiBackground,T=A.groupByMode,I=A.groupTransitModes,C=A.mergeItineraries,M=A.showHeaderText,N=A.sortModes,j=!(null===(t=l.itinerary)||void 0===t?void 0:t.hideSkeletons),L=Object(k.j)(y)&&_,R=e.user,D=R.localUser,P=R.loggedInUser||D;if(C){var B=Et(b);a=B.allItineraries,o=B.mergedItineraries}else o=ct(a=b);Object(S.sortItinerariesInPlaceIfNeeded)(o,e);var F=Object(S.createNoItinerariesErr)(e,null==g||null===(n=g.response)||void 0===n?void 0:n.reduce(At,{}),v);return{activeItinerary:y,activeLeg:null==g?void 0:g.activeLeg,activeSearch:g,activeStep:null==g?void 0:g.activeStep,co2Config:u,customBatchUiBackground:O,enabledSortModes:N,errorMessages:d,errors:Object(S.getResponsesWithErrors)(e),errorsOtp2:F,groupItineraries:T,groupTransitModes:I,itineraries:a,itineraryConfig:f,itineraryIsExpanded:L,key:e.otp.activeSearchId,mergedItineraries:o,modes:p,pending:v,popupTarget:null===(r=l.popups)||void 0===r||null===(i=r.launchers)||void 0===i?void 0:i.optionFilter,realtimeEffects:w,renderSkeletons:j,showDetails:_,showHeaderText:M,sort:m,timeFormat:h.default.time.getTimeFormat(l),user:P,visibleItinerary:Object(S.getVisibleItineraryIndex)(e)}}),(function(e){return{setActiveItinerary:function(t){return e(Object(M.a)(t))},setActiveLeg:function(t,n){e(Object(M.b)({index:t,leg:n}))},setActiveStep:function(t,n){e(Object(M.c)({index:t,step:n}))},setItineraryView:function(t){return e(A.g(t))},setPopupContent:function(t){return e(A.l(t))},setVisibleItinerary:function(t){return e(Object(M.d)(t))},updateItineraryFilter:function(t){return e(Object(M.e)(t))}}}))(Object(d.c)(_t))},function(e,t,n){"use strict";var r=n(0),i=n.n(r);t.a=function(e){return i.a.createElement("strong",null,e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(35),i=n(179),o=n(3),a=n(134);function s(e,t,n){Object(o.a)(2,arguments);var s=Object(i.a)(e,t)/r.e;return Object(a.a)(null==n?void 0:n.roundingMethod)(s)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4),i=n.n(r),o=n(0),a=n(10),s=o.forwardRef((function(e,t){return o.createElement(a.a,i()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 320 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M320 144c0 79.5-64.5 144-144 144S32 223.5 32 144 96.5 0 176 0s144 64.5 144 144zM176 80c8.8 0 16-7.2 16-16s-7.2-16-16-16c-53 0-96 43-96 96 0 8.8 7.2 16 16 16s16-7.2 16-16c0-35.3 28.7-64 64-64zm-32 400V317.1a177.984 177.984 0 0 0 64 0V480c0 17.7-14.3 32-32 32s-32-14.3-32-32z"}))}));s.displayName="MapPin"},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4),i=n.n(r),o=n(0),a=n(10),s=o.forwardRef((function(e,t){return o.createElement(a.a,i()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M184 48h144c4.4 0 8 3.6 8 8v40H176V56c0-4.4 3.6-8 8-8zm-56 8v40H64c-35.3 0-64 28.7-64 64v96h512v-96c0-35.3-28.7-64-64-64h-64V56c0-30.9-25.1-56-56-56H184c-30.9 0-56 25.1-56 56zm384 232H320v32c0 17.7-14.3 32-32 32h-64c-17.7 0-32-14.3-32-32v-32H0v128c0 35.3 28.7 64 64 64h384c35.3 0 64-28.7 64-64V288z"}))}));s.displayName="Briefcase"},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4),i=n.n(r),o=n(0),a=n(10),s=o.forwardRef((function(e,t){return o.createElement(a.a,i()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 576 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1V472c0 22.1-17.9 40-40 40h-16c-1.1 0-2.2 0-3.3-.1-1.4.1-2.8.1-4.2.1H392c-22.1 0-40-17.9-40-40v-88c0-17.7-14.3-32-32-32h-64c-17.7 0-32 14.3-32 32v88c0 22.1-17.9 40-40 40h-55.9c-1.5 0-3-.1-4.5-.2-1.2.1-2.4.2-3.6.2h-16c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9.1-2.8v-69.6H32c-18 0-32-14-32-32.1 0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7l255.4 224.5c8 7 12 15 11 24z"}))}));s.displayName="Home"},function(e,t,n){"use strict";var r,i=n(0),o=n.n(i);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s,l,c=n(1).default.span(r||(s=["\n  background: #","1A;\n  border-radius: 5px;\n  border-top: 5px solid #",";\n  display: inline-block;\n  font-weight: 600;\n  margin-top: -2px;\n  padding: 3px 7px;\n  padding-left: 7px !important; /* TODO: this does not scale well to alternate zoom levels/text sizes */\n  padding-right: 7px !important;\n  /* Below is for route names that are too long: cut-off and show ellipsis. */\n  max-width: 150px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  /* (Change the vertical alignment when changing the overflow attribute.) */\n  vertical-align: middle;\n  white-space: break-spaces;\n\n  ","\n"],l||(l=s.slice(0)),r=Object.freeze(Object.defineProperties(s,{raw:{value:Object.freeze(l)}}))),(function(e){return e.color}),(function(e){return e.color}),(function(e){return e.isOnColoredBackground&&"\n    border-top: none;\n    text-overflow: unset;\n  "}));t.a=function(e){var t=e.leg,n=e.style,r="object"===a(t.route)?t.route.shortName||t.route.longName:t.routeShortName||t.routeLongName;return o.a.createElement(c,{color:("object"===a(t.route)?t.route.color:t.routeColor)||"333333",isOnColoredBackground:t.onColoredBackground,style:n,title:r},r)}},function(e,t,n){"use strict";var r=n(51),i=n.n(r),o=n(71),a=n(69),s=n(0),l=n.n(s),c=n(1),u=c.default.span.withConfig({displayName:"styled__LocationPickerSpan",componentId:"sc-vb4790-0"})([":first-of-type{border-left:none;}"]),d=c.default.span.withConfig({displayName:"styled__FromToPickerSpan",componentId:"sc-vb4790-1"})(["> *{padding-left:0.4em;border-left:1px solid black;}"]),f=c.default.button.withConfig({displayName:"styled__Button",componentId:"sc-vb4790-2"})(["background:none;border:none;color:navy;font-family:inherit;font-size:inherit;line-height:inherit;padding-left:0.2em;:hover{text-decoration:underline;cursor:pointer;}"]),p=n(378),m=n.n(p),h="0.9em",g=i()(m.a);t.a=function(e){var t=e.label,n=void 0===t?null:t,r=e.location,i=void 0===r?null:r,s=e.onFromClick,c=void 0===s?null:s,p=e.onToClick,m=void 0===p?null:p,y=e.setLocation,v=void 0===y?null:y,b=e.showIcons,w=void 0===b||b,x=!0===n?l.a.createElement("strong",null,l.a.createElement(a.a,{defaultMessage:g["otpUi.FromToLocationPicker.planATrip"],description:"Label to prompt the user to plan a trip",id:"otpUi.FromToLocationPicker.planATrip"})):n;return l.a.createElement(l.a.Fragment,null,x,l.a.createElement(d,null,l.a.createElement(u,null,w&&l.a.createElement(o.default,{type:"from",size:h}),l.a.createElement(f,{onClick:function(){c?c():v({location:i,locationType:"from",reverseGeocode:!1})}},l.a.createElement(a.a,{defaultMessage:g["otpUi.FromToLocationPicker.from"],description:"Text for the 'from' button of the picker",id:"otpUi.FromToLocationPicker.from"}))),l.a.createElement(u,null,w&&l.a.createElement(o.default,{type:"to",size:h}),l.a.createElement(f,{onClick:function(){m?m():v({location:i,locationType:"to",reverseGeocode:!1})}},l.a.createElement(a.a,{defaultMessage:g["otpUi.FromToLocationPicker.to"],description:"Text for the 'to' button of the picker",id:"otpUi.FromToLocationPicker.to"})))))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(45),i=n(158);function o(e,t,n){if(void 0===n&&(n={}),!0===n.final)return function(e,t){var n=o(t,e);return n=(n+180)%360}(e,t);var a=Object(i.a)(e),s=Object(i.a)(t),l=Object(r.a)(a[0]),c=Object(r.a)(s[0]),u=Object(r.a)(a[1]),d=Object(r.a)(s[1]),f=Math.sin(c-l)*Math.cos(d),p=Math.cos(u)*Math.sin(d)-Math.sin(u)*Math.cos(d)*Math.cos(c-l);return Object(r.i)(Math.atan2(f,p))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(79),i=n(95),o=n(150),a=n(5),s=n(3),l=n(11);function c(e,t){if(Object(s.a)(2,arguments),!t||"object"!==Object(r.a)(t))return new Date(NaN);var n=t.years?Object(l.a)(t.years):0,c=t.months?Object(l.a)(t.months):0,u=t.weeks?Object(l.a)(t.weeks):0,d=t.days?Object(l.a)(t.days):0,f=t.hours?Object(l.a)(t.hours):0,p=t.minutes?Object(l.a)(t.minutes):0,m=t.seconds?Object(l.a)(t.seconds):0,h=Object(a.a)(e),g=c||n?Object(o.a)(h,c+12*n):h,y=d||u?Object(i.a)(g,d+7*u):g,v=p+60*f,b=m+60*v,w=1e3*b,x=new Date(y.getTime()+w);return x}},function(e,t,n){"use strict";n.d(t,"b",(function(){return F}));var r=n(55),i=n(12),o=n(208),a=n(75),s=n.n(a),l=n(7),c=n(68),u=n(52),d=n(38),f=n(91),p=n(16),m=n(310),h=n(48),g=n(311),y=n(25),v=n(88),b=n(250),w=n(21);function x(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=l.default.queryGen,T=S.generateCombinations,I=S.generateOtp2Query,k=S.SIMPLIFICATIONS,C=l.default.query,M=C.getTripOptionsFromQuery,N=C.getUrlParams,j=l.default.itinerary.convertGraphQLResponseToLegacy,L=l.default.storage.randId;function R(e){return Object(u.f)(A(A({},e),{},{icon:"clock-o",id:"recent-".concat(L()),timestamp:(new Date).getTime(),type:"recent"}))}function D(e,t){return{id:L(),query:M(A(A({},e.otp.currentQuery),{},{queryParamData:t}),!0),timestamp:(new Date).getTime()}}function P(e){return-1!==["home","work","suggested","stop"].indexOf(e.type)}function B(e,t,n,r,i){var o={body:JSON.stringify({batchId:i.batchId,query:e,variables:t}),headers:{"Content-Type":"application/json"},method:"POST"};return Object(y.d)(null,n,r,A(A({},i),{},{fetchOptions:o,noThrottle:!0,url:"/gtfs/v1"}))}"\nid: gtfsId\ncode\nlat\nlon\nlocationType\nname\nwheelchairBoarding\nzoneId\ngeometries {\n  geoJson\n}\nroutes {\n  id: gtfsId\n  agency {\n    gtfsId\n    name\n  }\n  longName\n  mode\n  color\n  textColor\n  shortName\n}\n".concat("\nstopTimes: stoptimesForPatterns(numberOfDepartures: 3) {\n  pattern {\n    desc: name\n    headsign\n    id: code\n  }\n  times: stoptimes {\n    arrivalDelay\n    departureDelay\n    headsign\n    realtime\n    realtimeArrival\n    realtimeDeparture\n    realtimeState\n    scheduledArrival\n    scheduledDeparture\n    serviceDay\n    stop {\n      id: gtfsId\n    }\n    timepoint\n    trip {\n      id\n    }\n  }\n}\n","\n");var F=function(e){return B("query Stop(\n      $stopId: String!\n    ) {\n      stop(id: $stopId) {\n        lat\n        lon\n        gtfsId\n        code\n      }\n    }\n    ",{stopId:e},(function(e){var t=e.data;return function(e){var n=t.stop,r=n.gtfsId,i=n.lat,o=n.lon;e(Object(w.n)({gtfsId:r,lat:i,lon:o}))}}),(function(){return function(){console.warn("Error requesting data for stop ID ".concat(e,"."))}}),{})},U=function(e){return function(t,n){var r=e.routeId;if(r)return t(B('{\n        route(id: "'.concat(r,'") {\n          id: gtfsId\n          desc\n          agency {\n            id: gtfsId\n            name\n            url\n            timezone\n            lang\n            phone\n          }\n          bikesAllowed\n          color\n          longName\n          mode\n          routeBikesAllowed: bikesAllowed\n          shortName\n          sortOrder\n          textColor\n          type\n          url\n      \n          patterns {\n            id\n            headsign\n            name\n            patternGeometry {\n              points\n              length\n            }\n            stops {\n              code\n              id: gtfsId\n              lat\n              lon\n              name\n              locationType\n              geometries {\n                geoJson\n              }\n              routes {\n                textColor\n                color\n              }\n            }\n          }\n        }\n      }\n      '),{},y.p,y.n,{noThrottle:!0,rewritePayload:function(e){var r,i,o;if(e.errors)return t(Object(y.n)(e.errors));var a=(null==e?void 0:e.data).route;if(a){var l=s()(a),u={},d=l.patterns.sort((function(e,t){return e.stops.length-t.stops.length})),f=d.reverse().filter((function(e){return!d.find((function(t){return t.id!==e.id&&(!(t.stops.length<=e.stops.length)&&Object(p.isValidSubsequence)(t.stops.map((function(e){return e.id})),e.stops.map((function(e){return e.id}))))}))}));return(f.length>1?f:l.patterns).forEach((function(e){var t=e.stops.map((function(e){var t,n,r=(null===(t=e.routes)||void 0===t?void 0:t.length)>0&&"#".concat((null===(n=e.routes[0])||void 0===n?void 0:n.color)||"666666");return e.routes&&delete e.routes,A(A({},e),{},{color:r})}));u[e.id]=A(A({},e),{},{desc:e.name,geometry:(null==e?void 0:e.patternGeometry)||{length:0,points:""},stops:t})})),l.origColor=l.color,l.color=null===(r=Object(h.g)(Object(p.getRouteOperator)({agencyId:null==l||null===(i=l.agency)||void 0===i?void 0:i.id,id:null==l?void 0:l.id},n().otp.config.transitOperators),{color:null==l?void 0:l.color,mode:l.mode}).split("#"))||void 0===r?void 0:r[1],l.patterns=u,l.v2=!0,l.mode=Object(c.checkForRouteModeOverride)(l,null===(o=n().otp.config)||void 0===o?void 0:o.routeModeOverrides),l}}}))}};var z={modeButtons:o.DelimitedArrayParam};var V=Object(i.a)("SERVICE_TIME_RANGE_REQUEST"),G=Object(i.a)("SERVICE_TIME_RANGE_RESPONSE"),H=Object(i.a)("SERVICE_TIME_RANGE_ERROR");t.a={fetchNearby:function(e,t,n){var r=e.lat,i=e.lon;return B("query Nearby(\n      $lat: Float!\n      $lon: Float!\n      $radius: Int\n      $currentServiceWeek: LocalDateRangeInput\n    ) {\n      nearest(lat:$lat, lon:$lon, maxDistance: $radius, first: 100, filterByPlaceTypes: [STOP, VEHICLE_RENT, BIKE_PARK, CAR_PARK]) {\n        edges {\n          node {\n            id\n            distance\n            place {\n              __typename\n              id\n              lat\n              lon\n              ...on RentalVehicle {\n                network\n                name\n                lat\n                lon\n                allowPickupNow\n                operative\n                rentalUris {\n                  android\n                  ios\n                  web\n                }\n                vehicleType {\n                  formFactor\n                }\n              }\n              ... on VehicleRentalStation {\n                network\n              }\n              ...on BikeRentalStation {\n                bikesAvailable\n                spacesAvailable\n                name\n                networks\n              }\n              ... on VehicleParking {\n                carPlaces\n                bicyclePlaces\n                lat\n                lon\n                name\n              }\n              ... on Stop {\n                name\n                lat\n                lon\n                code\n                gtfsId\n                stopRoutes: routes (serviceDates: $currentServiceWeek) {\n                  gtfsId\n                }\n                stoptimesForPatterns {\n                  pattern {\n                    headsign\n                    desc: name\n                    route {\n                      gtfsId\n                      agency {\n                        name\n                        gtfsId\n                      }\n                      shortName\n                      type\n                      mode\n                      longName\n                      color\n                      textColor\n                    }\n                  }\n                  stoptimes {\n                    serviceDay\n                    departureDelay\n                    realtimeState\n                    realtimeDeparture\n                    scheduledDeparture\n                    headsign\n                    trip {\n                      route {\n                        shortName\n                      }\n                    }\n                  }\n                }\n              }\n            }\n            distance\n          }\n        }\n      }\n    }",{currentServiceWeek:n,lat:r,lon:i,radius:t},y.g,y.f,{rewritePayload:function(e){var t,n,o;if(e.errors){var a=new Error("GraphQL response error");throw a.message="Check error.cause for more information. Are the OTP server and client on compatible versions?",a.cause=e.errors,a}return{coords:{lat:r,lon:i},data:(o=null===(t=e.data)||void 0===t||null===(n=t.nearest)||void 0===n?void 0:n.edges,null==o?void 0:o.reduce((function(e,t){var n=t.node,r=e.find((function(e){return e.place.code===n.place.code}));return r&&n.place.code?r.place.stoptimesForPatterns=[].concat(x(r.place.stoptimesForPatterns||[]),x(n.place.stoptimesForPatterns||[])):e.push(n),e}),[]))}}})},findPatternsForRoute:function(e){return function(t,n){var r,i,o,a=n(),s=e.routeId;if(!(null==a||null===(r=a.otp)||void 0===r||null===(i=r.transitIndex)||void 0===i||null===(o=i.routes)||void 0===o?void 0:o[s]).patterns)return t(U(e))}},findRoute:U,findRoutes:function(){return function(e,t){var n,r,i,o=!0===(null===(n=t().otp)||void 0===n||null===(r=n.config)||void 0===r||null===(i=r.routeViewer)||void 0===i?void 0:i.onlyShowCurrentServiceWeek)?Object(m.a)():void 0;e(B("query Routes(\n          $currentServiceWeek: LocalDateRangeInput\n         ) {\n          routes (serviceDates: $currentServiceWeek) {\n            id: gtfsId\n            agency {\n              id: gtfsId\n              name\n            }\n            color\n            longName\n            mode\n            shortName\n            sortOrder\n            type\n          }\n        }\n      ",{currentServiceWeek:o},y.s,y.q,{noThrottle:!0,rewritePayload:function(n){if(n.errors)return e(Object(y.q)(n.errors));var r=(null==n?void 0:n.data).routes;if(r){var i=t().otp.config;return r.reduce((function(e,t){var n,r,o=t.agency,a=t.color,s=t.id,l=t.longName,u=t.mode,d=t.shortName,f=t.sortOrder,m=t.type,g=null===(n=Object(h.g)(Object(p.getRouteOperator)({agencyId:null==t||null===(r=t.agency)||void 0===r?void 0:r.id,id:null==t?void 0:t.id},i.transitOperators),{color:null==t?void 0:t.color,mode:t.mode}).split("#"))||void 0===n?void 0:n[1];return e[s]={agencyId:o.id,agencyName:o.name,color:g,id:s,longName:l,mode:Object(c.checkForRouteModeOverride)({id:s,mode:u},null==i?void 0:i.routeModeOverrides),origColor:a,shortName:d,sortOrder:f,type:m,v2:!0},e}),{})}}}))}},findStopTimesForStop:function(e){return function(t,n){if(e.forceFetch||!n().otp.transitIndex.stops[e.stopId]){t(Object(y.h)(e));var r=e.date,i=e.stopId,o=n().otp.config.homeTimezone,a=Object(f.f)(r,o).getTime()/1e3;return t(B("query StopTimes(\n          $serviceDay: Long!\n          $stopId: String!\n        ) {\n            stop(id: $stopId) {\n              gtfsId\n              code\n              lat\n              lon\n              locationType\n              name\n              wheelchairBoarding\n              routes {\n                id: gtfsId\n                agency {\n                  gtfsId\n                  name\n                }\n                longName\n                mode\n                color\n                textColor\n                shortName\n                patterns {\n                  id\n                  headsign\n                }\n              }\n              stoptimesForPatterns(numberOfDepartures: 1000, startTime: $serviceDay, omitNonPickups: true, omitCanceled: false) {\n                pattern {\n                  desc: name\n                  headsign\n                  id: code\n                  route {\n                    agency {\n                      name\n                      gtfsId\n                    }\n                    gtfsId\n                  }\n                }\n                stoptimes {\n                  headsign\n                  scheduledDeparture\n                  serviceDay\n                  trip {\n                    blockId\n                    id\n                    pattern {\n                      id\n                    }\n                    route {\n                      gtfsId\n                    }\n                  }\n                }\n              }\n            }\n        }",{serviceDay:a,stopId:i},y.v,y.u,{noThrottle:!0,rewritePayload:function(e){var n;if(e.errors)return t(Object(y.u)(e.errors));var r=null===(n=e.data)||void 0===n?void 0:n.stop;return A(A({},r),{},{fetchStatus:d.k.FETCHED,stoptimesForPatterns:null==r?void 0:r.stoptimesForPatterns.filter((function(e){var t=e.pattern;return!Object(g.a)(null==r?void 0:r.gtfsId,t)})).filter((function(e){var t=e.pattern,n=Object(h.h)(t),i=r.routes.find((function(e){return e.id===n}));return Object(h.m)(i,n)})),stopTimesLastUpdated:(new Date).getTime()})}}))}}},findTrip:function(e){return B('{\n        trip(id: "'.concat(e.tripId,'") {\n          id: gtfsId\n          route {\n            id: gtfsId\n            agency {\n              id: gtfsId\n              name\n              url\n              timezone\n              lang\n              phone\n              fareUrl\n            }\n            shortName\n            longName\n            type\n            url\n            color\n            textColor\n            routeBikesAllowed: bikesAllowed\n            bikesAllowed\n          }\n          serviceId\n          tripHeadsign\n          directionId\n          blockId\n          shapeId\n          wheelchairAccessible\n          bikesAllowed\n          tripBikesAllowed: bikesAllowed\n\n          stops {\n\t\t\t      id: gtfsId\n\t\t\t      stopId: gtfsId\n\t\t\t      code\n\t\t\t      name\n\t\t\t      lat\n\t\t\t      lon\t\t\t\n\t\t      }\n\n          tripGeometry {\n            length\n            points\n          }\n        }\n      }'),{},y.C,y.B,{noThrottle:!0,postprocess:function(t,n){n(Object(y.w)({tripId:e.tripId})),n(Object(y.j)({tripId:e.tripId}))},rewritePayload:function(e){var t;return(null==e||null===(t=e.data)||void 0===t?void 0:t.trip)?(e.data.trip.geometry=e.data.trip.tripGeometry,e.data.trip):{}}})},getVehiclePositionsForRoute:function(e){return function(t,n){return t(B('{\n          route(id: "'.concat(e,'") {\n           patterns {\n            vehiclePositions {\n              vehicleId\n              label\n              lat\n              lon\n              stopRelationship {\n                 status\n                stop {\n                  name\n                  gtfsId\n                }\n              }\n              speed\n              heading\n              lastUpdated\n              trip {\n                pattern {\n                  id\n                }\n              }\n            }\n           }\n         }\n         }'),{},y.K,y.L,{noThrottle:!0,rewritePayload:function(t){var n,r,i=null===(n=t.data)||void 0===n||null===(r=n.route)||void 0===r?void 0:r.patterns.reduce((function(e,t){var n;return e.concat(null==t||null===(n=t.vehiclePositions)||void 0===n?void 0:n.map((function(e){var t,n,r,i,o,a,s;return{heading:null==e?void 0:e.heading,label:null==e?void 0:e.label,lat:null==e?void 0:e.lat,lon:null==e?void 0:e.lon,nextStopId:null==e||null===(t=e.stopRelationship)||void 0===t||null===(n=t.stop)||void 0===n?void 0:n.gtfsId,nextStopName:null==e||null===(r=e.stopRelationship)||void 0===r||null===(i=r.stop)||void 0===i?void 0:i.name,patternId:null==e||null===(o=e.trip)||void 0===o||null===(a=o.pattern)||void 0===a?void 0:a.id,seconds:null==e?void 0:e.lastUpdated,speed:(null==e?void 0:e.speed)||0,stopStatus:null==e||null===(s=e.stopRelationship)||void 0===s?void 0:s.status,vehicleId:null==e?void 0:e.vehicleId}})))}),[]).filter((function(e){return!!e}));return{routeId:e,vehicles:i}}}))}},retrieveServiceTimeRangeIfNeeded:function(){return function(e,t){if(!t().otp.serviceTimeRange)return e(V),e(B("{\n          serviceTimeRange {\n            start\n            end\n          }\n        }",{},G,H,{}))}},routingQuery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return function(n,i){var a,s,l,c,d,m,g,w,x=i(),E=x.otp,_=E.config,O=E.currentQuery,S=E.modeSettingDefinitions,C=_.api.planQuery,M=x.user.loggedInUser,F=Object(u.h)(_.persistence),U=Object(p.getActiveItinerary)(x)||((null===(a=_.itinerary)||void 0===a?void 0:a.showFirstResultByDefault)?0:null),V=!e;if(V&&(e=L()),!Object(p.queryIsValid)(x))return console.warn("Query is invalid. Aborting routing query",O),b.a.INVALID_QUERY;var G,H,W=O.bannedTrips,Y=O.date,Q=O.departArrive,Z=O.modes,X=O.numItineraries,J=O.routingType,q=O.time,K=O.unpreferred,$="ARRIVE"===Q,ee=new URLSearchParams(N()),te=Object(o.decodeQueryParams)(z,{modeButtons:ee.get("modeButtons")}).modeButtons||(null==_||null===(s=_.modes)||void 0===s||null===(l=s.initialState)||void 0===l?void 0:l.enabledModeButtons)||{},ne=!!(null==_||null===(c=_.itinerary)||void 0===c?void 0:c.strictItineraryFiltering),re=null===(d=_.modes)||void 0===d?void 0:d.modeButtons.filter((function(e){return te.includes(e.key)})),ie=Object(r.i)(re),oe=Object(f.c)(ee,S,null==_||null===(m=_.modes)||void 0===m||null===(g=m.initialState)||void 0===g?void 0:g.modeSettingValues),ae=null==S?void 0:S.map(Object(r.m)(oe)),se=A({modeButtons:ee.get("modeButtons")},oe),le=A(A({arriveBy:$,banned:{routes:_.routeModeOverrides&&(null===(w=Object(r.l)(ae,_.routeModeOverrides))||void 0===w?void 0:w.join(","))||void 0,trips:W},date:Y,from:O.from,modes:Z||ie,modeSettings:ae,time:q,to:O.to,unpreferred:K},O),{},{numItineraries:X||Object(f.d)(_)});_.mobilityProfile&&M&&(le.mobilityProfile=(null===(G=Object(u.m)(M.dependentsInfo,O.forEmail))||void 0===G?void 0:G.mobilityMode)||(null===(H=M.mobilityProfile)||void 0===H?void 0:H.mobilityMode));var ce=Z?[le]:T(le);if(0===ce.length)return b.a.INVALID_MODE_SELECTION;n(Object(y.P)({activeItinerary:U,pending:ce.length,routingType:J,searchId:e,updateSearchInReducer:t})),ce.forEach((function(t,r){var i=I(t);n(B(C||i.query,i.variables,(function(e){var t,r,i=Object(y.Q)(e);if(F.isLocalStorage&&(null===(t=x.user)||void 0===t||null===(r=t.localUser)||void 0===r?void 0:r.storeTripHistory)){var o=O.from,a=O.to;P(o)||n(Object(v.q)({location:R(o),type:"recent"})),P(a)||n(Object(v.q)({location:R(a),type:"recent"})),n(Object(y.M)(D(x,se)))}return i}),y.N,{batchId:e,rewritePayload:function(n,o,a){var s,l,c,u,d,f,m,g,y=null===(s=n.data)||void 0===s||null===(l=s.plan)||void 0===l?void 0:l.itineraries,v=t.modes.map((function(e){return k[e.mode]})),b=y;ne&&(b=null==y?void 0:y.filter((function(e){return e.legs.some((function(e){return v.includes(k[e.mode])}))})));var w,x,E=null===(c=b)||void 0===c?void 0:c.map((function(e){var t,n;return A(A({},e),{},{legs:null===(t=e.legs)||void 0===t||null===(n=t.map((function(e){var t,n,r,i,o,a,s=Object(p.getRouteOperator)({agencyId:null==e||null===(t=e.agency)||void 0===t?void 0:t.id,id:null==e||null===(n=e.route)||void 0===n?void 0:n.id},_.transitOperators),l={color:null==e||null===(r=e.route)||void 0===r?void 0:r.color,mode:e.mode};return A(A({},e),{},{origColor:null==e||null===(i=e.route)||void 0===i?void 0:i.color,route:A(A({},e.route),{},{color:null===(o=Object(h.g)(s,l).split("#"))||void 0===o?void 0:o[1],textColor:null===(a=Object(h.j)(s,l).split("#"))||void 0===a?void 0:a[1]})})})))||void 0===n?void 0:n.map((function(e){return A(A({},j(e)),{},{route:e.transitLeg?e.route:void 0})})),otp2QueryParams:i.variables})}));(n.data.plan.routingErrors=null===(u=n.data)||void 0===u||null===(d=u.plan)||void 0===d?void 0:d.routingErrors.filter((function(e){return"NO_TRANSIT_CONNECTION"!==(null==e?void 0:e.code)})),(null===(f=Object(p.getActiveItineraries)(a()))||void 0===f?void 0:f.length)>0&&(null==n||null===(m=n.data)||void 0===m?void 0:m.plan))&&((null===(w=a().otp.config)||void 0===w?void 0:w.itinerary).displayA11yError&&n.data.plan.itineraries.find((function(e){return!!(null==e?void 0:e.accessibilityScore)}))&&((null===(x=n.data.plan)||void 0===x?void 0:x.routingErrors)||(n.data.plan.routingErrors=[]),n.data.plan.routingErrors.push({code:"OTP_RR_A11Y_ROUTING_ENABLED"})));return{index:r,response:{plan:A(A({},null===(g=n.data)||void 0===g?void 0:g.plan),{},{itineraries:E}),requestId:e},searchId:e}}}))}));var ue=N();return(V||ue.ui_activeSearch!==e)&&n(Object(y.V)(x,e)),b.a.SUCCESS}},vehicleRentalQuery:function(e,t,n,r){return B("{\n    rentalVehicles {\n      vehicleId\n      id\n      name\n      lat\n      lon\n      allowPickupNow\n      vehicleType {\n        formFactor\n      }\n      network\n    }\n  }\n  ",{},t,n,{noThrottle:!0,postprocess:function(e,t){if(e.errors)return n(e.errors)},rewritePayload:function(e){var t,n;return{stations:null==e||null===(t=e.data)||void 0===t||null===(n=t.rentalVehicles)||void 0===n?void 0:n.map((function(e){var t,n;return{allowPickup:e.allowPickupNow,id:e.vehicleId,isFloatingBike:"BICYCLE"===(null==e||null===(t=e.vehicleType)||void 0===t?void 0:t.formFactor),isFloatingVehicle:"SCOOTER"===(null==e||null===(n=e.vehicleType)||void 0===n?void 0:n.formFactor),name:e.name,networks:[e.network],x:e.lon,y:e.lat}}))}}})}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},i=n(303),o=n(304),a=/[A-Z]|^ms/g,s=/_EMO_([^_]+?)_([^]*?)_EMO_/g,l=function(e){return 45===e.charCodeAt(1)},c=function(e){return null!=e&&"boolean"!=typeof e},u=Object(o.a)((function(e){return l(e)?e:e.replace(a,"-$&").toLowerCase()})),d=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(s,(function(e,t,n){return p={name:t,styles:n,next:p},t}))}return 1===i.a[e]||l(e)||"number"!=typeof t||0===t?t:t+"px"};function f(e,t,n,r){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return p={name:n.name,styles:n.styles,next:p},n.name;if(void 0!==n.styles){var i=n.next;if(void 0!==i)for(;void 0!==i;)p={name:i.name,styles:i.styles,next:p},i=i.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=f(e,t,n[i],!1);else for(var o in n){var a=n[o];if("object"!=typeof a)null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":c(a)&&(r+=u(o)+":"+d(o,a)+";");else if(!Array.isArray(a)||"string"!=typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=f(e,t,a,!1);switch(o){case"animation":case"animationName":r+=u(o)+":"+s+";";break;default:r+=o+"{"+s+"}"}}else for(var l=0;l<a.length;l++)c(a[l])&&(r+=u(o)+":"+d(o,a[l])+";")}return r}(e,t,n);case"function":if(void 0!==e){var o=p,a=n(e);return p=o,f(e,t,a,r)}break;case"string":}if(null==t)return n;var s=t[n];return void 0===s||r?n:s}var p,m=/label:\s*([^\s;\n{]+)\s*;/g;var h=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,o="";p=void 0;var a=e[0];null==a||void 0===a.raw?(i=!1,o+=f(n,t,a,!1)):o+=a[0];for(var s=1;s<e.length;s++)o+=f(n,t,e[s],46===o.charCodeAt(o.length-1)),i&&(o+=a[s]);m.lastIndex=0;for(var l,c="";null!==(l=m.exec(o));)c+="-"+l[1];return{name:r(o)+c,styles:o,next:p}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return l}));var r=n(7),i=function(e){var t;return null===(t=e.legs)||void 0===t?void 0:t.find((function(e){var t;return"TRANSIT"===(null==e||null===(t=e.from)||void 0===t?void 0:t.vertexType)}))},o=function(e){var t,n;return null===(t=i(e))||void 0===t||null===(n=t.from)||void 0===n?void 0:n.name},a=function(e){var t,n,i,o=null===(t=e.legs)||void 0===t?void 0:t.some(r.default.itinerary.isReservationRequired),a=e.legs.map((function(e){return null==e?void 0:e.agencyName})).filter((function(e){return!!e}))[0];return o&&(a=e.legs.map((function(e){var t,n;return null===(t=e.pickupBookingInfo)||void 0===t||null===(n=t.contactInfo)||void 0===n?void 0:n.phoneNumber})).filter((function(e){return!!e}))[0]),{isCallAhead:o,isContinuousDropoff:null===(n=e.legs)||void 0===n?void 0:n.some(r.default.itinerary.isCoordinationRequired),isFlexItinerary:null===(i=e.legs)||void 0===i?void 0:i.some(r.default.itinerary.isFlex),phone:a||""}},s=function(e){return"WALK"!==e.mode||e.distance>400},l=function(e,t){return t.formatList(e.legs.map((function(e){return e.routeShortName})).filter((function(e){return!!e})))}},function(e,t,n){"use strict";t.a=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(62),o=function(){function e(e,t){this.api=e,this.geocoderConfig=t}return e.prototype.autocomplete=function(e){return this.api.autocomplete(this.getAutocompleteQuery(e)).then(this.rewriteAutocompleteResponse.bind(this))},e.prototype.getLocationFromGeocodedFeature=function(e){if("Point"===e.geometry.type){var t=r(r({},(0,i.fromCoordinates)(e.geometry.coordinates)),{name:e.properties.label,rawGeocodedFeature:e});return Promise.resolve(t)}return Promise.reject(new Error("Feature is not of type Point."))},e.prototype.reverse=function(e){return this.api.reverse(this.getReverseQuery(e)).then(this.rewriteReverseResponse.bind(this))},e.prototype.search=function(e){return this.api.search(this.getSearchQuery(e)).then(this.rewriteSearchResponse.bind(this))},e.prototype.getAutocompleteQuery=function(e){var t=this.geocoderConfig,n=t.apiKey,i=t.baseUrl,o=t.boundary,a=t.focusPoint,s=t.options;return r({apiKey:n,boundary:o,focusPoint:a,options:s,url:i?"".concat(i,"/autocomplete"):void 0},e)},e.prototype.getReverseQuery=function(e){var t,n=this.geocoderConfig,i=n.apiKey,o=n.baseUrl,a=n.options;return r({apiKey:i,format:!(null===(t=this.geocoderConfig)||void 0===t?void 0:t.reverseUseFeatureCollection),options:a,url:o?"".concat(o,"/reverse"):void 0},e)},e.prototype.getSearchQuery=function(e){var t=this.geocoderConfig,n=t.apiKey,i=t.baseUrl,o=t.boundary,a=t.focusPoint,s=t.options;return r({apiKey:n,boundary:o,focusPoint:a,options:s,url:i?"".concat(i,"/search"):void 0,format:!1},e)},e.prototype.rewriteAutocompleteResponse=function(e){return e},e.prototype.rewriteReverseResponse=function(e){return e},e.prototype.rewriteSearchResponse=function(e){return e},e}();t.default=o},function(e,t,n){var r=n(347),i=n(614),o=n(615),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},function(e,t,n){e.exports=!n(258)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return e&&e.ownerDocument||document},e.exports=t.default},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){"use strict";n.r(t),n.d(t,"Circle",(function(){return s})),n.d(t,"CircleDimensions",(function(){return l}));var r=n(4),i=n.n(r),o=n(0),a=n(10),s=o.forwardRef((function(e,t){return o.createElement(a.a,i()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0 0 114.6 0 256s114.6 256 256 256z"}))}));s.displayName="Circle";var l={height:512,width:512}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return l}));var r=["monday","tuesday","wednesday","thursday","friday"],i=["saturday","sunday"],o=[].concat(r,i);function a(e){return o.filter((function(t){return e[t]}))}function s(e){var t={};return o.forEach((function(n){t[n]=e.includes(n)})),t}function l(e,t){switch(e){case"monday":return t.formatMessage({id:"common.daysOfWeekPlural.monday"});case"tuesday":return t.formatMessage({id:"common.daysOfWeekPlural.tuesday"});case"wednesday":return t.formatMessage({id:"common.daysOfWeekPlural.wednesday"});case"thursday":return t.formatMessage({id:"common.daysOfWeekPlural.thursday"});case"friday":return t.formatMessage({id:"common.daysOfWeekPlural.friday"});case"saturday":return t.formatMessage({id:"common.daysOfWeekPlural.saturday"});case"sunday":return t.formatMessage({id:"common.daysOfWeekPlural.sunday"});default:return null}}},function(e,t,n){"use strict";var r=n(84),i=n(0),o=n.n(i),a=n(54);t.a=function(e){var t=e.mode,n=void 0===t?"":t,i=Object(r.a)();return o.a.createElement(o.a.Fragment,null,Object(a.c)(n,i))}},function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return p}));var r=n(12),i=n(210),o=(n(212),n(56)),a=n.n(o),s=(n(16),n(68),n(73),n(46));"undefined"==typeof fetch&&n(280);Object(r.a)("END_CALL"),Object(r.a)("RECEIVED_CALLS"),Object(r.a)("RECEIVED_QUERIES"),Object(r.a)("REQUESTING_CALLS"),Object(r.a)("REQUESTING_QUERIES");var l=Object(r.a)("STORE_SESSION"),c=Object(r.a)("TOGGLE_FIELD_TRIPS"),u=(Object(r.a)("BEGIN_CALL"),Object(r.a)("TOGGLE_CALL_HISTORY")),d=Object(r.a)("TOGGLE_MAILABLES");function f(){return function(e,t){e(Object(s.f)(!0)),e(u()),t().callTaker.fieldTrip.visible&&e(c())}}function p(e){return function(t,n){var r=n().otp.config,o=r.datastoreUrl,s=r.trinetReDirect;if(o&&s){var c=Object(i.getUrlParams)().sessionId;c?t(function(e,t,n){return function(r,i){fetch(e+"/auth/checkSession?sessionId=".concat(t)).then((function(e){return e.json()})).then((function(e){return r(l({session:e}))})).catch((function(e){r(l({session:null})),alert(n.formatMessage({id:"actions.callTaker.checkSessionError"},{err:JSON.stringify(e)}))}))}}(o,c,e)):function(e,t,n){fetch(e+"/auth/newSession").then((function(e){return e.json()})).then((function(e){var r=e.sessionId,i="".concat(t,"?").concat(a.a.stringify({redirect:n,session:r}));window.location=i})).catch((function(e){console.error("newSession error",e)}))}(o,s,window.location.origin)}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return oe}));var r=n(238),i=n(8),o=n(4),a=n.n(o),s=n(0),l=n.n(s),c=n(10),u=s.forwardRef((function(e,t){return s.createElement(c.a,a()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),s.createElement("path",{fill:"currentColor",d:"M64 112c-8.8 0-16 7.2-16 16v22.1l172.5 141.6c20.7 17 50.4 17 71.1 0L464 150.1V128c0-8.8-7.2-16-16-16H64zM48 212.2V384c0 8.8 7.2 16 16 16h384c8.8 0 16-7.2 16-16V212.2L322 328.8c-38.4 31.5-93.7 31.5-132 0L48 212.2zM0 128c0-35.3 28.7-64 64-64h384c35.3 0 64 28.7 64 64v256c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V128z"}))}));u.displayName="Envelope";var d=s.forwardRef((function(e,t){return s.createElement(c.a,a()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 448 512"},e,{ref:t}),s.createElement("path",{fill:"currentColor",d:"M384 32c35.3 0 64 28.7 64 64v320c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96c0-35.3 28.7-64 64-64h320zM160 160c-6.5 0-12.3 3.9-14.8 9.9s-1.1 12.9 3.5 17.4l40 40-71 71c-3.7 3.7-5.7 8.6-5.7 13.7s2 10 5.7 13.7l36.7 36.7c3.6 3.6 8.5 5.7 13.7 5.7s10-2 13.7-5.7l71-71 40 40c4.6 4.6 11.5 5.9 17.4 3.5s9.9-8.3 9.9-14.8V176c0-8.8-7.2-16-16-16H160z"}))}));d.displayName="ExternalLinkSquareAlt";var f=n(69),p=n(153),m=n(325),h=s.forwardRef((function(e,t){return s.createElement(c.a,a()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 640 512"},e,{ref:t}),s.createElement("path",{fill:"currentColor",d:"M320 32c-8.1 0-16.1 1.4-23.7 4.1L15.8 137.4C6.3 140.9 0 149.9 0 160s6.3 19.1 15.8 22.6l57.9 20.9C57.3 229.3 48 259.8 48 291.9V320c0 28.4-10.8 57.7-22.3 80.8-6.5 13-13.9 25.8-22.5 37.6-3.2 4.3-4.1 9.9-2.3 15s6 8.9 11.2 10.2l64 16c4.2 1.1 8.7.3 12.4-2s6.3-6.1 7.1-10.4c8.6-42.8 4.3-81.2-2.1-108.7-3.2-14.2-7.5-28.7-13.5-42v-24.6c0-30.2 10.2-58.7 27.9-81.5 12.9-15.5 29.6-28 49.2-35.7l157-61.7c8.2-3.2 17.5.8 20.7 9s-.8 17.5-9 20.7l-157 61.7c-12.4 4.9-23.3 12.4-32.2 21.6l159.6 57.6c7.6 2.7 15.6 4.1 23.7 4.1s16.1-1.4 23.7-4.1l280.6-101c9.5-3.4 15.8-12.5 15.8-22.6s-6.3-19.1-15.8-22.6L343.7 36.1c-7.6-2.7-15.6-4.1-23.7-4.1zM128 408c0 35.3 86 72 192 72s192-36.7 192-72l-15.3-145.4L354.5 314c-11.1 4-22.8 6-34.5 6s-23.5-2-34.5-6l-142.2-51.4L128 408z"}))}));h.displayName="GraduationCap";var g=s.forwardRef((function(e,t){return s.createElement(c.a,a()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),s.createElement("path",{fill:"currentColor",d:"M75 75 41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24h110.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24v104c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"}))}));g.displayName="History";var y=s.forwardRef((function(e,t){return s.createElement(c.a,a()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 576 512"},e,{ref:t}),s.createElement("path",{fill:"currentColor",d:"M302.8 312C334.9 271.9 408 174.6 408 120 408 53.7 354.3 0 288 0S168 53.7 168 120c0 54.6 73.1 151.9 105.2 192 7.7 9.6 22 9.6 29.6 0zM416 503l144.9-58c9.1-3.6 15.1-12.5 15.1-22.3V152c0-17-17.1-28.6-32.9-22.3l-116 46.4c-.5 1.2-1 2.5-1.5 3.7-2.9 6.8-6.1 13.7-9.6 20.6V503zM15.1 187.3C6 191 0 199.8 0 209.6v270.8c0 17 17.1 28.6 32.9 22.3L160 451.8V200.4c-3.5-6.9-6.7-13.8-9.6-20.6-5.6-13.2-10.4-27.4-12.8-41.5L15 187.3zM384 255c-20.5 31.3-42.3 59.6-56.2 77-20.5 25.6-59.1 25.6-79.6 0-13.9-17.4-35.7-45.7-56.2-77v194.4l192 54.9V255z"}))}));y.displayName="MapMarked";var v=n(186),b=n(241),w=n(518),x=n.n(w),E=n(205),_=n(484),A=n(21),O=n(44),S=n(54),T=n(68),I=s.forwardRef((function(e,t){return s.createElement(c.a,a()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),s.createElement("path",{fill:"currentColor",d:"M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"}))}));I.displayName="ChevronDown";var k=s.forwardRef((function(e,t){return s.createElement(c.a,a()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),s.createElement("path",{fill:"currentColor",d:"M233.4 105.4c12.5-12.5 32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L256 173.3 86.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l192-192z"}))}));k.displayName="ChevronUp";function C(e,t,n){var r=Array.from(document.querySelectorAll(e)),i=r[0],o=r[r.length-1],a=r.indexOf(t);return t===i&&-1===n?o:t===o&&1===n?i:r[a+n]}var M=n(124),N=n(104);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var L=["icon","id","onClick","subItems","text"];function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function D(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=G(e);if(t){var i=G(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return z(this,n)}}function z(e,t){if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return V(e)}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var W=".app-menu a, .app-menu button",Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(o,e);var t,n,r,i=U(o);function o(){var e;P(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return H(V(e=i.call.apply(i,[this].concat(n))),"state",{isExpanded:!1}),H(V(e),"_handleKeyDown",(function(t){var n,r,i=e.props.subItems,o=t.target;switch(t.key){case"ArrowLeft":i&&e.setState({isExpanded:!1});break;case"ArrowUp":null===(n=C(W,o,-1))||void 0===n||n.focus();break;case"ArrowRight":i&&e.setState({isExpanded:!0});break;case"ArrowDown":null===(r=C(W,o,1))||void 0===r||r.focus();break;case" ":"A"===o.tagName&&o.click()}})),H(V(e),"_toggleSubmenu",(function(){e.setState({isExpanded:!e.state.isExpanded})})),e}return t=o,(n=[{key:"render",value:function(){var e,t=this.props,n=t.icon,r=t.id,i=t.onClick,o=t.subItems,a=t.text,s=D(t,L),c=this.state.isExpanded,u=!!s.href,d=null===(e=s.href)||void 0===e?void 0:e.startsWith("http"),f=u?"a":s.to?N.a:"button",p="".concat(r,"-container");return l.a.createElement(l.a.Fragment,null,l.a.createElement(f,R({"aria-controls":o&&p,"aria-expanded":o&&c,className:"navItem",id:r,onClick:o?this._toggleSubmenu:i,onKeyDown:this._handleKeyDown},s,{target:u&&d?"_blank":void 0,title:"string"==typeof a?a:""}),l.a.createElement("span",{"aria-hidden":!0},n),l.a.createElement("span",null,a),o&&l.a.createElement("span",{className:"expand-menu-chevron"},c?l.a.createElement(k,null):l.a.createElement(I,null))),o&&l.a.createElement(M.default,{duration:500,height:c?"auto":0},l.a.createElement("div",{className:"sub-menu-container",id:p,role:"group"},o)))}}])&&B(t.prototype,n),r&&B(t,r),o}(s.Component),Q=n(240);function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te(e);if(t){var i=te(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $(this,n)}}function $(e,t){if(t&&("object"===Z(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ee(e)}function ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var re=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(a,e);var t,n,i,o=K(a);function a(){var e;X(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ne(ee(e=o.call.apply(o,[this].concat(n))),"state",{isPaneOpen:!1}),ne(ee(e),"_startOver",(function(){e.props.startOverFromInitialUrl()})),ne(ee(e),"_triggerPopup",(function(){var t=e.props,n=t.popupTarget,r=t.setPopupContent;n&&r(n)})),ne(ee(e),"_togglePane",(function(){var t=e.state.isPaneOpen;e.setState({isPaneOpen:!t})})),ne(ee(e),"_handleSkipNavigation",(function(){var e;null===(e=document.querySelector("main"))||void 0===e||e.focus()})),ne(ee(e),"_addExtraMenuItems",(function(t){return t&&t.map((function(t){var n,r,i,o=t.children,a=t.href,s=t.iconType,c=t.iconUrl,u=t.id,d=t.isSelected,f=t.label,p=t.lang,m=t.onClick,h=t.skipLocales,g=t.subMenuDivider,y=e.props,v=y.activeLocale,b=y.language,w=null==b||null===(n=b[v])||void 0===n||null===(r=n.config)||void 0===r||null===(i=r.menuItems)||void 0===i?void 0:i[u],x=!h&&w?w:f;return l.a.createElement(Y,{"aria-selected":d||void 0,className:g?"app-menu-divider":void 0,href:a,icon:s&&"string"!=typeof s?s:l.a.createElement(oe,{iconType:s,iconUrl:c}),id:u,key:u,lang:p,onClick:m,role:void 0!==d?"option":void 0,subItems:e._addExtraMenuItems(o)||void 0,text:x})}))})),e}return t=a,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.activeLocale,i=t.callTakerEnabled,o=t.extraMenuItems,a=t.fieldTripEnabled,s=t.intl,c=t.languageOptions,d=t.mailablesEnabled,p=t.popupTarget,w=t.resetAndToggleCallHistory,E=t.resetAndToggleFieldTrips,_=t.setLocale,A=t.toggleMailables,O=c&&[{children:Object.keys(c).map((function(e){return{iconType:l.a.createElement("svg",null),id:e,isSelected:n===e,label:c[e].name,lang:e,onClick:function(){return _(e)},skipLocales:!0,subMenuDivider:!1}})),iconType:l.a.createElement(m.a,null),id:"app-menu-locale-selector",label:l.a.createElement(f.a,{id:"components.SubNav.languageSelector"}),skipLocales:!0,subMenuDivider:!1}],S=this.state.isPaneOpen,T=this.context.SvgIcon,I=S?s.formatMessage({id:"components.AppMenu.closeMenu"}):s.formatMessage({id:"components.AppMenu.openMenu"}),k="span";return l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{className:"skip-nav-button",onClick:this._handleSkipNavigation},l.a.createElement(f.a,{id:"components.AppMenu.skipNavigation"})),l.a.createElement("button",{"aria-controls":"app-menu","aria-expanded":S,"aria-label":I,className:"app-menu-icon",onClick:this._togglePane},l.a.createElement(k,{className:"menu-line top"}),l.a.createElement(k,{className:"menu-line middle"}),l.a.createElement(k,{className:"menu-line bottom"})),l.a.createElement(x.a,{from:"left",hideHeader:!0,isOpen:S,onRequestClose:function(){return e.setState({isPaneOpen:!1})},shouldCloseOnEsc:!0,width:"320px"},l.a.createElement("div",{className:"app-menu",id:"app-menu"},l.a.createElement(Y,{className:"app-menu-trip-planner-link",icon:l.a.createElement(y,null),onClick:this._togglePane,text:s.formatMessage({id:"components.BatchRoutingPanel.shortTitle"}),to:"/"}),l.a.createElement(Y,{className:"app-menu-route-viewer-link",icon:l.a.createElement(r.a,null),onClick:this._togglePane,text:s.formatMessage({id:"components.RouteViewer.shortTitle"}),to:"/route"}),l.a.createElement(Y,{className:"app-menu-nearby-viewer-link",icon:l.a.createElement(v.a,null),onClick:this._togglePane,text:s.formatMessage({id:"components.ViewSwitcher.nearby"}),to:"/nearby"}),l.a.createElement(Y,{icon:l.a.createElement(b.a,null),onClick:this._startOver,text:s.formatMessage({id:"common.forms.startOver"})}),p&&l.a.createElement(Y,{icon:l.a.createElement(T,{iconName:p}),onClick:this._triggerPopup,text:l.a.createElement(Q.a,{popupTarget:p})}),i&&l.a.createElement(Y,{icon:l.a.createElement(g,null),onClick:w,text:s.formatMessage({id:"components.AppMenu.callHistory"})}),a&&l.a.createElement(Y,{icon:l.a.createElement(h,null),onClick:E,text:s.formatMessage({id:"components.AppMenu.fieldTrip"})}),d&&l.a.createElement(Y,{icon:l.a.createElement(u,null),onClick:A,text:s.formatMessage({id:"components.AppMenu.mailables"})}),this._addExtraMenuItems(o),this._addExtraMenuItems(O))))}}])&&J(t.prototype,n),i&&J(t,i),a}(s.Component);ne(re,"contextType",O.a);var ie={resetAndToggleCallHistory:E.b,resetAndToggleFieldTrips:_.c,setLocale:A.h,setPopupContent:A.l,startOverFromInitialUrl:A.s,toggleMailables:E.d},oe=(t.b=Object(p.c)(Object(i.c)((function(e){var t,n=e.otp.config,r=n.extraMenuItems,i=n.language,o=n.popups;return{activeLocale:e.otp.ui.locale,callTakerEnabled:Object(T.isModuleEnabled)(e,T.Modules.CALL_TAKER),extraMenuItems:r,fieldTripEnabled:Object(T.isModuleEnabled)(e,T.Modules.FIELD_TRIP),language:i,languageOptions:Object(S.e)(i),mailablesEnabled:Object(T.isModuleEnabled)(e,T.Modules.MAILABLES),popupTarget:null==o||null===(t=o.launchers)||void 0===t?void 0:t.sidebarLink}}),ie)(re)),function(e){var t=e.iconType,n=e.iconUrl,r=Object(s.useContext)(O.a).SvgIcon;return n?l.a.createElement("img",{alt:"",src:n}):t?l.a.createElement(r,{iconName:t}):l.a.createElement(d,null)})},function(e,t,n){var r=n(198),i=n(201),o=n(220);e.exports=function(e){return"string"==typeof e||!i(e)&&o(e)&&"[object String]"==r(e)}},function(e,t,n){"use strict";var r=n(107);n.d(t,"DelimitedArrayParam",(function(){return r.a})),n.d(t,"decodeQueryParams",(function(){return r.c}));n(444),n(445),n(168),n(355),n(446);var i=n(291);n.d(t,"QueryParamProvider",(function(){return i.a}))},function(e,t,n){"use strict";var r,i,o,a,s,l=n(84),c=n(69),u=n(225),d=n(0),f=n.n(d),p=n(1),m=n(44),h=n(189);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var b=p.default.span(r||(r=v(["\n  align-items: center;\n  column-gap: 4px;\n  display: grid;\n  grid-template-columns: fit-content(100%);\n  justify-content: flex-start;\n  margin-left: -4px; /* counteract gap */\n\n  footer {\n    align-self: center;\n    font-size: 12px;\n    grid-column: 1 / span 2;\n    justify-self: center;\n    opacity: 0.7;\n  }\n"]))),w=p.default.span(i||(i=v(["\n  display: flex;\n  flex-direction: row;\n  gap: 5px;\n  grid-column: 2;\n  grid-row: 1;\n\n  ","\n  ","\n"])),(function(e){return e.italic&&"font-style: italic;"}),(function(e){return e.multi?"\n  /* All Route blocks start with only right side triangulated */\n  span {\n    clip-path: polygon(0% 0, 100% 0%, 75% 100%, 0% 100%);\n    margin-right: 2px;\n    max-width: 100px;\n    padding-left: 5px;\n    padding-right: 10px;\n  }\n  span:first-of-type {\n    border-bottom-right-radius: 0!important;\n    border-top-right-radius: 0!important;\n  }\n  /* Middle route block(s), with both sides triangulated */\n  span:not(:first-of-type):not(:last-of-type) {\n    border-radius: 0;\n    clip-path: polygon(25% 0, 100% 0%, 75% 100%, 0% 100%);\n    margin-left: -10px;\n    padding-left: 11px;\n    padding-right: 11px;\n  }\n  /* Last route block, with only left side triangulated */\n  span:last-of-type {\n    border-bottom-left-radius: 0!important;\n    border-top-left-radius: 0!important;\n    clip-path: polygon(25% 0, 100% 0%, 100% 100%, 0% 100%);\n    margin-left: -10px;\n    padding-left: 10px;\n    padding-right: 5px;\n  }\n  ":""})),x=p.default.span(o||(o=v(["\n  height: 28px;\n  max-width: 28px;\n"]))),E=p.default.div(a||(a=v(["\n  align-items: baseline;\n  align-self: center;\n  display: flex;\n  gap: 5px;\n  grid-column: 3;\n  grid-row: 1;\n  justify-content: space-between;\n"]))),_=p.default.span(s||(s=v(["\n  align-items: center;\n  display: flex;\n  line-height: 2;\n  margin: 0 -5px;\n  opacity: 0.4;\n"])));t.a=function(e){var t,n,r=e.footer,i=e.hideLongName,o=e.leg,a=e.LegIcon,s=e.previousLegMode,p=e.showDivider,v=Object(d.useContext)(m.a).RouteRenderer,A=Object(l.a)(),O=v||h.a,S=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},o),T=(null==S?void 0:S.alternateRoutes)&&Object.entries(S.alternateRoutes||{}).every((function(e){return e[1].routeShortName&&e[1].routeShortName.length>7}));return T&&(S.alternateRoutes=void 0,i&&(S.routeShortName=A.formatMessage({id:"components.MetroUI.multipleOptions"}))),f.a.createElement(f.a.Fragment,null,p&&s&&f.a.createElement(_,{className:"route-block-divider"},""),f.a.createElement(b,{className:"route-block-wrapper"},S.mode!==s&&f.a.createElement(x,null,f.a.createElement(a,{height:28,leg:S})),(S.routeShortName||S.route||S.routeLongName)&&f.a.createElement(w,{italic:T&&i,multi:!!S.alternateRoutes},f.a.createElement(O,{leg:S}),null===(t=Object.entries((null==S?void 0:S.alternateRoutes)||{}))||void 0===t?void 0:t.map((function(e){var t=e[1];return f.a.createElement(O,{key:e[0],leg:t})}))),!i&&S.routeLongName&&f.a.createElement(E,null,f.a.createElement(u.RouteLongName,{leg:S}),(null===(n=Object.entries((null==S?void 0:S.alternateRoutes)||{}))||void 0===n?void 0:n.length)>0&&f.a.createElement("em",{style:{marginRight:10}},f.a.createElement(c.a,{id:"components.MetroUI.orAlternatives"}))),r&&f.a.createElement("footer",null,r)))}},function(e,t,n){"use strict";var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.getQueryParamProperty=function(e,t,n){return"function"==typeof e[t]?e[t](n):e[t]},t.ensureSingleAccessMode=function(e){const t=e.filter((e=>(0,s.isAccessMode)(e))).length;if(t>1){const t=e.find((e=>(0,s.isAccessMode)(e)));e=e.filter((e=>!(0,s.isAccessMode)(e)||e===t))}else 0===t&&e.push("WALK");return e},t.getUrlParams=p,t.getOtpUrlParams=function(){return Object.keys(p()).filter((e=>!e.startsWith("ui_")))},t.getTripOptionsFromQuery=function(e,t=!1){const n={...e};delete n.time,delete n.departArrive,delete n.date,t||(delete n.from,delete n.to);return n},t.getDefaultQuery=m,t.reduceOtpFlexModes=g,t.expandOtpFlexMode=y,t.isNotDefaultQuery=function(e,t){var n;const r=g(e.mode.split(",").sort(),null===(n=t.modes)||void 0===n?void 0:n.mergeFlex);if(2!==r.length||"TRANSIT"!==r[0]||"WALK"!==r[1]){const e=(0,s.getTransitModes)(t).concat(["WALK"]).sort();if(!(r.length===e.length&&r.every(((t,n)=>t===e[n]))))return!0}const i=m(t);for(let n=0;n<d.length;n++){const r=d[n];if(h(c.default.find((e=>e.name===r)),e,t)&&e[r]!==i[r])return!0}return!1},t.parseLocationString=v,t.planParamsToQuery=w,t.planParamsToQueryAsync=async function(e,t={}){const n=w(e);n.from||(n.from=await b(e.fromPlace,t.geocoder));n.to||(n.to=await b(e.toPlace,t.geocoder));return n},t.getRoutingParams=function(e,t,n){var r;const o=t.routingType,a="ITINERARY"===o;let l={};if(c.default.filter((n=>-1!==n.routingTypes.indexOf(o)&&n.name in t&&("function"!=typeof n.applicable||n.applicable(t,e)))).forEach((e=>{const n=a?e.itineraryRewrite:e.profileRewrite;l=Object.assign(l,n?n(t[e.name]):{[e.name]:t[e.name]})})),a){"boolean"==typeof n&&(l.ignoreRealtimeUpdates=n);const e=(0,i.isMatch)(l.date,u.OTP_API_DATE_FORMAT),t=(0,i.isMatch)(l.time,u.OTP_API_TIME_FORMAT);e&&t||(delete l.time,delete l.date),l.mode&&(l.mode.includes("CAR_HAIL")||l.mode.includes("CAR_RENT"))&&(l.minTransitDistance="50%",l.searchTimeout=1e4),l.mode&&l.mode.includes("CAR_RENT")&&(l.onlyTransitTrips=!0)}else{const e=(0,i.isMatch)(l.startTime,u.OTP_API_TIME_FORMAT),t=(0,i.isMatch)(l.endTime,u.OTP_API_TIME_FORMAT);e&&t||(delete l.startTimeValid,delete l.endTimeValid)}(0,s.hasCar)(l.mode)&&(l.mode+=",WALK");if(l.mode&&!1!==(null===(r=e.modes)||void 0===r?void 0:r.mergeFlex)){const e=g(l.mode.split(",")).join(",");l.mode=y(e)}return l},t.defaultParams=void 0;var i=n(86),o=r(n(164)),a=r(n(56)),s=n(42),l=n(761),c=r(n(762)),u=n(144);const d=["wheelchair","maxWalkDistance","walkReluctance","maxWalkTime","maxBikeDistance","maxBikeTime","bikeSpeed","optimize","optimizeBike","maxEScooterDistance","watts"];t.defaultParams=d;const f=["HH:mm:ss","HH:mm","H:mm","h:mm:ss a","h:mm:ssa","h:mm a","h:mma","h:mm","HHmm","hmm","ha"];function p(){return a.default.parse(window.location.href.split("?")[1])}function m(e=null){const t={routingType:"ITINERARY"};return c.default.filter((e=>"default"in e)).forEach((e=>{var n;t[e.name]="function"==typeof(n=e).default?n.default():n.default})),e&&(e.routingTypes&&e.routingTypes.length>0&&(t.routingType=e.routingTypes[0].key),e.defaultQueryParams&&Object.keys(e.defaultQueryParams).forEach((n=>{t[n]=e.defaultQueryParams[n]}))),t}function h(e,t,n){const{applicable:r,routingTypes:i}=e;return!!i.includes(t.routingType)&&!("function"==typeof r&&!r(t,n))}function g(e,t=!0){return t?e.reduce(((e,t)=>{const n=e;return t.includes("FLEX")?n.includes("FLEX")||n.push("FLEX"):n.push(t),n}),[]):e}function y(e){return g(e.split(",")).map((t=>"FLEX_EGRESS"!==t&&"FLEX_ACCESS"!==t&&"FLEX_DIRECT"!==t||!e.includes("FLEX")?"FLEX"===t?"FLEX_EGRESS,FLEX_ACCESS,FLEX_DIRECT":t:"")).join(",")}function v(e){if(!e)return null;const t=e.split("::"),n=t[1]?(0,l.stringToCoords)(t[1]):(0,l.stringToCoords)(t[0]),r=t[1]?t[0]:(0,l.coordsToString)(n);return 2===n.length?{name:r||null,lat:n[0]||null,lon:n[1]||null}:null}async function b(e,t){let n=v(e);return!n&&e&&t&&(n=await async function(e,t){const n=(0,o.default)(t);return n.search({text:e}).then((e=>{const t=e.features&&e.features[0];return t?n.getLocationFromGeocodedFeature(t):null}))}(e,t)),n}function w(e){const t={};return Object.keys(e).forEach((n=>{switch(n){case"fromPlace":t.from=v(e.fromPlace);break;case"toPlace":t.to=v(e.toPlace);break;case"arriveBy":t.departArrive="true"===e.arriveBy?"ARRIVE":"false"===e.arriveBy?"DEPART":"NOW";break;case"date":t.date=e.date||(0,u.getCurrentDate)();break;case"time":{const n=f.find((t=>(0,i.isMatch)(e.time,t)));t.time=n?(0,i.format)((0,i.parse)(e.time,n,new Date),u.OTP_API_TIME_FORMAT):(0,u.getCurrentTime)()}break;case"intermediatePlaces":t.intermediatePlaces=e.intermediatePlaces?e.intermediatePlaces.map(v):[];break;default:{const r=Number(e[n]);t[n]=""===e[n]||Number.isNaN(r)?e[n]:r;break}}})),t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return Wt})),n.d(t,"b",(function(){return P}));var r=n(76),i=n.n(r),o=n(77),a=n.n(o),s=n(81),l=n.n(s),c=n(82),u=n.n(c),d=n(60),f=n.n(d),p=n(42),m=n(0),h=n.n(m),g=n(124),y=n(69),v=n(15),b=n.n(v),w=n(148),x=n(84),E=n(7),_=n(101),A=n(1),O=n(352),S=n(351),T=n(149),I=n(51),k=n.n(I),C=n(290),M=n.n(C),N=k()(M.a),j=function(e){return e&&(e.startsWith("#")?e:"#".concat(e))},L=function(e,t){switch(e){case"WALK":return"#484848";case"BICYCLE":case"BICYCLE_RENT":return"red";case"CAR":return"grey";case"MICROMOBILITY":case"MICROMOBILITY_RENT":case"SCOOTER":return"#f5a729";default:return j(t)||"#008ab0"}};function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t.find((function(t){return t.id===e}));return n||console.warn("No company found in config.yml that matches rented vehicle network: ".concat(e),t),n}function D(e,t){switch(e){case"BIKEPARK":return t.formatMessage({defaultMessage:N["otpUi.AccessLegBody.vehicleType.bike"],description:"Bike vehicle type",id:"otpUi.AccessLegBody.vehicleType.bike"});case"BIKESHARE":return t.formatMessage({defaultMessage:N["otpUi.AccessLegBody.vehicleType.bikeshare"],description:"Bike share vehicle type",id:"otpUi.AccessLegBody.vehicleType.bikeshare"});case"CARSHARE":return t.formatMessage({defaultMessage:N["otpUi.AccessLegBody.vehicleType.car"],description:"Car vehicle type",id:"otpUi.AccessLegBody.vehicleType.car"});case"VEHICLERENTAL":return t.formatMessage({defaultMessage:N["otpUi.AccessLegBody.vehicleType.escooter"],description:"E-scooter vehicle type",id:"otpUi.AccessLegBody.vehicleType.escooter"});default:return t.formatMessage({defaultMessage:N["otpUi.AccessLegBody.vehicleType.vehicle"],description:"Generic vehicle type",id:"otpUi.AccessLegBody.vehicleType.vehicle"})}}function P(e){var t,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2?arguments[2]:void 0;if(e.address)return null===(t=e.address.split(","))||void 0===t?void 0:t[0];var a=R((null===(n=e.networks)||void 0===n?void 0:n[0])||(null==e||null===(r=e.rentalVehicle)||void 0===r?void 0:r.network),i);return o&&("Default vehicle type"===e.name||(e.name.match(/-/g)||[]).length>3||null!=a&&a.overridePlaceNames)?o.formatMessage({defaultMessage:N["otpUi.AccessLegBody.vehicleTitle"],description:"Formats rental vehicle company and type",id:"otpUi.AccessLegBody.vehicleTitle"},{company:null==a?void 0:a.label,vehicleType:D(e.vertexType,o)}):e.name}var B,F,U=function(e){return e.split("PT")[1].split("M")[0]},z=A.default.div.withConfig({displayName:"styled__LightBorderDiv",componentId:"sc-1q8npbl-0"})(["border-top-style:solid;border-top-width:",";border-top-color:",";padding-top:",";padding-bottom:",";transform:",";"],(function(e){return"true"===e.hideBorder?"0":"2px"}),(function(e){return e.theme.borderColor}),(function(e){return"true"===e.hideBorder?"0":"10px"}),(function(e){return"true"===e.hideBorder?"10px":"0"}),(function(e){return"true"===e.hideBorder?"":"translateY(-12px)"})),V=A.default.button.withConfig({displayName:"styled__TransparentButton",componentId:"sc-1q8npbl-1"})(["background:transparent;border:0;color:inherit;cursor:pointer;font-size:inherit;text-decoration:none;"]),G=A.default.a.withConfig({displayName:"styled__AnchorButton",componentId:"sc-1q8npbl-2"})(["background-color:#fff;background-image:none;border-radius:4px;border:1px solid #ccc;color:#333;cursor:pointer;display:inline-block;font-size:14px;font-weight:400;padding:4px 6px;text-align:center;text-decoration:none;touch-action:manipulation;user-select:none;white-space:nowrap;&:hover{color:#333;background-color:#e6e6e6;border-color:#adadad;}&:active{color:#333;background-color:#e6e6e6;background-image:none;border-color:#adadad;outline:0;box-shadow:inset 0 3px 5px rgba(0,0,0,0.125);}&:focus{color:#333;background-color:#e6e6e6;border-color:#8c8c8c;}&:active:hover{color:#333;background-color:#d4d4d4;border-color:#8c8c8c;}"]),H=Object(A.default)(V).withConfig({displayName:"styled__LinkButton",componentId:"sc-1q8npbl-3"})(["color:#008;margin-left:5px;&:hover{text-decoration:underline;}"]),W=Object(A.default)(H).withConfig({displayName:"styled__ViewerButton",componentId:"sc-1q8npbl-4"})(['padding-left:0px;&:before{content:"|";color:black;margin-right:5px;}']),Y=(A.default.div.withConfig({displayName:"styled__AccessBadge",componentId:"sc-1q8npbl-5"})(["color:black;background-color:",";border:2px solid #bbb;text-align:center;width:25px;height:25px;font-size:1.2em;border-radius:50%;display:flex;align-items:center;justify-content:center;padding-left:1px;"],(function(e){return function(e,t){switch(e){case"WALK":return"#e9e9e9";case"BICYCLE":case"BICYCLE_RENT":return"red";case"CAR":return"grey";case"MICROMOBILITY":case"MICROMOBILITY_RENT":case"SCOOTER":return"#f5a729";default:return j(t)||"#084c8d"}}(e.mode,e.routeColor)})),A.default.button.withConfig({displayName:"styled__ArrivalTimeContainer",componentId:"sc-1q8npbl-6"})(["align-items:center;background:none;border:none;color:#007899;cursor:pointer;display:flex;font-size:0.9em;font-family:inherit;margin:0;margin-top:5px;outline:inherit;padding:0;text-align:inherit;"]),A.default.div.withConfig({displayName:"styled__CallAheadWarning",componentId:"sc-1q8npbl-7"})(["color:#b22727;margin-top:5px;"])),Q=A.default.div.withConfig({displayName:"styled__BookLaterContainer",componentId:"sc-1q8npbl-8"})(["bottom:0;left:110px;position:absolute;right:0;top:0;"]),Z=A.default.div.withConfig({displayName:"styled__BookLaterInnerContainer",componentId:"sc-1q8npbl-9"})(["background-color:#fcf9d3;display:table;height:100%;width:100%;"]),X=A.default.div.withConfig({displayName:"styled__BookLaterPointer",componentId:"sc-1q8npbl-10"})(["border-bottom:16px solid transparent;border-right:16px solid #fcf9d3;border-top:16px solid transparent;height:0;left:94px;position:absolute;top:0;width:0;"]),J=A.default.div.withConfig({displayName:"styled__BookLaterText",componentId:"sc-1q8npbl-11"})(["color:#444;display:table-cell;font-style:italic;line-height:0.95;padding:0px 2px;vertical-align:middle;"]),q=Object(A.default)(G).withConfig({displayName:"styled__BookTNCRideButton",componentId:"sc-1q8npbl-12"})([""]),K=A.default.div.withConfig({displayName:"styled__BookTNCRideButtonContainer",componentId:"sc-1q8npbl-13"})(["height:32px;margin-bottom:10px;margin-top:10px;position:relative;"]),$=A.default.div.withConfig({displayName:"styled__TNCTravelTime",componentId:"sc-1q8npbl-14"})([""]),ee=A.default.div.withConfig({displayName:"styled__TNCCost",componentId:"sc-1q8npbl-15"})([""]),te=Object(A.default)((function(e){var t=e.className,n=e.expanded;return h.a.createElement("span",{className:t},n?h.a.createElement(S.CaretUp,{size:15}):h.a.createElement(O.CaretDown,{size:15}))})).withConfig({displayName:"styled__CaretToggle",componentId:"sc-1q8npbl-16"})(['&::before{content:"";margin:0 0.125em;}']),ne=(A.default.div.withConfig({displayName:"styled__Destination",componentId:"sc-1q8npbl-17"})(["text-align:center;"]),A.default.div.withConfig({displayName:"styled__InnerLine",componentId:"sc-1q8npbl-18"})(["border-left:",";height:100%;width:0;position:absolute;left:50%;transform:translateX(-50%);"],(function(e){return function(e,t){switch(e){case"WALK":case"BICYCLE":case"BICYCLE_RENT":case"CAR":case"MICROMOBILITY":case"MICROMOBILITY_RENT":case"SCOOTER":return"dotted 4px ".concat(L(e,t));default:return"solid 8px ".concat(L(e,t))}}(e.mode,e.routeColor)})),A.default.div.withConfig({displayName:"styled__InterlineDot",componentId:"sc-1q8npbl-19"})(["color:#fff;flex:0 0 15px;margin-left:-33px;margin-right:18px;position:relative;z-index:30;"])),re=(A.default.div.withConfig({displayName:"styled__InterlineName",componentId:"sc-1q8npbl-20"})([""]),A.default.ol.withConfig({displayName:"styled__IntermediateStops",componentId:"sc-1q8npbl-21"})(["display:block;font-size:13px;list-style:none;padding:0;"])),ie=A.default.ol.withConfig({displayName:"styled__ItineraryBody",componentId:"sc-1q8npbl-22"})(["list-style:none;padding:0;"]),oe=A.default.div.withConfig({displayName:"styled__LegBody",componentId:"sc-1q8npbl-23"})(["color:#676767;font-size:13px;padding-bottom:12px;"]),ae=A.default.div.withConfig({displayName:"styled__LegClickable",componentId:"sc-1q8npbl-24"})([""]),se=Object(A.default)(V).withConfig({displayName:"styled__LegClickableButton",componentId:"sc-1q8npbl-25"})(["bottom:0;cursor:pointer;left:0;position:absolute;right:0;top:0;width:100%;z-index:1;"]),le=A.default.span.withConfig({displayName:"styled__LegDescription",componentId:"sc-1q8npbl-26"})(["align-items:center;display:inline-flex;line-height:16px;min-height:31px;position:relative;"]),ce=A.default.span.attrs({className:"invisible-additional-details"}).withConfig({displayName:"styled__InvisibleAdditionalDetails",componentId:"sc-1q8npbl-27"})(["display:inline-block;grid-row-start:2;grid-column-start:1;height:0;overflow:hidden;width:0;"]),ue=(A.default.span.withConfig({displayName:"styled__LegDescriptionHeadsignPrefix",componentId:"sc-1q8npbl-28"})(["font-weight:200;"]),A.default.span.withConfig({displayName:"styled__LegDescriptionMode",componentId:"sc-1q8npbl-29"})(["font-weight:inherit;"]),A.default.span.withConfig({displayName:"styled__LegDescriptionPlace",componentId:"sc-1q8npbl-30"})(["font-weight:inherit;"])),de=(A.default.span.withConfig({displayName:"styled__LegDescriptionRouteLongName",componentId:"sc-1q8npbl-31"})(["font-size:13px;font-weight:500;"]),A.default.span.withConfig({displayName:"styled__LegDescriptionRouteShortName",componentId:"sc-1q8npbl-32"})(["font-weight:800;margin-right:6px;"])),fe=(Object(A.default)(le).withConfig({displayName:"styled__LegDescriptionForTransit",componentId:"sc-1q8npbl-33"})(["color:#807373;margin-top:5px;"]),A.default.span.withConfig({displayName:"styled__LegIconContainer",componentId:"sc-1q8npbl-34"})(["img,svg{margin-right:6px;height:24px;width:24px;vertical-align:bottom;}"])),pe=A.default.span.withConfig({displayName:"styled__LegIconAndRouteShortName",componentId:"sc-1q8npbl-35"})(["flex-shrink:0;"]),me=(A.default.div.withConfig({displayName:"styled__LegLine",componentId:"sc-1q8npbl-36"})(["position:relative;left:50%;transform:translateX(-50%);height:100%;"]),A.default.div.withConfig({displayName:"styled__LineBadgeContainer",componentId:"sc-1q8npbl-37"})(["width:30px;height:30px;border-radius:50%;position:absolute;left:50%;top:0;transform:translate(-51%,-10%);"]),A.default.div.withConfig({displayName:"styled__LineColumn",componentId:"sc-1q8npbl-38"})(["grid-column-start:2;grid-row:span 2;padding-right:5px;"])),he=A.default.span.withConfig({displayName:"styled__LegDetails",componentId:"sc-1q8npbl-39"})(["display:grid;grid-template-columns:130px auto;"]),ge=A.default.li.withConfig({displayName:"styled__PlaceRowWrapper",componentId:"sc-1q8npbl-40"})(['max-width:500px;display:grid;grid-template-areas:"time line title" "time line instructions";grid-template-columns:65px 30px auto;']),ye=A.default.div.withConfig({displayName:"styled__PreviewContainer",componentId:"sc-1q8npbl-41"})(["background-color:",";border-color:",";border-radius:5px;border-style:solid;border-width:1px;display:inline-block;font-style:normal;grid-column:2;grid-row:1;margin:0 4px;position:relative;text-align:center;text-decoration:none;vertical-align:middle;width:75%;&:hover{border-color:#d1d5da;background-color:#f6f8fa;}"],(function(e){return e.active&&"#eee"}),(function(e){return e.active?"#d1d5da":"#fff"})),ve=A.default.div.withConfig({displayName:"styled__TimeColumn",componentId:"sc-1q8npbl-42"})(["grid-column-start:1;grid-row:1 / span 2;padding-right:5px;font-size:0.9em;"]),be=Object(A.default)(H).withConfig({displayName:"styled__MapButton",componentId:"sc-1q8npbl-43"})(["padding:3px 10px 3px 10px;border:0;margin-top:-15px;width:35px;height:35px;&:hover{cursor:pointer;}"]),we=Object(A.default)(z).withConfig({displayName:"styled__MapButtonColumn",componentId:"sc-1q8npbl-44"})(["flex:0 0 25px;grid-column:-1;"]),xe=Object(A.default)(_.Map).attrs((function(e){return{fill:e.theme.secondaryColor,width:15,height:15,role:"img"}})).withConfig({displayName:"styled__MapIcon",componentId:"sc-1q8npbl-45"})([""]),Ee=A.default.div.withConfig({displayName:"styled__PlaceDetails",componentId:"sc-1q8npbl-46"})(["grid-row-start:2;grid-column-start:3;grid-area:instructions;"]),_e=A.default.div.withConfig({displayName:"styled__PlaceHeader",componentId:"sc-1q8npbl-47"})(["display:flex;font-size:1.2em;grid-row-start:1;grid-column-start:3;"]),Ae=A.default.span.withConfig({displayName:"styled__PlaceName",componentId:"sc-1q8npbl-48"})(["font-size:inherit;font-weight:bold;height:1.2em;margin:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;flex:1 1 auto;padding:3px 0 10px 0;"]),Oe=A.default.div.withConfig({displayName:"styled__PlaceSubheader",componentId:"sc-1q8npbl-49"})(["color:#807373;font-size:13px;font-weight:300;padding-top:1px;margin-bottom:10px;margin-top:-14px;"]),Se=Object(A.default)(V).withConfig({displayName:"styled__PreviewDiagram",componentId:"sc-1q8npbl-50"})(["padding:2px;width:100%;"]),Te=A.default.span.withConfig({displayName:"styled__PreviewDiagramElevationChange",componentId:"sc-1q8npbl-51"})(['font-size:xx-small;&::before{content:"";margin:0 0.125em;}']),Ie=Object(A.default)(Te).withConfig({displayName:"styled__PreviewDiagramElevationGain",componentId:"sc-1q8npbl-52"})(["color:#e60000;"]),ke=Object(A.default)(Te).withConfig({displayName:"styled__PreviewDiagramElevationLoss",componentId:"sc-1q8npbl-53"})(["color:green;"]),Ce=A.default.div.withConfig({displayName:"styled__PreviewDiagramTitle",componentId:"sc-1q8npbl-54"})(["font-size:small;"]),Me=(A.default.div.withConfig({displayName:"styled__RouteBadge",componentId:"sc-1q8npbl-55"})(["text-align:center;min-width:30px;min-height:30px;font-size:1.2em;background-color:",";color:white;border-radius:50%;display:flex;align-items:center;justify-content:center;padding-left:1px;border:1px solid ",";user-select:none;cursor:default;"],(function(e){return j(e.routeColor)||e.theme.mainColor}),(function(e){return e.theme.badgeBorderColor})),A.default.span.withConfig({displayName:"styled__SROnly",componentId:"sc-1q8npbl-56"})(["position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0;"]),A.default.span.attrs({"aria-hidden":!0}).withConfig({displayName:"styled__SRHidden",componentId:"sc-1q8npbl-57"})([""]),A.default.ol.withConfig({displayName:"styled__Steps",componentId:"sc-1q8npbl-58"})(["display:block;list-style:none;padding:0;"])),Ne=A.default.div.withConfig({displayName:"styled__StepDescriptionContainer",componentId:"sc-1q8npbl-59"})(["margin-left:24px;line-height:1.25em;padding-top:1px;& > span{margin-right:1ch;}"]),je=A.default.span.withConfig({displayName:"styled__StepsHeaderAndMapLink",componentId:"sc-1q8npbl-60"})(["display:inline-flex;align-self:center;margin-top:10px;a{display:flex;align-items:center;justify-content:center;}"]),Le=Object(A.css)(["color:#676767;font-size:13px;font-style:normal;padding:0;"]),Re=Object(A.default)(V).withConfig({displayName:"styled__StepsHeaderButton",componentId:"sc-1q8npbl-61"})(["",""],Le),De=A.default.span.withConfig({displayName:"styled__StepsHeaderSpan",componentId:"sc-1q8npbl-62"})([""," margin-right:0.4em;"],Le),Pe=A.default.div.withConfig({displayName:"styled__StepIconContainer",componentId:"sc-1q8npbl-63"})(["fill:#676767;float:left;height:16px;width:16px;"]),Be=A.default.li.withConfig({displayName:"styled__StepRow",componentId:"sc-1q8npbl-64"})(["font-size:13px;margin-top:8px;color:#676767;font-style:normal;"]),Fe=A.default.span.withConfig({displayName:"styled__StepStreetName",componentId:"sc-1q8npbl-65"})(["font-weight:500;"]),Ue=A.default.span.withConfig({displayName:"styled__StepLength",componentId:"sc-1q8npbl-66"})(["font-weight:200;opacity:0.8975;padding-left:1ch;"]),ze=(A.default.span.withConfig({displayName:"styled__StopIdSpan",componentId:"sc-1q8npbl-67"})(["font-weight:200;font-size:0.9em;margin-left:10px;"]),A.default.div.withConfig({displayName:"styled__StopMarker",componentId:"sc-1q8npbl-68"})(["float:left;margin-left:-36px;color:#fff;"])),Ve=A.default.div.withConfig({displayName:"styled__StopName",componentId:"sc-1q8npbl-69"})(["color:#676767;margin-top:3px;"]),Ge=A.default.li.withConfig({displayName:"styled__StopRow",componentId:"sc-1q8npbl-70"})(["z-index:30;position:relative;"]),He=A.default.li.withConfig({displayName:"styled__TransitAlert",componentId:"sc-1q8npbl-71"})(["background-color:#eee;border-radius:4px;color:#000;display:block;margin-top:5px;padding:8px;text-decoration:none;"]),We=A.default.a.withConfig({displayName:"styled__TransitAlertExternalLink",componentId:"sc-1q8npbl-72"})(["align-items:baseline;display:flex;gap:5px;margin-top:0.5em;text-decoration:none;&:hover{text-decoration:underline;}"]),Ye=A.default.div.withConfig({displayName:"styled__TransitAlertBody",componentId:"sc-1q8npbl-73"})(["font-size:12px;margin-left:30px;white-space:pre-wrap;"]),Qe=A.default.div.withConfig({displayName:"styled__TransitAlertEffectiveDate",componentId:"sc-1q8npbl-74"})(["margin-top:5px;margin-left:30px;font-size:12px;font-style:italic;"]),Ze=A.default.div.withConfig({displayName:"styled__TransitAlertHeader",componentId:"sc-1q8npbl-75"})(["font-size:14px;margin-left:30px;font-weight:600;"]),Xe=A.default.div.withConfig({displayName:"styled__TransitAlertIconContainer",componentId:"sc-1q8npbl-76"})(["float:left;font-size:18px;"]),Je=A.default.ul.withConfig({displayName:"styled__TransitAlerts",componentId:"sc-1q8npbl-77"})(["display:block;margin-top:3px;padding:0;"]),qe=Object(A.default)(V).withConfig({displayName:"styled__TransitAlertToggle",componentId:"sc-1q8npbl-78"})(["color:#d14727;cursor:",";display:inline-block;font-weight:400;margin-top:8px;padding:0;"],(function(e){return e.isButton?"cursor":"auto"})),Ke=A.default.div.withConfig({displayName:"styled__TransitLegDetails",componentId:"sc-1q8npbl-79"})(["margin-top:5px;"]),$e=A.default.div.withConfig({displayName:"styled__TransitLegDetailsHeader",componentId:"sc-1q8npbl-80"})(["color:#676767;display:flex;"]),et=A.default.div.withConfig({displayName:"styled__TransitLegExpandedBody",componentId:"sc-1q8npbl-81"})(["font-size:14px;"]),tt=A.default.div.withConfig({displayName:"styled__TransitLegFare",componentId:"sc-1q8npbl-82"})([""]),nt=(Object(A.default)(V).withConfig({displayName:"styled__TransitLegSummary",componentId:"sc-1q8npbl-83"})(["padding:0;"]),Object(A.default)(T.ExclamationTriangle).attrs({size:15}).withConfig({displayName:"styled__DefaultAlertToggleIcon",componentId:"sc-1q8npbl-84"})([""])),rt=Object(A.default)(T.ExclamationTriangle).attrs({size:18}).withConfig({displayName:"styled__DefaultAlertBodyIcon",componentId:"sc-1q8npbl-85"})([""]),it=A.default.div.withConfig({displayName:"styled__AgencyInfo",componentId:"sc-1q8npbl-86"})(["margin-top:5px;a{color:#337ab7;text-decoration:none;}a:hover{text-decoration:underline;}img{margin-left:5px;vertical-align:middle;}"]);function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function st(e){var t=e.className,n=e.config,r=e.leg,i=e.style,o=Object(x.a)(),a=at(at({},r.to),{},{vertexType:"BIKESHARE"===r.to.vertexType?"VEHICLE":r.to.vertexType}),s=function(e,t){switch(e.mode){case"BICYCLE":return t.formatMessage({defaultMessage:N["otpUi.AccessLegBody.summaryMode.bike"],description:"Bike to somewhere",id:"otpUi.AccessLegBody.summaryMode.bike"});case"BICYCLE_RENT":return t.formatMessage({defaultMessage:N["otpUi.AccessLegBody.summaryMode.bikeshare"],description:"Bikeshare to somewhere",id:"otpUi.AccessLegBody.summaryMode.bikeshare"});case"CAR":return e.rideHailingEstimate?t.formatMessage({defaultMessage:N["otpUi.AccessLegBody.summaryMode.carHail"],description:"Ride in a car/taxi to somewhere",id:"otpUi.AccessLegBody.summaryMode.carHail"}):t.formatMessage({defaultMessage:N["otpUi.AccessLegBody.summaryMode.carDrive"],description:"Drive somewhere",id:"otpUi.AccessLegBody.summaryMode.carDrive"});case"MICROMOBILITY":case"MICROMOBILITY_RENT":case"SCOOTER":return t.formatMessage({defaultMessage:N["otpUi.AccessLegBody.summaryMode.escooter"],description:"Use an e-scooter",id:"otpUi.AccessLegBody.summaryMode.escooter"});case"WALK":return t.formatMessage({defaultMessage:N["otpUi.AccessLegBody.summaryMode.walk"],description:"Walk to somewhere",id:"otpUi.AccessLegBody.summaryMode.walk"});default:return e.mode}}(r,o),l=h.a.createElement(ue,null,P(a,n.companies,o)),c=r.to.stopId===r.from.stopId;return h.a.createElement("span",{className:t,style:i},r.distance>0?h.a.createElement(y.a,{defaultMessage:"{mode} {distance} to {place}",description:"Summarizes an access leg, including distance",id:"otpUi.AccessLegBody.summaryAndDistance",values:{distance:Object(w.humanizeDistanceString)(r.distance,!1,o),duration:(null==n?void 0:n.formatDuration)&&n.formatDuration(r.duration,o,!1),mode:s,place:l}}):c?h.a.createElement(y.a,{defaultMessage:"Transfer, wait {duration}",description:"Summarizes a transfer leg",id:"otpUi.AccessLegBody.transfer",values:{duration:o.formatMessage({id:"otpUi.ItineraryBody.common.durationShort"},at({approximatePrefix:!1},E.default.time.toHoursMinutesSeconds(r.duration)))}}):h.a.createElement(y.a,{defaultMessage:"{mode} to {place}",description:"Summarizes an access leg",id:"otpUi.AccessLegBody.summary",values:{mode:s,place:l}}))}function lt(e){var t=e.action;switch(t){case B.circleClockwise:return h.a.createElement(y.a,{defaultMessage:t,description:"Step action circle clockwise",id:"otpUi.AccessLegBody.step.circleClockwise"});case B.circleCounterClockwise:return h.a.createElement(y.a,{defaultMessage:t,description:"Step action circle counter-clockwise",id:"otpUi.AccessLegBody.step.circleCounterClockwise"});case B.continue:return h.a.createElement(y.a,{defaultMessage:t,description:"Step action continue",id:"otpUi.AccessLegBody.step.continue"});case B.hardLeft:return h.a.createElement(y.a,{defaultMessage:t,description:"Step action hard left",id:"otpUi.AccessLegBody.step.hardLeft"});case B.hardRight:return h.a.createElement(y.a,{defaultMessage:t,description:"Step action hard right",id:"otpUi.AccessLegBody.step.hardRight"});case B.left:return h.a.createElement(y.a,{defaultMessage:t,description:"Step action left",id:"otpUi.AccessLegBody.step.left"});case B.right:return h.a.createElement(y.a,{defaultMessage:t,description:"Step action right",id:"otpUi.AccessLegBody.step.right"});case B.slightlyLeft:return h.a.createElement(y.a,{defaultMessage:t,description:"Step action slightly left",id:"otpUi.AccessLegBody.step.slightlyLeft"});case B.slightlyRight:return h.a.createElement(y.a,{defaultMessage:t,description:"Step action slightly right",id:"otpUi.AccessLegBody.step.slightlyRight"});case B.uTurnLeft:return h.a.createElement(y.a,{defaultMessage:t,description:"Step action u-turn left",id:"otpUi.AccessLegBody.step.uTurnLeft"});case B.uTurnRight:return h.a.createElement(y.a,{defaultMessage:t,description:"Step action u-turn right",id:"otpUi.AccessLegBody.step.uTurnRight"});case B.enterStation:return h.a.createElement(y.a,{defaultMessage:t,description:"Step action enter station",id:"otpUi.AccessLegBody.step.enterStation"});case B.exitStation:return h.a.createElement(y.a,{defaultMessage:t,description:"Step action exit station",id:"otpUi.AccessLegBody.step.exitStation"});default:return h.a.createElement(h.a.Fragment,null)}}function ct(e){var t=e.heading;switch(t){case F.east:return h.a.createElement(y.a,{defaultMessage:t,description:"Compass direction east",id:"otpUi.AccessLegBody.stepHeading.east"});case F.north:return h.a.createElement(y.a,{defaultMessage:t,description:"Compass direction north",id:"otpUi.AccessLegBody.stepHeading.north"});case F.northeast:return h.a.createElement(y.a,{defaultMessage:t,description:"Compass direction northeast",id:"otpUi.AccessLegBody.stepHeading.northeast"});case F.northwest:return h.a.createElement(y.a,{defaultMessage:t,description:"Compass direction northwest",id:"otpUi.AccessLegBody.stepHeading.northwest"});case F.south:return h.a.createElement(y.a,{defaultMessage:t,description:"Compass direction south",id:"otpUi.AccessLegBody.stepHeading.south"});case F.southeast:return h.a.createElement(y.a,{defaultMessage:t,description:"Compass direction southeast",id:"otpUi.AccessLegBody.stepHeading.southeast"});case F.southwest:return h.a.createElement(y.a,{defaultMessage:t,description:"Compass direction southwest",id:"otpUi.AccessLegBody.stepHeading.southwest"});case F.west:return h.a.createElement(y.a,{defaultMessage:t,description:"Compass direction west",id:"otpUi.AccessLegBody.stepHeading.west"});default:throw new Error("Invalid heading: ".concat(t))}}function ut(e){var t=e.rawStreetName;switch(t){case"road":return h.a.createElement(y.a,{defaultMessage:N["otpUi.AccessLegBody.unnamedRoad"],description:"Text for an unnamed road",id:"otpUi.AccessLegBody.unnamedRoad"});case"path":return h.a.createElement(y.a,{defaultMessage:N["otpUi.AccessLegBody.unnamedPath"],description:"Text for an unnamed path",id:"otpUi.AccessLegBody.unnamedPath"});default:return h.a.createElement(h.a.Fragment,null,t)}}function dt(e){var t,n=e.className,r=e.step,i=e.style,o=r.absoluteDirection,a=r.relativeDirection,s=r.streetName,l=Object(x.a)(),c=h.a.createElement(Fe,null,h.a.createElement(ut,{rawStreetName:s})),u=a;switch(a){case"ELEVATOR":t=h.a.createElement(y.a,{defaultMessage:N["otpUi.AccessLegBody.stepElevator"],description:"Text for taking an elevator",id:"otpUi.AccessLegBody.stepElevator",values:{street:c}});break;case"DEPART":var d=o;t=h.a.createElement(y.a,{defaultMessage:N["otpUi.AccessLegBody.stepDepart"],description:"Describes the initial action to take for an itinerary",id:"otpUi.AccessLegBody.stepDepart",values:{heading:h.a.createElement(ct,{heading:d}),street:c}});break;case"ENTER_STATION":case"EXIT_STATION":t=h.a.createElement(y.a,{defaultMessage:N["otpUi.AccessLegBody.stepStation"],description:"Describes an action to progress through an itinerary",id:"otpUi.AccessLegBody.stepStation",values:{step:h.a.createElement(lt,{action:u}),street:c}});break;case"FOLLOW_SIGNS":t=h.a.createElement(y.a,{defaultMessage:N["otpUi.AccessLegBody.stepFollowSigns"],description:"Describes an action to progress through an itinerary",id:"otpUi.AccessLegBody.stepFollowSigns",values:{street:c}});break;default:t=h.a.createElement(y.a,{defaultMessage:N["otpUi.AccessLegBody.stepGeneric"],description:"Describes an action to progress through an itinerary",id:"otpUi.AccessLegBody.stepGeneric",values:{step:h.a.createElement(lt,{action:u}),street:c}})}return h.a.createElement("span",{className:n,style:i},t,(null==r?void 0:r.distance)>0&&h.a.createElement(Ue,null,Object(w.humanizeDistanceString)(r.distance,!1,l)))}function ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mt(e){var t=e.seconds,n=e.showApproximatePrefix;return h.a.createElement(y.a,{defaultMessage:N["otpUi.ItineraryBody.common.durationShort"],description:"Duration in abbreviated hours (if over one hour) and minutes",id:"otpUi.ItineraryBody.common.durationShort",values:pt(pt({},E.default.time.toHoursMinutesSeconds(t)),{},{approximatePrefix:n})})}!function(e){e.circleClockwise="CIRCLE_CLOCKWISE",e.circleCounterClockwise="CIRCLE_COUNTERCLOCKWISE",e.continue="CONTINUE",e.enterStation="ENTER_STATION",e.exitStation="EXIT_STATION",e.followSigns="FOLLOW_SIGNS",e.hardLeft="HARD_LEFT",e.hardRight="HARD_RIGHT",e.left="LEFT",e.right="RIGHT",e.slightlyLeft="SLIGHTLY_LEFT",e.slightlyRight="SLIGHTLY_RIGHT",e.uTurnLeft="UTURN_LEFT",e.uTurnRight="UTURN_RIGHT"}(B||(B={})),function(e){e.east="EAST",e.north="NORTH",e.northeast="NORTHEAST",e.northwest="NORTHWEST",e.south="SOUTH",e.southeast="SOUTHEAST",e.southwest="SOUTHWEST",e.west="WEST"}(F||(F={}));var ht=n(71);n(259);var gt=n(6);function yt(e){var t=e.isDestination,n=e.leg,r=t?n.endTime:n.startTime;return r&&h.a.createElement(gt.FormattedTime,{value:r})}var vt=n(74),bt=n.n(vt),wt=n(23),xt=n.n(wt),Et=n(49),_t=n.n(Et),At=n(353),Ot=A.default.a.withConfig({displayName:"mapillary-button__Container",componentId:"sc-l7gdsc-0"})(['&:hover{cursor:pointer;text-decoration:none;}&:active{color:#111;}&::before{content:"|";cursor:auto;margin:0 0.25em;}']),St=Object(A.default)(At.StreetView).withConfig({displayName:"mapillary-button__Icon",componentId:"sc-l7gdsc-1"})(["height:16px;padding-left:5px;"]),Tt=function(e){var t=e.clickCallback,n=e.coords,r=e.mapillaryKey,i=Object(m.useState)(null),o=xt()(i,2),a=o[0],s=o[1],l=Object(x.a)();Object(m.useEffect)((function(){!a&&r&&function(){var e=bt()(_t.a.mark((function e(){var t,i,o,a;return _t.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(l=n,c=void 0,u=void 0,d=void 0,c=l.lat,u=l.lon,d=75e-6,[u-d,c-d,u+d,c+d]).join(","),e.next=3,fetch("https://graph.mapillary.com/images?fields=id&limit=1&access_token=".concat(r,"&bbox=").concat(i));case 3:return o=e.sent,e.next=6,o.json();case 6:(null==(a=e.sent)||null===(t=a.data)||void 0===t?void 0:t.length)>0&&s(a.data[0].id);case 8:case"end":return e.stop()}var l,c,u,d}),e)})));return function(){return e.apply(this,arguments)}}()()}),[n]);if(!a)return null;var c=l.formatMessage({defaultMessage:N["otpUi.AccessLegBody.mapillaryTooltip"],description:"Tooltip text describing the street view icon.",id:"otpUi.AccessLegBody.mapillaryTooltip"});return h.a.createElement(Ot,{"aria-label":c,onClick:function(){t?t(a):window.open("https://www.mapillary.com/embed?image_key=".concat(a),"_blank","location=no,height=600,width=600,scrollbars=no,status=no")},role:"link",title:c},h.a.createElement(St,{style:{paddingBottom:1}}))};function It(e){var t=e.steps,n=e.mapillaryCallback,r=e.mapillaryKey;return h.a.createElement(Me,null,t.map((function(e,t){var i=e.lat,o=e.lon,a=e.relativeDirection;return h.a.createElement(Be,{key:t},h.a.createElement(Pe,null,h.a.createElement(_.DirectionIcon,{relativeDirection:a})),h.a.createElement(Ne,null,h.a.createElement(dt,{step:e}),h.a.createElement(Tt,{clickCallback:n,coords:{lat:i,lon:o},mapillaryKey:r})))})))}function kt(e){var t=e.config,n=e.leg,r=e.LegIcon,i=e.onSummaryClick,o=e.showLegIcon;return h.a.createElement(ae,null,h.a.createElement(le,null,h.a.createElement(pe,null,o&&h.a.createElement(fe,null,h.a.createElement(r,{leg:n}))),h.a.createElement(ce,null," - "),h.a.createElement(st,{config:t,leg:n}),h.a.createElement(se,{onClick:i},h.a.createElement(ce,null,h.a.createElement(y.a,{defaultMessage:N["otpUi.TransitLegBody.zoomToLeg"],description:"Identifies behavior of button",id:"otpUi.TransitLegBody.zoomToLeg"})))))}var Ct=n(153),Mt=n(392);function Nt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u()(this,n)}}var jt=3.28084;var Lt=function(e){l()(n,e);var t=Nt(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).onResize=function(e){e>0&&r.setState({width:e})},r.isActive=function(){var e=r.props,t=e.diagramVisible,n=e.leg;return t&&t.startTime===n.startTime},r.onExpandClick=function(){var e=r.props,t=e.leg,n=e.setLegDiagram;r.isActive()?n(null):n(t)},r.formatElevation=function(e){return"".concat(Math.round(e),"'")},r.state={width:null},r}return a()(n,[{key:"render",value:function(){var e=window.navigator.userAgent.match(/StorybookTestRunner/),t=this.props,n=t.intl,r=t.leg,i=t.showElevationProfile,o=this.state.width;if(!i)return null;var a=E.default.itinerary.getElevationProfile(r.steps);return r.distance<500||"CAR"===r.mode?null:h.a.createElement(ye,{active:this.isActive()},h.a.createElement(Se,{onClick:this.onExpandClick,role:"button",tabIndex:0,title:n.formatMessage({defaultMessage:N["otpUi.AccessLegBody.LegDiagramPreview.toggleElevationChart"],description:"Tooltip text describing the toggling of the elevation chart.",id:"otpUi.AccessLegBody.LegDiagramPreview.toggleElevationChart"})},h.a.createElement(Ce,null,h.a.createElement(y.a,{defaultMessage:N["otpUi.AccessLegBody.LegDiagramPreview.elevationChart"],description:"Title text for elevation chart",id:"otpUi.AccessLegBody.LegDiagramPreview.elevationChart"}),h.a.createElement(Ie,null,"",this.formatElevation(a.gain*jt)),h.a.createElement(ke,null,"",this.formatElevation(-a.loss*jt))),a.points.length>0?function(e,t){var n=e.points,r=e.traversed,i=e.minElev,o=e.maxElev;i-=25,o+=25;var a=n.map((function(e){var n=e[0]/r*t,a=30-30*(e[1]-i)/(o-i);return"".concat(n,",").concat(a)})).join(" ");return h.a.createElement("svg",{height:30,width:t},h.a.createElement("polyline",{points:a,fill:"none",stroke:"black",strokeWidth:1.3}))}(a,e?"245":o):h.a.createElement(y.a,{defaultMessage:N["otpUi.AccessLegBody.LegDiagramPreview.noElevationData"],description:"Text shown if no elevation data is available.",id:"otpUi.AccessLegBody.LegDiagramPreview.noElevationData"}),h.a.createElement(Mt.default,{handleWidth:!0,onResize:this.onResize})))}}]),n}(m.Component),Rt=Object(Ct.c)(Lt);function Dt(e){switch(e.type){case"BIKEPARK":return h.a.createElement(y.a,{defaultMessage:N["otpUi.AccessLegBody.RentedVehicleSubheader.vehicleType.bike"],description:"Bike vehicle type",id:"otpUi.AccessLegBody.RentedVehicleSubheader.vehicleType.bike"});case"BIKESHARE":return h.a.createElement(y.a,{defaultMessage:N["otpUi.AccessLegBody.RentedVehicleSubheader.vehicleType.bikeshare"],description:"Bike vehicle type",id:"otpUi.AccessLegBody.RentedVehicleSubheader.vehicleType.bikeshare"});case"CARSHARE":return h.a.createElement(y.a,{defaultMessage:N["otpUi.AccessLegBody.RentedVehicleSubheader.vehicleType.car"],description:"Bike vehicle type",id:"otpUi.AccessLegBody.RentedVehicleSubheader.vehicleType.car"});case"VEHICLERENTAL":return h.a.createElement(y.a,{defaultMessage:N["otpUi.AccessLegBody.RentedVehicleSubheader.vehicleType.escooter"],description:"Bike vehicle type",id:"otpUi.AccessLegBody.RentedVehicleSubheader.vehicleType.escooter"});default:return h.a.createElement(y.a,{defaultMessage:N["otpUi.AccessLegBody.RentedVehicleSubheader.vehicleType.vehicle"],description:"Bike vehicle type",id:"otpUi.AccessLegBody.RentedVehicleSubheader.vehicleType.vehicle"})}}function Pt(e){var t,n=e.config,r=e.leg,i=n.companies||[],o=r.from,a=r.mode,s=r.rentedBike,l=r.walkingBike,c=o.name,u=o.networks,d=o.vertexType,f="SCOOTER"===a?"VEHICLERENTAL":d;if("WALK"===a||l)return h.a.createElement(Oe,null,h.a.createElement(y.a,{defaultMessage:N["otpUi.AccessLegBody.RentedVehicleSubheader.walkVehicle"],description:"Instructs to walk with a bike or scooter along a place.",id:"otpUi.AccessLegBody.RentedVehicleSubheader.walkVehicle",values:{place:c}}));if(u||s){var p=E.default.itinerary.getCompaniesLabelFromNetworks(u||[],i),m=r.rentedCar&&c?c:"";t=h.a.createElement(y.a,{defaultMessage:N["otpUi.AccessLegBody.RentedVehicleSubheader.pickupRental"],description:"Instructs to pick up a rental vehicle",id:"otpUi.AccessLegBody.RentedVehicleSubheader.pickupRental",values:{company:p,vehicleName:m,vehicleType:h.a.createElement(Dt,{type:f})}})}else t=h.a.createElement(y.a,{defaultMessage:N["otpUi.AccessLegBody.RentedVehicleSubheader.resumeRentalRide"],description:"Instructs to continue riding with a rental vehicle",id:"otpUi.AccessLegBody.RentedVehicleSubheader.resumeRentalRide"});return h.a.createElement(Oe,null,t)}function Bt(e){var t,n=e.config,r=e.followsTransit,i=e.leg,o=e.LegIcon,a=e.LYFT_CLIENT_ID,s=void 0===a?"":a,l=e.onSummaryClick,c=e.showLegIcon,u=e.UBER_CLIENT_ID,d=void 0===u?"":u,f={uber:"https://m.uber.com/".concat(E.default.ui.isMobile()?"ul/":"","?client_id=").concat(d,"&action=setPickup&pickup[latitude]=").concat(i.from.lat,"&pickup[longitude]=").concat(i.from.lon,"&pickup[formatted_address]=").concat(encodeURI(i.from.name),"&dropoff[latitude]=").concat(i.to.lat,"&dropoff[longitude]=").concat(i.to.lon,"&dropoff[formatted_address]=").concat(encodeURI(i.to.name)),lyft:"https://lyft.com/ride?id=lyft&partner=".concat(s,"&pickup[latitude]=").concat(i.from.lat,"&pickup[longitude]=").concat(i.from.lon,"&destination[latitude]=").concat(i.to.lat,"&destination[longitude]=").concat(i.to.lon)},m=i.rideHailingEstimate;return m?h.a.createElement("div",null,h.a.createElement(Oe,null,h.a.createElement(y.a,{defaultMessage:N["otpUi.AccessLegBody.TncLeg.waitForPickup"],description:"Action text for waiting for a ride-hail vehicle.",id:"otpUi.AccessLegBody.TncLeg.waitForPickup",values:{company:null===(t=Object(p.getCompanyForNetwork)(m.provider.id,n.companies))||void 0===t?void 0:t.label,minutes:r?0:parseInt(U(i.rideHailingEstimate.arrival),10)}})),h.a.createElement(oe,null,h.a.createElement(kt,{config:n,leg:i,LegIcon:o,onSummaryClick:l,showLegIcon:c}),h.a.createElement(K,null,h.a.createElement(q,{href:f[m.provider.id],target:E.default.ui.isMobile()?"_self":"_blank"},h.a.createElement(y.a,{defaultMessage:N["otpUi.AccessLegBody.TncLeg.bookRide"],description:"Action text to book a ride with a ride-hail company.",id:"otpUi.AccessLegBody.TncLeg.bookRide"})),r&&h.a.createElement(X,null),r&&"number"==typeof i.startTime&&h.a.createElement(Q,null,h.a.createElement(Z,null,h.a.createElement(J,null,h.a.createElement(y.a,{defaultMessage:N["otpUi.AccessLegBody.TncLeg.bookRideLater"],description:"Hint text to book a ride at a later time.",id:"otpUi.AccessLegBody.TncLeg.bookRideLater",values:{timeMillis:i.startTime-parseInt(U(m.arrival),10)}}))))),h.a.createElement($,null,h.a.createElement(y.a,{defaultMessage:N["otpUi.AccessLegBody.TncLeg.estimatedTravelTime"],description:"Describes the estimated travel time.",id:"otpUi.AccessLegBody.TncLeg.estimatedTravelTime",values:{duration:h.a.createElement(mt,{seconds:i.duration})}})),m.minPrice&&h.a.createElement(ee,null,h.a.createElement(y.a,{defaultMessage:N["otpUi.AccessLegBody.TncLeg.estimatedCost"],description:"Shows the minimum and maximum fares for a TNC ride.",id:"otpUi.AccessLegBody.TncLeg.estimatedCost",values:{maxFare:h.a.createElement(gt.FormattedNumber,{currency:m.maxPrice.currency.code,currencyDisplay:"narrowSymbol",style:"currency",value:m.maxPrice.amount}),minFare:h.a.createElement(gt.FormattedNumber,{currency:m.minPrice.currency.code,currencyDisplay:"narrowSymbol",style:"currency",value:m.minPrice.amount})}})))):null}function Ft(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u()(this,n)}}var Ut=function(e){l()(n,e);var t=Ft(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).onStepsHeaderClick=function(){var e=r.state.expanded;r.setState({expanded:!e})},r.onSummaryClick=function(){var e=r.props,t=e.leg,n=e.legIndex;(0,e.setActiveLeg)(n,t)},r.state={expanded:!1},r}return a()(n,[{key:"render",value:function(){var e,t=this.props,n=t.config,r=t.diagramVisible,i=t.followsTransit,o=t.leg,a=t.LegIcon,s=t.mapillaryCallback,l=t.mapillaryKey,c=t.setLegDiagram,u=t.showApproximateTravelTime,d=t.showElevationProfile,f=t.showLegIcon,m=t.TransitLegSubheader,v=this.state.expanded,b=(null==n||null===(e=n.itinerary)||void 0===e?void 0:e.hideDrivingDirections)&&"CAR"===o.mode;if("CAR"===o.mode&&o.rideHailingEstimate)return h.a.createElement(Bt,{config:n,followsTransit:i,leg:o,LegIcon:a,onSummaryClick:this.onSummaryClick,showLegIcon:f});var w=h.a.createElement(Tt,{clickCallback:s,coords:o.from,mapillaryKey:l});return h.a.createElement(h.a.Fragment,null,o&&(o.rentedVehicle||o.rentedBike||o.rentedCar)&&h.a.createElement(Pt,{config:n,leg:o}),o.from.stopId&&m&&h.a.createElement(m,{leg:o}),h.a.createElement(oe,null,h.a.createElement(kt,{config:n,leg:o,LegIcon:a,onSummaryClick:this.onSummaryClick,showLegIcon:f}),0!==o.distance&&h.a.createElement(he,null,b?h.a.createElement(je,null,h.a.createElement(De,null,h.a.createElement(mt,{seconds:o.duration})),w):h.a.createElement(h.a.Fragment,null,h.a.createElement(je,null,h.a.createElement(Re,{"aria-expanded":v,onClick:this.onStepsHeaderClick},h.a.createElement(mt,{seconds:o.duration,showApproximatePrefix:u&&!Object(p.isTransit)(o.mode)}),o.steps&&o.steps.length>0&&h.a.createElement(te,{expanded:v}),h.a.createElement(ce,null,h.a.createElement(y.a,{defaultMessage:N["otpUi.TransitLegBody.expandDetails"],description:"Screen reader text added to expand steps",id:"otpUi.TransitLegBody.expandDetails"}))),w),h.a.createElement(g.default,{duration:500,height:v?"auto":0,style:{gridColumn:"1 / span 2"}},h.a.createElement(It,{mapillaryCallback:s,mapillaryKey:l,steps:o.steps}))),h.a.createElement(Rt,{diagramVisible:r,leg:o,setLegDiagram:c,showElevationProfile:d}))))}}]),n}(m.Component),zt=n(129),Vt=A.default.div.withConfig({displayName:"accessibility-rating__Wrapper",componentId:"sc-7g85t2-0"})(["align-items:center;border:",";background-color:",";border-radius:",";display:flex;justify-content:space-between;margin-top:0.25em;max-width:75px;height:",";padding:0.25em 0.6em 0.25em 0.4em;word-wrap:anywhere;"],(function(e){return e.border?"1px solid #333":"none"}),(function(e){return e.color}),(function(e){return e.large?"4px":"20px"}),(function(e){return e.large?"40px":"30px"})),Gt=A.default.span.withConfig({displayName:"accessibility-rating__StatusWrapper",componentId:"sc-7g85t2-1"})(["flex:1;span{display:block;}"]),Ht=A.default.span.withConfig({displayName:"accessibility-rating__TextWrapper",componentId:"sc-7g85t2-2"})(["padding-top:3px;font-weight:600;"]),Wt=function(e){var t=e.gradationMap,n=e.grayscale,r=void 0!==n&&n,i=e.isLeg,o=void 0!==i&&i,a=e.large,s=void 0!==a&&a,l=e.score,c=Object(x.a)(),u=t&&Object.keys(t).length?t:{0:{color:"#ffe4e5",icon:"",text:c.formatMessage({id:"otpUi.ItineraryBody.tripAccessibility.inaccessible"})},.5:{color:"#dbe9ff",icon:"",text:c.formatMessage({id:"otpUi.ItineraryBody.tripAccessibility.unclear"})},.9:{color:"#bfffb5",icon:"",text:c.formatMessage({id:"otpUi.ItineraryBody.tripAccessibility.likelyAccessible"})}},d=u[parseFloat(Object.keys(u).sort().reverse().find((function(e){return parseFloat(e)<=l})))]||u[0],f=c.formatMessage({id:"otpUi.ItineraryBody.tripAccessibility.".concat(o?"legAccessibility":"itineraryAccessibility")})+d.text;return h.a.createElement(Vt,{border:r,color:r?"transparent":d.color,large:s,title:f},h.a.createElement(ce,null,f),h.a.createElement(zt.Wheelchair,{style:{flex:"2",height:"100%",minWidth:"20px"}}),h.a.createElement(Gt,{"aria-hidden":!0},d.icon||h.a.createElement(Ht,null,d.text)))},Yt=n(40),Qt=n.n(Yt),Zt=n(99),Xt=n(43),Jt=n(166),qt=E.default.time,Kt=qt.getUserTimezone,$t=qt.getCurrentDate;function en(e){switch(e.dayDiff){case-1:return h.a.createElement(y.a,{defaultMessage:N["otpUi.TransitLegBody.AlertsBody.yesterday"],description:"Yesterday",id:"otpUi.TransitLegBody.AlertsBody.yesterday"});case 0:return h.a.createElement(y.a,{defaultMessage:N["otpUi.TransitLegBody.AlertsBody.today"],description:"Today",id:"otpUi.TransitLegBody.AlertsBody.today"});case 1:return h.a.createElement(y.a,{defaultMessage:N["otpUi.TransitLegBody.AlertsBody.tomorrow"],description:"Tomorrow",id:"otpUi.TransitLegBody.AlertsBody.tomorrow"});default:return null}}function tn(e){var t=e.agencyName,n=e.alerts,r=e.AlertIcon,i=void 0===r?rt:r,o=e.showAlertEffectiveDateTimeText,a=void 0===o||o,s=e.timeZone,l=void 0===s?Kt():s;return"object"!==Qt()(n)?null:h.a.createElement(Je,{className:"alert-body"},n.sort((function(e,t){return t.effectiveStartDate-e.effectiveStartDate})).map((function(e,n){var r=e.alertDescriptionText,o=e.alertHeaderText,s=e.alertUrl,c=e.effectiveStartDate,u=Object(Xt.toDate)($t(l)),d=Object(Xt.utcToZonedTime)(new Date(c),l),f=Object(Zt.a)(d,u);return h.a.createElement(He,{key:n},h.a.createElement(Xe,null,h.a.createElement(i,null)),o&&h.a.createElement(Ze,null,o),h.a.createElement(Ye,null,r),a&&h.a.createElement(Qe,null,Math.abs(f)<=1?h.a.createElement(y.a,{defaultMessage:N["otpUi.TransitLegBody.AlertsBody.effectiveTimeAndDate"],description:"Text with the time and date an alert takes effect",id:"otpUi.TransitLegBody.AlertsBody.effectiveTimeAndDate",values:{dateTime:1e3*c,day:h.a.createElement(en,{dayDiff:f})}}):h.a.createElement(y.a,{defaultMessage:N["otpUi.TransitLegBody.AlertsBody.effectiveDate"],description:"Text with the date an alert takes effect",id:"otpUi.TransitLegBody.AlertsBody.effectiveDate",values:{dateTime:1e3*c}}),(null==s?void 0:s.trim())&&h.a.createElement(We,{href:s,target:"_blank"},h.a.createElement(Jt.ExternalLinkAlt,{height:10}),t?h.a.createElement(y.a,{defaultMessage:N["otpUi.TransitLegBody.AlertsBody.alertLinkText"],description:"Describes how link directs to agency website",id:"otpUi.TransitLegBody.AlertsBody.alertLinkText",values:{agency:t}}):h.a.createElement(y.a,{defaultMessage:N["otpUi.TransitLegBody.AlertsBody.noAgencyAlertLinkText"],description:"Describes how link directs to agency website, but does not name agency",id:"otpUi.TransitLegBody.AlertsBody.noAgencyAlertLinkText"}),h.a.createElement(ce,null," ",h.a.createElement(y.a,{id:"otpUi.TransitLegBody.AlertsBody.linkOpensNewWindow"})))))})))}function nn(e){var t=e.stops;return h.a.createElement(re,null,t.map((function(e,t){return h.a.createElement(Ge,{key:t},h.a.createElement(ze,null,""),h.a.createElement(Ve,null,e.name))})))}function rn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u()(this,n)}}var on=function(e){l()(n,e);var t=rn(n);function n(){var e;i()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).onClick=function(){var t=e.props,n=t.fromIndex,r=t.fromStopId,i=t.setViewedTrip,o=t.toIndex,a=t.toStopId,s=t.tripId;i(n||o?{fromIndex:n,toIndex:o,tripId:s}:{fromStopId:r,toStopId:a,tripId:s})},e}return a()(n,[{key:"render",value:function(){return h.a.createElement(W,{onClick:this.onClick,role:"link"},h.a.createElement(y.a,{defaultMessage:N["otpUi.TransitLegBody.tripViewer"],description:"Link text to the trip viewer",id:"otpUi.TransitLegBody.tripViewer"}))}}]),n}(m.Component);function an(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u()(this,n)}}var sn=function(e){l()(n,e);var t=an(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).onToggleStopsClick=function(){var e=r.state.stopsExpanded;r.setState({stopsExpanded:!e})},r.onToggleAlertsClick=function(){var e=r.state.alertsExpanded;r.setState({alertsExpanded:!e})},r.onSummaryClick=function(){var e=r.props,t=e.leg,n=e.legIndex;(0,e.setActiveLeg)(n,t)},r.state={alertsExpanded:!1,stopsExpanded:!1},r}return a()(n,[{key:"render",value:function(){var e,t,n,r,i,o,a,s,l,c,u,d,f=this.props,p=f.AlertBodyIcon,m=f.AlertToggleIcon,v=void 0===m?nt:m,b=f.alwaysCollapseAlerts,w=f.defaultFareSelector,x=f.intl,_=f.leg,A=f.legDestination,O=f.LegIcon,S=f.RouteDescription,T=f.RouteDescriptionFooter,I=f.setViewedTrip,k=f.showAgencyInfo,C=f.showAlertEffectiveDateTimeText,M=f.showViewTripButton,j=f.timeZone,L=f.TransitLegSubheader,R=f.TransitLegSummary,D=f.transitOperator,P=_.agencyBrandingUrl,B=_.agencyName,F=_.agencyUrl,U=_.alerts,z=this.state,V=z.alertsExpanded,G=z.stopsExpanded,H=E.default.itinerary.isReservationRequired(_),W=(null==D?void 0:D.name)||B,Q=D&&D.logo?D.logo:P,Z=!((null===(e=_.alerts)||void 0===e?void 0:e.length)>2||b)||!_.alerts,X=V||Z,J=w&&E.default.itinerary.getLegCost(_,w.mediumId,w.riderCategoryId);return h.a.createElement(h.a.Fragment,null,L&&h.a.createElement(L,{leg:_}),h.a.createElement(oe,null,h.a.createElement(ae,null,h.a.createElement(le,null,h.a.createElement("span",null,h.a.createElement(ce,null," - ",h.a.createElement(y.a,{defaultMessage:N["otpUi.TransitLegBody.ride"],description:"Prompt to ride a transit vehicle.",id:"otpUi.TransitLegBody.ride"})),h.a.createElement(S,{leg:_,LegIcon:O,transitOperator:D}),h.a.createElement(ce,null," - ",h.a.createElement(y.a,{defaultMessage:N["otpUi.TransitLegBody.disembarkAt"],description:"Prompt to exit a transit vehicle.",id:"otpUi.TransitLegBody.disembarkAt",values:{legDestination:A}}))),h.a.createElement(se,{className:"transit-leg-button",onClick:this.onSummaryClick},h.a.createElement(ce,null,h.a.createElement(y.a,{defaultMessage:N["otpUi.TransitLegBody.zoomToLeg"],description:"Identifies behavior of button",id:"otpUi.TransitLegBody.zoomToLeg"}))))),T&&h.a.createElement(T,{leg:_}),h.a.createElement("div",{className:"transit-leg-details-wrapper","aria-label":x.formatMessage({defaultMessage:N["otpUi.TransitLegBody.legDetails"],description:"Identifies this section as trip leg details",id:"otpUi.TransitLegBody.legDetails"}),role:"group"},k&&h.a.createElement(it,{className:"agency-info"},h.a.createElement(y.a,{defaultMessage:N["otpUi.TransitLegBody.operatedBy"],description:"Tells which agency operates the service",id:"otpUi.TransitLegBody.operatedBy",values:{agencyLink:h.a.createElement("a",{"aria-label":x.formatMessage({id:"otpUi.TransitLegBody.agencyExternalLink"},{agencyName:B}),href:F||"#",rel:"noopener noreferrer",target:"_blank"},W,Q&&h.a.createElement("img",{alt:"",src:Q,height:25}))}})),H&&_.pickupBookingInfo&&h.a.createElement(Y,null,h.a.createElement(y.a,{defaultMessage:N["otpUi.ItineraryBody.flexPickupMessage"],description:"Instructions for booking and boarding the flex (on-demand) transit service.",id:"otpUi.ItineraryBody.flexPickupMessage",values:(o=_.pickupBookingInfo,c=!(null==o||null===(a=o.contactInfo)||void 0===a||!a.phoneNumber),u=null==o||null===(s=o.latestBookingTime)||void 0===s?void 0:s.daysPrior,d=null==o||null===(l=o.contactInfo)||void 0===l?void 0:l.phoneNumber,{action:c?h.a.createElement(y.a,{defaultMessage:N["otpUi.ItineraryBody.flexCallNumber"],description:"For calling a phone number.",id:"otpUi.ItineraryBody.flexCallNumber",values:{phoneNumber:d}}):h.a.createElement(y.a,{defaultMessage:N["otpUi.ItineraryBody.flexCallAhead"],description:"For calling ahead.",id:"otpUi.ItineraryBody.flexCallAhead"}),advanceNotice:u>0?h.a.createElement(y.a,{defaultMessage:N["otpUi.ItineraryBody.flexAdvanceNotice"],description:"Advance notice for flex service.",id:"otpUi.ItineraryBody.flexAdvanceNotice",values:{leadDays:u}}):""})})),(null==U?void 0:U.length)>0&&h.a.createElement(qe,{className:"alert-toggle",isButton:!Z,as:Z&&"div",onClick:this.onToggleAlertsClick},h.a.createElement(v,null)," ",h.a.createElement(y.a,{defaultMessage:N["otpUi.TransitLegBody.alertsHeader"],description:"Number of alerts header",id:"otpUi.TransitLegBody.alertsHeader",values:{alertCount:U.length}}),!Z&&h.a.createElement(h.a.Fragment,null,h.a.createElement(te,{expanded:V}),h.a.createElement(ce,null,h.a.createElement(y.a,{defaultMessage:N["otpUi.TransitLegBody.expandDetails"],description:"Screen reader text added to expand steps",id:"otpUi.TransitLegBody.expandDetails"})))),h.a.createElement(g.default,{duration:500,height:X?"auto":0},h.a.createElement(tn,{agencyName:B,alerts:_.alerts,AlertIcon:p,showAlertEffectiveDateTimeText:C,timeZone:j})),_.intermediateStops&&_.intermediateStops.length>0&&h.a.createElement(Ke,{className:"transit-leg-details"},h.a.createElement($e,null,h.a.createElement(R,{leg:_,onClick:this.onToggleStopsClick,stopsExpanded:G}),M&&h.a.createElement(on,{fromIndex:null===(t=_.from)||void 0===t?void 0:t.stopIndex,fromStopId:null==_||null===(n=_.from)||void 0===n?void 0:n.stopId,setViewedTrip:I,toIndex:null===(r=_.to)||void 0===r?void 0:r.stopIndex,toStopId:null==_||null===(i=_.to)||void 0===i?void 0:i.stopId,tripId:_.tripId})),h.a.createElement(g.default,{duration:500,height:G?"auto":0},h.a.createElement(et,null,h.a.createElement(nn,{stops:_.intermediateStops}),(null==J?void 0:J.price)&&h.a.createElement(tt,null,h.a.createElement(y.a,{defaultMessage:N["otpUi.TransitLegBody.fare"],description:"Describes the fare for a leg",id:"otpUi.TransitLegBody.fare",values:{fare:h.a.createElement(gt.FormattedNumber,{currency:J.price.currency.code,currencyDisplay:"narrowSymbol",style:"currency",value:J.price.amount})}})))),_.averageWait&&h.a.createElement("span",null,h.a.createElement(y.a,{defaultMessage:N["otpUi.TransitLegBody.typicalWait"],description:"Describes the typical wait for a transit leg",id:"otpUi.TransitLegBody.typicalWait",values:{waitTime:h.a.createElement(mt,{seconds:_.averageWait})}}))))))}}]),n}(m.Component),ln=Object(Ct.c)(sn);function cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function un(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cn(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dn(e){var t=e.accessibilityScoreGradationMap,n=e.AlertBodyIcon,r=e.AlertToggleIcon,i=e.alwaysCollapseAlerts,o=e.config,a=e.defaultFareSelector,s=e.diagramVisible,l=e.followsTransit,c=e.frameLeg,u=e.isDestination,d=e.lastLeg,f=e.leg,p=e.LegIcon,m=e.legIndex,g=e.LineColumnContent,v=e.mapillaryCallback,b=e.mapillaryKey,w=e.PlaceName,_=e.RouteDescription,A=e.RouteDescriptionFooter,O=e.setActiveLeg,S=e.setLegDiagram,T=e.setViewedTrip,I=e.showAgencyInfo,k=e.showAlertEffectiveDateTimeText,C=e.showApproximateAccessLegTravelTimes,M=e.showElevationProfile,j=e.showLegIcon,L=e.showMapButtonColumn,R=e.showViewTripButton,D=e.TimeColumnContent,P=void 0===D?yt:D,B=e.toRouteAbbreviation,F=e.TransitLegSubheader,U=e.TransitLegSummary,z=!(u||!f.interlineWithPreviousLeg),V=un({},u?f.to:f.from);V.vertexType="SCOOTER"!==f.mode||u?V.vertexType:"VEHICLERENTAL";var G=Object(x.a)().formatMessage({defaultMessage:N["otpUi.ItineraryBody.viewOnMap"],description:"Text describing the view-on-map button",id:"otpUi.ItineraryBody.viewOnMap"}),H=function(e){return h.a.createElement(w,{config:o,interline:z,place:e})};return h.a.createElement(ge,{className:"place-row-wrapper ".concat(f.transitLeg?"transit":""," ").concat(f.rentedBike?"rented-bike":""),key:m||"destination-place"},h.a.createElement(me,null,h.a.createElement(g,{interline:z,isDestination:u,lastLeg:d,leg:f,LegIcon:p,legIndex:m,toRouteAbbreviation:B})),h.a.createElement(_e,null,z&&h.a.createElement(ne,null,""),h.a.createElement(Ae,{"aria-hidden":!0},h.a.createElement(w,{config:o,interline:z,place:V}))),h.a.createElement(ve,null,h.a.createElement(P,{isDestination:u,leg:f}),!u&&null!==f.accessibilityScore&&f.accessibilityScore>-1&&h.a.createElement(Wt,{gradationMap:t,isLeg:!0,score:f.accessibilityScore})),h.a.createElement(ce,null,u?h.a.createElement(y.a,{id:"otpUi.TransitLegBody.arriveAt",defaultMessage:N["otpUi.TransitLegBody.arriveAt"],description:"Identifies end of the trip to screenreaders",values:{place:H(f.to)}}):h.a.createElement(y.a,{description:"Add starting location for access legs",id:"otpUi.TransitLegBody.fromLocation",values:{location:H(f.from)}})),h.a.createElement(Ee,{className:"place-details ".concat(f.transitLeg?"transit":"")},!u&&(f.transitLeg?h.a.createElement(ln,{AlertBodyIcon:n,AlertToggleIcon:r,alwaysCollapseAlerts:i,defaultFareSelector:a,leg:f,legDestination:H(f.to),LegIcon:p,legIndex:m,RouteDescription:_,RouteDescriptionFooter:A,setActiveLeg:O,setViewedTrip:T,showAgencyInfo:I,showAlertEffectiveDateTimeText:k,showViewTripButton:R,timeZone:o.homeTimezone,TransitLegSubheader:F,TransitLegSummary:U,transitOperator:E.default.route.getTransitOperatorFromLeg(f,o.transitOperators)}):h.a.createElement(Ut,{config:o,diagramVisible:s,followsTransit:l,leg:f,LegIcon:p,legIndex:m,mapillaryCallback:v,mapillaryKey:b,setActiveLeg:O,setLegDiagram:S,showApproximateTravelTime:C,showElevationProfile:M,showLegIcon:j,TransitLegSubheader:F}))),L&&h.a.createElement(we,{hideBorder:"true"},h.a.createElement(be,{"aria-label":G,onClick:function(){return c({isDestination:u,leg:f,legIndex:m,place:V})},title:G},h.a.createElement(xe,{title:G}))))}function fn(){}function pn(e){return e.toString()}var mn=function(e){var t,n=e.accessibilityScoreGradationMap,r=e.AlertBodyIcon,i=e.AlertToggleIcon,o=e.alwaysCollapseAlerts,a=void 0!==o&&o,s=e.className,l=e.config,c=e.defaultFareSelector,u=e.diagramVisible,d=e.frameLeg,f=void 0===d?fn:d,p=e.itinerary,m=e.LegIcon,g=e.LineColumnContent,y=e.mapillaryCallback,v=e.mapillaryKey,b=e.PlaceName,w=e.RouteDescription,x=e.RouteDescriptionFooter,E=e.routingType,_=void 0===E?"ITINERARY":E,A=e.setActiveLeg,O=e.setLegDiagram,S=e.setViewedTrip,T=e.showAgencyInfo,I=e.showAlertEffectiveDateTimeText,k=e.showApproximateAccessLegTravelTimes,C=e.showElevationProfile,M=e.showLegIcon,N=e.showMapButtonColumn,j=void 0===N||N,L=e.showViewTripButton,R=e.TimeColumnContent,D=e.toRouteAbbreviation,P=void 0===D?pn:D,B=e.TransitLegSubheader,F=e.TransitLegSummary,U=[],z=!1;return p.legs.forEach((function(e,o){function s(s){U.push(h.a.createElement(dn,{accessibilityScoreGradationMap:n,AlertToggleIcon:i,AlertBodyIcon:r,alwaysCollapseAlerts:a,key:o+(s?1:0),config:l,defaultFareSelector:c,diagramVisible:u,followsTransit:z,frameLeg:f,isDestination:s,lastLeg:t,leg:e,LegIcon:m,legIndex:o,LineColumnContent:g,mapillaryCallback:y,mapillaryKey:v,PlaceName:b,RouteDescription:w,RouteDescriptionFooter:x,routingType:_,setActiveLeg:A,setLegDiagram:O,setViewedTrip:S,showApproximateAccessLegTravelTimes:k,showAgencyInfo:T,showAlertEffectiveDateTimeText:I,showElevationProfile:C,showLegIcon:M,showMapButtonColumn:j,showViewTripButton:L,TimeColumnContent:R,toRouteAbbreviation:P,TransitLegSubheader:B,TransitLegSummary:F}))}s(!1),o===p.legs.length-1&&s(!0),e.transitLeg&&(z=!0),t=e})),h.a.createElement(ie,{className:s},U)},hn=(Object(A.default)(mn).withConfig({displayName:"itinerary-body__StyledItineraryBody",componentId:"sc-1aqc6e3-0"})(["font-size:16px;*:not(.fa){box-sizing:border-box;font-family:Hind,sans-serif;}","{margin-left:-18px;margin-right:3px;}","{background-color:rgb(15,106,172);border-color:white;border-image:initial;border-radius:12px;border-style:solid;border-width:1px;box-shadow:rgb(0,0,0) 0px 0px 0.25em;color:white;display:inline-block;font-size:14px;font-weight:500;height:24px;line-height:1.5;margin-right:8px;min-width:24px;padding:2px 3px;text-align:center;}","{grid-area:line;display:table-cell;max-width:20px;width:20px;padding:0;position:relative;}","{grid-area:title;color:#000;font-size:18px;font-weight:500;line-height:20px;}","{height:inherit;white-space:normal;}","{width:100%;}","{margin-left:-23px;}","{grid-area:time;color:#676767;display:table-cell;font-size:14px;padding-right:4px;padding-top:2px;text-align:right;vertical-align:top;width:60px;}"],ne,de,me,_e,Ae,ge,ze,ve),n(202)),gn=Object(A.css)(["background:radial-gradient(ellipse at center,#87cefa 40%,transparent 10%);background-position:center -5px;background-repeat:repeat-y;background-size:12px 12px;left:6px;right:6px;"]),yn=Object(A.css)(["background:repeating-linear-gradient( 0deg,red,red 8px,white 8px,white 12.5px );left:7.5px;right:7.5px;"]),vn=Object(A.css)(["background:repeating-linear-gradient( 0deg,grey,grey 8px,white 8px,white 12.5px );left:7.5px;right:7.5px;"]),bn=Object(A.css)(["background:repeating-linear-gradient( 0deg,#f5a729,#f5a729 8px,white 8px,white 12.5px );left:7.5px;right:7.5px;"]),wn=Object(A.css)(["background-color:gray;left:5px;right:5px;"]);A.default.span.withConfig({displayName:"line-column-content__IconStacker",componentId:"sc-1wcbb7o-0"})(["position:absolute;width:100%;top:3px;z-index:20;"]);var xn=function(e){var t=e.leg,n=e.routeColor,r=t.mode;return t.transitLeg||E.default.itinerary.isTransit(r)?n?"#".concat(n):"#000088":void 0},En=(A.default.div.withConfig({displayName:"line-column-content__LegLine",componentId:"sc-1wcbb7o-1"})([""," background-color:",";background:",";bottom:-11px;position:absolute;top:11px;z-index:10;"],(function(e){return function(e){switch(e){case"WALK":return gn;case"BICYCLE":case"BICYCLE_RENT":return yn;case"CAR":return vn;case"MICROMOBILITY":case"MICROMOBILITY_RENT":case"SCOOTER":return bn;default:return wn}}(e.leg.mode)}),(function(e){return xn(e)}),(function(e){return E.default.itinerary.isFlex(e.leg)?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return"repeating-linear-gradient( \n  -45deg, \n  ".concat(e,"30, \n  ").concat(e,"30 ").concat(t,"px, \n  ").concat(e," ").concat(t,"px, \n  ").concat(e," ").concat(2*t,"px\n  );")}(xn(e)):void 0})),Object(A.default)(hn.Circle).withConfig({displayName:"line-column-content__StackedCircle",componentId:"sc-1wcbb7o-2"})(["left:0;line-height:inherit;position:absolute;text-align:center;width:100%;"]));Object(A.default)(En).withConfig({displayName:"line-column-content__StackedCircleInner",componentId:"sc-1wcbb7o-3"})(["top:3px;"]),Object(A.default)(ht.default).withConfig({displayName:"line-column-content__StyledLocationIcon",componentId:"sc-1wcbb7o-4"})(["left:0;position:absolute;text-align:center;width:100%;"]);function _n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_n(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_n(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function On(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u()(this,n)}}m.Component;var Sn=E.default.itinerary;Sn.getDisplayedStopId,Sn.isFlex},function(e,t){const n=e=>void 0===e,r=e=>Array.isArray(e),i=e=>e&&"number"==typeof e.size&&"string"==typeof e.type&&"function"==typeof e.slice,o=(e,t,a,s)=>((t=t||{}).indices=!n(t.indices)&&t.indices,t.nullsAsUndefineds=!n(t.nullsAsUndefineds)&&t.nullsAsUndefineds,t.booleansAsIntegers=!n(t.booleansAsIntegers)&&t.booleansAsIntegers,t.allowEmptyArrays=!n(t.allowEmptyArrays)&&t.allowEmptyArrays,a=a||new FormData,n(e)||(null===e?t.nullsAsUndefineds||a.append(s,""):(e=>"boolean"==typeof e)(e)?t.booleansAsIntegers?a.append(s,e?1:0):a.append(s,e):r(e)?e.length?e.forEach(((e,n)=>{const r=s+"["+(t.indices?n:"")+"]";o(e,t,a,r)})):t.allowEmptyArrays&&a.append(s+"[]",""):(e=>e instanceof Date)(e)?a.append(s,e.toISOString()):!(e=>e===Object(e))(e)||(e=>i(e)&&"string"==typeof e.name&&("object"==typeof e.lastModifiedDate||"number"==typeof e.lastModified))(e)||i(e)?a.append(s,e):Object.keys(e).forEach((n=>{const i=e[n];if(r(i))for(;n.length>2&&n.lastIndexOf("[]")===n.length-2;)n=n.substring(0,n.length-2);o(i,t,a,s?s+"["+n+"]":n)}))),a);e.exports={serialize:o}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return l}));var r,i=n(17);!function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"}(r||(r={}));var o=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.code=n,i.originalMessage=r,i}return Object(i.b)(t,e),t.prototype.toString=function(){return"[formatjs Error: "+this.code+"] "+this.message},t}(Error),a=function(e){function t(t,n,i,o){return e.call(this,'Invalid values for "'+t+'": "'+n+'". Options are "'+Object.keys(i).join('", "')+'"',r.INVALID_VALUE,o)||this}return Object(i.b)(t,e),t}(o),s=function(e){function t(t,n,i){return e.call(this,'Value for "'+t+'" must be of type '+n,r.INVALID_VALUE,i)||this}return Object(i.b)(t,e),t}(o),l=function(e){function t(t,n){return e.call(this,'The intl string context variable "'+t+'" was not provided to the string "'+n+'"',r.MISSING_VALUE,n)||this}return Object(i.b)(t,e),t}(o)},function(e,t,n){"use strict";function r(e){const t=e.clone();return t.pixelsToGLUnits=e.pixelsToGLUnits,t}function i(e){return{longitude:e.center.lng,latitude:e.center.lat,zoom:e.zoom,pitch:e.pitch,bearing:e.bearing,padding:e.padding}}function o(e,t){const n=t.viewState||t;let r=!1;if("longitude"in n&&"latitude"in n){const t=e.center;e.center=new t.constructor(n.longitude,n.latitude),r=r||t!==e.center}if("zoom"in n){const t=e.zoom;e.zoom=n.zoom,r=r||t!==e.zoom}if("bearing"in n){const t=e.bearing;e.bearing=n.bearing,r=r||t!==e.bearing}if("pitch"in n){const t=e.pitch;e.pitch=n.pitch,r=r||t!==e.pitch}return n.padding&&!e.isPaddingEqual(n.padding)&&(r=!0,e.padding=n.padding),r}n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o}))},function(e,t,n){"use strict";(function(e){var r=n(23),i=n.n(r),o=n(0),a=n.n(o),s=n(323),l=n(517),c=n(124),u=n(84),d=n(85);function f(){return void 0!==e.env.JEST_WORKER_ID?"mocked-random-id":"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}t.a=function(e){var t=e.icon,n=e.summary,r=e.description,p=Object(u.a)(),m=Object(o.useState)(!1),h=i()(m,2),g=h[0],y=h[1],v=f();return a.a.createElement(d.l,{role:"group"},a.a.createElement(d.n,{role:"presentation"},t),a.a.createElement(d.o,null,n,r&&a.a.createElement(d.b,{"aria-label":g?p.formatMessage({id:"otpUi.TripDetails.hideDetail"}):p.formatMessage({id:"otpUi.TripDetails.showDetail"}),"aria-controls":v,"aria-expanded":g,id:"expand-button",onClick:function(){y(!g)},tabIndex:0},a.a.createElement(s.a,{size:"0.92em"}))),a.a.createElement(c.default,{duration:300,height:g?"auto":0},a.a.createElement(d.m,{"aria-labelledby":"expand-button",id:v},a.a.createElement(d.e,{role:"presentation",onClick:function(){return y(!1)}},a.a.createElement(l.a,{size:"0.92em"})),r)))}}).call(this,n(254))},function(e,t,n){"use strict";(function(e,r,i){n.d(t,"a",(function(){return Yo})),n.d(t,"b",(function(){return Qo})),n.d(t,"c",(function(){return Zo})),n.d(t,"d",(function(){return qo}));var o=n(0),a=n.n(o),s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var l=function(){return(l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function c(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function u(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var f=function(e,t){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function p(e,t){function n(){this.constructor=e}f(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var m=function(){return(m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function h(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function g(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function y(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function b(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}var w="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};function x(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function E(e,t){return e(t={exports:{}},t.exports),t.exports}var _=function(e){return e&&e.Math==Math&&e},A=_("object"==typeof globalThis&&globalThis)||_("object"==typeof window&&window)||_("object"==typeof self&&self)||_("object"==typeof w&&w)||function(){return this}()||Function("return this")(),O=function(e){try{return!!e()}catch(e){return!0}},S=!O((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),T={}.propertyIsEnumerable,I=Object.getOwnPropertyDescriptor,k={f:I&&!T.call({1:2},1)?function(e){var t=I(this,e);return!!t&&t.enumerable}:T},C=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},M={}.toString,N=function(e){return M.call(e).slice(8,-1)},j="".split,L=O((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==N(e)?j.call(e,""):Object(e)}:Object,R=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},D=function(e){return L(R(e))},P=function(e){return"object"==typeof e?null!==e:"function"==typeof e},B=function(e,t){if(!P(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!P(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!P(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!P(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},F={}.hasOwnProperty,U=function(e,t){return F.call(e,t)},z=A.document,V=P(z)&&P(z.createElement),G=function(e){return V?z.createElement(e):{}},H=!S&&!O((function(){return 7!=Object.defineProperty(G("div"),"a",{get:function(){return 7}}).a})),W=Object.getOwnPropertyDescriptor,Y={f:S?W:function(e,t){if(e=D(e),t=B(t,!0),H)try{return W(e,t)}catch(e){}if(U(e,t))return C(!k.f.call(e,t),e[t])}},Q=function(e){if(!P(e))throw TypeError(String(e)+" is not an object");return e},Z=Object.defineProperty,X={f:S?Z:function(e,t,n){if(Q(e),t=B(t,!0),Q(n),H)try{return Z(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},J=S?function(e,t,n){return X.f(e,t,C(1,n))}:function(e,t,n){return e[t]=n,e},q=function(e,t){try{J(A,e,t)}catch(n){A[e]=t}return t},K=A["__core-js_shared__"]||q("__core-js_shared__",{}),$=Function.toString;"function"!=typeof K.inspectSource&&(K.inspectSource=function(e){return $.call(e)});var ee,te,ne,re=K.inspectSource,ie=A.WeakMap,oe="function"==typeof ie&&/native code/.test(re(ie)),ae=E((function(e){(e.exports=function(e,t){return K[e]||(K[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.8.0",mode:"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})})),se=0,le=Math.random(),ce=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++se+le).toString(36)},ue=ae("keys"),de=function(e){return ue[e]||(ue[e]=ce(e))},fe={},pe=A.WeakMap;if(oe){var me=K.state||(K.state=new pe),he=me.get,ge=me.has,ye=me.set;ee=function(e,t){return t.facade=e,ye.call(me,e,t),t},te=function(e){return he.call(me,e)||{}},ne=function(e){return ge.call(me,e)}}else{var ve=de("state");fe[ve]=!0,ee=function(e,t){return t.facade=e,J(e,ve,t),t},te=function(e){return U(e,ve)?e[ve]:{}},ne=function(e){return U(e,ve)}}var be,we={set:ee,get:te,has:ne,enforce:function(e){return ne(e)?te(e):ee(e,{})},getterFor:function(e){return function(t){var n;if(!P(t)||(n=te(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},xe=E((function(e){var t=we.get,n=we.enforce,r=String(String).split("String");(e.exports=function(e,t,i,o){var a,s=!!o&&!!o.unsafe,l=!!o&&!!o.enumerable,c=!!o&&!!o.noTargetGet;"function"==typeof i&&("string"!=typeof t||U(i,"name")||J(i,"name",t),(a=n(i)).source||(a.source=r.join("string"==typeof t?t:""))),e!==A?(s?!c&&e[t]&&(l=!0):delete e[t],l?e[t]=i:J(e,t,i)):l?e[t]=i:q(t,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||re(this)}))})),Ee=A,_e=function(e){return"function"==typeof e?e:void 0},Ae=function(e,t){return arguments.length<2?_e(Ee[e])||_e(A[e]):Ee[e]&&Ee[e][t]||A[e]&&A[e][t]},Oe=Math.ceil,Se=Math.floor,Te=function(e){return isNaN(e=+e)?0:(e>0?Se:Oe)(e)},Ie=Math.min,ke=function(e){return e>0?Ie(Te(e),9007199254740991):0},Ce=Math.max,Me=Math.min,Ne=function(e){return function(t,n,r){var i,o=D(t),a=ke(o.length),s=function(e,t){var n=Te(e);return n<0?Ce(n+t,0):Me(n,t)}(r,a);if(e&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}},je={includes:Ne(!0),indexOf:Ne(!1)},Le=je.indexOf,Re=function(e,t){var n,r=D(e),i=0,o=[];for(n in r)!U(fe,n)&&U(r,n)&&o.push(n);for(;t.length>i;)U(r,n=t[i++])&&(~Le(o,n)||o.push(n));return o},De=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Pe=De.concat("length","prototype"),Be={f:Object.getOwnPropertyNames||function(e){return Re(e,Pe)}},Fe={f:Object.getOwnPropertySymbols},Ue=Ae("Reflect","ownKeys")||function(e){var t=Be.f(Q(e)),n=Fe.f;return n?t.concat(n(e)):t},ze=function(e,t){for(var n=Ue(t),r=X.f,i=Y.f,o=0;o<n.length;o++){var a=n[o];U(e,a)||r(e,a,i(t,a))}},Ve=/#|\.prototype\./,Ge=function(e,t){var n=We[He(e)];return n==Qe||n!=Ye&&("function"==typeof t?O(t):!!t)},He=Ge.normalize=function(e){return String(e).replace(Ve,".").toLowerCase()},We=Ge.data={},Ye=Ge.NATIVE="N",Qe=Ge.POLYFILL="P",Ze=Ge,Xe=Y.f,Je=function(e,t){var n,r,i,o,a,s=e.target,l=e.global,c=e.stat;if(n=l?A:c?A[s]||q(s,{}):(A[s]||{}).prototype)for(r in t){if(o=t[r],i=e.noTargetGet?(a=Xe(n,r))&&a.value:n[r],!Ze(l?r:s+(c?".":"#")+r,e.forced)&&void 0!==i){if(typeof o==typeof i)continue;ze(o,i)}(e.sham||i&&i.sham)&&J(o,"sham",!0),xe(n,r,o,e)}},qe=!!Object.getOwnPropertySymbols&&!O((function(){return!String(Symbol())})),Ke=qe&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,$e=ae("wks"),et=A.Symbol,tt=Ke?et:et&&et.withoutSetter||ce,nt=function(e){return U($e,e)||(qe&&U(et,e)?$e[e]=et[e]:$e[e]=tt("Symbol."+e)),$e[e]},rt=nt("match"),it=function(e){if(function(e){var t;return P(e)&&(void 0!==(t=e[rt])?!!t:"RegExp"==N(e))}(e))throw TypeError("The method doesn't accept regular expressions");return e},ot=nt("match"),at=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[ot]=!1,"/./"[e](t)}catch(e){}}return!1},st=Y.f,lt="".startsWith,ct=Math.min,ut=at("startsWith"),dt=!(ut||(be=st(String.prototype,"startsWith"),!be||be.writable));Je({target:"String",proto:!0,forced:!dt&&!ut},{startsWith:function(e){var t=String(R(this));it(e);var n=ke(ct(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return lt?lt.call(t,r,n):t.slice(n,n+r.length)===r}});var ft,pt,mt=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},ht=function(e,t,n){if(mt(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}},gt=Function.call,yt=function(e,t,n){return ht(gt,A[e].prototype[t],n)},vt=(yt("String","startsWith"),Array.isArray||function(e){return"Array"==N(e)}),bt=function(e){return Object(R(e))},wt=function(e,t,n){var r=B(t);r in e?X.f(e,r,C(0,n)):e[r]=n},xt=nt("species"),Et=function(e,t){var n;return vt(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!vt(n.prototype)?P(n)&&null===(n=n[xt])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)},_t=Ae("navigator","userAgent")||"",At=A.process,Ot=At&&At.versions,St=Ot&&Ot.v8;St?pt=(ft=St.split("."))[0]+ft[1]:_t&&(!(ft=_t.match(/Edge\/(\d+)/))||ft[1]>=74)&&(ft=_t.match(/Chrome\/(\d+)/))&&(pt=ft[1]);var Tt=pt&&+pt,It=nt("species"),kt=nt("isConcatSpreadable"),Ct=Tt>=51||!O((function(){var e=[];return e[kt]=!1,e.concat()[0]!==e})),Mt=Tt>=51||!O((function(){var e=[];return(e.constructor={})[It]=function(){return{foo:1}},1!==e.concat(Boolean).foo})),Nt=function(e){if(!P(e))return!1;var t=e[kt];return void 0!==t?!!t:vt(e)};Je({target:"Array",proto:!0,forced:!Ct||!Mt},{concat:function(e){var t,n,r,i,o,a=bt(this),s=Et(a,0),l=0;for(t=-1,r=arguments.length;t<r;t++)if(Nt(o=-1===t?a:arguments[t])){if(l+(i=ke(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<i;n++,l++)n in o&&wt(s,l,o[n])}else{if(l>=9007199254740991)throw TypeError("Maximum allowed index exceeded");wt(s,l++,o)}return s.length=l,s}});var jt={};jt[nt("toStringTag")]="z";var Lt="[object z]"===String(jt),Rt=nt("toStringTag"),Dt="Arguments"==N(function(){return arguments}()),Pt=Lt?N:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),Rt))?n:Dt?N(t):"Object"==(r=N(t))&&"function"==typeof t.callee?"Arguments":r},Bt=Lt?{}.toString:function(){return"[object "+Pt(this)+"]"};Lt||xe(Object.prototype,"toString",Bt,{unsafe:!0});var Ft,Ut=Object.keys||function(e){return Re(e,De)},zt=S?Object.defineProperties:function(e,t){Q(e);for(var n,r=Ut(t),i=r.length,o=0;i>o;)X.f(e,n=r[o++],t[n]);return e},Vt=Ae("document","documentElement"),Gt=de("IE_PROTO"),Ht=function(){},Wt=function(e){return"<script>"+e+"<\/script>"},Yt=function(){try{Ft=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;Yt=Ft?function(e){e.write(Wt("")),e.close();var t=e.parentWindow.Object;return e=null,t}(Ft):((t=G("iframe")).style.display="none",Vt.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(Wt("document.F=Object")),e.close(),e.F);for(var n=De.length;n--;)delete Yt.prototype[De[n]];return Yt()};fe[Gt]=!0;var Qt=Object.create||function(e,t){var n;return null!==e?(Ht.prototype=Q(e),n=new Ht,Ht.prototype=null,n[Gt]=e):n=Yt(),void 0===t?n:zt(n,t)},Zt=Be.f,Xt={}.toString,Jt="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],qt={f:function(e){return Jt&&"[object Window]"==Xt.call(e)?function(e){try{return Zt(e)}catch(e){return Jt.slice()}}(e):Zt(D(e))}},Kt={f:nt},$t=X.f,en=function(e){var t=Ee.Symbol||(Ee.Symbol={});U(t,e)||$t(t,e,{value:Kt.f(e)})},tn=X.f,nn=nt("toStringTag"),rn=function(e,t,n){e&&!U(e=n?e:e.prototype,nn)&&tn(e,nn,{configurable:!0,value:t})},on=[].push,an=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,o=6==e,a=7==e,s=5==e||o;return function(l,c,u,d){for(var f,p,m=bt(l),h=L(m),g=ht(c,u,3),y=ke(h.length),v=0,b=d||Et,w=t?b(l,y):n||a?b(l,0):void 0;y>v;v++)if((s||v in h)&&(p=g(f=h[v],v,m),e))if(t)w[v]=p;else if(p)switch(e){case 3:return!0;case 5:return f;case 6:return v;case 2:on.call(w,f)}else switch(e){case 4:return!1;case 7:on.call(w,f)}return o?-1:r||i?i:w}},sn=[an(0),an(1),an(2),an(3),an(4),an(5),an(6),an(7)][0],ln=de("hidden"),cn=nt("toPrimitive"),un=we.set,dn=we.getterFor("Symbol"),fn=Object.prototype,pn=A.Symbol,mn=Ae("JSON","stringify"),hn=Y.f,gn=X.f,yn=qt.f,vn=k.f,bn=ae("symbols"),wn=ae("op-symbols"),xn=ae("string-to-symbol-registry"),En=ae("symbol-to-string-registry"),_n=ae("wks"),An=A.QObject,On=!An||!An.prototype||!An.prototype.findChild,Sn=S&&O((function(){return 7!=Qt(gn({},"a",{get:function(){return gn(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=hn(fn,t);r&&delete fn[t],gn(e,t,n),r&&e!==fn&&gn(fn,t,r)}:gn,Tn=function(e,t){var n=bn[e]=Qt(pn.prototype);return un(n,{type:"Symbol",tag:e,description:t}),S||(n.description=t),n},In=Ke?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof pn},kn=function(e,t,n){e===fn&&kn(wn,t,n),Q(e);var r=B(t,!0);return Q(n),U(bn,r)?(n.enumerable?(U(e,ln)&&e[ln][r]&&(e[ln][r]=!1),n=Qt(n,{enumerable:C(0,!1)})):(U(e,ln)||gn(e,ln,C(1,{})),e[ln][r]=!0),Sn(e,r,n)):gn(e,r,n)},Cn=function(e,t){Q(e);var n=D(t),r=Ut(n).concat(Ln(n));return sn(r,(function(t){S&&!Mn.call(n,t)||kn(e,t,n[t])})),e},Mn=function(e){var t=B(e,!0),n=vn.call(this,t);return!(this===fn&&U(bn,t)&&!U(wn,t))&&(!(n||!U(this,t)||!U(bn,t)||U(this,ln)&&this[ln][t])||n)},Nn=function(e,t){var n=D(e),r=B(t,!0);if(n!==fn||!U(bn,r)||U(wn,r)){var i=hn(n,r);return!i||!U(bn,r)||U(n,ln)&&n[ln][r]||(i.enumerable=!0),i}},jn=function(e){var t=yn(D(e)),n=[];return sn(t,(function(e){U(bn,e)||U(fe,e)||n.push(e)})),n},Ln=function(e){var t=e===fn,n=yn(t?wn:D(e)),r=[];return sn(n,(function(e){!U(bn,e)||t&&!U(fn,e)||r.push(bn[e])})),r};if(qe||(xe((pn=function(){if(this instanceof pn)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=ce(e),n=function(e){this===fn&&n.call(wn,e),U(this,ln)&&U(this[ln],t)&&(this[ln][t]=!1),Sn(this,t,C(1,e))};return S&&On&&Sn(fn,t,{configurable:!0,set:n}),Tn(t,e)}).prototype,"toString",(function(){return dn(this).tag})),xe(pn,"withoutSetter",(function(e){return Tn(ce(e),e)})),k.f=Mn,X.f=kn,Y.f=Nn,Be.f=qt.f=jn,Fe.f=Ln,Kt.f=function(e){return Tn(nt(e),e)},S&&(gn(pn.prototype,"description",{configurable:!0,get:function(){return dn(this).description}}),xe(fn,"propertyIsEnumerable",Mn,{unsafe:!0}))),Je({global:!0,wrap:!0,forced:!qe,sham:!qe},{Symbol:pn}),sn(Ut(_n),(function(e){en(e)})),Je({target:"Symbol",stat:!0,forced:!qe},{for:function(e){var t=String(e);if(U(xn,t))return xn[t];var n=pn(t);return xn[t]=n,En[n]=t,n},keyFor:function(e){if(!In(e))throw TypeError(e+" is not a symbol");if(U(En,e))return En[e]},useSetter:function(){On=!0},useSimple:function(){On=!1}}),Je({target:"Object",stat:!0,forced:!qe,sham:!S},{create:function(e,t){return void 0===t?Qt(e):Cn(Qt(e),t)},defineProperty:kn,defineProperties:Cn,getOwnPropertyDescriptor:Nn}),Je({target:"Object",stat:!0,forced:!qe},{getOwnPropertyNames:jn,getOwnPropertySymbols:Ln}),Je({target:"Object",stat:!0,forced:O((function(){Fe.f(1)}))},{getOwnPropertySymbols:function(e){return Fe.f(bt(e))}}),mn){var Rn=!qe||O((function(){var e=pn();return"[null]"!=mn([e])||"{}"!=mn({a:e})||"{}"!=mn(Object(e))}));Je({target:"JSON",stat:!0,forced:Rn},{stringify:function(e,t,n){for(var r,i=[e],o=1;arguments.length>o;)i.push(arguments[o++]);if(r=t,(P(t)||void 0!==e)&&!In(e))return vt(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!In(t))return t}),i[1]=t,mn.apply(null,i)}})}pn.prototype[cn]||J(pn.prototype,cn,pn.prototype.valueOf),rn(pn,"Symbol"),fe[ln]=!0,en("asyncIterator");var Dn=X.f,Pn=A.Symbol;if(S&&"function"==typeof Pn&&(!("description"in Pn.prototype)||void 0!==Pn().description)){var Bn={},Fn=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof Fn?new Pn(e):void 0===e?Pn():Pn(e);return""===e&&(Bn[t]=!0),t};ze(Fn,Pn);var Un=Fn.prototype=Pn.prototype;Un.constructor=Fn;var zn=Un.toString,Vn="Symbol(test)"==String(Pn("test")),Gn=/^Symbol\((.*)\)[^)]+$/;Dn(Un,"description",{configurable:!0,get:function(){var e=P(this)?this.valueOf():this,t=zn.call(e);if(U(Bn,e))return"";var n=Vn?t.slice(7,-1):t.replace(Gn,"$1");return""===n?void 0:n}}),Je({global:!0,forced:!0},{Symbol:Fn})}en("hasInstance"),en("isConcatSpreadable"),en("iterator"),en("match"),en("matchAll"),en("replace"),en("search"),en("species"),en("split"),en("toPrimitive"),en("toStringTag"),en("unscopables"),rn(A.JSON,"JSON",!0),rn(Math,"Math",!0),Je({global:!0},{Reflect:{}}),rn(A.Reflect,"Reflect",!0),Ee.Symbol;var Hn,Wn,Yn,Qn=function(e){return function(t,n){var r,i,o=String(R(t)),a=Te(n),s=o.length;return a<0||a>=s?e?"":void 0:(r=o.charCodeAt(a))<55296||r>56319||a+1===s||(i=o.charCodeAt(a+1))<56320||i>57343?e?o.charAt(a):r:e?o.slice(a,a+2):i-56320+(r-55296<<10)+65536}},Zn={codeAt:Qn(!1),charAt:Qn(!0)},Xn=!O((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),Jn=de("IE_PROTO"),qn=Object.prototype,Kn=Xn?Object.getPrototypeOf:function(e){return e=bt(e),U(e,Jn)?e[Jn]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?qn:null},$n=nt("iterator"),er=!1;[].keys&&("next"in(Yn=[].keys())?(Wn=Kn(Kn(Yn)))!==Object.prototype&&(Hn=Wn):er=!0),null==Hn&&(Hn={}),U(Hn,$n)||J(Hn,$n,(function(){return this}));var tr={IteratorPrototype:Hn,BUGGY_SAFARI_ITERATORS:er},nr={},rr=tr.IteratorPrototype,ir=function(){return this},or=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return Q(n),function(e){if(!P(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(r),t?e.call(n,r):n.__proto__=r,n}}():void 0),ar=tr.IteratorPrototype,sr=tr.BUGGY_SAFARI_ITERATORS,lr=nt("iterator"),cr=function(){return this},ur=function(e,t,n,r,i,o,a){!function(e,t,n){var r=t+" Iterator";e.prototype=Qt(rr,{next:C(1,n)}),rn(e,r,!1),nr[r]=ir}(n,t,r);var s,l,c,u=function(e){if(e===i&&h)return h;if(!sr&&e in p)return p[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},d=t+" Iterator",f=!1,p=e.prototype,m=p[lr]||p["@@iterator"]||i&&p[i],h=!sr&&m||u(i),g="Array"==t&&p.entries||m;if(g&&(s=Kn(g.call(new e)),ar!==Object.prototype&&s.next&&(Kn(s)!==ar&&(or?or(s,ar):"function"!=typeof s[lr]&&J(s,lr,cr)),rn(s,d,!0))),"values"==i&&m&&"values"!==m.name&&(f=!0,h=function(){return m.call(this)}),p[lr]!==h&&J(p,lr,h),nr[t]=h,i)if(l={values:u("values"),keys:o?h:u("keys"),entries:u("entries")},a)for(c in l)(sr||f||!(c in p))&&xe(p,c,l[c]);else Je({target:t,proto:!0,forced:sr||f},l);return l},dr=Zn.charAt,fr=we.set,pr=we.getterFor("String Iterator");ur(String,"String",(function(e){fr(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=pr(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=dr(n,r),t.index+=e.length,{value:e,done:!1})}));var mr=function(e){var t=e.return;if(void 0!==t)return Q(t.call(e)).value},hr=function(e,t,n,r){try{return r?t(Q(n)[0],n[1]):t(n)}catch(t){throw mr(e),t}},gr=nt("iterator"),yr=Array.prototype,vr=function(e){return void 0!==e&&(nr.Array===e||yr[gr]===e)},br=nt("iterator"),wr=function(e){if(null!=e)return e[br]||e["@@iterator"]||nr[Pt(e)]},xr=nt("iterator"),Er=!1;try{var _r=0,Ar={next:function(){return{done:!!_r++}},return:function(){Er=!0}};Ar[xr]=function(){return this},Array.from(Ar,(function(){throw 2}))}catch(f){}var Or=function(e,t){if(!t&&!Er)return!1;var n=!1;try{var r={};r[xr]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n},Sr=!Or((function(e){Array.from(e)}));Je({target:"Array",stat:!0,forced:Sr},{from:function(e){var t,n,r,i,o,a,s=bt(e),l="function"==typeof this?this:Array,c=arguments.length,u=c>1?arguments[1]:void 0,d=void 0!==u,f=wr(s),p=0;if(d&&(u=ht(u,c>2?arguments[2]:void 0,2)),null==f||l==Array&&vr(f))for(n=new l(t=ke(s.length));t>p;p++)a=d?u(s[p],p):s[p],wt(n,p,a);else for(o=(i=f.call(s)).next,n=new l;!(r=o.call(i)).done;p++)a=d?hr(i,u,[r.value,p],!0):r.value,wt(n,p,a);return n.length=p,n}}),Ee.Array.from;var Tr,Ir="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,kr=X.f,Cr=A.Int8Array,Mr=Cr&&Cr.prototype,Nr=A.Uint8ClampedArray,jr=Nr&&Nr.prototype,Lr=Cr&&Kn(Cr),Rr=Mr&&Kn(Mr),Dr=Object.prototype,Pr=Dr.isPrototypeOf,Br=nt("toStringTag"),Fr=ce("TYPED_ARRAY_TAG"),Ur=Ir&&!!or&&"Opera"!==Pt(A.opera),zr={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(Tr in zr)A[Tr]||(Ur=!1);if((!Ur||"function"!=typeof Lr||Lr===Function.prototype)&&(Lr=function(){throw TypeError("Incorrect invocation")},Ur))for(Tr in zr)A[Tr]&&or(A[Tr],Lr);if((!Ur||!Rr||Rr===Dr)&&(Rr=Lr.prototype,Ur))for(Tr in zr)A[Tr]&&or(A[Tr].prototype,Rr);if(Ur&&Kn(jr)!==Rr&&or(jr,Rr),S&&!U(Rr,Br))for(Tr in kr(Rr,Br,{get:function(){return P(this)?this[Fr]:void 0}}),zr)A[Tr]&&J(A[Tr],Fr,Tr);var Vr=nt("species"),Gr=function(e){if(function(e){return P(e)&&U(zr,Pt(e))}(e))return e;throw TypeError("Target is not a typed array")},Hr=function(e){if(or){if(Pr.call(Lr,e))return e}else for(var t in zr)if(U(zr,Tr)){var n=A[t];if(n&&(e===n||Pr.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},Wr=[].slice;!function(e,t,n){if(S){if(n)for(var r in zr){var i=A[r];i&&U(i.prototype,e)&&delete i.prototype[e]}Rr[e]&&!n||xe(Rr,e,n?t:Ur&&Mr[e]||t)}}("slice",(function(e,t){for(var n=Wr.call(Gr(this),e,t),r=function(e,t){var n,r=Q(e).constructor;return void 0===r||null==(n=Q(r)[Vr])?t:mt(n)}(this,this.constructor),i=0,o=n.length,a=new(Hr(r))(o);o>i;)a[i]=n[i++];return a}),O((function(){new Int8Array(1).slice()})));var Yr=nt("unscopables"),Qr=Array.prototype;null==Qr[Yr]&&X.f(Qr,Yr,{configurable:!0,value:Qt(null)});var Zr=function(e){Qr[Yr][e]=!0},Xr=Object.defineProperty,Jr={},qr=function(e){throw e},Kr=je.includes,$r=function(e,t){if(U(Jr,e))return Jr[e];t||(t={});var n=[][e],r=!!U(t,"ACCESSORS")&&t.ACCESSORS,i=U(t,0)?t[0]:qr,o=U(t,1)?t[1]:void 0;return Jr[e]=!!n&&!O((function(){if(r&&!S)return!0;var e={length:-1};r?Xr(e,1,{enumerable:!0,get:qr}):e[1]=1,n.call(e,i,o)}))}("indexOf",{ACCESSORS:!0,1:0});Je({target:"Array",proto:!0,forced:!$r},{includes:function(e){return Kr(this,e,arguments.length>1?arguments[1]:void 0)}}),Zr("includes"),yt("Array","includes"),Je({target:"String",proto:!0,forced:!at("includes")},{includes:function(e){return!!~String(R(this)).indexOf(it(e),arguments.length>1?arguments[1]:void 0)}}),yt("String","includes");var ei=!O((function(){return Object.isExtensible(Object.preventExtensions({}))})),ti=E((function(e){var t=X.f,n=ce("meta"),r=0,i=Object.isExtensible||function(){return!0},o=function(e){t(e,n,{value:{objectID:"O"+ ++r,weakData:{}}})},a=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!P(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!U(e,n)){if(!i(e))return"F";if(!t)return"E";o(e)}return e[n].objectID},getWeakData:function(e,t){if(!U(e,n)){if(!i(e))return!0;if(!t)return!1;o(e)}return e[n].weakData},onFreeze:function(e){return ei&&a.REQUIRED&&i(e)&&!U(e,n)&&o(e),e}};fe[n]=!0})),ni=(ti.REQUIRED,ti.fastKey,ti.getWeakData,ti.onFreeze,function(e,t){this.stopped=e,this.result=t}),ri=function(e,t,n){var r,i,o,a,s,l,c,u=n&&n.that,d=!(!n||!n.AS_ENTRIES),f=!(!n||!n.IS_ITERATOR),p=!(!n||!n.INTERRUPTED),m=ht(t,u,1+d+p),h=function(e){return r&&mr(r),new ni(!0,e)},g=function(e){return d?(Q(e),p?m(e[0],e[1],h):m(e[0],e[1])):p?m(e,h):m(e)};if(f)r=e;else{if("function"!=typeof(i=wr(e)))throw TypeError("Target is not iterable");if(vr(i)){for(o=0,a=ke(e.length);a>o;o++)if((s=g(e[o]))&&s instanceof ni)return s;return new ni(!1)}r=i.call(e)}for(l=r.next;!(c=l.call(r)).done;){try{s=g(c.value)}catch(e){throw mr(r),e}if("object"==typeof s&&s&&s instanceof ni)return s}return new ni(!1)},ii=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e},oi=function(e,t,n){for(var r in t)xe(e,r,t[r],n);return e},ai=nt("species"),si=X.f,li=ti.fastKey,ci=we.set,ui=we.getterFor,di=(function(e,t,n){var r=-1!==e.indexOf("Map"),i=-1!==e.indexOf("Weak"),o=r?"set":"add",a=A[e],s=a&&a.prototype,l=a,c={},u=function(e){var t=s[e];xe(s,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(i&&!P(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return i&&!P(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(i&&!P(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(Ze(e,"function"!=typeof a||!(i||s.forEach&&!O((function(){(new a).entries().next()})))))l=n.getConstructor(t,e,r,o),ti.REQUIRED=!0;else if(Ze(e,!0)){var d=new l,f=d[o](i?{}:-0,1)!=d,p=O((function(){d.has(1)})),m=Or((function(e){new a(e)})),h=!i&&O((function(){for(var e=new a,t=5;t--;)e[o](t,t);return!e.has(-0)}));m||((l=t((function(t,n){ii(t,l,e);var i=function(e,t,n){var r,i;return or&&"function"==typeof(r=t.constructor)&&r!==n&&P(i=r.prototype)&&i!==n.prototype&&or(e,i),e}(new a,t,l);return null!=n&&ri(n,i[o],{that:i,AS_ENTRIES:r}),i}))).prototype=s,s.constructor=l),(p||h)&&(u("delete"),u("has"),r&&u("get")),(h||f)&&u(o),i&&s.clear&&delete s.clear}c[e]=l,Je({global:!0,forced:l!=a},c),rn(l,e),i||n.setStrong(l,e,r)}("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),{getConstructor:function(e,t,n,r){var i=e((function(e,o){ii(e,i,t),ci(e,{type:t,index:Qt(null),first:void 0,last:void 0,size:0}),S||(e.size=0),null!=o&&ri(o,e[r],{that:e,AS_ENTRIES:n})})),o=ui(t),a=function(e,t,n){var r,i,a=o(e),l=s(e,t);return l?l.value=n:(a.last=l={index:i=li(t,!0),key:t,value:n,previous:r=a.last,next:void 0,removed:!1},a.first||(a.first=l),r&&(r.next=l),S?a.size++:e.size++,"F"!==i&&(a.index[i]=l)),e},s=function(e,t){var n,r=o(e),i=li(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return oi(i.prototype,{clear:function(){for(var e=o(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,S?e.size=0:this.size=0},delete:function(e){var t=this,n=o(t),r=s(t,e);if(r){var i=r.next,a=r.previous;delete n.index[r.index],r.removed=!0,a&&(a.next=i),i&&(i.previous=a),n.first==r&&(n.first=i),n.last==r&&(n.last=a),S?n.size--:t.size--}return!!r},forEach:function(e){for(var t,n=o(this),r=ht(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!s(this,e)}}),oi(i.prototype,n?{get:function(e){var t=s(this,e);return t&&t.value},set:function(e,t){return a(this,0===e?0:e,t)}}:{add:function(e){return a(this,e=0===e?0:e,e)}}),S&&si(i.prototype,"size",{get:function(){return o(this).size}}),i},setStrong:function(e,t,n){var r=t+" Iterator",i=ui(t),o=ui(r);ur(e,t,(function(e,t){ci(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),function(e){var t=Ae(e),n=X.f;S&&t&&!t[ai]&&n(t,ai,{configurable:!0,get:function(){return this}})}(t)}}),{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),fi=we.set,pi=we.getterFor("Array Iterator"),mi=ur(Array,"Array",(function(e,t){fi(this,{type:"Array Iterator",target:D(e),index:0,kind:t})}),(function(){var e=pi(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");nr.Arguments=nr.Array,Zr("keys"),Zr("values"),Zr("entries");var hi=nt("iterator"),gi=nt("toStringTag"),yi=mi.values;for(var vi in di){var bi=A[vi],wi=bi&&bi.prototype;if(wi){if(wi[hi]!==yi)try{J(wi,hi,yi)}catch(f){wi[hi]=yi}if(wi[gi]||J(wi,gi,vi),di[vi])for(var xi in mi)if(wi[xi]!==mi[xi])try{J(wi,xi,mi[xi])}catch(f){wi[xi]=mi[xi]}}}function Ei(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))}function _i(e){return new this((function(t,n){if(!e||void 0===e.length)return n(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var i=r.length;function o(e,n){if(n&&("object"==typeof n||"function"==typeof n)){var a=n.then;if("function"==typeof a)return void a.call(n,(function(t){o(e,t)}),(function(n){r[e]={status:"rejected",reason:n},0==--i&&t(r)}))}r[e]={status:"fulfilled",value:n},0==--i&&t(r)}for(var a=0;a<r.length;a++)o(a,r[a])}))}Ee.Set;var Ai=setTimeout;function Oi(e){return Boolean(e&&void 0!==e.length)}function Si(){}function Ti(e){if(!(this instanceof Ti))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],ji(e,this)}function Ii(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,Ti._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void Ci(t.promise,e)}ki(t.promise,r)}else(1===e._state?ki:Ci)(t.promise,e._value)}))):e._deferreds.push(t)}function ki(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof Ti)return e._state=3,e._value=t,void Mi(e);if("function"==typeof n)return void ji((r=n,i=t,function(){r.apply(i,arguments)}),e)}e._state=1,e._value=t,Mi(e)}catch(t){Ci(e,t)}var r,i}function Ci(e,t){e._state=2,e._value=t,Mi(e)}function Mi(e){2===e._state&&0===e._deferreds.length&&Ti._immediateFn((function(){e._handled||Ti._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)Ii(e,e._deferreds[t]);e._deferreds=null}function Ni(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function ji(e,t){var n=!1;try{e((function(e){n||(n=!0,ki(t,e))}),(function(e){n||(n=!0,Ci(t,e))}))}catch(e){if(n)return;n=!0,Ci(t,e)}}Ti.prototype.catch=function(e){return this.then(null,e)},Ti.prototype.then=function(e,t){var n=new this.constructor(Si);return Ii(this,new Ni(e,t,n)),n},Ti.prototype.finally=Ei,Ti.all=function(e){return new Ti((function(t,n){if(!Oi(e))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var i=r.length;function o(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(t){o(e,t)}),n)}r[e]=a,0==--i&&t(r)}catch(e){n(e)}}for(var a=0;a<r.length;a++)o(a,r[a])}))},Ti.allSettled=_i,Ti.resolve=function(e){return e&&"object"==typeof e&&e.constructor===Ti?e:new Ti((function(t){t(e)}))},Ti.reject=function(e){return new Ti((function(t,n){n(e)}))},Ti.race=function(e){return new Ti((function(t,n){if(!Oi(e))return n(new TypeError("Promise.race accepts an array"));for(var r=0,i=e.length;r<i;r++)Ti.resolve(e[r]).then(t,n)}))},Ti._immediateFn="function"==typeof r&&function(e){r(e)}||function(e){Ai(e,0)},Ti._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var Li=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("unable to locate global object")}();"function"!=typeof Li.Promise?Li.Promise=Ti:Li.Promise.prototype.finally?Li.Promise.allSettled||(Li.Promise.allSettled=_i):Li.Promise.prototype.finally=Ei,function(e){function t(){}function n(e,t){if(e=void 0===e?"utf-8":e,t=void 0===t?{fatal:!1}:t,-1===o.indexOf(e.toLowerCase()))throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('"+e+"') is invalid.");if(t.fatal)throw Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}function r(e){for(var t=0,n=Math.min(65536,e.length+1),r=new Uint16Array(n),i=[],o=0;;){var a=t<e.length;if(!a||o>=n-1){if(i.push(String.fromCharCode.apply(null,r.subarray(0,o))),!a)return i.join("");e=e.subarray(t),o=t=0}if(0==(128&(a=e[t++])))r[o++]=a;else if(192==(224&a)){var s=63&e[t++];r[o++]=(31&a)<<6|s}else if(224==(240&a)){s=63&e[t++];var l=63&e[t++];r[o++]=(31&a)<<12|s<<6|l}else 240==(248&a)&&(65535<(a=(7&a)<<18|(s=63&e[t++])<<12|(l=63&e[t++])<<6|63&e[t++])&&(a-=65536,r[o++]=a>>>10&1023|55296,a=56320|1023&a),r[o++]=a)}}if(e.TextEncoder&&e.TextDecoder)return!1;var o=["utf-8","utf8","unicode-1-1-utf-8"];Object.defineProperty(t.prototype,"encoding",{value:"utf-8"}),t.prototype.encode=function(e,t){if((t=void 0===t?{stream:!1}:t).stream)throw Error("Failed to encode: the 'stream' option is unsupported.");t=0;for(var n=e.length,r=0,i=Math.max(32,n+(n>>>1)+7),o=new Uint8Array(i>>>3<<3);t<n;){var a=e.charCodeAt(t++);if(55296<=a&&56319>=a){if(t<n){var s=e.charCodeAt(t);56320==(64512&s)&&(++t,a=((1023&a)<<10)+(1023&s)+65536)}if(55296<=a&&56319>=a)continue}if(r+4>o.length&&(i+=8,i=(i*=1+t/e.length*2)>>>3<<3,(s=new Uint8Array(i)).set(o),o=s),0==(4294967168&a))o[r++]=a;else{if(0==(4294965248&a))o[r++]=a>>>6&31|192;else if(0==(4294901760&a))o[r++]=a>>>12&15|224,o[r++]=a>>>6&63|128;else{if(0!=(4292870144&a))continue;o[r++]=a>>>18&7|240,o[r++]=a>>>12&63|128,o[r++]=a>>>6&63|128}o[r++]=63&a|128}}return o.slice?o.slice(0,r):o.subarray(0,r)},Object.defineProperty(n.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(n.prototype,"fatal",{value:!1}),Object.defineProperty(n.prototype,"ignoreBOM",{value:!1});var a=r;"function"==typeof i&&i.from?a=function(e){return i.from(e.buffer,e.byteOffset,e.byteLength).toString("utf-8")}:"function"==typeof Blob&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&(a=function(e){var t=URL.createObjectURL(new Blob([e],{type:"text/plain;charset=UTF-8"}));try{var n=new XMLHttpRequest;return n.open("GET",t,!1),n.send(),n.responseText}catch(t){return r(e)}finally{URL.revokeObjectURL(t)}}),n.prototype.decode=function(e,t){if((t=void 0===t?{stream:!1}:t).stream)throw Error("Failed to decode: the 'stream' option is unsupported.");return e=e instanceof Uint8Array?e:e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer):new Uint8Array(e),a(e)},e.TextEncoder=t,e.TextDecoder=n}("undefined"!=typeof window?window:w),function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?a(e):t}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=i(e);if(t){var o=i(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function c(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=c(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}var d=function(){function t(){e(this,t),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return n(t,[{key:"addEventListener",value:function(e,t){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"removeEventListener",value:function(e,t){if(e in this.listeners)for(var n=this.listeners[e],r=0,i=n.length;r<i;r++)if(n[r]===t)return void n.splice(r,1)}},{key:"dispatchEvent",value:function(e){var t=this;if(e.type in this.listeners){for(var n=function(n){setTimeout((function(){return n.call(t,e)}))},r=this.listeners[e.type],i=0,o=r.length;i<o;i++)n(r[i]);return!e.defaultPrevented}}}]),t}(),f=function(t){r(s,t);var o=l(s);function s(){var t;return e(this,s),(t=o.call(this)).listeners||d.call(a(t)),Object.defineProperty(a(t),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(a(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return n(s,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(e){"abort"===e.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,e)),u(i(s.prototype),"dispatchEvent",this).call(this,e)}}]),s}(d),p=function(){function t(){e(this,t),Object.defineProperty(this,"signal",{value:new f,writable:!0,configurable:!0})}return n(t,[{key:"abort",value:function(){var e;try{e=new Event("abort")}catch(t){"undefined"!=typeof document?document.createEvent?(e=document.createEvent("Event")).initEvent("abort",!1,!1):(e=document.createEventObject()).type="abort":e={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(e)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(p.prototype[Symbol.toStringTag]="AbortController",f.prototype[Symbol.toStringTag]="AbortSignal"),function(e){(function(e){return e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):"function"==typeof e.Request&&!e.Request.prototype.hasOwnProperty("signal")||!e.AbortController})(e)&&(e.AbortController=p,e.AbortSignal=f)}("undefined"!=typeof self?self:w)}();var Ri=E((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){var e=this;this.locked=new Map,this.addToLocked=function(t,n){var r=e.locked.get(t);void 0===r?void 0===n?e.locked.set(t,[]):e.locked.set(t,[n]):void 0!==n&&(r.unshift(n),e.locked.set(t,r))},this.isLocked=function(t){return e.locked.has(t)},this.lock=function(t){return new Promise((function(n,r){e.isLocked(t)?e.addToLocked(t,n):(e.addToLocked(t),n())}))},this.unlock=function(t){var n=e.locked.get(t);if(void 0!==n&&0!==n.length){var r=n.pop();e.locked.set(t,n),void 0!==r&&setTimeout(r,0)}else e.locked.delete(t)}}return e.getInstance=function(){return void 0===e.instance&&(e.instance=new e),e.instance},e}();t.default=function(){return n.getInstance()}}));x(Ri);var Di=x(E((function(e,t){var n=w&&w.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}l((r=r.apply(e,t||[])).next())}))},r=w&&w.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i="browser-tabs-lock-key";function o(e){return new Promise((function(t){return setTimeout(t,e)}))}function a(e){for(var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",n="",r=0;r<e;r++)n+=t[Math.floor(Math.random()*t.length)];return n}var s=function(){function e(){this.acquiredIatSet=new Set,this.id=Date.now().toString()+a(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),void 0===e.waiters&&(e.waiters=[])}return e.prototype.acquireLock=function(t,s){return void 0===s&&(s=5e3),n(this,void 0,void 0,(function(){var n,l,c,u,d,f;return r(this,(function(r){switch(r.label){case 0:n=Date.now()+a(4),l=Date.now()+s,c=i+"-"+t,u=window.localStorage,r.label=1;case 1:return Date.now()<l?[4,o(30)]:[3,8];case 2:return r.sent(),null!==u.getItem(c)?[3,5]:(d=this.id+"-"+t+"-"+n,[4,o(Math.floor(25*Math.random()))]);case 3:return r.sent(),u.setItem(c,JSON.stringify({id:this.id,iat:n,timeoutKey:d,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,o(30)];case 4:return r.sent(),null!==(f=u.getItem(c))&&(f=JSON.parse(f)).id===this.id&&f.iat===n?(this.acquiredIatSet.add(n),this.refreshLockWhileAcquired(c,n),[2,!0]):[3,7];case 5:return e.lockCorrector(),[4,this.waitForSomethingToChange(l)];case 6:r.sent(),r.label=7;case 7:return n=Date.now()+a(4),[3,1];case 8:return[2,!1]}}))}))},e.prototype.refreshLockWhileAcquired=function(e,t){return n(this,void 0,void 0,(function(){var i=this;return r(this,(function(o){return setTimeout((function(){return n(i,void 0,void 0,(function(){var n,i;return r(this,(function(r){switch(r.label){case 0:return[4,Ri.default().lock(t)];case 1:return r.sent(),this.acquiredIatSet.has(t)?(n=window.localStorage,null===(i=n.getItem(e))?(Ri.default().unlock(t),[2]):((i=JSON.parse(i)).timeRefreshed=Date.now(),n.setItem(e,JSON.stringify(i)),Ri.default().unlock(t),this.refreshLockWhileAcquired(e,t),[2])):(Ri.default().unlock(t),[2])}}))}))}),1e3),[2]}))}))},e.prototype.waitForSomethingToChange=function(t){return n(this,void 0,void 0,(function(){return r(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(n){var r=!1,i=Date.now(),o=!1;function a(){if(o||(window.removeEventListener("storage",a),e.removeFromWaiting(a),clearTimeout(s),o=!0),!r){r=!0;var t=50-(Date.now()-i);t>0?setTimeout(n,t):n()}}window.addEventListener("storage",a),e.addToWaiting(a);var s=setTimeout(a,Math.max(0,t-Date.now()))}))];case 1:return n.sent(),[2]}}))}))},e.addToWaiting=function(t){this.removeFromWaiting(t),void 0!==e.waiters&&e.waiters.push(t)},e.removeFromWaiting=function(t){void 0!==e.waiters&&(e.waiters=e.waiters.filter((function(e){return e!==t})))},e.notifyWaiters=function(){void 0!==e.waiters&&e.waiters.slice().forEach((function(e){return e()}))},e.prototype.releaseLock=function(e){return n(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,this.releaseLock__private__(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.releaseLock__private__=function(t){return n(this,void 0,void 0,(function(){var n,o,a;return r(this,(function(r){switch(r.label){case 0:return n=window.localStorage,o=i+"-"+t,null===(a=n.getItem(o))?[2]:(a=JSON.parse(a)).id!==this.id?[3,2]:[4,Ri.default().lock(a.iat)];case 1:r.sent(),this.acquiredIatSet.delete(a.iat),n.removeItem(o),Ri.default().unlock(a.iat),e.notifyWaiters(),r.label=2;case 2:return[2]}}))}))},e.lockCorrector=function(){for(var t=Date.now()-5e3,n=window.localStorage,r=Object.keys(n),o=!1,a=0;a<r.length;a++){var s=r[a];if(s.includes(i)){var l=n.getItem(s);null!==l&&(void 0===(l=JSON.parse(l)).timeRefreshed&&l.timeAcquired<t||void 0!==l.timeRefreshed&&l.timeRefreshed<t)&&(n.removeItem(s),o=!0)}}o&&e.notifyWaiters()},e.waiters=void 0,e}();t.default=s}))),Pi={timeoutInSeconds:60},Bi=["login_required","consent_required","interaction_required","account_selection_required","access_denied"],Fi={name:"auth0-spa-js",version:"1.16.1"},Ui=function(e){function t(n,r){var i=e.call(this,r)||this;return i.error=n,i.error_description=r,Object.setPrototypeOf(i,t.prototype),i}return p(t,e),t.fromPayload=function(e){return new t(e.error,e.error_description)},t}(Error),zi=function(e){function t(n,r,i,o){void 0===o&&(o=null);var a=e.call(this,n,r)||this;return a.state=i,a.appState=o,Object.setPrototypeOf(a,t.prototype),a}return p(t,e),t}(Ui),Vi=function(e){function t(){var n=e.call(this,"timeout","Timeout")||this;return Object.setPrototypeOf(n,t.prototype),n}return p(t,e),t}(Ui),Gi=function(e){function t(n){var r=e.call(this)||this;return r.popup=n,Object.setPrototypeOf(r,t.prototype),r}return p(t,e),t}(Vi),Hi=function(e){function t(n){var r=e.call(this,"cancelled","Popup closed")||this;return r.popup=n,Object.setPrototypeOf(r,t.prototype),r}return p(t,e),t}(Ui),Wi=function(e,t,n){return void 0===n&&(n=60),new Promise((function(r,i){var o=window.document.createElement("iframe");o.setAttribute("width","0"),o.setAttribute("height","0"),o.style.display="none";var a,s=function(){window.document.body.contains(o)&&(window.document.body.removeChild(o),window.removeEventListener("message",a,!1))},l=setTimeout((function(){i(new Vi),s()}),1e3*n);a=function(e){if(e.origin==t&&e.data&&"authorization_response"===e.data.type){var n=e.source;n&&n.close(),e.data.response.error?i(Ui.fromPayload(e.data.response)):r(e.data.response),clearTimeout(l),window.removeEventListener("message",a,!1),setTimeout(s,2e3)}},window.addEventListener("message",a,!1),window.document.body.appendChild(o),o.setAttribute("src",e)}))},Yi=function(e){return new Promise((function(t,n){var r,i=setInterval((function(){e.popup&&e.popup.closed&&(clearInterval(i),clearTimeout(o),window.removeEventListener("message",r,!1),n(new Hi(e.popup)))}),1e3),o=setTimeout((function(){clearInterval(i),n(new Gi(e.popup)),window.removeEventListener("message",r,!1)}),1e3*(e.timeoutInSeconds||60));r=function(a){if(a.data&&"authorization_response"===a.data.type){if(clearTimeout(o),clearInterval(i),window.removeEventListener("message",r,!1),e.popup.close(),a.data.response.error)return n(Ui.fromPayload(a.data.response));t(a.data.response)}},window.addEventListener("message",r)}))},Qi=function(){return window.crypto||window.msCrypto},Zi=function(){var e=Qi();return e.subtle||e.webkitSubtle},Xi=function(){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.",t="";return Array.from(Qi().getRandomValues(new Uint8Array(43))).forEach((function(n){return t+=e[n%e.length]})),t},Ji=function(e){return btoa(e)},qi=function(e){return Object.keys(e).filter((function(t){return void 0!==e[t]})).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")},Ki=function(e){return g(void 0,void 0,void 0,(function(){var t;return y(this,(function(n){switch(n.label){case 0:return t=Zi().digest({name:"SHA-256"},(new TextEncoder).encode(e)),window.msCrypto?[2,new Promise((function(e,n){t.oncomplete=function(t){e(t.target.result)},t.onerror=function(e){n(e.error)},t.onabort=function(){n("The digest operation was aborted")}}))]:[4,t];case 1:return[2,n.sent()]}}))}))},$i=function(e){return function(e){return decodeURIComponent(atob(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}(e.replace(/_/g,"/").replace(/-/g,"+"))},eo=function(e){var t=new Uint8Array(e);return function(e){var t={"+":"-","/":"_","=":""};return e.replace(/[+/=]/g,(function(e){return t[e]}))}(window.btoa(String.fromCharCode.apply(String,b(Array.from(t)))))},to=function(e,t){return g(void 0,void 0,void 0,(function(){var n,r;return y(this,(function(i){switch(i.label){case 0:return[4,(o=e,a=t,a=a||{},new Promise((function(e,t){var n=new XMLHttpRequest,r=[],i=[],s={},l=function(){return{ok:2==(n.status/100|0),statusText:n.statusText,status:n.status,url:n.responseURL,text:function(){return Promise.resolve(n.responseText)},json:function(){return Promise.resolve(n.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([n.response]))},clone:l,headers:{keys:function(){return r},entries:function(){return i},get:function(e){return s[e.toLowerCase()]},has:function(e){return e.toLowerCase()in s}}}};for(var c in n.open(a.method||"get",o,!0),n.onload=function(){n.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){r.push(t=t.toLowerCase()),i.push([t,n]),s[t]=s[t]?s[t]+","+n:n})),e(l())},n.onerror=t,n.withCredentials="include"==a.credentials,a.headers)n.setRequestHeader(c,a.headers[c]);n.send(a.body||null)})))];case 1:return n=i.sent(),r={ok:n.ok},[4,n.json()];case 2:return[2,(r.json=i.sent(),r)]}var o,a}))}))},no=function(e,t,n){return g(void 0,void 0,void 0,(function(){var r,i;return y(this,(function(o){return r=new AbortController,t.signal=r.signal,[2,Promise.race([to(e,t),new Promise((function(e,t){i=setTimeout((function(){r.abort(),t(new Error("Timeout when executing 'fetch'"))}),n)}))]).finally((function(){clearTimeout(i)}))]}))}))},ro=function(e,t,n,r,i,o){return g(void 0,void 0,void 0,(function(){return y(this,(function(a){return[2,(s={auth:{audience:t,scope:n},timeout:i,fetchUrl:e,fetchOptions:r},l=o,new Promise((function(e,t){var n=new MessageChannel;n.port1.onmessage=function(n){n.data.error?t(new Error(n.data.error)):e(n.data)},l.postMessage(s,[n.port2])})))];var s,l}))}))},io=function(e,t,n,r,i,o){return void 0===o&&(o=1e4),g(void 0,void 0,void 0,(function(){return y(this,(function(a){return i?[2,ro(e,t,n,r,o,i)]:[2,no(e,r,o)]}))}))};function oo(e,t,n,r,i,o){return g(this,void 0,void 0,(function(){var a,s,l,c,u,d,f,p;return y(this,(function(m){switch(m.label){case 0:a=null,l=0,m.label=1;case 1:if(!(l<3))return[3,6];m.label=2;case 2:return m.trys.push([2,4,,5]),[4,io(e,n,r,i,o,t)];case 3:return s=m.sent(),a=null,[3,6];case 4:return c=m.sent(),a=c,[3,5];case 5:return l++,[3,1];case 6:if(a)throw a.message=a.message||"Failed to fetch",a;if(u=s.json,d=u.error,f=u.error_description,p=h(u,["error","error_description"]),!s.ok)throw new Ui(d||"request_error",f||"HTTP error. Unable to fetch "+e);return[2,p]}}))}))}function ao(e,t){var n=e.baseUrl,r=e.timeout,i=e.audience,o=e.scope,a=e.auth0Client,s=h(e,["baseUrl","timeout","audience","scope","auth0Client"]);return g(this,void 0,void 0,(function(){return y(this,(function(e){switch(e.label){case 0:return[4,oo(n+"/oauth/token",r,i||"default",o,{method:"POST",body:JSON.stringify(s),headers:{"Content-type":"application/json","Auth0-Client":btoa(JSON.stringify(a||Fi))}},t)];case 1:return[2,e.sent()]}}))}))}var so=function(e){return Array.from(new Set(e))},lo=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return so(e.join(" ").trim().split(/\s+/)).join(" ")},co=function(){function e(e,t){void 0===t&&(t="@@auth0spajs@@"),this.prefix=t,this.client_id=e.client_id,this.scope=e.scope,this.audience=e.audience}return e.prototype.toKey=function(){return this.prefix+"::"+this.client_id+"::"+this.audience+"::"+this.scope},e.fromKey=function(t){var n=v(t.split("::"),4),r=n[0],i=n[1],o=n[2];return new e({client_id:i,scope:n[3],audience:o},r)},e.fromCacheEntry=function(t){return new e({scope:t.scope,audience:t.audience,client_id:t.client_id})},e}(),uo=function(){function e(){}return e.prototype.set=function(e,t){localStorage.setItem(e,JSON.stringify(t))},e.prototype.get=function(e){var t=window.localStorage.getItem(e);if(t)try{return JSON.parse(t)}catch(e){return}},e.prototype.remove=function(e){localStorage.removeItem(e)},e.prototype.allKeys=function(){return Object.keys(window.localStorage).filter((function(e){return e.startsWith("@@auth0spajs@@")}))},e}(),fo=function(){this.enclosedCache=function(){var e={};return{set:function(t,n){e[t]=n},get:function(t){var n=e[t];if(n)return n},remove:function(t){delete e[t]},allKeys:function(){return Object.keys(e)}}}()},po=function(){function e(e,t){this.cache=e,this.clientId=t,this.manifestKey=this.createManifestKeyFrom(t)}return e.prototype.add=function(e){var t;return g(this,void 0,void 0,(function(){var n,r;return y(this,(function(i){switch(i.label){case 0:return r=Set.bind,[4,this.cache.get(this.manifestKey)];case 1:return(n=new(r.apply(Set,[void 0,(null===(t=i.sent())||void 0===t?void 0:t.keys)||[]]))).add(e),[4,this.cache.set(this.manifestKey,{keys:b(n)})];case 2:return i.sent(),[2]}}))}))},e.prototype.remove=function(e){return g(this,void 0,void 0,(function(){var t,n;return y(this,(function(r){switch(r.label){case 0:return[4,this.cache.get(this.manifestKey)];case 1:return(t=r.sent())?((n=new Set(t.keys)).delete(e),n.size>0?[4,this.cache.set(this.manifestKey,{keys:b(n)})]:[3,3]):[3,5];case 2:return[2,r.sent()];case 3:return[4,this.cache.remove(this.manifestKey)];case 4:return[2,r.sent()];case 5:return[2]}}))}))},e.prototype.get=function(){return this.cache.get(this.manifestKey)},e.prototype.clear=function(){return this.cache.remove(this.manifestKey)},e.prototype.createManifestKeyFrom=function(e){return"@@auth0spajs@@::"+e},e}(),mo=function(){function e(e,t){this.cache=e,e.allKeys||(this.keyManifest=new po(this.cache,t))}return e.prototype.get=function(e,t){var n;return void 0===t&&(t=0),g(this,void 0,void 0,(function(){var r,i,o,a;return y(this,(function(s){switch(s.label){case 0:return[4,this.cache.get(e.toKey())];case 1:return(r=s.sent())?[3,4]:[4,this.getCacheKeys()];case 2:return(i=s.sent())?(o=this.matchExistingCacheKey(e,i),[4,this.cache.get(o)]):[2];case 3:r=s.sent(),s.label=4;case 4:return r?(a=Math.floor(Date.now()/1e3),r.expiresAt-t<a?r.body.refresh_token?(r.body={refresh_token:r.body.refresh_token},[4,this.cache.set(e.toKey(),r)]):[3,6]:[3,9]):[2];case 5:return s.sent(),[2,r.body];case 6:return[4,this.cache.remove(e.toKey())];case 7:return s.sent(),[4,null===(n=this.keyManifest)||void 0===n?void 0:n.remove(e.toKey())];case 8:return s.sent(),[2];case 9:return[2,r.body]}}))}))},e.prototype.set=function(e){var t;return g(this,void 0,void 0,(function(){var n,r;return y(this,(function(i){switch(i.label){case 0:return n=new co({client_id:e.client_id,scope:e.scope,audience:e.audience}),r=this.wrapCacheEntry(e),[4,this.cache.set(n.toKey(),r)];case 1:return i.sent(),[4,null===(t=this.keyManifest)||void 0===t?void 0:t.add(n.toKey())];case 2:return i.sent(),[2]}}))}))},e.prototype.clear=function(){var e;return g(this,void 0,void 0,(function(){var t,n=this;return y(this,(function(r){switch(r.label){case 0:return[4,this.getCacheKeys()];case 1:return(t=r.sent())?(t.forEach((function(e){return g(n,void 0,void 0,(function(){return y(this,(function(t){switch(t.label){case 0:return[4,this.cache.remove(e)];case 1:return t.sent(),[2]}}))}))})),[4,null===(e=this.keyManifest)||void 0===e?void 0:e.clear()]):[2];case 2:return r.sent(),[2]}}))}))},e.prototype.clearSync=function(){var e=this,t=this.cache.allKeys();t&&t.forEach((function(t){e.cache.remove(t)}))},e.prototype.wrapCacheEntry=function(e){var t=Math.floor(Date.now()/1e3)+e.expires_in;return{body:e,expiresAt:Math.min(t,e.decodedToken.claims.exp)}},e.prototype.getCacheKeys=function(){var e;return g(this,void 0,void 0,(function(){var t;return y(this,(function(n){switch(n.label){case 0:return this.keyManifest?[4,this.keyManifest.get()]:[3,2];case 1:return t=null===(e=n.sent())||void 0===e?void 0:e.keys,[3,4];case 2:return[4,this.cache.allKeys()];case 3:t=n.sent(),n.label=4;case 4:return[2,t]}}))}))},e.prototype.matchExistingCacheKey=function(e,t){return t.filter((function(t){var n=co.fromKey(t),r=new Set(n.scope&&n.scope.split(" ")),i=e.scope.split(" "),o=n.scope&&i.reduce((function(e,t){return e&&r.has(t)}),!0);return"@@auth0spajs@@"===n.prefix&&n.client_id===e.client_id&&n.audience===e.audience&&o}))[0]},e}(),ho=function(){function e(e){this.storage=e,this.transaction=this.storage.get("a0.spajs.txs")}return e.prototype.create=function(e){this.transaction=e,this.storage.save("a0.spajs.txs",e,{daysUntilExpire:1})},e.prototype.get=function(){return this.transaction},e.prototype.remove=function(){delete this.transaction,this.storage.remove("a0.spajs.txs")},e}(),go=function(e){return"number"==typeof e},yo=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],vo=E((function(e,t){var n=w&&w.__assign||function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function r(e,t){if(!t)return"";var n="; "+e;return!0===t?n:n+"="+t}function i(e,t,n){return encodeURIComponent(e).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(t).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(e){if("number"==typeof e.expires){var t=new Date;t.setMilliseconds(t.getMilliseconds()+864e5*e.expires),e.expires=t}return r("Expires",e.expires?e.expires.toUTCString():"")+r("Domain",e.domain)+r("Path",e.path)+r("Secure",e.secure)+r("SameSite",e.sameSite)}(n)}function o(e){for(var t={},n=e?e.split("; "):[],r=/(%[\dA-F]{2})+/gi,i=0;i<n.length;i++){var o=n[i].split("="),a=o.slice(1).join("=");'"'===a.charAt(0)&&(a=a.slice(1,-1));try{t[o[0].replace(r,decodeURIComponent)]=a.replace(r,decodeURIComponent)}catch(e){}}return t}function a(){return o(document.cookie)}function s(e,t,r){document.cookie=i(e,t,n({path:"/"},r))}t.__esModule=!0,t.encode=i,t.parse=o,t.getAll=a,t.get=function(e){return a()[e]},t.set=s,t.remove=function(e,t){s(e,"",n(n({},t),{expires:-1}))}}));x(vo),vo.encode,vo.parse,vo.getAll;var bo=vo.get,wo=vo.set,xo=vo.remove,Eo={get:function(e){var t=bo(e);if(void 0!==t)return JSON.parse(t)},save:function(e,t,n){var r={};"https:"===window.location.protocol&&(r={secure:!0,sameSite:"none"}),r.expires=n.daysUntilExpire,wo(e,JSON.stringify(t),r)},remove:function(e){xo(e)}},_o={get:function(e){return Eo.get(e)||Eo.get("_legacy_"+e)},save:function(e,t,n){var r={};"https:"===window.location.protocol&&(r={secure:!0}),r.expires=n.daysUntilExpire,wo("_legacy_"+e,JSON.stringify(t),r),Eo.save(e,t,n)},remove:function(e){Eo.remove(e),Eo.remove("_legacy_"+e)}},Ao={get:function(e){if("undefined"!=typeof sessionStorage){var t=sessionStorage.getItem(e);if(void 0!==t)return JSON.parse(t)}},save:function(e,t){sessionStorage.setItem(e,JSON.stringify(t))},remove:function(e){sessionStorage.removeItem(e)}};var Oo,So=("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Ci8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogICAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAgICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsgeW91IG1heSBub3QgdXNlCiAgICB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZQogICAgTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCiAgICBUSElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZCiAgICBLSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVECiAgICBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLAogICAgTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC4KCiAgICBTZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMKICAgIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovdmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4oZT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHIsdD0xLG49YXJndW1lbnRzLmxlbmd0aDt0PG47dCsrKWZvcih2YXIgbyBpbiByPWFyZ3VtZW50c1t0XSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixvKSYmKGVbb109cltvXSk7cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIHIoZSxyKXt2YXIgdCxuLG8scyxhPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJm9bMF0pdGhyb3cgb1sxXTtyZXR1cm4gb1sxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBzPXtuZXh0OmkoMCksdGhyb3c6aSgxKSxyZXR1cm46aSgyKX0sImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKHNbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSkscztmdW5jdGlvbiBpKHMpe3JldHVybiBmdW5jdGlvbihpKXtyZXR1cm4gZnVuY3Rpb24ocyl7aWYodCl0aHJvdyBuZXcgVHlwZUVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuIik7Zm9yKDthOyl0cnl7aWYodD0xLG4mJihvPTImc1swXT9uLnJldHVybjpzWzBdP24udGhyb3d8fCgobz1uLnJldHVybikmJm8uY2FsbChuKSwwKTpuLm5leHQpJiYhKG89by5jYWxsKG4sc1sxXSkpLmRvbmUpcmV0dXJuIG87c3dpdGNoKG49MCxvJiYocz1bMiZzWzBdLG8udmFsdWVdKSxzWzBdKXtjYXNlIDA6Y2FzZSAxOm89czticmVhaztjYXNlIDQ6cmV0dXJuIGEubGFiZWwrKyx7dmFsdWU6c1sxXSxkb25lOiExfTtjYXNlIDU6YS5sYWJlbCsrLG49c1sxXSxzPVswXTtjb250aW51ZTtjYXNlIDc6cz1hLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG89YS50cnlzLChvPW8ubGVuZ3RoPjAmJm9bby5sZW5ndGgtMV0pfHw2IT09c1swXSYmMiE9PXNbMF0pKXthPTA7Y29udGludWV9aWYoMz09PXNbMF0mJighb3x8c1sxXT5vWzBdJiZzWzFdPG9bM10pKXthLmxhYmVsPXNbMV07YnJlYWt9aWYoNj09PXNbMF0mJmEubGFiZWw8b1sxXSl7YS5sYWJlbD1vWzFdLG89czticmVha31pZihvJiZhLmxhYmVsPG9bMl0pe2EubGFiZWw9b1syXSxhLm9wcy5wdXNoKHMpO2JyZWFrfW9bMl0mJmEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZX1zPXIuY2FsbChlLGEpfWNhdGNoKGUpe3M9WzYsZV0sbj0wfWZpbmFsbHl7dD1vPTB9aWYoNSZzWzBdKXRocm93IHNbMV07cmV0dXJue3ZhbHVlOnNbMF0/c1sxXTp2b2lkIDAsZG9uZTohMH19KFtzLGldKX19fXZhciB0PXt9LG49ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZSsifCIrcn07YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGZ1bmN0aW9uKG8pe3ZhciBzLGEsaSx1LGM9by5kYXRhLGw9Yy50aW1lb3V0LGY9Yy5hdXRoLGg9Yy5mZXRjaFVybCxwPWMuZmV0Y2hPcHRpb25zLHk9ZnVuY3Rpb24oZSxyKXt2YXIgdD0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl07aWYoIXQpcmV0dXJuIGU7dmFyIG4sbyxzPXQuY2FsbChlKSxhPVtdO3RyeXtmb3IoOyh2b2lkIDA9PT1yfHxyLS0gPjApJiYhKG49cy5uZXh0KCkpLmRvbmU7KWEucHVzaChuLnZhbHVlKX1jYXRjaChlKXtvPXtlcnJvcjplfX1maW5hbGx5e3RyeXtuJiYhbi5kb25lJiYodD1zLnJldHVybikmJnQuY2FsbChzKX1maW5hbGx5e2lmKG8pdGhyb3cgby5lcnJvcn19cmV0dXJuIGF9KG8ucG9ydHMsMSlbMF07cmV0dXJuIHM9dm9pZCAwLGE9dm9pZCAwLHU9ZnVuY3Rpb24oKXt2YXIgbyxzLGEsaSx1LGMsYixkLHYsdztyZXR1cm4gcih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOmE9KHM9Znx8e30pLmF1ZGllbmNlLGk9cy5zY29wZSxyLmxhYmVsPTE7Y2FzZSAxOmlmKHIudHJ5cy5wdXNoKFsxLDcsLDhdKSwhKHU9SlNPTi5wYXJzZShwLmJvZHkpKS5yZWZyZXNoX3Rva2VuJiYicmVmcmVzaF90b2tlbiI9PT11LmdyYW50X3R5cGUpe2lmKCEoYz1mdW5jdGlvbihlLHIpe3JldHVybiB0W24oZSxyKV19KGEsaSkpKXRocm93IG5ldyBFcnJvcigiVGhlIHdlYiB3b3JrZXIgaXMgbWlzc2luZyB0aGUgcmVmcmVzaCB0b2tlbiIpO3AuYm9keT1KU09OLnN0cmluZ2lmeShlKGUoe30sdSkse3JlZnJlc2hfdG9rZW46Y30pKX1iPXZvaWQgMCwiZnVuY3Rpb24iPT10eXBlb2YgQWJvcnRDb250cm9sbGVyJiYoYj1uZXcgQWJvcnRDb250cm9sbGVyLHAuc2lnbmFsPWIuc2lnbmFsKSxkPXZvaWQgMCxyLmxhYmVsPTI7Y2FzZSAyOnJldHVybiByLnRyeXMucHVzaChbMiw0LCw1XSksWzQsUHJvbWlzZS5yYWNlKFsoZz1sLG5ldyBQcm9taXNlKChmdW5jdGlvbihlKXtyZXR1cm4gc2V0VGltZW91dChlLGcpfSkpKSxmZXRjaChoLGUoe30scCkpXSldO2Nhc2UgMzpyZXR1cm4gZD1yLnNlbnQoKSxbMyw1XTtjYXNlIDQ6cmV0dXJuIHY9ci5zZW50KCkseS5wb3N0TWVzc2FnZSh7ZXJyb3I6di5tZXNzYWdlfSksWzJdO2Nhc2UgNTpyZXR1cm4gZD9bNCxkLmpzb24oKV06KGImJmIuYWJvcnQoKSx5LnBvc3RNZXNzYWdlKHtlcnJvcjoiVGltZW91dCB3aGVuIGV4ZWN1dGluZyAnZmV0Y2gnIn0pLFsyXSk7Y2FzZSA2OnJldHVybihvPXIuc2VudCgpKS5yZWZyZXNoX3Rva2VuPyhmdW5jdGlvbihlLHIsbyl7dFtuKHIsbyldPWV9KG8ucmVmcmVzaF90b2tlbixhLGkpLGRlbGV0ZSBvLnJlZnJlc2hfdG9rZW4pOmZ1bmN0aW9uKGUscil7ZGVsZXRlIHRbbihlLHIpXX0oYSxpKSx5LnBvc3RNZXNzYWdlKHtvazpkLm9rLGpzb246b30pLFszLDhdO2Nhc2UgNzpyZXR1cm4gdz1yLnNlbnQoKSx5LnBvc3RNZXNzYWdlKHtvazohMSxqc29uOntlcnJvcl9kZXNjcmlwdGlvbjp3Lm1lc3NhZ2V9fSksWzMsOF07Y2FzZSA4OnJldHVyblsyXX12YXIgZ30pKX0sbmV3KChpPXZvaWQgMCl8fChpPVByb21pc2UpKSgoZnVuY3Rpb24oZSxyKXtmdW5jdGlvbiB0KGUpe3RyeXtvKHUubmV4dChlKSl9Y2F0Y2goZSl7cihlKX19ZnVuY3Rpb24gbihlKXt0cnl7byh1LnRocm93KGUpKX1jYXRjaChlKXtyKGUpfX1mdW5jdGlvbiBvKHIpe3IuZG9uZT9lKHIudmFsdWUpOm5ldyBpKChmdW5jdGlvbihlKXtlKHIudmFsdWUpfSkpLnRoZW4odCxuKX1vKCh1PXUuYXBwbHkocyxhfHxbXSkpLm5leHQoKSl9KSl9KSl9KCk7Cgo=","data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9rZW4ud29ya2VyLmpzIiwic291cmNlcyI6WyJ3b3JrZXI6Ly93ZWItd29ya2VyL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL3NyYy9jb25zdGFudHMudHMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL3NyYy93b3JrZXIvdG9rZW4ud29ya2VyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHJlc3VsdC52YWx1ZSk7IH0pLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XHJcbiAgICByZXN1bHQuZGVmYXVsdCA9IG1vZDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcbiIsImltcG9ydCB7IFBvcHVwQ29uZmlnT3B0aW9ucyB9IGZyb20gJy4vZ2xvYmFsJztcbmltcG9ydCB2ZXJzaW9uIGZyb20gJy4vdmVyc2lvbic7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9BVVRIT1JJWkVfVElNRU9VVF9JTl9TRUNPTkRTID0gNjA7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9QT1BVUF9DT05GSUdfT1BUSU9OUzogUG9wdXBDb25maWdPcHRpb25zID0ge1xuICB0aW1lb3V0SW5TZWNvbmRzOiBERUZBVUxUX0FVVEhPUklaRV9USU1FT1VUX0lOX1NFQ09ORFNcbn07XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9TSUxFTlRfVE9LRU5fUkVUUllfQ09VTlQgPSAzO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IENMRUFOVVBfSUZSQU1FX1RJTUVPVVRfSU5fU0VDT05EUyA9IDI7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9GRVRDSF9USU1FT1VUX01TID0gMTAwMDA7XG5cbmV4cG9ydCBjb25zdCBDQUNIRV9MT0NBVElPTl9NRU1PUlkgPSAnbWVtb3J5JztcbmV4cG9ydCBjb25zdCBDQUNIRV9MT0NBVElPTl9MT0NBTF9TVE9SQUdFID0gJ2xvY2Fsc3RvcmFnZSc7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgTUlTU0lOR19SRUZSRVNIX1RPS0VOX0VSUk9SX01FU1NBR0UgPVxuICAnVGhlIHdlYiB3b3JrZXIgaXMgbWlzc2luZyB0aGUgcmVmcmVzaCB0b2tlbic7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgSU5WQUxJRF9SRUZSRVNIX1RPS0VOX0VSUk9SX01FU1NBR0UgPSAnaW52YWxpZCByZWZyZXNoIHRva2VuJztcblxuLyoqXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBjb25zdCBERUZBVUxUX1NDT1BFID0gJ29wZW5pZCBwcm9maWxlIGVtYWlsJztcblxuLyoqXG4gKiBBIGxpc3Qgb2YgZXJyb3JzIHRoYXQgY2FuIGJlIGlzc3VlZCBieSB0aGUgYXV0aG9yaXphdGlvbiBzZXJ2ZXIgd2hpY2ggdGhlXG4gKiB1c2VyIGNhbiByZWNvdmVyIGZyb20gYnkgc2lnbmluZyBpbiBpbnRlcmFjdGl2ZWx5LlxuICogaHR0cHM6Ly9vcGVuaWQubmV0L3NwZWNzL29wZW5pZC1jb25uZWN0LWNvcmUtMV8wLmh0bWwjQXV0aEVycm9yXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBjb25zdCBSRUNPVkVSQUJMRV9FUlJPUlMgPSBbXG4gICdsb2dpbl9yZXF1aXJlZCcsXG4gICdjb25zZW50X3JlcXVpcmVkJyxcbiAgJ2ludGVyYWN0aW9uX3JlcXVpcmVkJyxcbiAgJ2FjY291bnRfc2VsZWN0aW9uX3JlcXVpcmVkJyxcbiAgLy8gU3RyaWN0bHkgc3BlYWtpbmcgdGhlIHVzZXIgY2FuJ3QgcmVjb3ZlciBmcm9tIGBhY2Nlc3NfZGVuaWVkYCAtIGJ1dCB0aGV5XG4gIC8vIGNhbiBnZXQgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCB0aGVpciBhY2Nlc3MgYmVpbmcgZGVuaWVkIGJ5IGxvZ2dpbmcgaW5cbiAgLy8gaW50ZXJhY3RpdmVseS5cbiAgJ2FjY2Vzc19kZW5pZWQnXG5dO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0VTU0lPTl9DSEVDS19FWFBJUllfREFZUyA9IDE7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9BVVRIMF9DTElFTlQgPSB7XG4gIG5hbWU6ICdhdXRoMC1zcGEtanMnLFxuICB2ZXJzaW9uOiB2ZXJzaW9uXG59O1xuIiwiaW1wb3J0IHsgTUlTU0lOR19SRUZSRVNIX1RPS0VOX0VSUk9SX01FU1NBR0UgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgV29ya2VyUmVmcmVzaFRva2VuTWVzc2FnZSB9IGZyb20gJy4vd29ya2VyLnR5cGVzJztcblxubGV0IHJlZnJlc2hUb2tlbnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcblxuY29uc3QgY2FjaGVLZXkgPSAoYXVkaWVuY2U6IHN0cmluZywgc2NvcGU6IHN0cmluZykgPT4gYCR7YXVkaWVuY2V9fCR7c2NvcGV9YDtcblxuY29uc3QgZ2V0UmVmcmVzaFRva2VuID0gKGF1ZGllbmNlOiBzdHJpbmcsIHNjb3BlOiBzdHJpbmcpID0+XG4gIHJlZnJlc2hUb2tlbnNbY2FjaGVLZXkoYXVkaWVuY2UsIHNjb3BlKV07XG5cbmNvbnN0IHNldFJlZnJlc2hUb2tlbiA9IChcbiAgcmVmcmVzaFRva2VuOiBzdHJpbmcsXG4gIGF1ZGllbmNlOiBzdHJpbmcsXG4gIHNjb3BlOiBzdHJpbmdcbikgPT4gKHJlZnJlc2hUb2tlbnNbY2FjaGVLZXkoYXVkaWVuY2UsIHNjb3BlKV0gPSByZWZyZXNoVG9rZW4pO1xuXG5jb25zdCBkZWxldGVSZWZyZXNoVG9rZW4gPSAoYXVkaWVuY2U6IHN0cmluZywgc2NvcGU6IHN0cmluZykgPT5cbiAgZGVsZXRlIHJlZnJlc2hUb2tlbnNbY2FjaGVLZXkoYXVkaWVuY2UsIHNjb3BlKV07XG5cbmNvbnN0IHdhaXQgPSAodGltZTogbnVtYmVyKSA9PlxuICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgdGltZSkpO1xuXG5jb25zdCBtZXNzYWdlSGFuZGxlciA9IGFzeW5jICh7XG4gIGRhdGE6IHsgdGltZW91dCwgYXV0aCwgZmV0Y2hVcmwsIGZldGNoT3B0aW9ucyB9LFxuICBwb3J0czogW3BvcnRdXG59OiBNZXNzYWdlRXZlbnQ8V29ya2VyUmVmcmVzaFRva2VuTWVzc2FnZT4pID0+IHtcbiAgbGV0IGpzb246IHtcbiAgICByZWZyZXNoX3Rva2VuPzogc3RyaW5nO1xuICB9O1xuXG4gIGNvbnN0IHsgYXVkaWVuY2UsIHNjb3BlIH0gPSBhdXRoIHx8IHt9O1xuXG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IEpTT04ucGFyc2UoZmV0Y2hPcHRpb25zLmJvZHkpO1xuXG4gICAgaWYgKCFib2R5LnJlZnJlc2hfdG9rZW4gJiYgYm9keS5ncmFudF90eXBlID09PSAncmVmcmVzaF90b2tlbicpIHtcbiAgICAgIGNvbnN0IHJlZnJlc2hUb2tlbiA9IGdldFJlZnJlc2hUb2tlbihhdWRpZW5jZSwgc2NvcGUpO1xuXG4gICAgICBpZiAoIXJlZnJlc2hUb2tlbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTUlTU0lOR19SRUZSRVNIX1RPS0VOX0VSUk9SX01FU1NBR0UpO1xuICAgICAgfVxuXG4gICAgICBmZXRjaE9wdGlvbnMuYm9keSA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgLi4uYm9keSxcbiAgICAgICAgcmVmcmVzaF90b2tlbjogcmVmcmVzaFRva2VuXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBsZXQgYWJvcnRDb250cm9sbGVyOiBBYm9ydENvbnRyb2xsZXI7XG5cbiAgICBpZiAodHlwZW9mIEFib3J0Q29udHJvbGxlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgZmV0Y2hPcHRpb25zLnNpZ25hbCA9IGFib3J0Q29udHJvbGxlci5zaWduYWw7XG4gICAgfVxuXG4gICAgbGV0IHJlc3BvbnNlOiBhbnk7XG5cbiAgICB0cnkge1xuICAgICAgcmVzcG9uc2UgPSBhd2FpdCBQcm9taXNlLnJhY2UoW1xuICAgICAgICB3YWl0KHRpbWVvdXQpLFxuICAgICAgICBmZXRjaChmZXRjaFVybCwgeyAuLi5mZXRjaE9wdGlvbnMgfSlcbiAgICAgIF0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyBmZXRjaCBlcnJvciwgcmVqZWN0IGBzZW5kTWVzc2FnZWAgdXNpbmcgYGVycm9yYCBrZXkgc28gdGhhdCB3ZSByZXRyeS5cbiAgICAgIHBvcnQucG9zdE1lc3NhZ2Uoe1xuICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXJlc3BvbnNlKSB7XG4gICAgICAvLyBJZiB0aGUgcmVxdWVzdCB0aW1lcyBvdXQsIGFib3J0IGl0IGFuZCBsZXQgYHN3aXRjaEZldGNoYCByYWlzZSB0aGUgZXJyb3IuXG4gICAgICBpZiAoYWJvcnRDb250cm9sbGVyKSBhYm9ydENvbnRyb2xsZXIuYWJvcnQoKTtcblxuICAgICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICAgIGVycm9yOiBcIlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJ1wiXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICBpZiAoanNvbi5yZWZyZXNoX3Rva2VuKSB7XG4gICAgICBzZXRSZWZyZXNoVG9rZW4oanNvbi5yZWZyZXNoX3Rva2VuLCBhdWRpZW5jZSwgc2NvcGUpO1xuICAgICAgZGVsZXRlIGpzb24ucmVmcmVzaF90b2tlbjtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlUmVmcmVzaFRva2VuKGF1ZGllbmNlLCBzY29wZSk7XG4gICAgfVxuXG4gICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICBvazogcmVzcG9uc2Uub2ssXG4gICAgICBqc29uXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICBvazogZmFsc2UsXG4gICAgICBqc29uOiB7XG4gICAgICAgIGVycm9yX2Rlc2NyaXB0aW9uOiBlcnJvci5tZXNzYWdlXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIERvbid0IHJ1biBgYWRkRXZlbnRMaXN0ZW5lcmAgaW4gb3VyIHRlc3RzICh0aGlzIGlzIHJlcGxhY2VkIGluIHJvbGx1cClcbi8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICAqL1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAndGVzdCcpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSB7IG1lc3NhZ2VIYW5kbGVyIH07XG59IGVsc2Uge1xuICAvLyBAdHMtaWdub3JlXG4gIGFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBtZXNzYWdlSGFuZGxlcik7XG59XG4iXSwibmFtZXMiOlsiX19hc3NpZ24iLCJPYmplY3QiLCJhc3NpZ24iLCJ0IiwicyIsImkiLCJuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwicCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImFwcGx5IiwidGhpcyIsIl9fZ2VuZXJhdG9yIiwidGhpc0FyZyIsImJvZHkiLCJmIiwieSIsImciLCJfIiwibGFiZWwiLCJzZW50IiwidHJ5cyIsIm9wcyIsIm5leHQiLCJ2ZXJiIiwidGhyb3ciLCJyZXR1cm4iLCJTeW1ib2wiLCJpdGVyYXRvciIsInYiLCJvcCIsIlR5cGVFcnJvciIsImRvbmUiLCJ2YWx1ZSIsInBvcCIsInB1c2giLCJlIiwic3RlcCIsInJlZnJlc2hUb2tlbnMiLCJjYWNoZUtleSIsImF1ZGllbmNlIiwic2NvcGUiLCJhZGRFdmVudExpc3RlbmVyIiwiX2EiLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsIl9iIiwidGltZW91dCIsImF1dGgiLCJmZXRjaFVybCIsImZldGNoT3B0aW9ucyIsInBvcnQiLCJvIiwibSIsInIiLCJhciIsImVycm9yIiwiX19yZWFkIiwiX2QiLCJKU09OIiwicGFyc2UiLCJyZWZyZXNoX3Rva2VuIiwiZ3JhbnRfdHlwZSIsInJlZnJlc2hUb2tlbiIsImdldFJlZnJlc2hUb2tlbiIsIkVycm9yIiwic3RyaW5naWZ5IiwiYWJvcnRDb250cm9sbGVyIiwiQWJvcnRDb250cm9sbGVyIiwic2lnbmFsIiwicmVzcG9uc2UiLCJQcm9taXNlIiwicmFjZSIsInRpbWUiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsImZldGNoIiwiX2UiLCJwb3N0TWVzc2FnZSIsImVycm9yXzEiLCJtZXNzYWdlIiwianNvbiIsImFib3J0Iiwic2V0UmVmcmVzaFRva2VuIiwiZGVsZXRlUmVmcmVzaFRva2VuIiwib2siLCJlcnJvcl9kZXNjcmlwdGlvbiIsImVycm9yXzIiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJyZWplY3RlZCIsInJlc3VsdCIsInRoZW4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O29GQTZCTyxJQUFJQSxFQUFXLFdBUWxCLE9BUEFBLEVBQVdDLE9BQU9DLFFBQVUsU0FBa0JDLEdBQzFDLElBQUssSUFBSUMsRUFBR0MsRUFBSSxFQUFHQyxFQUFJQyxVQUFVQyxPQUFRSCxFQUFJQyxFQUFHRCxJQUU1QyxJQUFLLElBQUlJLEtBRFRMLEVBQUlHLFVBQVVGLEdBQ09KLE9BQU9TLFVBQVVDLGVBQWVDLEtBQUtSLEVBQUdLLEtBQUlOLEVBQUVNLEdBQUtMLEVBQUVLLElBRTlFLE9BQU9OLElBRUtVLE1BQU1DLEtBQU1QLFlBdUN6QixTQUFTUSxFQUFZQyxFQUFTQyxHQUNqQyxJQUFzR0MsRUFBR0MsRUFBR2hCLEVBQUdpQixFQUEzR0MsRUFBSSxDQUFFQyxNQUFPLEVBQUdDLEtBQU0sV0FBYSxHQUFXLEVBQVBwQixFQUFFLEdBQVEsTUFBTUEsRUFBRSxHQUFJLE9BQU9BLEVBQUUsSUFBT3FCLEtBQU0sR0FBSUMsSUFBSyxJQUNoRyxPQUFPTCxFQUFJLENBQUVNLEtBQU1DLEVBQUssR0FBSUMsTUFBU0QsRUFBSyxHQUFJRSxPQUFVRixFQUFLLElBQXdCLG1CQUFYRyxTQUEwQlYsRUFBRVUsT0FBT0MsVUFBWSxXQUFhLE9BQU9qQixPQUFVTSxFQUN2SixTQUFTTyxFQUFLckIsR0FBSyxPQUFPLFNBQVUwQixHQUFLLE9BQ3pDLFNBQWNDLEdBQ1YsR0FBSWYsRUFBRyxNQUFNLElBQUlnQixVQUFVLG1DQUMzQixLQUFPYixPQUNILEdBQUlILEVBQUksRUFBR0MsSUFBTWhCLEVBQVksRUFBUjhCLEVBQUcsR0FBU2QsRUFBVSxPQUFJYyxFQUFHLEdBQUtkLEVBQVMsU0FBT2hCLEVBQUlnQixFQUFVLFNBQU1oQixFQUFFUyxLQUFLTyxHQUFJLEdBQUtBLEVBQUVPLFNBQVd2QixFQUFJQSxFQUFFUyxLQUFLTyxFQUFHYyxFQUFHLEtBQUtFLEtBQU0sT0FBT2hDLEVBRTNKLE9BRElnQixFQUFJLEVBQUdoQixJQUFHOEIsRUFBSyxDQUFTLEVBQVJBLEVBQUcsR0FBUTlCLEVBQUVpQyxRQUN6QkgsRUFBRyxJQUNQLEtBQUssRUFBRyxLQUFLLEVBQUc5QixFQUFJOEIsRUFBSSxNQUN4QixLQUFLLEVBQWMsT0FBWFosRUFBRUMsUUFBZ0IsQ0FBRWMsTUFBT0gsRUFBRyxHQUFJRSxNQUFNLEdBQ2hELEtBQUssRUFBR2QsRUFBRUMsUUFBU0gsRUFBSWMsRUFBRyxHQUFJQSxFQUFLLENBQUMsR0FBSSxTQUN4QyxLQUFLLEVBQUdBLEVBQUtaLEVBQUVJLElBQUlZLE1BQU9oQixFQUFFRyxLQUFLYSxNQUFPLFNBQ3hDLFFBQ0ksS0FBTWxDLEVBQUlrQixFQUFFRyxNQUFNckIsRUFBSUEsRUFBRUssT0FBUyxHQUFLTCxFQUFFQSxFQUFFSyxPQUFTLEtBQWtCLElBQVZ5QixFQUFHLElBQXNCLElBQVZBLEVBQUcsSUFBVyxDQUFFWixFQUFJLEVBQUcsU0FDakcsR0FBYyxJQUFWWSxFQUFHLE1BQWM5QixHQUFNOEIsRUFBRyxHQUFLOUIsRUFBRSxJQUFNOEIsRUFBRyxHQUFLOUIsRUFBRSxJQUFNLENBQUVrQixFQUFFQyxNQUFRVyxFQUFHLEdBQUksTUFDOUUsR0FBYyxJQUFWQSxFQUFHLElBQVlaLEVBQUVDLE1BQVFuQixFQUFFLEdBQUksQ0FBRWtCLEVBQUVDLE1BQVFuQixFQUFFLEdBQUlBLEVBQUk4QixFQUFJLE1BQzdELEdBQUk5QixHQUFLa0IsRUFBRUMsTUFBUW5CLEVBQUUsR0FBSSxDQUFFa0IsRUFBRUMsTUFBUW5CLEVBQUUsR0FBSWtCLEVBQUVJLElBQUlhLEtBQUtMLEdBQUssTUFDdkQ5QixFQUFFLElBQUlrQixFQUFFSSxJQUFJWSxNQUNoQmhCLEVBQUVHLEtBQUthLE1BQU8sU0FFdEJKLEVBQUtoQixFQUFLTCxLQUFLSSxFQUFTSyxHQUMxQixNQUFPa0IsR0FBS04sRUFBSyxDQUFDLEVBQUdNLEdBQUlwQixFQUFJLFVBQWVELEVBQUlmLEVBQUksRUFDdEQsR0FBWSxFQUFSOEIsRUFBRyxHQUFRLE1BQU1BLEVBQUcsR0FBSSxNQUFPLENBQUVHLE1BQU9ILEVBQUcsR0FBS0EsRUFBRyxRQUFLLEVBQVFFLE1BQU0sR0FyQjlCSyxDQUFLLENBQUNsQyxFQUFHMEIsTUMzQ3RELElDakNIUyxFQUF3QyxHQUV0Q0MsRUFBVyxTQUFDQyxFQUFrQkMsR0FBa0IsT0FBR0QsTUFBWUMsR0EwR25FQyxpQkFBaUIsV0F6RkksU0FBT0MsT0Y2Q0o5QixFQUFTK0IsRUFBWUMsRUFBR0MsRUU1Q2hEQyxTQUFRQyxZQUFTQyxTQUFNQyxhQUFVQyxpQkFDekJDLEVGK0ZILFNBQWdCQyxFQUFHbEQsR0FDdEIsSUFBSW1ELEVBQXNCLG1CQUFYM0IsUUFBeUIwQixFQUFFMUIsT0FBT0MsVUFDakQsSUFBSzBCLEVBQUcsT0FBT0QsRUFDZixJQUFtQkUsRUFBWW5CLEVBQTNCbEMsRUFBSW9ELEVBQUU3QyxLQUFLNEMsR0FBT0csRUFBSyxHQUMzQixJQUNJLFdBQWMsSUFBTnJELEdBQWdCQSxLQUFNLE1BQVFvRCxFQUFJckQsRUFBRXFCLFFBQVFTLE1BQU13QixFQUFHckIsS0FBS29CLEVBQUV0QixPQUV4RSxNQUFPd0IsR0FBU3JCLEVBQUksQ0FBRXFCLE1BQU9BLFdBRXpCLElBQ1FGLElBQU1BLEVBQUV2QixPQUFTc0IsRUFBSXBELEVBQVUsU0FBSW9ELEVBQUU3QyxLQUFLUCxXQUV4QyxHQUFJa0MsRUFBRyxNQUFNQSxFQUFFcUIsT0FFN0IsT0FBT0QsRUU3R1RFLHNCRjJDd0I3QyxTQUFTK0IsU0FBZUUsdUZFckN4Q04sR0FBRm1CLEVBQXNCVixHQUFRLGFBQWxCUiwyQkFLaEIsMkJBRk0zQixFQUFPOEMsS0FBS0MsTUFBTVYsRUFBYXJDLE9BRTNCZ0QsZUFBcUMsa0JBQXBCaEQsRUFBS2lELFdBQWdDLENBRzlELEtBRk1DLEVBN0JZLFNBQUN4QixFQUFrQkMsR0FDekMsT0FBQUgsRUFBY0MsRUFBU0MsRUFBVUMsSUE0QlJ3QixDQUFnQnpCLEVBQVVDLElBRzdDLE1BQU0sSUFBSXlCLE1ERmhCLCtDQ0tJZixFQUFhckMsS0FBTzhDLEtBQUtPLGlCQUNwQnJELElBQ0hnRCxjQUFlRSxLQUlmSSxTQUUyQixtQkFBcEJDLGtCQUNURCxFQUFrQixJQUFJQyxnQkFDdEJsQixFQUFhbUIsT0FBU0YsRUFBZ0JFLFFBR3BDQywwQkFHUyxnQ0FBTUMsUUFBUUMsS0FBSyxFQXZDdEJDLEVBd0NEMUIsRUF2Q1gsSUFBSXdCLFNBQVEsU0FBQUcsR0FBVyxPQUFBQyxXQUFXRCxFQUFTRCxPQXdDckNHLE1BQU0zQixPQUFlQyxxQkFGdkJvQixFQUFXTyxzQkFVWCxrQkFKQTFCLEVBQUsyQixZQUFZLENBQ2Z0QixNQUFPdUIsRUFBTUMscUJBTWpCLE9BQUtWLEtBV1FBLEVBQVNXLFNBVGhCZCxHQUFpQkEsRUFBZ0JlLFFBRXJDL0IsRUFBSzJCLFlBQVksQ0FDZnRCLE1BQU8sc0RBTVh5QixFQUFPSixVQUVFaEIsZUExRVcsU0FDdEJFLEVBQ0F4QixFQUNBQyxHQUNJSCxFQUFjQyxFQUFTQyxFQUFVQyxJQUFVdUIsRUF1RTNDb0IsQ0FBZ0JGLEVBQUtwQixjQUFldEIsRUFBVUMsVUFDdkN5QyxFQUFLcEIsZUF0RVMsU0FBQ3RCLEVBQWtCQyxVQUNyQ0gsRUFBY0MsRUFBU0MsRUFBVUMsSUF1RXBDNEMsQ0FBbUI3QyxFQUFVQyxHQUcvQlcsRUFBSzJCLFlBQVksQ0FDZk8sR0FBSWYsRUFBU2UsR0FDYkosd0NBR0Y5QixFQUFLMkIsWUFBWSxDQUNmTyxJQUFJLEVBQ0pKLEtBQU0sQ0FDSkssa0JBQW1CQyxFQUFNUCxrQ0FoRnBCLElBQUNQLE1GaURILEtBRG9DN0IsWUFDekJBLEVBQUkyQixXQUFVLFNBQVVHLEVBQVNjLEdBQy9DLFNBQVNDLEVBQVV6RCxHQUFTLElBQU1JLEVBQUtTLEVBQVV2QixLQUFLVSxJQUFXLE1BQU9HLEdBQUtxRCxFQUFPckQsSUFDcEYsU0FBU3VELEVBQVMxRCxHQUFTLElBQU1JLEVBQUtTLEVBQWlCLE1BQUViLElBQVcsTUFBT0csR0FBS3FELEVBQU9yRCxJQUN2RixTQUFTQyxFQUFLdUQsR0FBVUEsRUFBTzVELEtBQU8yQyxFQUFRaUIsRUFBTzNELE9BQVMsSUFBSVksR0FBRSxTQUFVOEIsR0FBV0EsRUFBUWlCLEVBQU8zRCxVQUFXNEQsS0FBS0gsRUFBV0MsR0FDbkl0RCxHQUFNUyxFQUFZQSxFQUFVcEMsTUFBTUcsRUFBUytCLEdBQWMsS0FBS3JCIn0=",!1,function(e){return Oo=Oo||function(e,t,n){var r=void 0===t?null:t,i=function(e,t){var n=atob(e);if(t){for(var r=new Uint8Array(n.length),i=0,o=n.length;i<o;++i)r[i]=n.charCodeAt(i);return String.fromCharCode.apply(null,new Uint16Array(r.buffer))}return n}(e,void 0!==n&&n),o=i.indexOf("\n",10)+1,a=i.substring(o)+(r?"//# sourceMappingURL="+r:""),s=new Blob([a],{type:"application/javascript"});return URL.createObjectURL(s)}("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Ci8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogICAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAgICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsgeW91IG1heSBub3QgdXNlCiAgICB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZQogICAgTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCiAgICBUSElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZCiAgICBLSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVECiAgICBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLAogICAgTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC4KCiAgICBTZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMKICAgIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovdmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4oZT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHIsdD0xLG49YXJndW1lbnRzLmxlbmd0aDt0PG47dCsrKWZvcih2YXIgbyBpbiByPWFyZ3VtZW50c1t0XSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixvKSYmKGVbb109cltvXSk7cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIHIoZSxyKXt2YXIgdCxuLG8scyxhPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJm9bMF0pdGhyb3cgb1sxXTtyZXR1cm4gb1sxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBzPXtuZXh0OmkoMCksdGhyb3c6aSgxKSxyZXR1cm46aSgyKX0sImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKHNbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSkscztmdW5jdGlvbiBpKHMpe3JldHVybiBmdW5jdGlvbihpKXtyZXR1cm4gZnVuY3Rpb24ocyl7aWYodCl0aHJvdyBuZXcgVHlwZUVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuIik7Zm9yKDthOyl0cnl7aWYodD0xLG4mJihvPTImc1swXT9uLnJldHVybjpzWzBdP24udGhyb3d8fCgobz1uLnJldHVybikmJm8uY2FsbChuKSwwKTpuLm5leHQpJiYhKG89by5jYWxsKG4sc1sxXSkpLmRvbmUpcmV0dXJuIG87c3dpdGNoKG49MCxvJiYocz1bMiZzWzBdLG8udmFsdWVdKSxzWzBdKXtjYXNlIDA6Y2FzZSAxOm89czticmVhaztjYXNlIDQ6cmV0dXJuIGEubGFiZWwrKyx7dmFsdWU6c1sxXSxkb25lOiExfTtjYXNlIDU6YS5sYWJlbCsrLG49c1sxXSxzPVswXTtjb250aW51ZTtjYXNlIDc6cz1hLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG89YS50cnlzLChvPW8ubGVuZ3RoPjAmJm9bby5sZW5ndGgtMV0pfHw2IT09c1swXSYmMiE9PXNbMF0pKXthPTA7Y29udGludWV9aWYoMz09PXNbMF0mJighb3x8c1sxXT5vWzBdJiZzWzFdPG9bM10pKXthLmxhYmVsPXNbMV07YnJlYWt9aWYoNj09PXNbMF0mJmEubGFiZWw8b1sxXSl7YS5sYWJlbD1vWzFdLG89czticmVha31pZihvJiZhLmxhYmVsPG9bMl0pe2EubGFiZWw9b1syXSxhLm9wcy5wdXNoKHMpO2JyZWFrfW9bMl0mJmEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZX1zPXIuY2FsbChlLGEpfWNhdGNoKGUpe3M9WzYsZV0sbj0wfWZpbmFsbHl7dD1vPTB9aWYoNSZzWzBdKXRocm93IHNbMV07cmV0dXJue3ZhbHVlOnNbMF0/c1sxXTp2b2lkIDAsZG9uZTohMH19KFtzLGldKX19fXZhciB0PXt9LG49ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZSsifCIrcn07YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGZ1bmN0aW9uKG8pe3ZhciBzLGEsaSx1LGM9by5kYXRhLGw9Yy50aW1lb3V0LGY9Yy5hdXRoLGg9Yy5mZXRjaFVybCxwPWMuZmV0Y2hPcHRpb25zLHk9ZnVuY3Rpb24oZSxyKXt2YXIgdD0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl07aWYoIXQpcmV0dXJuIGU7dmFyIG4sbyxzPXQuY2FsbChlKSxhPVtdO3RyeXtmb3IoOyh2b2lkIDA9PT1yfHxyLS0gPjApJiYhKG49cy5uZXh0KCkpLmRvbmU7KWEucHVzaChuLnZhbHVlKX1jYXRjaChlKXtvPXtlcnJvcjplfX1maW5hbGx5e3RyeXtuJiYhbi5kb25lJiYodD1zLnJldHVybikmJnQuY2FsbChzKX1maW5hbGx5e2lmKG8pdGhyb3cgby5lcnJvcn19cmV0dXJuIGF9KG8ucG9ydHMsMSlbMF07cmV0dXJuIHM9dm9pZCAwLGE9dm9pZCAwLHU9ZnVuY3Rpb24oKXt2YXIgbyxzLGEsaSx1LGMsYixkLHYsdztyZXR1cm4gcih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOmE9KHM9Znx8e30pLmF1ZGllbmNlLGk9cy5zY29wZSxyLmxhYmVsPTE7Y2FzZSAxOmlmKHIudHJ5cy5wdXNoKFsxLDcsLDhdKSwhKHU9SlNPTi5wYXJzZShwLmJvZHkpKS5yZWZyZXNoX3Rva2VuJiYicmVmcmVzaF90b2tlbiI9PT11LmdyYW50X3R5cGUpe2lmKCEoYz1mdW5jdGlvbihlLHIpe3JldHVybiB0W24oZSxyKV19KGEsaSkpKXRocm93IG5ldyBFcnJvcigiVGhlIHdlYiB3b3JrZXIgaXMgbWlzc2luZyB0aGUgcmVmcmVzaCB0b2tlbiIpO3AuYm9keT1KU09OLnN0cmluZ2lmeShlKGUoe30sdSkse3JlZnJlc2hfdG9rZW46Y30pKX1iPXZvaWQgMCwiZnVuY3Rpb24iPT10eXBlb2YgQWJvcnRDb250cm9sbGVyJiYoYj1uZXcgQWJvcnRDb250cm9sbGVyLHAuc2lnbmFsPWIuc2lnbmFsKSxkPXZvaWQgMCxyLmxhYmVsPTI7Y2FzZSAyOnJldHVybiByLnRyeXMucHVzaChbMiw0LCw1XSksWzQsUHJvbWlzZS5yYWNlKFsoZz1sLG5ldyBQcm9taXNlKChmdW5jdGlvbihlKXtyZXR1cm4gc2V0VGltZW91dChlLGcpfSkpKSxmZXRjaChoLGUoe30scCkpXSldO2Nhc2UgMzpyZXR1cm4gZD1yLnNlbnQoKSxbMyw1XTtjYXNlIDQ6cmV0dXJuIHY9ci5zZW50KCkseS5wb3N0TWVzc2FnZSh7ZXJyb3I6di5tZXNzYWdlfSksWzJdO2Nhc2UgNTpyZXR1cm4gZD9bNCxkLmpzb24oKV06KGImJmIuYWJvcnQoKSx5LnBvc3RNZXNzYWdlKHtlcnJvcjoiVGltZW91dCB3aGVuIGV4ZWN1dGluZyAnZmV0Y2gnIn0pLFsyXSk7Y2FzZSA2OnJldHVybihvPXIuc2VudCgpKS5yZWZyZXNoX3Rva2VuPyhmdW5jdGlvbihlLHIsbyl7dFtuKHIsbyldPWV9KG8ucmVmcmVzaF90b2tlbixhLGkpLGRlbGV0ZSBvLnJlZnJlc2hfdG9rZW4pOmZ1bmN0aW9uKGUscil7ZGVsZXRlIHRbbihlLHIpXX0oYSxpKSx5LnBvc3RNZXNzYWdlKHtvazpkLm9rLGpzb246b30pLFszLDhdO2Nhc2UgNzpyZXR1cm4gdz1yLnNlbnQoKSx5LnBvc3RNZXNzYWdlKHtvazohMSxqc29uOntlcnJvcl9kZXNjcmlwdGlvbjp3Lm1lc3NhZ2V9fSksWzMsOF07Y2FzZSA4OnJldHVyblsyXX12YXIgZ30pKX0sbmV3KChpPXZvaWQgMCl8fChpPVByb21pc2UpKSgoZnVuY3Rpb24oZSxyKXtmdW5jdGlvbiB0KGUpe3RyeXtvKHUubmV4dChlKSl9Y2F0Y2goZSl7cihlKX19ZnVuY3Rpb24gbihlKXt0cnl7byh1LnRocm93KGUpKX1jYXRjaChlKXtyKGUpfX1mdW5jdGlvbiBvKHIpe3IuZG9uZT9lKHIudmFsdWUpOm5ldyBpKChmdW5jdGlvbihlKXtlKHIudmFsdWUpfSkpLnRoZW4odCxuKX1vKCh1PXUuYXBwbHkocyxhfHxbXSkpLm5leHQoKSl9KSl9KSl9KCk7Cgo=","data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9rZW4ud29ya2VyLmpzIiwic291cmNlcyI6WyJ3b3JrZXI6Ly93ZWItd29ya2VyL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL3NyYy9jb25zdGFudHMudHMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL3NyYy93b3JrZXIvdG9rZW4ud29ya2VyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHJlc3VsdC52YWx1ZSk7IH0pLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XHJcbiAgICByZXN1bHQuZGVmYXVsdCA9IG1vZDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcbiIsImltcG9ydCB7IFBvcHVwQ29uZmlnT3B0aW9ucyB9IGZyb20gJy4vZ2xvYmFsJztcbmltcG9ydCB2ZXJzaW9uIGZyb20gJy4vdmVyc2lvbic7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9BVVRIT1JJWkVfVElNRU9VVF9JTl9TRUNPTkRTID0gNjA7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9QT1BVUF9DT05GSUdfT1BUSU9OUzogUG9wdXBDb25maWdPcHRpb25zID0ge1xuICB0aW1lb3V0SW5TZWNvbmRzOiBERUZBVUxUX0FVVEhPUklaRV9USU1FT1VUX0lOX1NFQ09ORFNcbn07XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9TSUxFTlRfVE9LRU5fUkVUUllfQ09VTlQgPSAzO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IENMRUFOVVBfSUZSQU1FX1RJTUVPVVRfSU5fU0VDT05EUyA9IDI7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9GRVRDSF9USU1FT1VUX01TID0gMTAwMDA7XG5cbmV4cG9ydCBjb25zdCBDQUNIRV9MT0NBVElPTl9NRU1PUlkgPSAnbWVtb3J5JztcbmV4cG9ydCBjb25zdCBDQUNIRV9MT0NBVElPTl9MT0NBTF9TVE9SQUdFID0gJ2xvY2Fsc3RvcmFnZSc7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgTUlTU0lOR19SRUZSRVNIX1RPS0VOX0VSUk9SX01FU1NBR0UgPVxuICAnVGhlIHdlYiB3b3JrZXIgaXMgbWlzc2luZyB0aGUgcmVmcmVzaCB0b2tlbic7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgSU5WQUxJRF9SRUZSRVNIX1RPS0VOX0VSUk9SX01FU1NBR0UgPSAnaW52YWxpZCByZWZyZXNoIHRva2VuJztcblxuLyoqXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBjb25zdCBERUZBVUxUX1NDT1BFID0gJ29wZW5pZCBwcm9maWxlIGVtYWlsJztcblxuLyoqXG4gKiBBIGxpc3Qgb2YgZXJyb3JzIHRoYXQgY2FuIGJlIGlzc3VlZCBieSB0aGUgYXV0aG9yaXphdGlvbiBzZXJ2ZXIgd2hpY2ggdGhlXG4gKiB1c2VyIGNhbiByZWNvdmVyIGZyb20gYnkgc2lnbmluZyBpbiBpbnRlcmFjdGl2ZWx5LlxuICogaHR0cHM6Ly9vcGVuaWQubmV0L3NwZWNzL29wZW5pZC1jb25uZWN0LWNvcmUtMV8wLmh0bWwjQXV0aEVycm9yXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBjb25zdCBSRUNPVkVSQUJMRV9FUlJPUlMgPSBbXG4gICdsb2dpbl9yZXF1aXJlZCcsXG4gICdjb25zZW50X3JlcXVpcmVkJyxcbiAgJ2ludGVyYWN0aW9uX3JlcXVpcmVkJyxcbiAgJ2FjY291bnRfc2VsZWN0aW9uX3JlcXVpcmVkJyxcbiAgLy8gU3RyaWN0bHkgc3BlYWtpbmcgdGhlIHVzZXIgY2FuJ3QgcmVjb3ZlciBmcm9tIGBhY2Nlc3NfZGVuaWVkYCAtIGJ1dCB0aGV5XG4gIC8vIGNhbiBnZXQgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCB0aGVpciBhY2Nlc3MgYmVpbmcgZGVuaWVkIGJ5IGxvZ2dpbmcgaW5cbiAgLy8gaW50ZXJhY3RpdmVseS5cbiAgJ2FjY2Vzc19kZW5pZWQnXG5dO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0VTU0lPTl9DSEVDS19FWFBJUllfREFZUyA9IDE7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9BVVRIMF9DTElFTlQgPSB7XG4gIG5hbWU6ICdhdXRoMC1zcGEtanMnLFxuICB2ZXJzaW9uOiB2ZXJzaW9uXG59O1xuIiwiaW1wb3J0IHsgTUlTU0lOR19SRUZSRVNIX1RPS0VOX0VSUk9SX01FU1NBR0UgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgV29ya2VyUmVmcmVzaFRva2VuTWVzc2FnZSB9IGZyb20gJy4vd29ya2VyLnR5cGVzJztcblxubGV0IHJlZnJlc2hUb2tlbnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcblxuY29uc3QgY2FjaGVLZXkgPSAoYXVkaWVuY2U6IHN0cmluZywgc2NvcGU6IHN0cmluZykgPT4gYCR7YXVkaWVuY2V9fCR7c2NvcGV9YDtcblxuY29uc3QgZ2V0UmVmcmVzaFRva2VuID0gKGF1ZGllbmNlOiBzdHJpbmcsIHNjb3BlOiBzdHJpbmcpID0+XG4gIHJlZnJlc2hUb2tlbnNbY2FjaGVLZXkoYXVkaWVuY2UsIHNjb3BlKV07XG5cbmNvbnN0IHNldFJlZnJlc2hUb2tlbiA9IChcbiAgcmVmcmVzaFRva2VuOiBzdHJpbmcsXG4gIGF1ZGllbmNlOiBzdHJpbmcsXG4gIHNjb3BlOiBzdHJpbmdcbikgPT4gKHJlZnJlc2hUb2tlbnNbY2FjaGVLZXkoYXVkaWVuY2UsIHNjb3BlKV0gPSByZWZyZXNoVG9rZW4pO1xuXG5jb25zdCBkZWxldGVSZWZyZXNoVG9rZW4gPSAoYXVkaWVuY2U6IHN0cmluZywgc2NvcGU6IHN0cmluZykgPT5cbiAgZGVsZXRlIHJlZnJlc2hUb2tlbnNbY2FjaGVLZXkoYXVkaWVuY2UsIHNjb3BlKV07XG5cbmNvbnN0IHdhaXQgPSAodGltZTogbnVtYmVyKSA9PlxuICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgdGltZSkpO1xuXG5jb25zdCBtZXNzYWdlSGFuZGxlciA9IGFzeW5jICh7XG4gIGRhdGE6IHsgdGltZW91dCwgYXV0aCwgZmV0Y2hVcmwsIGZldGNoT3B0aW9ucyB9LFxuICBwb3J0czogW3BvcnRdXG59OiBNZXNzYWdlRXZlbnQ8V29ya2VyUmVmcmVzaFRva2VuTWVzc2FnZT4pID0+IHtcbiAgbGV0IGpzb246IHtcbiAgICByZWZyZXNoX3Rva2VuPzogc3RyaW5nO1xuICB9O1xuXG4gIGNvbnN0IHsgYXVkaWVuY2UsIHNjb3BlIH0gPSBhdXRoIHx8IHt9O1xuXG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IEpTT04ucGFyc2UoZmV0Y2hPcHRpb25zLmJvZHkpO1xuXG4gICAgaWYgKCFib2R5LnJlZnJlc2hfdG9rZW4gJiYgYm9keS5ncmFudF90eXBlID09PSAncmVmcmVzaF90b2tlbicpIHtcbiAgICAgIGNvbnN0IHJlZnJlc2hUb2tlbiA9IGdldFJlZnJlc2hUb2tlbihhdWRpZW5jZSwgc2NvcGUpO1xuXG4gICAgICBpZiAoIXJlZnJlc2hUb2tlbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTUlTU0lOR19SRUZSRVNIX1RPS0VOX0VSUk9SX01FU1NBR0UpO1xuICAgICAgfVxuXG4gICAgICBmZXRjaE9wdGlvbnMuYm9keSA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgLi4uYm9keSxcbiAgICAgICAgcmVmcmVzaF90b2tlbjogcmVmcmVzaFRva2VuXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBsZXQgYWJvcnRDb250cm9sbGVyOiBBYm9ydENvbnRyb2xsZXI7XG5cbiAgICBpZiAodHlwZW9mIEFib3J0Q29udHJvbGxlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgZmV0Y2hPcHRpb25zLnNpZ25hbCA9IGFib3J0Q29udHJvbGxlci5zaWduYWw7XG4gICAgfVxuXG4gICAgbGV0IHJlc3BvbnNlOiBhbnk7XG5cbiAgICB0cnkge1xuICAgICAgcmVzcG9uc2UgPSBhd2FpdCBQcm9taXNlLnJhY2UoW1xuICAgICAgICB3YWl0KHRpbWVvdXQpLFxuICAgICAgICBmZXRjaChmZXRjaFVybCwgeyAuLi5mZXRjaE9wdGlvbnMgfSlcbiAgICAgIF0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyBmZXRjaCBlcnJvciwgcmVqZWN0IGBzZW5kTWVzc2FnZWAgdXNpbmcgYGVycm9yYCBrZXkgc28gdGhhdCB3ZSByZXRyeS5cbiAgICAgIHBvcnQucG9zdE1lc3NhZ2Uoe1xuICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXJlc3BvbnNlKSB7XG4gICAgICAvLyBJZiB0aGUgcmVxdWVzdCB0aW1lcyBvdXQsIGFib3J0IGl0IGFuZCBsZXQgYHN3aXRjaEZldGNoYCByYWlzZSB0aGUgZXJyb3IuXG4gICAgICBpZiAoYWJvcnRDb250cm9sbGVyKSBhYm9ydENvbnRyb2xsZXIuYWJvcnQoKTtcblxuICAgICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICAgIGVycm9yOiBcIlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJ1wiXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICBpZiAoanNvbi5yZWZyZXNoX3Rva2VuKSB7XG4gICAgICBzZXRSZWZyZXNoVG9rZW4oanNvbi5yZWZyZXNoX3Rva2VuLCBhdWRpZW5jZSwgc2NvcGUpO1xuICAgICAgZGVsZXRlIGpzb24ucmVmcmVzaF90b2tlbjtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlUmVmcmVzaFRva2VuKGF1ZGllbmNlLCBzY29wZSk7XG4gICAgfVxuXG4gICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICBvazogcmVzcG9uc2Uub2ssXG4gICAgICBqc29uXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICBvazogZmFsc2UsXG4gICAgICBqc29uOiB7XG4gICAgICAgIGVycm9yX2Rlc2NyaXB0aW9uOiBlcnJvci5tZXNzYWdlXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIERvbid0IHJ1biBgYWRkRXZlbnRMaXN0ZW5lcmAgaW4gb3VyIHRlc3RzICh0aGlzIGlzIHJlcGxhY2VkIGluIHJvbGx1cClcbi8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICAqL1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAndGVzdCcpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSB7IG1lc3NhZ2VIYW5kbGVyIH07XG59IGVsc2Uge1xuICAvLyBAdHMtaWdub3JlXG4gIGFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBtZXNzYWdlSGFuZGxlcik7XG59XG4iXSwibmFtZXMiOlsiX19hc3NpZ24iLCJPYmplY3QiLCJhc3NpZ24iLCJ0IiwicyIsImkiLCJuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwicCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImFwcGx5IiwidGhpcyIsIl9fZ2VuZXJhdG9yIiwidGhpc0FyZyIsImJvZHkiLCJmIiwieSIsImciLCJfIiwibGFiZWwiLCJzZW50IiwidHJ5cyIsIm9wcyIsIm5leHQiLCJ2ZXJiIiwidGhyb3ciLCJyZXR1cm4iLCJTeW1ib2wiLCJpdGVyYXRvciIsInYiLCJvcCIsIlR5cGVFcnJvciIsImRvbmUiLCJ2YWx1ZSIsInBvcCIsInB1c2giLCJlIiwic3RlcCIsInJlZnJlc2hUb2tlbnMiLCJjYWNoZUtleSIsImF1ZGllbmNlIiwic2NvcGUiLCJhZGRFdmVudExpc3RlbmVyIiwiX2EiLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsIl9iIiwidGltZW91dCIsImF1dGgiLCJmZXRjaFVybCIsImZldGNoT3B0aW9ucyIsInBvcnQiLCJvIiwibSIsInIiLCJhciIsImVycm9yIiwiX19yZWFkIiwiX2QiLCJKU09OIiwicGFyc2UiLCJyZWZyZXNoX3Rva2VuIiwiZ3JhbnRfdHlwZSIsInJlZnJlc2hUb2tlbiIsImdldFJlZnJlc2hUb2tlbiIsIkVycm9yIiwic3RyaW5naWZ5IiwiYWJvcnRDb250cm9sbGVyIiwiQWJvcnRDb250cm9sbGVyIiwic2lnbmFsIiwicmVzcG9uc2UiLCJQcm9taXNlIiwicmFjZSIsInRpbWUiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsImZldGNoIiwiX2UiLCJwb3N0TWVzc2FnZSIsImVycm9yXzEiLCJtZXNzYWdlIiwianNvbiIsImFib3J0Iiwic2V0UmVmcmVzaFRva2VuIiwiZGVsZXRlUmVmcmVzaFRva2VuIiwib2siLCJlcnJvcl9kZXNjcmlwdGlvbiIsImVycm9yXzIiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJyZWplY3RlZCIsInJlc3VsdCIsInRoZW4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O29GQTZCTyxJQUFJQSxFQUFXLFdBUWxCLE9BUEFBLEVBQVdDLE9BQU9DLFFBQVUsU0FBa0JDLEdBQzFDLElBQUssSUFBSUMsRUFBR0MsRUFBSSxFQUFHQyxFQUFJQyxVQUFVQyxPQUFRSCxFQUFJQyxFQUFHRCxJQUU1QyxJQUFLLElBQUlJLEtBRFRMLEVBQUlHLFVBQVVGLEdBQ09KLE9BQU9TLFVBQVVDLGVBQWVDLEtBQUtSLEVBQUdLLEtBQUlOLEVBQUVNLEdBQUtMLEVBQUVLLElBRTlFLE9BQU9OLElBRUtVLE1BQU1DLEtBQU1QLFlBdUN6QixTQUFTUSxFQUFZQyxFQUFTQyxHQUNqQyxJQUFzR0MsRUFBR0MsRUFBR2hCLEVBQUdpQixFQUEzR0MsRUFBSSxDQUFFQyxNQUFPLEVBQUdDLEtBQU0sV0FBYSxHQUFXLEVBQVBwQixFQUFFLEdBQVEsTUFBTUEsRUFBRSxHQUFJLE9BQU9BLEVBQUUsSUFBT3FCLEtBQU0sR0FBSUMsSUFBSyxJQUNoRyxPQUFPTCxFQUFJLENBQUVNLEtBQU1DLEVBQUssR0FBSUMsTUFBU0QsRUFBSyxHQUFJRSxPQUFVRixFQUFLLElBQXdCLG1CQUFYRyxTQUEwQlYsRUFBRVUsT0FBT0MsVUFBWSxXQUFhLE9BQU9qQixPQUFVTSxFQUN2SixTQUFTTyxFQUFLckIsR0FBSyxPQUFPLFNBQVUwQixHQUFLLE9BQ3pDLFNBQWNDLEdBQ1YsR0FBSWYsRUFBRyxNQUFNLElBQUlnQixVQUFVLG1DQUMzQixLQUFPYixPQUNILEdBQUlILEVBQUksRUFBR0MsSUFBTWhCLEVBQVksRUFBUjhCLEVBQUcsR0FBU2QsRUFBVSxPQUFJYyxFQUFHLEdBQUtkLEVBQVMsU0FBT2hCLEVBQUlnQixFQUFVLFNBQU1oQixFQUFFUyxLQUFLTyxHQUFJLEdBQUtBLEVBQUVPLFNBQVd2QixFQUFJQSxFQUFFUyxLQUFLTyxFQUFHYyxFQUFHLEtBQUtFLEtBQU0sT0FBT2hDLEVBRTNKLE9BRElnQixFQUFJLEVBQUdoQixJQUFHOEIsRUFBSyxDQUFTLEVBQVJBLEVBQUcsR0FBUTlCLEVBQUVpQyxRQUN6QkgsRUFBRyxJQUNQLEtBQUssRUFBRyxLQUFLLEVBQUc5QixFQUFJOEIsRUFBSSxNQUN4QixLQUFLLEVBQWMsT0FBWFosRUFBRUMsUUFBZ0IsQ0FBRWMsTUFBT0gsRUFBRyxHQUFJRSxNQUFNLEdBQ2hELEtBQUssRUFBR2QsRUFBRUMsUUFBU0gsRUFBSWMsRUFBRyxHQUFJQSxFQUFLLENBQUMsR0FBSSxTQUN4QyxLQUFLLEVBQUdBLEVBQUtaLEVBQUVJLElBQUlZLE1BQU9oQixFQUFFRyxLQUFLYSxNQUFPLFNBQ3hDLFFBQ0ksS0FBTWxDLEVBQUlrQixFQUFFRyxNQUFNckIsRUFBSUEsRUFBRUssT0FBUyxHQUFLTCxFQUFFQSxFQUFFSyxPQUFTLEtBQWtCLElBQVZ5QixFQUFHLElBQXNCLElBQVZBLEVBQUcsSUFBVyxDQUFFWixFQUFJLEVBQUcsU0FDakcsR0FBYyxJQUFWWSxFQUFHLE1BQWM5QixHQUFNOEIsRUFBRyxHQUFLOUIsRUFBRSxJQUFNOEIsRUFBRyxHQUFLOUIsRUFBRSxJQUFNLENBQUVrQixFQUFFQyxNQUFRVyxFQUFHLEdBQUksTUFDOUUsR0FBYyxJQUFWQSxFQUFHLElBQVlaLEVBQUVDLE1BQVFuQixFQUFFLEdBQUksQ0FBRWtCLEVBQUVDLE1BQVFuQixFQUFFLEdBQUlBLEVBQUk4QixFQUFJLE1BQzdELEdBQUk5QixHQUFLa0IsRUFBRUMsTUFBUW5CLEVBQUUsR0FBSSxDQUFFa0IsRUFBRUMsTUFBUW5CLEVBQUUsR0FBSWtCLEVBQUVJLElBQUlhLEtBQUtMLEdBQUssTUFDdkQ5QixFQUFFLElBQUlrQixFQUFFSSxJQUFJWSxNQUNoQmhCLEVBQUVHLEtBQUthLE1BQU8sU0FFdEJKLEVBQUtoQixFQUFLTCxLQUFLSSxFQUFTSyxHQUMxQixNQUFPa0IsR0FBS04sRUFBSyxDQUFDLEVBQUdNLEdBQUlwQixFQUFJLFVBQWVELEVBQUlmLEVBQUksRUFDdEQsR0FBWSxFQUFSOEIsRUFBRyxHQUFRLE1BQU1BLEVBQUcsR0FBSSxNQUFPLENBQUVHLE1BQU9ILEVBQUcsR0FBS0EsRUFBRyxRQUFLLEVBQVFFLE1BQU0sR0FyQjlCSyxDQUFLLENBQUNsQyxFQUFHMEIsTUMzQ3RELElDakNIUyxFQUF3QyxHQUV0Q0MsRUFBVyxTQUFDQyxFQUFrQkMsR0FBa0IsT0FBR0QsTUFBWUMsR0EwR25FQyxpQkFBaUIsV0F6RkksU0FBT0MsT0Y2Q0o5QixFQUFTK0IsRUFBWUMsRUFBR0MsRUU1Q2hEQyxTQUFRQyxZQUFTQyxTQUFNQyxhQUFVQyxpQkFDekJDLEVGK0ZILFNBQWdCQyxFQUFHbEQsR0FDdEIsSUFBSW1ELEVBQXNCLG1CQUFYM0IsUUFBeUIwQixFQUFFMUIsT0FBT0MsVUFDakQsSUFBSzBCLEVBQUcsT0FBT0QsRUFDZixJQUFtQkUsRUFBWW5CLEVBQTNCbEMsRUFBSW9ELEVBQUU3QyxLQUFLNEMsR0FBT0csRUFBSyxHQUMzQixJQUNJLFdBQWMsSUFBTnJELEdBQWdCQSxLQUFNLE1BQVFvRCxFQUFJckQsRUFBRXFCLFFBQVFTLE1BQU13QixFQUFHckIsS0FBS29CLEVBQUV0QixPQUV4RSxNQUFPd0IsR0FBU3JCLEVBQUksQ0FBRXFCLE1BQU9BLFdBRXpCLElBQ1FGLElBQU1BLEVBQUV2QixPQUFTc0IsRUFBSXBELEVBQVUsU0FBSW9ELEVBQUU3QyxLQUFLUCxXQUV4QyxHQUFJa0MsRUFBRyxNQUFNQSxFQUFFcUIsT0FFN0IsT0FBT0QsRUU3R1RFLHNCRjJDd0I3QyxTQUFTK0IsU0FBZUUsdUZFckN4Q04sR0FBRm1CLEVBQXNCVixHQUFRLGFBQWxCUiwyQkFLaEIsMkJBRk0zQixFQUFPOEMsS0FBS0MsTUFBTVYsRUFBYXJDLE9BRTNCZ0QsZUFBcUMsa0JBQXBCaEQsRUFBS2lELFdBQWdDLENBRzlELEtBRk1DLEVBN0JZLFNBQUN4QixFQUFrQkMsR0FDekMsT0FBQUgsRUFBY0MsRUFBU0MsRUFBVUMsSUE0QlJ3QixDQUFnQnpCLEVBQVVDLElBRzdDLE1BQU0sSUFBSXlCLE1ERmhCLCtDQ0tJZixFQUFhckMsS0FBTzhDLEtBQUtPLGlCQUNwQnJELElBQ0hnRCxjQUFlRSxLQUlmSSxTQUUyQixtQkFBcEJDLGtCQUNURCxFQUFrQixJQUFJQyxnQkFDdEJsQixFQUFhbUIsT0FBU0YsRUFBZ0JFLFFBR3BDQywwQkFHUyxnQ0FBTUMsUUFBUUMsS0FBSyxFQXZDdEJDLEVBd0NEMUIsRUF2Q1gsSUFBSXdCLFNBQVEsU0FBQUcsR0FBVyxPQUFBQyxXQUFXRCxFQUFTRCxPQXdDckNHLE1BQU0zQixPQUFlQyxxQkFGdkJvQixFQUFXTyxzQkFVWCxrQkFKQTFCLEVBQUsyQixZQUFZLENBQ2Z0QixNQUFPdUIsRUFBTUMscUJBTWpCLE9BQUtWLEtBV1FBLEVBQVNXLFNBVGhCZCxHQUFpQkEsRUFBZ0JlLFFBRXJDL0IsRUFBSzJCLFlBQVksQ0FDZnRCLE1BQU8sc0RBTVh5QixFQUFPSixVQUVFaEIsZUExRVcsU0FDdEJFLEVBQ0F4QixFQUNBQyxHQUNJSCxFQUFjQyxFQUFTQyxFQUFVQyxJQUFVdUIsRUF1RTNDb0IsQ0FBZ0JGLEVBQUtwQixjQUFldEIsRUFBVUMsVUFDdkN5QyxFQUFLcEIsZUF0RVMsU0FBQ3RCLEVBQWtCQyxVQUNyQ0gsRUFBY0MsRUFBU0MsRUFBVUMsSUF1RXBDNEMsQ0FBbUI3QyxFQUFVQyxHQUcvQlcsRUFBSzJCLFlBQVksQ0FDZk8sR0FBSWYsRUFBU2UsR0FDYkosd0NBR0Y5QixFQUFLMkIsWUFBWSxDQUNmTyxJQUFJLEVBQ0pKLEtBQU0sQ0FDSkssa0JBQW1CQyxFQUFNUCxrQ0FoRnBCLElBQUNQLE1GaURILEtBRG9DN0IsWUFDekJBLEVBQUkyQixXQUFVLFNBQVVHLEVBQVNjLEdBQy9DLFNBQVNDLEVBQVV6RCxHQUFTLElBQU1JLEVBQUtTLEVBQVV2QixLQUFLVSxJQUFXLE1BQU9HLEdBQUtxRCxFQUFPckQsSUFDcEYsU0FBU3VELEVBQVMxRCxHQUFTLElBQU1JLEVBQUtTLEVBQWlCLE1BQUViLElBQVcsTUFBT0csR0FBS3FELEVBQU9yRCxJQUN2RixTQUFTQyxFQUFLdUQsR0FBVUEsRUFBTzVELEtBQU8yQyxFQUFRaUIsRUFBTzNELE9BQVMsSUFBSVksR0FBRSxTQUFVOEIsR0FBV0EsRUFBUWlCLEVBQU8zRCxVQUFXNEQsS0FBS0gsRUFBV0MsR0FDbkl0RCxHQUFNUyxFQUFZQSxFQUFVcEMsTUFBTUcsRUFBUytCLEdBQWMsS0FBS3JCIn0=",false),new Worker(Oo,e)}),To={},Io=new Di,ko={memory:function(){return(new fo).enclosedCache},localstorage:function(){return new uo}},Co=function(e){return ko[e]},Mo=function(){function e(e){var t,n,r;if(this.options=e,"undefined"!=typeof window&&function(){if(!Qi())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(void 0===Zi())throw new Error("\n      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/master/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.\n    ")}(),e.cache&&e.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),e.cache)r=e.cache;else{if(this.cacheLocation=e.cacheLocation||"memory",!Co(this.cacheLocation))throw new Error('Invalid cache location "'+this.cacheLocation+'"');r=Co(this.cacheLocation)()}this.cookieStorage=!1===e.legacySameSiteCookie?Eo:_o,this.sessionCheckExpiryDays=e.sessionCheckExpiryDays||1;var i,o,a=e.useCookiesForTransactions?this.cookieStorage:Ao;this.scope=this.options.scope,this.transactionManager=new ho(a),this.cacheManager=new mo(r,this.options.client_id),this.domainUrl="https://"+this.options.domain,this.tokenIssuer=(i=this.options.issuer,o=this.domainUrl,i?i.startsWith("https://")?i:"https://"+i+"/":o+"/"),this.defaultScope=lo("openid",void 0!==(null===(n=null===(t=this.options)||void 0===t?void 0:t.advancedOptions)||void 0===n?void 0:n.defaultScope)?this.options.advancedOptions.defaultScope:"openid profile email"),this.options.useRefreshTokens&&(this.scope=lo(this.scope,"offline_access")),"undefined"!=typeof window&&window.Worker&&this.options.useRefreshTokens&&"memory"===this.cacheLocation&&!/Trident.*rv:11\.0/.test(navigator.userAgent)&&(this.worker=new So),this.customOptions=function(e){return e.advancedOptions,e.audience,e.auth0Client,e.authorizeTimeoutInSeconds,e.cacheLocation,e.client_id,e.domain,e.issuer,e.leeway,e.max_age,e.redirect_uri,e.scope,e.useRefreshTokens,h(e,["advancedOptions","audience","auth0Client","authorizeTimeoutInSeconds","cacheLocation","client_id","domain","issuer","leeway","max_age","redirect_uri","scope","useRefreshTokens"])}(e)}return e.prototype._url=function(e){var t=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||Fi)));return""+this.domainUrl+e+"&auth0Client="+t},e.prototype._getParams=function(e,t,n,r,i){var o=this.options,a=(o.domain,o.leeway,o.useRefreshTokens,o.useCookiesForTransactions,o.auth0Client,o.cacheLocation,o.advancedOptions,h(o,["domain","leeway","useRefreshTokens","useCookiesForTransactions","auth0Client","cacheLocation","advancedOptions"]));return m(m(m({},a),e),{scope:lo(this.defaultScope,this.scope,e.scope),response_type:"code",response_mode:"query",state:t,nonce:n,redirect_uri:i||this.options.redirect_uri,code_challenge:r,code_challenge_method:"S256"})},e.prototype._authorizeUrl=function(e){return this._url("/authorize?"+qi(e))},e.prototype._verifyIdToken=function(e,t,n){return function(e){if(!e.id_token)throw new Error("ID token is required but missing");var t=function(e){var t=e.split("."),n=v(t,3),r=n[0],i=n[1],o=n[2];if(3!==t.length||!r||!i||!o)throw new Error("ID token could not be decoded");var a=JSON.parse($i(i)),s={__raw:e},l={};return Object.keys(a).forEach((function(e){s[e]=a[e],yo.includes(e)||(l[e]=a[e])})),{encoded:{header:r,payload:i,signature:o},header:JSON.parse($i(r)),claims:s,user:l}}(e.id_token);if(!t.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(t.claims.iss!==e.iss)throw new Error('Issuer (iss) claim mismatch in the ID token; expected "'+e.iss+'", found "'+t.claims.iss+'"');if(!t.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if("RS256"!==t.header.alg)throw new Error('Signature algorithm of "'+t.header.alg+'" is not supported. Expected the ID token to be signed with "RS256".');if(!t.claims.aud||"string"!=typeof t.claims.aud&&!Array.isArray(t.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(t.claims.aud)){if(!t.claims.aud.includes(e.aud))throw new Error('Audience (aud) claim mismatch in the ID token; expected "'+e.aud+'" but was not one of "'+t.claims.aud.join(", ")+'"');if(t.claims.aud.length>1){if(!t.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(t.claims.azp!==e.aud)throw new Error('Authorized Party (azp) claim mismatch in the ID token; expected "'+e.aud+'", found "'+t.claims.azp+'"')}}else if(t.claims.aud!==e.aud)throw new Error('Audience (aud) claim mismatch in the ID token; expected "'+e.aud+'" but found "'+t.claims.aud+'"');if(e.nonce){if(!t.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(t.claims.nonce!==e.nonce)throw new Error('Nonce (nonce) claim mismatch in the ID token; expected "'+e.nonce+'", found "'+t.claims.nonce+'"')}if(e.max_age&&!go(t.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(!go(t.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!go(t.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");var n=e.leeway||60,r=new Date(Date.now()),i=new Date(0),o=new Date(0),a=new Date(0);if(a.setUTCSeconds(parseInt(t.claims.auth_time)+e.max_age+n),i.setUTCSeconds(t.claims.exp+n),o.setUTCSeconds(t.claims.nbf-n),r>i)throw new Error("Expiration Time (exp) claim error in the ID token; current time ("+r+") is after expiration time ("+i+")");if(go(t.claims.nbf)&&r<o)throw new Error("Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Currrent time ("+r+") is before "+o);if(go(t.claims.auth_time)&&r>a)throw new Error("Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Currrent time ("+r+") is after last auth at "+a);if(e.organizationId){if(!t.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(e.organizationId!==t.claims.org_id)throw new Error('Organization ID (org_id) claim mismatch in the ID token; expected "'+e.organizationId+'", found "'+t.claims.org_id+'"')}return t}({iss:this.tokenIssuer,aud:this.options.client_id,id_token:e,nonce:t,organizationId:n,leeway:this.options.leeway,max_age:this._parseNumber(this.options.max_age)})},e.prototype._parseNumber=function(e){return"string"!=typeof e?e:parseInt(e,10)||void 0},e.prototype.buildAuthorizeUrl=function(e){return void 0===e&&(e={}),g(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,l,c,u,d,f;return y(this,(function(p){switch(p.label){case 0:return t=e.redirect_uri,n=e.appState,r=h(e,["redirect_uri","appState"]),i=Ji(Xi()),o=Ji(Xi()),a=Xi(),[4,Ki(a)];case 1:return s=p.sent(),l=eo(s),c=e.fragment?"#"+e.fragment:"",u=this._getParams(r,i,o,l,t),d=this._authorizeUrl(u),f=e.organization||this.options.organization,this.transactionManager.create(m({nonce:o,code_verifier:a,appState:n,scope:u.scope,audience:u.audience||"default",redirect_uri:u.redirect_uri},f&&{organizationId:f})),[2,d+c]}}))}))},e.prototype.loginWithPopup=function(e,t){return g(this,void 0,void 0,(function(){var n,r,i,o,a,s,l,c,u,d,f,p,g;return y(this,(function(y){switch(y.label){case 0:return e=e||{},(t=t||{}).popup||(t.popup=function(e){var t=window.screenX+(window.innerWidth-400)/2,n=window.screenY+(window.innerHeight-600)/2;return window.open("","auth0:authorize:popup","left="+t+",top="+n+",width=400,height=600,resizable,scrollbars=yes,status=1")}()),n=h(e,[]),r=Ji(Xi()),i=Ji(Xi()),o=Xi(),[4,Ki(o)];case 1:return a=y.sent(),s=eo(a),l=this._getParams(n,r,i,s,this.options.redirect_uri||window.location.origin),c=this._authorizeUrl(m(m({},l),{response_mode:"web_message"})),t.popup.location.href=c,[4,Yi(m(m({},t),{timeoutInSeconds:t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}))];case 2:if(u=y.sent(),r!==u.state)throw new Error("Invalid state");return[4,ao({audience:l.audience,scope:l.scope,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:o,code:u.code,grant_type:"authorization_code",redirect_uri:l.redirect_uri,auth0Client:this.options.auth0Client},this.worker)];case 3:return d=y.sent(),f=e.organization||this.options.organization,p=this._verifyIdToken(d.id_token,i,f),g=m(m({},d),{decodedToken:p,scope:l.scope,audience:l.audience||"default",client_id:this.options.client_id}),[4,this.cacheManager.set(g)];case 4:return y.sent(),this.cookieStorage.save("auth0.is.authenticated",!0,{daysUntilExpire:this.sessionCheckExpiryDays}),[2]}}))}))},e.prototype.getUser=function(e){return void 0===e&&(e={}),g(this,void 0,void 0,(function(){var t,n,r;return y(this,(function(i){switch(i.label){case 0:return t=e.audience||this.options.audience||"default",n=lo(this.defaultScope,this.scope,e.scope),[4,this.cacheManager.get(new co({client_id:this.options.client_id,audience:t,scope:n}))];case 1:return[2,(r=i.sent())&&r.decodedToken&&r.decodedToken.user]}}))}))},e.prototype.getIdTokenClaims=function(e){return void 0===e&&(e={}),g(this,void 0,void 0,(function(){var t,n,r;return y(this,(function(i){switch(i.label){case 0:return t=e.audience||this.options.audience||"default",n=lo(this.defaultScope,this.scope,e.scope),[4,this.cacheManager.get(new co({client_id:this.options.client_id,audience:t,scope:n}))];case 1:return[2,(r=i.sent())&&r.decodedToken&&r.decodedToken.claims]}}))}))},e.prototype.loginWithRedirect=function(e){return void 0===e&&(e={}),g(this,void 0,void 0,(function(){var t,n,r;return y(this,(function(i){switch(i.label){case 0:return t=e.redirectMethod,n=h(e,["redirectMethod"]),[4,this.buildAuthorizeUrl(n)];case 1:return r=i.sent(),window.location[t||"assign"](r),[2]}}))}))},e.prototype.handleRedirectCallback=function(e){return void 0===e&&(e=window.location.href),g(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,l,c,u,d;return y(this,(function(f){switch(f.label){case 0:if(0===(t=e.split("?").slice(1)).length)throw new Error("There are no query params available for parsing.");if(n=function(e){e.indexOf("#")>-1&&(e=e.substr(0,e.indexOf("#")));var t=e.split("&"),n={};return t.forEach((function(e){var t=v(e.split("="),2),r=t[0],i=t[1];n[r]=decodeURIComponent(i)})),m(m({},n),{expires_in:parseInt(n.expires_in)})}(t.join("")),r=n.state,i=n.code,o=n.error,a=n.error_description,!(s=this.transactionManager.get())||!s.code_verifier)throw new Error("Invalid state");if(this.transactionManager.remove(),o)throw new zi(o,a,r,s.appState);return l={audience:s.audience,scope:s.scope,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:s.code_verifier,grant_type:"authorization_code",code:i,auth0Client:this.options.auth0Client},void 0!==s.redirect_uri&&(l.redirect_uri=s.redirect_uri),[4,ao(l,this.worker)];case 1:return c=f.sent(),u=this._verifyIdToken(c.id_token,s.nonce,s.organizationId),d=m(m({},c),{decodedToken:u,audience:s.audience,scope:s.scope,client_id:this.options.client_id}),[4,this.cacheManager.set(d)];case 2:return f.sent(),this.cookieStorage.save("auth0.is.authenticated",!0,{daysUntilExpire:this.sessionCheckExpiryDays}),[2,{appState:s.appState}]}}))}))},e.prototype.checkSession=function(e){return g(this,void 0,void 0,(function(){var t;return y(this,(function(n){switch(n.label){case 0:if(!this.cookieStorage.get("auth0.is.authenticated"))return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.getTokenSilently(e)];case 2:return n.sent(),[3,4];case 3:if(t=n.sent(),!Bi.includes(t.error))throw t;return[3,4];case 4:return[2]}}))}))},e.prototype.getTokenSilently=function(e){return void 0===e&&(e={}),g(this,void 0,void 0,(function(){var t,n,r,i=this;return y(this,(function(o){return t=m(m({audience:this.options.audience,ignoreCache:!1},e),{scope:lo(this.defaultScope,this.scope,e.scope)}),n=t.ignoreCache,r=h(t,["ignoreCache"]),[2,(a=function(){return i._getTokenSilently(m({ignoreCache:n},r))},s=this.options.client_id+"::"+r.audience+"::"+r.scope,l=To[s],l||(l=a().finally((function(){delete To[s],l=null})),To[s]=l),l)];var a,s,l}))}))},e.prototype._getTokenSilently=function(e){return void 0===e&&(e={}),g(this,void 0,void 0,(function(){var t,n,r,i,o,a,s=this;return y(this,(function(l){switch(l.label){case 0:return t=e.ignoreCache,n=h(e,["ignoreCache"]),r=function(){return g(s,void 0,void 0,(function(){var e;return y(this,(function(t){switch(t.label){case 0:return[4,this.cacheManager.get(new co({scope:n.scope,audience:n.audience||"default",client_id:this.options.client_id}),60)];case 1:return[2,(e=t.sent())&&e.access_token]}}))}))},t?[3,2]:[4,r()];case 1:if(i=l.sent())return[2,i];l.label=2;case 2:return[4,(c=function(){return Io.acquireLock("auth0.lock.getTokenSilently",5e3)},u=10,void 0===u&&(u=3),g(void 0,void 0,void 0,(function(){var e;return y(this,(function(t){switch(t.label){case 0:e=0,t.label=1;case 1:return e<u?[4,c()]:[3,4];case 2:if(t.sent())return[2,!0];t.label=3;case 3:return e++,[3,1];case 4:return[2,!1]}}))})))];case 3:if(!l.sent())return[3,15];l.label=4;case 4:return l.trys.push([4,,12,14]),t?[3,6]:[4,r()];case 5:if(i=l.sent())return[2,i];l.label=6;case 6:return this.options.useRefreshTokens?[4,this._getTokenUsingRefreshToken(n)]:[3,8];case 7:return a=l.sent(),[3,10];case 8:return[4,this._getTokenFromIFrame(n)];case 9:a=l.sent(),l.label=10;case 10:return o=a,[4,this.cacheManager.set(m({client_id:this.options.client_id},o))];case 11:return l.sent(),this.cookieStorage.save("auth0.is.authenticated",!0,{daysUntilExpire:this.sessionCheckExpiryDays}),[2,o.access_token];case 12:return[4,Io.releaseLock("auth0.lock.getTokenSilently")];case 13:return l.sent(),[7];case 14:return[3,16];case 15:throw new Vi;case 16:return[2]}var c,u}))}))},e.prototype.getTokenWithPopup=function(e,t){return void 0===e&&(e={}),void 0===t&&(t={}),g(this,void 0,void 0,(function(){return y(this,(function(n){switch(n.label){case 0:return e.audience=e.audience||this.options.audience,e.scope=lo(this.defaultScope,this.scope,e.scope),t=m(m({},Pi),t),[4,this.loginWithPopup(e,t)];case 1:return n.sent(),[4,this.cacheManager.get(new co({scope:e.scope,audience:e.audience||"default",client_id:this.options.client_id}))];case 2:return[2,n.sent().access_token]}}))}))},e.prototype.isAuthenticated=function(){return g(this,void 0,void 0,(function(){return y(this,(function(e){switch(e.label){case 0:return[4,this.getUser()];case 1:return[2,!!e.sent()]}}))}))},e.prototype.buildLogoutUrl=function(e){void 0===e&&(e={}),null!==e.client_id?e.client_id=e.client_id||this.options.client_id:delete e.client_id;var t=e.federated,n=h(e,["federated"]),r=t?"&federated":"";return this._url("/v2/logout?"+qi(n))+r},e.prototype.logout=function(e){var t=this;void 0===e&&(e={});var n=e.localOnly,r=h(e,["localOnly"]);if(n&&r.federated)throw new Error("It is invalid to set both the `federated` and `localOnly` options to `true`");var i=function(){if(t.cookieStorage.remove("auth0.is.authenticated"),!n){var e=t.buildLogoutUrl(r);window.location.assign(e)}};if(this.options.cache)return this.cacheManager.clear().then((function(){return i()}));this.cacheManager.clearSync(),i()},e.prototype._getTokenFromIFrame=function(e){return g(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,l,c,u,d,f,p,g,v;return y(this,(function(y){switch(y.label){case 0:return t=Ji(Xi()),n=Ji(Xi()),r=Xi(),[4,Ki(r)];case 1:i=y.sent(),o=eo(i),a=this._getParams(e,t,n,o,e.redirect_uri||this.options.redirect_uri||window.location.origin),s=this._authorizeUrl(m(m({},a),{prompt:"none",response_mode:"web_message"})),l=e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,y.label=2;case 2:return y.trys.push([2,5,,6]),[4,Wi(s,this.domainUrl,l)];case 3:if(c=y.sent(),t!==c.state)throw new Error("Invalid state");return u=e.scope,d=e.audience,e.redirect_uri,e.ignoreCache,e.timeoutInSeconds,f=h(e,["scope","audience","redirect_uri","ignoreCache","timeoutInSeconds"]),[4,ao(m(m(m({},this.customOptions),f),{scope:u,audience:d,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:r,code:c.code,grant_type:"authorization_code",redirect_uri:a.redirect_uri,auth0Client:this.options.auth0Client}),this.worker)];case 4:return p=y.sent(),g=this._verifyIdToken(p.id_token,n),[2,m(m({},p),{decodedToken:g,scope:a.scope,audience:a.audience||"default"})];case 5:throw"login_required"===(v=y.sent()).error&&this.logout({localOnly:!0}),v;case 6:return[2]}}))}))},e.prototype._getTokenUsingRefreshToken=function(e){return g(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,l,c;return y(this,(function(u){switch(u.label){case 0:return e.scope=lo(this.defaultScope,this.options.scope,e.scope),[4,this.cacheManager.get(new co({scope:e.scope,audience:e.audience||"default",client_id:this.options.client_id}))];case 1:return(t=u.sent())&&t.refresh_token||this.worker?[3,3]:[4,this._getTokenFromIFrame(e)];case 2:return[2,u.sent()];case 3:n=e.redirect_uri||this.options.redirect_uri||window.location.origin,i=e.scope,o=e.audience,e.ignoreCache,e.timeoutInSeconds,a=h(e,["scope","audience","ignoreCache","timeoutInSeconds"]),s="number"==typeof e.timeoutInSeconds?1e3*e.timeoutInSeconds:null,u.label=4;case 4:return u.trys.push([4,6,,9]),[4,ao(m(m(m(m(m({},this.customOptions),a),{audience:o,scope:i,baseUrl:this.domainUrl,client_id:this.options.client_id,grant_type:"refresh_token",refresh_token:t&&t.refresh_token,redirect_uri:n}),s&&{timeout:s}),{auth0Client:this.options.auth0Client}),this.worker)];case 5:return r=u.sent(),[3,9];case 6:return"The web worker is missing the refresh token"===(l=u.sent()).message||l.message&&l.message.indexOf("invalid refresh token")>-1?[4,this._getTokenFromIFrame(e)]:[3,8];case 7:return[2,u.sent()];case 8:throw l;case 9:return c=this._verifyIdToken(r.id_token),[2,m(m({},r),{decodedToken:c,scope:e.scope,audience:e.audience||"default"})]}}))}))},e}(),No={isAuthenticated:!1,isLoading:!0},jo=function(){throw new Error("You forgot to wrap your component in <Auth0Provider>.")},Lo=l(l({},No),{buildAuthorizeUrl:jo,buildLogoutUrl:jo,getAccessTokenSilently:jo,getAccessTokenWithPopup:jo,getIdTokenClaims:jo,loginWithRedirect:jo,loginWithPopup:jo,logout:jo,handleRedirectCallback:jo}),Ro=Object(o.createContext)(Lo),Do=function(e){function t(t,n){var r=e.call(this,n||t)||this;return r.error=t,r.error_description=n,r}return function(e,t){function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error),Po=/[?&]code=[^&]+/,Bo=/[?&]state=[^&]+/,Fo=/[?&]error=[^&]+/,Uo=function(e){return function(t){return"error"in t?new Do(t.error,t.error_description):t instanceof Error?t:new Error(e)}},zo=Uo("Login failed"),Vo=Uo("Get access token failed"),Go=function(e,t){var n,r;switch(t.type){case"LOGIN_POPUP_STARTED":return l(l({},e),{isLoading:!0});case"LOGIN_POPUP_COMPLETE":case"INITIALISED":return l(l({},e),{isAuthenticated:!!t.user,user:t.user,isLoading:!1,error:void 0});case"HANDLE_REDIRECT_COMPLETE":case"GET_ACCESS_TOKEN_COMPLETE":return(null===(n=e.user)||void 0===n?void 0:n.updated_at)===(null===(r=t.user)||void 0===r?void 0:r.updated_at)?e:l(l({},e),{isAuthenticated:!!t.user,user:t.user});case"LOGOUT":return l(l({},e),{isAuthenticated:!1,user:void 0});case"ERROR":return l(l({},e),{isLoading:!1,error:t.error})}},Ho=function(e){if(e){var t=e.redirectUri,n=c(e,["redirectUri"]);return l(l({},n),{redirect_uri:t})}},Wo=function(e){window.history.replaceState({},document.title,(null==e?void 0:e.returnTo)||window.location.pathname)},Yo=function(e){var t=e.children,n=e.skipRedirectCallback,r=e.onRedirectCallback,i=void 0===r?Wo:r,s=c(e,["children","skipRedirectCallback","onRedirectCallback"]),f=Object(o.useState)((function(){return new Mo(function(e){var t=e.clientId,n=e.redirectUri,r=e.maxAge,i=c(e,["clientId","redirectUri","maxAge"]);return l(l({},i),{client_id:t,redirect_uri:n,max_age:r,auth0Client:{name:"auth0-react",version:"1.6.0"}})}(s))}))[0],p=Object(o.useReducer)(Go,No),m=p[0],h=p[1];Object(o.useEffect)((function(){u(void 0,void 0,void 0,(function(){var e,t,r;return d(this,(function(o){switch(o.label){case 0:return o.trys.push([0,6,,7]),void 0===a&&(a=window.location.search),!Po.test(a)&&!Fo.test(a)||!Bo.test(a)||n?[3,2]:[4,f.handleRedirectCallback()];case 1:return e=o.sent().appState,i(e),[3,4];case 2:return[4,f.checkSession()];case 3:o.sent(),o.label=4;case 4:return[4,f.getUser()];case 5:return t=o.sent(),h({type:"INITIALISED",user:t}),[3,7];case 6:return r=o.sent(),h({type:"ERROR",error:zo(r)}),[3,7];case 7:return[2]}var a}))}))}),[f,i,n]);var g=Object(o.useCallback)((function(e){return f.buildAuthorizeUrl(Ho(e))}),[f]),y=Object(o.useCallback)((function(e){return f.buildLogoutUrl(e)}),[f]),v=Object(o.useCallback)((function(e){return f.loginWithRedirect(Ho(e))}),[f]),b=Object(o.useCallback)((function(e,t){return u(void 0,void 0,void 0,(function(){var n,r;return d(this,(function(i){switch(i.label){case 0:h({type:"LOGIN_POPUP_STARTED"}),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,f.loginWithPopup(e,t)];case 2:return i.sent(),[3,4];case 3:return n=i.sent(),h({type:"ERROR",error:zo(n)}),[2];case 4:return[4,f.getUser()];case 5:return r=i.sent(),h({type:"LOGIN_POPUP_COMPLETE",user:r}),[2]}}))}))}),[f]),w=Object(o.useCallback)((function(e){void 0===e&&(e={});var t=f.logout(e);if(e.localOnly){if(t&&"function"==typeof t.then)return t.then((function(){return h({type:"LOGOUT"})}));h({type:"LOGOUT"})}return t}),[f]),x=Object(o.useCallback)((function(e){return u(void 0,void 0,void 0,(function(){var t,n,r,i;return d(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,3,5]),[4,f.getTokenSilently(e)];case 1:return t=o.sent(),[3,5];case 2:throw n=o.sent(),Vo(n);case 3:return r=h,i={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,f.getUser()];case 4:return r.apply(void 0,[(i.user=o.sent(),i)]),[7];case 5:return[2,t]}}))}))}),[f]),E=Object(o.useCallback)((function(e,t){return u(void 0,void 0,void 0,(function(){var n,r,i,o;return d(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,3,5]),[4,f.getTokenWithPopup(e,t)];case 1:return n=a.sent(),[3,5];case 2:throw r=a.sent(),Vo(r);case 3:return i=h,o={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,f.getUser()];case 4:return i.apply(void 0,[(o.user=a.sent(),o)]),[7];case 5:return[2,n]}}))}))}),[f]),_=Object(o.useCallback)((function(e){return f.getIdTokenClaims(e)}),[f]),A=Object(o.useCallback)((function(e){return u(void 0,void 0,void 0,(function(){var t,n,r;return d(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,3,5]),[4,f.handleRedirectCallback(e)];case 1:return[2,i.sent()];case 2:throw t=i.sent(),Vo(t);case 3:return n=h,r={type:"HANDLE_REDIRECT_COMPLETE"},[4,f.getUser()];case 4:return n.apply(void 0,[(r.user=i.sent(),r)]),[7];case 5:return[2]}}))}))}),[f]);return a.a.createElement(Ro.Provider,{value:l(l({},m),{buildAuthorizeUrl:g,buildLogoutUrl:y,getAccessTokenSilently:x,getAccessTokenWithPopup:E,getIdTokenClaims:_,loginWithRedirect:v,loginWithPopup:b,logout:w,handleRedirectCallback:A})},t)},Qo=function(){return Object(o.useContext)(Ro)},Zo=function(e){return function(t){return a.a.createElement(Ro.Consumer,null,(function(n){return a.a.createElement(e,l({auth0:n},t))}))}},Xo=function(){return a.a.createElement(a.a.Fragment,null)},Jo=function(){return""+window.location.pathname+window.location.search},qo=function(e,t){return void 0===t&&(t={}),function(n){var r=this,i=Qo(),s=i.user,c=i.isAuthenticated,f=i.isLoading,p=i.loginWithRedirect,m=t.returnTo,h=void 0===m?Jo:m,g=t.onRedirecting,y=void 0===g?Xo:g,v=t.loginOptions,b=void 0===v?{}:v,w=t.claimCheck,x=c&&(void 0===w?function(){return!0}:w)(s);return Object(o.useEffect)((function(){if(!f&&!x){var e=l(l({},b),{appState:l(l({},b.appState),{returnTo:"function"==typeof h?h():h})});u(r,void 0,void 0,(function(){return d(this,(function(t){switch(t.label){case 0:return[4,p(e)];case 1:return t.sent(),[2]}}))}))}}),[f,x,p,b,h]),x?a.a.createElement(e,l({},n)):y()}}}).call(this,n(93),n(763).setImmediate,n(443).Buffer)},,function(e,t,n){"use strict";var r,i=n(557),o=n(558),a=n(559),s=n(560),l=n(423),c=n(255),u=n(561),d=Function,f=function(e){try{return d('"use strict"; return ('+e+").constructor;")()}catch(e){}},p=Object.getOwnPropertyDescriptor;if(p)try{p({},"")}catch(e){p=null}var m=function(){throw new c},h=p?function(){try{return m}catch(e){try{return p(arguments,"callee").get}catch(e){return m}}}():m,g=n(562)(),y=n(564)(),v=Object.getPrototypeOf||(y?function(e){return e.__proto__}:null),b={},w="undefined"!=typeof Uint8Array&&v?v(Uint8Array):r,x={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":g&&v?v([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":b,"%AsyncGenerator%":b,"%AsyncGeneratorFunction%":b,"%AsyncIteratorPrototype%":b,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":i,"%eval%":eval,"%EvalError%":o,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":d,"%GeneratorFunction%":b,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":g&&v?v(v([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&g&&v?v((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":a,"%ReferenceError%":s,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&g&&v?v((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":g&&v?v(""[Symbol.iterator]()):r,"%Symbol%":g?Symbol:r,"%SyntaxError%":l,"%ThrowTypeError%":h,"%TypedArray%":w,"%TypeError%":c,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":u,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet};if(v)try{null.error}catch(e){var E=v(v(e));x["%Error.prototype%"]=E}var _=function e(t){var n;if("%AsyncFunction%"===t)n=f("async function () {}");else if("%GeneratorFunction%"===t)n=f("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=f("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&v&&(n=v(i.prototype))}return x[t]=n,n},A={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},O=n(342),S=n(566),T=O.call(Function.call,Array.prototype.concat),I=O.call(Function.apply,Array.prototype.splice),k=O.call(Function.call,String.prototype.replace),C=O.call(Function.call,String.prototype.slice),M=O.call(Function.call,RegExp.prototype.exec),N=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,j=/\\(\\)?/g,L=function(e){var t=C(e,0,1),n=C(e,-1);if("%"===t&&"%"!==n)throw new l("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new l("invalid intrinsic syntax, expected opening `%`");var r=[];return k(e,N,(function(e,t,n,i){r[r.length]=n?k(i,j,"$1"):t||e})),r},R=function(e,t){var n,r=e;if(S(A,r)&&(r="%"+(n=A[r])[0]+"%"),S(x,r)){var i=x[r];if(i===b&&(i=_(r)),void 0===i&&!t)throw new c("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new l("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new c('"allowMissing" argument must be a boolean');if(null===M(/^%?[^%]*%?$/,e))throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=L(e),r=n.length>0?n[0]:"",i=R("%"+r+"%",t),o=i.name,a=i.value,s=!1,u=i.alias;u&&(r=u[0],I(n,T([0,1],u)));for(var d=1,f=!0;d<n.length;d+=1){var m=n[d],h=C(m,0,1),g=C(m,-1);if(('"'===h||"'"===h||"`"===h||'"'===g||"'"===g||"`"===g)&&h!==g)throw new l("property names with quotes must have matching quotes");if("constructor"!==m&&f||(s=!0),S(x,o="%"+(r+="."+m)+"%"))a=x[o];else if(null!=a){if(!(m in a)){if(!t)throw new c("base intrinsic for "+e+" exists, but the property is not available.");return}if(p&&d+1>=n.length){var y=p(a,m);a=(f=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:a[m]}else f=S(a,m),a=a[m];f&&!s&&(x[o]=a)}}return a}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";var r=n(273).a.Symbol;t.a=r},function(e,t,n){"use strict";n.r(t),n.d(t,"css",(function(){return m})),n.d(t,"extractCss",(function(){return o})),n.d(t,"glob",(function(){return v})),n.d(t,"keyframes",(function(){return b})),n.d(t,"setup",(function(){return w})),n.d(t,"styled",(function(){return x}));let r={data:""},i=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||r,o=e=>{let t=i(e),n=t.data;return t.data="",n},a=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,s=/\/\*[^]*?\*\/|  +/g,l=/\n+/g,c=(e,t)=>{let n="",r="",i="";for(let o in e){let a=e[o];"@"==o[0]?"i"==o[1]?n=o+" "+a+";":r+="f"==o[1]?c(a,o):o+"{"+c(a,"k"==o[1]?"":t)+"}":"object"==typeof a?r+=c(a,t?t.replace(/([^,])+/g,(e=>o.replace(/(^:.*)|([^,])+/g,(t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)))):o):null!=a&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=c.p?c.p(o,a):o+":"+a+";")}return n+(t&&i?t+"{"+i+"}":i)+r},u={},d=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+d(e[n]);return t}return e},f=(e,t,n,r,i)=>{let o=d(e),f=u[o]||(u[o]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(o));if(!u[f]){let t=o!==e?e:(e=>{let t,n,r=[{}];for(;t=a.exec(e.replace(s,""));)t[4]?r.shift():t[3]?(n=t[3].replace(l," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(l," ").trim();return r[0]})(e);u[f]=c(i?{["@keyframes "+f]:t}:t,n?"":"."+f)}let p=n&&u.g?u.g:null;return n&&(u.g=u[f]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(u[f],t,r,p),f},p=(e,t,n)=>e.reduce(((e,r,i)=>{let o=t[i];if(o&&o.call){let e=o(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;o=t?"."+t:e&&"object"==typeof e?e.props?"":c(e,""):!1===e?"":e}return e+r+(null==o?"":o)}),"");function m(e){let t=this||{},n=e.call?e(t.p):e;return f(n.unshift?n.raw?p(n,[].slice.call(arguments,1),t.p):n.reduce(((e,n)=>Object.assign(e,n&&n.call?n(t.p):n)),{}):n,i(t.target),t.g,t.o,t.k)}let h,g,y,v=m.bind({g:1}),b=m.bind({k:1});function w(e,t,n,r){c.p=t,h=e,g=n,y=r}function x(e,t){let n=this||{};return function(){let r=arguments;function i(o,a){let s=Object.assign({},o),l=s.className||i.className;n.p=Object.assign({theme:g&&g()},s),n.o=/ *go\d+/.test(l),s.className=m.apply(n,r)+(l?" "+l:""),t&&(s.ref=a);let c=e;return e[0]&&(c=s.as||e,delete s.as),y&&c[0]&&y(s),h(c,s)}return t?t(i):i}}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return(0,i.default)(r.default.findDOMNode(e))};var r=o(n(50)),i=o(n(200));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";var r=n(36);t.__esModule=!0,t.default=void 0;var i=r(n(163)).default?function(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):o(e,t)}:o;function o(e,t){if(t)do{if(t===e)return!0}while(t=t.parentNode);return!1}t.default=i,e.exports=t.default},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TransitLegSummary=t.TimeColumnContent=t.StayOnBoard=t.RouteLongName=t.RouteDescription=t.PlaceName=t.LineColumnContent=t.Duration=t.AccessLegStep=t.AccessLegDescription=void 0;var i=r(n(731));t.AccessLegDescription=i.default;var o=r(n(471));t.AccessLegStep=o.default;var a=r(n(472));t.Duration=a.default;var s=r(n(735));t.LineColumnContent=s.default;var l=r(n(737));t.PlaceName=l.default;var c=r(n(738));t.RouteDescription=c.default;var u=r(n(362));t.RouteLongName=u.default;var d=r(n(474));t.StayOnBoard=d.default;var f=r(n(475));t.TimeColumnContent=f.default;var p=r(n(381));t.TransitLegSummary=p.default},function(e,t,n){"use strict";t.decode=t.parse=n(576),t.encode=t.stringify=n(577)},function(e,t,n){"use strict";var r,i=Object.create,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of s(t))!c.call(e,i)&&i!==n&&o(e,i,{get:()=>t[i],enumerable:!(r=a(t,i))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?i(l(e)):{},u(!t&&e&&e.__esModule?n:o(n,"default",{value:e,enumerable:!0}),e)),f={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(f,{CheckmarkIcon:()=>Y,ErrorIcon:()=>F,LoaderIcon:()=>V,ToastBar:()=>ne,ToastIcon:()=>q,Toaster:()=>se,default:()=>le,resolveValue:()=>p,toast:()=>S,useToaster:()=>C,useToasterStore:()=>A}),e.exports=(r=f,u(o({},"__esModule",{value:!0}),r));var p=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,m=(()=>{let e=0;return()=>(++e).toString()})(),h=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),g=n(0),y=new Map,v=e=>{if(y.has(e))return;let t=setTimeout((()=>{y.delete(e),E({type:4,toastId:e})}),1e3);y.set(e,t)},b=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,20)};case 1:return t.toast.id&&(e=>{let t=y.get(e);t&&clearTimeout(t)})(t.toast.id),{...e,toasts:e.toasts.map((e=>e.id===t.toast.id?{...e,...t.toast}:e))};case 2:let{toast:n}=t;return e.toasts.find((e=>e.id===n.id))?b(e,{type:1,toast:n}):b(e,{type:0,toast:n});case 3:let{toastId:r}=t;return r?v(r):e.toasts.forEach((e=>{v(e.id)})),{...e,toasts:e.toasts.map((e=>e.id===r||void 0===r?{...e,visible:!1}:e))};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter((e=>e.id!==t.toastId))};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map((e=>({...e,pauseDuration:e.pauseDuration+i})))}}},w=[],x={toasts:[],pausedAt:void 0},E=e=>{x=b(x,e),w.forEach((e=>{e(x)}))},_={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},A=(e={})=>{let[t,n]=(0,g.useState)(x);(0,g.useEffect)((()=>(w.push(n),()=>{let e=w.indexOf(n);e>-1&&w.splice(e,1)})),[t]);let r=t.toasts.map((t=>{var n,r;return{...e,...e[t.type],...t,duration:t.duration||(null==(n=e[t.type])?void 0:n.duration)||(null==e?void 0:e.duration)||_[t.type],style:{...e.style,...null==(r=e[t.type])?void 0:r.style,...t.style}}}));return{...t,toasts:r}},O=e=>(t,n)=>{let r=((e,t="blank",n)=>({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(null==n?void 0:n.id)||m()}))(t,e,n);return E({type:2,toast:r}),r.id},S=(e,t)=>O("blank")(e,t);S.error=O("error"),S.success=O("success"),S.loading=O("loading"),S.custom=O("custom"),S.dismiss=e=>{E({type:3,toastId:e})},S.remove=e=>E({type:4,toastId:e}),S.promise=(e,t,n)=>{let r=S.loading(t.loading,{...n,...null==n?void 0:n.loading});return e.then((e=>(S.success(p(t.success,e),{id:r,...n,...null==n?void 0:n.success}),e))).catch((e=>{S.error(p(t.error,e),{id:r,...n,...null==n?void 0:n.error})})),e};var T=n(0),I=(e,t)=>{E({type:1,toast:{id:e,height:t}})},k=()=>{E({type:5,time:Date.now()})},C=e=>{let{toasts:t,pausedAt:n}=A(e);(0,T.useEffect)((()=>{if(n)return;let e=Date.now(),r=t.map((t=>{if(t.duration===1/0)return;let n=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(n<0))return setTimeout((()=>S.dismiss(t.id)),n);t.visible&&S.dismiss(t.id)}));return()=>{r.forEach((e=>e&&clearTimeout(e)))}}),[t,n]);let r=(0,T.useCallback)((()=>{n&&E({type:6,time:Date.now()})}),[n]),i=(0,T.useCallback)(((e,n)=>{let{reverseOrder:r=!1,gutter:i=8,defaultPosition:o}=n||{},a=t.filter((t=>(t.position||o)===(e.position||o)&&t.height)),s=a.findIndex((t=>t.id===e.id)),l=a.filter(((e,t)=>t<s&&e.visible)).length;return a.filter((e=>e.visible)).slice(...r?[l+1]:[0,l]).reduce(((e,t)=>e+(t.height||0)+i),0)}),[t]);return{toasts:t,handlers:{updateHeight:I,startPause:k,endPause:r,calculateOffset:i}}},M=d(n(0)),N=n(222),j=d(n(0)),L=n(222),R=n(222),D=R.keyframes`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,P=R.keyframes`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,B=R.keyframes`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,F=(0,R.styled)("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${D} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${P} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${B} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,U=n(222),z=U.keyframes`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,V=(0,U.styled)("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${z} 1s linear infinite;
`,G=n(222),H=G.keyframes`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,W=G.keyframes`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Y=(0,G.styled)("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${H} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${W} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Q=(0,L.styled)("div")`
  position: absolute;
`,Z=(0,L.styled)("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,X=L.keyframes`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,J=(0,L.styled)("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${X} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,q=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return void 0!==t?"string"==typeof t?j.createElement(J,null,t):t:"blank"===n?null:j.createElement(Z,null,j.createElement(V,{...r}),"loading"!==n&&j.createElement(Q,null,"error"===n?j.createElement(F,{...r}):j.createElement(Y,{...r})))},K=e=>`\n0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,$=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}\n`,ee=(0,N.styled)("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,te=(0,N.styled)("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ne=M.memo((({toast:e,position:t,style:n,children:r})=>{let i=e.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,i]=h()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[K(n),$(n)];return{animation:t?`${(0,N.keyframes)(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${(0,N.keyframes)(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(e.position||t||"top-center",e.visible):{opacity:0},o=M.createElement(q,{toast:e}),a=M.createElement(te,{...e.ariaProps},p(e.message,e));return M.createElement(ee,{className:e.className,style:{...i,...n,...e.style}},"function"==typeof r?r({icon:o,message:a}):M.createElement(M.Fragment,null,o,a))})),re=n(222),ie=d(n(0));(0,re.setup)(ie.createElement);var oe=({id:e,className:t,style:n,onHeightUpdate:r,children:i})=>{let o=ie.useCallback((t=>{if(t){let n=()=>{let n=t.getBoundingClientRect().height;r(e,n)};n(),new MutationObserver(n).observe(t,{subtree:!0,childList:!0,characterData:!0})}}),[e,r]);return ie.createElement("div",{ref:o,className:t,style:n},i)},ae=re.css`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,se=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:i,containerStyle:o,containerClassName:a})=>{let{toasts:s,handlers:l}=C(n);return ie.createElement("div",{style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...o},className:a,onMouseEnter:l.startPause,onMouseLeave:l.endPause},s.map((n=>{let o=n.position||t,a=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:h()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}})(o,l.calculateOffset(n,{reverseOrder:e,gutter:r,defaultPosition:t}));return ie.createElement(oe,{id:n.id,key:n.id,onHeightUpdate:l.updateHeight,className:n.visible?ae:"",style:a},"custom"===n.type?p(n.message,n):i?i(n):ie.createElement(ne,{toast:n,position:o}))})))},le=S},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n(12),i=(Object(r.a)("SET_AUTOPLAN"),Object(r.a)("SET_ROUTER_ID")),o=Object(r.a)("UPDATE_OVERLAY_VISIBILITY")},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(5),i=n(99),o=n(3);function a(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function s(e,t){Object(o.a)(2,arguments);var n=Object(r.a)(e),s=Object(r.a)(t),l=a(n,s),c=Math.abs(Object(i.a)(n,s));n.setDate(n.getDate()-l*c);var u=Number(a(n,s)===-l),d=l*(c-u);return 0===d?0:d}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(11),i=n(151),o=n(3);function a(e,t){Object(o.a)(2,arguments);var n=Object(r.a)(t);return Object(i.a)(e,1e3*n)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var r=n(166),i=n(84),o=n(0),a=n.n(o);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e){var t=e.size,n=void 0===t?14:t,o=e.style,s=Object(i.a)();return a.a.createElement(r.ExternalLinkAlt,{"aria-labelledby":"title",height:n,style:o,title:s.formatMessage({id:"common.linkOpensNewWindow"})})},d=function(e){var t=e.contents,n=e.gap,r=void 0===n?6:n,i=e.inline,o=e.size,s=void 0===o?14:o,c=e.style,d=e.url;return a.a.createElement("a",{href:d,rel:"noreferrer",style:l({alignItems:"center",display:"".concat(i?"inline-flex":"flex"),flexDirection:"row",gap:r,whiteSpace:"nowrap"},c),target:"_blank"},t,a.a.createElement(u,{size:s}))}},function(e,t,n){"use strict";var r=n(36);t.__esModule=!0,t.default=function(e,t,n){var r="",u="",d=t;if("string"==typeof t){if(void 0===n)return e.style[(0,i.default)(t)]||(0,a.default)(e).getPropertyValue((0,o.default)(t));(d={})[t]=n}Object.keys(d).forEach((function(t){var n=d[t];n||0===n?(0,c.default)(t)?u+=t+"("+n+") ":r+=(0,o.default)(t)+": "+n+";":(0,s.default)(e,(0,o.default)(t))})),u&&(r+=l.transform+": "+u+";");e.style.cssText+=";"+r};var i=r(n(465)),o=r(n(714)),a=r(n(716)),s=r(n(717)),l=n(718),c=r(n(719));e.exports=t.default},function(e,t,n){"use strict";var r=n(216),i=n(0),o=n.n(i),a=n(32),s=n(298);t.a=function(e){var t=e.className,n=e.id,l=e.links,c=e.locale,u=e.style,d=Object(r.b)(),f=d.isAuthenticated,p=d.loginWithRedirect,m=d.logout,h=d.user,g="zh"===c?"zh-CN":c,y=Object(i.useCallback)((function(){return p({appState:{returnTo:Object(a.d)()},ui_locales:g})}),[g,p]),v=Object(i.useCallback)((function(){return m({returnTo:window.location.origin})}),[m]);return o.a.createElement(s.a,{className:t,id:n,links:l,onSignInClick:y,onSignOutClick:v,profile:f?h:null,style:u})}},function(e,t,n){"use strict";var r=n(8),i=n(315),o=n(24),a=n(37),s=n(28),l=n(29),c=n.n(l),u=n(271),d=n.n(u),f=n(0),p=n.n(f),m=n(2),h=n.n(m),g=n(50),y=n.n(g),v=n(318),b=n.n(v),w=(n(275),n(13)),x=n(67),E=n(260),_={activeKey:h.a.any,activeHref:h.a.string,stacked:h.a.bool,justified:b()(h.a.bool,(function(e){var t=e.justified,n=e.navbar;return t&&n?Error("justified navbar `Nav`s are not supported"):null})),onSelect:h.a.func,role:h.a.string,navbar:h.a.bool,pullRight:h.a.bool,pullLeft:h.a.bool},A={$bs_navbar:h.a.shape({bsClass:h.a.string,onSelect:h.a.func}),$bs_tabContainer:h.a.shape({activeKey:h.a.any,onSelect:h.a.func.isRequired,getTabId:h.a.func.isRequired,getPaneId:h.a.func.isRequired})},O=function(e){function t(){return e.apply(this,arguments)||this}Object(s.a)(t,e);var n=t.prototype;return n.componentDidUpdate=function(){var e=this;if(this._needsRefocus){this._needsRefocus=!1;var t=this.props.children,n=this.getActiveProps(),r=n.activeKey,i=n.activeHref,o=E.a.find(t,(function(t){return e.isActive(t,r,i)})),a=E.a.toArray(t).indexOf(o),s=y.a.findDOMNode(this).children,l=s&&s[a];l&&l.firstChild&&l.firstChild.focus()}},n.getActiveProps=function(){var e=this.context.$bs_tabContainer;return e||this.props},n.getNextActiveChild=function(e){var t=this,n=this.props.children,r=n.filter((function(e){return null!=e.props.eventKey&&!e.props.disabled})),i=this.getActiveProps(),o=i.activeKey,a=i.activeHref,s=E.a.find(n,(function(e){return t.isActive(e,o,a)})),l=r.indexOf(s);if(-1===l)return r[0];var c=l+e,u=r.length;return c>=u?c=0:c<0&&(c=u-1),r[c]},n.getTabProps=function(e,t,n,r,i){var o=this;if(!t&&"tablist"!==n)return null;var a=e.props,s=a.id,l=a["aria-controls"],c=a.eventKey,u=a.role,d=a.onKeyDown,f=a.tabIndex;return t&&(s=t.getTabId(c),l=t.getPaneId(c)),"tablist"===n&&(u=u||"tab",d=Object(x.a)((function(e){return o.handleTabKeyDown(i,e)}),d),f=r?f:-1),{id:s,role:u,onKeyDown:d,"aria-controls":l,tabIndex:f}},n.handleTabKeyDown=function(e,t){var n;switch(t.keyCode){case d.a.codes.left:case d.a.codes.up:n=this.getNextActiveChild(-1);break;case d.a.codes.right:case d.a.codes.down:n=this.getNextActiveChild(1);break;default:return}t.preventDefault(),e&&n&&null!=n.props.eventKey&&e(n.props.eventKey),this._needsRefocus=!0},n.isActive=function(e,t,n){var r=e.props;return!!(r.active||null!=t&&r.eventKey===t||n&&r.href===n)||r.active},n.render=function(){var e,t=this,n=this.props,r=n.stacked,i=n.justified,s=n.onSelect,l=n.role,u=n.navbar,d=n.pullRight,m=n.pullLeft,h=n.className,g=n.children,y=Object(a.a)(n,["stacked","justified","onSelect","role","navbar","pullRight","pullLeft","className","children"]),v=this.context.$bs_tabContainer,b=l||(v?"tablist":null),_=this.getActiveProps(),A=_.activeKey,O=_.activeHref;delete y.activeKey,delete y.activeHref;var S,T,I=Object(w.f)(y),k=I[0],C=I[1],M=Object(o.a)({},Object(w.d)(k),((e={})[Object(w.e)(k,"stacked")]=r,e[Object(w.e)(k,"justified")]=i,e)),N=null!=u?u:this.context.$bs_navbar;if(N){var j=this.context.$bs_navbar||{bsClass:"navbar"};M[Object(w.e)(j,"nav")]=!0,T=Object(w.e)(j,"right"),S=Object(w.e)(j,"left")}else T="pull-right",S="pull-left";return M[T]=d,M[S]=m,p.a.createElement("ul",Object(o.a)({},C,{role:b,className:c()(h,M)}),E.a.map(g,(function(e){var n=t.isActive(e,A,O),r=Object(x.a)(e.props.onSelect,s,N&&N.onSelect,v&&v.onSelect);return Object(f.cloneElement)(e,Object(o.a)({},t.getTabProps(e,v,b,n,r),{active:n,activeKey:A,activeHref:O,onSelect:r}))})))},t}(p.a.Component);O.propTypes=_,O.defaultProps={justified:!1,pullRight:!1,pullLeft:!1,stacked:!1},O.contextTypes=A;var S,T,I=Object(w.a)("nav",Object(w.c)(["tabs","pills"],O)),k=n(1060),C=n(84),M=n(1),N=n(21),j=n(159),L=n(38),R=n(47),D=n(233),P=n(324),B=n(206),F=n(326),U=n(327),z=n(69),V=n(104),G=function(){var e=Object(C.a)();return p.a.createElement("div",{"aria-label":e.formatMessage({id:"components.ViewSwitcher.switcher"}),className:"view-switcher",id:"view-switcher",role:"group"},p.a.createElement(V.a,{to:"/",tracking:!0},p.a.createElement(z.a,{id:"components.BatchRoutingPanel.shortTitle"})),p.a.createElement(V.a,{to:"/route",tracking:!0},p.a.createElement(z.a,{id:"components.RouteViewer.shortTitle"})),p.a.createElement(V.a,{to:"/nearby",tracking:!0},p.a.createElement(z.a,{id:"components.ViewSwitcher.nearby"})))};function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function W(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Y=Object(M.default)(I)(S||(S=W(["\n  display: flex;\n  justify-content: end;\n  /* Target only the svgs in the Navbar */\n  & > li > button > svg,\n  & > li > span > button > span > svg {\n    height: 18px;\n  }\n\n  & .caret {\n    margin-left: 5px;\n    margin-right: -10px;\n  }\n\n  .navBarItem {\n    position: static;\n    & > button {\n      background: transparent;\n      border: none;\n      color: white;\n      padding: 15px;\n      line-height: 20px;\n\n      &:hover {\n        background: rgba(0, 0, 0, 0.05);\n        color: #ececec;\n      }\n    }\n  }\n"]))),Q=Object(M.default)(U.a)(T||(T=W(["\n  display: block;\n  @media (max-width: 768px) {\n    display: none !important;\n  }\n"]))),Z={setPopupContent:N.l};t.a=Object(r.c)((function(e){var t,n,r=e.otp.config,i=e.otp.ui.errors.networkConnectionLost;return{locale:e.otp.ui.locale,networkConnectionLost:i,otpConfig:r,popupTarget:null===(t=r.popups)||void 0===t||null===(n=t.launchers)||void 0===n?void 0:n.toolbar}}),Z)((function(e){var t=e.locale,n=e.networkConnectionLost,r=e.otpConfig,o=e.popupTarget,a=e.setPopupContent,s=r.brandClickable,l=r.branding,c=r.extraMenuItems,u=r.persistence,d=r.title,f=void 0===d?L.j:d,m=Object(C.a)(),h=Boolean(Object(j.getAuth0Config)(u)),g=s?"a":"div",y=s&&{href:"/#/",style:{display:"block",position:"relative",zIndex:10}},v=o&&m.formatMessage({id:"config.popups.".concat(o)});return p.a.createElement("header",null,p.a.createElement(k.a,{fluid:!0,inverse:!0},p.a.createElement(k.a.Header,{style:{position:"relative",width:"100%",zIndex:2}},p.a.createElement(k.a.Brand,null,p.a.createElement(B.b,null),!Object(i.isMobile)()&&p.a.createElement(p.a.Fragment,null,p.a.createElement(g,H({className:l&&"with-icon icon-".concat(l)},y),p.a.createElement("div",{className:"navbar-title"},f)))),p.a.createElement(G,null),p.a.createElement(Y,{pullRight:!0},o&&p.a.createElement(Q,{onClick:function(){return a(o)},title:v},p.a.createElement(B.a,{iconType:o}),p.a.createElement(R.a,null,v)),p.a.createElement(F.a,null),h&&p.a.createElement(D.a,{id:"login-control",links:Object(j.accountLinks)(c),locale:t,style:{float:"right"}})))),p.a.createElement(P.a,{networkConnectionLost:n}))}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(5),i=n(3),o=n(135),a=n(11),s=n(53);function l(e,t){var n,l,c,u,d,f,p,m;Object(i.a)(1,arguments);var h=Object(r.a)(e),g=h.getUTCFullYear(),y=Object(s.a)(),v=Object(a.a)(null!==(n=null!==(l=null!==(c=null!==(u=null==t?void 0:t.firstWeekContainsDate)&&void 0!==u?u:null==t||null===(d=t.locale)||void 0===d||null===(f=d.options)||void 0===f?void 0:f.firstWeekContainsDate)&&void 0!==c?c:y.firstWeekContainsDate)&&void 0!==l?l:null===(p=y.locale)||void 0===p||null===(m=p.options)||void 0===m?void 0:m.firstWeekContainsDate)&&void 0!==n?n:1);if(!(v>=1&&v<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var b=new Date(0);b.setUTCFullYear(g+1,0,v),b.setUTCHours(0,0,0,0);var w=Object(o.a)(b,t),x=new Date(0);x.setUTCFullYear(g,0,v),x.setUTCHours(0,0,0,0);var E=Object(o.a)(x,t);return h.getTime()>=w.getTime()?g+1:h.getTime()>=E.getTime()?g:g-1}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4),i=n.n(r),o=n(0),a=n(10),s=o.forwardRef((function(e,t){return o.createElement(a.a,i()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 384 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M215.7 499.2C267 435 384 279.4 384 192 384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2 12.3 15.3 35.1 15.3 47.4 0zM192 256c-35.3 0-64-28.7-64-64s28.7-64 64-64 64 28.7 64 64-28.7 64-64 64z"}))}));s.displayName="MapMarkerAlt"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Spinner=t.StopRoutes=t.StopName=t.StopIconAndDistanceContainer=t.StopDistance=t.StopContentContainer=t.StaticMenuItemList=t.RouteName=t.OptionIconContainer=t.OptionContent=t.OptionAltLabel=t.OptionSubTitle=t.OptionContainer=t.MenuItemLi=t.MenuGroupHeader=t.InputGroup=t.Input=t.MenuItemList=t.DropdownButton=t.ClearBoth=t.ClearButton=t.BaseButton=t.HiddenContent=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(1)),i=n(261);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}const a=(0,r.css)(["clip:rect(0,0,0,0);display:inline-block;height:0;overflow:hidden;width:0;"]),s=r.default.span.withConfig({displayName:"styled__HiddenContent",componentId:"sc-xahsq2-0"})(["",""],a);t.HiddenContent=s;const l=r.default.button.withConfig({displayName:"styled__BaseButton",componentId:"sc-xahsq2-1"})(["border:none;background:none;"]);t.BaseButton=l;const c=(0,r.default)(l).withConfig({displayName:"styled__ClearButton",componentId:"sc-xahsq2-2"})(["color:#888;cursor:pointer;width:30px;"]);t.ClearButton=c;const u=r.default.div.withConfig({displayName:"styled__ClearBoth",componentId:"sc-xahsq2-3"})(["clear:both;"]);t.ClearBoth=u;const d=(0,r.default)(l).withConfig({displayName:"styled__DropdownButton",componentId:"sc-xahsq2-4"})(["width:30px;"]);t.DropdownButton=d;const f=r.default.ul.attrs({role:"listbox"}).withConfig({displayName:"styled__MenuItemList",componentId:"sc-xahsq2-5"})(['background-clip:padding-box;background-color:#fff;border-radius:4px;border:1px solid rgba(0,0,0,0.15);box-shadow:0 6px 12px rgba(0,0,0,0.175);float:left;font-size:14px;left:0;list-style:none;margin:2px 0 0;min-width:160px;max-height:75vh;padding:0 0 5px 0;position:absolute;overflow:auto;text-align:left;top:100%;z-index:1000000;input[aria-expanded="false"] ~ &{',"}"],a);t.MenuItemList=f;const p=r.default.input.withConfig({displayName:"styled__Input",componentId:"sc-xahsq2-6"})(["border:none;box-shadow:none;font-size:17px;outline:none;"]);t.Input=p;const m=r.default.div.withConfig({displayName:"styled__InputGroup",componentId:"sc-xahsq2-7"})(["border-bottom:1px solid #000;border-collapse:separate;display:table;margin-bottom:15px;position:relative;"]);t.InputGroup=m;const h=r.default.h2.withConfig({displayName:"styled__MenuGroupHeader",componentId:"sc-xahsq2-8"})(["color:",";background-color:",";font-size:12px;font-weight:normal;line-height:1.42857143;margin:0;padding:2px 10px;text-align:center;white-space:nowrap;"],(e=>e.fgColor||"#eee"),(e=>e.bgColor||"#333"));t.MenuGroupHeader=h;const g=r.default.li.withConfig({displayName:"styled__MenuItemLi",componentId:"sc-xahsq2-9"})(['&:hover{background-color:#f5f5f5;cursor:pointer;}&[aria-hidden="true"]:hover{background-color:unset;cursor:default;}background-color:',";clear:both;color:",";display:block;font-weight:400;line-height:1.42857143;padding:3px 20px;text-decoration:none;white-space:nowrap;"],(e=>e.active?"#337ab7":"transparent"),(e=>e.active?"#fff":"#333"));t.MenuItemLi=g;const y=r.default.span.withConfig({displayName:"styled__OptionContainer",componentId:"sc-xahsq2-10"})(["display:block;padding-top:5px;padding-bottom:3px;"]);t.OptionContainer=y;const v=r.default.span.withConfig({displayName:"styled__OptionSubTitle",componentId:"sc-xahsq2-11"})(["color:#686868;font-size:12px;margin-left:6px;"]);t.OptionSubTitle=v;const b=r.default.span.withConfig({displayName:"styled__OptionAltLabel",componentId:"sc-xahsq2-12"})(["color:#686868;display:block;font-size:11px;margin-left:46px;"]);t.OptionAltLabel=b;const w=r.default.span.withConfig({displayName:"styled__OptionContent",componentId:"sc-xahsq2-13"})(["margin-left:30px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"]);t.OptionContent=w;const x=r.default.span.withConfig({displayName:"styled__OptionIconContainer",componentId:"sc-xahsq2-14"})(["float:left;"]);t.OptionIconContainer=x;const E=r.default.span.withConfig({displayName:"styled__RouteName",componentId:"sc-xahsq2-15"})(["background-color:gray;color:white;padding:2px 3px 0px;margin-right:5px;"]);t.RouteName=E;const _=(0,r.default)(f).withConfig({displayName:"styled__StaticMenuItemList",componentId:"sc-xahsq2-16"})(["border:none;box-shadow:none;display:block;"]);t.StaticMenuItemList=_;const A=r.default.span.withConfig({displayName:"styled__StopContentContainer",componentId:"sc-xahsq2-17"})(["margin-left:30px;"]);t.StopContentContainer=A;const O=r.default.span.withConfig({displayName:"styled__StopDistance",componentId:"sc-xahsq2-18"})(["font-size:8px;"]);t.StopDistance=O;const S=r.default.span.withConfig({displayName:"styled__StopIconAndDistanceContainer",componentId:"sc-xahsq2-19"})(["float:left;padding-top:3px;"]);t.StopIconAndDistanceContainer=S;const T=r.default.span.withConfig({displayName:"styled__StopName",componentId:"sc-xahsq2-20"})([""]);t.StopName=T;const I=r.default.span.withConfig({displayName:"styled__StopRoutes",componentId:"sc-xahsq2-21"})(["font-size:9px;"]);t.StopRoutes=I;const k=(0,r.keyframes)(["0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}"]),C=(0,r.default)(i.Spinner).withConfig({displayName:"styled__Spinner",componentId:"sc-xahsq2-22"})(["animation:"," 1.2s linear infinite;"],k);t.Spinner=C},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4),i=n.n(r),o=n(0),a=n(10),s=o.forwardRef((function(e,t){return o.createElement(a.a,i()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M256 0c134.4 0 224 35.2 224 80v48c17.7 0 32 14.3 32 32v64c0 17.7-14.3 32-32 32v160c0 17.7-14.3 32-32 32v32c0 17.7-14.3 32-32 32h-32c-17.7 0-32-14.3-32-32v-32H160v32c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32v-32c-17.7 0-32-14.3-32-32V256c-17.7 0-32-14.3-32-32v-64c0-17.7 14.3-32 32-32V80c0-44.8 89.6-80 224-80zM96 160v96c0 17.7 14.3 32 32 32h112V128H128c-17.7 0-32 14.3-32 32zm176 128h112c17.7 0 32-14.3 32-32v-96c0-17.7-14.3-32-32-32H272v160zM112 400c17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32 14.3 32 32 32zm288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32 14.3 32 32 32zM352 80c0-8.8-7.2-16-16-16H176c-8.8 0-16 7.2-16 16s7.2 16 16 16h160c8.8 0 16-7.2 16-16z"}))}));s.displayName="Bus"},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4),i=n.n(r),o=n(0),a=n(10),s=o.forwardRef((function(e,t){return o.createElement(a.a,i()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 384 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M384 192c0 87.4-117 243-168.3 307.2-12.3 15.3-35.1 15.3-47.4 0C117 435 0 279.4 0 192 0 86 86 0 192 0s192 86 192 192z"}))}));s.displayName="MapMarker"},function(e,t,n){"use strict";var r=n(84),i=n(69),o=n(7),a=n(0),s=n.n(a),l=n(47),c=o.default.ui.isMobile();t.a=function(e){var t=e.compact,n=e.popupTarget,o=Object(r.a)().formatMessage({id:"config.popups.".concat(n)});return s.a.createElement(s.a.Fragment,null,t?s.a.createElement(i.a,{defaultMessage:o,id:"config.popups.".concat(n,"-narrow")}):o,c&&s.a.createElement(l.a,null,s.a.createElement(i.a,{id:"common.linkOpensNewWindow"})))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4),i=n.n(r),o=n(0),a=n(10),s=o.forwardRef((function(e,t){return o.createElement(a.a,i()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M125.7 160H176c17.7 0 32 14.3 32 32s-14.3 32-32 32H48c-17.7 0-32-14.3-32-32V64c0-17.7 14.3-32 32-32s32 14.3 32 32v51.2l17.6-17.6c87.5-87.5 229.3-87.5 316.8 0s87.5 229.3 0 316.8-229.3 87.5-316.8 0c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3-163.8-62.5-226.3 0L125.7 160z"}))}));s.displayName="Undo"},function(e,t,n){"use strict";var r,i,o=n(0),a=n.n(o),s=n(1);function l(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var c=s.default.img(r||(r=l(["\n  &:not(:last-of-type) {\n    margin-right: 0.5ch;\n  }\n  width: 25px;\n"]))),u=Object(s.default)(c)(i||(i=l(["\n  margin-right: 0.5ch;\n  max-height: 1em;\n  // Make sure icons stay square\n  max-width: 1em;\n"])));t.a=function(e){var t=e.alt,n=e.operator,r=e.styled;return(null==n?void 0:n.logo)?r?a.a.createElement(u,{alt:t||n.name,src:n.logo}):a.a.createElement(c,{alt:t||n.name,src:n.logo}):null}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return g}));var r=n(69),i=n(7),o=n(0),a=n.n(o),s=n(44),l=n(54),c=n(204),u=i.default.itinerary.isRideshareLeg,d=i.default.itinerary,f=d.isBicycle,p=d.isMicromobility,m=d.isTransitLeg;function h(e){var t,n=e.itinerary,i=Object(o.useContext)(s.a).TransitModes,l=0,d="walk";n.legs.forEach((function(e){var n=e.duration,r=e.mode,o=e.rentedBike,s=e.rentedVehicle;m(e)&&n>l&&(l=n,t=i?a.a.createElement(i,{leg:e}):a.a.createElement(c.a,{mode:r})),f(r)&&(d="bicycle"),o&&(d="bicycle_rent"),p(r)&&(d="micromobility"),s&&(d="micromobility_rent"),"CAR"===r&&(d="drive"),u(e)&&(d="ride")}));var h=a.a.createElement(c.a,{mode:d});return t?a.a.createElement(r.a,{id:"components.DefaultItinerary.multiModeSummary",values:{accessMode:h,transitMode:t}}):h}function g(e){var t=e.intl,n=function(e){var t,n=e.combineTransitModes,r=e.intl,i=e.itinerary,o=0,a="walk";return i.legs.forEach((function(e,i){var s=e.duration,c=e.mode,d=e.rentedBike,h=e.rentedVehicle;m(e)&&s>o&&(o=s,t=Object(l.c)(n?"transit":c.toLowerCase(),r)),f(c)&&(a="bicycle"),d&&(a="bicycle_rent"),p(c)&&(a="micromobility"),(h||p(c)&&d)&&(a="micromobility_rent"),"CAR"===c&&(a="drive"),u(e)&&(a="ride")})),{mainMode:Object(l.c)(a,r),transitMode:t}}(e),r=n.mainMode,i=n.transitMode;return i?t.formatMessage({id:"components.DefaultItinerary.multiModeSummary"},{accessMode:r,transitMode:i}):r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCompanyIcon=function(e){const t=a[e.toLowerCase()]||a[e.toLowerCase().slice(0,4)];t||console.warn(`No Company Icon found for: '${e}'!`);return t};var r=n(0);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}const a={biketown:(0,r.lazy)((()=>Promise.resolve().then((()=>o(n(462)))))),lyft_pdx:(0,r.lazy)((()=>Promise.resolve().then((()=>o(n(462)))))),bird:(0,r.lazy)((()=>Promise.resolve().then((()=>o(n(696)))))),bolt:(0,r.lazy)((()=>Promise.resolve().then((()=>o(n(697)))))),boltEu:(0,r.lazy)((()=>Promise.resolve().then((()=>o(n(698)))))),car2go:(0,r.lazy)((()=>Promise.resolve().then((()=>o(n(699)))))),gruv:(0,r.lazy)((()=>Promise.resolve().then((()=>o(n(700)))))),hopr:(0,r.lazy)((()=>Promise.resolve().then((()=>o(n(701)))))),lime:(0,r.lazy)((()=>Promise.resolve().then((()=>o(n(463)))))),lyft:(0,r.lazy)((()=>Promise.resolve().then((()=>o(n(463)))))),razor:(0,r.lazy)((()=>Promise.resolve().then((()=>o(n(702)))))),reachnow:(0,r.lazy)((()=>Promise.resolve().then((()=>o(n(703)))))),shared:(0,r.lazy)((()=>Promise.resolve().then((()=>o(n(704)))))),spin:(0,r.lazy)((()=>Promise.resolve().then((()=>o(n(705)))))),uber:(0,r.lazy)((()=>Promise.resolve().then((()=>o(n(706))))))}},function(e,t,n){"use strict";t.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},i=a(n(0)),o=a(n(708));function a(e){return e&&e.__esModule?e:{default:e}}t.default=(0,o.default)((function(e,t,n,o,a){var s=e[t],l=void 0===s?"undefined":r(s);return i.default.isValidElement(s)?new Error("Invalid "+o+" `"+a+"` of type ReactElement supplied to `"+n+"`, expected an element type (a string or a ReactClass)."):"function"!==l&&"string"!==l?new Error("Invalid "+o+" `"+a+"` of value `"+s+"` supplied to `"+n+"`, expected an element type (a string or a ReactClass)."):null}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(19),i=n(0),o=n.n(i);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e){return function(t){var n=Object(r.i)().default;return o.a.createElement(e,a({},t,{map:n}))}}},function(e,t){e.exports={otpUi:{TripDetails:{FareTable:{cash:"Cash",electronic:"Electronic",regular:"Adult",senior:"Senior",special:"Special",youth:"Youth"},co2:"CO Emitted: <strong>{co2}</strong>",co2description:"CO intensity is calculated by multiplying the distance of each leg of a trip by the CO intensity of each mode. CO intensity of each mode is derived from <link>this spreadsheet</link>.",departure:"Depart <strong>{departureDate, date, long}</strong> at <strong>{departureDate, time, short}</strong>",hideDetail:"Hide details",legMissingFareInfo:"No fare information for this leg",minutesActive:"Time Spent Active: <strong>{approximatePrefix, select, true {~} other {}}{minutes, plural, one {# minute} other {# minutes}}</strong>",missingFareTotal:"No fare total available",showDetail:"Show details",timeActiveDescription:"By taking this trip, you'll spend <strong>{walkMinutes, plural, one {# minute} other {# minutes}}</strong> walking and <strong>{bikeMinutes, plural, one {# minute} other {# minutes}}</strong> biking.\n",title:"Trip Details",tncFare:"{companies} Fare: <strong>{minTNCFare} - {maxTNCFare}</strong>",transferDiscountExplanation:"Transfer discount of {transferAmount} is applied",transitFare:"Transit Fare",transitFareEntry:"{name}: <strong>{value}</strong>",tripIncludesFlex:"This trip includes flexible routes. {extraMessage}"}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4),i=n.n(r),o=n(0),a=n(10),s=o.forwardRef((function(e,t){return o.createElement(a.a,i()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M272 96c-78.6 0-145.1 51.5-167.7 122.5 33.6-17 71.5-26.5 111.7-26.5h88c8.8 0 16 7.2 16 16s-7.2 16-16 16h-88c-16.6 0-32.7 1.9-48.3 5.4-25.9 5.9-49.9 16.4-71.4 30.7C38.3 298.8 0 364.9 0 440v16c0 13.3 10.7 24 24 24s24-10.7 24-24v-16c0-48.7 20.7-92.5 53.8-123.2C121.6 392.3 190.3 448 272 448h1c132.1-.7 239-130.9 239-291.4 0-42.6-7.5-83.1-21.1-119.6-2.6-6.9-12.7-6.6-16.2-.1C455.9 72.1 418.7 96 376 96H272z"}))}));s.displayName="Leaf"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.storeItem=function(e,t){window.localStorage.setItem(`otp.${e}`,JSON.stringify(t))},t.getItem=function(e,t=null){let n;try{n=window.localStorage.getItem(`otp.${e}`);const r=JSON.parse(n);return r||t}catch(e){return console.warn(e,n),t}},t.removeItem=function(e){window.localStorage.removeItem(`otp.${e}`)},t.randId=function(){return Math.random().toString(36).substr(2,9)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={INVALID_MODE_SELECTION:2,INVALID_QUERY:1,SUCCESS:0}},function(e,t,n){"use strict";var r,i=n(24),o=n(37),a=n(28),s=n(29),l=n.n(s),c=n(0),u=n.n(c),d=n(2),f=n.n(d),p=n(161),m=n.n(p),h={in:f.a.bool,mountOnEnter:f.a.bool,unmountOnExit:f.a.bool,appear:f.a.bool,timeout:f.a.number,onEnter:f.a.func,onEntering:f.a.func,onEntered:f.a.func,onExit:f.a.func,onExiting:f.a.func,onExited:f.a.func},g=((r={})[p.ENTERING]="in",r[p.ENTERED]="in",r),y=function(e){function t(){return e.apply(this,arguments)||this}return Object(a.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,r=Object(o.a)(e,["className","children"]);return u.a.createElement(m.a,r,(function(e,r){return u.a.cloneElement(n,Object(i.a)({},r,{className:l()("fade",t,n.props.className,g[e])}))}))},t}(u.a.Component);y.propTypes=h,y.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},t.a=y},function(e,t,n){"use strict";var r=n(0),i=n.n(r);t.a=i.a.createContext(null)},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=E(n(768)),o=E(n(224)),a=E(n(163)),s=E(n(2)),l=E(n(285)),c=E(n(769)),u=E(n(78)),d=n(0),f=E(d),p=E(n(50)),m=E(n(275)),h=E(n(771)),g=E(n(467)),y=E(n(776)),v=E(n(470)),b=E(n(777)),w=E(n(286)),x=E(n(223));function E(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var O=new h.default,S=function(e){function t(){var n,r;_(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=A(this,e.call.apply(e,[this].concat(o))),T.call(r),A(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.omitProps=function(e,t){var n=Object.keys(e),r={};return n.map((function(n){Object.prototype.hasOwnProperty.call(t,n)||(r[n]=e[n])})),r},t.prototype.render=function(){var e=this.props,n=e.show,i=e.container,o=e.children,a=e.transition,s=e.backdrop,l=e.className,c=e.style,u=e.onExit,p=e.onExiting,m=e.onEnter,h=e.onEntering,v=e.onEntered,b=f.default.Children.only(o),w=this.omitProps(this.props,t.propTypes);if(!(n||a&&!this.state.exited))return null;var x=b.props,E=x.role,_=x.tabIndex;return void 0!==E&&void 0!==_||(b=(0,d.cloneElement)(b,{role:void 0===E?"document":E,tabIndex:null==_?"-1":_})),a&&(b=f.default.createElement(a,{appear:!0,unmountOnExit:!0,in:n,onExit:u,onExiting:p,onExited:this.handleHidden,onEnter:m,onEntering:h,onEntered:v},b)),f.default.createElement(g.default,{ref:this.setMountNode,container:i,onRendered:this.onPortalRendered},f.default.createElement("div",r({ref:this.setModalNodeRef,role:E||"dialog"},w,{style:c,className:l}),s&&this.renderBackdrop(),f.default.createElement(y.default,{ref:this.setDialogRef},b)))},t.prototype.componentWillReceiveProps=function(e){e.show?this.setState({exited:!1}):e.transition||this.setState({exited:!0})},t.prototype.componentWillUpdate=function(e){!this.props.show&&e.show&&this.checkForFocus()},t.prototype.componentDidMount=function(){this._isMounted=!0,this.props.show&&this.onShow()},t.prototype.componentDidUpdate=function(e){var t=this.props.transition;!e.show||this.props.show||t?!e.show&&this.props.show&&this.onShow():this.onHide()},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.show,n=e.transition;this._isMounted=!1,(t||n&&!this.state.exited)&&this.onHide()},t.prototype.autoFocus=function(){if(this.props.autoFocus){var e=this.getDialogElement(),t=(0,i.default)((0,x.default)(this));e&&!(0,o.default)(e,t)&&(this.lastFocus=t,e.hasAttribute("tabIndex")||((0,m.default)(!1,'The modal content node does not accept focus. For the benefit of assistive technologies, the tabIndex of the node is being set to "-1".'),e.setAttribute("tabIndex",-1)),e.focus())}},t.prototype.restoreLastFocus=function(){this.lastFocus&&this.lastFocus.focus&&(this.lastFocus.focus(),this.lastFocus=null)},t.prototype.getDialogElement=function(){return p.default.findDOMNode(this.dialog)},t.prototype.isTopModal=function(){return this.props.manager.isTopModal(this)},t}(f.default.Component);S.propTypes=r({},g.default.propTypes,{show:s.default.bool,container:s.default.oneOfType([l.default,s.default.func]),onShow:s.default.func,onHide:s.default.func,backdrop:s.default.oneOfType([s.default.bool,s.default.oneOf(["static"])]),renderBackdrop:s.default.func,onEscapeKeyDown:s.default.func,onEscapeKeyUp:(0,c.default)(s.default.func,"Please use onEscapeKeyDown instead for consistency"),onBackdropClick:s.default.func,backdropStyle:s.default.object,backdropClassName:s.default.string,containerClassName:s.default.string,keyboard:s.default.bool,transition:u.default,backdropTransition:u.default,autoFocus:s.default.bool,enforceFocus:s.default.bool,restoreFocus:s.default.bool,onEnter:s.default.func,onEntering:s.default.func,onEntered:s.default.func,onExit:s.default.func,onExiting:s.default.func,onExited:s.default.func,manager:s.default.object.isRequired}),S.defaultProps={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,onHide:function(){},manager:O,renderBackdrop:function(e){return f.default.createElement("div",e)}};var T=function(){var e=this;this.state={exited:!this.props.show},this.renderBackdrop=function(){var t=e.props,n=t.backdropStyle,r=t.backdropClassName,i=t.renderBackdrop,o=t.backdropTransition,a=i({ref:function(t){return e.backdrop=t},style:n,className:r,onClick:e.handleBackdropClick});return o&&(a=f.default.createElement(o,{appear:!0,in:e.props.show},a)),a},this.onPortalRendered=function(){e.autoFocus(),e.props.onShow&&e.props.onShow()},this.onShow=function(){var t=(0,x.default)(e),n=(0,w.default)(e.props.container,t.body);e.props.manager.add(e,n,e.props.containerClassName),e._onDocumentKeydownListener=(0,v.default)(t,"keydown",e.handleDocumentKeyDown),e._onDocumentKeyupListener=(0,v.default)(t,"keyup",e.handleDocumentKeyUp),e._onFocusinListener=(0,b.default)(e.enforceFocus)},this.onHide=function(){e.props.manager.remove(e),e._onDocumentKeydownListener.remove(),e._onDocumentKeyupListener.remove(),e._onFocusinListener.remove(),e.props.restoreFocus&&e.restoreLastFocus()},this.setMountNode=function(t){e.mountNode=t?t.getMountNode():t},this.setModalNodeRef=function(t){e.modalNode=t},this.setDialogRef=function(t){e.dialog=t},this.handleHidden=function(){var t;(e.setState({exited:!0}),e.onHide(),e.props.onExited)&&(t=e.props).onExited.apply(t,arguments)},this.handleBackdropClick=function(t){t.target===t.currentTarget&&(e.props.onBackdropClick&&e.props.onBackdropClick(t),!0===e.props.backdrop&&e.props.onHide())},this.handleDocumentKeyDown=function(t){e.props.keyboard&&27===t.keyCode&&e.isTopModal()&&(e.props.onEscapeKeyDown&&e.props.onEscapeKeyDown(t),e.props.onHide())},this.handleDocumentKeyUp=function(t){e.props.keyboard&&27===t.keyCode&&e.isTopModal()&&e.props.onEscapeKeyUp&&e.props.onEscapeKeyUp(t)},this.checkForFocus=function(){a.default&&(e.lastFocus=(0,i.default)())},this.enforceFocus=function(){if(e.props.enforceFocus&&e._isMounted&&e.isTopModal()){var t=e.getDialogElement(),n=(0,i.default)((0,x.default)(e));t&&!(0,o.default)(t,n)&&t.focus()}}};S.Manager=h.default,t.default=S,e.exports=t.default},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,c=[],u=!1,d=-1;function f(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&p())}function p(){if(!u){var e=s(f);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function h(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new m(e,t)),1!==c.length||u||s(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=h,i.addListener=h,i.once=h,i.off=h,i.removeListener=h,i.removeAllListeners=h,i.emit=h,i.prependListener=h,i.prependOnceListener=h,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";e.exports=TypeError},function(e,t,n){var r=n(640),i=n(643);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){function n(e,t){if((e=e.replace(/\s+/g,""))===(t=t.replace(/\s+/g,"")))return 1;if(e.length<2||t.length<2)return 0;let n=new Map;for(let t=0;t<e.length-1;t++){const r=e.substring(t,t+2),i=n.has(r)?n.get(r)+1:1;n.set(r,i)}let r=0;for(let e=0;e<t.length-1;e++){const i=t.substring(e,e+2),o=n.has(i)?n.get(i):0;o>0&&(n.set(i,o-1),r++)}return 2*r/(e.length+t.length-2)}e.exports={compareTwoStrings:n,findBestMatch:function(e,t){if(!function(e,t){return"string"==typeof e&&(!!Array.isArray(t)&&(!!t.length&&!t.find((function(e){return"string"!=typeof e}))))}(e,t))throw new Error("Bad arguments: First argument should be a string, second should be an array of strings");const r=[];let i=0;for(let o=0;o<t.length;o++){const a=t[o],s=n(e,a);r.push({target:a,rating:s}),s>r[i].rating&&(i=o)}const o=r[i];return{ratings:r,bestMatch:o,bestMatchIndex:i}}}},function(e,t,n){"use strict";var r=n(0),i=n.n(r);t.a={map:function(e,t,n){var r=0;return i.a.Children.map(e,(function(e){return i.a.isValidElement(e)?t.call(n,e,r++):e}))},forEach:function(e,t,n){var r=0;i.a.Children.forEach(e,(function(e){i.a.isValidElement(e)&&t.call(n,e,r++)}))},count:function(e){var t=0;return i.a.Children.forEach(e,(function(e){i.a.isValidElement(e)&&++t})),t},find:function(e,t,n){var r,o=0;return i.a.Children.forEach(e,(function(e){r||i.a.isValidElement(e)&&t.call(n,e,o++)&&(r=e)})),r},filter:function(e,t,n){var r=0,o=[];return i.a.Children.forEach(e,(function(e){i.a.isValidElement(e)&&t.call(n,e,r++)&&o.push(e)})),o},every:function(e,t,n){var r=0,o=!0;return i.a.Children.forEach(e,(function(e){o&&i.a.isValidElement(e)&&(t.call(n,e,r++)||(o=!1))})),o},some:function(e,t,n){var r=0,o=!1;return i.a.Children.forEach(e,(function(e){o||i.a.isValidElement(e)&&t.call(n,e,r++)&&(o=!0)})),o},toArray:function(e){var t=[];return i.a.Children.forEach(e,(function(e){i.a.isValidElement(e)&&t.push(e)})),t}}},function(e,t,n){"use strict";n.r(t),n.d(t,"Spinner",(function(){return s})),n.d(t,"SpinnerDimensions",(function(){return l}));var r=n(4),i=n.n(r),o=n(0),a=n(10),s=o.forwardRef((function(e,t){return o.createElement(a.a,i()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M304 48c0-26.5-21.5-48-48-48s-48 21.5-48 48 21.5 48 48 48 48-21.5 48-48zm0 416c0-26.5-21.5-48-48-48s-48 21.5-48 48 21.5 48 48 48 48-21.5 48-48zM48 304c26.5 0 48-21.5 48-48s-21.5-48-48-48-48 21.5-48 48 21.5 48 48 48zm464-48c0-26.5-21.5-48-48-48s-48 21.5-48 48 21.5 48 48 48 48-21.5 48-48zM142.9 437c18.7-18.7 18.7-49.1 0-67.9s-49.1-18.7-67.9 0-18.7 49.1 0 67.9 49.1 18.7 67.9 0zm0-294.2c18.7-18.7 18.7-49.1 0-67.9S93.7 56.2 75 75s-18.7 49.1 0 67.9 49.1 18.7 67.9 0zM369.1 437c18.7 18.7 49.1 18.7 67.9 0s18.7-49.1 0-67.9-49.1-18.7-67.9 0-18.7 49.1 0 67.9z"}))}));s.displayName="Spinner";var l={height:512,width:512}},function(e,t,n){"use strict";var r,i,o=n(8),a=n(84),s=n(69),l=n(0),c=n.n(l),u=n(1),d=n(54),f=n(70),p=n(47),m=n(195),h=n(209);function g(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var y=u.default.div(r||(r=g(["\n  align-items: center;\n  display: flex;\n  flex-wrap: wrap;\n  gap: 10px;\n  margin-top: 10px !important;\n\n  svg {\n    /* Fix for safari, where svg needs explicit width to render */\n    width: 28px;\n    /* Fix for our svg icons, which tend to be slightly off-center */\n    &:not(.no-centering-fix) {\n      margin-left: 0px;\n    }\n  }\n\n  ","\n"])),(function(e){return!(null==e?void 0:e.enableDot)&&'\n    .route-block-wrapper {\n      background: rgba(0,0,0,0.05);\n      border-radius: 10px;\n      padding: 6px;\n    }\n    /* Slight margin adjustments for "bubble" */\n    .route-block-wrapper svg:first-of-type {\n      margin-left: 5px;\n    }\n    .route-block-wrapper section:first-of-type {\n      margin-left: -4px;\n    }\n  '})),v=Object(u.default)(p.a)(i||(i=g(["\n  grid-column: 2;\n  grid-row: 2;\n"])));t.a=Object(o.c)((function(e){var t,n;return{enableDot:!(null===(t=e.otp.config.itinerary)||void 0===t?void 0:t.disableMetroSeperatorDot),showAllWalkLegs:null===(n=e.otp.config.itinerary)||void 0===n?void 0:n.showAllWalkLegs}}))((function(e){var t=e.enableDot,n=e.expanded,r=e.itinerary,i=e.LegIcon,o=e.showAllWalkLegs,l=e.showLegDurations,u=Object(a.a)(),p=o?r.legs:r.legs.filter(m.e),g=Object(m.d)(r,u);return c.a.createElement(c.a.Fragment,null,c.a.createElement(v,{as:n?"h1":void 0},String(g)?c.a.createElement(s.a,{id:"components.MetroUI.itineraryDescription",values:{routes:g,time:Object(f.b)(r.duration,u,!1)}}):c.a.createElement(s.a,{id:"components.MetroUI.singleModeItineraryDescription",values:{mode:Object(d.c)(r.legs[0].mode,u),time:Object(f.b)(r.duration,u,!1)}})),c.a.createElement(y,{"aria-hidden":!0,enableDot:t},p.map((function(e,n,r){var o=n>0&&r[n-1].mode||void 0;return c.a.createElement(h.a,{"aria-hidden":!0,footer:l&&c.a.createElement(f.a,{duration:e.duration,includeSeconds:!1}),hideLongName:!0,key:n,leg:e,LegIcon:i,previousLegMode:o,showDivider:t})}))))}))},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.barberPole=void 0;var l=s(n(7)),c=s(n(71)),u=s(n(0)),d=a(n(1)),f=n(202),p=(0,d.css)(w||(w=r(["\n  background: radial-gradient(ellipse at center, #87cefa 40%, transparent 10%);\n  background-position: center -5px;\n  background-repeat: repeat-y;\n  background-size: 12px 12px;\n  left: 6px;\n  right: 6px;\n"],["\n  background: radial-gradient(ellipse at center, #87cefa 40%, transparent 10%);\n  background-position: center -5px;\n  background-repeat: repeat-y;\n  background-size: 12px 12px;\n  left: 6px;\n  right: 6px;\n"]))),m=(0,d.css)(x||(x=r(["\n  background: repeating-linear-gradient(\n    0deg,\n    red,\n    red 8px,\n    white 8px,\n    white 12.5px\n  );\n  left: 7.5px;\n  right: 7.5px;\n"],["\n  background: repeating-linear-gradient(\n    0deg,\n    red,\n    red 8px,\n    white 8px,\n    white 12.5px\n  );\n  left: 7.5px;\n  right: 7.5px;\n"]))),h=(0,d.css)(E||(E=r(["\n  background: repeating-linear-gradient(\n    0deg,\n    grey,\n    grey 8px,\n    white 8px,\n    white 12.5px\n  );\n  left: 7.5px;\n  right: 7.5px;\n"],["\n  background: repeating-linear-gradient(\n    0deg,\n    grey,\n    grey 8px,\n    white 8px,\n    white 12.5px\n  );\n  left: 7.5px;\n  right: 7.5px;\n"]))),g=(0,d.css)(_||(_=r(["\n  background: repeating-linear-gradient(\n    0deg,\n    #f5a729,\n    #f5a729 8px,\n    white 8px,\n    white 12.5px\n  );\n  left: 7.5px;\n  right: 7.5px;\n"],["\n  background: repeating-linear-gradient(\n    0deg,\n    #f5a729,\n    #f5a729 8px,\n    white 8px,\n    white 12.5px\n  );\n  left: 7.5px;\n  right: 7.5px;\n"]))),y=(0,d.css)(A||(A=r(["\n  background-color: gray;\n  left: 5px;\n  right: 5px;\n"],["\n  background-color: gray;\n  left: 5px;\n  right: 5px;\n"])));var v=d.default.span(O||(O=r(["\n  position: absolute;\n  width: 100%;\n  top: 3px;\n  z-index: 20;\n"],["\n  position: absolute;\n  width: 100%;\n  top: 3px;\n  z-index: 20;\n"]))),b=function(e){var t=e.leg,n=e.routeColor,r=t.mode;return t.transitLeg||l.default.itinerary.isTransit(r)?n?"#".concat(n):"#000088":void 0};t.barberPole=function(e,t){return void 0===t&&(t=5),"repeating-linear-gradient( \n  -45deg, \n  ".concat(e,"30, \n  ").concat(e,"30 ").concat(t,"px, \n  ").concat(e," ").concat(t,"px, \n  ").concat(e," ").concat(2*t,"px\n  );")};var w,x,E,_,A,O,S,T,I,k,C=d.default.div(S||(S=r(["\n  ","\n\n  /* Disabling CSS order rules is the only way to ensure styles override each other properly */\n  /* stylelint-disable declaration-block-no-shorthand-property-overrides */ \n  background-color: ",";\n  background: ",";\n  bottom: -11px;\n  position: absolute;\n  top: 11px;\n  z-index: 10;\n"],["\n  ","\n\n  /* Disabling CSS order rules is the only way to ensure styles override each other properly */\n  /* stylelint-disable declaration-block-no-shorthand-property-overrides */ \n  background-color: ",";\n  background: ",";\n  bottom: -11px;\n  position: absolute;\n  top: 11px;\n  z-index: 10;\n"])),(function(e){return function(e){switch(e){case"WALK":return p;case"BICYCLE":case"BICYCLE_RENT":return m;case"CAR":return h;case"MICROMOBILITY":case"MICROMOBILITY_RENT":case"SCOOTER":return g;default:return y}}(e.leg.mode)}),(function(e){return b(e)}),(function(e){return l.default.itinerary.isFlex(e.leg)?(0,t.barberPole)(b(e)):void 0})),M=(0,d.default)(f.Circle)(T||(T=r(["\n  left: 0;\n  line-height: inherit;\n  position: absolute;\n  text-align: center;\n  width: 100%;\n"],["\n  left: 0;\n  line-height: inherit;\n  position: absolute;\n  text-align: center;\n  width: 100%;\n"]))),N=(0,d.default)(M)(I||(I=r(["\n  top: 3px;\n"],["\n  top: 3px;\n"]))),j=(0,d.default)(c.default)(k||(k=r(["\n  left: 0;\n  position: absolute;\n  text-align: center;\n  width: 100%;\n"],["\n  left: 0;\n  position: absolute;\n  text-align: center;\n  width: 100%;\n"])));t.default=function(e){var t,n=e.interline,r=e.isDestination,i=e.lastLeg,o=e.leg,a=e.legIndex;return n||(t=r?u.default.createElement(u.default.Fragment,null,u.default.createElement(N,{size:14,color:"white"}),u.default.createElement(j,{size:20,type:"to"})):0===a?u.default.createElement(u.default.Fragment,null,u.default.createElement(N,{size:14,color:"white"}),u.default.createElement(j,{size:20,type:"from"})):(o.from.bikeShareId||o.from.rentalVehicle)&&o.mode.startsWith("BICYCLE")||i.from.bikeShareId&&"WALK"===o.mode?u.default.createElement(M,{size:17,color:"red"}):"VEHICLERENTAL"===o.from.vertexType||"BIKESHARE"===o.from.vertexType||"VEHICLERENTAL"===i.from.vertexType&&"WALK"===o.mode||"BIKESHARE"===i.from.vertexType&&"WALK"===o.mode?u.default.createElement(M,{size:17,color:"#f5a729"}):"CAR"===o.mode&&"WALK"===i.mode||"CAR"===i.mode&&"WALK"===o.mode?u.default.createElement(M,{size:17,color:"#888"}):u.default.createElement(u.default.Fragment,null,u.default.createElement(M,{size:20,color:"black"}),u.default.createElement(N,{size:14,color:"white"}))),u.default.createElement(u.default.Fragment,null,!r&&u.default.createElement(C,{className:"leg-line",leg:o,routeColor:o.routeColor}),u.default.createElement(v,null,t))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return et}));var r=n(79),i=n(409);function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Object(i.a)(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}var a=n(133),s=n(139),l=n(5),c=n(155),u=n(265),d=n(83),f=n(160),p=n(11),m=n(3),h=n(22),g=n(34),y=n(337);var v=n(405);function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(y.a)(e);if(t){var i=Object(y.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(v.a)(this,n)}}var w=n(31),x=n(30),E=n(18),_=function(){function e(){Object(w.a)(this,e),Object(E.a)(this,"priority",void 0),Object(E.a)(this,"subPriority",0)}return Object(x.a)(e,[{key:"validate",value:function(e,t){return!0}}]),e}(),A=function(e){Object(g.a)(n,e);var t=b(n);function n(e,r,i,o,a){var s;return Object(w.a)(this,n),(s=t.call(this)).value=e,s.validateValue=r,s.setValue=i,s.priority=o,a&&(s.subPriority=a),s}return Object(x.a)(n,[{key:"validate",value:function(e,t){return this.validateValue(e,this.value,t)}},{key:"set",value:function(e,t,n){return this.setValue(e,t,this.value,n)}}]),n}(_),O=function(e){Object(g.a)(n,e);var t=b(n);function n(){var e;Object(w.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(E.a)(Object(h.a)(e),"priority",10),Object(E.a)(Object(h.a)(e),"subPriority",-1),e}return Object(x.a)(n,[{key:"set",value:function(e,t){if(t.timestampIsSet)return e;var n=new Date(0);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}}]),n}(_),S=function(){function e(){Object(w.a)(this,e),Object(E.a)(this,"incompatibleTokens",void 0),Object(E.a)(this,"priority",void 0),Object(E.a)(this,"subPriority",void 0)}return Object(x.a)(e,[{key:"run",value:function(e,t,n,r){var i=this.parse(e,t,n,r);return i?{setter:new A(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}},{key:"validate",value:function(e,t,n){return!0}}]),e}(),T=function(e){Object(g.a)(n,e);var t=b(n);function n(){var e;Object(w.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(E.a)(Object(h.a)(e),"priority",140),Object(E.a)(Object(h.a)(e),"incompatibleTokens",["R","u","t","T"]),e}return Object(x.a)(n,[{key:"parse",value:function(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});case"GGGG":default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}},{key:"set",value:function(e,t,n){return t.era=n,e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(S),I=n(35),k=/^(1[0-2]|0?\d)/,C=/^(3[0-1]|[0-2]?\d)/,M=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,N=/^(5[0-3]|[0-4]?\d)/,j=/^(2[0-3]|[0-1]?\d)/,L=/^(2[0-4]|[0-1]?\d)/,R=/^(1[0-1]|0?\d)/,D=/^(1[0-2]|0?\d)/,P=/^[0-5]?\d/,B=/^[0-5]?\d/,F=/^\d/,U=/^\d{1,2}/,z=/^\d{1,3}/,V=/^\d{1,4}/,G=/^-?\d+/,H=/^-?\d/,W=/^-?\d{1,2}/,Y=/^-?\d{1,3}/,Q=/^-?\d{1,4}/,Z=/^([+-])(\d{2})(\d{2})?|Z/,X=/^([+-])(\d{2})(\d{2})|Z/,J=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,q=/^([+-])(\d{2}):(\d{2})|Z/,K=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function $(e,t){return e?{value:t(e.value),rest:e.rest}:e}function ee(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function te(e,t){var n=t.match(e);if(!n)return null;if("Z"===n[0])return{value:0,rest:t.slice(1)};var r="+"===n[1]?1:-1,i=n[2]?parseInt(n[2],10):0,o=n[3]?parseInt(n[3],10):0,a=n[5]?parseInt(n[5],10):0;return{value:r*(i*I.d+o*I.e+a*I.f),rest:t.slice(n[0].length)}}function ne(e){return ee(G,e)}function re(e,t){switch(e){case 1:return ee(F,t);case 2:return ee(U,t);case 3:return ee(z,t);case 4:return ee(V,t);default:return ee(new RegExp("^\\d{1,"+e+"}"),t)}}function ie(e,t){switch(e){case 1:return ee(H,t);case 2:return ee(W,t);case 3:return ee(Y,t);case 4:return ee(Q,t);default:return ee(new RegExp("^-?\\d{1,"+e+"}"),t)}}function oe(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function ae(e,t){var n,r=t>0,i=r?t:1-t;if(i<=50)n=e||100;else{var o=i+50;n=e+100*Math.floor(o/100)-(e>=o%100?100:0)}return r?n:1-n}function se(e){return e%400==0||e%4==0&&e%100!=0}var le=function(e){Object(g.a)(n,e);var t=b(n);function n(){var e;Object(w.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(E.a)(Object(h.a)(e),"priority",130),Object(E.a)(Object(h.a)(e),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),e}return Object(x.a)(n,[{key:"parse",value:function(e,t,n){var r=function(e){return{year:e,isTwoDigitYear:"yy"===t}};switch(t){case"y":return $(re(4,e),r);case"yo":return $(n.ordinalNumber(e,{unit:"year"}),r);default:return $(re(t.length,e),r)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,n){var r=e.getUTCFullYear();if(n.isTwoDigitYear){var i=ae(n.year,r);return e.setUTCFullYear(i,0,1),e.setUTCHours(0,0,0,0),e}var o="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(o,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(S),ce=n(235),ue=n(135),de=function(e){Object(g.a)(n,e);var t=b(n);function n(){var e;Object(w.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(E.a)(Object(h.a)(e),"priority",130),Object(E.a)(Object(h.a)(e),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),e}return Object(x.a)(n,[{key:"parse",value:function(e,t,n){var r=function(e){return{year:e,isTwoDigitYear:"YY"===t}};switch(t){case"Y":return $(re(4,e),r);case"Yo":return $(n.ordinalNumber(e,{unit:"year"}),r);default:return $(re(t.length,e),r)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,n,r){var i=Object(ce.a)(e,r);if(n.isTwoDigitYear){var o=ae(n.year,i);return e.setUTCFullYear(o,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),Object(ue.a)(e,r)}var a="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(a,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),Object(ue.a)(e,r)}}]),n}(S),fe=n(142),pe=function(e){Object(g.a)(n,e);var t=b(n);function n(){var e;Object(w.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(E.a)(Object(h.a)(e),"priority",130),Object(E.a)(Object(h.a)(e),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),e}return Object(x.a)(n,[{key:"parse",value:function(e,t){return ie("R"===t?4:t.length,e)}},{key:"set",value:function(e,t,n){var r=new Date(0);return r.setUTCFullYear(n,0,4),r.setUTCHours(0,0,0,0),Object(fe.a)(r)}}]),n}(S),me=function(e){Object(g.a)(n,e);var t=b(n);function n(){var e;Object(w.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(E.a)(Object(h.a)(e),"priority",130),Object(E.a)(Object(h.a)(e),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),e}return Object(x.a)(n,[{key:"parse",value:function(e,t){return ie("u"===t?4:t.length,e)}},{key:"set",value:function(e,t,n){return e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(S),he=function(e){Object(g.a)(n,e);var t=b(n);function n(){var e;Object(w.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(E.a)(Object(h.a)(e),"priority",120),Object(E.a)(Object(h.a)(e),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),e}return Object(x.a)(n,[{key:"parse",value:function(e,t,n){switch(t){case"Q":case"QQ":return re(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,n){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e}}]),n}(S),ge=function(e){Object(g.a)(n,e);var t=b(n);function n(){var e;Object(w.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(E.a)(Object(h.a)(e),"priority",120),Object(E.a)(Object(h.a)(e),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),e}return Object(x.a)(n,[{key:"parse",value:function(e,t,n){switch(t){case"q":case"qq":return re(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,n){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e}}]),n}(S),ye=function(e){Object(g.a)(n,e);var t=b(n);function n(){var e;Object(w.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(E.a)(Object(h.a)(e),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Object(E.a)(Object(h.a)(e),"priority",110),e}return Object(x.a)(n,[{key:"parse",value:function(e,t,n){var r=function(e){return e-1};switch(t){case"M":return $(ee(k,e),r);case"MM":return $(re(2,e),r);case"Mo":return $(n.ordinalNumber(e,{unit:"month"}),r);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e}}]),n}(S),ve=function(e){Object(g.a)(n,e);var t=b(n);function n(){var e;Object(w.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(E.a)(Object(h.a)(e),"priority",110),Object(E.a)(Object(h.a)(e),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),e}return Object(x.a)(n,[{key:"parse",value:function(e,t,n){var r=function(e){return e-1};switch(t){case"L":return $(ee(k,e),r);case"LL":return $(re(2,e),r);case"Lo":return $(n.ordinalNumber(e,{unit:"month"}),r);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e}}]),n}(S),be=n(334);var we=function(e){Object(g.a)(n,e);var t=b(n);function n(){var e;Object(w.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(E.a)(Object(h.a)(e),"priority",100),Object(E.a)(Object(h.a)(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),e}return Object(x.a)(n,[{key:"parse",value:function(e,t,n){switch(t){case"w":return ee(N,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return re(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,n,r){return Object(ue.a)(function(e,t,n){Object(m.a)(2,arguments);var r=Object(l.a)(e),i=Object(p.a)(t),o=Object(be.a)(r,n)-i;return r.setUTCDate(r.getUTCDate()-7*o),r}(e,n,r),r)}}]),n}(S),xe=n(335);var Ee=function(e){Object(g.a)(n,e);var t=b(n);function n(){var e;Object(w.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(E.a)(Object(h.a)(e),"priority",100),Object(E.a)(Object(h.a)(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),e}return Object(x.a)(n,[{key:"parse",value:function(e,t,n){switch(t){case"I":return ee(N,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return re(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,n){return Object(fe.a)(function(e,t){Object(m.a)(2,arguments);var n=Object(l.a)(e),r=Object(p.a)(t),i=Object(xe.a)(n)-r;return n.setUTCDate(n.getUTCDate()-7*i),n}(e,n))}}]),n}(S),_e=[31,28,31,30,31,30,31,31,30,31,30,31],Ae=[31,29,31,30,31,30,31,31,30,31,30,31],Oe=function(e){Object(g.a)(n,e);var t=b(n);function n(){var e;Object(w.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(E.a)(Object(h.a)(e),"priority",90),Object(E.a)(Object(h.a)(e),"subPriority",1),Object(E.a)(Object(h.a)(e),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),e}return Object(x.a)(n,[{key:"parse",value:function(e,t,n){switch(t){case"d":return ee(C,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return re(t.length,e)}}},{key:"validate",value:function(e,t){var n=se(e.getUTCFullYear()),r=e.getUTCMonth();return n?t>=1&&t<=Ae[r]:t>=1&&t<=_e[r]}},{key:"set",value:function(e,t,n){return e.setUTCDate(n),e.setUTCHours(0,0,0,0),e}}]),n}(S),Se=function(e){Object(g.a)(n,e);var t=b(n);function n(){var e;Object(w.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(E.a)(Object(h.a)(e),"priority",90),Object(E.a)(Object(h.a)(e),"subpriority",1),Object(E.a)(Object(h.a)(e),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),e}return Object(x.a)(n,[{key:"parse",value:function(e,t,n){switch(t){case"D":case"DD":return ee(M,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return re(t.length,e)}}},{key:"validate",value:function(e,t){return se(e.getUTCFullYear())?t>=1&&t<=366:t>=1&&t<=365}},{key:"set",value:function(e,t,n){return e.setUTCMonth(0,n),e.setUTCHours(0,0,0,0),e}}]),n}(S),Te=n(53);function Ie(e,t,n){var r,i,o,a,s,c,u,d;Object(m.a)(2,arguments);var f=Object(Te.a)(),h=Object(p.a)(null!==(r=null!==(i=null!==(o=null!==(a=null==n?void 0:n.weekStartsOn)&&void 0!==a?a:null==n||null===(s=n.locale)||void 0===s||null===(c=s.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==o?o:f.weekStartsOn)&&void 0!==i?i:null===(u=f.locale)||void 0===u||null===(d=u.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==r?r:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=Object(l.a)(e),y=Object(p.a)(t),v=g.getUTCDay(),b=y%7,w=(b+7)%7,x=(w<h?7:0)+y-v;return g.setUTCDate(g.getUTCDate()+x),g}var ke=function(e){Object(g.a)(n,e);var t=b(n);function n(){var e;Object(w.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(E.a)(Object(h.a)(e),"priority",90),Object(E.a)(Object(h.a)(e),"incompatibleTokens",["D","i","e","c","t","T"]),e}return Object(x.a)(n,[{key:"parse",value:function(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=Ie(e,n,r)).setUTCHours(0,0,0,0),e}}]),n}(S),Ce=function(e){Object(g.a)(n,e);var t=b(n);function n(){var e;Object(w.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(E.a)(Object(h.a)(e),"priority",90),Object(E.a)(Object(h.a)(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),e}return Object(x.a)(n,[{key:"parse",value:function(e,t,n,r){var i=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return $(re(t.length,e),i);case"eo":return $(n.ordinalNumber(e,{unit:"day"}),i);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=Ie(e,n,r)).setUTCHours(0,0,0,0),e}}]),n}(S),Me=function(e){Object(g.a)(n,e);var t=b(n);function n(){var e;Object(w.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(E.a)(Object(h.a)(e),"priority",90),Object(E.a)(Object(h.a)(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),e}return Object(x.a)(n,[{key:"parse",value:function(e,t,n,r){var i=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return $(re(t.length,e),i);case"co":return $(n.ordinalNumber(e,{unit:"day"}),i);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=Ie(e,n,r)).setUTCHours(0,0,0,0),e}}]),n}(S);var Ne=function(e){Object(g.a)(n,e);var t=b(n);function n(){var e;Object(w.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(E.a)(Object(h.a)(e),"priority",90),Object(E.a)(Object(h.a)(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),e}return Object(x.a)(n,[{key:"parse",value:function(e,t,n){var r=function(e){return 0===e?7:e};switch(t){case"i":case"ii":return re(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return $(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return $(n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return $(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);case"iiii":default:return $(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r)}}},{key:"validate",value:function(e,t){return t>=1&&t<=7}},{key:"set",value:function(e,t,n){return(e=function(e,t){Object(m.a)(2,arguments);var n=Object(p.a)(t);n%7==0&&(n-=7);var r=1,i=Object(l.a)(e),o=i.getUTCDay(),a=((n%7+7)%7<r?7:0)+n-o;return i.setUTCDate(i.getUTCDate()+a),i}(e,n)).setUTCHours(0,0,0,0),e}}]),n}(S),je=function(e){Object(g.a)(n,e);var t=b(n);function n(){var e;Object(w.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(E.a)(Object(h.a)(e),"priority",80),Object(E.a)(Object(h.a)(e),"incompatibleTokens",["b","B","H","k","t","T"]),e}return Object(x.a)(n,[{key:"parse",value:function(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(oe(n),0,0,0),e}}]),n}(S),Le=function(e){Object(g.a)(n,e);var t=b(n);function n(){var e;Object(w.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(E.a)(Object(h.a)(e),"priority",80),Object(E.a)(Object(h.a)(e),"incompatibleTokens",["a","B","H","k","t","T"]),e}return Object(x.a)(n,[{key:"parse",value:function(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(oe(n),0,0,0),e}}]),n}(S),Re=function(e){Object(g.a)(n,e);var t=b(n);function n(){var e;Object(w.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(E.a)(Object(h.a)(e),"priority",80),Object(E.a)(Object(h.a)(e),"incompatibleTokens",["a","b","t","T"]),e}return Object(x.a)(n,[{key:"parse",value:function(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(oe(n),0,0,0),e}}]),n}(S),De=function(e){Object(g.a)(n,e);var t=b(n);function n(){var e;Object(w.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(E.a)(Object(h.a)(e),"priority",70),Object(E.a)(Object(h.a)(e),"incompatibleTokens",["H","K","k","t","T"]),e}return Object(x.a)(n,[{key:"parse",value:function(e,t,n){switch(t){case"h":return ee(D,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return re(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=12}},{key:"set",value:function(e,t,n){var r=e.getUTCHours()>=12;return r&&n<12?e.setUTCHours(n+12,0,0,0):r||12!==n?e.setUTCHours(n,0,0,0):e.setUTCHours(0,0,0,0),e}}]),n}(S),Pe=function(e){Object(g.a)(n,e);var t=b(n);function n(){var e;Object(w.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(E.a)(Object(h.a)(e),"priority",70),Object(E.a)(Object(h.a)(e),"incompatibleTokens",["a","b","h","K","k","t","T"]),e}return Object(x.a)(n,[{key:"parse",value:function(e,t,n){switch(t){case"H":return ee(j,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return re(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=23}},{key:"set",value:function(e,t,n){return e.setUTCHours(n,0,0,0),e}}]),n}(S),Be=function(e){Object(g.a)(n,e);var t=b(n);function n(){var e;Object(w.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(E.a)(Object(h.a)(e),"priority",70),Object(E.a)(Object(h.a)(e),"incompatibleTokens",["h","H","k","t","T"]),e}return Object(x.a)(n,[{key:"parse",value:function(e,t,n){switch(t){case"K":return ee(R,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return re(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.getUTCHours()>=12&&n<12?e.setUTCHours(n+12,0,0,0):e.setUTCHours(n,0,0,0),e}}]),n}(S),Fe=function(e){Object(g.a)(n,e);var t=b(n);function n(){var e;Object(w.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(E.a)(Object(h.a)(e),"priority",70),Object(E.a)(Object(h.a)(e),"incompatibleTokens",["a","b","h","H","K","t","T"]),e}return Object(x.a)(n,[{key:"parse",value:function(e,t,n){switch(t){case"k":return ee(L,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return re(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=24}},{key:"set",value:function(e,t,n){var r=n<=24?n%24:n;return e.setUTCHours(r,0,0,0),e}}]),n}(S),Ue=function(e){Object(g.a)(n,e);var t=b(n);function n(){var e;Object(w.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(E.a)(Object(h.a)(e),"priority",60),Object(E.a)(Object(h.a)(e),"incompatibleTokens",["t","T"]),e}return Object(x.a)(n,[{key:"parse",value:function(e,t,n){switch(t){case"m":return ee(P,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return re(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,n){return e.setUTCMinutes(n,0,0),e}}]),n}(S),ze=function(e){Object(g.a)(n,e);var t=b(n);function n(){var e;Object(w.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(E.a)(Object(h.a)(e),"priority",50),Object(E.a)(Object(h.a)(e),"incompatibleTokens",["t","T"]),e}return Object(x.a)(n,[{key:"parse",value:function(e,t,n){switch(t){case"s":return ee(B,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return re(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,n){return e.setUTCSeconds(n,0),e}}]),n}(S),Ve=function(e){Object(g.a)(n,e);var t=b(n);function n(){var e;Object(w.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(E.a)(Object(h.a)(e),"priority",30),Object(E.a)(Object(h.a)(e),"incompatibleTokens",["t","T"]),e}return Object(x.a)(n,[{key:"parse",value:function(e,t){return $(re(t.length,e),(function(e){return Math.floor(e*Math.pow(10,3-t.length))}))}},{key:"set",value:function(e,t,n){return e.setUTCMilliseconds(n),e}}]),n}(S),Ge=function(e){Object(g.a)(n,e);var t=b(n);function n(){var e;Object(w.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(E.a)(Object(h.a)(e),"priority",10),Object(E.a)(Object(h.a)(e),"incompatibleTokens",["t","T","x"]),e}return Object(x.a)(n,[{key:"parse",value:function(e,t){switch(t){case"X":return te(Z,e);case"XX":return te(X,e);case"XXXX":return te(J,e);case"XXXXX":return te(K,e);case"XXX":default:return te(q,e)}}},{key:"set",value:function(e,t,n){return t.timestampIsSet?e:new Date(e.getTime()-n)}}]),n}(S),He=function(e){Object(g.a)(n,e);var t=b(n);function n(){var e;Object(w.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(E.a)(Object(h.a)(e),"priority",10),Object(E.a)(Object(h.a)(e),"incompatibleTokens",["t","T","X"]),e}return Object(x.a)(n,[{key:"parse",value:function(e,t){switch(t){case"x":return te(Z,e);case"xx":return te(X,e);case"xxxx":return te(J,e);case"xxxxx":return te(K,e);case"xxx":default:return te(q,e)}}},{key:"set",value:function(e,t,n){return t.timestampIsSet?e:new Date(e.getTime()-n)}}]),n}(S),We=function(e){Object(g.a)(n,e);var t=b(n);function n(){var e;Object(w.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(E.a)(Object(h.a)(e),"priority",40),Object(E.a)(Object(h.a)(e),"incompatibleTokens","*"),e}return Object(x.a)(n,[{key:"parse",value:function(e){return ne(e)}},{key:"set",value:function(e,t,n){return[new Date(1e3*n),{timestampIsSet:!0}]}}]),n}(S),Ye=function(e){Object(g.a)(n,e);var t=b(n);function n(){var e;Object(w.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(E.a)(Object(h.a)(e),"priority",20),Object(E.a)(Object(h.a)(e),"incompatibleTokens","*"),e}return Object(x.a)(n,[{key:"parse",value:function(e){return ne(e)}},{key:"set",value:function(e,t,n){return[new Date(n),{timestampIsSet:!0}]}}]),n}(S),Qe={G:new T,y:new le,Y:new de,R:new pe,u:new me,Q:new he,q:new ge,M:new ye,L:new ve,w:new we,I:new Ee,d:new Oe,D:new Se,E:new ke,e:new Ce,c:new Me,i:new Ne,a:new je,b:new Le,B:new Re,h:new De,H:new Pe,K:new Be,k:new Fe,m:new Ue,s:new ze,S:new Ve,X:new Ge,x:new He,t:new We,T:new Ye},Ze=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Xe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Je=/^'([^]*?)'?$/,qe=/''/g,Ke=/\S/,$e=/[a-zA-Z]/;function et(e,t,n,i){var h,g,y,v,b,w,x,E,_,A,S,T,I,k,C,M,N,j;Object(m.a)(3,arguments);var L=String(e),R=String(t),D=Object(Te.a)(),P=null!==(h=null!==(g=null==i?void 0:i.locale)&&void 0!==g?g:D.locale)&&void 0!==h?h:a.a;if(!P.match)throw new RangeError("locale must contain match property");var B=Object(p.a)(null!==(y=null!==(v=null!==(b=null!==(w=null==i?void 0:i.firstWeekContainsDate)&&void 0!==w?w:null==i||null===(x=i.locale)||void 0===x||null===(E=x.options)||void 0===E?void 0:E.firstWeekContainsDate)&&void 0!==b?b:D.firstWeekContainsDate)&&void 0!==v?v:null===(_=D.locale)||void 0===_||null===(A=_.options)||void 0===A?void 0:A.firstWeekContainsDate)&&void 0!==y?y:1);if(!(B>=1&&B<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var F=Object(p.a)(null!==(S=null!==(T=null!==(I=null!==(k=null==i?void 0:i.weekStartsOn)&&void 0!==k?k:null==i||null===(C=i.locale)||void 0===C||null===(M=C.options)||void 0===M?void 0:M.weekStartsOn)&&void 0!==I?I:D.weekStartsOn)&&void 0!==T?T:null===(N=D.locale)||void 0===N||null===(j=N.options)||void 0===j?void 0:j.weekStartsOn)&&void 0!==S?S:0);if(!(F>=0&&F<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===R)return""===L?Object(l.a)(n):new Date(NaN);var U,z={firstWeekContainsDate:B,weekStartsOn:F,locale:P},V=[new O],G=R.match(Xe).map((function(e){var t=e[0];return t in u.a?(0,u.a[t])(e,P.formatLong):e})).join("").match(Ze),H=[],W=o(G);try{var Y=function(){var t=U.value;null!=i&&i.useAdditionalWeekYearTokens||!Object(f.b)(t)||Object(f.c)(t,R,e),null!=i&&i.useAdditionalDayOfYearTokens||!Object(f.a)(t)||Object(f.c)(t,R,e);var n=t[0],r=Qe[n];if(r){var o=r.incompatibleTokens;if(Array.isArray(o)){var a=H.find((function(e){return o.includes(e.token)||e.token===n}));if(a)throw new RangeError("The format string mustn't contain `".concat(a.fullToken,"` and `").concat(t,"` at the same time"))}else if("*"===r.incompatibleTokens&&H.length>0)throw new RangeError("The format string mustn't contain `".concat(t,"` and any other token at the same time"));H.push({token:n,fullToken:t});var s=r.run(L,t,P.match,z);if(!s)return{v:new Date(NaN)};V.push(s.setter),L=s.rest}else{if(n.match($e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+n+"`");if("''"===t?t="'":"'"===n&&(t=tt(t)),0!==L.indexOf(t))return{v:new Date(NaN)};L=L.slice(t.length)}};for(W.s();!(U=W.n()).done;){var Q=Y();if("object"===Object(r.a)(Q))return Q.v}}catch(e){W.e(e)}finally{W.f()}if(L.length>0&&Ke.test(L))return new Date(NaN);var Z=V.map((function(e){return e.priority})).sort((function(e,t){return t-e})).filter((function(e,t,n){return n.indexOf(e)===t})).map((function(e){return V.filter((function(t){return t.priority===e})).sort((function(e,t){return t.subPriority-e.subPriority}))})).map((function(e){return e[0]})),X=Object(l.a)(n);if(isNaN(X.getTime()))return new Date(NaN);var J,q=Object(s.a)(X,Object(d.a)(X)),K={},$=o(Z);try{for($.s();!(J=$.n()).done;){var ee=J.value;if(!ee.validate(q,z))return new Date(NaN);var te=ee.set(q,K,z);Array.isArray(te)?(q=te[0],Object(c.a)(K,te[1])):q=te}}catch(e){$.e(e)}finally{$.f()}return q}function tt(e){return e.match(Je)[1].replace(qe,"'")}},function(e,t,n){"use strict";var r=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},i=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},o={p:i,P:function(e,t){var n,o=e.match(/(P+)(p+)?/)||[],a=o[1],s=o[2];if(!s)return r(e,t);switch(a){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;case"PPPP":default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",r(a,t)).replace("{{time}}",i(s,t))}};t.a=o},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n(107);const i={searchStringToObject:r.f,objectToSearchString:r.e,updateType:"pushIn",includeKnownParams:void 0,includeAllParams:!1,removeDefaultsFromUrl:!1,enableBatching:!1,skipUpdateWhenNoChange:!0};function o(e,t){null==t&&(t={});const n={...e,...t};return t.params&&e.params&&(n.params={...e.params,...t.params}),n}},function(e,t,n){e.exports=n(692)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"SkeletonTheme",{enumerable:!0,get:function(){return i.default}});var r=o(n(461)),i=o(n(695));function o(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){var r;r=function(){var e=!0;function t(t){function n(e){var n=t.match(e);return n&&n.length>1&&n[1]||""}function r(e){var n=t.match(e);return n&&n.length>1&&n[2]||""}var i,a=n(/(ipod|iphone|ipad)/i).toLowerCase(),s=!/like android/i.test(t)&&/android/i.test(t),l=/nexus\s*[0-6]\s*/i.test(t),c=!l&&/nexus\s*[0-9]+/i.test(t),u=/CrOS/.test(t),d=/silk/i.test(t),f=/sailfish/i.test(t),p=/tizen/i.test(t),m=/(web|hpw)(o|0)s/i.test(t),h=/windows phone/i.test(t),g=(/SamsungBrowser/i.test(t),!h&&/windows/i.test(t)),y=!a&&!d&&/macintosh/i.test(t),v=!s&&!f&&!p&&!m&&/linux/i.test(t),b=r(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),w=n(/version\/(\d+(\.\d+)?)/i),x=/tablet/i.test(t)&&!/tablet pc/i.test(t),E=!x&&/[^-]mobi/i.test(t),_=/xbox/i.test(t);/opera/i.test(t)?i={name:"Opera",opera:e,version:w||n(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(t)?i={name:"Opera",opera:e,version:n(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||w}:/SamsungBrowser/i.test(t)?i={name:"Samsung Internet for Android",samsungBrowser:e,version:w||n(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/Whale/i.test(t)?i={name:"NAVER Whale browser",whale:e,version:n(/(?:whale)[\s\/](\d+(?:\.\d+)+)/i)}:/MZBrowser/i.test(t)?i={name:"MZ Browser",mzbrowser:e,version:n(/(?:MZBrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/coast/i.test(t)?i={name:"Opera Coast",coast:e,version:w||n(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/focus/i.test(t)?i={name:"Focus",focus:e,version:n(/(?:focus)[\s\/](\d+(?:\.\d+)+)/i)}:/yabrowser/i.test(t)?i={name:"Yandex Browser",yandexbrowser:e,version:w||n(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(t)?i={name:"UC Browser",ucbrowser:e,version:n(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(t)?i={name:"Maxthon",maxthon:e,version:n(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(t)?i={name:"Epiphany",epiphany:e,version:n(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(t)?i={name:"Puffin",puffin:e,version:n(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(t)?i={name:"Sleipnir",sleipnir:e,version:n(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(t)?i={name:"K-Meleon",kMeleon:e,version:n(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:h?(i={name:"Windows Phone",osname:"Windows Phone",windowsphone:e},b?(i.msedge=e,i.version=b):(i.msie=e,i.version=n(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(t)?i={name:"Internet Explorer",msie:e,version:n(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:u?i={name:"Chrome",osname:"Chrome OS",chromeos:e,chromeBook:e,chrome:e,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(t)?i={name:"Microsoft Edge",msedge:e,version:b}:/vivaldi/i.test(t)?i={name:"Vivaldi",vivaldi:e,version:n(/vivaldi\/(\d+(\.\d+)?)/i)||w}:f?i={name:"Sailfish",osname:"Sailfish OS",sailfish:e,version:n(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(t)?i={name:"SeaMonkey",seamonkey:e,version:n(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(t)?(i={name:"Firefox",firefox:e,version:n(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(t)&&(i.firefoxos=e,i.osname="Firefox OS")):d?i={name:"Amazon Silk",silk:e,version:n(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(t)?i={name:"PhantomJS",phantom:e,version:n(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(t)?i={name:"SlimerJS",slimer:e,version:n(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(t)||/rim\stablet/i.test(t)?i={name:"BlackBerry",osname:"BlackBerry OS",blackberry:e,version:w||n(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:m?(i={name:"WebOS",osname:"WebOS",webos:e,version:w||n(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(t)&&(i.touchpad=e)):/bada/i.test(t)?i={name:"Bada",osname:"Bada",bada:e,version:n(/dolfin\/(\d+(\.\d+)?)/i)}:p?i={name:"Tizen",osname:"Tizen",tizen:e,version:n(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||w}:/qupzilla/i.test(t)?i={name:"QupZilla",qupzilla:e,version:n(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||w}:/chromium/i.test(t)?i={name:"Chromium",chromium:e,version:n(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||w}:/chrome|crios|crmo/i.test(t)?i={name:"Chrome",chrome:e,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:s?i={name:"Android",version:w}:/safari|applewebkit/i.test(t)?(i={name:"Safari",safari:e},w&&(i.version=w)):a?(i={name:"iphone"==a?"iPhone":"ipad"==a?"iPad":"iPod"},w&&(i.version=w)):i=/googlebot/i.test(t)?{name:"Googlebot",googlebot:e,version:n(/googlebot\/(\d+(\.\d+))/i)||w}:{name:n(/^(.*)\/(.*) /),version:r(/^(.*)\/(.*) /)},!i.msedge&&/(apple)?webkit/i.test(t)?(/(apple)?webkit\/537\.36/i.test(t)?(i.name=i.name||"Blink",i.blink=e):(i.name=i.name||"Webkit",i.webkit=e),!i.version&&w&&(i.version=w)):!i.opera&&/gecko\//i.test(t)&&(i.name=i.name||"Gecko",i.gecko=e,i.version=i.version||n(/gecko\/(\d+(\.\d+)?)/i)),i.windowsphone||!s&&!i.silk?!i.windowsphone&&a?(i[a]=e,i.ios=e,i.osname="iOS"):y?(i.mac=e,i.osname="macOS"):_?(i.xbox=e,i.osname="Xbox"):g?(i.windows=e,i.osname="Windows"):v&&(i.linux=e,i.osname="Linux"):(i.android=e,i.osname="Android");var A="";i.windows?A=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(n(/Windows ((NT|XP)( \d\d?.\d)?)/i)):i.windowsphone?A=n(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):i.mac?A=(A=n(/Mac OS X (\d+([_\.\s]\d+)*)/i)).replace(/[_\s]/g,"."):a?A=(A=n(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):s?A=n(/android[ \/-](\d+(\.\d+)*)/i):i.webos?A=n(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):i.blackberry?A=n(/rim\stablet\sos\s(\d+(\.\d+)*)/i):i.bada?A=n(/bada\/(\d+(\.\d+)*)/i):i.tizen&&(A=n(/tizen[\/\s](\d+(\.\d+)*)/i)),A&&(i.osversion=A);var O=!i.windows&&A.split(".")[0];return x||c||"ipad"==a||s&&(3==O||O>=4&&!E)||i.silk?i.tablet=e:(E||"iphone"==a||"ipod"==a||s||l||i.blackberry||i.webos||i.bada)&&(i.mobile=e),i.msedge||i.msie&&i.version>=10||i.yandexbrowser&&i.version>=15||i.vivaldi&&i.version>=1||i.chrome&&i.version>=20||i.samsungBrowser&&i.version>=4||i.whale&&1===o([i.version,"1.0"])||i.mzbrowser&&1===o([i.version,"6.0"])||i.focus&&1===o([i.version,"1.0"])||i.firefox&&i.version>=20||i.safari&&i.version>=6||i.opera&&i.version>=10||i.ios&&i.osversion&&i.osversion.split(".")[0]>=6||i.blackberry&&i.version>=10.1||i.chromium&&i.version>=20?i.a=e:i.msie&&i.version<10||i.chrome&&i.version<20||i.firefox&&i.version<20||i.safari&&i.version<6||i.opera&&i.version<10||i.ios&&i.osversion&&i.osversion.split(".")[0]<6||i.chromium&&i.version<20?i.c=e:i.x=e,i}var n=t("undefined"!=typeof navigator&&navigator.userAgent||"");function r(e){return e.split(".").length}function i(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n++)r.push(t(e[n]));return r}function o(e){for(var t=Math.max(r(e[0]),r(e[1])),n=i(e,(function(e){var n=t-r(e);return i((e+=new Array(n+1).join(".0")).split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));--t>=0;){if(n[0][t]>n[1][t])return 1;if(n[0][t]!==n[1][t])return-1;if(0===t)return 0}}function a(e,r,i){var a=n;"string"==typeof r&&(i=r,r=void 0),void 0===r&&(r=!1),i&&(a=t(i));var s=""+a.version;for(var l in e)if(e.hasOwnProperty(l)&&a[l]){if("string"!=typeof e[l])throw new Error("Browser version in the minVersion map should be a string: "+l+": "+String(e));return o([s,e[l]])<0}return r}return n.test=function(e){for(var t=0;t<e.length;++t){var r=e[t];if("string"==typeof r&&r in n)return!0}return!1},n.isUnsupportedBrowser=a,n.compareVersions=o,n.check=function(e,t,n){return!a(e,t,n)},n._detect=t,n.detect=t,n},e.exports?e.exports=r():n(663)("bowser",r)},function(e,t,n){"use strict";var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.getTransitModes=function(e){return e&&e.modes&&e.modes.transitModes?e.modes.transitModes.map((e=>"string"!=typeof e?e.mode:e)):a},t.isTransit=s,t.isReservationRequired=l,t.isCoordinationRequired=c,t.containsGeometry=u,t.endsWithGeometry=d,t.startsWithGeometry=f,t.legContainsGeometry=p,t.isAdvanceBookingRequired=m,t.legDropoffRequiresAdvanceBooking=h,t.isFlex=function(e){return l(e)||c(e)||h(e)||m(null==e?void 0:e.pickupBookingInfo)||p(e)},t.isRideshareLeg=function(e){var t,n;return!(null===(t=e.rideHailingEstimate)||void 0===t||null===(n=t.provider)||void 0===n||!n.id)},t.isWalk=g,t.isBicycle=y,t.isBicycleRent=v,t.isCar=b,t.isMicromobility=w,t.isAccessMode=function(e){return g(e)||y(e)||v(e)||b(e)||w(e)},t.hasTransit=function(e){return e.split(",").some((e=>s(e)))},t.hasCar=function(e){return e.split(",").some((e=>b(e)))},t.hasBike=function(e){return e.split(",").some((e=>y(e)||v(e)))},t.hasMicromobility=function(e){return e.split(",").some((e=>w(e)))},t.hasHail=function(e){return e.split(",").some((e=>e.indexOf("_HAIL")>-1))},t.hasRental=function(e){return e.split(",").some((e=>e.indexOf("_RENT")>-1))},t.getMapColor=function(e){return"WALK"===(e=e||this.get("mode"))?"#444":"BICYCLE"===e?"#0073e5":"SUBWAY"===e?"#e60000":"RAIL"===e?"#b00":"BUS"===e||"TROLLEYBUS"===e?"#080":"TRAM"===e?"#800":"FERRY"===e?"#008":"CAR"===e?"#444":"MICROMOBILITY"===e||"SCOOTER"===e?"#f5a729":"#aaa"},t.toSentenceCase=function(e){if(null==e)return"";return(e=String(e)).charAt(0).toUpperCase()+e.substr(1).toLowerCase()},t.getCompanyFromLeg=function(e){if(!e)return null;const{from:t,mode:n,rentedBike:r,rentedCar:i,rentedVehicle:o,rideHailingEstimate:a}=e;if("CAR"===n&&i)return t.networks[0];if("CAR"===n&&a)return a.provider.id;if("BICYCLE"===n&&r&&t.networks)return t.networks[0];if(t.rentalVehicle)return t.rentalVehicle.network;if(("MICROMOBILITY"===n||"SCOOTER"===n)&&o&&t.networks)return t.networks[0];return null},t.getItineraryBounds=function(e){let t=[];return e.legs.forEach((e=>{const n=i.default.toGeoJSON(e.legGeometry.points).coordinates.map((e=>[e[1],e[0]]));t=[...t,...n]})),t},t.getLegBounds=function(e){const t=i.default.toGeoJSON(e.legGeometry.points).coordinates.map((e=>[e[1],e[0]]));0===t.length&&t.push([e.from.lat,e.from.lon],[e.to.lat,e.to.lon]);return t},t.legLocationAtDistance=function(e,t){if(!e.legGeometry)return null;try{const n=i.default.toGeoJSON(e.legGeometry.points),r=(0,o.default)(n,t,{units:"meters"});if(r&&r.geometry&&r.geometry.coordinates)return[r.geometry.coordinates[1],r.geometry.coordinates[0]]}catch(e){}return null},t.legElevationAtDistance=function(e,t){let n=0;e[0][0]>0&&e.unshift([0,null]);for(let r=1;r<e.length;r++){const i=e[r-1],o=e[r][0]-i[0];if(t>=n&&t<=n+o){if(null===i[1])return console.warn("Elevation value does not exist for distance.",t,n),null;const a=(t-n)/o,s=e[r][1]-i[1];return i[1]+s*a}n+=o}return console.warn("Elevation value does not exist for distance.",t,n),null},t.mapOldElevationComponentToNew=x,t.getElevationProfile=function(e,t=1){let n=1e5,r=-1e5,i=0,o=0,a=0,s=null;const l=[];return e.forEach((e=>{var c;const u=e.elevationProfile||Array.isArray(e.elevation)&&(null===(c=e.elevation)||void 0===c?void 0:c.map(x));if(u&&0!==u.length){for(let c=0;c<u.length;c++){const d=u[c];if(s){const e=(d.elevation-s.elevation)*t;e>0?o+=e:a+=e}0===c&&d.distance;const f=d.elevation*t;f<n&&(n=f),f>r&&(r=f),l.push([i+d.distance,d.elevation]),c===u.length-1&&(d.distance,e.distance),s=d}i+=e.distance}else i+=e.distance})),{maxElev:r,minElev:n,points:l,traversed:i,gain:o,loss:a}},t.getTextWidth=function e(t,n="22px Arial"){const r=(e.canvas||(e.canvas=document.createElement("canvas"))).getContext("2d");r.font=n;return r.measureText(t).width},t.getCompanyForNetwork=E,t.getCompaniesLabelFromNetworks=function(e,t=[]){return(Array.isArray(e)?e:[e]).map((e=>E(e,t))).filter((e=>!!e)).map((e=>e.label)).join("/")},t.getTNCLocation=function(e,t){const n=e[t];return`${n.lat.toFixed(5)},${n.lon.toFixed(5)}`},t.calculatePhysicalActivity=function(e){let t=0,n=0;e.legs.forEach((e=>{e.mode.startsWith("WALK")&&(t+=e.duration),e.mode.startsWith("BICYCLE")&&(n+=e.duration)}));return{bikeDuration:n,caloriesBurned:t/3600*280+n/3600*290,walkDuration:t}},t.calculateTncFares=function(e){return e.legs.filter((e=>"CAR"===e.mode&&e.rideHailingEstimate)).reduce((({maxTNCFare:e,minTNCFare:t},{rideHailingEstimate:n})=>{const{minPrice:r,maxPrice:i}=n;return{currencyCode:r.currency.code,maxTNCFare:e+i.amount,minTNCFare:t+r.amount}}),{currencyCode:null,maxTNCFare:0,minTNCFare:0})},t.calculateEmissions=function(e,t={},n){var r;const i={..._,...t},o=(null==e||null===(r=e.legs)||void 0===r?void 0:r.reduce(((e,t)=>(t.distance*i[t.mode.toLowerCase()]||0)+e),0))||0;switch(n){case"ounce":return o/28.35;case"kilogram":return o/1e3;case"pound":return o/454;case"gram":default:return o}},t.getDisplayedStopId=function(e){var t;let n,r;"stopId"in e?({stopCode:r,stopId:n}=e):"id"in e&&({code:r,id:n}=e);return r||(null===(t=n)||void 0===t?void 0:t.split(":")[1])||n},t.getLegCost=A,t.getItineraryCost=function(e,t,n){const r=e.filter((e=>{var t;return(null===(t=e.fareProducts)||void 0===t?void 0:t.length)>0})).map((e=>A(e,t,n))).filter((e=>void 0!==e.price)).reduce(((e,t)=>(e.some((e=>e.productUseId===t.productUseId))||e.push({productUseId:t.productUseId,price:t.price}),e)),[]).map((e=>e.price));return 0===r.length?void 0:r.reduce(((e,t)=>{var n;return{amount:e.amount+(null==t?void 0:t.amount)||0,currency:null!==(n=e.currency)&&void 0!==n?n:null==t?void 0:t.currency}}),{amount:0,currency:null})},t.getLegRouteName=t.getLegRouteLongName=t.getLegRouteShortName=t.convertGraphQLResponseToLegacy=t.transitModes=void 0;var i=r(n(61)),o=r(n(147));const a=["TRAM","TROLLEYBUS","BUS","SUBWAY","FERRY","RAIL","GONDOLA"];function s(e){return a.includes(e)||"TRANSIT"===e}function l(e){return"mustPhone"===(null==e?void 0:e.boardRule)||"mustPhone"===(null==e?void 0:e.alightRule)}function c(e){return"coordinateWithDriver"===(null==e?void 0:e.boardRule)||"coordinateWithDriver"===(null==e?void 0:e.alightRule)}function u(e){var t,n;return null!==(null==e||null===(t=e.stop)||void 0===t?void 0:t.geometries)&&void 0!==(null==e||null===(n=e.stop)||void 0===n?void 0:n.geometries)}function d(e){return u(null==e?void 0:e.to)}function f(e){return u(null==e?void 0:e.from)}function p(e){return d(e)||f(e)}function m(e){var t;return(null==e||null===(t=e.latestBookingTime)||void 0===t?void 0:t.daysPrior)>0}function h(e){return m(null==e?void 0:e.dropOffBookingInfo)}function g(e){return!!e&&"WALK"===e}function y(e){return!!e&&"BICYCLE"===e}function v(e){return!!e&&"BICYCLE_RENT"===e}function b(e){return!!e&&e.startsWith("CAR")}function w(e){return!!e&&(e.startsWith("MICROMOBILITY")||e.startsWith("SCOOTER"))}function x(e){return{distance:e.first,elevation:e.second}}function E(e,t=[]){const n=t.find((t=>t.id===e));return n||console.warn(`No company found in config.yml that matches rented vehicle network: ${e}`,t),n}t.transitModes=a;const _={walk:.026,bicycle:.017,car:.162,tram:.066,trolleybus:.066,subway:.066,rail:.066,bus:.09,ferry:.082,cable_car:.021,gondola:.021,funicular:.066,transit:.066,leg_switch:0,airplane:.382,micromobility:.095};function A(e,t,n){if(!e.fareProducts)return{price:void 0};const r=e.fareProducts.filter((({product:e})=>(null===e.riderCategory?null:e.riderCategory.id)===n&&(null===e.medium?null:e.medium.id)===t)),i=r.find((e=>"rideCost"===e.product.name||"regular"===e.product.name)),o=r.find((e=>"transfer"===e.product.name));return{price:null==i?void 0:i.product.price,transferAmount:null==o?void 0:o.product.price,productUseId:null==i?void 0:i.id}}const O=e=>{switch(e){case"COORDINATE_WITH_DRIVER":return"coordinateWithDriver";case"CALL_AGENCY":return"mustPhone";case"SCHEDULED":return"scheduled";case"NONE":return"none";default:return null}};t.convertGraphQLResponseToLegacy=e=>{var t,n,r,i,o,a,s,l,c,u,d,f,p,m,h,g;return{...e,agencyBrandingUrl:null===(t=e.agency)||void 0===t?void 0:t.url,agencyId:null===(n=e.agency)||void 0===n?void 0:n.id,agencyName:null===(r=e.agency)||void 0===r?void 0:r.name,agencyUrl:null===(i=e.agency)||void 0===i?void 0:i.url,alightRule:O(e.dropoffType),boardRule:O(e.pickupType),dropOffBookingInfo:{latestBookingTime:e.dropOffBookingInfo},from:{...e.from,stopCode:null===(o=e.from.stop)||void 0===o?void 0:o.code,stopId:null===(a=e.from.stop)||void 0===a?void 0:a.gtfsId},route:null===(s=e.route)||void 0===s?void 0:s.shortName,routeColor:null===(l=e.route)||void 0===l?void 0:l.color,routeId:null===(c=e.route)||void 0===c?void 0:c.gtfsId,routeLongName:null===(u=e.route)||void 0===u?void 0:u.longName,routeShortName:null===(d=e.route)||void 0===d?void 0:d.shortName,routeTextColor:null===(f=e.route)||void 0===f?void 0:f.textColor,to:{...e.to,stopCode:null===(p=e.to.stop)||void 0===p?void 0:p.code,stopId:null===(m=e.to.stop)||void 0===m?void 0:m.gtfsId},tripHeadsign:null===(h=e.trip)||void 0===h?void 0:h.tripHeadsign,tripId:null===(g=e.trip)||void 0===g?void 0:g.gtfsId}};const S=e=>{const{route:t,routeShortName:n}=e;return"object"==typeof t?null==t?void 0:t.shortName:n||t};t.getLegRouteShortName=S;const T=e=>{const{route:t,routeLongName:n}=e;return"object"==typeof t?null==t?void 0:t.longName:n};t.getLegRouteLongName=T;t.getLegRouteName=e=>S(e)||T(e)},function(e,t){function n(e){if(e&&"object"==typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"==typeof e)return a[e];var n,o=String(e);return(n=r[o.toLowerCase()])?n:(n=i[o.toLowerCase()])||(1===o.length?o.charCodeAt(0):void 0)}n.isEventKey=function(e,t){if(e&&"object"==typeof e){var n=e.which||e.keyCode||e.charCode;if(null==n)return!1;if("string"==typeof t){var o;if(o=r[t.toLowerCase()])return o===n;if(o=i[t.toLowerCase()])return o===n}else if("number"==typeof t)return t===n;return!1}};var r=(t=e.exports=n).code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},i=t.aliases={windows:91,"":16,"":18,"":17,"":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(o=97;o<123;o++)r[String.fromCharCode(o)]=o-32;for(var o=48;o<58;o++)r[o-48]=o;for(o=1;o<13;o++)r["f"+o]=o+111;for(o=0;o<10;o++)r["numpad "+o]=o+96;var a=t.names=t.title={};for(o in r)a[r[o]]=o;for(var s in i)r[s]=i[s]},function(e,t,n){"use strict";n.d(t,"c",(function(){return A})),n.d(t,"d",(function(){return O})),n.d(t,"e",(function(){return S})),n.d(t,"f",(function(){return T})),n.d(t,"g",(function(){return I})),n.d(t,"h",(function(){return k})),n.d(t,"l",(function(){return C})),n.d(t,"k",(function(){return M})),n.d(t,"i",(function(){return N})),n.d(t,"j",(function(){return j})),n.d(t,"b",(function(){return R})),n.d(t,"a",(function(){return D})),n.d(t,"n",(function(){return P})),n.d(t,"m",(function(){return B}));var r,i,o,a,s,l,c,u,d,f,p,m,h,g,y,v=n(522),b=n(1),w=n(26),x=n(104);function E(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var _=Object(w.h)(),A=b.default.h2(r||(r=E(["\n  margin: 10px 0px 45px 0px;\n"]))),O=b.default.div(i||(i=E(["\n  min-height: 20em;\n"]))),S=b.default.div(o||(o=E(["\n  margin-bottom: 20px;\n  padding-bottom: 20px;\n  > h3 {\n    margin-top: 0.5em;\n    margin-bottom: 0.5em;\n  }\n"]))),T=b.default.div(a||(a=E(["\n  border-bottom: solid 1px #adadad;\n  margin-bottom: 25px;\n  padding: 5px 0px 10px 0px;\n"]))),I=b.default.div(s||(s=E(["\n  margin-top: 11px;\n\n  a {\n    border: 1px transparent;\n    border-bottom: 3px solid transparent;\n    font-size: 17px;\n    margin-left: 8px;\n    padding: 6px 12px;\n  }\n\n  a.active {\n    border-bottom: 3px solid #adadad;\n  }\n"]))),k=b.default.h3(l||(l=E(["\n  margin-top: 0px;\n"]))),C=b.default.div(c||(c=E(["\n  align-items: center;\n  display: flex;\n  gap: 10px;\n\n  & > div:first-child {\n    flex-grow: 1;\n  }\n"]))),M=Object(b.default)(v.a.Heading)(u||(u=E(["\n  background-color: white !important;\n  border-color: #fff !important;\n  padding: 20px 25px 0 25px;\n  max-width: 670px;\n\n  a svg {\n    color: ",";\n  }\n\n  h3 {\n    margin: 0;\n  }\n"])),_),N=b.default.span(d||(d=E(["\n  background: none;\n  border: none;\n  color: ",";\n  cursor: pointer;\n  float: right;\n  text-decoration: underline;\n  &:hover {\n    opacity: 80%;\n  }\n"])),w.f),j=Object(b.default)(v.a.Footer)(f||(f=E(["\n  background-color: white !important;\n  border: none;\n  padding: 0px;\n"]))),L=Object(b.css)(p||(p=E(["\n  border: none;\n  cursor: default;\n  font-size: inherit;\n  font-weight: 700;\n  margin-bottom: 5px;\n"]))),R=b.default.fieldset(m||(m=E(["\n  /* Format <legend> like labels. */\n  legend {\n    ","\n  }\n"])),L),D=b.default.span(h||(h=E(["\n  display: block;\n  & > * {\n    margin-right: 4px;\n  }\n"]))),P=Object(b.css)(g||(g=E(["\n  display: inline-block;\n  vertical-align: middle;\n  width: 14em;\n"]))),B=Object(b.default)(x.a)(y||(y=E(["\n  color: initial;\n  letter-spacing: initial;\n  text-transform: none;\n\n  &:hover {\n    color: initial;\n    text-decoration: none;\n  }\n"])))},function(e,t,n){"use strict";var r=n(440),i="object"==typeof self&&self&&self.Object===Object&&self,o=r.a||i||Function("return this")();t.a=o},function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r=n(8),i=n(153),o=n(216),a=n(0),s=n.n(a),l=n(88),c=n(38),u=n(411);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t){return function(n){return s.a.createElement(A,{passedProps:n,requireLoggedInUser:t,WrappedComponent:e})}}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(o,e);var t,n,r,i=g(o);function o(){var e;p(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return w(v(e=i.call.apply(i,[this].concat(n))),"loggedInUserIsUnfetched",(function(){var t=e.props,n=t.auth0,r=t.loggedInUser;return n&&n.isAuthenticated&&!r})),w(v(e),"acccessTokenIsUnfetched",(function(){var t=e.props,n=t.accessToken,r=t.auth0;return r&&r.isAuthenticated&&!n})),e}return t=o,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.auth0,n=e.fetchAuth0Token,r=e.intl;this.acccessTokenIsUnfetched()&&n(t,r)}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.auth0,n=e.fetchAuth0Token,r=e.fetchOrInitializeUser,i=e.intl;this.acccessTokenIsUnfetched()?n(t,i):this.loggedInUserIsUnfetched()&&r(t.user)}},{key:"render",value:function(){var e=this.props,t=e.auth0,n=e.passedProps,r=e.requireLoggedInUser,i=e.WrappedComponent;return r&&this.loggedInUserIsUnfetched()?s.a.createElement(u.a,null):s.a.createElement(i,f({auth0:t},n))}}])&&m(t.prototype,n),r&&m(t,r),o}(a.Component),_={fetchAuth0Token:l.k,fetchOrInitializeUser:l.l},A=Object(o.c)(Object(r.c)((function(e){var t=e.user;return{accessToken:t.accessToken,loggedInUser:t.loggedInUser}}),_)(Object(i.c)(E)),{audience:c.c,scope:c.d})},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";var r=n(194);t.a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(r.a)(t)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));var r=n(0),i=n.n(r),o=n(227),a=n.n(o),s=n(52);function l(e,t,n){a.a.success(i.a.createElement("span",null,i.a.createElement("strong",null,e),i.a.createElement("br",null),t),{id:n})}function c(e,t){l(Object(s.k)(e,t),t.formatMessage({id:"actions.user.placeRemembered"}))}},function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"transitModes",(function(){return S})),n.d(r,"getTransitModes",(function(){return T})),n.d(r,"isTransit",(function(){return I})),n.d(r,"isReservationRequired",(function(){return k})),n.d(r,"isCoordinationRequired",(function(){return C})),n.d(r,"containsGeometry",(function(){return M})),n.d(r,"endsWithGeometry",(function(){return N})),n.d(r,"startsWithGeometry",(function(){return j})),n.d(r,"legContainsGeometry",(function(){return L})),n.d(r,"isAdvanceBookingRequired",(function(){return R})),n.d(r,"legDropoffRequiresAdvanceBooking",(function(){return D})),n.d(r,"isFlex",(function(){return P})),n.d(r,"isRideshareLeg",(function(){return B})),n.d(r,"isWalk",(function(){return F})),n.d(r,"isBicycle",(function(){return U})),n.d(r,"isBicycleRent",(function(){return z})),n.d(r,"isCar",(function(){return V})),n.d(r,"isMicromobility",(function(){return G})),n.d(r,"isAccessMode",(function(){return H})),n.d(r,"hasTransit",(function(){return W})),n.d(r,"hasCar",(function(){return Y})),n.d(r,"hasBike",(function(){return Q})),n.d(r,"hasMicromobility",(function(){return Z})),n.d(r,"hasHail",(function(){return X})),n.d(r,"hasRental",(function(){return J})),n.d(r,"getMapColor",(function(){return q})),n.d(r,"toSentenceCase",(function(){return K})),n.d(r,"getCompanyFromLeg",(function(){return $})),n.d(r,"getItineraryBounds",(function(){return ee})),n.d(r,"getLegBounds",(function(){return te})),n.d(r,"legLocationAtDistance",(function(){return ne})),n.d(r,"legElevationAtDistance",(function(){return re})),n.d(r,"mapOldElevationComponentToNew",(function(){return ie})),n.d(r,"getElevationProfile",(function(){return oe})),n.d(r,"getTextWidth",(function(){return ae})),n.d(r,"getCompanyForNetwork",(function(){return se})),n.d(r,"getCompaniesLabelFromNetworks",(function(){return le})),n.d(r,"getTNCLocation",(function(){return ce})),n.d(r,"calculatePhysicalActivity",(function(){return ue})),n.d(r,"calculateTncFares",(function(){return de})),n.d(r,"calculateEmissions",(function(){return pe})),n.d(r,"getDisplayedStopId",(function(){return me})),n.d(r,"getLegCost",(function(){return he})),n.d(r,"getItineraryCost",(function(){return ge})),n.d(r,"convertGraphQLResponseToLegacy",(function(){return ve})),n.d(r,"getLegRouteShortName",(function(){return be})),n.d(r,"getLegRouteLongName",(function(){return we})),n.d(r,"getLegRouteName",(function(){return xe}));var i={};n.r(i),n.d(i,"currentPositionToLocation",(function(){return Ee})),n.d(i,"coordsToString",(function(){return _e})),n.d(i,"stringToCoords",(function(){return Ae})),n.d(i,"constructLocation",(function(){return Oe})),n.d(i,"matchLatLon",(function(){return Se})),n.d(i,"isBikeshareStation",(function(){return Te})),n.d(i,"isEScooterStation",(function(){return Ie})),n.d(i,"isCarWalkTransition",(function(){return ke})),n.d(i,"isValidLat",(function(){return Ce})),n.d(i,"isValidLng",(function(){return Me})),n.d(i,"isValidLatLng",(function(){return Ne}));var o={};n.r(o),n.d(o,"filterProfileOptions",(function(){return je})),n.d(o,"profileOptionsToItineraries",(function(){return De}));var a={};n.r(a),n.d(a,"storeItem",(function(){return et})),n.d(a,"getItem",(function(){return tt})),n.d(a,"removeItem",(function(){return nt})),n.d(a,"randId",(function(){return rt}));var s={};n.r(s),n.d(s,"OTP_API_DATE_FORMAT",(function(){return st})),n.d(s,"OTP_API_TIME_FORMAT",(function(){return lt})),n.d(s,"toHoursMinutesSeconds",(function(){return ct})),n.d(s,"getTimeFormat",(function(){return ut})),n.d(s,"getDateFormat",(function(){return dt})),n.d(s,"getLongDateFormat",(function(){return ft})),n.d(s,"offsetTime",(function(){return pt})),n.d(s,"formatSecondsAfterMidnight",(function(){return mt})),n.d(s,"getUserTimezone",(function(){return ht})),n.d(s,"getCurrentTime",(function(){return gt})),n.d(s,"getCurrentDate",(function(){return yt}));var l={};n.r(l),n.d(l,"formatPlace",(function(){return wt})),n.d(l,"default",(function(){return _t})),n.d(l,"getCustomQueryParams",(function(){return At}));var c={};n.r(c),n.d(c,"defaultParams",(function(){return Tt})),n.d(c,"getQueryParamProperty",(function(){return kt})),n.d(c,"ensureSingleAccessMode",(function(){return Ct})),n.d(c,"getUrlParams",(function(){return Mt})),n.d(c,"getOtpUrlParams",(function(){return Nt})),n.d(c,"getTripOptionsFromQuery",(function(){return jt})),n.d(c,"getDefaultQuery",(function(){return Rt})),n.d(c,"reduceOtpFlexModes",(function(){return Dt})),n.d(c,"expandOtpFlexMode",(function(){return Pt})),n.d(c,"isNotDefaultQuery",(function(){return Bt})),n.d(c,"parseLocationString",(function(){return zt})),n.d(c,"planParamsToQuery",(function(){return Ht})),n.d(c,"planParamsToQueryAsync",(function(){return Wt})),n.d(c,"getRoutingParams",(function(){return Qt}));var u={};n.r(u),n.d(u,"getTransitOperatorFromFeedIdAndAgencyId",(function(){return Jt})),n.d(u,"getTransitOperatorFromLeg",(function(){return qt})),n.d(u,"getTransitOperatorFromOtpRoute",(function(){return Kt})),n.d(u,"makeNumericValueComparator",(function(){return cn})),n.d(u,"makeStringValueComparator",(function(){return un})),n.d(u,"makeRouteComparator",(function(){return dn})),n.d(u,"getMostReadableTextColor",(function(){return fn}));var d={};n.r(d),n.d(d,"isMobile",(function(){return pn})),n.d(d,"enableScrollForSelector",(function(){return mn}));var f={};n.r(f),n.d(f,"extractAdditionalModes",(function(){return bn})),n.d(f,"SIMPLIFICATIONS",(function(){return wn})),n.d(f,"TRANSIT_SUBMODES",(function(){return _n})),n.d(f,"TRANSIT_SUBMODES_AND_TRANSIT",(function(){return An})),n.d(f,"generateCombinations",(function(){return On})),n.d(f,"generateOtp2Query",(function(){return Sn}));var p=n(8),m=n(1),h=n(33),g=n.n(h),y=n(40),v=n.n(y),b=n(15),w=n.n(b),x=n(61),E=n.n(x),_=n(147);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=["TRAM","TROLLEYBUS","BUS","SUBWAY","FERRY","RAIL","GONDOLA"];function T(e){return e&&e.modes&&e.modes.transitModes?e.modes.transitModes.map((function(e){return"string"!=typeof e?e.mode:e})):S}function I(e){return S.includes(e)||"TRANSIT"===e}function k(e){return"mustPhone"===(null==e?void 0:e.boardRule)||"mustPhone"===(null==e?void 0:e.alightRule)}function C(e){return"coordinateWithDriver"===(null==e?void 0:e.boardRule)||"coordinateWithDriver"===(null==e?void 0:e.alightRule)}function M(e){var t,n;return null!==(null==e||null===(t=e.stop)||void 0===t?void 0:t.geometries)&&void 0!==(null==e||null===(n=e.stop)||void 0===n?void 0:n.geometries)}function N(e){return M(null==e?void 0:e.to)}function j(e){return M(null==e?void 0:e.from)}function L(e){return N(e)||j(e)}function R(e){var t;return(null==e||null===(t=e.latestBookingTime)||void 0===t?void 0:t.daysPrior)>0}function D(e){return R(null==e?void 0:e.dropOffBookingInfo)}function P(e){return k(e)||C(e)||D(e)||R(null==e?void 0:e.pickupBookingInfo)||L(e)}function B(e){var t,n;return!(null===(t=e.rideHailingEstimate)||void 0===t||null===(n=t.provider)||void 0===n||!n.id)}function F(e){return!!e&&"WALK"===e}function U(e){return!!e&&"BICYCLE"===e}function z(e){return!!e&&"BICYCLE_RENT"===e}function V(e){return!!e&&e.startsWith("CAR")}function G(e){return!!e&&(e.startsWith("MICROMOBILITY")||e.startsWith("SCOOTER"))}function H(e){return F(e)||U(e)||z(e)||V(e)||G(e)}function W(e){return e.split(",").some((function(e){return I(e)}))}function Y(e){return e.split(",").some((function(e){return V(e)}))}function Q(e){return e.split(",").some((function(e){return U(e)||z(e)}))}function Z(e){return e.split(",").some((function(e){return G(e)}))}function X(e){return e.split(",").some((function(e){return e.indexOf("_HAIL")>-1}))}function J(e){return e.split(",").some((function(e){return e.indexOf("_RENT")>-1}))}function q(e){return"WALK"===(e=e||this.get("mode"))?"#444":"BICYCLE"===e?"#0073e5":"SUBWAY"===e?"#e60000":"RAIL"===e?"#b00":"BUS"===e||"TROLLEYBUS"===e?"#080":"TRAM"===e?"#800":"FERRY"===e?"#008":"CAR"===e?"#444":"MICROMOBILITY"===e||"SCOOTER"===e?"#f5a729":"#aaa"}function K(e){return null==e?"":(e=String(e)).charAt(0).toUpperCase()+e.substr(1).toLowerCase()}function $(e){if(!e)return null;var t=e.from,n=e.mode,r=e.rentedBike,i=e.rentedCar,o=e.rentedVehicle,a=e.rideHailingEstimate;return"CAR"===n&&i?t.networks[0]:"CAR"===n&&a?a.provider.id:"BICYCLE"===n&&r&&t.networks?t.networks[0]:t.rentalVehicle?t.rentalVehicle.network:("MICROMOBILITY"===n||"SCOOTER"===n)&&o&&t.networks?t.networks[0]:null}function ee(e){var t=[];return e.legs.forEach((function(e){var n=E.a.toGeoJSON(e.legGeometry.points).coordinates.map((function(e){return[e[1],e[0]]}));t=[].concat(g()(t),g()(n))})),t}function te(e){var t=E.a.toGeoJSON(e.legGeometry.points).coordinates.map((function(e){return[e[1],e[0]]}));return 0===t.length&&t.push([e.from.lat,e.from.lon],[e.to.lat,e.to.lon]),t}function ne(e,t){if(!e.legGeometry)return null;try{var n=E.a.toGeoJSON(e.legGeometry.points),r=Object(_.default)(n,t,{units:"meters"});if(r&&r.geometry&&r.geometry.coordinates)return[r.geometry.coordinates[1],r.geometry.coordinates[0]]}catch(e){}return null}function re(e,t){var n=0;e[0][0]>0&&e.unshift([0,null]);for(var r=1;r<e.length;r++){var i=e[r-1],o=e[r][0]-i[0];if(t>=n&&t<=n+o){if(null===i[1])return console.warn("Elevation value does not exist for distance.",t,n),null;var a=(t-n)/o,s=e[r][1]-i[1];return i[1]+s*a}n+=o}return console.warn("Elevation value does not exist for distance.",t,n),null}function ie(e){return{distance:e.first,elevation:e.second}}function oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=1e5,r=-1e5,i=0,o=0,a=0,s=null,l=[];return e.forEach((function(e){var c,u=e.elevationProfile||Array.isArray(e.elevation)&&(null===(c=e.elevation)||void 0===c?void 0:c.map(ie));if(u&&0!==u.length){for(var d=0;d<u.length;d++){var f=u[d];if(s){var p=(f.elevation-s.elevation)*t;p>0?o+=p:a+=p}0===d&&f.distance;var m=f.elevation*t;m<n&&(n=m),m>r&&(r=m),l.push([i+f.distance,f.elevation]),d===u.length-1&&(f.distance,e.distance),s=f}i+=e.distance}else i+=e.distance})),{maxElev:r,minElev:n,points:l,traversed:i,gain:o,loss:a}}function ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"22px Arial",n=ae.canvas||(ae.canvas=document.createElement("canvas")),r=n.getContext("2d");r.font=t;var i=r.measureText(e);return i.width}function se(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t.find((function(t){return t.id===e}));return n||console.warn("No company found in config.yml that matches rented vehicle network: ".concat(e),t),n}function le(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(Array.isArray(e)?e:[e]).map((function(e){return se(e,t)})).filter((function(e){return!!e})).map((function(e){return e.label})).join("/")}function ce(e,t){var n=e[t];return"".concat(n.lat.toFixed(5),",").concat(n.lon.toFixed(5))}function ue(e){var t=0,n=0;return e.legs.forEach((function(e){e.mode.startsWith("WALK")&&(t+=e.duration),e.mode.startsWith("BICYCLE")&&(n+=e.duration)})),{bikeDuration:n,caloriesBurned:t/3600*280+n/3600*290,walkDuration:t}}function de(e){return e.legs.filter((function(e){return"CAR"===e.mode&&e.rideHailingEstimate})).reduce((function(e,t){var n=e.maxTNCFare,r=e.minTNCFare,i=t.rideHailingEstimate,o=i.minPrice,a=i.maxPrice;return{currencyCode:o.currency.code,maxTNCFare:n+a.amount,minTNCFare:r+o.amount}}),{currencyCode:null,maxTNCFare:0,minTNCFare:0})}var fe={walk:.026,bicycle:.017,car:.162,tram:.066,trolleybus:.066,subway:.066,rail:.066,bus:.09,ferry:.082,cable_car:.021,gondola:.021,funicular:.066,transit:.066,leg_switch:0,airplane:.382,micromobility:.095};function pe(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=O(O({},fe),n),o=(null==e||null===(t=e.legs)||void 0===t?void 0:t.reduce((function(e,t){return(t.distance*i[t.mode.toLowerCase()]||0)+e}),0))||0;switch(r){case"ounce":return o/28.35;case"kilogram":return o/1e3;case"pound":return o/454;case"gram":default:return o}}function me(e){var t,n,r;return"stopId"in e?(r=e.stopCode,n=e.stopId):"id"in e&&(r=e.code,n=e.id),r||(null===(t=n)||void 0===t?void 0:t.split(":")[1])||n}function he(e,t,n){if(!e.fareProducts)return{price:void 0};var r=e.fareProducts.filter((function(e){var r=e.product;return(null===r.riderCategory?null:r.riderCategory.id)===n&&(null===r.medium?null:r.medium.id)===t})),i=r.find((function(e){return"rideCost"===e.product.name||"regular"===e.product.name})),o=r.find((function(e){return"transfer"===e.product.name}));return{price:null==i?void 0:i.product.price,transferAmount:null==o?void 0:o.product.price,productUseId:null==i?void 0:i.id}}function ge(e,t,n){var r=e.filter((function(e){var t;return(null===(t=e.fareProducts)||void 0===t?void 0:t.length)>0})).map((function(e){return he(e,t,n)})).filter((function(e){return void 0!==e.price})).reduce((function(e,t){return e.some((function(e){return e.productUseId===t.productUseId}))||e.push({productUseId:t.productUseId,price:t.price}),e}),[]).map((function(e){return e.price}));if(0!==r.length)return r.reduce((function(e,t){var n;return{amount:e.amount+(null==t?void 0:t.amount)||0,currency:null!==(n=e.currency)&&void 0!==n?n:null==t?void 0:t.currency}}),{amount:0,currency:null})}var ye=function(e){switch(e){case"COORDINATE_WITH_DRIVER":return"coordinateWithDriver";case"CALL_AGENCY":return"mustPhone";case"SCHEDULED":return"scheduled";case"NONE":return"none";default:return null}},ve=function(e){var t,n,r,i,o,a,s,l,c,u,d,f,p,m,h,g;return O(O({},e),{},{agencyBrandingUrl:null===(t=e.agency)||void 0===t?void 0:t.url,agencyId:null===(n=e.agency)||void 0===n?void 0:n.id,agencyName:null===(r=e.agency)||void 0===r?void 0:r.name,agencyUrl:null===(i=e.agency)||void 0===i?void 0:i.url,alightRule:ye(e.dropoffType),boardRule:ye(e.pickupType),dropOffBookingInfo:{latestBookingTime:e.dropOffBookingInfo},from:O(O({},e.from),{},{stopCode:null===(o=e.from.stop)||void 0===o?void 0:o.code,stopId:null===(a=e.from.stop)||void 0===a?void 0:a.gtfsId}),route:null===(s=e.route)||void 0===s?void 0:s.shortName,routeColor:null===(l=e.route)||void 0===l?void 0:l.color,routeId:null===(c=e.route)||void 0===c?void 0:c.gtfsId,routeLongName:null===(u=e.route)||void 0===u?void 0:u.longName,routeShortName:null===(d=e.route)||void 0===d?void 0:d.shortName,routeTextColor:null===(f=e.route)||void 0===f?void 0:f.textColor,to:O(O({},e.to),{},{stopCode:null===(p=e.to.stop)||void 0===p?void 0:p.code,stopId:null===(m=e.to.stop)||void 0===m?void 0:m.gtfsId}),tripHeadsign:null===(h=e.trip)||void 0===h?void 0:h.tripHeadsign,tripId:null===(g=e.trip)||void 0===g?void 0:g.gtfsId})},be=function(e){var t=e.route,n=e.routeShortName;return"object"===v()(t)?null==t?void 0:t.shortName:n||t},we=function(e){var t=e.route,n=e.routeLongName;return"object"===v()(t)?null==t?void 0:t.longName:n},xe=function(e){return be(e)||we(e)};function Ee(e){return e.error||!e.coords?(console.warn("Cannot construct location from current position due to geolocation error or missing coordinates."),null):{lat:e.coords.latitude,lon:e.coords.longitude,category:"CURRENT_LOCATION"}}function _e(e){return e.length&&e.map((function(e){return(+e).toFixed(5)})).join(", ")}function Ae(e){return e&&e.split(",").map((function(e){return+e}))||[]}function Oe(e){return{lat:e.lat,lon:e.lng}}function Se(e,t){return e&&t?e.lat===t.lat&&e.lon===t.lon:e===t}function Te(e){return-1!==e.place_id.lastIndexOf("bicycle_rent_station")}function Ie(e){return-1!==e.place_id.lastIndexOf("escooter_rent_station")}function ke(e){return-1!==e.place_id.lastIndexOf("itin_car_")}function Ce(e){return Number.isFinite(e)&&e>=-90&&e<=90}function Me(e){return Number.isFinite(e)&&e>=-180&&e<=180}function Ne(e){return Array.isArray(e)&&2===e.length&&Ce(e[0])&&Me(e[1])}function je(e){var t=[],n=[],r=e.otp.profile.filter((function(e,r){var i=e.access.map((function(e){return e.mode})).join("/");return e.transit&&(i+=" to ".concat(e.transit.map((function(e){return e.routes.map((function(e){return e.id})).join("/")})).join(","))),-1===t.indexOf(i)&&(t.push(i),n.push(r),!0)})),i=e.otp.journeys.filter((function(e,t){return-1!==n.indexOf(t)}));return e.otp.profile=r,e.otp.journeys=i,e}function Le(e){return null==e?void 0:e.split(",")[0]}function Re(e,t,n){return{mode:e.mode,duration:e.time,transitLeg:!1,from:{name:Le(t)},to:{name:Le(n)}}}function De(e,t){return e.map((function(e){return function(e,t){var n={duration:e.time,legs:[],walkTime:0,waitingTime:0};if(e.access&&e.access.length>0)if("BICYCLE_RENT"===e.access[0].mode){var r,i,o="WALK_ON",a=[],s=[],l=[],c=0,u=0;e.access[0].streetEdges.forEach((function(e){e.bikeRentalOffStation&&(o="WALK_OFF",i=e.bikeRentalOffStation.name),"WALK_ON"===o?(a.push(e),c+=e.distance):"BIKE"===o?s.push(e):"WALK_OFF"===o&&(l.push(e),u+=e.distance),e.bikeRentalOnStation&&(o="BIKE",r=e.bikeRentalOnStation.name)})),n.walkTime+=c+u,n.legs.push({mode:"WALK",duration:c,transitLeg:!1,from:{name:Le(t&&t.from.name)},to:{name:r}}),n.legs.push({mode:"BICYCLE_RENT",duration:e.time-c-u,transitLeg:!1,from:{name:r},to:{name:i}}),n.legs.push({mode:"WALK",duration:u,transitLeg:!1,from:{name:i},to:{name:Le(t&&t.to.name)}})}else n.legs.push(Re(e.access[0],t&&t.from.name,e.transit?null:t&&t.to.name)),"WALK"===e.access[0].mode&&(n.walkTime+=e.access[0].time);if(e.transit&&e.transit.forEach((function(e){n.legs.push({transitLeg:!0,mode:e.mode,from:{name:e.fromName},to:{name:e.toName},routes:e.routes,duration:e.rideStats.avg,averageWait:e.waitStats.avg}),n.waitingTime+=e.waitStats.avg})),e.egress&&e.egress.length>0){var d=e.transit?e.transit[e.transit.length-1].toName:null;n.legs.push(Re(e.egress[0],d,t&&t.to.name)),"WALK"===e.egress[0].mode&&(n.walkTime+=e.egress[0].time)}return n}(e,t)}))}var Pe=n(74),Be=n.n(Pe),Fe=n(49),Ue=n.n(Fe),ze=n(369),Ve=n(173),Ge=n(264),He=n(164),We=n.n(He),Ye=n(56),Qe=n.n(Ye),Ze=n(165),Xe=n.n(Ze),Je=n(0),qe=n.n(Je),Ke=n(129),$e="otp";function et(e,t){window.localStorage.setItem("".concat($e,".").concat(e),JSON.stringify(t))}function tt(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{t=window.localStorage.getItem("".concat($e,".").concat(e));var r=JSON.parse(t);return r||n}catch(e){return console.warn(e,t),n}}function nt(e){window.localStorage.removeItem("".concat($e,".").concat(e))}function rt(){return Math.random().toString(36).substr(2,9)}var it=n(192),ot=n(154),at=n(43),st="yyyy-MM-dd",lt="HH:mm";function ct(e){return{hours:Math.floor(e/3600),minutes:Math.floor(e/60)%60,seconds:e%60}}function ut(e){var t;return(null==e||null===(t=e.dateTime)||void 0===t?void 0:t.timeFormat)||lt}function dt(e){var t;return(null==e||null===(t=e.dateTime)||void 0===t?void 0:t.dateFormat)||st}function ft(e){var t;return(null==e||null===(t=e.dateTime)||void 0===t?void 0:t.longDateFormat)||"D MMMM YYYY"}function pt(e,t){return e+((null==t?void 0:t.offset)||0)}function mt(e,t){var n=Object(it.a)(Object(ot.a)(new Date),{seconds:e});return Object(Ve.a)(n,t)}function ht(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Etc/Greenwich";return(null===(e=Intl)||void 0===e?void 0:e.DateTimeFormat().resolvedOptions().timeZone)||t}function gt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return Object(Ve.a)(Object(at.utcToZonedTime)(Date.now(),e),lt)}function yt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return Object(Ve.a)(Object(at.utcToZonedTime)(Date.now(),e),st)}function vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wt(e,t){if(!e)return null;var n=e.name||"".concat(t?"".concat(t," "):"","(").concat(e.lat,",").concat(e.lon,")");return"".concat(n,"::").concat(e.lat,",").concat(e.lon)}var xt=tt("defaultQuery",{}),Et=[{name:"from",routingTypes:["ITINERARY","PROFILE"],default:null,itineraryRewrite:function(e){return{fromPlace:wt(e)}},profileRewrite:function(e){return{from:{lat:e.lat,lon:e.lon}}}},{name:"to",routingTypes:["ITINERARY","PROFILE"],default:null,itineraryRewrite:function(e){return{toPlace:wt(e)}},profileRewrite:function(e){return{to:{lat:e.lat,lon:e.lon}}}},{name:"date",routingTypes:["ITINERARY","PROFILE"],default:yt},{name:"time",routingTypes:["ITINERARY"],default:gt},{name:"departArrive",routingTypes:["ITINERARY"],default:"NOW",itineraryRewrite:function(e){return{arriveBy:"ARRIVE"===e}}},{name:"startTime",routingTypes:["PROFILE"],default:"07:00"},{name:"endTime",routingTypes:["PROFILE"],default:"09:00"},{name:"mode",routingTypes:["ITINERARY","PROFILE"],default:"WALK,TRANSIT",profileRewrite:function(e){var t=[],n=[],r=[];return e&&e.length>0&&e.split(",").forEach((function(e){I(e)&&r.push(e),H(e)&&(t.push(e),V(e)||n.push(e))})),{accessModes:t,directModes:n,transitModes:r}}},{name:"showIntermediateStops",routingTypes:["ITINERARY"],default:!0},{name:"maxWalkDistance",routingTypes:["ITINERARY"],applicable:function(e){return!e.otp2&&e.mode&&W(e.mode)&&-1!==e.mode.indexOf("WALK")},default:1609,selector:"DROPDOWN",label:"Maximum Walk",options:[{text:"1/10 mile",value:160.9},{text:"1/4 mile",value:402.3},{text:"1/2 mile",value:804.7},{text:"3/4 mile",value:1207},{text:"1 mile",value:1609},{text:"2 miles",value:3219},{text:"5 miles",value:8047}]},{name:"maxBikeDistance",routingTypes:["ITINERARY"],applicable:function(e){return e.mode&&W(e.mode)&&-1!==e.mode.indexOf("BICYCLE")},default:4828,selector:"DROPDOWN",label:"Maximum Bike",options:[{text:"1/4 mile",value:402.3},{text:"1/2 mile",value:804.7},{text:"3/4 mile",value:1207},{text:"1 mile",value:1609},{text:"2 miles",value:3219},{text:"3 miles",value:4828},{text:"5 miles",value:8047},{text:"10 miles",value:16093},{text:"20 miles",value:32187},{text:"30 miles",value:48280}],itineraryRewrite:function(e){return{maxWalkDistance:e,maxBikeDistance:e}}},{name:"optimize",applicable:function(){return!1},routingTypes:["ITINERARY"],default:"QUICK",selector:"DROPDOWN",label:"Optimize for",options:[{text:"Speed",value:"QUICK"},{text:"Fewest Transfers",value:"TRANSFERS"}]},{name:"optimizeBike",applicable:function(e){return!e.otp2&&Q(e.mode)},routingTypes:["ITINERARY"],default:"SAFE",selector:"DROPDOWN",label:"Optimize for",options:function(){return[{text:"Speed",value:"QUICK"},{text:"Bike-Friendly Trip",value:"SAFE"},{text:"Flat Trip",value:"FLAT"}]},itineraryRewrite:function(e){return{optimize:e}}},{name:"maxWalkTime",routingTypes:["PROFILE"],default:15,selector:"DROPDOWN",label:"Max Walk Time",applicable:function(e){return e.mode&&W(e.mode)&&-1!==e.mode.indexOf("WALK")},options:[{text:"5 minutes",value:5},{text:"10 minutes",value:10},{text:"15 minutes",value:15},{text:"20 minutes",value:20},{text:"30 minutes",value:30},{text:"45 minutes",value:45},{text:"1 hour",value:60}]},{name:"walkReluctance",routingTypes:["ITINERARY","PROFILE"],selector:"SLIDER",low:1,high:10,step:.5,label:"walk reluctance",labelLow:"More Walking",labelHigh:"More Transit",applicable:function(e){return!!e.otp2&&e.mode&&-1!==e.mode.indexOf("WALK")}},{name:"maxBikeTime",routingTypes:["PROFILE"],default:20,selector:"DROPDOWN",label:"Max Bike Time",applicable:function(e){return e.mode&&W(e.mode)&&-1!==e.mode.indexOf("BICYCLE")},options:[{text:"5 minutes",value:5},{text:"10 minutes",value:10},{text:"15 minutes",value:15},{text:"20 minutes",value:20},{text:"30 minutes",value:30},{text:"45 minutes",value:45},{text:"1 hour",value:60}]},{name:"bikeSpeed",routingTypes:["ITINERARY","PROFILE"],default:3.58,selector:"DROPDOWN",label:"Bicycle Speed",applicable:function(e){return e.mode&&-1!==e.mode.indexOf("BICYCLE")},options:[{text:"6 MPH",value:2.68},{text:"8 MPH",value:3.58},{text:"10 MPH",value:4.47},{text:"12 MPH",value:5.36}]},{name:"maxEScooterDistance",routingTypes:["ITINERARY"],applicable:function(e){return e.mode&&W(e.mode)&&Z(e.mode)},default:4828,selector:"DROPDOWN",label:"Maximum E-scooter Distance",options:[{text:"1/4 mile",value:402.3},{text:"1/2 mile",value:804.7},{text:"3/4 mile",value:1207},{text:"1 mile",value:1609},{text:"2 miles",value:3219},{text:"3 miles",value:4828},{text:"5 miles",value:8047},{text:"10 miles",value:16093},{text:"20 miles",value:32187},{text:"30 miles",value:48280}],itineraryRewrite:function(e){return{maxWalkDistance:e,maxEScooterDistance:e}}},{name:"watts",routingTypes:["ITINERARY","PROFILE"],default:250,selector:"DROPDOWN",label:"E-scooter Power",applicable:function(e){return e.mode&&-1!==e.mode.indexOf("MICROMOBILITY")&&-1===e.mode.indexOf("MICROMOBILITY_RENT")&&-1===e.mode.indexOf("SCOOTER")},options:[{text:"Kid's hoverboard (6mph)",value:125},{text:"Entry-level scooter (11mph)",value:250},{text:"Robust E-scooter (18mph)",value:500},{text:"Powerful E-scooter (24mph)",value:1500}],itineraryRewrite:function(e){var t,n,r=e;switch(r){case 125:t=2.8,n=99;break;case 250:t=5,n=102.5;break;case 500:t=8,n=120;break;case 1e3:t=11,n=111}return{maximumMicromobilitySpeed:t,watts:r,weight:n}}},{name:"ignoreRealtimeUpdates",routingTypes:["ITINERARY"],default:!1},{name:"companies",routingTypes:["ITINERARY"]},{name:"wheelchair",routingTypes:["ITINERARY","PROFILE"],default:!1,selector:"CHECKBOX",label:"Prefer Wheelchair Accessible Routes",icon:qe.a.createElement(Ke.Wheelchair,null),applicable:function(e,t){if(!e.mode||!t.modes)return!1;var n=(t.modes.accessModes||[]).concat(t.modes.transitModes||[]);return e.mode.split(",").some((function(t){var r=n.find((function(e){return e.mode===t}));return!(!r||!r.showWheelchairSetting)&&!!(!r.company||e.companies&&e.companies.split(",").includes(r.company))}))}},{name:"bannedRoutes",routingTypes:["ITINERARY"]},{name:"numItineraries",routingTypes:["ITINERARY"],default:3},{name:"intermediatePlaces",default:[],routingTypes:["ITINERARY"],itineraryRewrite:function(e){return Array.isArray(e)&&e.length>0?{intermediatePlaces:e.map((function(e){return wt(e)}))}:void 0}},{name:"otherThanPreferredRoutesPenalty",default:900,routingTypes:["ITINERARY"]},{name:"preferredRoutes",routingTypes:["ITINERARY"]},{name:"maxPreTransitTime",routingTypes:["ITINERARY"]},{name:"waitReluctance",routingTypes:["ITINERARY"]},{name:"driveDistanceReluctance",routingTypes:["ITINERARY"]},{name:"driveTimeReluctance",routingTypes:["ITINERARY"]},{name:"waitAtBeginningFactor",routingTypes:["ITINERARY"]},{name:"bikeSwitchTime",routingTypes:["ITINERARY"]},{name:"bikeSwitchCost",routingTypes:["ITINERARY"]},{name:"minTransferTime",routingTypes:["ITINERARY"]},{name:"preferredAgencies",routingTypes:["ITINERARY"]},{name:"unpreferredRoutes",routingTypes:["ITINERARY"]},{name:"unpreferredAgencies",routingTypes:["ITINERARY"]},{name:"walkBoardCost",routingTypes:["ITINERARY"]},{name:"bikeBoardCost",routingTypes:["ITINERARY"]},{name:"whiteListedRoutes",routingTypes:["ITINERARY"]},{name:"bannedAgencies",routingTypes:["ITINERARY"]},{name:"whiteListedAgencies",routingTypes:["ITINERARY"]},{name:"bannedTrips",routingTypes:["ITINERARY"]},{name:"bannedStops",routingTypes:["ITINERARY"]},{name:"bannedStopsHard",routingTypes:["ITINERARY"]},{name:"transferPenalty",routingTypes:["ITINERARY"]},{name:"nonpreferredTransferPenalty",routingTypes:["ITINERARY"]},{name:"maxTransfers",routingTypes:["ITINERARY"]},{name:"batch",routingTypes:["ITINERARY"]},{name:"startTransitStopId",routingTypes:["ITINERARY"]},{name:"startTransitTripId",routingTypes:["ITINERARY"]},{name:"clampInitialWait",routingTypes:["ITINERARY"]},{name:"reverseOptimizeOnTheFly",routingTypes:["ITINERARY"]},{name:"boardSlack",routingTypes:["ITINERARY"]},{name:"alightSlack",routingTypes:["ITINERARY"]},{name:"locale",routingTypes:["ITINERARY"]},{name:"disableRemainingWeightHeuristic",routingTypes:["ITINERARY"]},{name:"flexFlagStopBufferSize",routingTypes:["ITINERARY"]},{name:"flexUseReservationServices",routingTypes:["ITINERARY"]},{name:"flexUseEligibilityServices",routingTypes:["ITINERARY"]},{name:"flexIgnoreDrtAdvanceBookMin",routingTypes:["ITINERARY"]},{name:"maxHours",routingTypes:["ITINERARY"]},{name:"useRequestedDateTimeInMaxHours",routingTypes:["ITINERARY"]},{name:"disableAlertFiltering",routingTypes:["ITINERARY"]},{name:"geoidElevation",routingTypes:["ITINERARY"]},{name:"invalidDateStrategy",routingTypes:["ITINERARY"]},{name:"minTransitDistance",routingTypes:["ITINERARY"]},{name:"searchTimeout",routingTypes:["ITINERARY"]},{name:"pathComparator",routingTypes:["ITINERARY"]},{name:"onlyTransitTrips",routingTypes:["ITINERARY"]},{name:"minimumMicromobilitySpeed",routingTypes:["ITINERARY"]}];Et.forEach((function(e){e.name in xt&&(e.default=xt[e.name],e.userDefaultOverride=!0)}));var _t=Et;function At(e){if(!e)return Et;var t=Xe()(Et);return Object.keys(e).forEach((function(n){var r=t.findIndex((function(e){return e.name===n}));-1!==r&&(t[r]=bt(bt({},t[r]),e[n]))})),t}function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Tt=["wheelchair","maxWalkDistance","walkReluctance","maxWalkTime","maxBikeDistance","maxBikeTime","bikeSpeed","optimize","optimizeBike","maxEScooterDistance","watts"],It=["HH:mm:ss","HH:mm","H:mm","h:mm:ss a","h:mm:ssa","h:mm a","h:mma","h:mm","HHmm","hmm","ha"];function kt(e,t,n){return"function"==typeof e[t]?e[t](n):e[t]}function Ct(e){var t=e.filter((function(e){return H(e)})).length;if(t>1){var n=e.find((function(e){return H(e)}));e=e.filter((function(e){return!H(e)||e===n}))}else 0===t&&e.push("WALK");return e}function Mt(){return Qe.a.parse(window.location.href.split("?")[1])}function Nt(){return Object.keys(Mt()).filter((function(e){return!e.startsWith("ui_")}))}function jt(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=St({},e);return delete n.time,delete n.departArrive,delete n.date,t||(delete n.from,delete n.to),n}function Lt(e){return"function"==typeof e.default?e.default():e.default}function Rt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t={routingType:"ITINERARY"};return _t.filter((function(e){return"default"in e})).forEach((function(e){t[e.name]=Lt(e)})),e&&(e.routingTypes&&e.routingTypes.length>0&&(t.routingType=e.routingTypes[0].key),e.defaultQueryParams&&Object.keys(e.defaultQueryParams).forEach((function(n){t[n]=e.defaultQueryParams[n]}))),t}function Dt(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t?e.reduce((function(e,t){var n=e;return t.includes("FLEX")?n.includes("FLEX")||n.push("FLEX"):n.push(t),n}),[]):e}function Pt(e){return Dt(e.split(",")).map((function(t){return"FLEX_EGRESS"!==t&&"FLEX_ACCESS"!==t&&"FLEX_DIRECT"!==t||!e.includes("FLEX")?"FLEX"===t?"FLEX_EGRESS,FLEX_ACCESS,FLEX_DIRECT":t:""})).join(",")}function Bt(e,t){var n,r=Dt(e.mode.split(",").sort(),null===(n=t.modes)||void 0===n?void 0:n.mergeFlex);if(2!==r.length||"TRANSIT"!==r[0]||"WALK"!==r[1]){var i=T(t).concat(["WALK"]).sort();if(!(r.length===i.length&&r.every((function(e,t){return e===i[t]}))))return!0}for(var o=Rt(t),a=function(n){var r=Tt[n];if(function(e,t,n){var r=e.applicable;return!(!e.routingTypes.includes(t.routingType)||"function"==typeof r&&!r(t,n))}(_t.find((function(e){return e.name===r})),e,t)&&e[r]!==o[r])return{v:!0}},s=0;s<Tt.length;s++){var l=a(s);if("object"===v()(l))return l.v}return!1}function Ft(e,t){return Ut.apply(this,arguments)}function Ut(){return(Ut=Be()(Ue.a.mark((function e(t,n){var r;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=We()(n),e.abrupt("return",r.search({text:t}).then((function(e){var t=e.features&&e.features[0];return t?r.getLocationFromGeocodedFeature(t):null})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zt(e){if(!e)return null;var t=e.split("::"),n=t[1]?Ae(t[1]):Ae(t[0]),r=t[1]?t[0]:_e(n);return 2===n.length?{name:r||null,lat:n[0]||null,lon:n[1]||null}:null}function Vt(e,t){return Gt.apply(this,arguments)}function Gt(){return(Gt=Be()(Ue.a.mark((function e(t,n){var r;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=zt(t))||!t||!n){e.next=5;break}return e.next=4,Ft(t,n);case 4:r=e.sent;case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ht(e){var t={};return Object.keys(e).forEach((function(n){switch(n){case"fromPlace":t.from=zt(e.fromPlace);break;case"toPlace":t.to=zt(e.toPlace);break;case"arriveBy":t.departArrive="true"===e.arriveBy?"ARRIVE":"false"===e.arriveBy?"DEPART":"NOW";break;case"date":t.date=e.date||yt();break;case"time":var r=It.find((function(t){return Object(ze.a)(e.time,t)}));t.time=r?Object(Ve.a)(Object(Ge.a)(e.time,r,new Date),lt):gt();break;case"intermediatePlaces":t.intermediatePlaces=e.intermediatePlaces?e.intermediatePlaces.map(zt):[];break;default:var i=Number(e[n]);t[n]=""===e[n]||Number.isNaN(i)?e[n]:i}})),t}function Wt(e){return Yt.apply(this,arguments)}function Yt(){return(Yt=Be()(Ue.a.mark((function e(t){var n,r,i=arguments;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:{},(r=Ht(t)).from){e.next=6;break}return e.next=5,Vt(t.fromPlace,n.geocoder);case 5:r.from=e.sent;case 6:if(r.to){e.next=10;break}return e.next=9,Vt(t.toPlace,n.geocoder);case 9:r.to=e.sent;case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qt(e,t,n){var r,i=t.routingType,o="ITINERARY"===i,a={};if(_t.filter((function(n){return-1!==n.routingTypes.indexOf(i)&&n.name in t&&("function"!=typeof n.applicable||n.applicable(t,e))})).forEach((function(e){var n=o?e.itineraryRewrite:e.profileRewrite;a=Object.assign(a,n?n(t[e.name]):w()({},e.name,t[e.name]))})),o){"boolean"==typeof n&&(a.ignoreRealtimeUpdates=n);var s=Object(ze.a)(a.date,st),l=Object(ze.a)(a.time,lt);s&&l||(delete a.time,delete a.date),a.mode&&(a.mode.includes("CAR_HAIL")||a.mode.includes("CAR_RENT"))&&(a.minTransitDistance="50%",a.searchTimeout=1e4),a.mode&&a.mode.includes("CAR_RENT")&&(a.onlyTransitTrips=!0)}else{var c=Object(ze.a)(a.startTime,lt),u=Object(ze.a)(a.endTime,lt);c&&u||(delete a.startTimeValid,delete a.endTimeValid)}if(Y(a.mode)&&(a.mode+=",WALK"),a.mode&&!1!==(null===(r=e.modes)||void 0===r?void 0:r.mergeFlex)){var d=Dt(a.mode.split(",")).join(",");a.mode=Pt(d)}return a}var Zt=n(108),Xt=n.n(Zt);function Jt(e,t,n){return n.find((function(n){return n.feedId===e&&n.agencyId===t}))||null}function qt(e,t){return e.routeId&&e.agencyId?Jt(e.routeId.split(":")[0],e.agencyId,t):null}function Kt(e,t){if(!e.id)return null;var n,r=e.id.split(":")[0];if(e.agency)n=e.agency.id;else{if(!e.agencyId)return null;n=e.agencyId}return Jt(r,n,t)}var $t=999999999999;function en(e,t){if(!t||0===t.length)return e.agency?e.agency.name:e.agencyName?e.agencyName:"zzz";var n=Kt(e,t);return n&&"number"==typeof n.order?n.order:$t}function tn(e,t,n){var r,i;return"function"==typeof e?(r=e(t),i=e(n)):(r=t,i=n),{aVal:r,bVal:i}}var nn={SUBWAY:1,TRAM:2,TROLLEYBUS:9,RAIL:3,GONDOLA:4,FERRY:5,CABLE_CAR:6,FUNICULAR:7,BUS:8},rn={0:nn.TRAM,1:nn.SUBWAY,2:nn.RAIL,3:nn.BUS,4:nn.FERRY,5:nn.CABLE_CAR,6:nn.GONDOLA,7:nn.FUNICULAR,11:nn.BUS,12:nn.RAIL,13:nn.TROLLEYBUS};function on(e){if(!e)throw new Error("Route is undefined. ".concat(e));return void 0!==nn[e.mode]?nn[e.mode]:void 0!==rn[e.type]?rn[e.type]:(console.warn("no mode/route type found for route",e),$t)}function an(e,t){return on(e)-on(t)}function sn(e){if("string"==typeof e&&e.length>0){var t=e.charCodeAt(0);return t>=65&&t<=90||t>=97&&t<=122}return!1}function ln(e,t){var n=sn(e.shortName),r=sn(t.shortName);return n&&r?0:n?-1:r?1:0}function cn(e){return function(t,n){var r=tn(e,t,n),i=r.aVal,o=r.bVal;return"number"!=typeof i||"number"!=typeof o||isNaN(i)&&isNaN(o)?0:isNaN(i)?1:isNaN(o)?-1:i-o}}function un(e){return function(t,n){var r=tn(e,t,n),i=r.aVal,o=r.bVal;return i||o?i?o?i<o?-1:i>o?1:0:-1:1:0}}function dn(e){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){for(var r=0;r<t.length;r++){var i=t[r](e,n);if(0!==i)return i}return 0}}(function(e){return function(t,n){var r=en(t,e),i=en(n,e);return"string"==typeof r?r<i?-1:r>i?1:0:r-i}}(e),cn((function(e){return-999===(t=e.sortOrder)?void 0:t;var t})),an,ln,cn((function(e){return parseInt(e.shortName,10)})),un((function(e){return e.shortName})),un((function(e){return e.longName})))}function fn(e,t){e||(e="#333333"),t||(t="#ffffff"),e.startsWith("#")||(e="#".concat(e)),t.startsWith("#")||(t="#".concat(t));var n=Xt()(t).luminance(),r=Xt()(e).luminance();return r+n<1.41&&r+n>.25&&Math.abs(r-n)>.2?t:Xt()(e).luminance()<.4?"#ffffff":"#000000"}function pn(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function mn(e){var t=document.querySelector(e),n=null;function r(e){var r=e.targetTouches[0].clientY-n;0===t.scrollTop&&r>0&&e.preventDefault(),t.scrollHeight-t.scrollTop<=t.clientHeight&&r<0&&e.preventDefault()}t.addEventListener("touchstart",(function(e){1===e.targetTouches.length&&(n=e.targetTouches[0].clientY)}),!1),t.addEventListener("touchmove",(function(e){1===e.targetTouches.length&&r(e)}),!1)}var hn=n(1059);function gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gn(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Plan"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"arriveBy"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"banned"}},type:{kind:"NamedType",name:{kind:"Name",value:"InputBanned"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"bikeReluctance"}},type:{kind:"NamedType",name:{kind:"Name",value:"Float"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"carReluctance"}},type:{kind:"NamedType",name:{kind:"Name",value:"Float"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"date"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fromPlace"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"modes"}},type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"TransportMode"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"numItineraries"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"preferred"}},type:{kind:"NamedType",name:{kind:"Name",value:"InputPreferred"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"time"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"toPlace"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"unpreferred"}},type:{kind:"NamedType",name:{kind:"Name",value:"InputUnpreferred"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"walkReluctance"}},type:{kind:"NamedType",name:{kind:"Name",value:"Float"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"walkSpeed"}},type:{kind:"NamedType",name:{kind:"Name",value:"Float"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"wheelchair"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"plan"},arguments:[{kind:"Argument",name:{kind:"Name",value:"arriveBy"},value:{kind:"Variable",name:{kind:"Name",value:"arriveBy"}}},{kind:"Argument",name:{kind:"Name",value:"banned"},value:{kind:"Variable",name:{kind:"Name",value:"banned"}}},{kind:"Argument",name:{kind:"Name",value:"bikeReluctance"},value:{kind:"Variable",name:{kind:"Name",value:"bikeReluctance"}}},{kind:"Argument",name:{kind:"Name",value:"carReluctance"},value:{kind:"Variable",name:{kind:"Name",value:"carReluctance"}}},{kind:"Argument",name:{kind:"Name",value:"date"},value:{kind:"Variable",name:{kind:"Name",value:"date"}}},{kind:"Argument",name:{kind:"Name",value:"fromPlace"},value:{kind:"Variable",name:{kind:"Name",value:"fromPlace"}}},{kind:"Argument",name:{kind:"Name",value:"locale"},value:{kind:"StringValue",value:"en",block:!1}},{kind:"Argument",name:{kind:"Name",value:"numItineraries"},value:{kind:"Variable",name:{kind:"Name",value:"numItineraries"}}},{kind:"Argument",name:{kind:"Name",value:"preferred"},value:{kind:"Variable",name:{kind:"Name",value:"preferred"}}},{kind:"Argument",name:{kind:"Name",value:"time"},value:{kind:"Variable",name:{kind:"Name",value:"time"}}},{kind:"Argument",name:{kind:"Name",value:"toPlace"},value:{kind:"Variable",name:{kind:"Name",value:"toPlace"}}},{kind:"Argument",name:{kind:"Name",value:"transportModes"},value:{kind:"Variable",name:{kind:"Name",value:"modes"}}},{kind:"Argument",name:{kind:"Name",value:"unpreferred"},value:{kind:"Variable",name:{kind:"Name",value:"unpreferred"}}},{kind:"Argument",name:{kind:"Name",value:"walkReluctance"},value:{kind:"Variable",name:{kind:"Name",value:"walkReluctance"}}},{kind:"Argument",name:{kind:"Name",value:"walkSpeed"},value:{kind:"Variable",name:{kind:"Name",value:"walkSpeed"}}},{kind:"Argument",name:{kind:"Name",value:"wheelchair"},value:{kind:"Variable",name:{kind:"Name",value:"wheelchair"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"itineraries"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accessibilityScore"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"duration"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endTime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"legs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accessibilityScore"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"agency"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"alerts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"alertDescriptionText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertHeaderText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"effectiveStartDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"gtfsId"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"id"},name:{kind:"Name",value:"gtfsId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timezone"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"alerts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"alertDescriptionText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertHeaderText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"effectiveStartDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"arrivalDelay"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"departureDelay"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"distance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dropOffBookingInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contactInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bookingUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"infoUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phoneNumber"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"earliestBookingTime"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"daysPrior"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"latestBookingTime"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"daysPrior"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"dropoffType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"duration"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endTime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fareProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"product"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"medium"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"riderCategory"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DefaultFareProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"digits"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lat"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rentalVehicle"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"network"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stop"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"alerts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"alertDescriptionText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertHeaderText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"effectiveStartDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gtfsId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lat"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lon"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"vertexType"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"headsign"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"interlineWithPreviousLeg"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"intermediateStops"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lat"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"locationType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"stopCode"},name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"stopId"},name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"legGeometry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"length"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"points"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"mode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pickupBookingInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contactInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bookingUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"infoUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phoneNumber"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"earliestBookingTime"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"daysPrior"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"latestBookingTime"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"daysPrior"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pickupType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"realTime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"realtimeState"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rentedBike"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rideHailingEstimate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"arrival"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxPrice"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"minPrice"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"provider"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"route"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"alerts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"alertDescriptionText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertHeaderText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"effectiveStartDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gtfsId"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"id"},name:{kind:"Name",value:"gtfsId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shortName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"textColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"startTime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"steps"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"absoluteDirection"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alerts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"alertDescriptionText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertHeaderText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"effectiveStartDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"area"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"distance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"elevationProfile"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"distance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"elevation"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"lat"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"relativeDirection"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stayOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"streetName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lat"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rentalVehicle"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"network"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stop"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"alerts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"alertDescriptionText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertHeaderText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"effectiveStartDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gtfsId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lat"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lon"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"vertexType"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"transitLeg"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"trip"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"arrivalStoptime"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"stop"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"gtfsId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stopPosition"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"departureStoptime"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"stop"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"gtfsId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stopPosition"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"gtfsId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"startTime"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"transfers"},name:{kind:"Name",value:"numberOfTransfers"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"waitingTime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"walkTime"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"routingErrors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"inputField"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:5493,source:{body:'query Plan(\n  $arriveBy: Boolean\n  $banned: InputBanned\n  $bikeReluctance: Float\n  $carReluctance: Float\n  $date: String\n  $fromPlace: String!\n  $modes: [TransportMode]\n  $numItineraries: Int\n  $preferred: InputPreferred\n  $time: String\n  $toPlace: String!\n  $unpreferred: InputUnpreferred\n  $walkReluctance: Float\n  $walkSpeed: Float\n  $wheelchair: Boolean\n) {\n  plan(\n    arriveBy: $arriveBy\n    banned: $banned\n    bikeReluctance: $bikeReluctance\n    carReluctance: $carReluctance\n    date: $date\n    fromPlace: $fromPlace\n    # Currently only supporting EN locale, used for times and text\n    locale: "en"\n    numItineraries: $numItineraries\n    preferred: $preferred\n    time: $time\n    toPlace: $toPlace\n    transportModes: $modes\n    unpreferred: $unpreferred\n    walkReluctance: $walkReluctance\n    walkSpeed: $walkSpeed\n    wheelchair: $wheelchair\n  ) {\n    itineraries {\n      accessibilityScore\n      duration\n      endTime\n      legs {\n        accessibilityScore\n        agency {\n          alerts {\n            alertDescriptionText\n            alertHeaderText\n            alertUrl\n            effectiveStartDate\n            id\n          }\n          gtfsId\n          id: gtfsId\n          name\n          timezone\n          url\n        }\n        alerts {\n          alertDescriptionText\n          alertHeaderText\n          alertUrl\n          effectiveStartDate\n          id\n        }\n        arrivalDelay\n        departureDelay\n        distance\n        dropOffBookingInfo {\n          contactInfo {\n            bookingUrl\n            infoUrl\n            phoneNumber\n          }\n          earliestBookingTime {\n            daysPrior\n            time\n          }\n          latestBookingTime {\n            daysPrior\n            time\n          }\n          message\n        }\n        dropoffType\n        duration\n        endTime\n        fareProducts {\n          id\n          product {\n            __typename\n            id\n            medium {\n              id\n              name\n            }\n            name\n            riderCategory {\n              id\n              name\n            }\n            ... on DefaultFareProduct {\n              price {\n                amount\n                currency {\n                  code\n                  digits\n                }\n              }\n            }\n          }\n        }\n        from {\n          lat\n          lon\n          name\n          rentalVehicle {\n            id\n            network\n          }\n          stop {\n            alerts {\n              alertDescriptionText\n              alertHeaderText\n              alertUrl\n              effectiveStartDate\n              id\n            }\n            code\n            gtfsId\n            id\n            lat\n            lon\n          }\n          vertexType\n        }\n        headsign\n        interlineWithPreviousLeg\n        intermediateStops {\n          lat\n          locationType\n          lon\n          name\n          stopCode: code\n          stopId: id\n        }\n        legGeometry {\n          length\n          points\n        }\n        mode\n        pickupBookingInfo {\n          contactInfo {\n            bookingUrl\n            infoUrl\n            phoneNumber\n          }\n          earliestBookingTime {\n            daysPrior\n            time\n          }\n          latestBookingTime {\n            daysPrior\n            time\n          }\n          message\n        }\n        pickupType\n        realTime\n        realtimeState\n        rentedBike\n        rideHailingEstimate {\n          arrival\n          maxPrice {\n            amount\n            currency {\n              code\n            }\n          }\n          minPrice {\n            amount\n            currency {\n              code\n            }\n          }\n          provider {\n            id\n          }\n        }\n        route {\n          alerts {\n            alertDescriptionText\n            alertHeaderText\n            alertUrl\n            effectiveStartDate\n            id\n          }\n          color\n          gtfsId\n          id: gtfsId\n          longName\n          shortName\n          textColor\n          type\n        }\n        startTime\n        steps {\n          absoluteDirection\n          alerts {\n            alertDescriptionText\n            alertHeaderText\n            alertUrl\n            effectiveStartDate\n            id\n          }\n          area\n          distance\n          elevationProfile {\n            distance\n            elevation\n          }\n          lat\n          lon\n          relativeDirection\n          stayOn\n          streetName\n        }\n        to {\n          lat\n          lon\n          name\n          rentalVehicle {\n            id\n            network\n          }\n          stop {\n            alerts {\n              alertDescriptionText\n              alertHeaderText\n              alertUrl\n              effectiveStartDate\n              id\n            }\n            code\n            gtfsId\n            id\n            lat\n            lon\n          }\n          vertexType\n        }\n        transitLeg\n        trip {\n          arrivalStoptime {\n            stop {\n              gtfsId\n              id\n            }\n            stopPosition\n          }\n          departureStoptime {\n            stop {\n              gtfsId\n              id\n            }\n            stopPosition\n          }\n          gtfsId\n          id\n        }\n      }\n      startTime\n      transfers: numberOfTransfers\n      waitingTime\n      walkTime\n    }\n    routingErrors {\n      code\n      description\n      inputField\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}}}};function bn(e,t){return e.reduce((function(e,n){if(!t.map((function(e){return e.mode})).includes(n.applicableMode))return e;if(("CHECKBOX"===n.type||"SUBMODE"===n.type)&&n.addTransportMode&&n.value){var r=Array.isArray(n.addTransportMode)?n.addTransportMode:[n.addTransportMode];return[].concat(g()(e),g()(r))}if("DROPDOWN"===n.type){var i,o=null===(i=n.options.find((function(e){return e.value===n.value})))||void 0===i?void 0:i.addTransportMode;if(o)return[].concat(g()(e),[o])}return e}),[])}var wn={AIRPLANE:"TRANSIT",BICYCLE:"PERSONAL",BUS:"TRANSIT",CABLE_CAR:"TRANSIT",CAR:"CAR",FERRY:"TRANSIT",FLEX:"SHARED",FUNICULAR:"TRANSIT",GONDOLA:"TRANSIT",RAIL:"TRANSIT",MONORAIL:"TRANSIT",SCOOTER:"PERSONAL",SUBWAY:"TRANSIT",TROLLEYBUS:"TRANSIT",TRAM:"TRANSIT",TRANSIT:"TRANSIT",WALK:"WALK"},xn=[["WALK"],["PERSONAL"],["TRANSIT","SHARED"],["WALK","SHARED"],["TRANSIT"],["TRANSIT","PERSONAL"],["TRANSIT","CAR"]],En=["SCOOTER","BICYCLE","CAR"],_n=Object.keys(wn).filter((function(e){return"TRANSIT"===wn[e]&&"TRANSIT"!==e})),An=Object.keys(wn).filter((function(e){return"TRANSIT"===wn[e]}));function On(e){var t,n=[].concat(g()(bn(e.modeSettings,e.modes)),g()(e.modes)),r=n.filter((function(e){return _n.includes(e.mode)})).map((function(e){return e.mode}));return(t=n,t?new Array(1<<t.length).fill(null).map((function(e,n){return t.filter((function(e,t){return n&1<<t}))})):[]).filter((function(e){return function(e,t){if(0===e.length)return!1;var n=Array.from(new Set(e.map((function(e){return e.qualifier?"SHARED":wn[e.mode]}))));if(n.includes("TRANSIT")){if(t.length&&e.find((function(e){return"TRANSIT"===e.mode})))return!1;if(0!==e.reduce((function(e,n){return t.includes(n.mode)?e-1:e}),t.length))return!1}return!(En.filter((function(t){return e.find((function(e){return e.mode===t}))})).length>1||!xn.find((function(e){return n.every((function(t){return e.includes(t)}))&&e.every((function(e){return n.includes(e)}))})))}(e,r)})).map((function(t){return yn(yn({},e),{},{modes:t})}))}function Sn(e){var t=e.arriveBy,n=e.banned,r=e.date,i=e.from,o=e.modes,a=e.modeSettings,s=e.numItineraries,l=e.preferred,c=e.time,u=e.to,d=e.unpreferred,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vn,p=a.reduce((function(e,t){var n;("SLIDER"===t.type&&t.inverseKey&&(e[t.inverseKey]=t.high-t.value+t.low),e[t.key]=t.value,"CHECKBOX"===t.type&&t.truthValue)&&(e[t.key]=!0===t.value?t.truthValue:null!==(n=t.falseValue)&&void 0!==n?n:null);return e}),{}),m=p.bikeReluctance,h=p.carReluctance,g=p.walkSpeed,y=p.walkReluctance,v=p.wheelchair;return{query:Object(hn.a)(f),variables:{arriveBy:t,banned:n,bikeReluctance:m,carReluctance:h,date:r,fromPlace:"".concat(i.name,"::").concat(i.lat,",").concat(i.lon),modes:o,numItineraries:s,preferred:l,time:c,toPlace:"".concat(u.name,"::").concat(u.lat,",").concat(u.lon),unpreferred:d,walkReluctance:y,walkSpeed:g,wheelchair:v}}}var Tn={itinerary:r,map:i,profile:o,query:c,queryGen:f,queryParams:l,route:u,storage:a,time:s,ui:d},In=n(69),kn=n(6),Cn=n(312),Mn=n(4),Nn=n.n(Mn),jn=n(10),Ln=Je.forwardRef((function(e,t){return Je.createElement(jn.a,Nn()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),Je.createElement("path",{fill:"currentColor",d:"M228.3 469.1 47.6 300.4c-4.2-3.9-8.2-8.1-11.9-12.4h87c22.6 0 43-13.6 51.7-34.5l10.5-25.2 49.3 109.5c3.8 8.5 12.1 14 21.4 14.1s17.8-5 22-13.3l42.4-84.9 1.7 3.4c9.5 19 28.9 31 50.1 31h104.5c-3.7 4.3-7.7 8.5-11.9 12.4L283.7 469.1c-7.5 7-17.4 10.9-27.7 10.9s-20.2-3.9-27.7-10.9zM503.7 240h-132c-3 0-5.8-1.7-7.2-4.4l-23.2-46.3c-4.1-8.1-12.4-13.3-21.5-13.3s-17.4 5.1-21.5 13.3l-41.4 82.8-51-113.9c-3.9-8.7-12.7-14.3-22.2-14.1s-18.1 5.9-21.8 14.8l-31.8 76.3c-1.2 3-4.2 4.9-7.4 4.9H16c-2.6 0-5 .4-7.3 1.1-5.7-16-8.7-33-8.7-50.3v-5.8c0-69.9 50.5-129.5 119.4-141 45.6-7.6 92 7.3 124.6 39.9l12 12 12-12c32.6-32.6 79-47.5 124.6-39.9 68.9 11.5 119.4 71.1 119.4 141v5.8c0 16.9-2.8 33.5-8.3 49.1z"}))}));Ln.displayName="Heartbeat";var Rn=Je.forwardRef((function(e,t){return Je.createElement(jn.a,Nn()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 576 512"},e,{ref:t}),Je.createElement("path",{fill:"currentColor",d:"M64 64C28.7 64 0 92.7 0 128v256c0 35.3 28.7 64 64 64h448c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H64zm64 320H64v-64c35.3 0 64 28.7 64 64zM64 192v-64h64c0 35.3-28.7 64-64 64zm384 192c0-35.3 28.7-64 64-64v64h-64zm64-192c-35.3 0-64-28.7-64-64h64v64zm-112 64c0 61.9-50.1 112-112 112s-112-50.1-112-112 50.1-112 112-112 112 50.1 112 112zm-148-48c0 9.7 6.9 17.7 16 19.6V276h-4c-11 0-20 9-20 20s9 20 20 20h48c11 0 20-9 20-20s-9-20-20-20h-4v-68c0-11-9-20-20-20h-16c-11 0-20 9-20 20z"}))}));Rn.displayName="MoneyBillAlt";var Dn=n(248),Pn=Je.forwardRef((function(e,t){return Je.createElement(jn.a,Nn()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),Je.createElement("path",{fill:"currentColor",d:"M416 256s96-96 96-160c0-53-43-96-96-96s-96 43-96 96c0 29.4 20.2 65.5 42.1 96H320c-53 0-96 43-96 96s43 96 96 96h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H188.6c-6.2 9.6-12.6 18.8-19 27.2-10.7 14.2-21.3 26.9-30 36.8H416c53 0 96-43 96-96s-43-96-96-96h-96c-17.7 0-32-14.3-32-32s14.3-32 32-32h96zm0-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zM149.9 448c21.9-30.5 42.1-66.6 42.1-96 0-53-43-96-96-96S0 299 0 352c0 64 96 160 96 160s3.5-3.5 9.2-9.6c.4-.4.7-.8 1.1-1.2 3.3-3.5 7.1-7.8 11.4-12.8l.6-.6c9.4-10.8 20.7-24.6 31.6-39.8zM96 384c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"}))}));Pn.displayName="Route";var Bn=n(51),Fn=n(85),Un=n(215),zn=Je.forwardRef((function(e,t){return Je.createElement(jn.a,Nn()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),Je.createElement("path",{d:"m15 12 5-4-5-4v2.999H2v2h13zm7 3H9v-3l-5 4 5 4v-3h13z"}))}));zn.displayName="Transfer";var Vn=n(270),Gn=n(84);function Hn(e){return qe.a.createElement("strong",null,e)}function Wn(e,t){return qe.a.createElement(kn.FormattedNumber,{currency:e,currencyDisplay:"narrowSymbol",value:t,style:"currency"})}var Yn=n(247),Qn=n.n(Yn);function Zn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zn(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Jn=Object(Bn.flatten)(Qn.a),qn=m.default.thead.withConfig({displayName:"fare-table__TableHeader",componentId:"sc-i0o2oh-0"})(["th{font-weight:normal;min-width:5ch;padding:0.75em 1.5em;text-align:center;}th:nth-of-type(2n + 1){background:#cccccc22;}th.main{background:#333333;color:#ffffffcc;}"]),Kn=m.default.table.withConfig({displayName:"fare-table__Table",componentId:"sc-i0o2oh-1"})(["border-collapse:collapse;display:block;margin-bottom:16px;padding:0;td{text-align:right;}td:nth-of-type(2n + 1){background:#cccccc22;}td.no-zebra{background:none;}th:first-of-type{height:40px;}"]),$n=Object(m.default)(zn).withConfig({displayName:"fare-table__TransferIcon",componentId:"sc-i0o2oh-2"})(["padding-left:4px;"]),er=function(e){return Object(Gn.a)().formatMessage({id:"otpUi.TripDetails.FareTable.".concat(e),description:"Fare leg table header for key ".concat(e),defaultMessage:Qn.a["otpUi.TripDetails.FareTable.".concat(e)]})},tr=function(e){return function(t){return void 0!==Object(Vn.getLegCost)(t,e.mediumId,e.riderCategoryId).price}},nr=function(e){var t=e.cols,n=e.headerKey,r=e.legs,i=Object(Gn.a)(),o=r.filter((function(e){var t;return(null===(t=e.fareProducts)||void 0===t?void 0:t.length)>0})),a=t.filter((function(e){return o.some(tr(e))})).map((function(e){return Xn(Xn({},e),{},{total:o.every(tr(e))?Object(Vn.getItineraryCost)(o,e.mediumId,e.riderCategoryId):void 0})})),s=er(n);return a.length?qe.a.createElement(Kn,null,qe.a.createElement(qn,null,qe.a.createElement("th",{className:"main",scope:"col"},Hn(s)),a.map((function(e){var t,n=e.total;return qe.a.createElement("th",{scope:"col",key:e.columnHeaderKey||"".concat(e.mediumId,"-").concat(e.riderCategoryId)},Hn(er(e.columnHeaderKey)),qe.a.createElement("br",null),void 0!==(null==n?void 0:n.amount)?Wn(null==n||null===(t=n.currency)||void 0===t?void 0:t.code,null==n?void 0:n.amount):qe.a.createElement(qe.a.Fragment,null,"-",qe.a.createElement(Fn.f,null,qe.a.createElement(In.a,{id:"otpUi.TripDetails.missingFareTotal"}))))}))),o.map((function(e,t){return qe.a.createElement("tr",{key:t},qe.a.createElement("td",{className:"no-zebra"},Object(Vn.getLegRouteName)(e)),a.map((function(t){var n,r,o=Object(Vn.getLegCost)(e,t.mediumId,t.riderCategoryId),a=o.price,s=o.transferAmount;return qe.a.createElement("td",{key:t.columnHeaderKey,title:(null==s?void 0:s.amount)>0&&i.formatMessage({defaultMessage:Jn["otpUi.TripDetails.transferDiscountExplanation"],description:"Text explaining the transfer discount applied to this fare.",id:"otpUi.TripDetails.transferDiscountExplanation"},{transferAmount:i.formatNumber(null==s?void 0:s.amount,{currency:null==a||null===(n=a.currency)||void 0===n?void 0:n.code,currencyDisplay:"narrowSymbol",style:"currency"})})},(null==s?void 0:s.amount)>0&&qe.a.createElement(qe.a.Fragment,null,qe.a.createElement($n,{size:16})," "),a?Wn(null==a||null===(r=a.currency)||void 0===r?void 0:r.code,null==a?void 0:a.amount):qe.a.createElement(qe.a.Fragment,null,"-",qe.a.createElement(Fn.f,null,qe.a.createElement(In.a,{id:"otpUi.TripDetails.legMissingFareInfo"}))))})))}))):null},rr=function(e){var t=e.layout,n=e.legs;return qe.a.createElement("div",null,t.map((function(e){return qe.a.createElement(nr,{cols:e.cols,headerKey:e.headerKey,key:e.headerKey,legs:n})})))},ir=Object(Bn.flatten)(Qn.a);function or(e){return qe.a.createElement("a",{href:"https://www.itf-oecd.org/sites/default/files/life-cycle-assessment-calculations-2020.xlsx",rel:"noopener noreferrer",target:"_blank"},e)}function ar(e){var t=e.bikeMinutes,n=e.walkMinutes;return qe.a.createElement(In.a,{defaultMessage:ir["otpUi.TripDetails.timeActiveDescription"],description:"Text describing the walking and biking durations of a trip.",id:"otpUi.TripDetails.timeActiveDescription",values:{bikeMinutes:t,strong:Hn,walkMinutes:n}})}var sr,lr=function(e){var t,n=e.className,r=void 0===n?"":n,i=e.co2Config,o=e.defaultFareType,a=e.DepartureDetails,s=void 0===a?null:a,l=e.displayTimeActive,c=void 0===l||l,u=e.FareDetails,d=void 0===u?null:u,f=e.fareDetailsLayout,p=e.fareKeyNameMap,m=void 0===p?{}:p,h=e.itinerary,y=e.showApproximateMinutesActive,v=e.TimeActiveDetails,b=void 0===v?ar:v,w=Tn.itinerary.calculateTncFares(h),x=w.currencyCode,E=w.maxTNCFare,_=w.minTNCFare,A=h.legs.reduce((function(e,t){return t.rideHailingEstimate&&(e.companies=t.rideHailingEstimate.provider.id),t.fareProducts&&t.fareProducts.forEach((function(t){var n,r,i=null===(n=t.product.medium)||void 0===n?void 0:n.id,o=null===(r=t.product.riderCategory)||void 0===r?void 0:r.id;e.fareTypes.find((function(e){return e.mediumId===i&&e.riderCategoryId===o}))||e.fareTypes.push({mediumId:i,riderCategoryId:o})})),e}),{companies:"",fareTypes:[]}),O=A.companies,S=A.fareTypes;if(S.length>0&&o){var T,I=Tn.itinerary.getItineraryCost(h.legs,o.mediumId,o.riderCategoryId),k=S.length>1?Fn.j:Fn.k,C=qe.a.createElement(In.a,{defaultMessage:ir["otpUi.TripDetails.transitFare"],description:"Text showing the price of tickets on public transportation.",id:"otpUi.TripDetails.transitFare"});t=void 0!==I&&qe.a.createElement(Fn.c,null,qe.a.createElement(k,null,qe.a.createElement("summary",{style:{display:S.length>1?"list-item":""}},qe.a.createElement(In.a,{defaultMessage:ir["otpUi.TripDetails.transitFareEntry"],description:"Text showing the price of tickets on public transportation.",id:"otpUi.TripDetails.transitFareEntry",values:{name:m[o.headerKey]||C,strong:Hn,value:Wn((null===(T=I.currency)||void 0===T?void 0:T.code)||"USD",null==I?void 0:I.amount)}})),f?qe.a.createElement(rr,{layout:f,legs:h.legs}):S.map((function(e){var t,n;return e?null:qe.a.createElement(In.a,{defaultMessage:ir["otpUi.TripDetails.transitFareEntry"],description:"Text showing the price of tickets on public transportation.",id:"otpUi.TripDetails.transitFareEntry",key:Object.values(e).join("-"),values:{name:m[o.headerKey]||C,strong:Hn,value:Wn((null===(t=I.currency)||void 0===t?void 0:t.code)||"USD",(null==I?void 0:I.amount)/(null==I||null===(n=I.currency)||void 0===n?void 0:n.digits))}})}))))}var M=0!==_&&qe.a.createElement(Fn.c,null,qe.a.createElement(Fn.g,null,qe.a.createElement(In.a,{defaultMessage:ir["otpUi.TripDetails.tncFare"],description:"Text showing the price paid to transportation network companies.",id:"otpUi.TripDetails.tncFare",values:{companies:qe.a.createElement(Fn.h,null,O.toLowerCase()),maxTNCFare:Wn(x,E),minTNCFare:Wn(x,_),strong:Hn}}))),N=new Date(h.startTime),j=0,L=0;h.legs.forEach((function(e){e.mode.startsWith("WALK")&&(j+=e.duration),e.mode.startsWith("BICYCLE")&&(L+=e.duration)}));var R=Math.round(L/60),D=Math.round(j/60),P=R+D,B=h.co2||(null==i?void 0:i.enabled)&&Tn.itinerary.calculateEmissions(h,null==i?void 0:i.carbonIntensity,null==i?void 0:i.units),F=h.legs.some(Tn.itinerary.isFlex),U=h.legs.map((function(e){return e.pickupBookingInfo})).filter((function(e){return!!e})),z=h.legs.map((function(e){return e.dropOffBookingInfo})).filter((function(e){return!!e})),V=h.legs.reduce((function(e,t){return e+t.distance}),0);return qe.a.createElement(Fn.p,{className:r},qe.a.createElement(Fn.r,{id:"trip-details-header"},qe.a.createElement(In.a,{defaultMessage:ir["otpUi.TripDetails.title"],description:"Title (heading) text of the component.",id:"otpUi.TripDetails.title"})),qe.a.createElement(Fn.q,null,qe.a.createElement(Un.a,{description:s&&qe.a.createElement(s,{departureDate:N}),icon:qe.a.createElement(Cn.a,{size:17}),summary:qe.a.createElement(Fn.i,null,qe.a.createElement(In.a,{defaultMessage:ir["otpUi.TripDetails.departure"],description:"Text showing the departure date/time for a trip.",id:"otpUi.TripDetails.departure",values:{departureDate:N,strong:Hn}}))}),!!t&&qe.a.createElement(Un.a,{description:d&&qe.a.createElement(d,{legs:h.legs,maxTNCFare:E,minTNCFare:_}),icon:qe.a.createElement(Rn,{size:17}),summary:t}),M&&qe.a.createElement(Un.a,{description:d&&qe.a.createElement(d,{legs:h.legs,maxTNCFare:E,minTNCFare:_}),icon:qe.a.createElement(Rn,{size:17}),summary:M}),c&&P>0&&qe.a.createElement(Un.a,{icon:qe.a.createElement(Ln,{size:17}),summary:qe.a.createElement(In.a,{defaultMessage:ir["otpUi.TripDetails.minutesActive"],description:"Text showing the number of minutes spent walking or biking throughout trip.",id:"otpUi.TripDetails.minutesActive",values:{approximatePrefix:y,minutes:P,strong:Hn}}),description:b&&qe.a.createElement(b,{bikeMinutes:R,walkMinutes:D})}),B>0&&(null==i?void 0:i.enabled)&&qe.a.createElement(Un.a,{icon:qe.a.createElement(Dn.a,{size:17}),summary:qe.a.createElement(Fn.a,null,qe.a.createElement(In.a,{defaultMessage:ir["otpUi.TripDetails.co2"],description:"Text showing the quantity of CO emitted by this trip.",id:"otpUi.TripDetails.co2",values:{co2:qe.a.createElement(kn.FormattedNumber,{value:Math.round(B),style:"unit",unit:(null==i?void 0:i.units)||"gram",unitDisplay:"narrow"}),strong:Hn}})),description:qe.a.createElement(In.a,{defaultMessage:ir["otpUi.TripDetails.co2description"],description:"Text explaining how the CO emissions are calculated.",id:"otpUi.TripDetails.co2description",values:{link:or,totalDistance:V}})}),F&&qe.a.createElement(Un.a,{summary:qe.a.createElement(Fn.d,null,qe.a.createElement(In.a,{defaultMessage:ir["otpUi.TripDetails.tripIncludesFlex"],description:"Text stating that portions of the trip include a flex (on-demand) transit service.",id:"otpUi.TripDetails.tripIncludesFlex",values:{extraMessage:g()(new Set([].concat(g()(U.map((function(e){return e.message}))),g()(z.map((function(e){return e.message})))))).join(" ")}})),icon:qe.a.createElement(Pn,{size:17})})))};var cr,ur,dr=Object(m.default)(lr)(sr||(cr=["\n  b {\n    font-weight: 600;\n  }\n  margin-left: 5px;\n  margin-right: 5px;\n"],ur||(ur=cr.slice(0)),sr=Object.freeze(Object.defineProperties(cr,{raw:{value:Object.freeze(ur)}}))));t.a=Object(p.c)((function(e){var t=e.otp.config,n=t.co2,r=t.itinerary;return{co2Config:n,defaultFareType:(null==r?void 0:r.defaultFareType)||{mediumId:null,riderCategoryId:null},fareDetailsLayout:(null==r?void 0:r.fareDetailsLayout)||void 0,fareKeyNameMap:(null==r?void 0:r.fareKeyNameMap)||{}}}))(dr)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultOptions=function(){return r},t.setDefaultOptions=function(e){r=e};var r={}},function(e,t,n){n(341),e.exports=self.fetch.bind(self)},function(e,t,n){var r=n(282);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(669),i=n(458);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(454),i=n(357);e.exports=function(e){return r(i(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=a(n(0)),o=a(n(359));function a(e){return e&&e.__esModule?e:{default:e}}t.default=(0,o.default)((function(e,t,n,o,a){var s=e[t],l=void 0===s?"undefined":r(s);return i.default.isValidElement(s)?new Error("Invalid "+o+" `"+a+"` of type ReactElement supplied to `"+n+"`, expected a ReactComponent or a DOMElement. You can usually obtain a ReactComponent or DOMElement from a ReactElement by attaching a ref to it."):"object"===l&&"function"==typeof s.render||1===s.nodeType?null:new Error("Invalid "+o+" `"+a+"` of value `"+s+"` supplied to `"+n+"`, expected a ReactComponent or a DOMElement.")})),e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return e="function"==typeof e?e():e,o.default.findDOMNode(e)||t};var r,i=n(50),o=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return e===e.window?e:9===e.nodeType&&(e.defaultView||e.parentWindow)},e.exports=t.default},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(79),i=n(3);function o(e){return Object(i.a)(1,arguments),e instanceof Date||"object"===Object(r.a)(e)&&"[object Date]"===Object.prototype.toString.call(e)}},function(e,t,n){var r=n(198),i=n(220);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},function(e,t){e.exports={otpUi:{AccessLegBody:{LegDiagramPreview:{elevationChart:"Elevation chart",noElevationData:"No elevation data available.",toggleElevationChart:"Toggle elevation chart"},RentedVehicleSubheader:{pickupRental:"Pick up {company} {vehicleType} {vehicleName}",resumeRentalRide:"Continue using rental",vehicleType:{bike:"bike",bikeshare:"shared bike",car:"car",escooter:"E-scooter",vehicle:"vehicle"},walkVehicle:"Walk vehicle along {place}"},TncLeg:{bookRide:"Book Ride",bookRideLater:"Wait until {timeMillis, time, short} to book",estimatedCost:"Estimated cost: {minFare} - {maxFare}",estimatedTravelTime:"Estimated travel time: {duration} (does not account for traffic)",waitForPickup:"Wait{minutes, plural, =0 {} other { # minutes}} for {company} pickup"},mapillaryTooltip:"Show street imagery at this location",step:{circleClockwise:"Follow circle clockwise",circleCounterClockwise:"Follow circle counterclockwise",continue:"Continue",enterStation:"Enter station",exitStation:"Exit station",hardLeft:"Hard left",hardRight:"Hard right",left:"Left",right:"Right",slightlyLeft:"Slight left",slightlyRight:"Slight right",uTurnLeft:"Left U-turn",uTurnRight:"Right U-turn"},stepDepart:"Head {heading} on {street}",stepElevator:"Take elevator to {street}",stepFollowSigns:"Follow signs to {street}",stepGeneric:"{step} on {street}",stepHeading:{east:"east",north:"north",northeast:"northeast",northwest:"northwest",south:"south",southeast:"southeast",southwest:"southwest",west:"west"},stepStation:"{step} at {street}",summary:"{mode} to {place}",summaryAndDistance:"{mode} {distance} to {place}",summaryMode:{bike:"Bicycle",bikeshare:"Bikeshare",carDrive:"Drive",carHail:"Ride",escooter:"Ride",walk:"Walk"},transfer:"Transfer{duration, select, undefined {} other {, wait {duration}}}",unnamedPath:"Unnamed Path",unnamedRoad:"Unnamed Road",vehicleTitle:"{company} {vehicleType}",vehicleType:{bike:"Bike",bikeshare:"Shared bike",car:"Car",escooter:"E-scooter",vehicle:"Vehicle"}},ItineraryBody:{common:{durationShort:"{approximatePrefix, select, true {About } other {}}{hours, plural, =0 {} other {# hr }}{minutes} min"},flexAdvanceNotice:" at least {leadDays, plural, one {# day} other {# days}} in advance",flexCallAhead:"call ahead",flexCallNumber:"call {phoneNumber}",flexPickupMessage:"To take this route, you must {action}{advanceNotice}.",stayOnBoard:"Stay on Board at {place}",travelBy:"Travel {mode}",travelByMode:{bike:"by bicycle",car:"by car",escooter:"by e-scooter",walk:"by walking"},tripAccessibility:{inaccessible:"inaccessible",itineraryAccessibility:"Wheelchair accessibility of this trip: ",legAccessibility:"Wheelchair accessibility of this trip leg: ",likelyAccessible:"likely accessible",unclear:"unknown"},viewOnMap:"View on map"},TransitLegBody:{AlertsBody:{alertLinkText:"See alert on {agency} website",effectiveDate:"Effective as of {dateTime, date, long}",effectiveTimeAndDate:"Effective as of {dateTime, time, short}, {day}",linkOpensNewWindow:"(Opens new window)",noAgencyAlertLinkText:"See alert on agency website",today:"Today",tomorrow:"Tomorrow",yesterday:"Yesterday"},agencyExternalLink:"{agencyName} (External Link)",alertsHeader:"{alertCount, plural, =1 {# alert} other {# alerts}}",arriveAt:"Arrive at {place}",disembarkAt:"Disembark at {legDestination}",expandDetails:"(Expand details)",fare:"Fare: {fare}",fromLocation:"from {location}",legDetails:"Leg details",operatedBy:"Service operated by {agencyLink}",ride:"Ride",rideDurationAndStops:"Ride {duration}{numStops, plural, =1 {} other { / # stops}}",routeDescription:"{routeName} <toPrefix>to</toPrefix> {headsign}",stopId:"Stop ID {stopId}",stopIdBasic:"ID {stopId}",stopViewer:"Stop Viewer",tripViewer:"Trip Viewer",typicalWait:"Typical wait: {waitTime}",zoomToLeg:"Zoom to leg on map"}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s}));var r=n(0),i=n(266);const o={adapter:{},options:i.a},a=r.createContext(o);function s(){const e=r.useContext(a);if(void 0===e||e===o)throw new Error("useQueryParams must be used within a QueryParamProvider");return e}function l({children:e,adapter:t,options:n}){const{adapter:o,options:s}=r.useContext(a),l=r.useMemo((()=>({adapter:null!=t?t:o,options:Object(i.b)(s,n)})),[t,n,o,s]);return r.createElement(a.Provider,{value:l},e)}function c({children:e,adapter:t,options:n}){const i=t;return i?r.createElement(i,null,(t=>r.createElement(l,{adapter:t,options:n},e))):r.createElement(l,{options:n},e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4),i=n.n(r),o=n(0),a=n(10),s=o.forwardRef((function(e,t){return o.createElement(a.a,i()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M367.2 412.5 99.5 144.8C77.1 176.1 64 214.5 64 256c0 106 86 192 192 192 41.5 0 79.9-13.1 111.2-35.5zm45.3-45.3C434.9 335.9 448 297.5 448 256c0-106-86-192-192-192-41.5 0-79.9 13.1-111.2 35.5l267.7 267.7zM512 256c0 141.4-114.6 256-256 256S0 397.4 0 256 114.6 0 256 0s256 114.6 256 256z"}))}));s.displayName="Ban"},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(7),i=n(54),o=r.default.itinerary,a=o.hasTransit,s=o.toSentenceCase,l=r.default.map.matchLatLon;function c(e){return"string"!=typeof e?e:/[a-zA-Z]/g.test(e)?e.split(",")[0]:e}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:["home","work","suggested"],o=n.find((function(e){return l(e,t)}));return o&&-1!==r.indexOf(o.type)?Object(i.d)(o.type,e):null}function d(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];e.from.name||(e.from.name=t.formatMessage({id:"common.coordinates"},Object(i.i)(t,e.from))),e.to.name||(e.to.name=t.formatMessage({id:"common.coordinates"},Object(i.i)(t,e.to)));var o=(null===(n=e.modes)||void 0===n?void 0:n.map((function(e){var t=e.mode,n=e.qualifier;return"".concat(t).concat(n?"_".concat(n):"")})).join(","))||"",l=u(t,e.from,r)||c(e.from.name),d=u(t,e.to,r)||c(e.to.name),f=a(o)?t.formatMessage({id:"common.modes.transit"}):s(o);return t.formatMessage({id:"components.UserSettings.recentSearchSummary"},{from:l,mode:f,to:d})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var r,i,o=n(1),a=n(26),s=n(109);function l(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var c="60px",u=Object(o.default)(s.i).attrs({largeIcon:!0})(r||(r=l(["\n  align-items: stretch;\n  display: flex;\n  height: ",";\n  margin-bottom: 10px;\n\n  "," {\n    align-items: center;\n    display: flex;\n    flex: 1 0 0;\n    text-align: left;\n  }\n  "," {\n    display: flex;\n    flex: 1 0 0;\n    flex-direction: column;\n    margin-left: 10px;\n    /* overflow is needed here for the nested overflow to take effect. */\n    overflow: hidden;\n  }\n  "," {\n    color: ",";\n  }\n\n  ",",\n  "," {\n    display: block;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    width: 100%;\n  }\n  "," {\n    color: ",";\n    flex-shrink: 0;\n  }\n  ",", "," {\n    margin-left: 4px;\n    width: ",";\n  }\n"])),c,s.g,s.e,s.f,a.e,s.h,s.f,s.c,a.e,s.a,s.b,c),d=Object(o.default)(s.i)(i||(i=l(["\n  "," {\n    border: none;\n  }\n  "," {\n    margin-left: 0.25em;\n  }\n  "," {\n    display: block;\n    height: 100%;\n  }\n  "," {\n    border: none;\n    width: 40px;\n  }\n"])),s.d,s.h,s.f,s.a)},function(e,t,n){"use strict";n.d(t,"b",(function(){return P}));var r=n(33),i=n.n(r),o=n(15),a=n.n(o),s=n(92),l=n(0),c=n.n(l),u=n(19),d=n(61),f=n.n(d),p=n(308);function m(e){var t=[1/0,1/0,-1/0,-1/0];return Object(p.a)(e,(function(e){t[0]>e[0]&&(t[0]=e[0]),t[1]>e[1]&&(t[1]=e[1]),t[2]<e[0]&&(t[2]=e[0]),t[3]<e[1]&&(t[3]=e[1])})),t}m.default=m;var h=m,g=n(40),y=n.n(g),v=n(141),b=n(45);var w=function(e,t,n){void 0===n&&(n={});for(var r=n.steps||64,i=n.properties?n.properties:!Array.isArray(e)&&"Feature"===e.type&&e.properties?e.properties:{},o=[],a=0;a<r;a++)o.push(Object(v.a)(e,t,-360*a/r,n).geometry.coordinates);return o.push(o[0]),Object(b.h)([o],i)};function x(e){var t=e%360;return t<0&&(t+=360),t}var E=n(504),_=n.n(E),A=n(191),O=n(169);var S=function(e,t){var n=Object(O.a)(e,t),r=Object(A.a)(e,t);return Object(v.a)(e,n/2,r)},T=n(42),I=n(211);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M="itin_car_";function N(e){return"object"===y()(e.stop)?e.stop.id:e.stopId}function j(e,t,n){var r=N(e);t[r]||(t[r]=function(e,t,n){var r=e.name.trim().replace(/\s+/g," "),i=r.toLowerCase(),o=n[i];return o||(n[i]=e),{stop_id:t,stop_name:o?null:r,stop_lat:e.lat,stop_lon:e.lon}}(e,r,n))}function L(e,t){return{placeId:t,place_lat:e.lat,place_lon:e.lon,place_name:e.name,type:t}}function R(e,t,n,r,i){var o,a=n.mode,s=n[e],l=s.bikeShareId,c=s.name,u=s.vertexType,d=i||u;return l?(o="bicycle_rent_station_".concat(l),"SCOOTER"===a&&(o="escooter_rent_station_".concat(l))):o="VEHICLERENTAL"===d?"escooter_rent_station_".concat(c):"CAR"===a&&"WALK"===(null==r?void 0:r.mode)?"".concat(M).concat(t,"_").concat(e):"itin_street_".concat(t,"_").concat(e),o}function D(e,t){return t?C(C({},e),{},{lat:t[0],lon:t[1]}):e}function P(e,t){var n=t.companies,r=t.getRouteLabel,i=t.disableFlexArc,o=t.intl,a={journeys:[],streetEdges:[],places:[],patterns:[],routes:[],stops:[]},s={},l={},c=0,u={journey_id:"itin",journey_name:"Itinerary-derived Journey",segments:[]},d=[],f={};return d.push(L(e.legs[0].from,"from")),d.push(L(e.legs[e.legs.length-1].to,"to")),e.legs.forEach((function(t,p){var m,h="SCOOTER"===(null===(m=e.legs[p+1])||void 0===m?void 0:m.mode)?"VEHICLERENTAL":t.to.vertexType,g="SCOOTER"===t.mode?"VEHICLERENTAL":t.from.vertexType,v=p;if(Object(T.isAccessMode)(t.mode)){var b=R("from",v,t,p>0?e.legs[p-1]:null),w=R("to",v,t,p<e.legs.length-1?e.legs[p+1]:null,h),x=!1,E=!1;(t.rentedBike||t.rentedVehicle||t.rentedCar)&&(x=!0,"NORMAL"!==t.to.vertexType&&(E=!0)),"CAR"===t.mode&&(b.startsWith(M)&&(x=!0),w.startsWith(M)&&(E=!0)),x&&d.push({placeId:b,place_name:Object(I.b)(C(C({},t.from),{},{vertexType:g}),n||[],o),place_lat:t.from.lat,place_lon:t.from.lon,type:t.mode}),E&&d.push({placeId:w,place_name:Object(I.b)(C(C({},t.to),{},{vertexType:h}),n||[],o),place_lat:t.to.lat,place_lon:t.to.lon,type:t.mode});var _={arc:"CAR"===t.mode&&Object(T.isRideshareLeg)(t),type:t.mode,streetEdges:[v],from:{type:"PLACE",place_id:b},to:{type:"PLACE",place_id:w}};u.segments.push(_),a.streetEdges.push({edge_id:v,geometry:t.legGeometry})}if(t.transitLeg||Object(T.isTransit)(t.mode)){var A,O;Object(T.isFlex)(t)&&("object"===y()(t.to.stop)?t.to.stop.id="".concat(t.to.stop.id,"_flexed_to"):t.to.stopId="".concat(t.to.stopId,"_flexed_to"));var S=!!t.interStopGeometry,k=!(null===(A=t.legGeometry)||void 0===A||!A.points),L=S&&t.intermediateStops&&t.interStopGeometry.length===t.intermediateStops.length+1,P=Object(T.getLegBounds)(t),B="object"===y()(t.route)?null==t||null===(O=t.route)||void 0===O?void 0:O.id:t.routeId,F="ptn_".concat(c),U={pattern_id:F,pattern_name:"Pattern ".concat(c),route_id:B,stops:[]};j(D(t.from,k&&P[0]),f,l),U.stops.push({stop_id:N(t.from)}),!t.intermediateStops||!L&&k||t.intermediateStops.forEach((function(e,n){j(e,f,l),U.stops.push({stop_id:e.stopId,geometry:L&&t.interStopGeometry[n].points})}));var z=k&&P[P.length-1];j(D(t.to,z),f,l),U.stops.push({stop_id:N(t.to),geometry:(S||k)&&(L?t.interStopGeometry[t.interStopGeometry.length-1].points:t.legGeometry.points)});var V=("function"==typeof r?r(t):Object(T.getLegRouteShortName)(t))||"",G={agency_id:t.agencyId,route_id:B,route_short_name:V};"object"===y()(t.route)?s[B]=C(C({},G),{},{route_long_name:t.route.longName||"",route_type:t.route.type,route_color:t.route.color,route_text_color:t.route.textColor}):s[B]=C(C({},G),{},{route_long_name:t.routeLongName||"",route_type:t.routeType,route_color:t.routeColor,route_text_color:t.routeTextColor}),a.patterns.push(U),u.segments.push({arc:void 0===i?Object(T.isFlex)(t):!i,type:"TRANSIT",patterns:[{pattern_id:F,from_stop_index:0,to_stop_index:L?t.intermediateStops.length+2-1:1}]}),c++}})),a.routes=Object.values(s),a.stops=Object.values(f),a.journeys.push(u),a.places=d,a}var B=function(e){e.coordinates=[e.coordinates[0],e.coordinates[e.coordinates.length-1]];var t=e.coordinates[0],n=e.coordinates[1],r=_()(e,"kilometers"),i=S(t,n),o=Object(v.a)(i,r,Object(A.a)(t,n)-90);return function(e,t,n,r,i){void 0===i&&(i={});var o=i.steps||64,a=x(n),s=x(r),l=Array.isArray(e)||"Feature"!==e.type?{}:e.properties;if(a===s)return Object(b.f)(w(e,t,i).geometry.coordinates[0],l);for(var c=a,u=a<s?s:s+360,d=c,f=[],p=0;d<u;)f.push(Object(v.a)(e,t,d,i).geometry.coordinates),d=c+360*++p/o;return d>u&&f.push(Object(v.a)(e,t,u,i).geometry.coordinates),Object(b.f)(f,l)}(o,Object(O.a)(o,t),Object(A.a)(o,n),Object(A.a)(o,t),{steps:500}).geometry};function F(e){return{"symbol-placement":"line-center","text-allow-overlap":!0,"text-field":["get",e],"text-ignore-placement":!0,"text-rotation-alignment":"viewport","text-size":16}}function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V={CAR:"#888",BICYCLE:"#f00",SCOOTER:"#f5a729",MICROMOBILITY:"#f5a729",MICROMOBILITY_RENT:"#f5a729",WALK:"#86cdf9"},G={"text-halo-blur":1,"text-halo-color":"#ffffff","text-halo-width":2},H={"symbol-placement":"point","text-allow-overlap":!1,"text-field":["get","name"],"text-justify":"auto","text-radial-offset":1,"text-size":15},W=z(z({},H),{},{"text-variable-anchor":["left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]}),Y=z(z({},H),{},{"text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-overlap":"never"}),Q=["==","type","route"],Z=["==","type","stop"],X=["match",["get","type"],["BICYCLE","SCOOTER","MICROMOBILITY","MICROMOBILITY_RENT","CAR"],!0,!1];t.a=function(e){var t=e.activeLeg,n=e.accessLegColorOverride,r=e.showRouteArrows,o=e.transitiveData,a=Object(u.i)().current,d=[];r&&d.push({id:"arrow-icon",url:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWAQMAAAAGz+OhAAAABlBMVEUAAAAAAAClZ7nPAAAAAnRSTlMA/1uRIrUAAADnSURBVHic7ZZBCoMwEEUjgWbZI3iUHC05mkfJEVy6EKdCKbT9TxgQrAVn+UDyMvNNEsJVZ60bsDuwvirLg7LSlNkoqLNJWLRZWLJF9cxUz0wEVyaC67cimEwFo6lgZyBoIFhAMPsFhSWQjiB9lKDIeAV3dXWnoMgcMnav4LNb6xY/awI2A1uAmZdVYA3Y6GT07eBc1+lM+30bUv9iMkxKZQ8zyhC2AvOFHFBeKFeUP4rGj/Q2GP1G7ZvRIebXExZB+eTd8+pRpzZY1TX0DKI7tAMW4P4NRe/pkJsyegvQm4HeFlf9Tz0ANE4H4LhkmaYAAAAASUVORK5CYII="}),Object(l.useEffect)((function(){!function(e,t){t.forEach((function(t){e.loadImage(t.url,(function(n,r){n?console.error("Error loading image ".concat(t.id,":"),n):e.hasImage(t.id)||e.addImage(t.id,r,{sdf:!0})}))}))}(a,d)}),[a,d]);var p={type:"FeatureCollection",features:o?[].concat(i()((o.places||[]).flatMap((function(e){return{type:"Feature",properties:{color:V[e.type]||"#008",name:e.place_name,type:e.type||"place"},geometry:{type:"Point",coordinates:[e.place_lon,e.place_lat]}}}))),i()((o.journeys||[]).flatMap((function(e){return e.segments.filter((function(e){var t;return(null===(t=e.streetEdges)||void 0===t?void 0:t.length)>0})).map((function(e){return z(z({},e),{},{geometries:e.streetEdges.map((function(e){return o.streetEdges.find((function(t){return t.edge_id===e}))}))})})).flatMap((function(e){return e.geometries.map((function(t){var r=f.a.toGeoJSON(t.geometry.points);return{type:"Feature",properties:{type:"street-edge",color:n||V[e.type]||"#008",mode:e.type},geometry:e.arc?B(r):r}}))}))}))),i()((o.journeys||[]).flatMap((function(e){return e.segments})).filter((function(e){return"TRANSIT"===e.type})).map((function(e){return o.patterns.find((function(t){var n;return t.pattern_id===(null===(n=e.patterns[0])||void 0===n?void 0:n.pattern_id)}))})).filter((function(e){return!!e})).flatMap((function(e){return e.stops.filter((function(e,t,n){return 0===t||t===n.length-1}))})).map((function(e){return o.stops.find((function(t){return t.stop_id===e.stop_id}))})).map((function(e){return{type:"Feature",properties:{name:e.stop_name,type:"stop"},geometry:{type:"Point",coordinates:[e.stop_lon,e.stop_lat]}}}))),i()((o.patterns||[]).flatMap((function(e){return function(e,t){var n,r=t.find((function(t){return t.route_id===e.route_id})),i=e.stops.map((function(e){return e.geometry})).filter((function(e){return!!e})).reduce((function(e,t,n){var r=f.a.decode(t);return 0!==n&&r.shift(),e.concat(r)}),[]),o=r.route_short_name||r.route_long_name||"",a=(o.length<3?"EEE":o).toUpperCase().replace(/\s/g,"!").replace(/[+-0124679FHJLPTVXYZ]/g,"E"),s={color:"#".concat(r.route_color||"000080"),name:o,nameUpper:0===o.length?"":a,routeType:r.route_type,textColor:"#".concat(r.route_text_color||"eee"),type:"route"},l=null===(n=e.stops[e.stops.length-1].stop_id)||void 0===n?void 0:n.endsWith("flexed_to"),c=f.a.toGeoJSON(f.a.encode(i));return{geometry:l?B(c):c,properties:s,type:"Feature"}}(e,o.routes)})))):[]},m=function(e){var t=h(e),n=[t[0],t[1],t[2],t[3]];a&&4===n.length&&n.every(Number.isFinite)&&a.fitBounds(n,{duration:500,padding:s.e.getFitBoundsPadding(a,.2)})};if(Object(l.useEffect)((function(){m(p)}),[o]),Object(l.useEffect)((function(){null!=t&&t.legGeometry&&m(f.a.toGeoJSON(t.legGeometry.points))}),[t]),!o)return c.a.createElement(c.a.Fragment,null);var g=function(e){var t,n,r,i=e.places.find((function(e){return"from"===e.placeId})),o=e.places.find((function(e){return"to"===e.placeId}));if(i&&o){var a=i.place_lat<o.place_lat?"N":"S",s=i.place_lon<o.place_lon?"E":"W";t="".concat(a).concat(s)}switch(t){case"NE":n="top-right",r="bottom-left";break;case"NW":n="top-left",r="bottom-right";break;case"SE":n="bottom-right",r="top-left";break;case"SW":n="bottom-left",r="top-right"}return{fromAnchor:n,toAnchor:r}}(o),y=g.fromAnchor,v=g.toAnchor;return c.a.createElement(u.h,{data:p,id:"itinerary",type:"geojson"},c.a.createElement(u.b,{filter:["all",["==","type","street-edge"],["==","mode","WALK"]],id:"street-edges-walk",layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":["get","color"],"line-dasharray":[0,1.3],"line-opacity":.9,"line-width":6},type:"line"}),c.a.createElement(u.b,{filter:["all",["==","type","street-edge"],["!=","mode","WALK"]],id:"street-edges",layout:{"line-cap":"butt"},paint:{"line-color":["get","color"],"line-dasharray":[2,1],"line-width":4,"line-opacity":.9},type:"line"}),c.a.createElement(u.b,{filter:Q,id:"routes",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":["get","color"],"line-width":["match",["get","routeType"],3,6,10],"line-opacity":1},type:"line"}),r&&c.a.createElement(u.b,{id:"route-arrows",layout:{"symbol-placement":"line","icon-image":"arrow-icon","icon-size":.1,"symbol-spacing":10,"icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-offset":[0,8e3]},paint:{"icon-color":["get","color"],"icon-opacity":.8},type:"symbol"}),c.a.createElement(u.b,{filter:X,id:"access-leg-circles",paint:{"circle-color":["get","color"],"circle-radius":8,"circle-stroke-color":"#fff","circle-stroke-width":3},type:"circle"}),c.a.createElement(u.b,{filter:Z,id:"stops-circles",paint:{"circle-color":"#fff","circle-radius":7,"circle-stroke-width":3},type:"circle"}),c.a.createElement(u.b,{filter:X,id:"access-leg-labels",layout:W,paint:G,type:"symbol"}),c.a.createElement(u.b,{filter:Z,id:"stops-labels",layout:W,paint:G,type:"symbol"}),c.a.createElement(u.b,{filter:Q,id:"routes-labels-background",layout:F("nameUpper"),paint:{"text-color":["get","color"],"text-halo-color":["get","color"],"text-halo-width":4},type:"symbol"}),c.a.createElement(u.b,{filter:Q,id:"routes-labels",layout:F("name"),paint:{"text-color":["get","textColor"]},type:"symbol"}),c.a.createElement(u.b,{filter:["==","type","from"],id:"from-label",layout:z(z({},Y),{},{"text-anchor":y}),paint:G,type:"symbol"}),c.a.createElement(u.b,{filter:["==","type","to"],id:"to-label",layout:z(z({},Y),{},{"text-anchor":v}),paint:z(z({},G),{},{"text-color":"#910818"}),type:"symbol"}))}},function(e,t,n){"use strict";var r=n(4),i=n.n(r),o=n(23),a=n.n(o),s=n(33),l=n.n(s),c=n(7),u=n(170),d=n(71),f=n(0),p=n.n(f),m=n(84),h=n(69),g=n(6),y=n(292),v=n(238),b=n(143),w=n(10),x=f.forwardRef((function(e,t){return f.createElement(w.a,i()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 448 512"},e,{ref:t}),f.createElement("path",{fill:"currentColor",d:"M429.6 92.1c4.9-11.9 2.1-25.6-7-34.7s-22.8-11.9-34.7-7l-352 144c-14.2 5.8-22.2 20.8-19.3 35.8S32.7 256 48 256h176v176c0 15.3 10.8 28.4 25.8 31.4s30-5.1 35.8-19.3l144-352z"}))}));x.displayName="LocationArrow";var E=n(121),_=n(130),A=n(507),O=n(51),S=n.n(O),T=n(148),I=n(187),k=n(188),C=n(239),M=n(186),N=n(1),j=n(261),L=Object(N.css)(["clip:rect(0,0,0,0);display:inline-block;height:0;overflow:hidden;width:0;"]),R=N.default.span.withConfig({displayName:"styled__HiddenContent",componentId:"sc-xahsq2-0"})(["",""],L),D=N.default.button.withConfig({displayName:"styled__BaseButton",componentId:"sc-xahsq2-1"})(["border:none;background:none;"]),P=Object(N.default)(D).withConfig({displayName:"styled__ClearButton",componentId:"sc-xahsq2-2"})(["color:#888;cursor:pointer;width:30px;"]),B=N.default.div.withConfig({displayName:"styled__ClearBoth",componentId:"sc-xahsq2-3"})(["clear:both;"]),F=Object(N.default)(D).withConfig({displayName:"styled__DropdownButton",componentId:"sc-xahsq2-4"})(["width:30px;"]),U=N.default.ul.attrs({role:"listbox"}).withConfig({displayName:"styled__MenuItemList",componentId:"sc-xahsq2-5"})(['background-clip:padding-box;background-color:#fff;border-radius:4px;border:1px solid rgba(0,0,0,0.15);box-shadow:0 6px 12px rgba(0,0,0,0.175);float:left;font-size:14px;left:0;list-style:none;margin:2px 0 0;min-width:160px;max-height:75vh;padding:0 0 5px 0;position:absolute;overflow:auto;text-align:left;top:100%;z-index:1000000;input[aria-expanded="false"] ~ &{',"}"],L),z=N.default.input.withConfig({displayName:"styled__Input",componentId:"sc-xahsq2-6"})(["border:none;box-shadow:none;font-size:17px;outline:none;"]),V=N.default.div.withConfig({displayName:"styled__InputGroup",componentId:"sc-xahsq2-7"})(["border-bottom:1px solid #000;border-collapse:separate;display:table;margin-bottom:15px;position:relative;"]),G=N.default.h2.withConfig({displayName:"styled__MenuGroupHeader",componentId:"sc-xahsq2-8"})(["color:",";background-color:",";font-size:12px;font-weight:normal;line-height:1.42857143;margin:0;padding:2px 10px;text-align:center;white-space:nowrap;"],(function(e){return e.fgColor||"#eee"}),(function(e){return e.bgColor||"#333"})),H=N.default.li.withConfig({displayName:"styled__MenuItemLi",componentId:"sc-xahsq2-9"})(['&:hover{background-color:#f5f5f5;cursor:pointer;}&[aria-hidden="true"]:hover{background-color:unset;cursor:default;}background-color:',";clear:both;color:",";display:block;font-weight:400;line-height:1.42857143;padding:3px 20px;text-decoration:none;white-space:nowrap;"],(function(e){return e.active?"#337ab7":"transparent"}),(function(e){return e.active?"#fff":"#333"})),W=N.default.span.withConfig({displayName:"styled__OptionContainer",componentId:"sc-xahsq2-10"})(["display:block;padding-top:5px;padding-bottom:3px;"]),Y=N.default.span.withConfig({displayName:"styled__OptionSubTitle",componentId:"sc-xahsq2-11"})(["color:#686868;font-size:12px;margin-left:6px;"]),Q=N.default.span.withConfig({displayName:"styled__OptionAltLabel",componentId:"sc-xahsq2-12"})(["color:#686868;display:block;font-size:11px;margin-left:46px;"]),Z=N.default.span.withConfig({displayName:"styled__OptionContent",componentId:"sc-xahsq2-13"})(["margin-left:30px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"]),X=N.default.span.withConfig({displayName:"styled__OptionIconContainer",componentId:"sc-xahsq2-14"})(["float:left;"]),J=N.default.span.withConfig({displayName:"styled__RouteName",componentId:"sc-xahsq2-15"})(["background-color:gray;color:white;padding:2px 3px 0px;margin-right:5px;"]),q=Object(N.default)(U).withConfig({displayName:"styled__StaticMenuItemList",componentId:"sc-xahsq2-16"})(["border:none;box-shadow:none;display:block;"]),K=N.default.span.withConfig({displayName:"styled__StopContentContainer",componentId:"sc-xahsq2-17"})(["margin-left:30px;"]),$=N.default.span.withConfig({displayName:"styled__StopDistance",componentId:"sc-xahsq2-18"})(["font-size:8px;"]),ee=N.default.span.withConfig({displayName:"styled__StopIconAndDistanceContainer",componentId:"sc-xahsq2-19"})(["float:left;padding-top:3px;"]),te=N.default.span.withConfig({displayName:"styled__StopName",componentId:"sc-xahsq2-20"})([""]),ne=N.default.span.withConfig({displayName:"styled__StopRoutes",componentId:"sc-xahsq2-21"})(["font-size:9px;"]),re=Object(N.keyframes)(["0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}"]),ie=Object(N.default)(j.Spinner).withConfig({displayName:"styled__Spinner",componentId:"sc-xahsq2-22"})(["animation:"," 1.2s linear infinite;"],re),oe={address:function(e){var t=e.housenumber,n=e.locality,r=e.name,i=e.neighbourhood,o=e.region_a,a=e.region,s=e.street;return{main:t?"".concat(t," ").concat(s):r,secondary:[n,i,o||a].filter((function(e){return!!e})).join(", ")}},venue:function(e){var t=e.locality,n=e.name,r=e.neighbourhood,i=e.region_a;return{main:n,secondary:[e.street,r,t,i].filter((function(e){return!!e})).join(", ")}},neighbourhood:function(e){return{main:e.name,secondary:[e.county,e.locality,e.region_a].filter((function(e){return!!e})).join(", ")}}},ae=function(e){var t=oe[e.layer];return t?t(e):{main:e.label}},se=function(e,t,n){return n&&""!==n?e.formatMessage({id:"otpUi.LocationField.parenthesisFormat"},{detail:n,main:t}):t},le=function(e,t){var n=e.formatMessage({description:"Geocoder unreachable status",id:"otpUi.LocationField.geocoderUnreachable"});return se(e,n,t)};var ce="STATIONS",ue="STOPS",de="OTHER",fe=13;function pe(e){var t=e.feature,n=void 0===t?{}:t,r=n.properties;if(n&&r&&"transit"===r.source)return p.a.createElement(v.a,{size:fe});return p.a.createElement(M.a,{size:fe})}var me=function(e){var t=e.active,n=void 0!==t&&t,r=e.children,i=e.disabled,o=void 0!==i&&i,a=e.id,s=e.onClick,l=void 0===s?null:s;return p.a.createElement(H,{"aria-hidden":o||void 0,"aria-live":n?"assertive":"off",active:n,id:a,onClick:o?null:l,role:"option","aria-selected":n,tabIndex:-1},r)};function he(e){var t=e.classes,n=void 0===t?"":t,r=e.color,i=void 0===r?null:r,o=e.disabled,a=void 0!==o&&o,s=e.icon,l=void 0===s?null:s,c=e.id,u=e.isActive,d=void 0!==u&&u,f=e.onClick,m=e.secondaryLabels,h=void 0===m?[]:m,g=e.showSecondaryLabels,y=void 0===g||g,v=e.subTitle,b=void 0===v?null:v,w=e.title,x=void 0===w?null:w;return p.a.createElement(me,{active:d,disabled:a,id:c,onClick:f},p.a.createElement(W,{className:n},p.a.createElement(X,{style:{color:i}},l),p.a.createElement(Z,null,x,b&&p.a.createElement(Y,null,p.a.createElement(R,null,", "),b),y&&(null==h?void 0:h.slice(0,5).map((function(e,t){return p.a.createElement(Q,{key:t},p.a.createElement(R,null,", "),e)}))))))}function ge(e){var t=e.id,n=e.isActive,r=void 0!==n&&n,i=e.onClick,o=e.stop,a=e.stopOptionIcon;return p.a.createElement(me,{active:r,id:t,onClick:i},p.a.createElement(ee,null,a,p.a.createElement($,null,Object(T.humanizeDistanceStringImperial)(o.dist,!0))),p.a.createElement(K,null,p.a.createElement(te,null,o.name," (",o.code,")"),p.a.createElement(ne,null,(o.routes||[]).map((function(e){var t=e.shortName||e.longName;return p.a.createElement(J,{key:"route-".concat(t)},t)})))),p.a.createElement(B,null))}function ye(e){var t=e.userLocation;return"work"===t.icon?p.a.createElement(I.a,{size:fe}):"home"===t.icon?p.a.createElement(k.a,{size:fe}):p.a.createElement(C.a,{size:fe})}function ve(e,t){switch(e.type){case"home":return t.formatMessage({defaultMessage:"Home",description:"The home location",id:"otpUi.LocationField.homeLocation"});case"work":return t.formatMessage({defaultMessage:"Work",description:"The work location",id:"otpUi.LocationField.workLocation"});default:return e.name}}function be(e,t){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return r&&("home"===e.type||"work"===e.type?n=e.name:"stop"===e.type&&(n=e.id)),se(t,ve(e,t),n)}var we=n(376),xe=n.n(we);function Ee(e){return"".concat("otpui-locf-option","-").concat(e)}var _e=0;function Ae(e){var t=e.locationType;return p.a.createElement(d.default,{size:fe,type:t})}function Oe(e,t,n,r){return e.filter((function(e){return t.includes(e.properties.layer)===n})).slice(0,r)}var Se=S()(xe.a);function Te(e,t,n,r){var i=e.reduce((function(e,t){var n;return e[r.includes(null==t||null===(n=t.properties)||void 0===n?void 0:n.layer)?"special":"normal"].push(t),e}),{special:[],normal:[]}),o=i.special,a=i.normal,s=[].concat(l()(o),l()(a.sort((function(e,t){var r,i;return n?((null===(r=t.properties)||void 0===r?void 0:r.distance)||1/0)-((null===(i=e.properties)||void 0===i?void 0:i.distance)||1/0):0})))),c=Oe(s,["stops"],!0,t),u=Oe(s,["stations"],!0,t);return{otherFeatures:Oe(s,["stops","stations"],!1,t),stationFeatures:u,stopFeatures:c}}function Ie(e,t,n,r,i){var o=e.displayName,a=e.icon,s=e.locationSelected;return i[t]=s,p.a.createElement(he,{icon:a,id:Ee(t),isActive:t===r,key:n,onClick:s,title:o})}var ke=function(e,t,n,r,i,o,a,s,l,c,d){var f=ae(n.properties),m=f.main,h=f.secondary,g=function(){Object(u.a)(d).getLocationFromGeocodedFeature(n).then((function(e){e.main=m,e.secondary=h,e.name=function(e){var t=ae(e),n=t.main,r=t.secondary;return n&&r?"".concat(n,", ").concat(r):(null==e?void 0:e.label)||""}(n.properties),i(e,"GEOCODE"),o({location:e})}))};s[e]=g;var y,v=n.properties,b=v.id,w=v.layer,x=v.secondaryLabels,E=v.source,_=[],A="transit"===E&&b.split("::");if(A.length>1&&(null==A?void 0:A[1].length)>0){var O=A[1].replace(/ /g,"-").toLowerCase();_.push("operator-".concat(O)),y=r[O]}return _.push("source-".concat(E)),_.push("layer-".concat(w)),p.a.createElement(he,{classes:_.join(" "),color:t[w],icon:y||p.a.createElement(c,{feature:n}),id:Ee(e),isActive:e===l,key:_e++,onClick:g,title:m,subTitle:h,secondaryLabels:x,showSecondaryLabels:a})},Ce=function(e){var t=e.bgColor,n=e.headerMessage,r=e.headingType,i=e.title;return p.a.createElement(G,{as:r,bgColor:t,key:i},n)},Me=function(e){var t=e.activeIndex,n=e.addLocationSearch,r=e.bgColor,i=e.features,o=e.GeocodedOptionIconComponent,a=e.geocoderConfig,s=e.headerMessage,l=e.headingType,c=e.itemIndex,u=e.layerColorMap,d=e.locationSelectedLookup,f=e.operatorIconMap,m=e.setLocation,h=e.showSecondaryLabels,g=e.title;return p.a.createElement(p.a.Fragment,null,p.a.createElement(Ce,{bgColor:r,headerMessage:s,headingType:l,title:g}),i.map((function(e){return ke(c++,u,e,f,m,n,h,d,t,o,a)})))};t.a=function(e){var t,n=e.addLocationSearch,r=void 0===n?function(){}:n,o=e.autoFocus,s=void 0!==o&&o,d=e.className,w=void 0===d?null:d,O=e.clearButtonIcon,S=void 0===O?p.a.createElement(_.a,{size:fe}):O,T=e.clearLocation,I=void 0===T?function(){}:T,k=e.currentPosition,C=void 0===k?null:k,M=e.currentPositionIcon,N=void 0===M?p.a.createElement(x,{size:fe}):M,j=e.currentPositionUnavailableIcon,L=void 0===j?p.a.createElement(y.a,{size:fe}):j,D=e.findNearbyStops,B=void 0===D?function(){}:D,H=e.GeocodedOptionIconComponent,W=void 0===H?pe:H,Y=e.geocoderConfig,Q=e.geocoderResultsOrder,Z=void 0===Q?[ce,ue,de]:Q,X=e.getCurrentPosition,J=e.hideExistingValue,K=void 0!==J&&J,$=e.initialSearchResults,ee=void 0===$?null:$,te=e.inputPlaceholder,ne=void 0===te?null:te,re=e.isRequired,oe=void 0!==re&&re,ae=e.isStatic,me=void 0!==ae&&ae,ve=e.isValid,we=void 0===ve||ve,xe=e.layerColorMap,Oe=void 0===xe?{}:xe,ke=e.location,Ce=void 0===ke?null:ke,Ne=e.LocationIconComponent,je=void 0===Ne?Ae:Ne,Le=e.locationType,Re=e.nearbyStops,De=void 0===Re?[]:Re,Pe=e.onLocationSelected,Be=e.onTextInputClick,Fe=void 0===Be?null:Be,Ue=e.operatorIconMap,ze=void 0===Ue?{}:Ue,Ve=e.preferredLayers,Ge=void 0===Ve?[]:Ve,He=e.sessionOptionIcon,We=void 0===He?p.a.createElement(E.a,{size:fe}):He,Ye=e.sessionSearches,Qe=void 0===Ye?[]:Ye,Ze=e.showClearButton,Xe=void 0===Ze||Ze,Je=e.showSecondaryLabels,qe=void 0===Je||Je,Ke=e.showUserSettings,$e=void 0!==Ke&&Ke,et=e.sortByDistance,tt=void 0!==et&&et,nt=e.stopOptionIcon,rt=void 0===nt?p.a.createElement(v.a,{size:fe}):nt,it=e.stopsIndex,ot=void 0===it?null:it,at=e.suggestionCount,st=void 0===at?3:at,lt=e.suggestionHeadingType,ct=e.suppressNearby,ut=void 0!==ct&&ct,dt=e.UserLocationIconComponent,ft=void 0===dt?ye:dt,pt=e.userLocationsAndRecentPlaces,mt=void 0===pt?[]:pt,ht="".concat(Le,"-form-control"),gt="".concat(Le,"-listbox"),yt=Object(m.a)(),vt=Object(f.useState)(null),bt=a()(vt,2),wt=bt[0],xt=bt[1],Et=Object(f.useState)([]),_t=a()(Et,2),At=_t[0],Ot=_t[1],St=Object(f.useState)(!1),Tt=a()(St,2),It=Tt[0],kt=Tt[1],Ct=Object(f.useState)(!1),Mt=a()(Ct,2),Nt=Mt[0],jt=Mt[1],Lt=Object(f.useState)(null),Rt=a()(Lt,2),Dt=Rt[0],Pt=Rt[1],Bt=Object(f.useState)((t=(null==Ce?void 0:Ce.name)||"",Ce&&!K?t:"")),Ft=a()(Bt,2),Ut=Ft[0],zt=Ft[1],Vt=Object(f.useState)([]),Gt=a()(Vt,2),Ht=Gt[0],Wt=Gt[1],Yt=Object(f.useRef)(null);Object(f.useEffect)((function(){zt((null==Ce?void 0:Ce.name)||""),Ot([])}),[Ce]),Object(f.useEffect)((function(){ee&&(Ot(ee),kt(!0))}),[ee]);var Qt=Object(A.debounce)(300,(function(e){if(!e)return console.warn("No text entry provided for geocode autocomplete search."),void Pt(null);jt(!0),Pt(yt.formatMessage({defaultMessage:"Fetching suggestions",description:"Hint shown while geocoder suggestions are being fetched",id:"otpUi.LocationField.fetchingSuggestions"}));var t=new AbortController;Wt([].concat(l()(Ht),[t])),Object(u.a)(Y).autocomplete({text:e,options:{signal:t.signal}}).then((function(t){var n,r=null==t?void 0:t.features;if(r){var i=Te(r,st,tt,Ge),o=i.otherFeatures,a=i.stationFeatures,s=i.stopFeatures,l=[];s.length&&l.push(yt.formatMessage({description:"Shows the count of transit stops",id:"otpUi.LocationField.stopCount"},{count:s.length})),a.length&&l.push(yt.formatMessage({description:"Shows the count of stations",id:"otpUi.LocationField.stationCount"},{count:a.length})),o.length&&l.push(yt.formatMessage({description:"Shows the count of other places",id:"otpUi.LocationField.otherCount"},{count:o.length}));var c=0!==l.length,u=c?yt.formatList(l,{type:"conjunction"}):yt.formatMessage({description:"Indicates no results",id:"otpUi.LocationField.noResults"}),d=yt.formatMessage({description:"Text about geocoder results found",id:"otpUi.LocationField.resultsFound"},{input:e,results:u});if(c){var f=yt.formatMessage({description:"Instructions on accessing geocoder results",id:"otpUi.LocationField.howToAccessResults"});n="".concat(d," ").concat(f)}else n=d}else{var p,m,h=null==t||null===(p=t.results)||void 0===p||null===(m=p.error)||void 0===m?void 0:m.message;n=le(yt,h),r=[]}Ot(r),Pt(n),jt(!1)})).catch((function(e){console.error(e);var t=le(yt,e.toString());Pt(t)}))})),Zt=Object(f.useCallback)((function(){kt(!1),xt(null)}),[Pt,kt,xt]),Xt=function(e,t){Pe({location:e,locationType:Le,resultType:t}),Zt(),Pt(null)},Jt=function(){"function"==typeof Fe&&Fe(),kt(!0),0===De.length&&C&&C.coords&&B({lat:C.coords.latitude,lon:C.coords.longitude,max:Y.maxNearbyStops||4})},qt=function(e){e?Object(u.a)(Y).search({text:e}).then((function(e){var t;(null==e||null===(t=e.features)||void 0===t?void 0:t.length)>0?(Ot(e.features),Pt(null)):console.warn("No results found for geocode search. Not replacing results.")})).catch((function(e){console.error(e)})):console.warn("No text entry provided for geocode search.")},Kt=Dt,$t=At;Qe.length>5&&(Qe=Qe.slice(0,5));var en,tn,nn,rn,on=[],an=[],sn=0,ln={},cn=$e?mt.map((function(e){return function(e,t,n,r){return{displayName:be(e,r),icon:p.a.createElement(n,{userLocation:e}),locationSelected:function(){return t(e,"SAVED")}}}(e,Xt,ft,yt)})):[];if($e){var un=function(e,t){if((null==e?void 0:e.length)>0&&t&&""!==t){var n=t.toLowerCase();return e.filter((function(e){return-1!==e.displayName.toLowerCase().indexOf(n)}))}return[]}(cn,Ut);un.length&&(an=an.concat(un.map((function(e){return Ie(e,sn++,_e++,sn===wt,ln)}))))}if($t.length>0){var dn=Te($t,st,tt,Ge),fn=dn.otherFeatures,pn=dn.stationFeatures,mn=dn.stopFeatures,hn=Z.map((function(e){var t,n={headingType:lt,itemIndex:sn,operatorIconMap:ze,setLocation:Xt,addLocationSearch:r,showSecondaryLabels:qe,locationSelectedLookup:ln,activeIndex:wt,GeocodedOptionIconComponent:W,layerColorMap:Oe,geocoderConfig:Y};switch(e){case de:t=fn.length>0&&p.a.createElement(Me,i()({bgColor:"#333",features:fn,headerMessage:p.a.createElement(h.a,{defaultMessage:Se["otpUi.LocationField.other"],description:"Text for header above the 'other' category of geocoder results",id:"otpUi.LocationField.other"}),key:"other-header",title:"other"},n));break;case ce:t=pn.length>0&&p.a.createElement(Me,i()({bgColor:Oe.stations,features:pn,headerMessage:p.a.createElement(h.a,{defaultMessage:Se["otpUi.LocationField.stations"],description:"Text for header above the 'stations' category of geocoder results",id:"otpUi.LocationField.stations"}),key:"gtfs-stations-header",title:"stations"},n));break;case ue:t=mn.length>0&&p.a.createElement(Me,i()({bgColor:Oe.stops,features:mn,headerMessage:p.a.createElement(h.a,{defaultMessage:Se["otpUi.LocationField.stops"],description:"Text for header above the 'stops' category of geocoder results",id:"otpUi.LocationField.stops"}),key:"gtfs-stops-header",title:"stops"},n));break;default:t=null}return t}));an=an.concat(hn)}if(De.length>0&&!ut&&(an.push(p.a.createElement(G,{as:lt,key:"ns-header"},p.a.createElement(h.a,{defaultMessage:Se["otpUi.LocationField.nearby"],description:"Text for header above nearby stops",id:"otpUi.LocationField.nearby"}))),an=an.concat(De.map((function(e){var t=ot[e],n={id:e,lat:t.lat,lon:t.lon,name:t.name},r=function(){Xt(n,"STOP")};ln[sn]=r;var i=p.a.createElement(ge,{id:Ee(sn),isActive:sn===wt,key:_e++,onClick:r,stop:t,stopOptionIcon:rt});return sn++,i})))),Qe.length>0&&(an.push(p.a.createElement(G,{as:lt,key:"ss-header"},p.a.createElement(h.a,{defaultMessage:Se["otpUi.LocationField.recentlySearched"],description:"Text for header above recently searched items",id:"otpUi.LocationField.recentlySearched"}))),an=an.concat(Qe.map((function(e){var t=function(){Xt(e,"SESSION")};ln[sn]=t;var n=p.a.createElement(he,{icon:We,id:Ee(sn),isActive:sn===wt,key:_e++,onClick:t,subTitle:e.secondary||"",title:e.main||e.name});return sn++,n})))),mt.length>0&&$e&&(an.push(p.a.createElement(G,{as:lt,key:"mp-header"},p.a.createElement(h.a,{defaultMessage:Se["otpUi.LocationField.myPlaces"],description:"Text for header above user-saved places",id:"otpUi.LocationField.myPlaces"}))),an=an.concat(cn.map((function(e){return Ie(e,sn++,_e++,sn===wt,ln)})))),C&&!C.error)en=function(){var e=c.default.map.currentPositionToLocation(C);e?Pe({location:e,locationType:Le,resultType:"CURRENT_LOCATION"}):X(yt,Le),kt(!1)},tn=N,nn=yt.formatMessage({id:"otpUi.LocationField.useCurrentLocation"}),rn=!1;else{tn=L;var gn=yt.formatMessage({description:"Current location unavailable status",id:"otpUi.LocationField.currentLocationUnavailable"}),yn=C?"string"==typeof C.error?C.error:C.error.message:void 0;nn=se(yt,gn,yn),rn=!0,on.push(nn)}if(ln[sn]=en,ut||(an.push(p.a.createElement(he,{disabled:rn,icon:tn,id:Ee(sn),isActive:sn===wt,key:_e++,onClick:en,title:nn})),rn||sn++),Kt&&!Kt.includes("AbortError")){if(0===$t.length){var vn=Nt?p.a.createElement(ie,{size:fe}):p.a.createElement(b.a,{size:fe});an.unshift(p.a.createElement(he,{disabled:!0,icon:vn,key:_e++,title:Kt}))}on.push(Kt)}var bn=sn,wn=ne||Le,xn=C&&C.fetching?yt.formatMessage({id:"otpUi.LocationField.fetchingLocation"}):wn,En=0===bn,_n=me||It,An=p.a.createElement(z,{"aria-activedescendant":null!==wt?Ee(wt):null,"aria-autocomplete":"list","aria-controls":gt,"aria-expanded":_n,"aria-haspopup":"listbox","aria-invalid":!we,"aria-label":wn,"aria-required":oe,autoFocus:s,className:ht,onChange:function(e){var t=e.target.value;zt(t),kt(!0),Ht.forEach((function(e){return e.abort()})),Qt(t)},onClick:Jt,onKeyDown:function(e){switch(e.key){case"ArrowDown":e.preventDefault(),It?xt(wt===bn-1?null:null===wt?0:wt+1):Jt();break;case"ArrowUp":e.preventDefault(),xt(0===wt?null:null===wt?bn-1:wt-1);break;case"Enter":if("number"==typeof wt){var t=ln[wt];t&&t(),Zt(),Pt(null)}else qt(e.target.value),kt(!0);e.preventDefault();break;case"Escape":case"Tab":Zt();break;default:xt(null)}},placeholder:xn,ref:Yt,role:"combobox",value:Ut}),On=Xe&&Ce?p.a.createElement(P,{"aria-label":yt.formatMessage({id:"otpUi.LocationField.clearLocation"}),onClick:function(){I({locationType:Le}),zt(""),Pt(null),Ot([]),Yt.current.focus(),Jt()}},S):null,Sn=me?q:U;return p.a.createElement(V,{className:w,onBlur:function(e){var t=null!==e.relatedTarget?e.relatedTarget:document.activeElement;t&&"option"===t.getAttribute("role")||Zt()},role:"group"},p.a.createElement(F,{"aria-controls":gt,"aria-expanded":_n,"aria-label":yt.formatMessage({defaultMessage:"Open the list of location suggestions",description:"Text to show as a a11y label for the button that opens the dropdown list of locations",id:"otpUi.LocationField.suggestedLocationsLong"}),onClick:function(){kt(!It)},tabIndex:-1},p.a.createElement(je,{locationType:Le})),An,On,p.a.createElement(R,{role:"status"},_n&&p.a.createElement(g.FormattedList,{style:"narrow",type:"conjunction",value:on})),p.a.createElement(Sn,{"aria-hidden":En||!It,"aria-label":yt.formatMessage({defaultMessage:"Suggested locations",description:"Text to show as a label for the dropdown list of locations",id:"otpUi.LocationField.suggestedLocations"}),id:gt},me?an.length>0?an:p.a.createElement(G,{as:"div"},p.a.createElement(h.a,{defaultMessage:Se["otpUi.LocationField.beginTypingPrompt"],description:"Text to show as initial placeholder in location search field",id:"otpUi.LocationField.beginTypingPrompt"})):It&&an))}},function(e,t,n){"use strict";var r=n(196),i=n(273),o=function(){return i.a.Date.now()},a=/\s/;var s=function(e){for(var t=e.length;t--&&a.test(e.charAt(t)););return t},l=/^\s+/;var c=function(e){return e?e.slice(0,s(e)+1).replace(l,""):e},u=n(406),d=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,p=/^0o[0-7]+$/i,m=parseInt;var h=function(e){if("number"==typeof e)return e;if(Object(u.a)(e))return NaN;if(Object(r.a)(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Object(r.a)(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=c(e);var n=f.test(e);return n||p.test(e)?m(e.slice(2),n?2:8):d.test(e)?NaN:+e},g=Math.max,y=Math.min;t.a=function(e,t,n){var i,a,s,l,c,u,d=0,f=!1,p=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=i,r=a;return i=a=void 0,d=t,l=e.apply(r,n)}function b(e){return d=e,c=setTimeout(x,t),f?v(e):l}function w(e){var n=e-u;return void 0===u||n>=t||n<0||p&&e-d>=s}function x(){var e=o();if(w(e))return E(e);c=setTimeout(x,function(e){var n=t-(e-u);return p?y(n,s-(e-d)):n}(e))}function E(e){return c=void 0,m&&i?v(e):(i=a=void 0,l)}function _(){var e=o(),n=w(e);if(i=arguments,a=this,u=e,n){if(void 0===c)return b(u);if(p)return clearTimeout(c),c=setTimeout(x,t),v(u)}return void 0===c&&(c=setTimeout(x,t)),l}return t=h(t)||0,Object(r.a)(n)&&(f=!!n.leading,s=(p="maxWait"in n)?g(h(n.maxWait)||0,t):s,m="trailing"in n?!!n.trailing:m),_.cancel=function(){void 0!==c&&clearTimeout(c),d=0,i=u=a=c=void 0},_.flush=function(){return void 0===c?l:E(o())},_}},function(e,t,n){"use strict";var r=n(89),i=n(84),o=n(69),a=n(4),s=n.n(a),l=n(0),c=n.n(l),u=n(10),d=l.forwardRef((function(e,t){return l.createElement(u.a,s()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 448 512"},e,{ref:t}),l.createElement("path",{fill:"currentColor",d:"M272 304h-96C78.8 304 0 382.8 0 480c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32 0-97.2-78.8-176-176-176zM48.99 464c7.9-63.1 61.81-112 127.01-112h96c65.16 0 119.1 48.95 127 112H48.99zM224 256c70.69 0 128-57.31 128-128S294.69 0 224 0 96 57.31 96 128c0 70.7 57.3 128 128 128zm0-208c44.11 0 80 35.89 80 80s-35.89 80-80 80-80-35.9-80-80c0-44.11 35.9-80 80-80z"}))}));d.displayName="User";var f,p,m=n(1),h=n(231),g=n(182),y=n(47),v=n(327),b=n(272);function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function x(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var E=m.default.img(f||(f=x(["\n  height: 2em;\n  margin: -15px 0;\n  width: 2em;\n"]))),_=Object(m.default)(b.m)(p||(p=x(["\n  display: block;\n"])));t.a=function(e){var t=e.className,n=e.id,a=e.links,s=e.onSignInClick,l=e.onSignOutClick,u=e.profile,f=e.style,p=Object(i.a)(),m={className:t,id:n,style:f};if(u){var b=u.nickname||u.name;return c.a.createElement("li",null,c.a.createElement(r.a,{className:"navBarItem",id:"user-selector",label:p.formatMessage({id:"components.SubNav.userMenu"}),text:c.a.createElement("span",null,c.a.createElement(E,{alt:b,src:u.picture,title:"".concat(b,"\n(").concat(u.email,")")}))},c.a.createElement("p",null,b),c.a.createElement("ul",null,a&&a.map((function(e,t){return e.url.startsWith("http")?c.a.createElement("li",{key:e.url},c.a.createElement(_,{as:"a",href:e.url,target:"_blank"},c.a.createElement(o.a,{id:"components.NavLoginButton.help"}),c.a.createElement(h.b,{size:12,style:{marginLeft:"5px",marginTop:"-3px"}}))):c.a.createElement("li",{key:e.url},c.a.createElement(_,{to:e.url},"myAccount"===e.messageId?c.a.createElement(o.a,{id:"components.NavLoginButton.myAccount"}):c.a.createElement(o.a,{id:"components.NavLoginButton.help"})))})),c.a.createElement("hr",{role:"presentation"}),c.a.createElement("li",null,c.a.createElement(g.a,{onClick:l},c.a.createElement(o.a,{id:"components.NavLoginButton.signOut"}))))))}var x=p.formatMessage({id:"components.NavLoginButton.signIn"});return c.a.createElement(v.a,w({},m,{onClick:s,title:x}),c.a.createElement(d,null),c.a.createElement(y.a,null,x))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()},e.exports=t.default},function(e,t,n){"use strict";var r=n(36).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)({},e)};var i=r(n(612));e.exports=t.default},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(5),i=n(3),o=n(142);function a(e){Object(i.a)(1,arguments);var t=Object(r.a)(e),n=t.getUTCFullYear(),a=new Date(0);a.setUTCFullYear(n+1,0,4),a.setUTCHours(0,0,0,0);var s=Object(o.a)(a),l=new Date(0);l.setUTCFullYear(n,0,4),l.setUTCHours(0,0,0,0);var c=Object(o.a)(l);return t.getTime()>=s.getTime()?n+1:t.getTime()>=c.getTime()?n:n-1}},function(e,t,n){"use strict";t.a=function(e){function t(e,r,l,c,f){for(var p,m,h,g,w,E=0,_=0,A=0,O=0,S=0,N=0,L=h=p=0,D=0,P=0,B=0,F=0,U=l.length,z=U-1,V="",G="",H="",W="";D<U;){if(m=l.charCodeAt(D),D===z&&0!==_+O+A+E&&(0!==_&&(m=47===_?10:47),O=A=E=0,U++,z++),0===_+O+A+E){if(D===z&&(0<P&&(V=V.replace(d,"")),0<V.trim().length)){switch(m){case 32:case 9:case 59:case 13:case 10:break;default:V+=l.charAt(D)}m=59}switch(m){case 123:for(p=(V=V.trim()).charCodeAt(0),h=1,F=++D;D<U;){switch(m=l.charCodeAt(D)){case 123:h++;break;case 125:h--;break;case 47:switch(m=l.charCodeAt(D+1)){case 42:case 47:e:{for(L=D+1;L<z;++L)switch(l.charCodeAt(L)){case 47:if(42===m&&42===l.charCodeAt(L-1)&&D+2!==L){D=L+1;break e}break;case 10:if(47===m){D=L+1;break e}}D=L}}break;case 91:m++;case 40:m++;case 34:case 39:for(;D++<z&&l.charCodeAt(D)!==m;);}if(0===h)break;D++}switch(h=l.substring(F,D),0===p&&(p=(V=V.replace(u,"").trim()).charCodeAt(0)),p){case 64:switch(0<P&&(V=V.replace(d,"")),m=V.charCodeAt(1)){case 100:case 109:case 115:case 45:P=r;break;default:P=M}if(F=(h=t(r,P,h,m,f+1)).length,0<j&&(w=s(3,h,P=n(M,V,B),r,I,T,F,m,f,c),V=P.join(""),void 0!==w&&0===(F=(h=w.trim()).length)&&(m=0,h="")),0<F)switch(m){case 115:V=V.replace(x,a);case 100:case 109:case 45:h=V+"{"+h+"}";break;case 107:h=(V=V.replace(y,"$1 $2"))+"{"+h+"}",h=1===C||2===C&&o("@"+h,3)?"@-webkit-"+h+"@"+h:"@"+h;break;default:h=V+h,112===c&&(G+=h,h="")}else h="";break;default:h=t(r,n(r,V,B),h,c,f+1)}H+=h,h=B=P=L=p=0,V="",m=l.charCodeAt(++D);break;case 125:case 59:if(1<(F=(V=(0<P?V.replace(d,""):V).trim()).length))switch(0===L&&(p=V.charCodeAt(0),45===p||96<p&&123>p)&&(F=(V=V.replace(" ",":")).length),0<j&&void 0!==(w=s(1,V,r,e,I,T,G.length,c,f,c))&&0===(F=(V=w.trim()).length)&&(V="\0\0"),p=V.charCodeAt(0),m=V.charCodeAt(1),p){case 0:break;case 64:if(105===m||99===m){W+=V+l.charAt(D);break}default:58!==V.charCodeAt(F-1)&&(G+=i(V,p,m,V.charCodeAt(2)))}B=P=L=p=0,V="",m=l.charCodeAt(++D)}}switch(m){case 13:case 10:47===_?_=0:0===1+p&&107!==c&&0<V.length&&(P=1,V+="\0"),0<j*R&&s(0,V,r,e,I,T,G.length,c,f,c),T=1,I++;break;case 59:case 125:if(0===_+O+A+E){T++;break}default:switch(T++,g=l.charAt(D),m){case 9:case 32:if(0===O+E+_)switch(S){case 44:case 58:case 9:case 32:g="";break;default:32!==m&&(g=" ")}break;case 0:g="\\0";break;case 12:g="\\f";break;case 11:g="\\v";break;case 38:0===O+_+E&&(P=B=1,g="\f"+g);break;case 108:if(0===O+_+E+k&&0<L)switch(D-L){case 2:112===S&&58===l.charCodeAt(D-3)&&(k=S);case 8:111===N&&(k=N)}break;case 58:0===O+_+E&&(L=D);break;case 44:0===_+A+O+E&&(P=1,g+="\r");break;case 34:case 39:0===_&&(O=O===m?0:0===O?m:O);break;case 91:0===O+_+A&&E++;break;case 93:0===O+_+A&&E--;break;case 41:0===O+_+E&&A--;break;case 40:if(0===O+_+E){if(0===p)switch(2*S+3*N){case 533:break;default:p=1}A++}break;case 64:0===_+A+O+E+L+h&&(h=1);break;case 42:case 47:if(!(0<O+E+A))switch(_){case 0:switch(2*m+3*l.charCodeAt(D+1)){case 235:_=47;break;case 220:F=D,_=42}break;case 42:47===m&&42===S&&F+2!==D&&(33===l.charCodeAt(F+2)&&(G+=l.substring(F,D+1)),g="",_=0)}}0===_&&(V+=g)}N=S,S=m,D++}if(0<(F=G.length)){if(P=r,0<j&&(void 0!==(w=s(2,G,P,e,I,T,F,c,f,c))&&0===(G=w).length))return W+G+H;if(G=P.join(",")+"{"+G+"}",0!=C*k){switch(2!==C||o(G,2)||(k=0),k){case 111:G=G.replace(b,":-moz-$1")+G;break;case 112:G=G.replace(v,"::-webkit-input-$1")+G.replace(v,"::-moz-$1")+G.replace(v,":-ms-input-$1")+G}k=0}}return W+G+H}function n(e,t,n){var i=t.trim().split(h);t=i;var o=i.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=r(e,t[s],n).trim();break;default:var l=s=0;for(t=[];s<o;++s)for(var c=0;c<a;++c)t[l++]=r(e[c]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(g,"$1"+e.trim());case 58:return e.trim()+t.replace(g,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(g,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var a=e+";",s=2*t+3*n+4*r;if(944===s){e=a.indexOf(":",9)+1;var l=a.substring(e,a.length-1).trim();return l=a.substring(0,e).trim()+l+";",1===C||2===C&&o(l,1)?"-webkit-"+l+l:l}if(0===C||2===C&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(S,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(l=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+l+a;case 1005:return p.test(a)?a.replace(f,":-webkit-")+a.replace(f,":-moz-")+a:a;case 1e3:switch(t=(l=a.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(t)){case 226:l=a.replace(w,"tb");break;case 232:l=a.replace(w,"tb-rl");break;case 220:l=a.replace(w,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+l+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(l=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:a=a.replace(l,"-webkit-"+l)+";"+a;break;case 207:case 102:a=a.replace(l,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(l,"-webkit-"+l)+";"+a.replace(l,"-ms-"+l+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return l=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+l+"-ms-flex-"+l+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(_,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(_,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===O.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):a.replace(l,"-webkit-"+l)+a.replace(l,"-moz-"+l.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+r&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(m,"$1-webkit-$2")+a}return a}function o(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),L(2!==t?r:r.replace(A,"$1"),n,t)}function a(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(E," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,o,a,s,l,u){for(var d,f=0,p=t;f<j;++f)switch(d=N[f].call(c,e,p,n,r,i,o,a,s,l,u)){case void 0:case!1:case!0:case null:break;default:p=d}if(p!==t)return p}function l(e){return void 0!==(e=e.prefix)&&(L=null,e?"function"!=typeof e?C=1:(C=2,L=e):C=0),l}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<j){var i=s(-1,n,r,r,I,T,0,0,0,0);void 0!==i&&"string"==typeof i&&(n=i)}var o=t(M,r,n,0,0);return 0<j&&(void 0!==(i=s(-2,o,r,r,I,T,o.length,0,0,0))&&(o=i)),"",k=0,T=I=1,o}var u=/^\0+/g,d=/[\0\r\f]/g,f=/: */g,p=/zoo|gra/,m=/([,: ])(transform)/g,h=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,y=/@(k\w+)\s*(\S*)\s*/,v=/::(place)/g,b=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,x=/\(\s*(.*)\s*\)/g,E=/([\s\S]*?);/g,_=/-self|flex-/g,A=/[^]*?(:[rp][el]a[\w-]+)[^]*/,O=/stretch|:\s*\w+\-(?:conte|avail)/,S=/([^-])(image-set\()/,T=1,I=1,k=0,C=1,M=[],N=[],j=0,L=null,R=0;return c.use=function e(t){switch(t){case void 0:case null:j=N.length=0;break;default:if("function"==typeof t)N[j++]=t;else if("object"==typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else R=0|!!t}return e},c.set=l,void 0!==e&&l(e),c}},function(e,t,n){"use strict";t.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(e,t,n){"use strict";t.a=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return r}))},function(e,t){e.exports=function(e){return void 0===e}},function(e,t,n){var r=n(198),i=n(616),o=n(220),a=Function.prototype,s=Object.prototype,l=a.toString,c=s.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(45);function r(e,t,n){if(null!==e)for(var i,o,a,s,l,c,u,d,f=0,p=0,m=e.type,h="FeatureCollection"===m,g="Feature"===m,y=h?e.features.length:1,v=0;v<y;v++){l=(d=!!(u=h?e.features[v].geometry:g?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var b=0;b<l;b++){var w=0,x=0;if(null!==(s=d?u.geometries[b]:u)){c=s.coordinates;var E=s.type;switch(f=!n||"Polygon"!==E&&"MultiPolygon"!==E?0:1,E){case null:break;case"Point":if(!1===t(c,p,v,w,x))return!1;p++,w++;break;case"LineString":case"MultiPoint":for(i=0;i<c.length;i++){if(!1===t(c[i],p,v,w,x))return!1;p++,"MultiPoint"===E&&w++}"LineString"===E&&w++;break;case"Polygon":case"MultiLineString":for(i=0;i<c.length;i++){for(o=0;o<c[i].length-f;o++){if(!1===t(c[i][o],p,v,w,x))return!1;p++}"MultiLineString"===E&&w++,"Polygon"===E&&x++}"Polygon"===E&&w++;break;case"MultiPolygon":for(i=0;i<c.length;i++){for(x=0,o=0;o<c[i].length;o++){for(a=0;a<c[i][o].length-f;a++){if(!1===t(c[i][o][a],p,v,w,x))return!1;p++}x++}w++}break;case"GeometryCollection":for(i=0;i<s.geometries.length;i++)if(!1===r(s.geometries[i],t,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}},function(e,t,n){e.exports=function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){if(o)return o(a,!0);throw new Error("Cannot find module '"+a+"'")}var l=n[a]={exports:{}};t[a][0].call(l.exports,(function(e){var n=t[a][1][e];return i(n||e)}),l,l.exports,e,t,n,r)}return n[a].exports}for(var o=!1,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){(function(r,i,o,a,s,l,c,u,d){"use strict";function f(e,t){return h(e,t=p(e,t))}function p(e,t){if((t=t||{}).algorithm=t.algorithm||"sha1",t.encoding=t.encoding||"hex",t.excludeValues=!!t.excludeValues,t.algorithm=t.algorithm.toLowerCase(),t.encoding=t.encoding.toLowerCase(),t.ignoreUnknown=!0===t.ignoreUnknown,t.respectType=!1!==t.respectType,t.respectFunctionNames=!1!==t.respectFunctionNames,t.respectFunctionProperties=!1!==t.respectFunctionProperties,t.unorderedArrays=!0===t.unorderedArrays,t.unorderedSets=!1!==t.unorderedSets,t.unorderedObjects=!1!==t.unorderedObjects,t.replacer=t.replacer||void 0,t.excludeKeys=t.excludeKeys||void 0,void 0===e)throw new Error("Object argument required.");for(var n=0;n<b.length;++n)b[n].toLowerCase()===t.algorithm.toLowerCase()&&(t.algorithm=b[n]);if(-1===b.indexOf(t.algorithm))throw new Error('Algorithm "'+t.algorithm+'"  not supported. supported values: '+b.join(", "));if(-1===w.indexOf(t.encoding)&&"passthrough"!==t.algorithm)throw new Error('Encoding "'+t.encoding+'"  not supported. supported values: '+w.join(", "));return t}function m(e){return"function"==typeof e&&null!=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))}function h(e,t){var n;if(void 0===(n="passthrough"!==t.algorithm?v.createHash(t.algorithm):new y).write&&(n.write=n.update,n.end=n.update),g(t,n).dispatch(e),n.update||n.end(""),n.digest)return n.digest("buffer"===t.encoding?void 0:t.encoding);var r=n.read();return"buffer"===t.encoding?r:r.toString(t.encoding)}function g(e,t,n){n=n||[];var r=function(e){return t.update?t.update(e,"utf8"):t.write(e,"utf8")};return{dispatch:function(t){e.replacer&&(t=e.replacer(t));var n=typeof t;return null===t&&(n="null"),this["_"+n](t)},_object:function(t){var i=/\[object (.*)\]/i,a=Object.prototype.toString.call(t),s=i.exec(a);s=(s=s?s[1]:"unknown:["+a+"]").toLowerCase();var l=null;if((l=n.indexOf(t))>=0)return this.dispatch("[CIRCULAR:"+l+"]");if(n.push(t),void 0!==o&&o.isBuffer&&o.isBuffer(t))return r("buffer:"),r(t);if("object"===s||"function"===s){var c=Object.keys(t);e.unorderedObjects&&(c=c.sort()),!1===e.respectType||m(t)||c.splice(0,0,"prototype","__proto__","constructor"),e.excludeKeys&&(c=c.filter((function(t){return!e.excludeKeys(t)}))),r("object:"+c.length+":");var u=this;return c.forEach((function(n){u.dispatch(n),r(":"),e.excludeValues||u.dispatch(t[n]),r(",")}))}if(!this["_"+s]){if(e.ignoreUnknown)return r("["+s+"]");throw new Error('Unknown object type "'+s+'"')}this["_"+s](t)},_array:function(t,i){i=void 0!==i?i:!1!==e.unorderedArrays;var o=this;if(r("array:"+t.length+":"),!i||t.length<=1)return t.forEach((function(e){return o.dispatch(e)}));var a=[],s=t.map((function(t){var r=new y,i=n.slice();return g(e,r,i).dispatch(t),a=a.concat(i.slice(n.length)),r.read().toString()}));return n=n.concat(a),s.sort(),this._array(s,!1)},_date:function(e){return r("date:"+e.toJSON())},_symbol:function(e){return r("symbol:"+e.toString())},_error:function(e){return r("error:"+e.toString())},_boolean:function(e){return r("bool:"+e.toString())},_string:function(e){r("string:"+e.length+":"),r(e.toString())},_function:function(t){r("fn:"),m(t)?this.dispatch("[native]"):this.dispatch(t.toString()),!1!==e.respectFunctionNames&&this.dispatch("function-name:"+String(t.name)),e.respectFunctionProperties&&this._object(t)},_number:function(e){return r("number:"+e.toString())},_xml:function(e){return r("xml:"+e.toString())},_null:function(){return r("Null")},_undefined:function(){return r("Undefined")},_regexp:function(e){return r("regex:"+e.toString())},_uint8array:function(e){return r("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint8clampedarray:function(e){return r("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(e))},_int8array:function(e){return r("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint16array:function(e){return r("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},_int16array:function(e){return r("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},_uint32array:function(e){return r("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},_int32array:function(e){return r("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},_float32array:function(e){return r("float32array:"),this.dispatch(Array.prototype.slice.call(e))},_float64array:function(e){return r("float64array:"),this.dispatch(Array.prototype.slice.call(e))},_arraybuffer:function(e){return r("arraybuffer:"),this.dispatch(new Uint8Array(e))},_url:function(e){return r("url:"+e.toString(),"utf8")},_map:function(t){r("map:");var n=Array.from(t);return this._array(n,!1!==e.unorderedSets)},_set:function(t){r("set:");var n=Array.from(t);return this._array(n,!1!==e.unorderedSets)},_blob:function(){if(e.ignoreUnknown)return r("[blob]");throw Error('Hashing Blob objects is currently not supported\n(see https://github.com/puleos/object-hash/issues/26)\nUse "options.replacer" or "options.ignoreUnknown"\n')},_domwindow:function(){return r("domwindow")},_process:function(){return r("process")},_timer:function(){return r("timer")},_pipe:function(){return r("pipe")},_tcp:function(){return r("tcp")},_udp:function(){return r("udp")},_tty:function(){return r("tty")},_statwatcher:function(){return r("statwatcher")},_securecontext:function(){return r("securecontext")},_connection:function(){return r("connection")},_zlib:function(){return r("zlib")},_context:function(){return r("context")},_nodescript:function(){return r("nodescript")},_httpparser:function(){return r("httpparser")},_dataview:function(){return r("dataview")},_signal:function(){return r("signal")},_fsevent:function(){return r("fsevent")},_tlswrap:function(){return r("tlswrap")}}}function y(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}var v=e("crypto");(n=t.exports=f).sha1=function(e){return f(e)},n.keys=function(e){return f(e,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},n.MD5=function(e){return f(e,{algorithm:"md5",encoding:"hex"})},n.keysMD5=function(e){return f(e,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var b=v.getHashes?v.getHashes().slice():["sha1","md5"];b.push("passthrough");var w=["buffer","hex","binary","base64"];n.writeToStream=function(e,t,n){return void 0===n&&(n=t,t={}),g(t=p(e,t),n).dispatch(e)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_e8180ef5.js","/")},{buffer:3,crypto:5,lYpoI2:10}],2:[function(e,t,n){(function(e,t,r,i,o,a,s,l,c){var u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(e){"use strict";function t(e){var t=e.charCodeAt(0);return t===o||t===d?62:t===a||t===f?63:t<s?-1:t<s+10?t-s+26+26:t<c+26?t-c:t<l+26?t-l+26:void 0}function n(e){function n(e){c[d++]=e}var r,o,a,s,l,c;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var u=e.length;l="="===e.charAt(u-2)?2:"="===e.charAt(u-1)?1:0,c=new i(3*e.length/4-l),a=l>0?e.length-4:e.length;var d=0;for(r=0,o=0;r<a;r+=4,o+=3)n((16711680&(s=t(e.charAt(r))<<18|t(e.charAt(r+1))<<12|t(e.charAt(r+2))<<6|t(e.charAt(r+3))))>>16),n((65280&s)>>8),n(255&s);return 2===l?n(255&(s=t(e.charAt(r))<<2|t(e.charAt(r+1))>>4)):1===l&&(n((s=t(e.charAt(r))<<10|t(e.charAt(r+1))<<4|t(e.charAt(r+2))>>2)>>8&255),n(255&s)),c}function r(e){function t(e){return u.charAt(e)}function n(e){return t(e>>18&63)+t(e>>12&63)+t(e>>6&63)+t(63&e)}var r,i,o,a=e.length%3,s="";for(r=0,o=e.length-a;r<o;r+=3)s+=n(i=(e[r]<<16)+(e[r+1]<<8)+e[r+2]);switch(a){case 1:s+=t((i=e[e.length-1])>>2),s+=t(i<<4&63),s+="==";break;case 2:s+=t((i=(e[e.length-2]<<8)+e[e.length-1])>>10),s+=t(i>>4&63),s+=t(i<<2&63),s+="="}return s}var i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="+".charCodeAt(0),a="/".charCodeAt(0),s="0".charCodeAt(0),l="a".charCodeAt(0),c="A".charCodeAt(0),d="-".charCodeAt(0),f="_".charCodeAt(0);e.toByteArray=n,e.fromByteArray=r}(void 0===n?this.base64js={}:n)}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:10}],3:[function(e,t,n){(function(t,r,i,o,a,s,l,c,u){function i(e,t,n){if(!(this instanceof i))return new i(e,t,n);var r,o,a,s=typeof e;if("base64"===t&&"string"===s)for(e=R(e);e.length%4!=0;)e+="=";if("number"===s)r=P(e);else if("string"===s)r=i.byteLength(e,t);else{if("object"!==s)throw new Error("First argument needs to be a number, array or string.");r=P(e.length)}if(i._useTypedArrays?o=i._augment(new Uint8Array(r)):((o=this).length=r,o._isBuffer=!0),i._useTypedArrays&&"number"==typeof e.byteLength)o._set(e);else if(F(e))for(a=0;a<r;a++)i.isBuffer(e)?o[a]=e.readUInt8(a):o[a]=e[a];else if("string"===s)o.write(e,0,t);else if("number"===s&&!i._useTypedArrays&&!n)for(a=0;a<r;a++)o[a]=0;return o}function d(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var a=t.length;J(a%2==0,"Invalid hex string"),r>a/2&&(r=a/2);for(var s=0;s<r;s++){var l=parseInt(t.substr(2*s,2),16);J(!isNaN(l),"Invalid hex string"),e[n+s]=l}return i._charsWritten=2*s,s}function f(e,t,n,r){return i._charsWritten=W(z(t),e,n,r)}function p(e,t,n,r){return i._charsWritten=W(V(t),e,n,r)}function m(e,t,n,r){return p(e,t,n,r)}function h(e,t,n,r){return i._charsWritten=W(H(t),e,n,r)}function g(e,t,n,r){return i._charsWritten=W(G(t),e,n,r)}function y(e,t,n){return 0===t&&n===e.length?q.fromByteArray(e):q.fromByteArray(e.slice(t,n))}function v(e,t,n){var r="",i="";n=Math.min(e.length,n);for(var o=t;o<n;o++)e[o]<=127?(r+=Y(i)+String.fromCharCode(e[o]),i=""):i+="%"+e[o].toString(16);return r+Y(i)}function b(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;i++)r+=String.fromCharCode(e[i]);return r}function w(e,t,n){return b(e,t,n)}function x(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;o++)i+=U(e[o]);return i}function E(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function _(e,t,n,r){r||(J("boolean"==typeof n,"missing or invalid endian"),J(null!=t,"missing offset"),J(t+1<e.length,"Trying to read beyond buffer length"));var i,o=e.length;if(!(t>=o))return n?(i=e[t],t+1<o&&(i|=e[t+1]<<8)):(i=e[t]<<8,t+1<o&&(i|=e[t+1])),i}function A(e,t,n,r){r||(J("boolean"==typeof n,"missing or invalid endian"),J(null!=t,"missing offset"),J(t+3<e.length,"Trying to read beyond buffer length"));var i,o=e.length;if(!(t>=o))return n?(t+2<o&&(i=e[t+2]<<16),t+1<o&&(i|=e[t+1]<<8),i|=e[t],t+3<o&&(i+=e[t+3]<<24>>>0)):(t+1<o&&(i=e[t+1]<<16),t+2<o&&(i|=e[t+2]<<8),t+3<o&&(i|=e[t+3]),i+=e[t]<<24>>>0),i}function O(e,t,n,r){if(r||(J("boolean"==typeof n,"missing or invalid endian"),J(null!=t,"missing offset"),J(t+1<e.length,"Trying to read beyond buffer length")),!(t>=e.length)){var i=_(e,t,n,!0);return 32768&i?-1*(65535-i+1):i}}function S(e,t,n,r){if(r||(J("boolean"==typeof n,"missing or invalid endian"),J(null!=t,"missing offset"),J(t+3<e.length,"Trying to read beyond buffer length")),!(t>=e.length)){var i=A(e,t,n,!0);return 2147483648&i?-1*(4294967295-i+1):i}}function T(e,t,n,r){return r||(J("boolean"==typeof n,"missing or invalid endian"),J(t+3<e.length,"Trying to read beyond buffer length")),K.read(e,t,n,23,4)}function I(e,t,n,r){return r||(J("boolean"==typeof n,"missing or invalid endian"),J(t+7<e.length,"Trying to read beyond buffer length")),K.read(e,t,n,52,8)}function k(e,t,n,r,i){i||(J(null!=t,"missing value"),J("boolean"==typeof r,"missing or invalid endian"),J(null!=n,"missing offset"),J(n+1<e.length,"trying to write beyond buffer length"),Q(t,65535));var o=e.length;if(!(n>=o))for(var a=0,s=Math.min(o-n,2);a<s;a++)e[n+a]=(t&255<<8*(r?a:1-a))>>>8*(r?a:1-a)}function C(e,t,n,r,i){i||(J(null!=t,"missing value"),J("boolean"==typeof r,"missing or invalid endian"),J(null!=n,"missing offset"),J(n+3<e.length,"trying to write beyond buffer length"),Q(t,4294967295));var o=e.length;if(!(n>=o))for(var a=0,s=Math.min(o-n,4);a<s;a++)e[n+a]=t>>>8*(r?a:3-a)&255}function M(e,t,n,r,i){i||(J(null!=t,"missing value"),J("boolean"==typeof r,"missing or invalid endian"),J(null!=n,"missing offset"),J(n+1<e.length,"Trying to write beyond buffer length"),Z(t,32767,-32768)),n>=e.length||k(e,t>=0?t:65535+t+1,n,r,i)}function N(e,t,n,r,i){i||(J(null!=t,"missing value"),J("boolean"==typeof r,"missing or invalid endian"),J(null!=n,"missing offset"),J(n+3<e.length,"Trying to write beyond buffer length"),Z(t,2147483647,-2147483648)),n>=e.length||C(e,t>=0?t:4294967295+t+1,n,r,i)}function j(e,t,n,r,i){i||(J(null!=t,"missing value"),J("boolean"==typeof r,"missing or invalid endian"),J(null!=n,"missing offset"),J(n+3<e.length,"Trying to write beyond buffer length"),X(t,34028234663852886e22,-34028234663852886e22)),n>=e.length||K.write(e,t,n,r,23,4)}function L(e,t,n,r,i){i||(J(null!=t,"missing value"),J("boolean"==typeof r,"missing or invalid endian"),J(null!=n,"missing offset"),J(n+7<e.length,"Trying to write beyond buffer length"),X(t,17976931348623157e292,-17976931348623157e292)),n>=e.length||K.write(e,t,n,r,52,8)}function R(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function D(e,t,n){return"number"!=typeof e?n:(e=~~e)>=t?t:e>=0||(e+=t)>=0?e:0}function P(e){return(e=~~Math.ceil(+e))<0?0:e}function B(e){return(Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)})(e)}function F(e){return B(e)||i.isBuffer(e)||e&&"object"==typeof e&&"number"==typeof e.length}function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function z(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(e.charCodeAt(n));else{var i=n;r>=55296&&r<=57343&&n++;for(var o=encodeURIComponent(e.slice(i,n+1)).substr(1).split("%"),a=0;a<o.length;a++)t.push(parseInt(o[a],16))}}return t}function V(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}function G(e){for(var t,n,r,i=[],o=0;o<e.length;o++)n=(t=e.charCodeAt(o))>>8,r=t%256,i.push(r),i.push(n);return i}function H(e){return q.toByteArray(e)}function W(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);i++)t[i+n]=e[i];return i}function Y(e){try{return decodeURIComponent(e)}catch(e){return String.fromCharCode(65533)}}function Q(e,t){J("number"==typeof e,"cannot write a non-number as a number"),J(e>=0,"specified a negative value for writing an unsigned value"),J(e<=t,"value is larger than maximum value for type"),J(Math.floor(e)===e,"value has a fractional component")}function Z(e,t,n){J("number"==typeof e,"cannot write a non-number as a number"),J(e<=t,"value larger than maximum allowed value"),J(e>=n,"value smaller than minimum allowed value"),J(Math.floor(e)===e,"value has a fractional component")}function X(e,t,n){J("number"==typeof e,"cannot write a non-number as a number"),J(e<=t,"value larger than maximum allowed value"),J(e>=n,"value smaller than minimum allowed value")}function J(e,t){if(!e)throw new Error(t||"Failed assertion")}var q=e("base64-js"),K=e("ieee754");n.Buffer=i,n.SlowBuffer=i,n.INSPECT_MAX_BYTES=50,i.poolSize=8192,i._useTypedArrays=function(){try{var e=new ArrayBuffer(0),t=new Uint8Array(e);return t.foo=function(){return 42},42===t.foo()&&"function"==typeof t.subarray}catch(e){return!1}}(),i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.isBuffer=function(e){return!(null==e||!e._isBuffer)},i.byteLength=function(e,t){var n;switch(e+="",t||"utf8"){case"hex":n=e.length/2;break;case"utf8":case"utf-8":n=z(e).length;break;case"ascii":case"binary":case"raw":n=e.length;break;case"base64":n=H(e).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2*e.length;break;default:throw new Error("Unknown encoding")}return n},i.concat=function(e,t){if(J(B(e),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===e.length)return new i(0);if(1===e.length)return e[0];var n;if("number"!=typeof t)for(t=0,n=0;n<e.length;n++)t+=e[n].length;var r=new i(t),o=0;for(n=0;n<e.length;n++){var a=e[n];a.copy(r,o),o+=a.length}return r},i.prototype.write=function(e,t,n,r){if(isFinite(t))isFinite(n)||(r=n,n=void 0);else{var i=r;r=t,t=n,n=i}t=Number(t)||0;var o,a=this.length-t;switch(n?(n=Number(n))>a&&(n=a):n=a,r=String(r||"utf8").toLowerCase()){case"hex":o=d(this,e,t,n);break;case"utf8":case"utf-8":o=f(this,e,t,n);break;case"ascii":o=p(this,e,t,n);break;case"binary":o=m(this,e,t,n);break;case"base64":o=h(this,e,t,n);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":o=g(this,e,t,n);break;default:throw new Error("Unknown encoding")}return o},i.prototype.toString=function(e,t,n){var r,i=this;if(e=String(e||"utf8").toLowerCase(),t=Number(t)||0,(n=void 0!==n?Number(n):n=i.length)===t)return"";switch(e){case"hex":r=x(i,t,n);break;case"utf8":case"utf-8":r=v(i,t,n);break;case"ascii":r=b(i,t,n);break;case"binary":r=w(i,t,n);break;case"base64":r=y(i,t,n);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":r=E(i,t,n);break;default:throw new Error("Unknown encoding")}return r},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},i.prototype.copy=function(e,t,n,r){var o=this;if(n||(n=0),r||0===r||(r=this.length),t||(t=0),r!==n&&0!==e.length&&0!==o.length){J(r>=n,"sourceEnd < sourceStart"),J(t>=0&&t<e.length,"targetStart out of bounds"),J(n>=0&&n<o.length,"sourceStart out of bounds"),J(r>=0&&r<=o.length,"sourceEnd out of bounds"),r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var a=r-n;if(a<100||!i._useTypedArrays)for(var s=0;s<a;s++)e[s+t]=this[s+n];else e._set(this.subarray(n,n+a),t)}},i.prototype.slice=function(e,t){var n=this.length;if(e=D(e,n,0),t=D(t,n,n),i._useTypedArrays)return i._augment(this.subarray(e,t));for(var r=t-e,o=new i(r,void 0,!0),a=0;a<r;a++)o[a]=this[a+e];return o},i.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},i.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},i.prototype.readUInt8=function(e,t){if(t||(J(null!=e,"missing offset"),J(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return this[e]},i.prototype.readUInt16LE=function(e,t){return _(this,e,!0,t)},i.prototype.readUInt16BE=function(e,t){return _(this,e,!1,t)},i.prototype.readUInt32LE=function(e,t){return A(this,e,!0,t)},i.prototype.readUInt32BE=function(e,t){return A(this,e,!1,t)},i.prototype.readInt8=function(e,t){if(t||(J(null!=e,"missing offset"),J(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return 128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){return O(this,e,!0,t)},i.prototype.readInt16BE=function(e,t){return O(this,e,!1,t)},i.prototype.readInt32LE=function(e,t){return S(this,e,!0,t)},i.prototype.readInt32BE=function(e,t){return S(this,e,!1,t)},i.prototype.readFloatLE=function(e,t){return T(this,e,!0,t)},i.prototype.readFloatBE=function(e,t){return T(this,e,!1,t)},i.prototype.readDoubleLE=function(e,t){return I(this,e,!0,t)},i.prototype.readDoubleBE=function(e,t){return I(this,e,!1,t)},i.prototype.writeUInt8=function(e,t,n){n||(J(null!=e,"missing value"),J(null!=t,"missing offset"),J(t<this.length,"trying to write beyond buffer length"),Q(e,255)),t>=this.length||(this[t]=e)},i.prototype.writeUInt16LE=function(e,t,n){k(this,e,t,!0,n)},i.prototype.writeUInt16BE=function(e,t,n){k(this,e,t,!1,n)},i.prototype.writeUInt32LE=function(e,t,n){C(this,e,t,!0,n)},i.prototype.writeUInt32BE=function(e,t,n){C(this,e,t,!1,n)},i.prototype.writeInt8=function(e,t,n){n||(J(null!=e,"missing value"),J(null!=t,"missing offset"),J(t<this.length,"Trying to write beyond buffer length"),Z(e,127,-128)),t>=this.length||(e>=0?this.writeUInt8(e,t,n):this.writeUInt8(255+e+1,t,n))},i.prototype.writeInt16LE=function(e,t,n){M(this,e,t,!0,n)},i.prototype.writeInt16BE=function(e,t,n){M(this,e,t,!1,n)},i.prototype.writeInt32LE=function(e,t,n){N(this,e,t,!0,n)},i.prototype.writeInt32BE=function(e,t,n){N(this,e,t,!1,n)},i.prototype.writeFloatLE=function(e,t,n){j(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){j(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){L(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){L(this,e,t,!1,n)},i.prototype.fill=function(e,t,n){if(e||(e=0),t||(t=0),n||(n=this.length),"string"==typeof e&&(e=e.charCodeAt(0)),J("number"==typeof e&&!isNaN(e),"value is not a number"),J(n>=t,"end < start"),n!==t&&0!==this.length){J(t>=0&&t<this.length,"start out of bounds"),J(n>=0&&n<=this.length,"end out of bounds");for(var r=t;r<n;r++)this[r]=e}},i.prototype.inspect=function(){for(var e=[],t=this.length,r=0;r<t;r++)if(e[r]=U(this[r]),r===n.INSPECT_MAX_BYTES){e[r+1]="...";break}return"<Buffer "+e.join(" ")+">"},i.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(i._useTypedArrays)return new i(this).buffer;for(var e=new Uint8Array(this.length),t=0,n=e.length;t<n;t+=1)e[t]=this[t];return e.buffer}throw new Error("Buffer.toArrayBuffer not supported in this browser")};var $=i.prototype;i._augment=function(e){return e._isBuffer=!0,e._get=e.get,e._set=e.set,e.get=$.get,e.set=$.set,e.write=$.write,e.toString=$.toString,e.toLocaleString=$.toString,e.toJSON=$.toJSON,e.copy=$.copy,e.slice=$.slice,e.readUInt8=$.readUInt8,e.readUInt16LE=$.readUInt16LE,e.readUInt16BE=$.readUInt16BE,e.readUInt32LE=$.readUInt32LE,e.readUInt32BE=$.readUInt32BE,e.readInt8=$.readInt8,e.readInt16LE=$.readInt16LE,e.readInt16BE=$.readInt16BE,e.readInt32LE=$.readInt32LE,e.readInt32BE=$.readInt32BE,e.readFloatLE=$.readFloatLE,e.readFloatBE=$.readFloatBE,e.readDoubleLE=$.readDoubleLE,e.readDoubleBE=$.readDoubleBE,e.writeUInt8=$.writeUInt8,e.writeUInt16LE=$.writeUInt16LE,e.writeUInt16BE=$.writeUInt16BE,e.writeUInt32LE=$.writeUInt32LE,e.writeUInt32BE=$.writeUInt32BE,e.writeInt8=$.writeInt8,e.writeInt16LE=$.writeInt16LE,e.writeInt16BE=$.writeInt16BE,e.writeInt32LE=$.writeInt32LE,e.writeInt32BE=$.writeInt32BE,e.writeFloatLE=$.writeFloatLE,e.writeFloatBE=$.writeFloatBE,e.writeDoubleLE=$.writeDoubleLE,e.writeDoubleBE=$.writeDoubleBE,e.fill=$.fill,e.inspect=$.inspect,e.toArrayBuffer=$.toArrayBuffer,e}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:11,lYpoI2:10}],4:[function(e,t,n){(function(n,r,i,o,a,s,l,c,u){function d(e,t){if(e.length%m!=0){var n=e.length+(m-e.length%m);e=i.concat([e,h],n)}for(var r=[],o=t?e.readInt32BE:e.readInt32LE,a=0;a<e.length;a+=m)r.push(o.call(e,a));return r}function f(e,t,n){for(var r=new i(t),o=n?r.writeInt32BE:r.writeInt32LE,a=0;a<e.length;a++)o.call(r,e[a],4*a,!0);return r}function p(e,t,n,r){return i.isBuffer(e)||(e=new i(e)),f(t(d(e,r),e.length*g),n,r)}i=e("buffer").Buffer;var m=4,h=new i(m);h.fill(0);var g=8;t.exports={hash:p}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:10}],5:[function(e,t,n){(function(t,r,i,o,a,s,l,c,u){function d(e,t,n){i.isBuffer(t)||(t=new i(t)),i.isBuffer(n)||(n=new i(n)),t.length>b?t=e(t):t.length<b&&(t=i.concat([t,w],b));for(var r=new i(b),o=new i(b),a=0;a<b;a++)r[a]=54^t[a],o[a]=92^t[a];var s=e(i.concat([r,n]));return e(i.concat([o,s]))}function f(e,t){var n=v[e=e||"sha1"],r=[];return n||p("algorithm:",e,"is not yet supported"),{update:function(e){return i.isBuffer(e)||(e=new i(e)),r.push(e),e.length,this},digest:function(e){var o=i.concat(r),a=t?d(n,t,o):n(o);return r=null,e?a.toString(e):a}}}function p(){var e=[].slice.call(arguments).join(" ");throw new Error([e,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}function m(e,t){for(var n in e)t(e[n],n)}i=e("buffer").Buffer;var h=e("./sha"),g=e("./sha256"),y=e("./rng"),v={sha1:h,sha256:g,md5:e("./md5")},b=64,w=new i(b);w.fill(0),n.createHash=function(e){return f(e)},n.createHmac=function(e,t){return f(e,t)},n.randomBytes=function(e,t){if(!t||!t.call)return new i(y(e));try{t.call(this,void 0,new i(y(e)))}catch(e){t(e)}},m(["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],(function(e){n[e]=function(){p("sorry,",e,"is not implemented yet")}}))}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:10}],6:[function(e,t,n){(function(n,r,i,o,a,s,l,c,u){function d(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,r=-271733879,i=-1732584194,o=271733878,a=0;a<e.length;a+=16){var s=n,l=r,c=i,u=o;n=p(n,r,i,o,e[a+0],7,-680876936),o=p(o,n,r,i,e[a+1],12,-389564586),i=p(i,o,n,r,e[a+2],17,606105819),r=p(r,i,o,n,e[a+3],22,-1044525330),n=p(n,r,i,o,e[a+4],7,-176418897),o=p(o,n,r,i,e[a+5],12,1200080426),i=p(i,o,n,r,e[a+6],17,-1473231341),r=p(r,i,o,n,e[a+7],22,-45705983),n=p(n,r,i,o,e[a+8],7,1770035416),o=p(o,n,r,i,e[a+9],12,-1958414417),i=p(i,o,n,r,e[a+10],17,-42063),r=p(r,i,o,n,e[a+11],22,-1990404162),n=p(n,r,i,o,e[a+12],7,1804603682),o=p(o,n,r,i,e[a+13],12,-40341101),i=p(i,o,n,r,e[a+14],17,-1502002290),n=m(n,r=p(r,i,o,n,e[a+15],22,1236535329),i,o,e[a+1],5,-165796510),o=m(o,n,r,i,e[a+6],9,-1069501632),i=m(i,o,n,r,e[a+11],14,643717713),r=m(r,i,o,n,e[a+0],20,-373897302),n=m(n,r,i,o,e[a+5],5,-701558691),o=m(o,n,r,i,e[a+10],9,38016083),i=m(i,o,n,r,e[a+15],14,-660478335),r=m(r,i,o,n,e[a+4],20,-405537848),n=m(n,r,i,o,e[a+9],5,568446438),o=m(o,n,r,i,e[a+14],9,-1019803690),i=m(i,o,n,r,e[a+3],14,-187363961),r=m(r,i,o,n,e[a+8],20,1163531501),n=m(n,r,i,o,e[a+13],5,-1444681467),o=m(o,n,r,i,e[a+2],9,-51403784),i=m(i,o,n,r,e[a+7],14,1735328473),n=h(n,r=m(r,i,o,n,e[a+12],20,-1926607734),i,o,e[a+5],4,-378558),o=h(o,n,r,i,e[a+8],11,-2022574463),i=h(i,o,n,r,e[a+11],16,1839030562),r=h(r,i,o,n,e[a+14],23,-35309556),n=h(n,r,i,o,e[a+1],4,-1530992060),o=h(o,n,r,i,e[a+4],11,1272893353),i=h(i,o,n,r,e[a+7],16,-155497632),r=h(r,i,o,n,e[a+10],23,-1094730640),n=h(n,r,i,o,e[a+13],4,681279174),o=h(o,n,r,i,e[a+0],11,-358537222),i=h(i,o,n,r,e[a+3],16,-722521979),r=h(r,i,o,n,e[a+6],23,76029189),n=h(n,r,i,o,e[a+9],4,-640364487),o=h(o,n,r,i,e[a+12],11,-421815835),i=h(i,o,n,r,e[a+15],16,530742520),n=g(n,r=h(r,i,o,n,e[a+2],23,-995338651),i,o,e[a+0],6,-198630844),o=g(o,n,r,i,e[a+7],10,1126891415),i=g(i,o,n,r,e[a+14],15,-1416354905),r=g(r,i,o,n,e[a+5],21,-57434055),n=g(n,r,i,o,e[a+12],6,1700485571),o=g(o,n,r,i,e[a+3],10,-1894986606),i=g(i,o,n,r,e[a+10],15,-1051523),r=g(r,i,o,n,e[a+1],21,-2054922799),n=g(n,r,i,o,e[a+8],6,1873313359),o=g(o,n,r,i,e[a+15],10,-30611744),i=g(i,o,n,r,e[a+6],15,-1560198380),r=g(r,i,o,n,e[a+13],21,1309151649),n=g(n,r,i,o,e[a+4],6,-145523070),o=g(o,n,r,i,e[a+11],10,-1120210379),i=g(i,o,n,r,e[a+2],15,718787259),r=g(r,i,o,n,e[a+9],21,-343485551),n=y(n,s),r=y(r,l),i=y(i,c),o=y(o,u)}return Array(n,r,i,o)}function f(e,t,n,r,i,o){return y(v(y(y(t,e),y(r,o)),i),n)}function p(e,t,n,r,i,o,a){return f(t&n|~t&r,e,t,i,o,a)}function m(e,t,n,r,i,o,a){return f(t&r|n&~r,e,t,i,o,a)}function h(e,t,n,r,i,o,a){return f(t^n^r,e,t,i,o,a)}function g(e,t,n,r,i,o,a){return f(n^(t|~r),e,t,i,o,a)}function y(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function v(e,t){return e<<t|e>>>32-t}var b=e("./helpers");t.exports=function(e){return b.hash(e,d,16)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:10}],7:[function(e,t,n){(function(e,n,r,i,o,a,s,l,c){!function(){var e,n;e=function(e){for(var t,n=new Array(e),r=0;r<e;r++)0==(3&r)&&(t=4294967296*Math.random()),n[r]=t>>>((3&r)<<3)&255;return n},this.crypto&&crypto.getRandomValues&&(n=function(e){var t=new Uint8Array(e);return crypto.getRandomValues(t),t}),t.exports=n||e}()}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:10}],8:[function(e,t,n){(function(n,r,i,o,a,s,l,c,u){function d(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var n=Array(80),r=1732584193,i=-271733879,o=-1732584194,a=271733878,s=-1009589776,l=0;l<e.length;l+=16){for(var c=r,u=i,d=o,g=a,y=s,v=0;v<80;v++){n[v]=v<16?e[l+v]:h(n[v-3]^n[v-8]^n[v-14]^n[v-16],1);var b=m(m(h(r,5),f(v,i,o,a)),m(m(s,n[v]),p(v)));s=a,a=o,o=h(i,30),i=r,r=b}r=m(r,c),i=m(i,u),o=m(o,d),a=m(a,g),s=m(s,y)}return Array(r,i,o,a,s)}function f(e,t,n,r){return e<20?t&n|~t&r:e<40?t^n^r:e<60?t&n|t&r|n&r:t^n^r}function p(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}function m(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function h(e,t){return e<<t|e>>>32-t}var g=e("./helpers");t.exports=function(e){return g.hash(e,d,20,!0)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:10}],9:[function(e,t,n){(function(n,r,i,o,a,s,l,c,u){var d=e("./helpers"),f=function(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n},p=function(e,t){return e>>>t|e<<32-t},m=function(e,t){return e>>>t},h=function(e,t,n){return e&t^~e&n},g=function(e,t,n){return e&t^e&n^t&n},y=function(e){return p(e,2)^p(e,13)^p(e,22)},v=function(e){return p(e,6)^p(e,11)^p(e,25)},b=function(e){return p(e,7)^p(e,18)^m(e,3)},w=function(e){return p(e,17)^p(e,19)^m(e,10)},x=function(e,t){var n,r,i,o,a,s,l,c,u,d,p=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),m=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),x=new Array(64);e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var E=0;E<e.length;E+=16){n=m[0],r=m[1],i=m[2],o=m[3],a=m[4],s=m[5],l=m[6],c=m[7];for(var _=0;_<64;_++)x[_]=_<16?e[_+E]:f(f(f(w(x[_-2]),x[_-7]),b(x[_-15])),x[_-16]),u=f(f(f(f(c,v(a)),h(a,s,l)),p[_]),x[_]),d=f(y(n),g(n,r,i)),c=l,l=s,s=a,a=f(o,u),o=i,i=r,r=n,n=f(u,d);m[0]=f(n,m[0]),m[1]=f(r,m[1]),m[2]=f(i,m[2]),m[3]=f(o,m[3]),m[4]=f(a,m[4]),m[5]=f(s,m[5]),m[6]=f(l,m[6]),m[7]=f(c,m[7])}return m};t.exports=function(e){return d.hash(e,x,32,!0)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:10}],10:[function(e,t,n){(function(e,n,r,i,o,a,s,l,c){function u(){}(e=t.exports={}).nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];return window.addEventListener("message",(function(e){var t=e.source;(t===window||null===t)&&"process-tick"===e.data&&(e.stopPropagation(),n.length>0)&&n.shift()()}),!0),function(e){n.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),e.title="browser",e.browser=!0,e.env={},e.argv=[],e.on=u,e.addListener=u,e.once=u,e.off=u,e.removeListener=u,e.removeAllListeners=u,e.emit=u,e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:10}],11:[function(e,t,n){(function(e,t,r,i,o,a,s,l,c){n.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?i-1:0,f=n?-1:1,p=e[t+d];for(d+=f,o=p&(1<<-u)-1,p>>=-u,u+=s;u>0;o=256*o+e[t+d],d+=f,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=r;u>0;a=256*a+e[t+d],d+=f,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=c}return(p?-1:1)*a*Math.pow(2,o-r)},n.write=function(e,t,n,r,i,o){var a,s,l,c=8*o-i-1,u=(1<<c)-1,d=u>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,m=r?1:-1,h=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?f/l:f*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*l-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[n+p]=255&s,p+=m,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+p]=255&a,p+=m,a/=256,c-=8);e[n+p-m]|=128*h}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/ieee754/index.js","/node_modules/ieee754")},{buffer:3,lYpoI2:10}]},{},[1])(1)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(374),i=n(95),o=n(375),a=function(){var e=Object(r.a)(new Date).toISOString().split("T")[0];return{end:Object(i.a)(Object(o.a)(new Date),1).toISOString().split("T")[0],start:e}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var r=n(48),i=n(32);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){return!!t.stops&&t.stops.findIndex((function(t){return t.gtfsId===e}))===t.stops.length-1}function c(e,t){var n,r;return e.serviceDay+(null!==(n=e.realtimeDeparture)&&void 0!==n?n:e.scheduledDeparture)-(t.serviceDay+(null!==(r=t.realtimeDeparture)&&void 0!==r?r:t.scheduledDeparture))}function u(e){var t=function(e){var t={};if(e&&e.routes&&e.stoptimesForPatterns){var n=e.routes;e.stoptimesForPatterns.forEach((function(e){var o=e.pattern,a=e.stoptimes,s=Object(r.h)(o),l=a[0]&&a[0].headsign;Object(i.i)(l)&&(l=Object(r.b)(o)),o.headsign=l;var c="".concat(s,"-").concat(l);if(!(c in t)){var u=n.find((function(e){return e.id===s}));t[c]={id:c,pattern:o,route:u,times:[]}}t[c].times=t[c].times.concat(a)}))}return t}(e),n=[];return Object.values(t).forEach((function(e){var t=e.pattern,r=e.route,o=e.times.map((function(e){var n=Object(i.i)(e.headsign)?t.headsign:e.headsign;return a(a({},e),{},{blockId:e.trip.blockId,headsign:n,route:r})}));n=n.concat(o)})),n.sort(c)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4),i=n.n(r),o=n(0),a=n(10),s=o.forwardRef((function(e,t){return o.createElement(a.a,i()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 448 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M128 0c17.7 0 32 14.3 32 32v32h128V32c0-17.7 14.3-32 32-32s32 14.3 32 32v32h48c26.5 0 48 21.5 48 48v48H0v-48c0-26.5 21.5-48 48-48h48V32c0-17.7 14.3-32 32-32zM0 192h448v272c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V192zm64 80v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16H80c-8.8 0-16 7.2-16 16zm128 0v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16h-32zM64 400v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16H80c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16h-32zm112 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16z"}))}));s.displayName="CalendarAlt"},function(e,t,n){e.exports=n(679)},function(e,t,n){"use strict";var r=n(24),i=n(37),o=n(28),a=n(64),s=n(0),l=n.n(s),c=n(2),u=n.n(c),d=n(78),f=n.n(d),p=n(67),m={href:u.a.string,onClick:u.a.func,onKeyDown:u.a.func,disabled:u.a.bool,role:u.a.string,tabIndex:u.a.oneOfType([u.a.number,u.a.string]),componentClass:f.a};function h(e){return!e||"#"===e.trim()}var g=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).handleClick=r.handleClick.bind(Object(a.a)(Object(a.a)(r))),r.handleKeyDown=r.handleKeyDown.bind(Object(a.a)(Object(a.a)(r))),r}Object(o.a)(t,e);var n=t.prototype;return n.handleClick=function(e){var t=this.props,n=t.disabled,r=t.href,i=t.onClick;(n||h(r))&&e.preventDefault(),n?e.stopPropagation():i&&i(e)},n.handleKeyDown=function(e){" "===e.key&&(e.preventDefault(),this.handleClick(e))},n.render=function(){var e=this.props,t=e.componentClass,n=e.disabled,o=e.onKeyDown,a=Object(i.a)(e,["componentClass","disabled","onKeyDown"]);return h(a.href)&&(a.role=a.role||"button",a.href=a.href||"#"),n&&(a.tabIndex=-1,a.style=Object(r.a)({pointerEvents:"none"},a.style)),l.a.createElement(t,Object(r.a)({},a,{onClick:this.handleClick,onKeyDown:Object(p.a)(this.handleKeyDown,o)}))},t}(l.a.Component);g.propTypes=m,g.defaultProps={componentClass:"a"},t.a=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMobile=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},t.enableScrollForSelector=function(e){const t=document.querySelector(e);let n=null;function r(e){const r=e.targetTouches[0].clientY-n;0===t.scrollTop&&r>0&&e.preventDefault(),t.scrollHeight-t.scrollTop<=t.clientHeight&&r<0&&e.preventDefault()}t.addEventListener("touchstart",(function(e){1===e.targetTouches.length&&(n=e.targetTouches[0].clientY)}),!1),t.addEventListener("touchmove",(function(e){1===e.targetTouches.length&&r(e)}),!1)}},function(e,t,n){"use strict";var r=n(186),i=n(84),o=n(0),a=n.n(o),s=n(268),l=n.n(s),c=n(47),u=n(242),d=function(e){var t=e.operator,n=Object(i.a)();if(t){var o=n.formatMessage({id:"components.StopViewer.operatorLogoAriaLabel"},{operatorName:t.name});return t.logo?a.a.createElement("span",{className:t.name?t.name.replace(/\s+/g,"-").toLowerCase():""},a.a.createElement(u.a,{alt:o,operator:t,styled:!0})):a.a.createElement(a.a.Fragment,null,a.a.createElement(r.a,null),a.a.createElement(c.a,null,o))}return null};t.a=function(e){var t,n=e.loading,r=void 0!==n&&n,i=e.stopData,o=e.transitOperators,s=i&&(null===(t=i.stoptimesForPatterns)||void 0===t?void 0:t.reduce((function(e,t){var n,r=null===(n=t.pattern.route.agency)||void 0===n?void 0:n.gtfsId;return r?e.add(r):e}),new Set))||new Set;return a.a.createElement(a.a.Fragment,null,r?a.a.createElement(l.a,{height:20,style:{marginRight:"0.5ch"},width:20}):null==o?void 0:o.filter((function(e){return Array.from(s).includes(e.agencyId)})).filter((function(e,t,n){return t===n.findIndex((function(t){return(null==t?void 0:t.name)===(null==e?void 0:e.name)}))})).map((function(e){return a.a.createElement(d,{key:e.agencyId,operator:e})})))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(e){this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.before=null}var t=e.prototype;return t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)==0){var t,n=function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}(this);t=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(n,t),this.tags.push(n)}var r=this.tags[this.tags.length-1];if(this.isSpeedy){var i=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(r);try{var o=105===e.charCodeAt(1)&&64===e.charCodeAt(0);i.insertRule(e,o?0:i.cssRules.length)}catch(e){0}}else r.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];function r(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}return(0,o.default)(r)};var r,i=n(359),o=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function e(t,n,o){void 0===o&&(o=[]);var s=t.displayName||t.name||"Component",l=i.isReactComponent(t),c=Object.keys(n),u=c.map(i.defaultKey);!l&&o.length&&invariant(!1);var d=function(e){var o,s;function d(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).handlers=Object.create(null),c.forEach((function(e){var r=n[e];t.handlers[r]=function(n){if(t.props[r]){var i;t._notifying=!0;for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];(i=t.props)[r].apply(i,[n].concat(a)),t._notifying=!1}t._values[e]=n,t.unmounted||t.forceUpdate()}})),l&&(t.attachRef=function(e){t.inner=e}),t}s=e,(o=d).prototype=Object.create(s.prototype),o.prototype.constructor=o,o.__proto__=s;var f=d.prototype;return f.shouldComponentUpdate=function(){return!this._notifying},f.componentWillMount=function(){var e=this,t=this.props;this._values=Object.create(null),c.forEach((function(n){e._values[n]=t[i.defaultKey(n)]}))},f.componentWillReceiveProps=function(e){var t=this,n=this.props;c.forEach((function(r){!i.isProp(e,r)&&i.isProp(n,r)&&(t._values[r]=e[i.defaultKey(r)])}))},f.componentWillUnmount=function(){this.unmounted=!0},f.getControlledInstance=function(){return this.inner},f.render=function(){var e=this,n=a({},this.props);u.forEach((function(e){delete n[e]}));var i={};return c.forEach((function(t){var n=e.props[t];i[t]=void 0!==n?n:e._values[t]})),r.default.createElement(t,a({},n,i,this.handlers,{ref:this.attachRef}))},d}(r.default.Component);return d.displayName="Uncontrolled("+s+")",d.propTypes=i.uncontrolledPropTypes(n,s),o.forEach((function(e){d.prototype[e]=function(){var t;return(t=this.inner)[e].apply(t,arguments)}})),d.ControlledComponent=t,d.deferControlTo=function(t,r,i){return void 0===r&&(r={}),e(t,a({},n,r),i)},d};var r=o(n(0)),i=(o(n(118)),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(707)));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}e.exports=t.default},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4),i=n.n(r),o=n(0),a=n(10),s=o.forwardRef((function(e,t){return o.createElement(a.a,i()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 448 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M144 144v48h160v-48c0-44.2-35.8-80-80-80s-80 35.8-80 80zm-64 48v-48C80 64.5 144.5 0 224 0s144 64.5 144 144v48h16c35.3 0 64 28.7 64 64v192c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V256c0-35.3 28.7-64 64-64h16z"}))}));s.displayName="Lock"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n,r,i,o){var a=r||"<<anonymous>>",s=o||n;if(null==t[n])return new Error("The "+i+" `"+s+"` is required to make `"+a+"` accessible for users of assistive technologies such as screen readers.");for(var l=arguments.length,c=Array(l>5?l-5:0),u=5;u<l;u++)c[u-5]=arguments[u];return e.apply(void 0,[t,n,r,i,o].concat(c))}},e.exports=t.default},function(e,t,n){"use strict";function r(e,t=.1){const n=e.getCanvas(),r=e.getPixelRatio(),i=n.width*t/r,o=n.height*t/r;return{bottom:o,left:i,right:i,top:o}}Object.defineProperty(t,"__esModule",{value:!0}),t.getFitBoundsPadding=r,t.fitMapBounds=function(e,t){e.fitBounds(t,{duration:500,padding:r(e)}),e.triggerRepaint()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4),i=n.n(r),o=n(0),a=n(10),s=o.forwardRef((function(e,t){return o.createElement(a.a,i()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0 0 114.6 0 256s114.6 256 256 256zm-86.2-346.7c7.9-22.3 29.1-37.3 52.8-37.3h58.3c34.9 0 63.1 28.3 63.1 63.1 0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6-13.3 0-24-10.7-24-24v-13.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1 0-8.4-6.8-15.1-15.1-15.1h-58.3c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM288 352c0 17.7-14.3 32-32 32s-32-14.3-32-32 14.3-32 32-32 32 14.3 32 32z"}))}));s.displayName="QuestionCircle"},function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r,i=n(784),o=n(782),a=n(69),s=n(0),l=n.n(s),c=n(1),u=n(26),d=n(47);var f,p,m="network-connection-banner",h=250,g=c.default.div(r||(f=["\n  ."," {\n    background: ",";\n    border-left: 1px solid #e7e7e7;\n    border-right: 1px solid #e7e7e7;\n    color: #fff;\n    font-weight: 600;\n    padding: 5px;\n    position: absolute;\n    text-align: center;\n    top: 50px;\n    width: 100%;\n    // When banner is fully loaded, set z-index higher than nav so we're not seeing the nav border.\n    z-index: 26;\n\n    @media (max-width: 768px) {\n      border: 0;\n    }\n  }\n  .","-enter {\n    opacity: 0;\n    transform: translateY(-100%);\n  }\n  .","-enter-active {\n    opacity: 1;\n    transform: translateY(0);\n    transition: opacity ","ms ease-in;\n  }\n  .","-exit {\n    opacity: 1;\n    transform: translateY(0);\n    z-index: 20;\n  }\n  .","-exit-active {\n    opacity: 0;\n    transform: translateY(-100%);\n    transition: opacity ","ms ease-in, transform ","ms ease-in;\n    z-index: 20;\n  }\n"],p||(p=f.slice(0)),r=Object.freeze(Object.defineProperties(f,{raw:{value:Object.freeze(p)}}))),m,u.f,m,m,h,m,m,h,h),y=function(e){var t=e.networkConnectionLost,n=Object(s.useRef)(null);return l.a.createElement(g,null,l.a.createElement(d.a,{"aria-live":"assertive",role:"status"},t?l.a.createElement(a.a,{id:"components.AppMenu.networkConnectionLost"}):l.a.createElement(a.a,{id:"components.AppMenu.networkConnectionRestored"})),l.a.createElement(i.a,{style:{display:"content"}},t&&l.a.createElement(o.a,{classNames:m,nodeRef:n,timeout:h},l.a.createElement("div",{className:m,ref:n},l.a.createElement(a.a,{id:"components.AppMenu.networkConnectionLost"})))))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4),i=n.n(r),o=n(0),a=n(10),s=o.forwardRef((function(e,t){return o.createElement(a.a,i()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"m57.7 193 9.4 16.4c8.3 14.5 21.9 25.2 38 29.8l57.9 16.5c17.2 4.9 29 20.6 29 38.5v39.9c0 11 6.2 21 16 25.9s16 14.9 16 25.9v39c0 15.6 14.9 26.9 29.9 22.6 16.1-4.6 28.6-17.5 32.7-33.8l2.8-11.2c4.2-16.9 15.2-31.4 30.3-40l8.1-4.6c15-8.5 24.2-24.5 24.2-41.7v-8.3c0-12.7-5.1-24.9-14.1-33.9l-3.9-3.9c-9-9-21.2-14.1-33.9-14.1H257c-11.1 0-22.1-2.9-31.8-8.4l-34.5-19.7c-4.3-2.5-7.6-6.5-9.2-11.2-3.2-9.6 1.1-20 10.2-24.5l5.9-3c6.6-3.3 14.3-3.9 21.3-1.5l23.2 7.7c8.2 2.7 17.2-.4 21.9-7.5 4.7-7 4.2-16.3-1.2-22.8l-13.6-16.3c-10-12-9.9-29.5.3-41.3l15.7-18.3c8.8-10.3 10.2-25 3.5-36.7l-2.4-4.2c-3.5-.2-6.9-.3-10.4-.3-92.8 0-171.5 60.9-198.2 145zM464 256c0-36.8-9.6-71.4-26.4-101.5L412 164.8c-15.7 6.3-23.8 23.8-18.5 39.8l16.9 50.7c3.5 10.4 12 18.3 22.6 20.9l29.1 7.3c1.2-9 1.8-18.2 1.8-27.5zm48 0c0 141.4-114.6 256-256 256S0 397.4 0 256 114.6 0 256 0s256 114.6 256 256z"}))}));s.displayName="GlobeAmericas"},function(e,t,n){"use strict";var r=n(8),i=n(89),o=n(325),a=n(84),s=n(0),l=n.n(s),c=n(21),u=n(54),d=n(182),f={setLocale:c.h};t.a=Object(r.c)((function(e){return{languageOptions:Object(u.e)(e.otp.config.language),locale:e.otp.ui.locale}}),f)((function(e){var t=e.languageOptions,n=e.locale,r=e.setLocale,s=Object(a.a)();return t?l.a.createElement("li",null,l.a.createElement(i.a,{className:"navBarItem",id:"locale-selector",label:s.formatMessage({id:"components.SubNav.selectALanguage"}),listLabel:s.formatMessage({id:"components.SubNav.languages"}),style:{display:"block ruby"},text:l.a.createElement(o.a,null)},Object.keys(t).map((function(e){return l.a.createElement("li",{key:e,lang:e},l.a.createElement(d.a,{"aria-selected":e===n||void 0,onClick:function(){return r(e)},role:"option"},t[e].name))})))):null}))},function(e,t,n){"use strict";var r,i=n(26),o=n(0),a=n.n(o);var s,l,c=n(1).default.button(r||(s=["\n  background: transparent;\n  border: none;\n  color: white;\n  display: block;\n  float: right;\n  line-height: 20px;\n  padding: 15px;\n  transition: all 0.1s ease-in-out;\n\n  &:hover,\n  &[aria-expanded='true'] {\n    background: rgba(0, 0, 0, 0.05);\n    color: ",";\n    cursor: pointer;\n  }\n  &.active {\n    background: rgba(0, 0, 0, 0.05);\n  }\n"],l||(l=s.slice(0)),r=Object.freeze(Object.defineProperties(s,{raw:{value:Object.freeze(l)}}))),i.j[50]);t.a=function(e){var t=e.children,n=e.className,r=e.onClick,i=e.title;return a.a.createElement("li",{className:n},a.a.createElement(c,{className:"navItem",onClick:r,title:i},t))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4),i=n.n(r),o=n(0),a=n(10),s=o.forwardRef((function(e,t){return o.createElement(a.a,i()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 448 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M152 64h144V24c0-13.25 10.7-24 24-24s24 10.75 24 24v40h40c35.3 0 64 28.65 64 64v320c0 35.3-28.7 64-64 64H64c-35.35 0-64-28.7-64-64V128c0-35.35 28.65-64 64-64h40V24c0-13.25 10.7-24 24-24s24 10.75 24 24v40zM48 448c0 8.8 7.16 16 16 16h320c8.8 0 16-7.2 16-16V192H48v256z"}))}));s.displayName="Calendar"},function(e,t,n){"use strict";var r=n(28),i=n(2),o=n.n(i),a=n(0),s=n.n(a),l={label:o.a.string.isRequired,onClick:o.a.func},c=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.label,n=e.onClick;return s.a.createElement("button",{type:"button",className:"close",onClick:n},s.a.createElement("span",{"aria-hidden":"true"},""),s.a.createElement("span",{className:"sr-only"},t))},t}(s.a.Component);c.propTypes=l,c.defaultProps={label:"Close"},t.a=c},function(e,t,n){"use strict";var r=n(36);t.__esModule=!0,t.default=function(e){if((!i&&0!==i||e)&&o.default){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),i=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return i};var i,o=r(n(163));e.exports=t.default},function(e,t,n){"use strict";var r={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},i=function(e,t,n){var i,o=r[e];return i="string"==typeof o?o:1===t?o.one:o.other.replace("{{count}}",t.toString()),null!=n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function o(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var a={date:o({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:o({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:o({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},s={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function l(e){return function(t,n){var r;if("formatting"===(null!=n&&n.context?String(n.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=null!=n&&n.width?String(n.width):i;r=e.formattingValues[o]||e.formattingValues[i]}else{var a=e.defaultWidth,s=null!=n&&n.width?String(n.width):e.defaultWidth;r=e.values[s]||e.values[a]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function c(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;var a,s=o[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?d(l,(function(e){return e.test(s)})):u(l,(function(e){return e.test(s)}));a=e.valueCallback?e.valueCallback(c):c,a=n.valueCallback?n.valueCallback(a):a;var f=t.slice(s.length);return{value:a,rest:f}}}function u(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function d(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}var f,p={code:"en-US",formatDistance:i,formatLong:a,formatRelative:function(e,t,n,r){return s[e]},localize:{ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:l({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:l({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:l({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:l({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:l({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(f={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(f.matchPattern);if(!n)return null;var r=n[0],i=e.match(f.parsePattern);if(!i)return null;var o=f.valueCallback?f.valueCallback(i[0]):i[0];o=t.valueCallback?t.valueCallback(o):o;var a=e.slice(r.length);return{value:o,rest:a}}),era:c({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:c({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:c({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:c({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:c({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};t.a=p},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(79);function i(e){var t=function(e,t){if("object"!==Object(r.a)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Object(r.a)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Object(r.a)(t)?t:String(t)}},function(e,t,n){"use strict";var r=n(24),i=n(37),o=n(28),a=n(400),s=n.n(a),l=n(29),c=n.n(l),u=n(232),d=n.n(u),f=n(0),p=n.n(f),m=n(2),h=n.n(m),g=n(161),y=n.n(g);function v(e){return""+e.charAt(0).toUpperCase()+e.slice(1)}var b,w=n(67),x={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function E(e){e.offsetHeight}var _=((b={})[g.EXITED]="collapse",b[g.EXITING]="collapsing",b[g.ENTERING]="collapsing",b[g.ENTERED]="collapse in",b),A={in:h.a.bool,mountOnEnter:h.a.bool,unmountOnExit:h.a.bool,appear:h.a.bool,timeout:h.a.number,onEnter:h.a.func,onEntering:h.a.func,onEntered:h.a.func,onExit:h.a.func,onExiting:h.a.func,onExited:h.a.func,dimension:h.a.oneOfType([h.a.oneOf(["height","width"]),h.a.func]),getDimensionValue:h.a.func,role:h.a.string},O={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,dimension:"height",getDimensionValue:function(e,t){var n=t["offset"+v(e)],r=x[e];return n+s()(d()(t,r[0]),10)+s()(d()(t,r[1]),10)}},S=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleEnter=function(e){e.style[t.getDimension()]="0"},t.handleEntering=function(e){var n=t.getDimension();e.style[n]=t._getScrollDimensionValue(e,n)},t.handleEntered=function(e){e.style[t.getDimension()]=null},t.handleExit=function(e){var n=t.getDimension();e.style[n]=t.props.getDimensionValue(n,e)+"px",E(e)},t.handleExiting=function(e){e.style[t.getDimension()]="0"},t}Object(o.a)(t,e);var n=t.prototype;return n.getDimension=function(){return"function"==typeof this.props.dimension?this.props.dimension():this.props.dimension},n._getScrollDimensionValue=function(e,t){return e["scroll"+v(t)]+"px"},n.render=function(){var e=this,t=this.props,n=t.onEnter,o=t.onEntering,a=t.onEntered,s=t.onExit,l=t.onExiting,u=t.className,d=t.children,f=Object(i.a)(t,["onEnter","onEntering","onEntered","onExit","onExiting","className","children"]);delete f.dimension,delete f.getDimensionValue;var m=Object(w.a)(this.handleEnter,n),h=Object(w.a)(this.handleEntering,o),g=Object(w.a)(this.handleEntered,a),v=Object(w.a)(this.handleExit,s),b=Object(w.a)(this.handleExiting,l);return p.a.createElement(y.a,Object(r.a)({},f,{"aria-expanded":f.role?f.in:null,onEnter:m,onEntering:h,onEntered:g,onExit:v,onExiting:b}),(function(t,n){return p.a.cloneElement(d,Object(r.a)({},n,{className:c()(u,d.props.className,_[t],"width"===e.getDimension()&&"width")}))}))},t}(p.a.Component);S.propTypes=A,S.defaultProps=O;t.a=S},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(5),i=n(135),o=n(235),a=n(3),s=n(11),l=n(53);function c(e,t){var n,r,c,u,d,f,p,m;Object(a.a)(1,arguments);var h=Object(l.a)(),g=Object(s.a)(null!==(n=null!==(r=null!==(c=null!==(u=null==t?void 0:t.firstWeekContainsDate)&&void 0!==u?u:null==t||null===(d=t.locale)||void 0===d||null===(f=d.options)||void 0===f?void 0:f.firstWeekContainsDate)&&void 0!==c?c:h.firstWeekContainsDate)&&void 0!==r?r:null===(p=h.locale)||void 0===p||null===(m=p.options)||void 0===m?void 0:m.firstWeekContainsDate)&&void 0!==n?n:1),y=Object(o.a)(e,t),v=new Date(0);v.setUTCFullYear(y,0,g),v.setUTCHours(0,0,0,0);var b=Object(i.a)(v,t);return b}var u=6048e5;function d(e,t){Object(a.a)(1,arguments);var n=Object(r.a)(e),o=Object(i.a)(n,t).getTime()-c(n,t).getTime();return Math.round(o/u)+1}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(5),i=n(142),o=n(301),a=n(3);function s(e){Object(a.a)(1,arguments);var t=Object(o.a)(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=Object(i.a)(n);return r}var l=6048e5;function c(e){Object(a.a)(1,arguments);var t=Object(r.a)(e),n=Object(i.a)(t).getTime()-s(t).getTime();return Math.round(n/l)+1}},function(e,t,n){var r,i,o;!function(n,a){"use strict";"object"==typeof e.exports?e.exports=a():(i=[],void 0===(o="function"==typeof(r=a)?r.apply(t,i):r)||(e.exports=o))}(0,(function(){"use strict";var e=Object.prototype.toString;function t(e,t){return null!=e&&Object.prototype.hasOwnProperty.call(e,t)}function n(e){if(!e)return!0;if(i(e)&&0===e.length)return!0;if("string"!=typeof e){for(var n in e)if(t(e,n))return!1;return!0}return!1}function r(t){return e.call(t)}var i=Array.isArray||function(t){return"[object Array]"===e.call(t)};function o(e){var t=parseInt(e);return t.toString()===e?t:e}function a(e){var a,s,l=function(e){return Object.keys(l).reduce((function(t,n){return"create"===n||"function"==typeof l[n]&&(t[n]=l[n].bind(l,e)),t}),{})};function c(e,t){if(a(e,t))return e[t]}function u(e,t,n,r){if("number"==typeof t&&(t=[t]),!t||0===t.length)return e;if("string"==typeof t)return u(e,t.split(".").map(o),n,r);var i=t[0],a=s(e,i);return 1===t.length?(void 0!==a&&r||(e[i]=n),a):(void 0===a&&("number"==typeof t[1]?e[i]=[]:e[i]={}),u(e[i],t.slice(1),n,r))}return a=(e=e||{}).includeInheritedProps?function(){return!0}:function(e,n){return"number"==typeof n&&Array.isArray(e)||t(e,n)},s=e.includeInheritedProps?function(e,t){"string"!=typeof t&&"number"!=typeof t&&(t=String(t));var n=c(e,t);if("__proto__"===t||"prototype"===t||"constructor"===t&&"function"==typeof n)throw new Error("For security reasons, object's magic properties cannot be set");return n}:function(e,t){return c(e,t)},l.has=function(n,r){if("number"==typeof r?r=[r]:"string"==typeof r&&(r=r.split(".")),!r||0===r.length)return!!n;for(var a=0;a<r.length;a++){var s=o(r[a]);if(!("number"==typeof s&&i(n)&&s<n.length||(e.includeInheritedProps?s in Object(n):t(n,s))))return!1;n=n[s]}return!0},l.ensureExists=function(e,t,n){return u(e,t,n,!0)},l.set=function(e,t,n,r){return u(e,t,n,r)},l.insert=function(e,t,n,r){var o=l.get(e,t);r=~~r,i(o)||(o=[],l.set(e,t,o)),o.splice(r,0,n)},l.empty=function(e,t){var o,s;if(!n(t)&&(null!=e&&(o=l.get(e,t)))){if("string"==typeof o)return l.set(e,t,"");if(function(e){return"boolean"==typeof e||"[object Boolean]"===r(e)}(o))return l.set(e,t,!1);if("number"==typeof o)return l.set(e,t,0);if(i(o))o.length=0;else{if(!function(e){return"object"==typeof e&&"[object Object]"===r(e)}(o))return l.set(e,t,null);for(s in o)a(o,s)&&delete o[s]}}},l.push=function(e,t){var n=l.get(e,t);i(n)||(n=[],l.set(e,t,n)),n.push.apply(n,Array.prototype.slice.call(arguments,2))},l.coalesce=function(e,t,n){for(var r,i=0,o=t.length;i<o;i++)if(void 0!==(r=l.get(e,t[i])))return r;return n},l.get=function(e,t,n){if("number"==typeof t&&(t=[t]),!t||0===t.length)return e;if(null==e)return n;if("string"==typeof t)return l.get(e,t.split("."),n);var r=o(t[0]),i=s(e,r);return void 0===i?n:1===t.length?i:l.get(e[r],t.slice(1),n)},l.del=function(e,t){if("number"==typeof t&&(t=[t]),null==e)return e;if(n(t))return e;if("string"==typeof t)return l.del(e,t.split("."));var r=o(t[0]);return s(e,r),a(e,r)?1!==t.length?l.del(e[r],t.slice(1)):(i(e)?e.splice(r,1):delete e[r],e):e},l}var s=a();return s.create=a,s.withInheritedProps=a({includeInheritedProps:!0}),s}))},function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",(function(){return r}))},,function(e,t,n){"use strict";var r,i=n(783),o=n(130),a=n(84),s=n(7),l=n(0),c=n.n(l),u=n(1),d=n(20),f=n(110);var p,m,h=u.default.button(r||(p=["\n  &.close-button {\n    padding: 0.25em;\n    right: 0.75em;\n    top: 0.5em;\n  }\n"],m||(m=p.slice(0)),r=Object.freeze(Object.defineProperties(p,{raw:{value:Object.freeze(m)}})))),g=s.default.ui.isMobile();t.a=function(e){var t=e.content,n=e.hideModal,r=Object(a.a)(),s=t||{},u=s.appendLocale,p=s.id,m=s.modal,y=s.url,v=r.formatMessage({id:"common.forms.close"}),b=!g&&m,w=!!y,x="".concat(y).concat(!1!==u?r.defaultLocale:"");Object(l.useEffect)((function(){!b&&w&&(window.open(x,"_blank"),n())}),[x,n,b,w]);var E=p?r.formatMessage({id:"config.popups.".concat(p)}):"",_=Array.from(document.getElementsByClassName("navItem")).reverse().find((function(e){return e.innerText===E})),A=Object(l.useCallback)((function(){n(),null==_||_.focus()}),[_,n]);return x&&b?c.a.createElement(i.a,{"aria-label":E,dialogClassName:"fullscreen-modal",onEscapeKeyDown:A,onHide:A,role:"presentation",show:w},c.a.createElement(h,{"aria-label":v,className:"clear-button-formatting close-button",onClick:A,title:v},c.a.createElement(d.c,null,c.a.createElement(o.a,null))),c.a.createElement(f.a,{title:E}),c.a.createElement("iframe",{src:x,title:E})):null}},function(e,t,n){"use strict";n.d(t,"b",(function(){return b}));var r,i=n(1057),o=n(1058),a=n(0),s=n.n(a),l=n(234),c=n(1055),u=n(149),d=n(69),f=n(1),p=n(20);var m,h,g=Object(f.default)(c.a)(r||(m=["\n  margin-top: 25px;\n"],h||(h=m.slice(0)),r=Object.freeze(Object.defineProperties(m,{raw:{value:Object.freeze(h)}})))),y=function(){return s.a.createElement(g,{bsStyle:"warning"},s.a.createElement("h1",null,s.a.createElement(p.b,{Icon:u.ExclamationTriangle},s.a.createElement(d.a,{id:"components.NotFound.header"}))),s.a.createElement("p",null,s.a.createElement(d.a,{id:"components.NotFound.description"})))},v=function(e){var t=e.children,n=e.SubNav;return s.a.createElement("div",{className:"otp",id:"otp"},s.a.createElement(l.a,null),n&&s.a.createElement(n,null),s.a.createElement("main",{tabIndex:-1},s.a.createElement("div",{className:"container"},s.a.createElement(i.a,null,s.a.createElement(o.a,{md:8,mdOffset:2,sm:10,smOffset:1,xs:12},t)))))};function b(e){return function(){return s.a.createElement(v,null,e?s.a.createElement(e,null):s.a.createElement(y,null))}}t.a=v},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"Headers",(function(){return m})),n.d(t,"Request",(function(){return x})),n.d(t,"Response",(function(){return _})),n.d(t,"DOMException",(function(){return O})),n.d(t,"fetch",(function(){return S}));var r="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==e&&e||{},i="URLSearchParams"in r,o="Symbol"in r&&"iterator"in Symbol,a="FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),s="FormData"in r,l="ArrayBuffer"in r;if(l)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&c.indexOf(Object.prototype.toString.call(e))>-1};function d(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function f(e){return"string"!=typeof e&&(e=String(e)),e}function p(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return o&&(t[Symbol.iterator]=function(){return t}),t}function m(e){this.map={},e instanceof m?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){if(2!=e.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function h(e){if(!e._noBody)return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function g(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function y(e){var t=new FileReader,n=g(t);return t.readAsArrayBuffer(e),n}function v(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:a&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:s&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:i&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():l&&a&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=v(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=v(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=h(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(a)return this.blob().then(y);throw new Error("could not read as ArrayBuffer")},this.text=function(){var e,t,n,r,i,o=h(this);if(o)return o;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=g(t),r=/charset=([A-Za-z0-9_-]+)/.exec(e.type),i=r?r[1]:"utf-8",t.readAsText(e,i),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(E)}),this.json=function(){return this.text().then(JSON.parse)},this}m.prototype.append=function(e,t){e=d(e),t=f(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},m.prototype.delete=function(e){delete this.map[d(e)]},m.prototype.get=function(e){return e=d(e),this.has(e)?this.map[e]:null},m.prototype.has=function(e){return this.map.hasOwnProperty(d(e))},m.prototype.set=function(e,t){this.map[d(e)]=f(t)},m.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},m.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),p(e)},m.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),p(e)},m.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),p(e)},o&&(m.prototype[Symbol.iterator]=m.prototype.entries);var w=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function x(e,t){if(!(this instanceof x))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,i,o=(t=t||{}).body;if(e instanceof x){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new m(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new m(t.headers)),this.method=(n=t.method||this.method||"GET",i=n.toUpperCase(),w.indexOf(i)>-1?i:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in r)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(o),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var a=/([?&])_=[^&]*/;if(a.test(this.url))this.url=this.url.replace(a,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function E(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function _(e,t){if(!(this instanceof _))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new m(t.headers),this.url=t.url||"",this._initBody(e)}x.prototype.clone=function(){return new x(this,{body:this._bodyInit})},b.call(x.prototype),b.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},_.error=function(){var e=new _(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var A=[301,302,303,307,308];_.redirect=function(e,t){if(-1===A.indexOf(t))throw new RangeError("Invalid status code");return new _(null,{status:t,headers:{location:e}})};var O=r.DOMException;try{new O}catch(e){(O=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),O.prototype.constructor=O}function S(e,t){return new Promise((function(n,i){var o=new x(e,t);if(o.signal&&o.signal.aborted)return i(new O("Aborted","AbortError"));var s=new XMLHttpRequest;function c(){s.abort()}if(s.onload=function(){var e,t,r={statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new m,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();try{t.append(r,i)}catch(e){console.warn("Response "+e.message)}}})),t)};0===o.url.indexOf("file://")&&(s.status<200||s.status>599)?r.status=200:r.status=s.status,r.url="responseURL"in s?s.responseURL:r.headers.get("X-Request-URL");var i="response"in s?s.response:s.responseText;setTimeout((function(){n(new _(i,r))}),0)},s.onerror=function(){setTimeout((function(){i(new TypeError("Network request failed"))}),0)},s.ontimeout=function(){setTimeout((function(){i(new TypeError("Network request timed out"))}),0)},s.onabort=function(){setTimeout((function(){i(new O("Aborted","AbortError"))}),0)},s.open(o.method,function(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}(o.url),!0),"include"===o.credentials?s.withCredentials=!0:"omit"===o.credentials&&(s.withCredentials=!1),"responseType"in s&&(a?s.responseType="blob":l&&(s.responseType="arraybuffer")),t&&"object"==typeof t.headers&&!(t.headers instanceof m||r.Headers&&t.headers instanceof r.Headers)){var u=[];Object.getOwnPropertyNames(t.headers).forEach((function(e){u.push(d(e)),s.setRequestHeader(e,f(t.headers[e]))})),o.headers.forEach((function(e,t){-1===u.indexOf(t)&&s.setRequestHeader(t,e)}))}else o.headers.forEach((function(e,t){s.setRequestHeader(t,e)}));o.signal&&(o.signal.addEventListener("abort",c),s.onreadystatechange=function(){4===s.readyState&&o.signal.removeEventListener("abort",c)}),s.send(void 0===o._bodyInit?null:o._bodyInit)}))}S.polyfill=!0,r.fetch||(r.fetch=S,r.Headers=m,r.Request=x,r.Response=_)}.call(this,n(93))},function(e,t,n){"use strict";var r=n(565);e.exports=Function.prototype.bind||r},function(e,t,n){"use strict";var r=n(218)("%Object.defineProperty%",!0)||!1;if(r)try{r({},"a",{value:1})}catch(e){r=!1}e.exports=r},function(e,t,n){"use strict";var r=String.prototype.replace,i=/%20/g,o="RFC1738",a="RFC3986";e.exports={default:a,formatters:{RFC1738:function(e){return r.call(e,i,"+")},RFC3986:function(e){return String(e)}},RFC1738:o,RFC3986:a}},function(e,t,n){"use strict";var r=n(36).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,o.default)(1,arguments);var t=1,n=(0,i.default)(e),r=n.getUTCDay(),a=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-a),n.setUTCHours(0,0,0,0),n};var i=r(n(146)),o=r(n(117));e.exports=t.default},function(e,t,n){"use strict";var r=n(36).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n,r,l,c,u,d,f,p;(0,o.default)(1,arguments);var m=(0,s.getDefaultOptions)(),h=(0,a.default)(null!==(n=null!==(r=null!==(l=null!==(c=null==t?void 0:t.weekStartsOn)&&void 0!==c?c:null==t||null===(u=t.locale)||void 0===u||null===(d=u.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==l?l:m.weekStartsOn)&&void 0!==r?r:null===(f=m.locale)||void 0===f||null===(p=f.options)||void 0===p?void 0:p.weekStartsOn)&&void 0!==n?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=(0,i.default)(e),y=g.getUTCDay(),v=(y<h?7:0)+y-h;return g.setUTCDate(g.getUTCDate()-v),g.setUTCHours(0,0,0,0),g};var i=r(n(146)),o=r(n(117)),a=r(n(176)),s=n(279);e.exports=t.default},function(e,t,n){var r=n(175).Symbol;e.exports=r},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){var r=n(122),i=n(431);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},function(e,t){e.exports=null},function(e,t,n){"use strict";n.r(t),n.d(t,"CaretUp",(function(){return s})),n.d(t,"CaretUpDimensions",(function(){return l}));var r=n(4),i=n.n(r),o=n(0),a=n(10),s=o.forwardRef((function(e,t){return o.createElement(a.a,i()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 320 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M182.6 137.4c-12.5-12.5-32.8-12.5-45.3 0l-128 128c-9.2 9.2-11.9 22.9-6.9 34.9S19 320.1 32 320.1h256c12.9 0 24.6-7.8 29.6-19.8s2.2-25.7-6.9-34.9l-128-128z"}))}));s.displayName="CaretUp";var l={height:512,width:320}},function(e,t,n){"use strict";n.r(t),n.d(t,"CaretDown",(function(){return s})),n.d(t,"CaretDownDimensions",(function(){return l}));var r=n(4),i=n.n(r),o=n(0),a=n(10),s=o.forwardRef((function(e,t){return o.createElement(a.a,i()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 320 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9S301 191.9 288 191.9L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"}))}));s.displayName="CaretDown";var l={height:512,width:320}},function(e,t,n){"use strict";n.r(t),n.d(t,"StreetView",(function(){return s})),n.d(t,"StreetViewDimensions",(function(){return l}));var r=n(4),i=n.n(r),o=n(0),a=n(10),s=o.forwardRef((function(e,t){return o.createElement(a.a,i()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M320 64c0-35.3-28.7-64-64-64s-64 28.7-64 64 28.7 64 64 64 64-28.7 64-64zm-96 96c-35.3 0-64 28.7-64 64v48c0 17.7 14.3 32 32 32h1.8l11.1 99.5c1.8 16.2 15.5 28.5 31.8 28.5h38.7c16.3 0 30-12.3 31.8-28.5l11-99.5h1.8c17.7 0 32-14.3 32-32v-48c0-35.3-28.7-64-64-64h-64zm-91.7 234.2c13-2.4 21.7-14.9 19.3-27.9s-14.9-21.7-27.9-19.3c-32.4 5.9-60.9 14.2-82 24.8-10.5 5.3-20.3 11.7-27.8 19.6C6.4 399.5 0 410.5 0 424c0 21.4 15.5 36.1 29.1 45 14.7 9.6 34.3 17.3 56.4 23.4C130.2 504.7 190.4 512 256 512s125.8-7.3 170.4-19.6c22.1-6.1 41.8-13.8 56.4-23.4 13.7-8.9 29.1-23.6 29.1-45 0-13.5-6.4-24.5-14-32.6-7.5-7.9-17.3-14.3-27.8-19.6-21-10.6-49.5-18.9-82-24.8-13-2.4-25.5 6.3-27.9 19.3s6.3 25.5 19.3 27.9c30.2 5.5 53.7 12.8 69 20.5 3.2 1.6 5.8 3.1 7.9 4.5 3.6 2.4 3.6 7.2 0 9.6-8.8 5.7-23.1 11.8-43 17.3C374.3 457 318.5 464 256 464s-118.3-7-157.7-17.9c-19.9-5.5-34.2-11.6-43-17.3-3.6-2.4-3.6-7.2 0-9.6 2.1-1.4 4.8-2.9 7.9-4.5 15.3-7.7 38.8-14.9 69-20.5z"}))}));s.displayName="StreetView";var l={height:512,width:512}},function(e,t,n){"use strict";n.r(t),function(e){var n=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),r="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,i=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),o="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var a=["top","right","bottom","left","width","height","size","weight"],s="undefined"!=typeof MutationObserver,l=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function a(){n&&(n=!1,e()),r&&l()}function s(){o(a)}function l(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(s,t);i=e}return l}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),s?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;a.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),c=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},u=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||i},d=y(0,0,0,0);function f(e){return parseFloat(e)||0}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+f(e["border-"+n+"-width"])}),0)}function m(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return d;var r=u(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=e["padding-"+i];t[i]=f(o)}return t}(r),o=i.left+i.right,a=i.top+i.bottom,s=f(r.width),l=f(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=p(r,"left","right")+o),Math.round(l+a)!==n&&(l-=p(r,"top","bottom")+a)),!function(e){return e===u(e).document.documentElement}(e)){var c=Math.round(s+o)-t,m=Math.round(l+a)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(m)&&(l-=m)}return y(i.left,i.top,s,l)}var h="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof u(e).SVGGraphicsElement}:function(e){return e instanceof u(e).SVGElement&&"function"==typeof e.getBBox};function g(e){return r?h(e)?function(e){var t=e.getBBox();return y(0,0,t.width,t.height)}(e):m(e):d}function y(e,t,n,r){return{x:e,y:t,width:n,height:r}}var v=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=g(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),b=function(e,t){var n,r,i,o,a,s,l,u=(r=(n=t).x,i=n.y,o=n.width,a=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(s.prototype),c(l,{x:r,y:i,width:o,height:a,top:i,right:r+o,bottom:a+i,left:r}),l);c(this,{target:e,contentRect:u})},w=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof u(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new v(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof u(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new b(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),x="undefined"!=typeof WeakMap?new WeakMap:new n,E=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=l.getInstance(),r=new w(t,n,this);x.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){E.prototype[e]=function(){var t;return(t=x.get(this))[e].apply(t,arguments)}}));var _=void 0!==i.ResizeObserver?i.ResizeObserver:E;t.default=_}.call(this,n(93))},function(e,t,n){"use strict";n(0),n(168)},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,o,a){var s=i||"<<anonymous>>",l=a||r;if(null==n[r])return t?new Error("Required "+o+" `"+l+"` was not specified in `"+s+"`."):null;for(var c=arguments.length,u=Array(c>6?c-6:0),d=6;d<c;d++)u[d-6]=arguments[d];return e.apply(void 0,[n,r,s,o,l].concat(u))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},function(e,t,n){"use strict";var r=n(36);t.__esModule=!0,t.default=void 0;var i=function(){};r(n(163)).default&&(i=document.addEventListener?function(e,t,n,r){return e.addEventListener(t,n,r||!1)}:document.attachEvent?function(e,t,n){return e.attachEvent("on"+t,(function(t){(t=t||window.event).target=t.target||t.srcElement,t.currentTarget=e,n.call(e,t)}))}:void 0);var o=i;t.default=o,e.exports=t.default},function(e,t,n){"use strict";var r=n(36);t.__esModule=!0,t.default=void 0;var i=function(){};r(n(163)).default&&(i=document.addEventListener?function(e,t,n,r){return e.removeEventListener(t,n,r||!1)}:document.attachEvent?function(e,t,n){return e.detachEvent("on"+t,n)}:void 0);var o=i;t.default=o,e.exports=t.default},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(42),l=a(n(0)),c=n(6),u=n(259),d=o(n(63)),f=n(87);function p(e){return l.default.createElement(d.LegDescriptionHeadsignPrefix,null,e)}t.default=function(e){var t=e.className,n=e.leg,r=e.style,i=n.headsign,o=n.trip,a=(null==o?void 0:o.tripHeadsign)||i,d=(0,s.getLegRouteLongName)(n),m=(0,u.compareTwoStrings)(a||"",d||"")>.25||!d;return l.default.createElement("span",{className:t,style:r},!m&&a?l.default.createElement(c.FormattedMessage,{defaultMessage:f.defaultMessages["otpUi.TransitLegBody.routeDescription"],description:"Displays the route name and destination",id:"otpUi.TransitLegBody.routeDescription",values:{headsign:a,routeName:d,toPrefix:p}}):a||d)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=t.SafeNodeList=t.SafeHTMLCollection=void 0;var r,i=n(372);var o=((r=i)&&r.__esModule?r:{default:r}).default,a=o.canUseDOM?window.HTMLElement:{};t.SafeHTMLCollection=o.canUseDOM?window.HTMLCollection:{},t.SafeNodeList=o.canUseDOM?window.NodeList:{},t.canUseDOM=o.canUseDOM;t.default=a},function(e,t,n){"use strict";n.d(t,"a",(function(){return G}));var r=n(17),i=n(0),o=n(153),a=n(126),s=n(780),l=n(781),c=n(59),u=n(103);function d(e,t){return Object.keys(e).reduce((function(n,i){return n[i]=Object(r.a)({timeZone:t},e[i]),n}),{})}function f(e,t){return Object.keys(Object(r.a)(Object(r.a)({},e),t)).reduce((function(n,i){return n[i]=Object(r.a)(Object(r.a)({},e[i]||{}),t[i]||{}),n}),{})}function p(e,t){if(!t)return e;var n=l.a.formats;return Object(r.a)(Object(r.a)(Object(r.a)({},n),e),{date:f(d(n.date,t),d(e.date||{},t)),time:f(d(n.time,t),d(e.time||{},t))})}function m(e,t,n,i,o){var a=e.locale,l=e.formats,d=e.messages,f=e.defaultLocale,m=e.defaultFormats,h=e.onError,g=e.timeZone,y=e.defaultRichTextElements;void 0===n&&(n={id:""});var v=n.id,b=n.defaultMessage;Object(s.a)(!!v,"[@formatjs/intl] An `id` must be provided to format a message. You can either:\n1. Configure your build toolchain with [babel-plugin-formatjs](https://formatjs.io/docs/tooling/babel-plugin)\nor [@formatjs/ts-transformer](https://formatjs.io/docs/tooling/ts-transformer) OR\n2. Configure your `eslint` config to include [eslint-plugin-formatjs](https://formatjs.io/docs/tooling/linter#enforce-id)\nto autofix this issue");var w=String(v),x=d&&Object.prototype.hasOwnProperty.call(d,w)&&d[w];if(Array.isArray(x)&&1===x.length&&x[0].type===u.a.literal)return x[0].value;if(!i&&x&&"string"==typeof x&&!y)return x.replace(/'\{(.*?)\}'/gi,"{$1}");if(i=Object(r.a)(Object(r.a)({},y),i||{}),l=p(l,g),m=p(m,g),!x){if((!b||a&&a.toLowerCase()!==f.toLowerCase())&&h(new c.f(n,a)),b)try{return t.getMessageFormat(b,f,m,o).format(i)}catch(e){return h(new c.d('Error formatting default message for: "'+w+'", rendering default message verbatim',a,n,e)),"string"==typeof b?b:w}return w}try{return t.getMessageFormat(x,a,l,Object(r.a)({formatters:t},o||{})).format(i)}catch(e){h(new c.d('Error formatting message: "'+w+'", using '+(b?"default message":"id")+" as fallback.",a,n,e))}if(b)try{return t.getMessageFormat(b,f,m,o).format(i)}catch(e){h(new c.d('Error formatting the default message for: "'+w+'", rendering message verbatim',a,n,e))}return"string"==typeof x?x:"string"==typeof b?b:w}var h=n(96),g=["localeMatcher","style","currency","currencyDisplay","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","currencyDisplay","currencySign","notation","signDisplay","unit","unitDisplay","numberingSystem"];function y(e,t,n){var r=e.locale,i=e.formats,o=e.onError;void 0===n&&(n={});var a=n.format,s=a&&Object(h.e)(i,"number",a,o)||{};return t(r,Object(h.d)(n,g,s))}function v(e,t,n,r){void 0===r&&(r={});try{return y(e,t,r).format(n)}catch(t){e.onError(new c.a(c.b.FORMAT_ERROR,"Error formatting number.",t))}return String(n)}function b(e,t,n,r){void 0===r&&(r={});try{return y(e,t,r).formatToParts(n)}catch(t){e.onError(new c.a(c.b.FORMAT_ERROR,"Error formatting number.",t))}return[]}var w=n(213),x=["numeric","style"];function E(e,t,n,r,i){void 0===i&&(i={}),r||(r="second"),Intl.RelativeTimeFormat||e.onError(new w.b('Intl.RelativeTimeFormat is not available in this environment.\nTry polyfilling it using "@formatjs/intl-relativetimeformat"\n',w.a.MISSING_INTL_API));try{return function(e,t,n){var r=e.locale,i=e.formats,o=e.onError;void 0===n&&(n={});var a=n.format,s=!!a&&Object(h.e)(i,"relative",a,o)||{};return t(r,Object(h.d)(n,x,s))}(e,t,i).format(n,r)}catch(t){e.onError(new c.d("Error formatting relative time.",t))}return String(n)}var _=["localeMatcher","formatMatcher","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName","hourCycle","dateStyle","timeStyle","calendar","numberingSystem"];function A(e,t,n,i){var o=e.locale,a=e.formats,s=e.onError,l=e.timeZone;void 0===i&&(i={});var c=i.format,u=Object(r.a)(Object(r.a)({},l&&{timeZone:l}),c&&Object(h.e)(a,t,c,s)),d=Object(h.d)(i,_,u);return"time"!==t||d.hour||d.minute||d.second||d.timeStyle||d.dateStyle||(d=Object(r.a)(Object(r.a)({},d),{hour:"numeric",minute:"numeric"})),n(o,d)}function O(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],o=n[1],a=void 0===o?{}:o,s="string"==typeof i?new Date(i||0):i;try{return A(e,"date",t,a).format(s)}catch(t){e.onError(new c.a(c.b.FORMAT_ERROR,"Error formatting date.",t))}return String(s)}function S(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],o=n[1],a=void 0===o?{}:o,s="string"==typeof i?new Date(i||0):i;try{return A(e,"time",t,a).format(s)}catch(t){e.onError(new c.a(c.b.FORMAT_ERROR,"Error formatting time.",t))}return String(s)}function T(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],o=n[1],a=n[2],s=void 0===a?{}:a,l=e.timeZone,u=e.locale,d=e.onError,f=Object(h.d)(s,_,l?{timeZone:l}:{});try{return t(u,f).formatRange(i,o)}catch(e){d(new c.a(c.b.FORMAT_ERROR,"Error formatting date time range.",e))}return String(i)}function I(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],o=n[1],a=void 0===o?{}:o,s="string"==typeof i?new Date(i||0):i;try{return A(e,"date",t,a).formatToParts(s)}catch(t){e.onError(new c.a(c.b.FORMAT_ERROR,"Error formatting date.",t))}return[]}function k(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],o=n[1],a=void 0===o?{}:o,s="string"==typeof i?new Date(i||0):i;try{return A(e,"time",t,a).formatToParts(s)}catch(t){e.onError(new c.a(c.b.FORMAT_ERROR,"Error formatting time.",t))}return[]}var C=["localeMatcher","type"];function M(e,t,n,r){var i=e.locale,o=e.onError;void 0===r&&(r={}),Intl.PluralRules||o(new w.b('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',w.a.MISSING_INTL_API));var a=Object(h.d)(r,C);try{return t(i,a).select(n)}catch(e){o(new c.d("Error formatting plural.",e))}return"other"}var N=["localeMatcher","type","style"],j=Date.now();function L(e,t,n,r){void 0===r&&(r={});var i=R(e,t,n,r).reduce((function(e,t){var n=t.value;return"string"!=typeof n?e.push(n):"string"==typeof e[e.length-1]?e[e.length-1]+=n:e.push(n),e}),[]);return 1===i.length?i[0]:i}function R(e,t,n,i){var o=e.locale,a=e.onError;void 0===i&&(i={}),Intl.ListFormat||a(new w.b('Intl.ListFormat is not available in this environment.\nTry polyfilling it using "@formatjs/intl-listformat"\n',w.a.MISSING_INTL_API));var s=Object(h.d)(i,N);try{var l={},u=n.map((function(e,t){if("object"==typeof e){var n=function(e){return j+"_"+e+"_"+j}(t);return l[n]=e,n}return String(e)}));return t(o,s).formatToParts(u).map((function(e){return"literal"===e.type?e:Object(r.a)(Object(r.a)({},e),{value:l[e.value]||e.value})}))}catch(e){a(new c.a(c.b.FORMAT_ERROR,"Error formatting list.",e))}return n}var D=["localeMatcher","style","type","fallback"];function P(e,t,n,r){var i=e.locale,o=e.onError;Intl.DisplayNames||o(new w.b('Intl.DisplayNames is not available in this environment.\nTry polyfilling it using "@formatjs/intl-displaynames"\n',w.a.MISSING_INTL_API));var a=Object(h.d)(r,D);try{return t(i,a).of(n)}catch(e){o(new c.a(c.b.FORMAT_ERROR,"Error formatting display name.",e))}}function B(e){var t;e.defaultRichTextElements&&"string"==typeof((t=e.messages||{})?t[Object.keys(t)[0]]:void 0)&&console.warn('[@formatjs/intl] "defaultRichTextElements" was specified but "message" was not pre-compiled. \nPlease consider using "@formatjs/cli" to pre-compile your messages for performance.\nFor more details see https://formatjs.io/docs/getting-started/message-distribution')}var F=n(396);function U(e){return{locale:e.locale,timeZone:e.timeZone,formats:e.formats,textComponent:e.textComponent,messages:e.messages,defaultLocale:e.defaultLocale,defaultFormats:e.defaultFormats,onError:e.onError,wrapRichTextChunksInFragment:e.wrapRichTextChunksInFragment,defaultRichTextElements:e.defaultRichTextElements}}function z(e){return e?Object.keys(e).reduce((function(t,n){var r=e[n];return t[n]=Object(F.c)(r)?Object(a.b)(r):r,t}),{}):e}var V=function(e,t,n,o){for(var a=[],s=4;s<arguments.length;s++)a[s-4]=arguments[s];var l=z(o),c=m.apply(void 0,Object(r.d)([e,t,n,l],a));return Array.isArray(c)?i.Children.toArray(c):c},G=function(e,t){var n=e.defaultRichTextElements,i=Object(r.c)(e,["defaultRichTextElements"]),o=z(n),s=function(e,t){var n=Object(h.b)(t),i=Object(r.a)(Object(r.a)({},h.a),e),o=i.locale,a=i.defaultLocale,s=i.onError;return o?!Intl.NumberFormat.supportedLocalesOf(o).length&&s?s(new c.e('Missing locale data for locale: "'+o+'" in Intl.NumberFormat. Using default locale: "'+a+'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details')):!Intl.DateTimeFormat.supportedLocalesOf(o).length&&s&&s(new c.e('Missing locale data for locale: "'+o+'" in Intl.DateTimeFormat. Using default locale: "'+a+'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details')):(s&&s(new c.c('"locale" was not configured, using "'+a+'" as fallback. See https://formatjs.io/docs/react-intl/api#intlshape for more details')),i.locale=i.defaultLocale||"en"),B(i),Object(r.a)(Object(r.a)({},i),{formatters:n,formatNumber:v.bind(null,i,n.getNumberFormat),formatNumberToParts:b.bind(null,i,n.getNumberFormat),formatRelativeTime:E.bind(null,i,n.getRelativeTimeFormat),formatDate:O.bind(null,i,n.getDateTimeFormat),formatDateToParts:I.bind(null,i,n.getDateTimeFormat),formatTime:S.bind(null,i,n.getDateTimeFormat),formatDateTimeRange:T.bind(null,i,n.getDateTimeFormat),formatTimeToParts:k.bind(null,i,n.getDateTimeFormat),formatPlural:M.bind(null,i,n.getPluralRules),formatMessage:m.bind(null,i,n),formatList:L.bind(null,i,n.getListFormat),formatListToParts:R.bind(null,i,n.getListFormat),formatDisplayName:P.bind(null,i,n.getDisplayNames)})}(Object(r.a)(Object(r.a)(Object(r.a)({},a.a),i),{defaultRichTextElements:o}),t);return Object(r.a)(Object(r.a)({},s),{formatMessage:V.bind(null,{locale:s.locale,timeZone:s.timeZone,formats:s.formats,defaultLocale:s.defaultLocale,defaultFormats:s.defaultFormats,messages:s.messages,onError:s.onError,defaultRichTextElements:o},s.formatters)})},H=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cache=Object(h.c)(),t.state={cache:t.cache,intl:G(U(t.props),t.cache),prevConfig:U(t.props)},t}return Object(r.b)(t,e),t.getDerivedStateFromProps=function(e,t){var n=t.prevConfig,r=t.cache,i=U(e);return Object(a.d)(n,i)?null:{intl:G(i,r),prevConfig:i}},t.prototype.render=function(){return Object(a.c)(this.state.intl),i.createElement(o.b,{value:this.state.intl},this.props.children)},t.displayName="IntlProvider",t.defaultProps=a.a,t}(i.PureComponent);t.b=H},function(e,t,n){"use strict";var r=n(317),i=n(302),o="/*|*/";function a(e){e&&s.current.insert(e+"}")}var s={current:null},l=function(e,t,n,r,i,l,c,u,d,f){switch(e){case 1:switch(t.charCodeAt(0)){case 64:return s.current.insert(t+";"),"";case 108:if(98===t.charCodeAt(2))return""}break;case 2:if(0===u)return t+o;break;case 3:switch(u){case 102:case 112:return s.current.insert(n[0]+t),"";default:return t+(0===f?o:"")}case-2:t.split("/*|*/}").forEach(a)}};t.a=function(e){void 0===e&&(e={});var t,n=e.key||"css";void 0!==e.prefix&&(t={prefix:e.prefix});var o=new i.a(t);var a,c={};a=e.container||document.head;var u,d=document.querySelectorAll("style[data-emotion-"+n+"]");Array.prototype.forEach.call(d,(function(e){e.getAttribute("data-emotion-"+n).split(" ").forEach((function(e){c[e]=!0})),e.parentNode!==a&&a.appendChild(e)})),o.use(e.stylisPlugins)(l),u=function(e,t,n,r){var i=t.name;s.current=n,o(e,t.styles),r&&(f.inserted[i]=!0)};var f={key:n,sheet:new r.a({key:n,container:a,nonce:e.nonce,speedy:e.speedy}),nonce:e.nonce,inserted:c,registered:{},insert:u};return f}},function(e,t,n){"use strict";n.r(t),n.d(t,"autocomplete",(function(){return u})),n.d(t,"bulk",(function(){return d})),n.d(t,"reverse",(function(){return f})),n.d(t,"search",(function(){return p}));var r=n(495),i=n.n(r),o=n(62);const a={};function s(e){return[e.rect.minLon,e.rect.maxLat,e.rect.maxLon,e.rect.minLat].join(",")}function l(e,t,n){const r=[e,t,n].map((e=>String(e))).join("-");return a[r]||(a[r]=new i.a({client_id:e,client_secret:t,endpoint:n})),a[r]}function c(e){return e.location?("number"!=typeof e.attributes.Score&&(e.attributes.Score=parseInt(e.attributes.Score)),{geometry:{coordinates:Object(o.toCoordinates)(e.location),type:"Point"},properties:{confidence:e.attributes.Score/100,country:e.attributes.Country,country_a:e.attributes.Country,county:e.attributes.Subregion,label:e.attributes.LongLabel,locality:e.attributes.City,name:e.attributes.ShortLabel,neighbourhood:e.attributes.Nbrhd,region:e.attributes.Region,resultId:e.attributes.ResultID},type:"Feature"}):{geometry:{coordinates:[0,0],type:"Point"},properties:{confidence:0,country:"",country_a:"",county:"",label:"Address not found",locality:"",name:"",neighbourhood:"",region:"",resultId:e.attributes.ResultID},type:"Feature"}}function u({boundary:e,clientId:t,clientSecret:n,focusPoint:r,text:i,url:a}){const c=l(t,n,a),u={};return r&&(u.location=Object(o.toString)(r)),e&&(u.searchExtent=s(e)),c.suggest(i,u).then((e=>({features:e.suggestions,query:{text:i}})))}function d({addresses:e,boundary:t,clientId:n,clientSecret:r,focusPoint:i,url:a}){const u=l(n,r,a);let d=[...e];if(t||i){const n={};t&&(n.searchExtent=s(t)),i&&(n.location=Object(o.toString)(i)),d=e.map((e=>("string"==typeof e&&(e={address:e}),Object.assign({},n,e))))}return u.geocodeAddresses(d,{}).then((e=>({features:e.locations.map(c),query:{addresses:d}})))}function f({clientId:e,clientSecret:t,forStorage:n=!1,point:r,url:i}){const a=l(e,t,i),s={};return n&&(s.forStorage=!0),a.reverse(Object(o.toString)(r),s).then((e=>({features:[{geometry:{coordinates:Object(o.toCoordinates)(e.location),type:"Point"},properties:{country_a:e.address.CountryCode,county:e.address.Subregion,label:e.address.LongLabel,locality:e.address.city,name:e.address.ShortLabel,neighbourhood:e.address.Neighborhood,region:e.address.Region},type:"Feature"}],query:Object(o.toPoint)(r)})))}function p({boundary:e,clientId:t,clientSecret:n,focusPoint:r,forStorage:i=!1,magicKey:a,size:u=10,text:d,url:f}){const p=l(t,n,f),m={outFields:"*"};return e&&(m.searchExtent=s(e)),r&&(m.location=Object(o.toString)(r)),i&&(m.forStorage=!0),a&&(m.magicKey=a),u&&(m.maxLocations=u),p.findAddressCandidates(d,m).then((e=>({features:e.candidates.map(c),query:{text:d}})))}},function(e,t,n){"use strict";n.r(t),n.d(t,"autocomplete",(function(){return c})),n.d(t,"reverse",(function(){return d})),n.d(t,"search",(function(){return u}));var r=n(56),i=n(62);"undefined"==typeof fetch&&n(554);const o="https://search.mapzen.com/v1",a=`${o}/autocomplete`,s=`${o}/reverse`,l=`${o}/search`;function c({apiKey:e,boundary:t,focusPoint:n,format:r,layers:o,options:s,sources:l="gn,oa,osm,wof",text:c,url:u=a}){const d={api_key:e,text:c};if(l&&l.length>0&&(d.sources=l),o&&(d.layers=o),n){const{lat:e,lon:t}=Object(i.normalize)(n);d["focus.point.lat"]=e,d["focus.point.lon"]=t}return t&&(t.country&&(d["boundary.country"]=t.country),t.rect&&(d["boundary.rect.min_lat"]=t.rect.minLat,d["boundary.rect.min_lon"]=t.rect.minLon,d["boundary.rect.max_lat"]=t.rect.maxLat,d["boundary.rect.max_lon"]=t.rect.maxLon)),f({format:r,options:s,query:d,url:u})}function u({apiKey:e,boundary:t,focusPoint:n,format:r,options:o,size:a=10,sources:s="gn,oa,osm,wof",text:c,url:u=l}){if(!c)return Promise.resolve([]);const d={api_key:e,size:a,text:c};if(s&&s.length>0&&(d.sources=s),n){const{lat:e,lon:t}=Object(i.normalize)(n);d["focus.point.lat"]=e,d["focus.point.lon"]=t}return t&&(t.country&&(d["boundary.country"]=t.country),t.rect&&(d["boundary.rect.min_lat"]=t.rect.minLat,d["boundary.rect.min_lon"]=t.rect.minLon,d["boundary.rect.max_lat"]=t.rect.maxLat,d["boundary.rect.max_lon"]=t.rect.maxLon)),f({format:r,options:o,query:d,url:u})}function d({apiKey:e,format:t,options:n,point:r,url:o=s}){const{lat:a,lon:l}=Object(i.normalize)(r);return f({format:t,options:n,query:{api_key:e,point:{lat:a,lon:l}},url:o})}function f({format:e=!1,options:t,query:n,url:i=l}){return fetch(`${i}?${Object(r.stringify)(n,{allowDots:!0})}`,t).then((e=>e.json())).then((t=>{let r=t;return t&&t.features&&e&&(r=t.features.map(p)),r.isomorphicMapzenSearchQuery=n,r}))}function p({geometry:e,properties:t}){return Object.assign({},t,{address:`${t.label}${t.postalcode?" "+t.postalcode:""}`,latlng:Object(i.fromCoordinates)(e.coordinates)})}const m={autocomplete:c,reverse:d,search:u};t.default=m},function(e,t){e.exports={}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(264),i=n(106),o=n(3);function a(e,t,n){return Object(o.a)(2,arguments),Object(i.a)(Object(r.a)(e,t,new Date,n))}},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},function(e,t,n){(function(t){var n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt,s="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,c=s||l||Function("return this")(),u=Object.prototype.toString,d=Math.max,f=Math.min,p=function(){return c.Date.now()};function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function h(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==u.call(e)}(e))return NaN;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var s=i.test(e);return s||o.test(e)?a(e.slice(2),s?2:8):r.test(e)?NaN:+e}e.exports=function(e,t,n){var r,i,o,a,s,l,c=0,u=!1,g=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=r,o=i;return r=i=void 0,c=t,a=e.apply(o,n)}function b(e){return c=e,s=setTimeout(x,t),u?v(e):a}function w(e){var n=e-l;return void 0===l||n>=t||n<0||g&&e-c>=o}function x(){var e=p();if(w(e))return E(e);s=setTimeout(x,function(e){var n=t-(e-l);return g?f(n,o-(e-c)):n}(e))}function E(e){return s=void 0,y&&r?v(e):(r=i=void 0,a)}function _(){var e=p(),n=w(e);if(r=arguments,i=this,l=e,n){if(void 0===s)return b(l);if(g)return s=setTimeout(x,t),v(l)}return void 0===s&&(s=setTimeout(x,t)),a}return t=h(t)||0,m(n)&&(u=!!n.leading,o=(g="maxWait"in n)?d(h(n.maxWait)||0,t):o,y="trailing"in n?!!n.trailing:y),_.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=i=s=void 0},_.flush=function(){return void 0===s?a:E(p())},_}}).call(this,n(93))},function(e,t,n){var r;!function(){"use strict";var i=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:i,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen};void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},function(e,t,n){"use strict";var r=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===i}(e)}(e)};var i="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function o(e,t){return!1!==t.clone&&t.isMergeableObject(e)?u((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function a(e,t,n){return e.concat(t).map((function(e){return o(e,n)}))}function s(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function l(e,t){try{return t in e}catch(e){return!1}}function c(e,t,n){var r={};return n.isMergeableObject(e)&&s(e).forEach((function(t){r[t]=o(e[t],n)})),s(t).forEach((function(i){(function(e,t){return l(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,i)||(l(e,i)&&n.isMergeableObject(t[i])?r[i]=function(e,t){if(!t.customMerge)return u;var n=t.customMerge(e);return"function"==typeof n?n:u}(i,n)(e[i],t[i],n):r[i]=o(t[i],n))})),r}function u(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||a,n.isMergeableObject=n.isMergeableObject||r,n.cloneUnlessOtherwiseSpecified=o;var i=Array.isArray(t);return i===Array.isArray(e)?i?n.arrayMerge(e,t,n):c(e,t,n):o(t,n)}u.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return u(e,n,t)}),{})};var d=u;e.exports=d},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(3),i=n(113);function o(e){return Object(r.a)(1,arguments),Object(i.a)(e,0)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(114),i=n(3);function o(e){return Object(i.a)(1,arguments),Object(r.a)(e,0)}},function(e,t){e.exports={otpUi:{LocationField:{beginTypingPrompt:"Begin typing to search for locations",clearLocation:"Clear location",currentLocationUnavailable:"Current location not available",fetchingLocation:"Fetching location",fetchingSuggestions:"Fetching suggestions",geocoderUnreachable:"Unable to obtain suggestions",homeLocation:"Home",howToAccessResults:"Use the down arrow key to browse the results list. To select a result, use the Enter key.",myPlaces:"My Places",nearby:"Nearby Stops",noResults:"No results",other:"Other",otherCount:"{count, plural, =1 {# other point} other {# other points}} of interest",parenthesisFormat:"{main} ({detail})",recentlySearched:"Recently Searched",resultsFound:'{results} found for "{input}".',stationCount:"{count, plural, =1 {# station} other {# stations}}",stations:"Stations",stopCount:"{count, plural, =1 {# stop} other {# stops}}",stops:"Stops",suggestedLocations:"Suggested locations",suggestedLocationsLong:"Toggle displaying the list of suggested locations",useCurrentLocation:"Use Current Location",workLocation:"Work"}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var r=n(187),i=n(8),o=n(188),a=n(153),s=n(239),l=n(0),c=n.n(l),u=n(25),d=n(131),f=n(16),p=n(52),m=n(32),h=n(20);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var x=function(e){var t=e.userLocation.icon,n=void 0===t?"marker":t,i=s.a;return"work"===n?i=r.a:"home"===n&&(i=o.a),c.a.createElement(h.c,null,c.a.createElement(i,null))};function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.actions,r=void 0===n?{}:n,o=t.excludeSavedLocations,s=void 0!==o&&o,l=t.includeLocation,c=void 0!==l&&l,h=function(e,t){var n,r,i,o=e.otp,a=o.config,l=o.currentQuery,u=o.location,d=o.transitIndex,h=u.currentPosition,g=u.nearbyStops,y=u.sessionSearches,v=Object(f.getActiveSearch)(e),w=v?v.query:l,E=!t.selfValidate||(c?Object(f.hasValidLocation)(w,t.locationType):!Object(m.i)(null===(n=t.location)||void 0===n?void 0:n.name)),_=[],A=[];if(!s){var O=Object(p.l)(e);_=O.saved,A=O.recent}var S=a.geocoder;if(S){var T,I,k,C;if(w.to&&(null===(T=w.to)||void 0===T?void 0:T.lat)&&(null===(I=w.to)||void 0===I?void 0:I.lon)){var M=w.to,N=M.lat,j=M.lon;S.focusPoint={lat:N,lon:j}}if(w.from&&(null===(k=w.from)||void 0===k?void 0:k.lat)&&(null===(C=w.from)||void 0===C?void 0:C.lon)){var L=w.from,R=L.lat,D=L.lon;S.focusPoint={lat:R,lon:D}}if(null==h?void 0:h.coords){var P=h.coords,B=P.latitude,F=P.longitude;S.focusPoint={lat:B,lon:F}}}var U={currentPosition:h,geocoderConfig:S,isValid:E,layerColorMap:(null===(r=a.geocoder)||void 0===r?void 0:r.resultsColors)||{},nearbyStops:g,sessionSearches:y,showUserSettings:Object(f.getShowUserSettings)(e),stopsIndex:d.stops,suggestionCount:null===(i=a.geocoder)||void 0===i?void 0:i.resultsCount,UserLocationIconComponent:x,userLocationsAndRecentPlaces:[].concat(b(_),b(A))};return c&&(U.location=w[t.locationType]),U},g=y({addLocationSearch:d.b,findNearbyStops:u.k,getCurrentPosition:d.c},r);return Object(i.c)(h,g)(Object(a.c)(e))}},function(e,t){e.exports={otpUi:{FromToLocationPicker:{from:"From here",planATrip:"Plan a trip:",to:"To here"}}}},function(e,t){e.exports={otpUi:{MapPopup:{availableBikes:"Available bikes: {value}",availableDocks:"Available docks: {value}",floatingBike:"Free-floating bike: {name}",floatingCar:"Car: {name}",floatingEScooter:"E-scooter: {name}",popupTitle:"{stationNetwork, select, false {{name}} other {{stationNetwork} {name}}}",stopId:"Stop ID: {stopId}",stopViewer:"Stop Viewer"}}}},function(e,t){e.exports={otpUi:{EndpointsOverlay:{clearLocation:"Remove as {locationType} location",coordinates:"{lat, number, ::.00000}, {lon, number, ::.00000}",forgetHome:"Forget home",forgetWork:"Forget work",saveAsHome:"Save as home",saveAsWork:"Save as work",swapLocation:"Change to {locationType} location"}}}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(0)),l=n(6),c=o(n(63)),u=n(87),d=a(n(472));t.default=function(e){var t,n=e.leg,r=e.onClick,i=e.stopsExpanded;return s.default.createElement(c.TransitLegSummary,{onClick:r},s.default.createElement(l.FormattedMessage,{defaultMessage:u.defaultMessages["otpUi.TransitLegBody.rideDurationAndStops"],description:"Describes ride duration and number of stops",id:"otpUi.TransitLegBody.rideDurationAndStops",values:{duration:s.default.createElement(d.default,{seconds:n.duration}),numStops:((null===(t=n.intermediateStops)||void 0===t?void 0:t.length)||0)+1}}),n.intermediateStops&&s.default.createElement(c.CaretToggle,{expanded:i}),s.default.createElement(c.InvisibleAdditionalDetails,null,s.default.createElement(l.FormattedMessage,{defaultMessage:u.defaultMessages["otpUi.TransitLegBody.expandDetails"],description:"Screen reader text to expand stops",id:"otpUi.TransitLegBody.expandDetails"})))}},function(e,t){e.exports={otpUi:{FromToLocationPicker:{from:"From here",planATrip:"Plan a trip:",to:"To here"}}}},function(e,t){e.exports={otpUi:{FromToLocationPicker:{from:"From here",planATrip:"Plan a trip:",to:"To here"}}}},function(e,t){e.exports={otpUi:{MapPopup:{availableBikes:"Available bikes: {value}",availableDocks:"Available docks: {value}",floatingBike:"Free-floating bike: {name}",floatingCar:"Car: {name}",floatingEScooter:"E-scooter: {name}",popupTitle:"{stationNetwork, select, false {{name}} other {{stationNetwork} {name}}}",stopId:"Stop ID: {stopId}",stopViewer:"Stop Viewer"}}}},function(e,t){e.exports={otpUi:{TransitVehicleOverlay:{defaultTooltip:"{route}: {duration} ago",durationWithSeconds:"{hours, plural, =0 {} other {# hr }}{minutes, plural, =0 {{seconds, plural, =0 {# min} other {}}} other {# min}}{seconds, plural, =0 {} other { # sec}}",routeTitle:"{type} {name}",transitLine:"Line"}}}},function(e,t){e.exports={otpUi:{FromToLocationPicker:{from:"From here",planATrip:"Plan a trip:",to:"To here"}}}},function(e,t){e.exports={otpUi:{MapPopup:{availableBikes:"Available bikes: {value}",availableDocks:"Available docks: {value}",floatingBike:"Free-floating bike: {name}",floatingCar:"Car: {name}",floatingEScooter:"E-scooter: {name}",popupTitle:"{stationNetwork, select, false {{name}} other {{stationNetwork} {name}}}",stopId:"Stop ID: {stopId}",stopViewer:"Stop Viewer"}}}},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l,c=s(n(1)),u=s(n(743)),d=a(n(63)),f=(0,c.default)(u.default)(l||(l=r(["\n  font-size: 16px;\n\n  *:not(.fa) {\n    box-sizing: border-box;\n    font-family: Hind, sans-serif;\n  }\n\n  "," {\n    margin-left: -18px;\n    margin-right: 3px;\n  }\n\n  "," {\n    background-color: rgb(15, 106, 172);\n    border-color: white;\n    border-image: initial;\n    border-radius: 12px;\n    border-style: solid;\n    border-width: 1px;\n    box-shadow: rgb(0, 0, 0) 0px 0px 0.25em;\n    color: white;\n    display: inline-block;\n    font-size: 14px;\n    font-weight: 500;\n    height: 24px;\n    line-height: 1.5;\n    margin-right: 8px;\n    min-width: 24px;\n    padding: 2px 3px;\n    text-align: center;\n  }\n\n  "," {\n    grid-area: line;\n    display: table-cell;\n    max-width: 20px;\n    width: 20px;\n    padding: 0;\n    position: relative;\n  }\n\n  "," {\n    grid-area: title;\n    color: #000;\n    font-size: 18px;\n    font-weight: 500;\n    line-height: 20px;\n  }\n\n  "," {\n    height: inherit;\n    white-space: normal;\n  }\n\n  "," {\n    width: 100%;\n  }\n\n  "," {\n    margin-left: -23px;\n  }\n\n  "," {\n    grid-area: time;\n    color: #676767;\n    display: table-cell;\n    font-size: 14px;\n    padding-right: 4px;\n    padding-top: 2px;\n    text-align: right;\n    vertical-align: top;\n    width: 60px;\n  }\n"],["\n  font-size: 16px;\n\n  *:not(.fa) {\n    box-sizing: border-box;\n    font-family: Hind, sans-serif;\n  }\n\n  "," {\n    margin-left: -18px;\n    margin-right: 3px;\n  }\n\n  "," {\n    background-color: rgb(15, 106, 172);\n    border-color: white;\n    border-image: initial;\n    border-radius: 12px;\n    border-style: solid;\n    border-width: 1px;\n    box-shadow: rgb(0, 0, 0) 0px 0px 0.25em;\n    color: white;\n    display: inline-block;\n    font-size: 14px;\n    font-weight: 500;\n    height: 24px;\n    line-height: 1.5;\n    margin-right: 8px;\n    min-width: 24px;\n    padding: 2px 3px;\n    text-align: center;\n  }\n\n  "," {\n    grid-area: line;\n    display: table-cell;\n    max-width: 20px;\n    width: 20px;\n    padding: 0;\n    position: relative;\n  }\n\n  "," {\n    grid-area: title;\n    color: #000;\n    font-size: 18px;\n    font-weight: 500;\n    line-height: 20px;\n  }\n\n  "," {\n    height: inherit;\n    white-space: normal;\n  }\n\n  "," {\n    width: 100%;\n  }\n\n  "," {\n    margin-left: -23px;\n  }\n\n  "," {\n    grid-area: time;\n    color: #676767;\n    display: table-cell;\n    font-size: 14px;\n    padding-right: 4px;\n    padding-top: 2px;\n    text-align: right;\n    vertical-align: top;\n    width: 60px;\n  }\n"])),d.InterlineDot,d.LegDescriptionRouteShortName,d.LineColumn,d.PlaceHeader,d.PlaceName,d.PlaceRowWrapper,d.StopMarker,d.TimeColumn);t.default=f},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(42),l=a(n(0)),c=a(n(362)),u=o(n(63));t.default=function(e){var t=e.leg,n=e.LegIcon,r=(0,s.getLegRouteShortName)(t);return l.default.createElement(u.LegDescriptionForTransit,null,l.default.createElement(u.LegIconAndRouteShortName,null,l.default.createElement(u.LegIconContainer,null,l.default.createElement(n,{leg:t})),r&&l.default.createElement(u.LegDescriptionRouteShortName,null,r)),l.default.createElement(u.LegDescriptionRouteLongName,null,l.default.createElement(c.default,{leg:t})))}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(7)),l=a(n(0)),c=n(6),u=o(n(63)),d=n(87),f=a(n(480)),p=s.default.itinerary,m=p.getDisplayedStopId,h=p.isFlex;t.default=function(e){var t=e.leg,n=e.onStopClick,r=t.from;return l.default.createElement(u.PlaceSubheader,{className:"transit-leg-subheader"},l.default.createElement(c.FormattedMessage,{defaultMessage:d.defaultMessages["otpUi.TransitLegBody.stopId"],description:"Displays the stop ID",id:"otpUi.TransitLegBody.stopId",values:{stopId:m(r)}}),!h(t)&&l.default.createElement(f.default,{onStopClick:n,stop:r.stop}))}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return(0,r.default)(e)||(t=e,t&&"body"===t.tagName.toLowerCase())?function(e){var t=(0,i.default)(e),n=(0,r.default)(t).innerWidth;if(!n){var o=t.documentElement.getBoundingClientRect();n=o.right-Math.abs(o.left)}return t.body.clientWidth<n}(e):e.scrollHeight>e.clientHeight;var t};var r=o(n(287)),i=o(n(200));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";n.r(t),n.d(t,"withResizeDetector",(function(){return V}));var r=n(0),i=n.n(r),o=n(50),a=n(354),s=n(442),l=n(2),c=n(297),u=n(441),d={debounce:c.a,throttle:u.a},f=function(e){return"function"==typeof e},p=function(){return"undefined"==typeof window};function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(a,e);var t,n,r,i,o=(t=a,function(){var e,n=w(t);if(b()){var r=w(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return v(this,e)});function a(){return h(this,a),o.apply(this,arguments)}return n=a,(r=[{key:"render",value:function(){return this.props.children}}])&&g(n.prototype,r),i&&g(n,i),a}(r.PureComponent);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?S(e):t}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(m,e);var t,n,l,c,u=(t=m,function(){var e,n=I(t);if(T()){var r=I(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return O(this,e)});function m(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),k(S(t=u.call(this,e)),"cancelHandler",(function(){t.resizeHandler&&t.resizeHandler.cancel&&(t.resizeHandler.cancel(),t.resizeHandler=null)})),k(S(t),"rafClean",(function(){t.raf&&t.raf.cancel&&(t.raf.cancel(),t.raf=null)})),k(S(t),"toggleObserver",(function(e){var n=t.getElement();n&&t.resizeObserver[e]&&t.resizeObserver[e](n)})),k(S(t),"getElement",(function(){var e=t.props,n=e.querySelector,r=e.targetDomEl;if(!p()){if(n)return document.querySelector(n);if(r&&((i=r)instanceof Element||i instanceof HTMLDocument))return r;var i,a=t.element&&Object(o.findDOMNode)(t.element);if(a)return a.parentElement}})),k(S(t),"createUpdater",(function(){return t.rafClean(),t.raf=Object(s.a)((function(e){var n=e.width,r=e.height,i=t.props.onResize;f(i)&&i(n,r),t.setState({width:n,height:r})})),t.raf})),k(S(t),"createResizeHandler",(function(e){var n=t.state,r=n.width,i=n.height,o=t.props,a=o.handleWidth,s=o.handleHeight;if(a||s){var l=t.createUpdater();e.forEach((function(e){var n=e&&e.contentRect||{},o=n.width,c=n.height,u=a&&r!==o||s&&i!==c;!t.skipOnMount&&u&&!p()&&l({width:o,height:c}),t.skipOnMount=!1}))}})),k(S(t),"onRef",(function(e){t.element=e})),k(S(t),"getRenderType",(function(){var e=t.props,n=e.render,i=e.children;return f(n)?"renderProp":f(i)?"childFunction":Object(r.isValidElement)(i)?"child":Array.isArray(i)?"childArray":"parent"})),k(S(t),"getTargetComponent",(function(){var e=t.props,n=e.render,i=e.children,o=e.nodeType,a=t.state,s={width:a.width,height:a.height};switch(t.getRenderType()){case"renderProp":return Object(r.cloneElement)(n(s),{key:"resize-detector"});case"childFunction":return Object(r.cloneElement)(i(s));case"child":return Object(r.cloneElement)(i,s);case"childArray":return i.map((function(e){return!!e&&Object(r.cloneElement)(e,s)}));default:return Object(r.createElement)(o)}}));var n=e.skipOnMount,i=e.refreshMode,l=e.refreshRate,c=e.refreshOptions;t.state={width:void 0,height:void 0},t.skipOnMount=n,t.raf=null,t.element=null,t.unmounted=!1;var h=d[i];return t.resizeHandler=h?h(t.createResizeHandler,l,c):t.createResizeHandler,t.resizeObserver=new a.default(t.resizeHandler),t}return n=m,(l=[{key:"componentDidMount",value:function(){this.toggleObserver("observe")}},{key:"componentWillUnmount",value:function(){this.toggleObserver("unobserve"),this.rafClean(),this.cancelHandler(),this.unmounted=!0}},{key:"render",value:function(){return i.a.createElement(x,{ref:this.onRef},this.getTargetComponent())}}])&&_(n.prototype,l),c&&_(n,c),m}(r.PureComponent);C.propTypes={handleWidth:l.bool,handleHeight:l.bool,skipOnMount:l.bool,refreshRate:l.number,refreshMode:l.string,refreshOptions:Object(l.shape)({leading:l.bool,trailing:l.bool}),querySelector:l.string,targetDomEl:l.any,onResize:l.func,render:l.func,children:l.any,nodeType:l.node},C.defaultProps={handleWidth:!1,handleHeight:!1,skipOnMount:!1,refreshRate:1e3,refreshMode:void 0,refreshOptions:void 0,querySelector:null,targetDomEl:null,onResize:null,render:void 0,children:null,nodeType:"div"};var M=C;function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t,n){return t&&L(e.prototype,t),n&&L(e,n),e}function D(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e){return function(){var t,n=z(e);if(U()){var r=z(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return F(this,t)}}function F(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function U(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var V=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{handleWidth:!0,handleHeight:!0};return function(n){D(o,n);var r=B(o);function o(){return j(this,o),r.apply(this,arguments)}return R(o,[{key:"render",value:function(){return i.a.createElement(M,t,i.a.createElement(e,this.props))}}]),o}(r.Component)};t.default=M},function(e,t,n){e.exports=n(542)},function(e,t,n){"use strict";var r=n(304),i=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,o=Object(r.a)((function(e){return i.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));t.a=o},function(e,t){e.exports=function(e){return null===e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s}));var r,i=n(103),o=n(213);function a(e){return"function"==typeof e}function s(e,t,n,l,c,u,d){if(1===e.length&&Object(i.e)(e[0]))return[{type:r.literal,value:e[0].value}];for(var f=[],p=0,m=e;p<m.length;p++){var h=m[p];if(Object(i.e)(h))f.push({type:r.literal,value:h.value});else if(Object(i.i)(h))"number"==typeof u&&f.push({type:r.literal,value:n.getNumberFormat(t).format(u)});else{var g=h.value;if(!c||!(g in c))throw new o.e(g,d);var y=c[g];if(Object(i.b)(h))y&&"string"!=typeof y&&"number"!=typeof y||(y="string"==typeof y||"number"==typeof y?String(y):""),f.push({type:"string"==typeof y?r.literal:r.object,value:y});else if(Object(i.c)(h)){var v="string"==typeof h.style?l.date[h.style]:Object(i.d)(h.style)?h.style.parsedOptions:void 0;f.push({type:r.literal,value:n.getDateTimeFormat(t,v).format(y)})}else if(Object(i.l)(h)){v="string"==typeof h.style?l.time[h.style]:Object(i.d)(h.style)?h.style.parsedOptions:void 0;f.push({type:r.literal,value:n.getDateTimeFormat(t,v).format(y)})}else if(Object(i.f)(h)){(v="string"==typeof h.style?l.number[h.style]:Object(i.g)(h.style)?h.style.parsedOptions:void 0)&&v.scale&&(y*=v.scale||1),f.push({type:r.literal,value:n.getNumberFormat(t,v).format(y)})}else{if(Object(i.k)(h)){var b=h.children,w=h.value,x=c[w];if(!a(x))throw new o.d(w,"function",d);var E=x(s(b,t,n,l,c,u).map((function(e){return e.value})));Array.isArray(E)||(E=[E]),f.push.apply(f,E.map((function(e){return{type:"string"==typeof e?r.literal:r.object,value:e}})))}if(Object(i.j)(h)){if(!(_=h.options[y]||h.options.other))throw new o.c(h.value,y,Object.keys(h.options),d);f.push.apply(f,s(_.value,t,n,l,c))}else if(Object(i.h)(h)){var _;if(!(_=h.options["="+y])){if(!Intl.PluralRules)throw new o.b('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',o.a.MISSING_INTL_API,d);var A=n.getPluralRules(t,{type:h.pluralType}).select(y-(h.offset||0));_=h.options[A]||h.options.other}if(!_)throw new o.c(h.value,y,Object.keys(h.options),d);f.push.apply(f,s(_.value,t,n,l,c,y-(h.offset||0)))}else;}}}return function(e){return e.length<2?e:e.reduce((function(e,t){var n=e[e.length-1];return n&&n.type===r.literal&&t.type===r.literal?n.value+=t.value:e.push(t),e}),[])}(f)}!function(e){e[e.literal=0]="literal",e[e.object=1]="object"}(r||(r={}))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var r=n(214),i=n(398),o=n(115);const a={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},s={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},l={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},c=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],u=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class d{constructor(e,t,n){this._map=null,this._internalUpdate=!1,this._inRender=!1,this._hoveredFeatures=null,this._deferredEvents={move:!1,zoom:!1,pitch:!1,rotate:!1},this._onEvent=e=>{const t=this.props[l[e.type]];t&&t(e)},this._onPointerEvent=e=>{"mousemove"!==e.type&&"mouseout"!==e.type||this._updateHover(e);const t=this.props[a[e.type]];if(t){if(this.props.interactiveLayerIds&&"mouseover"!==e.type&&"mouseout"!==e.type){const t=this._hoveredFeatures||this._map.queryRenderedFeatures(e.point,{layers:this.props.interactiveLayerIds});if(!t.length)return;e.features=t}t(e),delete e.features}},this._onCameraEvent=e=>{if(!this._internalUpdate){const t=this.props[s[e.type]];t&&t(e)}e.type in this._deferredEvents&&(this._deferredEvents[e.type]=!1)},this._MapClass=e,this.props=t,this._initialize(n)}get map(){return this._map}get transform(){return this._renderTransform}setProps(e){const t=this.props;this.props=e;const n=this._updateSettings(e,t);n&&(this._renderTransform=Object(r.b)(this._map.transform));const i=this._updateSize(e),o=this._updateViewState(e,!0);this._updateStyle(e,t),this._updateStyleComponents(e,t),this._updateHandlers(e,t),(n||i||o&&!this._map.isMoving())&&this.redraw()}static reuse(e,t){const n=d.savedMaps.pop();if(!n)return null;const r=n.map,i=r.getContainer();for(t.className=i.className;i.childNodes.length>0;)t.appendChild(i.childNodes[0]);return r._container=t,e.initialViewState&&n._updateViewState(e.initialViewState,!1),r.resize(),n.setProps({...e,styleDiffing:!1}),r.isStyleLoaded()?r.fire("load"):r.once("styledata",(()=>r.fire("load"))),n}_initialize(e){const{props:t}=this,n={...t,...t.initialViewState,accessToken:t.mapboxAccessToken||f()||null,container:e,style:Object(i.a)(t.mapStyle)},o=n.initialViewState||n.viewState||n;if(Object.assign(n,{center:[o.longitude||0,o.latitude||0],zoom:o.zoom||0,pitch:o.pitch||0,bearing:o.bearing||0}),t.gl){const e=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=e,t.gl)}const c=new this._MapClass(n);o.padding&&c.setPadding(o.padding),t.cursor&&(c.getCanvas().style.cursor=t.cursor),this._renderTransform=Object(r.b)(c.transform);const u=c._render;c._render=e=>{this._inRender=!0,u.call(c,e),this._inRender=!1};const d=c._renderTaskQueue.run;c._renderTaskQueue.run=e=>{d.call(c._renderTaskQueue,e),this._onBeforeRepaint()},c.on("render",(()=>this._onAfterRepaint()));const p=c.fire;c.fire=this._fireEvent.bind(this,p),c.on("resize",(()=>{this._renderTransform.resize(c.transform.width,c.transform.height)})),c.on("styledata",(()=>this._updateStyleComponents(this.props,{}))),c.on("sourcedata",(()=>this._updateStyleComponents(this.props,{})));for(const e in a)c.on(e,this._onPointerEvent);for(const e in s)c.on(e,this._onCameraEvent);for(const e in l)c.on(e,this._onEvent);this._map=c}recycle(){d.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){const e=this._map;!this._inRender&&e.style&&(e._frame&&(e._frame.cancel(),e._frame=null),e._render())}_updateSize(e){const{viewState:t}=e;if(t){const e=this._map;if(t.width!==e.transform.width||t.height!==e.transform.height)return e.resize(),!0}return!1}_updateViewState(e,t){if(this._internalUpdate)return!1;const n=this._map,i=this._renderTransform,{zoom:o,pitch:a,bearing:s}=i,l=Object(r.a)(i,{...Object(r.c)(n.transform),...e});if(l&&t){const e=this._deferredEvents;e.move=!0,e.zoom||(e.zoom=o!==i.zoom),e.rotate||(e.rotate=s!==i.bearing),e.pitch||(e.pitch=a!==i.pitch)}return n.isMoving()||Object(r.a)(n.transform,e),l}_updateSettings(e,t){const n=this._map;let r=!1;for(const i of c)i in e&&!Object(o.b)(e[i],t[i])&&(r=!0,n[`set${i[0].toUpperCase()}${i.slice(1)}`](e[i]));return r}_updateStyle(e,t){if(e.cursor!==t.cursor&&(this._map.getCanvas().style.cursor=e.cursor),e.mapStyle!==t.mapStyle){const t={diff:e.styleDiffing};return"localIdeographFontFamily"in e&&(t.localIdeographFontFamily=e.localIdeographFontFamily),this._map.setStyle(Object(i.a)(e.mapStyle),t),!0}return!1}_updateStyleComponents(e,t){const n=this._map;let r=!1;return n.style.loaded()&&("light"in e&&!Object(o.b)(e.light,t.light)&&(r=!0,n.setLight(e.light)),"fog"in e&&!Object(o.b)(e.fog,t.fog)&&(r=!0,n.setFog(e.fog)),"terrain"in e&&!Object(o.b)(e.terrain,t.terrain)&&(e.terrain&&!n.getSource(e.terrain.source)||(r=!0,n.setTerrain(e.terrain)))),r}_updateHandlers(e,t){const n=this._map;let r=!1;for(const i of u){const a=e[i];Object(o.b)(a,t[i])||(r=!0,a?n[i].enable(a):n[i].disable())}return r}_updateHover(e){var t;const{props:n}=this;if(n.interactiveLayerIds&&(n.onMouseMove||n.onMouseEnter||n.onMouseLeave)){const r=e.type,i=(null===(t=this._hoveredFeatures)||void 0===t?void 0:t.length)>0;let o;if("mousemove"===r)try{o=this._map.queryRenderedFeatures(e.point,{layers:n.interactiveLayerIds})}catch(e){o=[]}else o=[];const a=o.length>0;!a&&i&&(e.type="mouseleave",this._onPointerEvent(e)),this._hoveredFeatures=o,a&&!i&&(e.type="mouseenter",this._onPointerEvent(e)),e.type=r}else this._hoveredFeatures=null}_fireEvent(e,t,n){const i=this._map,o=i.transform,a="string"==typeof t?t:t.type;return"move"===a&&this._updateViewState(this.props,!1),a in s&&("object"==typeof t&&(t.viewState=Object(r.c)(o)),this._map.isMoving())?(i.transform=this._renderTransform,e.call(i,t,n),i.transform=o,i):(e.call(i,t,n),i)}_onBeforeRepaint(){const e=this._map;this._internalUpdate=!0;for(const t in this._deferredEvents)this._deferredEvents[t]&&e.fire(t);this._internalUpdate=!1;const t=this._map.transform;this._map.transform=this._renderTransform,this._map.painter.transform=this._renderTransform,this._onAfterRepaint=()=>{(t.elevation=this._renderTransform.elevation)&&t.updateElevation(!1),this._map.transform=t}}}function f(){let t=null;if("undefined"!=typeof location){const e=/access_token=([^&\/]*)/.exec(location.search);t=e&&e[1]}try{t=t||e.env.MapboxAccessToken}catch(e){}try{t=t||e.env.REACT_APP_MAPBOX_ACCESS_TOKEN}catch(e){}return t}d.savedMaps=[]}).call(this,n(254))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const r=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function i(e){if(!e)return null;if("string"==typeof e)return e;if("toJS"in e&&(e=e.toJS()),!e.layers)return e;const t={};for(const n of e.layers)t[n.id]=n;const n=e.layers.map((e=>{const n=t[e.ref];let i=null;if("interactive"in e&&(i={...e},delete i.interactive),n){i=i||{...e},delete i.ref;for(const e of r)e in n&&(i[e]=n[e])}return i||e}));return{...e,layers:n}}},function(e,t,n){var r=n(662);e.exports=p,e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=f;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,s="",u=t&&t.delimiter||"/";null!=(n=i.exec(e));){var d=n[0],f=n[1],p=n.index;if(s+=e.slice(a,p),a=p+d.length,f)s+=f[1];else{var m=e[a],h=n[2],g=n[3],y=n[4],v=n[5],b=n[6],w=n[7];s&&(r.push(s),s="");var x=null!=h&&null!=m&&m!==h,E="+"===b||"*"===b,_="?"===b||"*"===b,A=n[2]||u,O=y||v;r.push({name:g||o++,prefix:h||"",delimiter:A,optional:_,repeat:E,partial:x,asterisk:!!w,pattern:O?c(O):w?".*":"[^"+l(A)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"==typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",d(t)));return function(t,i){for(var o="",s=t||{},l=(i||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var u=e[c];if("string"!=typeof u){var d,f=s[u.name];if(null==f){if(u.optional){u.partial&&(o+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(r(f)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var p=0;p<f.length;p++){if(d=l(f[p]),!n[c].test(d))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(d)+"`");o+=(0===p?u.prefix:u.delimiter)+d}}else{if(d=u.asterisk?encodeURI(f).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):l(f),!n[c].test(d))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+d+'"');o+=u.prefix+d}}else o+=u}return o}}function l(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function u(e,t){return e.keys=t,e}function d(e){return e&&e.sensitive?"":"i"}function f(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var c=e[s];if("string"==typeof c)a+=l(c);else{var f=l(c.prefix),p="(?:"+c.pattern+")";t.push(c),c.repeat&&(p+="(?:"+f+p+")*"),a+=p=c.optional?c.partial?f+"("+p+")?":"(?:"+f+"("+p+"))?":f+"("+p+")"}}var m=l(n.delimiter||"/"),h=a.slice(-m.length)===m;return i||(a=(h?a.slice(0,-m.length):a)+"(?:"+m+"(?=$))?"),a+=o?"$":i&&h?"":"(?="+m+"|$)",u(new RegExp("^"+a,d(n)),t)}function p(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return u(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(p(e[i],t,n).source);return u(new RegExp("(?:"+r.join("|")+")",d(n)),t)}(e,t,n):function(e,t,n){return f(o(e,n),t,n)}(e,t,n)}},function(e,t,n){e.exports=n(709)},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=u(n(2)),o=u(n(78)),a=u(n(0)),s=u(n(467)),l=u(n(725)),c=u(n(730));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r));return i.handleHidden=function(){var e;(i.setState({exited:!0}),i.props.onExited)&&(e=i.props).onExited.apply(e,arguments)},i.state={exited:!n.show},i.onHiddenListener=i.handleHidden.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillReceiveProps=function(e){e.show?this.setState({exited:!1}):e.transition||this.setState({exited:!0})},t.prototype.render=function(){var e=this.props,t=e.container,n=e.containerPadding,r=e.target,i=e.placement,o=e.shouldUpdatePosition,u=e.rootClose,d=e.children,f=e.transition,p=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["container","containerPadding","target","placement","shouldUpdatePosition","rootClose","children","transition"]);if(!(p.show||f&&!this.state.exited))return null;var m=d;if(m=a.default.createElement(l.default,{container:t,containerPadding:n,target:r,placement:i,shouldUpdatePosition:o},m),f){var h=p.onExit,g=p.onExiting,y=p.onEnter,v=p.onEntering,b=p.onEntered;m=a.default.createElement(f,{in:p.show,appear:!0,onExit:h,onExiting:g,onExited:this.onHiddenListener,onEnter:y,onEntering:v,onEntered:b},m)}return u&&(m=a.default.createElement(c.default,{onRootClose:p.onHide},m)),a.default.createElement(s.default,{container:t},m)},t}(a.default.Component);d.propTypes=r({},s.default.propTypes,l.default.propTypes,{show:i.default.bool,rootClose:i.default.bool,onHide:function(e){var t=i.default.func;e.rootClose&&(t=t.isRequired);for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t.apply(void 0,[e].concat(r))},transition:o.default,onEnter:i.default.func,onEntering:i.default.func,onEntered:i.default.func,onExit:i.default.func,onExiting:i.default.func,onExited:i.default.func}),t.default=d,e.exports=t.default},function(e,t,n){"use strict";var r=n(36);t.__esModule=!0,t.default=void 0;var i=r(n(360));t.on=i.default;var o=r(n(361));t.off=o.default;var a=r(n(765));t.filter=a.default;var s=r(n(767));t.listen=s.default;var l={on:i.default,off:o.default,filter:a.default,listen:s.default};t.default=l},function(e,t,n){"use strict";t.a=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";var r=n(221),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r.a?r.a.toStringTag:void 0;var l=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i},c=Object.prototype.toString;var u=function(e){return c.call(e)},d=r.a?r.a.toStringTag:void 0;t.a=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":d&&d in Object(e)?l(e):u(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(79),i=n(22);function o(e,t){if(t&&("object"===Object(r.a)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Object(i.a)(e)}},function(e,t,n){"use strict";var r=n(404),i=n(403);t.a=function(e){return"symbol"==typeof e||Object(i.a)(e)&&"[object Symbol]"==Object(r.a)(e)}},function(e,t,n){"use strict";n.r(t),n.d(t,"CacheProvider",(function(){return f})),n.d(t,"ThemeContext",(function(){return d})),n.d(t,"withEmotionCache",(function(){return p})),n.d(t,"css",(function(){return b.a})),n.d(t,"ClassNames",(function(){return S})),n.d(t,"Global",(function(){return x})),n.d(t,"createElement",(function(){return w})),n.d(t,"jsx",(function(){return w})),n.d(t,"keyframes",(function(){return _}));var r=n(97),i=n(0),o=n(365);n(694);function a(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]):r+=n+" "})),r}var s=function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var i=t;do{e.insert("."+r,i,e.sheet,!0);i=i.next}while(void 0!==i)}},l=n(194),c=Object.prototype.hasOwnProperty,u=Object(i.createContext)("undefined"!=typeof HTMLElement?Object(o.a)():null),d=Object(i.createContext)({}),f=u.Provider,p=function(e){var t=function(t,n){return Object(i.createElement)(u.Consumer,null,(function(r){return e(t,r,n)}))};return Object(i.forwardRef)(t)},m="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",h=function(e,t){var n={};for(var r in t)c.call(t,r)&&(n[r]=t[r]);return n[m]=e,n},g=function(e,t,n,r){var o=null===n?t.css:t.css(n);"string"==typeof o&&void 0!==e.registered[o]&&(o=e.registered[o]);var u=t[m],d=[o],f="";"string"==typeof t.className?f=a(e.registered,d,t.className):null!=t.className&&(f=t.className+" ");var p=Object(l.a)(d);s(e,p,"string"==typeof u);f+=e.key+"-"+p.name;var h={};for(var g in t)c.call(t,g)&&"css"!==g&&g!==m&&(h[g]=t[g]);return h.ref=r,h.className=f,Object(i.createElement)(u,h)},y=p((function(e,t,n){return"function"==typeof e.css?Object(i.createElement)(d.Consumer,null,(function(r){return g(t,e,r,n)})):g(t,e,null,n)}));var v=n(317),b=n(276),w=function(e,t){var n=arguments;if(null==t||!c.call(t,"css"))return i.createElement.apply(void 0,n);var r=n.length,o=new Array(r);o[0]=y,o[1]=h(e,t);for(var a=2;a<r;a++)o[a]=n[a];return i.createElement.apply(null,o)},x=p((function(e,t){var n=e.styles;if("function"==typeof n)return Object(i.createElement)(d.Consumer,null,(function(e){var r=Object(l.a)([n(e)]);return Object(i.createElement)(E,{serialized:r,cache:t})}));var r=Object(l.a)([n]);return Object(i.createElement)(E,{serialized:r,cache:t})})),E=function(e){function t(t,n,r){return e.call(this,t,n,r)||this}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.sheet=new v.a({key:this.props.cache.key+"-global",nonce:this.props.cache.sheet.nonce,container:this.props.cache.sheet.container});var e=document.querySelector("style[data-emotion-"+this.props.cache.key+'="'+this.props.serialized.name+'"]');null!==e&&this.sheet.tags.push(e),this.props.cache.sheet.tags.length&&(this.sheet.before=this.props.cache.sheet.tags[0]),this.insertStyles()},n.componentDidUpdate=function(e){e.serialized.name!==this.props.serialized.name&&this.insertStyles()},n.insertStyles=function(){if(void 0!==this.props.serialized.next&&s(this.props.cache,this.props.serialized.next,!0),this.sheet.tags.length){var e=this.sheet.tags[this.sheet.tags.length-1].nextElementSibling;this.sheet.before=e,this.sheet.flush()}this.props.cache.insert("",this.props.serialized,this.sheet,!1)},n.componentWillUnmount=function(){this.sheet.flush()},n.render=function(){return null},t}(i.Component),_=function(){var e=b.a.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},A=function e(t){for(var n=t.length,r=0,i="";r<n;r++){var o=t[r];if(null!=o){var a=void 0;switch(typeof o){case"boolean":break;case"object":if(Array.isArray(o))a=e(o);else for(var s in a="",o)o[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=o}a&&(i&&(i+=" "),i+=a)}}return i};function O(e,t,n){var r=[],i=a(e,r,n);return r.length<2?n:i+t(r)}var S=p((function(e,t){return Object(i.createElement)(d.Consumer,null,(function(n){var r=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=Object(l.a)(n,t.registered);return s(t,i,!1),t.key+"-"+i.name},i={css:r,cx:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return O(t.registered,r,A(n))},theme:n},o=e.children(i);return!0,o}))}))},,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(370);function i(e,t){if(e){if("string"==typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4),i=n.n(r),o=n(0),a=n(10),s=o.forwardRef((function(e,t){return o.createElement(a.a,i()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M128 0C92.7 0 64 28.7 64 64v96h64V64h226.7L384 93.3V160h64V93.3c0-17-6.7-33.3-18.7-45.3L400 18.7C388 6.7 371.7 0 354.7 0H128zm256 352v96H128v-96h256zm64 32h32c17.7 0 32-14.3 32-32v-96c0-35.3-28.7-64-64-64H64c-35.3 0-64 28.7-64 64v96c0 17.7 14.3 32 32 32h32v64c0 35.3 28.7 64 64 64h256c35.3 0 64-28.7 64-64v-64zm-16-88c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24z"}))}));s.displayName="Print"},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(128);t.a=function(){return i.a.createElement("div",{className:"text-center",style:{marginTop:"150px"}},i.a.createElement(o.b,null))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return M}));var r=n(4),i=n.n(r),o=n(0),a=n.n(o),s=n(10),l=o.forwardRef((function(e,t){return o.createElement(s.a,i()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 448 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M256 32v17.88C328.5 61.39 384 124.2 384 200v33.4c0 45.4 15.5 89.5 43.8 125l14.9 18.6c5.8 7.2 6.9 17.1 2.9 25.4-4 8.3-12.4 13.6-21.6 13.6H24c-9.23 0-17.635-5.3-21.631-13.6A24.019 24.019 0 0 1 5.26 377l14.91-18.6C48.54 322.9 64 278.8 64 233.4V200c0-75.8 55.5-138.61 128-150.12V32c0-17.67 14.3-32 32-32s32 14.33 32 32zm-40 64c-57.4 0-104 46.6-104 104v33.4c0 47.9-13.88 94.6-39.69 134.6H375.7c-25.8-40-39.7-86.7-39.7-134.6V200c0-57.4-46.6-104-104-104h-16zm72 352c0 16.1-6.7 33.3-18.7 45.3S240.1 512 224 512c-17 0-33.3-6.7-45.3-18.7S160 464.1 160 448h128z"}))}));l.displayName="Bell";var c=o.forwardRef((function(e,t){return o.createElement(s.a,i()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 640 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M183.6 118.6c22.9-36.02 60.5-61.76 104.4-68.72V32c0-17.67 14.3-32 32-32s32 14.33 32 32v17.88C424.5 61.39 480 124.2 480 200v33.4c0 45.4 15.5 89.5 43.8 125l14.9 18.6c4.4 6.5 6.7 15.2 3.9 23l88.2 69.1c10.4 8.2 12.3 23.3 4.1 33.7-8.2 10.4-23.3 12.3-33.7 4.1L9.196 42.89C-1.236 34.71-3.065 19.63 5.112 9.196 13.29-1.236 28.37-3.065 38.81 5.112L183.6 118.6zm38.1 29.8 229 178.7c-12.3-28.9-18.7-61-18.7-93.7V200c0-57.4-46.6-104-104-104h-16c-38.7 0-72.4 21.1-90.3 52.4zm-61.7 85v-11.3l46.7 36.8c-4 38.8-17.2 76.3-38.4 109.1h176.9l61 48H120c-9.2 0-17.6-5.3-21.63-13.6-4-8.3-2.87-18.2 2.93-25.4l14.9-18.6c28.3-35.5 43.8-79.6 43.8-125zM384 448c0 16.1-6.7 33.3-18.7 45.3S336.1 512 320 512c-17 0-33.3-6.7-45.3-18.7S256 464.1 256 448h128z"}))}));c.displayName="BellSlash";var u,d,f,p,m,h,g,y=n(328),v=n(156),b=n(84),w=n(69),x=n(6),E=n(71),_=n(1),A=n(203),O=n(26),S=n(128),T=n(47),I=n(485),k=n(487);function C(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var M=O.j[100],N=_.default.div(u||(u=C(["\n  display: flex;\n  justify-content: center;\n  padding: 0 0 0 15px;\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n    padding: 0;\n  }\n"]))),j=_.default.div(d||(d=C(["\n  align-items: start;\n  border-right: 1px solid ",";\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  justify-content: center;\n  padding: 20px;\n  padding-right: 30px;\n  width: 50%;\n\n  @media (max-width: 768px) {\n    align-items: center;\n    border-bottom: 1px solid ",";\n    border-right: 0;\n    border-top: 1px solid ",";\n    padding: 30px 20px 30px 20px;\n    width: 100%;\n  }\n"])),M,M,M),L=_.default.div(f||(f=C(["\n  display: flex;\n  justify-content: center;\n  padding: 20px;\n  padding-left: 30px;\n\n  @media (max-width: 768px) {\n    padding-top: 30px;\n    width: 100%;\n  }\n"]))),R=_.default.div(p||(p=C(["\n  align-items: flex-start;\n  display: flex;\n  gap: 7px;\n  justify-content: left;\n  // TODO: Do this in grid\n  width: 250px;\n\n  svg {\n    flex-shrink: 0;\n  }\n"]))),D=Object(_.default)(R)(m||(m=C(["\n  align-items: center;\n  gap: 12px;\n  // TODO: Do this in grid\n  width: 273px;\n\n  svg {\n    width: 16px;\n  }\n\n  &:last-of-type {\n    align-items: flex-start;\n\n    svg {\n      margin-top: 2px;\n    }\n  }\n"]))),P=_.default.ul(h||(h=C(["\n  align-items: start;\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n  justify-content: center;\n  list-style: none;\n  padding: 0;\n"]))),B=_.default.button(g||(g=C(["\n  background: transparent;\n  border: none;\n  font-style: italic;\n  padding: 0;\n  text-decoration: underline;\n"])));t.b=function(e){var t=e.from,n=e.handleTogglePauseMonitoring,r=e.isReadOnly,i=e.monitoredTrip,o=e.pendingRequest,s=e.to,u=Object(b.a)(),d=i.itinerary,f=i.leadTimeInMinutes;if(d){var p=Object(A.e)(i),m=0===p.length?a.a.createElement(x.FormattedDate,{dateStyle:"full",value:d.startTime}):a.a.createElement(I.b,{days:p}),h=u.formatMessage({id:"components.ExistingAccountDisplay.notifications"});return a.a.createElement(N,null,a.a.createElement(T.a,null,a.a.createElement(w.a,{id:"components.SavedTripList.fromTo",values:{from:null==t?void 0:t.name,to:null==s?void 0:s.name}})),a.a.createElement(j,{"aria-hidden":!0},a.a.createElement(R,null,a.a.createElement("span",{title:u.formatMessage({id:"components.BatchSettings.origin"})},a.a.createElement(E.default,{size:14,type:"from"})),a.a.createElement("span",null,null==t?void 0:t.name)),a.a.createElement(R,null,a.a.createElement("span",{title:u.formatMessage({id:"components.BatchSettings.destination"})},a.a.createElement(E.default,{size:14,type:"to"})),a.a.createElement("span",null,null==s?void 0:s.name))),a.a.createElement(L,null,a.a.createElement(P,null,a.a.createElement(D,{as:"li"},a.a.createElement(v.a,{"aria-hidden":!0,title:u.formatMessage({id:"components.TripSummaryPane.timeAndDuration"})}),a.a.createElement(k.a,{monitoredTrip:i})),a.a.createElement(D,{as:"li"},a.a.createElement(y.a,{"aria-hidden":!0,title:u.formatMessage({id:"components.TripSummaryPane.monitoredTripDays"})}),m),a.a.createElement(D,{as:"li"},i.isActive?a.a.createElement(l,{"aria-label":h,title:h}):a.a.createElement(c,{width:20}),a.a.createElement("span",null,i.isActive?a.a.createElement(w.a,{id:"components.TripSummaryPane.notifications",values:{leadTimeInMinutes:f}}):a.a.createElement(w.a,{id:"components.TripSummaryPane.notificationsDisabled",values:{leadTimeInMinutes:f}}),!r&&a.a.createElement(a.a.Fragment,null,a.a.createElement("br",null),a.a.createElement(B,{disabled:"pause"===o,onClick:function(){n&&n()}},"pause"===o?a.a.createElement(S.a,null):i.isActive?a.a.createElement(w.a,{id:"components.SavedTripList.pause"}):a.a.createElement(w.a,{id:"components.SavedTripList.resume"}))))))))}return a.a.createElement("div",null,a.a.createElement(w.a,{id:"common.itineraryDescriptions.noItineraryToDisplay"}))}},,,,function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,l=a(e),c=1;c<arguments.length;c++){for(var u in n=Object(arguments[c]))i.call(n,u)&&(l[u]=n[u]);if(r){s=r(n);for(var d=0;d<s.length;d++)o.call(n,s[d])&&(l[s[d]]=n[s[d]])}}return l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.repeat=function(e,t){return new Array(t+1).join(e)},i=t.pad=function(e,t){return r("0",t-e.toString().length)+e};t.formatTime=function(e){return i(e.getHours(),2)+":"+i(e.getMinutes(),2)+":"+i(e.getSeconds(),2)+"."+i(e.getMilliseconds(),3)},t.timer="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date},function(e,t,n){var r=n(40).default,i=n(543);e.exports=function(e){var t=i(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(419);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){(function(t,n){var r;r=function(){"use strict";function e(e){return"function"==typeof e}var r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=0,o=void 0,a=void 0,s=function(e,t){m[i]=e,m[i+1]=t,2===(i+=2)&&(a?a(h):w())},l="undefined"!=typeof window?window:void 0,c=l||{},u=c.MutationObserver||c.WebKitMutationObserver,d="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),f="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){var e=setTimeout;return function(){return e(h,1)}}var m=new Array(1e3);function h(){for(var e=0;e<i;e+=2)(0,m[e])(m[e+1]),m[e]=void 0,m[e+1]=void 0;i=0}var g,y,v,b,w=void 0;function x(e,t){var n=this,r=new this.constructor(A);void 0===r[_]&&R(r);var i=n._state;if(i){var o=arguments[i-1];s((function(){return j(i,r,o,n._result)}))}else M(n,r,e,t);return r}function E(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(A);return T(t,e),t}d?w=function(){return t.nextTick(h)}:u?(y=0,v=new u(h),b=document.createTextNode(""),v.observe(b,{characterData:!0}),w=function(){b.data=y=++y%2}):f?((g=new MessageChannel).port1.onmessage=h,w=function(){return g.port2.postMessage(0)}):w=void 0===l?function(){try{var e=Function("return this")().require("vertx");return void 0!==(o=e.runOnLoop||e.runOnContext)?function(){o(h)}:p()}catch(e){return p()}}():p();var _=Math.random().toString(36).substring(2);function A(){}var O=void 0;function S(t,n,r){n.constructor===t.constructor&&r===x&&n.constructor.resolve===E?function(e,t){1===t._state?k(e,t._result):2===t._state?C(e,t._result):M(t,void 0,(function(t){return T(e,t)}),(function(t){return C(e,t)}))}(t,n):void 0===r?k(t,n):e(r)?function(e,t,n){s((function(e){var r=!1,i=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(n,t,(function(n){r||(r=!0,t!==n?T(e,n):k(e,n))}),(function(t){r||(r=!0,C(e,t))}),e._label);!r&&i&&(r=!0,C(e,i))}),e)}(t,n,r):k(t,n)}function T(e,t){if(e===t)C(e,new TypeError("You cannot resolve a promise with itself"));else if(i=typeof(r=t),null===r||"object"!==i&&"function"!==i)k(e,t);else{var n=void 0;try{n=t.then}catch(t){return void C(e,t)}S(e,t,n)}var r,i}function I(e){e._onerror&&e._onerror(e._result),N(e)}function k(e,t){e._state===O&&(e._result=t,e._state=1,0!==e._subscribers.length&&s(N,e))}function C(e,t){e._state===O&&(e._state=2,e._result=t,s(I,e))}function M(e,t,n,r){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+1]=n,i[o+2]=r,0===o&&e._state&&s(N,e)}function N(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,i=void 0,o=e._result,a=0;a<t.length;a+=3)r=t[a],i=t[a+n],r?j(n,r,i,o):i(o);e._subscribers.length=0}}function j(t,n,r,i){var o=e(r),a=void 0,s=void 0,l=!0;if(o){try{a=r(i)}catch(e){l=!1,s=e}if(n===a)return void C(n,new TypeError("A promises callback cannot return that same promise."))}else a=i;n._state!==O||(o&&l?T(n,a):!1===l?C(n,s):1===t?k(n,a):2===t&&C(n,a))}var L=0;function R(e){e[_]=L++,e._state=void 0,e._result=void 0,e._subscribers=[]}var D=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(A),this.promise[_]||R(this.promise),r(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?k(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&k(this.promise,this._result))):C(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===O&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===E){var i=void 0,o=void 0,a=!1;try{i=e.then}catch(e){a=!0,o=e}if(i===x&&e._state!==O)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(n===P){var s=new n(A);a?C(s,o):S(s,e,i),this._willSettleAt(s,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===O&&(this._remaining--,2===e?C(r,n):this._result[t]=n),0===this._remaining&&k(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;M(e,void 0,(function(e){return n._settledAt(1,t,e)}),(function(e){return n._settledAt(2,t,e)}))},e}(),P=function(){function t(e){this[_]=L++,this._result=this._state=void 0,this._subscribers=[],A!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t((function(t){T(e,t)}),(function(t){C(e,t)}))}catch(t){C(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var n=this,r=n.constructor;return e(t)?n.then((function(e){return r.resolve(t()).then((function(){return e}))}),(function(e){return r.resolve(t()).then((function(){throw e}))})):n.then(t,t)},t}();return P.prototype.then=x,P.all=function(e){return new D(this,e).promise},P.race=function(e){var t=this;return r(e)?new t((function(n,r){for(var i=e.length,o=0;o<i;o++)t.resolve(e[o]).then(n,r)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))},P.resolve=E,P.reject=function(e){var t=new this(A);return C(t,e),t},P._setScheduler=function(e){a=e},P._setAsap=function(e){s=e},P._asap=s,P.polyfill=function(){var e=void 0;if(void 0!==n)e=n;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=P},P.Promise=P,P},e.exports=r()}).call(this,n(254),n(93))},function(e,t,n){n(341);var r="undefined"!=typeof self&&self||this;e.exports=r.fetch.bind(r)},function(e,t,n){"use strict";e.exports=SyntaxError},function(e,t,n){"use strict";var r=n(218)("%Object.getOwnPropertyDescriptor%",!0);if(r)try{r([],"length")}catch(e){r=null}e.exports=r},function(e,t,n){"use strict";var r=n(344),i=Object.prototype.hasOwnProperty,o=Array.isArray,a=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),s=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n},l=1024;e.exports={arrayToObject:s,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],a=i.obj[i.prop],s=Object.keys(a),l=0;l<s.length;++l){var c=s[l],u=a[c];"object"==typeof u&&null!==u&&-1===n.indexOf(u)&&(t.push({obj:a,prop:c}),n.push(u))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(o(n)){for(var r=[],i=0;i<n.length;++i)void 0!==n[i]&&r.push(n[i]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(e){return r}},encode:function(e,t,n,i,o){if(0===e.length)return e;var s=e;if("symbol"==typeof e?s=Symbol.prototype.toString.call(e):"string"!=typeof e&&(s=String(e)),"iso-8859-1"===n)return escape(s).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var c="",u=0;u<s.length;u+=l){for(var d=s.length>=l?s.slice(u,u+l):s,f=[],p=0;p<d.length;++p){var m=d.charCodeAt(p);45===m||46===m||95===m||126===m||m>=48&&m<=57||m>=65&&m<=90||m>=97&&m<=122||o===r.RFC1738&&(40===m||41===m)?f[f.length]=d.charAt(p):m<128?f[f.length]=a[m]:m<2048?f[f.length]=a[192|m>>6]+a[128|63&m]:m<55296||m>=57344?f[f.length]=a[224|m>>12]+a[128|m>>6&63]+a[128|63&m]:(p+=1,m=65536+((1023&m)<<10|1023&d.charCodeAt(p)),f[f.length]=a[240|m>>18]+a[128|m>>12&63]+a[128|m>>6&63]+a[128|63&m])}c+=f.join("")}return c},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(o(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},merge:function e(t,n,r){if(!n)return t;if("object"!=typeof n){if(o(t))t.push(n);else{if(!t||"object"!=typeof t)return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!i.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(n);var a=t;return o(t)&&!o(n)&&(a=s(t,r)),o(t)&&o(n)?(n.forEach((function(n,o){if(i.call(t,o)){var a=t[o];a&&"object"==typeof a&&n&&"object"==typeof n?t[o]=e(a,n,r):t.push(n)}else t[o]=n})),t):Object.keys(n).reduce((function(t,o){var a=n[o];return i.call(t,o)?t[o]=e(t[o],a,r):t[o]=a,t}),a)}}},function(e,t,n){"use strict";var r=n(36).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,o.default)(1,arguments);var t=(0,i.default)(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=(0,a.default)(r),l=new Date(0);l.setUTCFullYear(n,0,4),l.setUTCHours(0,0,0,0);var c=(0,a.default)(l);return t.getTime()>=s.getTime()?n+1:t.getTime()>=c.getTime()?n:n-1};var i=r(n(146)),o=r(n(117)),a=r(n(345));e.exports=t.default},function(e,t,n){"use strict";var r=n(36).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n,r,c,u,d,f,p,m;(0,o.default)(1,arguments);var h=(0,i.default)(e),g=h.getUTCFullYear(),y=(0,l.getDefaultOptions)(),v=(0,s.default)(null!==(n=null!==(r=null!==(c=null!==(u=null==t?void 0:t.firstWeekContainsDate)&&void 0!==u?u:null==t||null===(d=t.locale)||void 0===d||null===(f=d.options)||void 0===f?void 0:f.firstWeekContainsDate)&&void 0!==c?c:y.firstWeekContainsDate)&&void 0!==r?r:null===(p=y.locale)||void 0===p||null===(m=p.options)||void 0===m?void 0:m.firstWeekContainsDate)&&void 0!==n?n:1);if(!(v>=1&&v<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var b=new Date(0);b.setUTCFullYear(g+1,0,v),b.setUTCHours(0,0,0,0);var w=(0,a.default)(b,t),x=new Date(0);x.setUTCFullYear(g,0,v),x.setUTCHours(0,0,0,0);var E=(0,a.default)(x,t);return h.getTime()>=w.getTime()?g+1:h.getTime()>=E.getTime()?g:g-1};var i=r(n(146)),o=r(n(117)),a=r(n(346)),s=r(n(176)),l=n(279);e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e<0?"-":"",r=Math.abs(e).toString();for(;r.length<t;)r="0"+r;return n+r},e.exports=t.default},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(93))},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},function(e,t,n){var r=n(631),i=n(220),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},function(e,t,n){(function(e){var r=n(175),i=n(632),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;e.exports=l}).call(this,n(219)(e))},function(e,t,n){var r=n(634),i=n(635),o=n(636),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},function(e,t,n){var r=n(437),i=n(637),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t,r)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(93))},function(e,t,n){"use strict";var r=n(297),i=n(196);t.a=function(e,t,n){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return Object(i.a)(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),Object(r.a)(e,t,{leading:o,maxWait:t,trailing:a})}},function(e,t,n){"use strict";t.a=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];t=i,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r}},function(e,t,n){"use strict";(function(e){var r=n(657),i=n(658),o=n(659);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=f(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|m(t,n),i=(e=s(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|p(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):f(e,t);if("Buffer"===t.type&&o(t.data))return f(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=s(e,t<0?0:0|p(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|p(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function m(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return V(e).length;default:if(r)return z(e).length;t=(""+t).toLowerCase(),r=!0}}function h(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,n);case"utf8":case"utf-8":return S(this,t,n);case"ascii":return I(this,t,n);case"latin1":case"binary":return k(this,t,n);case"base64":return O(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,i);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,i){var o,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var u=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var d=!0,f=0;f<l;f++)if(c(e,o+f)!==c(t,f)){d=!1;break}if(d)return o}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function w(e,t,n,r){return G(z(t,e.length-n),e,n,r)}function x(e,t,n,r){return G(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return x(e,t,n,r)}function _(e,t,n,r){return G(V(t),e,n,r)}function A(e,t,n,r){return G(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function O(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function S(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,l,c=e[i],u=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=n)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(o=e[i+1]))&&(l=(31&c)<<6|63&o)>127&&(u=l);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(l=(15&c)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(l=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=d}return function(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=T));return n}(r)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return c(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,r){return u(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},l.byteLength=m,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?S(this,0,e):h.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,r,i){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),c=this.slice(r,i),u=e.slice(t,n),d=0;d<s;++d)if(c[d]!==u[d]){o=c[d],a=u[d];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return x(this,e,t,n);case"latin1":case"binary":return E(this,e,t,n);case"base64":return _(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function I(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function k(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function C(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=U(e[o]);return i}function M(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function N(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function j(e,t,n,r,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function L(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function R(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function D(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function P(e,t,n,r,o){return o||D(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function B(e,t,n,r,o){return o||D(e,0,n,8),i.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var i=t-e;n=new l(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUInt8=function(e,t){return t||N(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||N(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||N(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||N(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||N(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||N(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||N(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||N(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||N(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||j(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||j(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):R(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);j(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);j(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):R(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return P(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return P(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return B(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return B(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=l.isBuffer(e)?e:z(new l(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function z(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function V(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function G(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(93))},function(e,t){},function(e,t,n){"use strict";n(0),n(168)},function(e,t,n){"use strict";n(168)},function(e,t,n){var r=n(667);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(281),i=n(449),o=n(451),a=Object.defineProperty;t.f=n(199)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){e.exports=!n(199)&&!n(258)((function(){return 7!=Object.defineProperty(n(450)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(282),i=n(257).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(282);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(199),i=n(283),o=n(284),a=n(358).f;e.exports=function(e){return function(t){for(var n,s=o(t),l=i(s),c=l.length,u=0,d=[];c>u;)n=l[u++],r&&!a.call(s,n)||d.push(e?[n,s[n]]:s[n]);return d}}},function(e,t,n){var r=n(455);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(673)("keys"),i=n(675);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(357);e.exports=function(e){return Object(r(e))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(5),i=n(3);function o(e,t){Object(i.a)(2,arguments);var n=Object(r.a)(e),o=Object(r.a)(t);return n.getTime()<o.getTime()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=p,t.skeletonStyles=t.skeletonKeyframes=t.defaultHighlightColor=t.defaultBaseColor=void 0;(r=n(0))&&r.__esModule;var r,i=n(407);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  0% {\n    background-position: -200px 0;\n  }\n  ","\n  100% {\n    background-position: calc(200px + 100%) 0;\n  }\n"]);return l=function(){return e},e}var c="#eee";t.defaultBaseColor=c;var u="#f5f5f5";t.defaultHighlightColor=u;var d=function(e,t){return(0,i.keyframes)(l(),t>0?"".concat(Math.floor(1/(e+t)*e*100),"% {\n    background-position: calc(200px + 100%) 0;\n  }"):void 0)};t.skeletonKeyframes=d;var f=(0,i.css)("background-color:",c,";background-image:linear-gradient( 90deg,",c,",",u,",",c," );background-size:200px 100%;background-repeat:no-repeat;border-radius:4px;display:inline-block;line-height:1;width:100%;;label:skeletonStyles;");function p(e){for(var t=e.count,n=e.duration,r=e.width,o=e.wrapper,s=e.height,l=e.circle,c=e.delay,u=e.style,p=e.className,m=[],h=0;h<t;h++){var g={};null!==r&&(g.width=r),null!==s&&(g.height=s),null!==r&&null!==s&&l&&(g.borderRadius="50%");var y="react-loading-skeleton";p&&(y+=" "+p),m.push((0,i.jsx)("span",{key:h,className:y,css:(0,i.css)(f," animation:",d(n,c)," ",n+c,"s ease-in-out infinite;label:Skeleton;"),style:a({},u,{},g)},""))}return(0,i.jsx)("span",null,o?m.map((function(e,t){return(0,i.jsx)(o,{key:t},e,"")})):m)}t.skeletonStyles=f,p.defaultProps={count:1,duration:1.2,width:null,wrapper:null,height:null,circle:!1,delay:0}},function(e,t,n){"use strict";var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(4)),o=r(n(0));var a=({title:e,...t})=>o.default.createElement("svg",(0,i.default)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 418.62 160.29",height:"100%",width:"100%"},t),e?o.default.createElement("title",null,e):null,o.default.createElement("path",{d:"M230.91,500.07c-6.66,1.79-12,1.53-15.08-.71-7.84-5.72-1.89-17.25.27-20.68a103,103,0,0,0-10.64,13c-4.68,7.2-6.68,15.07-3.52,20.13,5.69,9.12,19.32,4.91,28,1.25l80.66-34Z",transform:"translate(-37 -357)"}),o.default.createElement("path",{d:"M37,431.27V357H61.88q14,0,20.68,5.77a19.31,19.31,0,0,1,6.83,15.29q0,14-14.78,15.11Q83,394.33,87,398.37T90.87,410q0,9.58-6.62,15.39T67,431.27H37Zm21.4-46h1.44a9.84,9.84,0,0,0,6.08-1.68,5.57,5.57,0,0,0,2.23-4.71q0-6.44-7.54-6.45h-0.9l-1.31.07v12.78h0Zm0,30.25,1.08,0.08h0.77a9.55,9.55,0,0,0,6.39-2A6.76,6.76,0,0,0,69,408.18a6.47,6.47,0,0,0-2.38-5.33,10.12,10.12,0,0,0-6.55-1.93H58.4v14.61h0Z",transform:"translate(-37 -357)"}),o.default.createElement("rect",{x:"56.7",width:"21.4",height:"74.27"}),o.default.createElement("polygon",{points:"141 74.27 117.92 74.27 103.7 40.02 104.27 74.27 82.87 74.27 82.87 0 104.27 0 103.7 31.84 116.33 0 138.9 0 121.81 35.84 141 74.27"}),o.default.createElement("path",{d:"M315.73,394.39q0,16.4-8.26,26.66a26.16,26.16,0,0,1-21.39,10.22A28.29,28.29,0,0,1,266,423.42q-10.5-9.94-10.5-29.82,0-19,11-29.12A27.67,27.67,0,0,1,285.82,357q13.7,0,21.81,10.12t8.11,27.26m-22.22.17q0-19.76-7.59-19.76-3.79,0-6.05,5.19-2.21,4.81-2.21,14.15t2.08,14.27q2.08,5.07,5.77,5.07t5.85-5q2.15-5,2.15-13.91",transform:"translate(-37 -357)"}),o.default.createElement("path",{d:"M383.26,431.27h-20.7l-5-26q-1.45-7.55-2.18-13.08-0.36-2.74-.62-4.57c-0.18-1.22-.29-2.15-0.36-2.79q-0.26,2-.77,7.36-0.24,2.74-.56,5.77t-0.8,6.4l-3.71,26.93h-20L310.92,357h21.14l3.49,20.44q2,12.22,2.77,19.19l0.68,6.79,0.67-5.82q1-10.2,2.68-19.39L346.24,357H364l3.47,17.85q2.53,12.45,4.35,29.48,0.57-7.65,1.23-13.56T374.54,380l3.9-23h20.88Z",transform:"translate(-37 -357)"}),o.default.createElement("path",{d:"M399.69,431.27V357H420.1l10.73,26.07,2,5.29q1.13,3,2.44,6.88l2.21,6.54q-1.18-9.67-1.79-16.55T435,373.69V357h20.62v74.27H435L423.61,404q-1.8-4.38-3.24-8.2t-2.53-7.29q1.28,7.84,1.87,13.66a101.82,101.82,0,0,1,.59,10.2v19H399.69v-0.05Z",transform:"translate(-37 -357)"}),o.default.createElement("polygon",{points:"140.86 0 140.86 74.27 180.62 74.27 180.62 56.47 162.25 56.47 162.25 45.07 178.72 45.07 178.72 27.27 162.25 27.27 162.25 17.8 189.71 17.8 189.71 74.27 211.1 74.27 211.1 17.8 223.37 17.8 223.37 0 140.86 0"}));t.default=a},function(e,t,n){"use strict";var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(4)),o=r(n(0));var a=({title:e,...t})=>o.default.createElement("svg",(0,i.default)({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 700 700",version:"1.1"},t),e?o.default.createElement("title",null,e):null,o.default.createElement("g",{id:"GreenText_Clear-Bg_Vector_H",stroke:"none",strokeWidth:"1"},o.default.createElement("g",{id:"Page-1",transform:"translate(16.000000, 16.000000)"},o.default.createElement("path",{d:"M335.490942,671.40948 C150.213309,671.40948 0,521.09988 0,335.70348 C0,150.29028 150.213309,-0.00252 335.490942,-0.00252 C520.776969,-0.00252 670.981883,150.29028 670.981883,335.70348 C670.981883,521.09988 520.776969,671.40948 335.490942,671.40948"}),o.default.createElement("path",{d:"M631.507867,335.70096 C631.507867,172.10256 498.98202,39.48336 335.488423,39.48336 C172.011616,39.48336 39.4857686,172.10256 39.4857686,335.70096 C39.4857686,499.28256 172.011616,631.91856 335.488423,631.91856 C498.98202,631.91856 631.507867,499.28256 631.507867,335.70096",fill:"#fff"}),o.default.createElement("path",{d:"M352.189517,117.29256 L352.189517,265.22496 C352.189517,283.69656 372.16871,295.22976 388.14367,285.98976 L516.178396,212.03616 C534.058935,201.70416 537.391598,177.52056 523.397769,162.32496 C488.568495,124.57536 442.532405,97.35936 390.569715,85.94376 C370.817177,81.60096 352.189517,97.04016 352.189517,117.29256"}),o.default.createElement("path",{d:"M390.572233,585.44892 C442.526529,574.03332 488.571013,546.82572 523.391892,509.06772 C537.394117,493.87212 534.061453,469.70532 516.180915,459.36492 L388.146188,385.40292 C372.171229,376.17972 352.192036,387.70452 352.192036,406.16772 L352.192036,554.10852 C352.192036,574.36092 370.8113,589.78332 390.572233,585.44892"}),o.default.createElement("path",{d:"M138.078048,240.93384 C120.222694,230.61024 97.6243803,239.75784 91.46273,259.48104 C83.9579408,283.54704 79.8697614,309.15864 79.8697614,335.70264 C79.8697614,362.25504 83.9579408,387.84144 91.46273,411.91584 C97.6243803,431.63064 120.222694,440.78664 138.078048,430.45464 L266.163143,356.46744 C282.129708,347.22744 282.129708,324.15264 266.163143,314.92944 L138.078048,240.93384 Z"}),o.default.createElement("path",{d:"M579.540979,259.48104 C573.370935,239.75784 550.781015,230.61864 532.908872,240.93384 L404.823778,314.92944 C388.848818,324.15264 388.848818,347.22744 404.823778,356.47584 L532.908872,430.46304 C550.781015,440.78664 573.370935,431.63064 579.515796,411.91584 C587.045769,387.84144 591.117159,362.25504 591.117159,335.70264 C591.117159,309.15864 587.045769,283.54704 579.540979,259.48104"}),o.default.createElement("path",{d:"M154.817758,212.02608 L282.860879,285.99648 C298.819049,295.22808 318.806637,283.69488 318.806637,265.22328 L318.806637,117.28248 C318.806637,97.04688 300.170583,81.60768 280.418045,85.94208 C228.455354,97.36608 182.402475,124.57368 147.60678,162.32328 C133.587767,177.51888 136.93722,201.70248 154.817758,212.02608"}),o.default.createElement("path",{d:"M282.852484,385.40376 L154.817758,459.36576 C136.93722,469.70616 133.587767,493.87296 147.60678,509.06856 C182.402475,546.82656 228.44696,574.03416 280.418045,585.44976 C300.170583,589.78416 318.806637,574.36176 318.806637,554.10096 L318.806637,406.16856 C318.806637,387.70536 298.844233,376.18056 282.852484,385.40376"}),o.default.createElement("path",{d:"M366.25722,335.70096 C366.25722,352.69416 352.490045,366.48696 335.490942,366.48696 C318.500233,366.48696 304.724664,352.69416 304.724664,335.70096 C304.724664,318.70776 318.500233,304.90656 335.490942,304.90656 C352.490045,304.90656 366.25722,318.70776 366.25722,335.70096"}))));t.default=a},function(e,t){e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(e,t,n){"use strict";var r=n(36);t.__esModule=!0,t.default=function(e){return(0,i.default)(e.replace(o,"ms-"))};var i=r(n(713)),o=/^-ms-/;e.exports=t.default},function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function i(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function o(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,a=null,s=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?s="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var l=e.displayName||e.name,c="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=i),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=o;var u=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;u.call(this,e,t,r)}}return e}n.r(t),n.d(t,"polyfill",(function(){return a})),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},function(e,t,n){"use strict";t.__esModule=!0;var r=u(n(2)),i=u(n(285)),o=u(n(0)),a=u(n(50)),s=u(n(286)),l=u(n(223)),c=u(n(724));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var n,r;d(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=f(this,e.call.apply(e,[this].concat(o))),r.setContainer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.props;r._portalContainerNode=(0,s.default)(e.container,(0,l.default)(r).body)},r.getMountNode=function(){return r._portalContainerNode},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.setContainer(),this.forceUpdate(this.props.onRendered)},t.prototype.componentWillReceiveProps=function(e){e.container!==this.props.container&&this.setContainer(e)},t.prototype.componentWillUnmount=function(){this._portalContainerNode=null},t.prototype.render=function(){return this.props.children&&this._portalContainerNode?a.default.createPortal(this.props.children,this._portalContainerNode):null},t}(o.default.Component);p.displayName="Portal",p.propTypes={container:r.default.oneOfType([i.default,r.default.func]),onRendered:r.default.func},t.default=a.default.createPortal?p:c.default,e.exports=t.default},function(e,t,n){"use strict";var r=n(36);t.__esModule=!0,t.default=function(e){var t=(0,a.default)(e),n=(0,o.default)(t),r=t&&t.documentElement,s={top:0,left:0,height:0,width:0};if(!t)return;if(!(0,i.default)(r,e))return s;void 0!==e.getBoundingClientRect&&(s=e.getBoundingClientRect());return s={top:s.top+(n.pageYOffset||r.scrollTop)-(r.clientTop||0),left:s.left+(n.pageXOffset||r.scrollLeft)-(r.clientLeft||0),width:(null==s.width?e.offsetWidth:s.width)||0,height:(null==s.height?e.offsetHeight:s.height)||0}};var i=r(n(224)),o=r(n(287)),a=r(n(200));e.exports=t.default},function(e,t,n){"use strict";var r=n(36);t.__esModule=!0,t.default=function(e,t){var n=(0,i.default)(e);if(void 0===t)return n?"pageYOffset"in n?n.pageYOffset:n.document.documentElement.scrollTop:e.scrollTop;n?n.scrollTo("pageXOffset"in n?n.pageXOffset:n.document.documentElement.scrollLeft,t):e.scrollTop=t};var i=r(n(287));e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n,o){return(0,r.default)(e,t,n,o),{remove:function(){(0,i.default)(e,t,n,o)}}};var r=o(n(360)),i=o(n(361));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(0)),l=n(6),c=n(148),u=n(87),d=o(n(63)),f=a(n(732)),p=a(n(733)),m=a(n(734));t.default=function(e){var t,n=e.className,r=e.step,i=e.style,o=r.absoluteDirection,a=r.relativeDirection,h=r.streetName,g=(0,l.useIntl)(),y=s.default.createElement(d.StepStreetName,null,s.default.createElement(m.default,{rawStreetName:h})),v=a;switch(a){case"ELEVATOR":t=s.default.createElement(l.FormattedMessage,{defaultMessage:u.defaultMessages["otpUi.AccessLegBody.stepElevator"],description:"Text for taking an elevator",id:"otpUi.AccessLegBody.stepElevator",values:{street:y}});break;case"DEPART":var b=o;t=s.default.createElement(l.FormattedMessage,{defaultMessage:u.defaultMessages["otpUi.AccessLegBody.stepDepart"],description:"Describes the initial action to take for an itinerary",id:"otpUi.AccessLegBody.stepDepart",values:{heading:s.default.createElement(p.default,{heading:b}),street:y}});break;case"ENTER_STATION":case"EXIT_STATION":t=s.default.createElement(l.FormattedMessage,{defaultMessage:u.defaultMessages["otpUi.AccessLegBody.stepStation"],description:"Describes an action to progress through an itinerary",id:"otpUi.AccessLegBody.stepStation",values:{step:s.default.createElement(f.default,{action:v}),street:y}});break;case"FOLLOW_SIGNS":t=s.default.createElement(l.FormattedMessage,{defaultMessage:u.defaultMessages["otpUi.AccessLegBody.stepFollowSigns"],description:"Describes an action to progress through an itinerary",id:"otpUi.AccessLegBody.stepFollowSigns",values:{street:y}});break;default:t=s.default.createElement(l.FormattedMessage,{defaultMessage:u.defaultMessages["otpUi.AccessLegBody.stepGeneric"],description:"Describes an action to progress through an itinerary",id:"otpUi.AccessLegBody.stepGeneric",values:{step:s.default.createElement(f.default,{action:v}),street:y}})}return s.default.createElement("span",{className:n,style:i},t,(null==r?void 0:r.distance)>0&&s.default.createElement(d.StepLength,null,(0,c.humanizeDistanceString)(r.distance,!1,g)))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(7)),a=i(n(0)),s=n(6),l=n(87);t.default=function(e){var t=e.seconds,n=e.showApproximatePrefix;return a.default.createElement(s.FormattedMessage,{defaultMessage:l.defaultMessages["otpUi.ItineraryBody.common.durationShort"],description:"Duration in abbreviated hours (if over one hour) and minutes",id:"otpUi.ItineraryBody.common.durationShort",values:r(r({},o.default.time.toHoursMinutesSeconds(t)),{approximatePrefix:n})})}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=n(6),a=n(87),s=r(n(474));t.default=function(e){var t=e.config,n=e.interline,r=e.place,l=(0,o.useIntl)();return n?i.default.createElement(s.default,{place:r}):i.default.createElement(i.default.Fragment,null,(0,a.getPlaceName)(r,t.companies,l))}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=n(6),a=n(87);t.default=function(e){var t=e.place;return i.default.createElement(o.FormattedMessage,{defaultMessage:a.defaultMessages["otpUi.ItineraryBody.stayOnBoard"],description:"Instructs riders to stay on board",id:"otpUi.ItineraryBody.stayOnBoard",values:{place:i.default.createElement("strong",null,t.name)}})}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=n(6);t.default=function(e){var t=e.isDestination,n=e.leg,r=t?n.endTime:n.startTime;return r&&i.default.createElement(o.FormattedTime,{value:r})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4),i=n.n(r),o=n(0),a=n(10),s=o.forwardRef((function(e,t){return o.createElement(a.a,i()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 448 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm-45.7 48C79.8 304 0 383.8 0 482.3 0 498.7 13.3 512 29.7 512h388.6c16.4 0 29.7-13.3 29.7-29.7 0-98.5-79.8-178.3-178.3-178.3h-91.4z"}))}));s.displayName="User"},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o,a,s,l=i(n(0)),c=i(n(1)),u=n(129),d=n(6),f=n(63),p=c.default.div(o||(o=r(["\n  align-items: center;\n  border: ",";\n  background-color: ",";\n  border-radius: ",";\n  display: flex;\n  justify-content: space-between;\n  margin-top: 0.25em;\n  max-width: 75px;\n  height: ",";\n  padding: 0.25em 0.6em 0.25em 0.4em;\n  word-wrap: anywhere; /* this can often look quite bad, but helps encourage icons */\n"],["\n  align-items: center;\n  border: ",";\n  background-color: ",";\n  border-radius: ",";\n  display: flex;\n  justify-content: space-between;\n  margin-top: 0.25em;\n  max-width: 75px;\n  height: ",";\n  padding: 0.25em 0.6em 0.25em 0.4em;\n  word-wrap: anywhere; /* this can often look quite bad, but helps encourage icons */\n"])),(function(e){return e.border?"1px solid #333":"none"}),(function(e){return e.color}),(function(e){return e.large?"4px":"20px"}),(function(e){return e.large?"40px":"30px"})),m=c.default.span(a||(a=r(["\n  flex: 1;\n  /* TODO: 0.25em negative margin to get centering correct? */\n\n  span {\n    display: block;\n  }\n"],["\n  flex: 1;\n  /* TODO: 0.25em negative margin to get centering correct? */\n\n  span {\n    display: block;\n  }\n"]))),h=c.default.span(s||(s=r(["\n  padding-top: 3px;\n  font-weight: 600;\n"],["\n  padding-top: 3px;\n  font-weight: 600;\n"])));t.default=function(e){var t=e.gradationMap,n=e.grayscale,r=void 0!==n&&n,i=e.isLeg,o=void 0!==i&&i,a=e.large,s=void 0!==a&&a,c=e.score,g=(0,d.useIntl)(),y=t&&Object.keys(t).length?t:{0:{color:"#ffe4e5",icon:"",text:g.formatMessage({id:"otpUi.ItineraryBody.tripAccessibility.inaccessible"})},.5:{color:"#dbe9ff",icon:"",text:g.formatMessage({id:"otpUi.ItineraryBody.tripAccessibility.unclear"})},.9:{color:"#bfffb5",icon:"",text:g.formatMessage({id:"otpUi.ItineraryBody.tripAccessibility.likelyAccessible"})}},v=y[parseFloat(Object.keys(y).sort().reverse().find((function(e){return parseFloat(e)<=c})))]||y[0],b=g.formatMessage({id:"otpUi.ItineraryBody.tripAccessibility.".concat(o?"legAccessibility":"itineraryAccessibility")})+v.text;return l.default.createElement(p,{border:r,color:r?"transparent":v.color,large:s,title:b},l.default.createElement(f.InvisibleAdditionalDetails,null,b),l.default.createElement(u.Wheelchair,{style:{flex:"2",height:"100%",minWidth:"20px"}}),l.default.createElement(m,{"aria-hidden":!0},v.icon||l.default.createElement(h,null,v.text)))}},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},l=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u,d,f=a(n(0)),p=n(6),m=c(n(1)),h=n(353),g=n(87),y=m.default.a(u||(u=r(['\n  &:hover {\n    cursor: pointer;\n    text-decoration: none;\n  }\n\n  &:active {\n    color: #111;\n  }\n\n  &::before {\n    content: "|";\n    cursor: auto;\n    margin: 0 0.25em;\n  }\n'],['\n  &:hover {\n    cursor: pointer;\n    text-decoration: none;\n  }\n\n  &:active {\n    color: #111;\n  }\n\n  &::before {\n    content: "|";\n    cursor: auto;\n    margin: 0 0.25em;\n  }\n']))),v=(0,m.default)(h.StreetView)(d||(d=r(["\n  height: 16px;\n  padding-left: 5px;\n"],["\n  height: 16px;\n  padding-left: 5px;\n"])));t.default=function(e){var t=e.clickCallback,n=e.coords,r=e.mapillaryKey,i=(0,f.useState)(null),o=i[0],a=i[1],c=(0,p.useIntl)();(0,f.useEffect)((function(){!o&&r&&s(void 0,void 0,void 0,(function(){var e,t,i;return l(this,(function(o){switch(o.label){case 0:return e=function(e){var t=e.lat,n=e.lon,r=75e-6;return[n-r,t-r,n+r,t+r]}(n).join(","),[4,fetch("https://graph.mapillary.com/images?fields=id&limit=1&access_token=".concat(r,"&bbox=").concat(e))];case 1:return[4,o.sent().json()];case 2:return t=o.sent(),(null===(i=null==t?void 0:t.data)||void 0===i?void 0:i.length)>0&&a(t.data[0].id),[2]}}))}))}),[n]);if(!o)return null;var u=c.formatMessage({defaultMessage:g.defaultMessages["otpUi.AccessLegBody.mapillaryTooltip"],description:"Tooltip text describing the street view icon.",id:"otpUi.AccessLegBody.mapillaryTooltip"});return f.default.createElement(y,{"aria-label":u,onClick:function(){t?t(o):window.open("https://www.mapillary.com/embed?image_key=".concat(o),"_blank","location=no,height=600,width=600,scrollbars=no,status=no")},role:"link",title:u},f.default.createElement(v,{style:{paddingBottom:1}}))}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(0)),l=n(6),c=n(225),u=n(87),d=o(n(63));t.default=function(e){var t=e.config,n=e.leg,r=e.LegIcon,i=e.onSummaryClick,o=e.showLegIcon;return s.default.createElement(d.LegClickable,null,s.default.createElement(d.LegDescription,null,s.default.createElement(d.LegIconAndRouteShortName,null,o&&s.default.createElement(d.LegIconContainer,null,s.default.createElement(r,{leg:n}))),s.default.createElement(d.InvisibleAdditionalDetails,null," - "),s.default.createElement(c.AccessLegDescription,{config:t,leg:n}),s.default.createElement(d.LegClickableButton,{onClick:i},s.default.createElement(d.InvisibleAdditionalDetails,null,s.default.createElement(l.FormattedMessage,{defaultMessage:u.defaultMessages["otpUi.TransitLegBody.zoomToLeg"],description:"Identifies behavior of button",id:"otpUi.TransitLegBody.zoomToLeg"})))))}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var c=l(n(0)),u=n(6),d=l(n(63)),f=n(87),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(){var e=t.props,n=e.onStopClick,r=e.stop,i=e.stopId;n(o(o({},r),{stopId:"gtfsId"in r?r.gtfsId:i}))},t}return i(t,e),t.prototype.render=function(){return c.default.createElement(d.ViewerButton,{onClick:this.onClick,role:"link"},c.default.createElement(u.FormattedMessage,{defaultMessage:f.defaultMessages["otpUi.TransitLegBody.stopViewer"],description:"Text for link that opens the stop viewer",id:"otpUi.TransitLegBody.stopViewer"}))},t}(c.Component);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return[].slice.call(e.querySelectorAll("*"),0).filter(a)};var r=/input|select|textarea|button|object/;function i(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0;if(t&&!e.innerHTML)return!0;try{var n=window.getComputedStyle(e);return t?"visible"!==n.getPropertyValue("overflow")||e.scrollWidth<=0&&e.scrollHeight<=0:"none"==n.getPropertyValue("display")}catch(e){return console.warn("Failed to inspect element style"),!1}}function o(e,t){var n=e.nodeName.toLowerCase();return(r.test(n)&&!e.disabled||"a"===n&&e.href||t)&&function(e){for(var t=e;t&&t!==document.body;){if(i(t))return!1;t=t.parentNode}return!0}(e)}function a(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var n=isNaN(t);return(n||t>=0)&&o(e,!n)}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){s&&(s.removeAttribute?s.removeAttribute("aria-hidden"):null!=s.length?s.forEach((function(e){return e.removeAttribute("aria-hidden")})):document.querySelectorAll(s).forEach((function(e){return e.removeAttribute("aria-hidden")})));s=null},t.log=function(){return void 0;var e=s||{};console.log("ariaAppHider ----------"),console.log(e.nodeName,e.className,e.id),console.log("end ariaAppHider ----------")},t.assertNodeList=l,t.setElement=function(e){var t=e;if("string"==typeof t&&a.canUseDOM){var n=document.querySelectorAll(t);l(n,t),t=n}return s=t||s},t.validateElement=c,t.hide=function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=c(e)[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){i.value.setAttribute("aria-hidden","true")}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}},t.show=function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=c(e)[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){i.value.removeAttribute("aria-hidden")}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}},t.documentNotReadyOrSSRTesting=function(){s=null};var r,i=n(758),o=(r=i)&&r.__esModule?r:{default:r},a=n(363);var s=null;function l(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function c(e){var t=e||s;return t?Array.isArray(t)||t instanceof HTMLCollection||t instanceof NodeList?t:[t]:((0,o.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.log=function(){console.log("portalOpenInstances ----------"),console.log(i.openInstances.length),i.openInstances.forEach((function(e){return console.log(e)})),console.log("end portalOpenInstances ----------")},t.resetState=function(){i=new r};var r=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.register=function(e){-1===t.openInstances.indexOf(e)&&(t.openInstances.push(e),t.emit("register"))},this.deregister=function(e){var n=t.openInstances.indexOf(e);-1!==n&&(t.openInstances.splice(n,1),t.emit("deregister"))},this.subscribe=function(e){t.subscribers.push(e)},this.emit=function(e){t.subscribers.forEach((function(n){return n(e,t.openInstances.slice())}))},this.openInstances=[],this.subscribers=[]},i=new r;t.default=i},function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return g}));var r=n(12),i=(n(173),n(43),n(210),n(42),n(144),n(249),n(212),n(56)),o=n.n(i),a=(n(16),n(73)),s=(n(68),n(46)),l=(n(25),n(41),n(205));function c(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){c(o,r,i,a,s,"next",e)}function s(e){c(o,r,i,a,s,"throw",e)}a(void 0)}))}}"undefined"==typeof fetch&&n(280);Object(r.a)("RECEIVED_TRAVEL_DATE_TRIPS"),Object(r.a)("RECEIVE_TRIP_HASH"),Object(r.a)("REQUESTING_FIELD_TRIPS");var d=Object(r.a)("RECEIVED_FIELD_TRIP_DETAILS"),f=Object(r.a)("REQUESTING_FIELD_TRIP_DETAILS"),p=(Object(r.a)("SET_ACTIVE_ITINERARIES_FROM_FIELD_TRIP"),Object(r.a)("RECEIVED_FIELD_TRIPS")),m=(Object(r.a)("SET_FIELD_TRIP_FILTER"),Object(r.a)("SET_ACTIVE_FIELD_TRIP"),Object(r.a)("SET_GROUP_SIZE"),Object(r.a)("TOGGLE_FIELD_TRIPS"));Object(r.a)("CLEAR_SAVEABLE"),Object(r.a)("SET_SAVEABLE");function h(){return function(){var e=u(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(Object(s.f)(!0)),t(m()),n().callTaker.callHistory.visible&&t(Object(l.c)());case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}function g(e,t){return function(n,r){n(f());var i=r(),s=i.callTaker,l=i.otp;if(!Object(a.h)(s.session)){var c=l.config.datastoreUrl,u=s.session.sessionId;fetch("".concat(c,"/fieldtrip/getRequest?").concat(o.a.stringify({requestId:e,sessionId:u}))).then((function(e){return e.json()})).then((function(e){return n(d({fieldTrip:e}))})).catch((function(e){alert(t.formatMessage({id:"actions.fieldTrip.fetchFieldTripError"},{err:JSON.stringify(e)}))}))}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r,i,o=n(6),a=n(69),s=n(0),l=n.n(s),c=n(1),u=n(203),d=n(26),f=n(167),p=n(486),m=n(47);function h(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var g=c.default.div(r||(r=h(["\n  display: flex;\n  gap: 4px;\n"]))),y=c.default.span(i||(i=h(["\n  align-items: center;\n  background-color: ",";\n  border-radius: 50%;\n  color: ",";\n  display: flex;\n  height: 3rem;\n  justify-content: center;\n  opacity: ",";\n  text-transform: capitalize;\n  width: 3rem;\n\n  span {\n    font-family: 'SF Pro Display', 'Inter', sans-serif;\n    margin-top: 1px;\n  }\n"])),(function(e){return e.monitored?e.baseColor:"".concat(e.baseColor,"20")}),(function(e){return e.monitored?"white":"inherit"}),(function(e){return e.monitored?1:.7}));t.b=function(e){var t=e.days,n=l.a.createElement(o.FormattedList,{type:"conjunction",value:t.map((function(e){return l.a.createElement(f.a,{day:e,key:e})}))}),r=Object(d.h)(),i=u.a.map((function(e){var n=l.a.createElement(p.a,{day:e}),i=null==t?void 0:t.includes(e);return l.a.createElement(y,{baseColor:r,key:e,monitored:i},l.a.createElement("span",null,n))}));return l.a.createElement(l.a.Fragment,null,l.a.createElement(g,{"aria-hidden":!0},i),l.a.createElement(m.a,null,l.a.createElement(a.a,{id:"components.TripSummaryPane.happensOnDays",values:{days:n}})))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(69),i=n(2),o=n.n(i),a=n(0),s=n.n(a);function l(e){switch(e.day){case"monday":return s.a.createElement(r.a,{id:"common.daysOfWeekCompact.monday"});case"tuesday":return s.a.createElement(r.a,{id:"common.daysOfWeekCompact.tuesday"});case"wednesday":return s.a.createElement(r.a,{id:"common.daysOfWeekCompact.wednesday"});case"thursday":return s.a.createElement(r.a,{id:"common.daysOfWeekCompact.thursday"});case"friday":return s.a.createElement(r.a,{id:"common.daysOfWeekCompact.friday"});case"saturday":return s.a.createElement(r.a,{id:"common.daysOfWeekCompact.saturday"});case"sunday":return s.a.createElement(r.a,{id:"common.daysOfWeekCompact.sunday"});default:return null}}l.propTypes={day:o.a.string.isRequired},l.defaultProps={day:""}},function(e,t,n){"use strict";var r,i=n(69),o=n(6),a=n(0),s=n.n(a),l=n(1),c=n(70),u=n(47);var d,f,p=l.default.span(r||(d=["\n  margin: 0 7px;\n"],f||(f=d.slice(0)),r=Object.freeze(Object.defineProperties(d,{raw:{value:Object.freeze(f)}}))));t.a=function(e){var t=e.monitoredTrip.itinerary,n=t.duration,r=t.endTime,a=t.startTime;return s.a.createElement("span",null,s.a.createElement(u.a,null,s.a.createElement(i.a,{id:"components.TripSummary.leaveAt"})),s.a.createElement(o.FormattedTime,{value:a}),"",s.a.createElement(u.a,null,s.a.createElement(i.a,{id:"components.TripSummary.arriveAt"})),s.a.createElement(o.FormattedTime,{value:r}),s.a.createElement(u.a,null,", "),s.a.createElement(p,null,""),s.a.createElement("span",{"aria-hidden":!0},s.a.createElement(c.a,{duration:n})))}},function(e,t,n){"use strict";var r;var i,o,a=n(1).default.span(r||(i=["\n  &::after {\n    content: '';\n    margin: 0 ","em;\n  }\n"],o||(o=i.slice(0)),r=Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(o)}}))),(function(e){return e.margin}));t.a=a},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},function(e,t){e.exports={api:{host:"https://otp.113073.xyz",path:"/otp/routers/default",basePath:"/otp",port:443,v2:!0},persistence:{enabled:!0,strategy:"localStorage"},dateTime:{timeFormat:"h:mm a",dateFormat:"MM/dd/yyyy"},map:{initLat:42.24604624072383,initLon:-71.90871795137681,baseLayers:[{name:"Streets",url:"//basemaps.cartocdn.com/gl/positron-gl-style/style.json",attribution:'Map tiles: &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>, &copy; <a href="https://carto.com/attributions">CARTO</a>',maxZoom:20},{name:"Stamen Toner Lite",url:"//tiles.stadiamaps.com/styles/stamen_toner_lite.json",attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, under <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>. Data by <a href="http://openstreetmap.org">OpenStreetMap</a>, under <a href="http://www.openstreetmap.org/copyright">ODbL</a>.'}]},geocoder:{apiKey:"ge-98fa5f6f8b236ed1",geocoderResultsOrder:["STATIONS","STOPS","OTHER"],boundary:{rect:{minLon:-71.96056028535568,maxLon:-71.85663566301528,minLat:42.189156361120986,maxLat:42.28464126756726}},focusPoint:{lat:42.24604624072383,lon:-71.90871795137681},type:"PELIAS",baseUrl:"https://api.geocode.earth/v1"},modes:{modeButtons:[{iconName:"bus",key:"transit",modes:[{mode:"TRANSIT"}]},{iconName:"bicycle",key:"bicycle",modes:[{mode:"BICYCLE"},{mode:"BICYCLE",qualifier:"RENT"}]},{iconName:"car",key:"car",modes:[{mode:"CAR"}]}],initialState:{enabledModeButtons:["transit","bike"]},modeSettingDefinitions:[{applicableMode:"TRANSIT",default:!1,key:"wheelchair",iconName:"wheelchair",type:"CHECKBOX"}],transitModes:[{mode:["TROLLEYBUS","BUS"],overrideMode:"BUS",label:"Bus",color:"blue"},{mode:"TRAM",label:"MAX & Streetcar"},{mode:"RAIL",label:"WES"},{mode:"GONDOLA",label:"Aerial Tram"},{mode:"SUBWAY",label:"Subway"},{mode:"FERRY",label:"Ferry"}],accessModes:[{mode:"BICYCLE",label:"Transit + Bike"}]},routingTypes:[{key:"ITINERARY",text:"Exact Time"}],itinerary:{showRouteFares:!1,showPlanFirstLastButtons:!1,showApproximatePrefixAccessLegs:!1,showAlertEffectiveDateTimeText:!0,showAllWalkLegs:!1,strictItineraryFiltering:!1,renderRouteNamesInBlocks:!0,fillModeIcons:!0,allowUserAlertCollapsing:!0,defaultFareType:{mediumId:null,riderCategoryId:null},showHeaderText:!1,showBatchUiItineraryHeaders:!1,hideSkeletons:!0,customBatchUiBackground:!0,groupByMode:!0,groupTransitModes:!0,mergeItineraries:!0,showFirstResultByDefault:!1,disableMetroSeperatorDot:!1,onlyShowCountdownForRealtime:!0,showScheduleDeviation:!0,showLegDurations:!1,previewOverlay:!1,displayA11yError:!1,showInlineItinerarySummary:!1,syncSortWithDepartArrive:!0,alwaysShowBothTimes:!1},advancedSettingsPanel:{saveAndReturnButton:!0},disableSingleItineraryDays:!1}},function(e,t,n){"use strict";n.r(t),n.d(t,"configure",(function(){return d}));var r=n(101),i=n(0),o=n.n(i),a=n(120),s=a.e,l=r.ClassicLegIcon,c=r.ClassicModeIcon,u=function(){return o.a.createElement("div",null)};function d(e){return{ItineraryBody:s,ItineraryFooter:u,LegIcon:l,MainPanel:a.b,MobileResultsScreen:a.a,MobileSearchScreen:a.c,ModeIcon:c}}},function(e,t,n){"use strict";var r=n(105);function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.a=function(e){return function(t){return function(t){return function(n){if(n.type!==r.a)return t(n);var o=n.payload,a=o.method,s=o.args;e[a].apply(e,i(s))}}}}},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(23),a=n.n(o),s=n(15),l=n.n(s),c=n(187),u=n(92),d=n(84),f=n(69),p=n(188),m=n(236),h=n(19),g=n(4),y=n.n(g),v=n(10),b=r.forwardRef((function(e,t){return r.createElement(v.a,y()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),r.createElement("path",{fill:"currentColor",d:"M105.1 202.6c7.7-21.8 20.2-42.3 37.8-59.8 62.5-62.5 163.8-62.5 226.3 0l17.1 17.2H336c-17.7 0-32 14.3-32 32s14.3 32 32 32h127.9c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32s-32 14.3-32 32v51.2l-17.5-17.6c-87.5-87.5-229.3-87.5-316.8 0-24.4 24.4-42 53.1-52.8 83.8-5.9 16.7 2.9 34.9 19.5 40.8s34.9-2.9 40.8-19.5zM39 289.3c-5 1.5-9.8 4.2-13.7 8.2-4 4-6.7 8.8-8.1 14-.3 1.2-.6 2.5-.8 3.8-.3 1.7-.4 3.4-.4 5.1V448c0 17.7 14.3 32 32 32s32-14.3 32-32v-51.1l17.6 17.5c87.5 87.4 229.3 87.4 316.7 0 24.4-24.4 42.1-53.1 52.9-83.7 5.9-16.7-2.9-34.9-19.5-40.8s-34.9 2.9-40.8 19.5c-7.7 21.8-20.2 42.3-37.8 59.8-62.5 62.5-163.8 62.5-226.3 0l-.1-.1-17.1-17.1H176c17.7 0 32-14.3 32-32s-14.3-32-32-32H48.4c-1.6 0-3.2.1-4.8.3s-3.1.5-4.6 1z"}))}));b.displayName="Sync";var w=n(130),x=n(7),E=n(89),_=n(51),A=n.n(_),O=n(71),S=n(1),T=n(202),I=S.default.button.withConfig({displayName:"styled__Button",componentId:"sc-50mmra-0"})(["background:none;border:none;color:navy;font-family:inherit;font-size:inherit;line-height:inherit;padding-left:0.2em;:hover{cursor:pointer;text-decoration:underline;}"]),k=Object(S.css)(["cursor:pointer;left:0;position:absolute;"]),C=Object(S.default)(T.Circle).withConfig({displayName:"styled__StackedCircle",componentId:"sc-50mmra-1"})(["color:#fff;",""],k),M=Object(S.default)(O.default).withConfig({displayName:"styled__StackedLocationIcon",componentId:"sc-50mmra-2"})(["",""],k),N=Object(S.default)(M).withConfig({displayName:"styled__StackedToIcon",componentId:"sc-50mmra-3"})(["color:#333;margin-left:-3px;margin-top:-2px;"]),j=S.default.span.withConfig({displayName:"styled__StackedIconContainer",componentId:"sc-50mmra-4"})(["display:inline-block;height:20px;margin-top:2px;width:20px;"]),L=Object(S.default)(O.default).withConfig({displayName:"styled__ToIcon",componentId:"sc-50mmra-5"})(["",""],k),R=S.default.span.withConfig({displayName:"styled__IconWrapper",componentId:"sc-50mmra-6"})(['&::after{content:"";margin:0 0.125em;}']),D=n(380),P=n.n(D);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U=A()(P.a);function z(e){switch(e.type){case"briefcase":return i.a.createElement(c.a,{size:12});case"home":return i.a.createElement(p.a,{size:12});case"map-marker":return i.a.createElement(m.a,{size:12});case"refresh":return i.a.createElement(b,{size:12});case"times":return i.a.createElement(w.a,{size:12});default:return null}}function V(e){var t=e.type;return i.a.createElement(R,null,i.a.createElement(z,{type:t}))}var G=function(e){var t=Object(d.a)(),n=function(){(0,e.clearLocation)({locationType:e.type})},o=Object(r.useState)(!1),s=a()(o,2),l=s[0],c=s[1],p=e.location,m=e.locations,g=e.MapMarkerIcon,y=e.showUserSettings,v=e.type;if(!(p&&p.lat&&p.lon))return null;var b=m.find((function(e){return x.default.map.matchLatLon(e,p)})),w=b&&"work"===b.type,_=b&&"home"===b.type,A=i.a.createElement(g,{location:p,type:v}),O="from"===v?"to":"from",S=w?"briefcase":_?"home":"map-marker";return i.a.createElement(h.e,{anchor:"center",draggable:!0,latitude:p.lat,longitude:p.lon,onClick:function(e){e.originalEvent.stopPropagation(),c(!0)},onDragEnd:function(n){var r=e.setLocation,i=e.type,o=n.lngLat,a={lat:o.lat,lon:o.lng};r({locationType:i,location:F(F({},a),{},{name:t.formatMessage({defaultMessage:U["otpUi.EndpointsOverlay.coordinates"],description:"Formats rendering coordinates for a locale using the correct number separator",id:"otpUi.EndpointsOverlay.coordinates"},a)}),reverseGeocode:!0})},onDragStart:function(){return c(!1)}},A,l&&y&&i.a.createElement(u.b,{latitude:p.lat,longitude:p.lon,onClose:function(){return c(!1)}},i.a.createElement(E.b,{closePopup:function(){return c(!1)},id:"endpoint-overlay"},i.a.createElement("strong",null,i.a.createElement(V,{type:S}),p.name),!w&&i.a.createElement("div",null,i.a.createElement(I,{onClick:_?function(){(0,e.forgetPlace)("home")}:function(){var t=e.location;(0,e.rememberPlace)({type:"home",location:F(F({},t),{},{icon:"home",id:"home",type:"home"})})}},_?i.a.createElement(i.a.Fragment,null,i.a.createElement(V,{type:"times"}),i.a.createElement(f.a,{defaultMessage:U["otpUi.EndpointsOverlay.forgetHome"],description:"Button text to forget the home location",id:"otpUi.EndpointsOverlay.forgetHome"})):i.a.createElement(i.a.Fragment,null,i.a.createElement(V,{type:"home"}),i.a.createElement(f.a,{defaultMessage:U["otpUi.EndpointsOverlay.saveAsHome"],description:"Button text to save the location as home location",id:"otpUi.EndpointsOverlay.saveAsHome"})))),!_&&i.a.createElement("div",null,i.a.createElement(I,{onClick:w?function(){(0,e.forgetPlace)("work")}:function(){var t=e.location;(0,e.rememberPlace)({type:"work",location:F(F({},t),{},{icon:"briefcase",id:"work",type:"work"})})}},w?i.a.createElement(i.a.Fragment,null,i.a.createElement(V,{type:"times"}),i.a.createElement(f.a,{defaultMessage:U["otpUi.EndpointsOverlay.forgetWork"],description:"Button text to forget the work location",id:"otpUi.EndpointsOverlay.forgetWork"})):i.a.createElement(i.a.Fragment,null,i.a.createElement(V,{type:"briefcase"}),i.a.createElement(f.a,{defaultMessage:U["otpUi.EndpointsOverlay.saveAsWork"],description:"Button text to save the location as work location",id:"otpUi.EndpointsOverlay.saveAsWork"})))),i.a.createElement("div",null,i.a.createElement(I,{onClick:n},i.a.createElement(V,{type:"times"}),i.a.createElement(f.a,{defaultMessage:U["otpUi.EndpointsOverlay.clearLocation"],description:"Button text to clear the from/to location",id:"otpUi.EndpointsOverlay.clearLocation",values:{locationType:v}}))),i.a.createElement("div",null,i.a.createElement(I,{onClick:function(){var t=e.location,r=e.setLocation,i=e.type;n(),r({locationType:"from"===i?"to":"from",location:t})}},i.a.createElement(V,{type:"refresh"}),i.a.createElement(f.a,{defaultMessage:U["otpUi.EndpointsOverlay.swapLocation"],description:"Button text to swap the from/to location",id:"otpUi.EndpointsOverlay.swapLocation",values:{locationType:O}}))))))},H=function(){};function W(e){var t,n=e.location,r=e.type;switch(r){case"to":t=i.a.createElement(i.a.Fragment,null,i.a.createElement(N,{size:26,type:r}),i.a.createElement(L,{size:20,type:r}));break;default:t=i.a.createElement(i.a.Fragment,null,i.a.createElement(C,{size:20}),i.a.createElement(M,{size:20,type:r}))}return i.a.createElement(j,{title:n.name},t)}t.a=function(e){var t=e.clearLocation,n=void 0===t?H:t,r=e.forgetPlace,o=void 0===r?H:r,a=e.fromLocation,s=e.intermediatePlaces,l=void 0===s?[]:s,c=e.locations,u=void 0===c?[]:c,d=e.MapMarkerIcon,f=void 0===d?W:d,p=e.rememberPlace,m=void 0===p?H:p,h=e.setLocation,g=void 0===h?H:h,y=e.showUserSettings,v=e.toLocation;return i.a.createElement("div",null,i.a.createElement(G,{clearLocation:n,forgetPlace:o,location:a,locations:u,MapMarkerIcon:f,rememberPlace:m,setLocation:g,showUserSettings:y,type:"from"}),l.map((function(e,t){return i.a.createElement(G,{clearLocation:n,forgetPlace:o,key:t,location:e,locations:u,MapMarkerIcon:f,rememberPlace:m,setLocation:g,showUserSettings:y,type:e.type})})),i.a.createElement(G,{clearLocation:n,forgetPlace:o,location:v,locations:u,MapMarkerIcon:f,rememberPlace:m,setLocation:g,showUserSettings:y,type:"to"}))}},function(e,t,n){e.exports=function(){var e={};function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}e=function(){function e(){var e="undefined"!=typeof window&&window.React;if(this.name="react",this.lazy=0===arguments.length&&!e,!this.lazy&&(this.React=(arguments.length<=0?void 0:arguments[0])||e,!this.React))throw new Error("@bugsnag/plugin-react reference to `React` was undefined")}return e.prototype.load=function(e){if(!this.lazy){var t=a(this.React,e);return t.createErrorBoundary=function(){return t},t}var n=function(){throw new Error("@bugsnag/plugin-react was used incorrectly. Valid usage is as follows:\nPass React to the plugin constructor\n\n  `Bugsnag.start({ plugins: [new BugsnagPluginReact(React)] })`\nand then call `const ErrorBoundary = Bugsnag.getPlugin('react').createErrorBoundary()`\n\nOr if React is not available until after Bugsnag has started,\nconstruct the plugin with no arguments\n  `Bugsnag.start({ plugins: [new BugsnagPluginReact()] })`,\nthen pass in React when available to construct your error boundary\n  `const ErrorBoundary = Bugsnag.getPlugin('react').createErrorBoundary(React)`")};return n.createErrorBoundary=function(t){if(!t)throw new Error("@bugsnag/plugin-react reference to `React` was undefined");return a(t,e)},n},e}();var o=function(e){for(var t=e.split(/\s*\n\s*/g),n="",r=0,i=t.length;r<i;r++)t[r].length&&(n+=(n.length?"\n":"")+t[r]);return n},a=function(e,i){return function(a){function s(e){var t;return(t=a.call(this,e)||this).state={error:null,info:null},t.handleClearError=t.handleClearError.bind(n(t)),t}r(s,a);var l=s.prototype;return l.handleClearError=function(){this.setState({error:null,info:null})},l.componentDidCatch=function(e,t){var n=this.props.onError,r={severity:"error",unhandled:!0,severityReason:{type:"unhandledException"}},a=i.Event.create(e,!0,r,1);t&&t.componentStack&&(t.componentStack=o(t.componentStack)),a.addMetadata("react",t),i._notify(a,n),this.setState({error:e,info:t})},l.render=function(){if(this.state.error){var n=this.props.FallbackComponent;return n?e.createElement(n,t({},this.state,{clearError:this.handleClearError})):null}return this.props.children},s}(e.Component)};return e.formatComponentStack=o,e.default=e,e}()},function(e,t,n){"use strict";e.exports=n(548)},function(e,t,n){"use strict";var r=n(36).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r,y,v,x,E,_,A,O,S,T,I,k,C,M,N,j,L,R;(0,f.default)(2,arguments);var D=String(t),P=(0,p.getDefaultOptions)(),B=null!==(r=null!==(y=null==n?void 0:n.locale)&&void 0!==y?y:P.locale)&&void 0!==r?r:m.default,F=(0,d.default)(null!==(v=null!==(x=null!==(E=null!==(_=null==n?void 0:n.firstWeekContainsDate)&&void 0!==_?_:null==n||null===(A=n.locale)||void 0===A||null===(O=A.options)||void 0===O?void 0:O.firstWeekContainsDate)&&void 0!==E?E:P.firstWeekContainsDate)&&void 0!==x?x:null===(S=P.locale)||void 0===S||null===(T=S.options)||void 0===T?void 0:T.firstWeekContainsDate)&&void 0!==v?v:1);if(!(F>=1&&F<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var U=(0,d.default)(null!==(I=null!==(k=null!==(C=null!==(M=null==n?void 0:n.weekStartsOn)&&void 0!==M?M:null==n||null===(N=n.locale)||void 0===N||null===(j=N.options)||void 0===j?void 0:j.weekStartsOn)&&void 0!==C?C:P.weekStartsOn)&&void 0!==k?k:null===(L=P.locale)||void 0===L||null===(R=L.options)||void 0===R?void 0:R.weekStartsOn)&&void 0!==I?I:0);if(!(U>=0&&U<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!B.localize)throw new RangeError("locale must contain localize property");if(!B.formatLong)throw new RangeError("locale must contain formatLong property");var z=(0,a.default)(e);if(!(0,i.default)(z))throw new RangeError("Invalid time value");var V=(0,c.default)(z),G=(0,o.default)(z,V),H={firstWeekContainsDate:F,weekStartsOn:U,locale:B,_originalDate:z},W=D.match(g).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,l.default[t])(e,B.formatLong):e})).join("").match(h).map((function(r){if("''"===r)return"'";var i=r[0];if("'"===i)return w(r);var o=s.default[i];if(o)return null!=n&&n.useAdditionalWeekYearTokens||!(0,u.isProtectedWeekYearToken)(r)||(0,u.throwProtectedError)(r,t,String(e)),null!=n&&n.useAdditionalDayOfYearTokens||!(0,u.isProtectedDayOfYearToken)(r)||(0,u.throwProtectedError)(r,t,String(e)),o(G,r,B.localize,H);if(i.match(b))throw new RangeError("Format string contains an unescaped latin alphabet character `"+i+"`");return r})).join("");return W};var i=r(n(588)),o=r(n(590)),a=r(n(146)),s=r(n(592)),l=r(n(599)),c=r(n(299)),u=n(600),d=r(n(176)),f=r(n(117)),p=n(279),m=r(n(601)),h=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,g=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,y=/^'([^]*?)'?$/,v=/''/g,b=/[a-zA-Z]/;function w(e){var t=e.match(y);return t?t[1].replace(v,"'"):e}e.exports=t.default},function(e,t){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<o.length;l++){var c=o[l];if(!s(c))return!1;var u=e[c],d=t[c];if(!1===(i=n?n.call(r,u,d,c):void 0)||void 0===i&&u!==d)return!1}return!0}},function(e,t){e.exports=function(e){return null==e}},function(e,t,n){var r=n(617),i=n(349),o=n(207),a=n(621),s=n(626),l=Math.max;e.exports=function(e,t,n,c){e=i(e)?e:s(e),n=n&&!c?a(n):0;var u=e.length;return n<0&&(n=l(u+n,0)),o(e)?n<=u&&e.indexOf(t,n)>-1:!!u&&r(e,t,n)>-1}},function(e,t,n){var r=n(436),i=n(638),o=n(433),a=n(201),s=n(349),l=n(434),c=n(437),u=n(435),d=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||u(e)||o(e)))return!e.length;var t=i(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!r(e).length;for(var n in e)if(d.call(e,n))return!1;return!0}},function(e,t,n){var r=n(648);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){return t.reduce((function(e,t){return t(e,n)}),e)}},e.exports=t.default},function(e,t,n){"use strict";n.r(t);var r=n(4),i=n.n(r),o=n(9),a=n.n(o),s=n(0),l=n.n(s);t.default=function(e){var t=e.title,n=a()(e,["title"]);return l.a.createElement("svg",i()({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 418.62 160.29",height:"100%",width:"100%"},n),t?l.a.createElement("title",null,t):null,l.a.createElement("path",{d:"M230.91,500.07c-6.66,1.79-12,1.53-15.08-.71-7.84-5.72-1.89-17.25.27-20.68a103,103,0,0,0-10.64,13c-4.68,7.2-6.68,15.07-3.52,20.13,5.69,9.12,19.32,4.91,28,1.25l80.66-34Z",transform:"translate(-37 -357)"}),l.a.createElement("path",{d:"M37,431.27V357H61.88q14,0,20.68,5.77a19.31,19.31,0,0,1,6.83,15.29q0,14-14.78,15.11Q83,394.33,87,398.37T90.87,410q0,9.58-6.62,15.39T67,431.27H37Zm21.4-46h1.44a9.84,9.84,0,0,0,6.08-1.68,5.57,5.57,0,0,0,2.23-4.71q0-6.44-7.54-6.45h-0.9l-1.31.07v12.78h0Zm0,30.25,1.08,0.08h0.77a9.55,9.55,0,0,0,6.39-2A6.76,6.76,0,0,0,69,408.18a6.47,6.47,0,0,0-2.38-5.33,10.12,10.12,0,0,0-6.55-1.93H58.4v14.61h0Z",transform:"translate(-37 -357)"}),l.a.createElement("rect",{x:"56.7",width:"21.4",height:"74.27"}),l.a.createElement("polygon",{points:"141 74.27 117.92 74.27 103.7 40.02 104.27 74.27 82.87 74.27 82.87 0 104.27 0 103.7 31.84 116.33 0 138.9 0 121.81 35.84 141 74.27"}),l.a.createElement("path",{d:"M315.73,394.39q0,16.4-8.26,26.66a26.16,26.16,0,0,1-21.39,10.22A28.29,28.29,0,0,1,266,423.42q-10.5-9.94-10.5-29.82,0-19,11-29.12A27.67,27.67,0,0,1,285.82,357q13.7,0,21.81,10.12t8.11,27.26m-22.22.17q0-19.76-7.59-19.76-3.79,0-6.05,5.19-2.21,4.81-2.21,14.15t2.08,14.27q2.08,5.07,5.77,5.07t5.85-5q2.15-5,2.15-13.91",transform:"translate(-37 -357)"}),l.a.createElement("path",{d:"M383.26,431.27h-20.7l-5-26q-1.45-7.55-2.18-13.08-0.36-2.74-.62-4.57c-0.18-1.22-.29-2.15-0.36-2.79q-0.26,2-.77,7.36-0.24,2.74-.56,5.77t-0.8,6.4l-3.71,26.93h-20L310.92,357h21.14l3.49,20.44q2,12.22,2.77,19.19l0.68,6.79,0.67-5.82q1-10.2,2.68-19.39L346.24,357H364l3.47,17.85q2.53,12.45,4.35,29.48,0.57-7.65,1.23-13.56T374.54,380l3.9-23h20.88Z",transform:"translate(-37 -357)"}),l.a.createElement("path",{d:"M399.69,431.27V357H420.1l10.73,26.07,2,5.29q1.13,3,2.44,6.88l2.21,6.54q-1.18-9.67-1.79-16.55T435,373.69V357h20.62v74.27H435L423.61,404q-1.8-4.38-3.24-8.2t-2.53-7.29q1.28,7.84,1.87,13.66a101.82,101.82,0,0,1,.59,10.2v19H399.69v-0.05Z",transform:"translate(-37 -357)"}),l.a.createElement("polygon",{points:"140.86 0 140.86 74.27 180.62 74.27 180.62 56.47 162.25 56.47 162.25 45.07 178.72 45.07 178.72 27.27 162.25 27.27 162.25 17.8 189.71 17.8 189.71 74.27 211.1 74.27 211.1 17.8 223.37 17.8 223.37 0 140.86 0"}))}},function(e,t,n){var r=n(653),i=n(656).segmentReduce;e.exports=function(e,t){if(!e)throw new Error("geojson is required");return i(e,(function(e,n){var i=n.geometry.coordinates;return e+r(i[0],i[1],t)}),0)}},function(e,t,n){(function(e,n){var r=9007199254740991,i="[object Map]",o="[object Promise]",a="[object Set]",s="[object WeakMap]",l="[object DataView]",c=/^\[object .+?Constructor\]$/,u="object"==typeof e&&e&&e.Object===Object&&e,d="object"==typeof self&&self&&self.Object===Object&&self,f=u||d||Function("return this")(),p=t&&!t.nodeType&&t,m=p&&"object"==typeof n&&n&&!n.nodeType&&n,h=m&&m.exports===p;var g,y,v,b=Function.prototype,w=Object.prototype,x=f["__core-js_shared__"],E=(g=/[^.]+$/.exec(x&&x.keys&&x.keys.IE_PROTO||""))?"Symbol(src)_1."+g:"",_=b.toString,A=w.hasOwnProperty,O=w.toString,S=RegExp("^"+_.call(A).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),T=h?f.Buffer:void 0,I=w.propertyIsEnumerable,k=T?T.isBuffer:void 0,C=(y=Object.keys,v=Object,function(e){return y(v(e))}),M=G(f,"DataView"),N=G(f,"Map"),j=G(f,"Promise"),L=G(f,"Set"),R=G(f,"WeakMap"),D=!I.call({valueOf:1},"valueOf"),P=W(M),B=W(N),F=W(j),U=W(L),z=W(R);function V(e){return!(!q(e)||function(e){return!!E&&E in e}(e))&&(J(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?S:c).test(W(e))}function G(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return V(n)?n:void 0}var H=function(e){return O.call(e)};function W(e){if(null!=e){try{return _.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Y(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&Z(e)}(e)&&A.call(e,"callee")&&(!I.call(e,"callee")||"[object Arguments]"==O.call(e))}(M&&H(new M(new ArrayBuffer(1)))!=l||N&&H(new N)!=i||j&&H(j.resolve())!=o||L&&H(new L)!=a||R&&H(new R)!=s)&&(H=function(e){var t=O.call(e),n="[object Object]"==t?e.constructor:void 0,r=n?W(n):void 0;if(r)switch(r){case P:return l;case B:return i;case F:return o;case U:return a;case z:return s}return t});var Q=Array.isArray;function Z(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}(e.length)&&!J(e)}var X=k||function(){return!1};function J(e){var t=q(e)?O.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}function q(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}n.exports=function(e){if(Z(e)&&(Q(e)||"string"==typeof e||"function"==typeof e.splice||X(e)||Y(e)))return!e.length;var t=H(e);if(t==i||t==a)return!e.size;if(D||function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||w)}(e))return!C(e).length;for(var n in e)if(A.call(e,n))return!1;return!0}}).call(this,n(93),n(219)(e))},function(e,t,n){var r,i,o,a=(r={km:6371,mile:3960,meter:6371e3,nmi:3440},i=function(e){return e*Math.PI/180},o=function(e,t){switch(e){case"[lat,lon]":return{latitude:t[0],longitude:t[1]};case"[lon,lat]":return{latitude:t[1],longitude:t[0]};case"{lon,lat}":return{latitude:t.lat,longitude:t.lon};case"{lat,lng}":return{latitude:t.lat,longitude:t.lng};case"geojson":return{latitude:t.geometry.coordinates[1],longitude:t.geometry.coordinates[0]};default:return t}},function(e,t,n){var a=(n=n||{}).unit in r?r[n.unit]:r.km,s=o(n.format,e),l=o(n.format,t),c=i(l.latitude-s.latitude),u=i(l.longitude-s.longitude),d=i(s.latitude),f=i(l.latitude),p=Math.sin(c/2)*Math.sin(c/2)+Math.sin(u/2)*Math.sin(u/2)*Math.cos(d)*Math.cos(f),m=2*Math.atan2(Math.sqrt(p),Math.sqrt(1-p));return n.threshold?n.threshold>a*m:a*m});e.exports&&(e.exports=a)},function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i,o=!1,a=0;function s(){i&&clearTimeout(i)}function l(){s(),o=!0}function c(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=this,f=Date.now()-a;function p(){a=Date.now(),n.apply(d,c)}function m(){i=void 0}o||(r&&!i&&p(),s(),void 0===r&&f>e?p():!0!==t&&(i=setTimeout(r?m:p,void 0===r?e-f:e)))}return"boolean"!=typeof t&&(r=n,n=t,t=void 0),c.cancel=l,c}function n(e,n,r){return void 0===r?t(e,n,!1):t(e,r,!1!==n)}e.debounce=n,e.throttle=t,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){"use strict";var r=n(664),i={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,o,a,s,l,c,u=!1;t||(t={}),n=t.debug||!1;try{if(a=r(),s=document.createRange(),l=document.getSelection(),(c=document.createElement("span")).textContent=e,c.style.all="unset",c.style.position="fixed",c.style.top=0,c.style.clip="rect(0, 0, 0, 0)",c.style.whiteSpace="pre",c.style.webkitUserSelect="text",c.style.MozUserSelect="text",c.style.msUserSelect="text",c.style.userSelect="text",c.addEventListener("copy",(function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),void 0===r.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var o=i[t.format]||i.default;window.clipboardData.setData(o,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))})),document.body.appendChild(c),s.selectNodeContents(c),l.addRange(s),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");u=!0}catch(r){n&&console.error("unable to copy using execCommand: ",r),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),u=!0}catch(r){n&&console.error("unable to copy using clipboardData: ",r),n&&console.error("falling back to prompt"),o=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(o,e)}}finally{l&&("function"==typeof l.removeRange?l.removeRange(s):l.removeAllRanges()),c&&document.body.removeChild(c),a()}return u}},function(e,t,n){"use strict";var r=n(177),i=n.n(r),o=n(37),a=n(24),s=n(28),l=n(29),c=n.n(l),u=n(0),d=n.n(u),f=n(2),p=n.n(f),m=n(78),h=n.n(m),g=n(13),y=n(57),v=n(314),b={active:p.a.bool,disabled:p.a.bool,block:p.a.bool,onClick:p.a.func,componentClass:h.a,href:p.a.string,type:p.a.oneOf(["button","reset","submit"])},w=function(e){function t(){return e.apply(this,arguments)||this}Object(s.a)(t,e);var n=t.prototype;return n.renderAnchor=function(e,t){return d.a.createElement(v.a,Object(a.a)({},e,{className:c()(t,e.disabled&&"disabled")}))},n.renderButton=function(e,t){var n=e.componentClass,r=Object(o.a)(e,["componentClass"]),i=n||"button";return d.a.createElement(i,Object(a.a)({},r,{type:r.type||"button",className:t}))},n.render=function(){var e,t=this.props,n=t.active,r=t.block,i=t.className,s=Object(o.a)(t,["active","block","className"]),l=Object(g.f)(s),u=l[0],d=l[1],f=Object(a.a)({},Object(g.d)(u),((e={active:n})[Object(g.e)(u,"block")]=r,e)),p=c()(i,f);return d.href?this.renderAnchor(d,p):this.renderButton(d,p)},t}(d.a.Component);w.propTypes=b,w.defaultProps={active:!1,block:!1,disabled:!1},t.a=Object(g.a)("btn",Object(g.b)([y.c.LARGE,y.c.SMALL,y.c.XSMALL],Object(g.c)(i()(y.d).concat([y.e.DEFAULT,y.e.PRIMARY,y.e.LINK]),y.e.DEFAULT,w)))},function(e,t,n){e.exports=n(676)},function(e,t,n){e.exports=n(683)},function(e,t,n){e.exports=n(688)},function(e,t,n){e.exports=n(721)},function(e,t,n){var r=n(739),i=n(740);e.exports=function(e,t,n,o){return t.length>0&&Array.isArray(t[0])?i(e,t,n,o):r(e,t,n,o)},e.exports.nested=i,e.exports.flat=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(741),o=(r=i)&&r.__esModule?r:{default:r};t.default=o.default},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ViewStopButton=t.TransitLegSubheader=t.RouteDescription=t.PlaceName=t.LineColumnContent=t.ItineraryBody=void 0;var i=r(n(388));t.ItineraryBody=i.default;var o=r(n(263));t.LineColumnContent=o.default;var a=r(n(473));t.PlaceName=a.default;var s=r(n(389));t.RouteDescription=s.default;var l=r(n(390));t.TransitLegSubheader=l.default;var c=r(n(480));t.ViewStopButton=c.default},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4),i=n.n(r),o=n(0),a=n(10),s=o.forwardRef((function(e,t){return o.createElement(a.a,i()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),o.createElement("path",{fill:"currentColor",d:"M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0 0 114.6 0 256s114.6 256 256 256zm-81-337c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"}))}));s.displayName="TimesCircle"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(0),o=n(753);function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var s=a(r),l=a(i),c=a(o);function u(e){var t=e.isOpen,n=e.title,r=e.subtitle,i=e.onRequestClose,o=e.onAfterOpen,a=e.onAfterClose,s=e.children,u=e.className,f=e.overlayClassName,p=e.closeIcon,m=e.from,h=void 0===m?"right":m,g=e.width,y=e.shouldCloseOnEsc,v=e.hideHeader,b=void 0!==v&&v,w="slide-pane_from_".concat(h),x=l.default.useState(!1),E=x[0],_=x[1],A=l.default.useCallback((function(){setTimeout((function(){_(!0),null==o||o()}),0)}),[o]),O=l.default.useCallback((function(){setTimeout((function(){_(!1),null==a||a()}),0)}),[a]);return l.default.createElement(c.default,{ariaHideApp:!1,overlayClassName:{base:"slide-pane__overlay ".concat(f||""),afterOpen:E?"overlay-after-open":"",beforeClose:"overlay-before-close"},className:{base:"slide-pane ".concat(w," ").concat(u||""),afterOpen:E?"content-after-open":"",beforeClose:"content-before-close"},style:{content:{width:g||"80%"}},closeTimeoutMS:500,isOpen:t,shouldCloseOnEsc:y,onAfterOpen:A,onAfterClose:O,onRequestClose:i,contentLabel:'Modal "'.concat(n||"",'"')},!b&&l.default.createElement("div",{className:"slide-pane__header"},l.default.createElement("div",{className:"slide-pane__close",onClick:i},p||l.default.createElement(d,null)),l.default.createElement("div",{className:"slide-pane__title-wrapper"},l.default.createElement("h2",{className:"slide-pane__title"},n),l.default.createElement("div",{className:"slide-pane__subtitle"},r))),l.default.createElement("div",{className:"slide-pane__content"},s))}function d(){return l.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 13 22"},l.default.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4 11l8 8c.6.5.6 1.5 0 2-.5.6-1.5.6-2 0l-9-9c-.6-.5-.6-1.5 0-2l9-9c.5-.6 1.5-.6 2 0 .6.5.6 1.5 0 2l-8 8z"}))}u.propTypes={isOpen:s.default.bool.isRequired,title:s.default.node,subtitle:s.default.node,from:s.default.oneOf(["left","right","bottom"]),children:s.default.node.isRequired,className:s.default.string,overlayClassName:s.default.string,width:s.default.string,closeIcon:s.default.node,shouldCloseOnEsc:s.default.bool,hideHeader:s.default.bool,onRequestClose:s.default.func.isRequired,onAfterOpen:s.default.func,onAfterClose:s.default.func},t.ReactSlidingPane=u,t.default=u},function(e,t,n){"use strict";var r=n(24),i=n(37),o=n(28),a=n(29),s=n.n(a),l=n(0),c=n.n(l),u=n(2),d=n.n(u),f=n(78),p=n.n(f),m=n(13),h={fluid:d.a.bool,componentClass:p.a},g=function(e){function t(){return e.apply(this,arguments)||this}return Object(o.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.fluid,n=e.componentClass,o=e.className,a=Object(i.a)(e,["fluid","componentClass","className"]),l=Object(m.f)(a),u=l[0],d=l[1],f=Object(m.e)(u,t&&"fluid");return c.a.createElement(n,Object(r.a)({},d,{className:s()(o,f)}))},t}(c.a.Component);g.propTypes=h,g.defaultProps={componentClass:"div",fluid:!1},t.a=Object(m.a)("container",g)},function(e,t,n){(function(e,n){var r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",a="[object Array]",s="[object Boolean]",l="[object Date]",c="[object Error]",u="[object Function]",d="[object Map]",f="[object Number]",p="[object Object]",m="[object Promise]",h="[object RegExp]",g="[object Set]",y="[object String]",v="[object Symbol]",b="[object WeakMap]",w="[object ArrayBuffer]",x="[object DataView]",E=/^\[object .+?Constructor\]$/,_=/^(?:0|[1-9]\d*)$/,A={};A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A[o]=A[a]=A[w]=A[s]=A[x]=A[l]=A[c]=A[u]=A[d]=A[f]=A[p]=A[h]=A[g]=A[y]=A[b]=!1;var O="object"==typeof e&&e&&e.Object===Object&&e,S="object"==typeof self&&self&&self.Object===Object&&self,T=O||S||Function("return this")(),I=t&&!t.nodeType&&t,k=I&&"object"==typeof n&&n&&!n.nodeType&&n,C=k&&k.exports===I&&O.process,M=function(){try{return C&&C.binding("util")}catch(e){}}(),N=M&&M.isTypedArray;function j(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(t(e[n],n,e))return!0;return!1}function L(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function R(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function D(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var P,B,F,U=Array.prototype,z=Function.prototype,V=Object.prototype,G=T["__core-js_shared__"],H=(P=/[^.]+$/.exec(G&&G.keys&&G.keys.IE_PROTO||""))?"Symbol(src)_1."+P:"",W=z.toString,Y=V.hasOwnProperty,Q=V.toString,Z=RegExp("^"+W.call(Y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),X=T.Symbol,J=T.Uint8Array,q=V.propertyIsEnumerable,K=U.splice,$=(B=Object.keys,F=Object,function(e){return B(F(e))}),ee=Oe(T,"DataView"),te=Oe(T,"Map"),ne=Oe(T,"Promise"),re=Oe(T,"Set"),ie=Oe(T,"WeakMap"),oe=Oe(Object,"create"),ae=Ie(ee),se=Ie(te),le=Ie(ne),ce=Ie(re),ue=Ie(ie),de=X?X.prototype:void 0,fe=de?de.valueOf:void 0;function pe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function me(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function he(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ge(e){var t=-1,n=e?e.length:0;for(this.__data__=new he;++t<n;)this.add(e[t])}function ye(e){this.__data__=new me(e)}function ve(e,t){var n=Ce(e)||function(e){return function(e){return Re(e)&&Me(e)}(e)&&Y.call(e,"callee")&&(!q.call(e,"callee")||Q.call(e)==o)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,i=!!r;for(var a in e)!t&&!Y.call(e,a)||i&&("length"==a||Te(a,r))||n.push(a);return n}function be(e,t){for(var n=e.length;n--;)if(ke(e[n][0],t))return n;return-1}function we(e,t,n,r,i){return e===t||(null==e||null==t||!Le(e)&&!Re(t)?e!=e&&t!=t:function(e,t,n,r,i,u){var m=Ce(e),b=Ce(t),E=a,_=a;m||(E=(E=Se(e))==o?p:E);b||(_=(_=Se(t))==o?p:_);var A=E==p&&!L(e),O=_==p&&!L(t),S=E==_;if(S&&!A)return u||(u=new ye),m||De(e)?_e(e,t,n,r,i,u):function(e,t,n,r,i,o,a){switch(n){case x:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case w:return!(e.byteLength!=t.byteLength||!r(new J(e),new J(t)));case s:case l:case f:return ke(+e,+t);case c:return e.name==t.name&&e.message==t.message;case h:case y:return e==t+"";case d:var u=R;case g:var p=2&o;if(u||(u=D),e.size!=t.size&&!p)return!1;var m=a.get(e);if(m)return m==t;o|=1,a.set(e,t);var b=_e(u(e),u(t),r,i,o,a);return a.delete(e),b;case v:if(fe)return fe.call(e)==fe.call(t)}return!1}(e,t,E,n,r,i,u);if(!(2&i)){var T=A&&Y.call(e,"__wrapped__"),I=O&&Y.call(t,"__wrapped__");if(T||I){var k=T?e.value():e,C=I?t.value():t;return u||(u=new ye),n(k,C,r,i,u)}}if(!S)return!1;return u||(u=new ye),function(e,t,n,r,i,o){var a=2&i,s=Pe(e),l=s.length,c=Pe(t).length;if(l!=c&&!a)return!1;var u=l;for(;u--;){var d=s[u];if(!(a?d in t:Y.call(t,d)))return!1}var f=o.get(e);if(f&&o.get(t))return f==t;var p=!0;o.set(e,t),o.set(t,e);var m=a;for(;++u<l;){var h=e[d=s[u]],g=t[d];if(r)var y=a?r(g,h,d,t,e,o):r(h,g,d,e,t,o);if(!(void 0===y?h===g||n(h,g,r,i,o):y)){p=!1;break}m||(m="constructor"==d)}if(p&&!m){var v=e.constructor,b=t.constructor;v==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b||(p=!1)}return o.delete(e),o.delete(t),p}(e,t,n,r,i,u)}(e,t,we,n,r,i))}function xe(e){return!(!Le(e)||function(e){return!!H&&H in e}(e))&&(Ne(e)||L(e)?Z:E).test(Ie(e))}function Ee(e){if(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||V,t!==r)return $(e);var t,n,r,i=[];for(var o in Object(e))Y.call(e,o)&&"constructor"!=o&&i.push(o);return i}function _e(e,t,n,r,i,o){var a=2&i,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(e);if(c&&o.get(t))return c==t;var u=-1,d=!0,f=1&i?new ge:void 0;for(o.set(e,t),o.set(t,e);++u<s;){var p=e[u],m=t[u];if(r)var h=a?r(m,p,u,t,e,o):r(p,m,u,e,t,o);if(void 0!==h){if(h)continue;d=!1;break}if(f){if(!j(t,(function(e,t){if(!f.has(t)&&(p===e||n(p,e,r,i,o)))return f.add(t)}))){d=!1;break}}else if(p!==m&&!n(p,m,r,i,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function Ae(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Oe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return xe(n)?n:void 0}pe.prototype.clear=function(){this.__data__=oe?oe(null):{}},pe.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},pe.prototype.get=function(e){var t=this.__data__;if(oe){var n=t[e];return n===r?void 0:n}return Y.call(t,e)?t[e]:void 0},pe.prototype.has=function(e){var t=this.__data__;return oe?void 0!==t[e]:Y.call(t,e)},pe.prototype.set=function(e,t){return this.__data__[e]=oe&&void 0===t?r:t,this},me.prototype.clear=function(){this.__data__=[]},me.prototype.delete=function(e){var t=this.__data__,n=be(t,e);return!(n<0)&&(n==t.length-1?t.pop():K.call(t,n,1),!0)},me.prototype.get=function(e){var t=this.__data__,n=be(t,e);return n<0?void 0:t[n][1]},me.prototype.has=function(e){return be(this.__data__,e)>-1},me.prototype.set=function(e,t){var n=this.__data__,r=be(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},he.prototype.clear=function(){this.__data__={hash:new pe,map:new(te||me),string:new pe}},he.prototype.delete=function(e){return Ae(this,e).delete(e)},he.prototype.get=function(e){return Ae(this,e).get(e)},he.prototype.has=function(e){return Ae(this,e).has(e)},he.prototype.set=function(e,t){return Ae(this,e).set(e,t),this},ge.prototype.add=ge.prototype.push=function(e){return this.__data__.set(e,r),this},ge.prototype.has=function(e){return this.__data__.has(e)},ye.prototype.clear=function(){this.__data__=new me},ye.prototype.delete=function(e){return this.__data__.delete(e)},ye.prototype.get=function(e){return this.__data__.get(e)},ye.prototype.has=function(e){return this.__data__.has(e)},ye.prototype.set=function(e,t){var n=this.__data__;if(n instanceof me){var r=n.__data__;if(!te||r.length<199)return r.push([e,t]),this;n=this.__data__=new he(r)}return n.set(e,t),this};var Se=function(e){return Q.call(e)};function Te(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||_.test(e))&&e>-1&&e%1==0&&e<t}function Ie(e){if(null!=e){try{return W.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ke(e,t){return e===t||e!=e&&t!=t}(ee&&Se(new ee(new ArrayBuffer(1)))!=x||te&&Se(new te)!=d||ne&&Se(ne.resolve())!=m||re&&Se(new re)!=g||ie&&Se(new ie)!=b)&&(Se=function(e){var t=Q.call(e),n=t==p?e.constructor:void 0,r=n?Ie(n):void 0;if(r)switch(r){case ae:return x;case se:return d;case le:return m;case ce:return g;case ue:return b}return t});var Ce=Array.isArray;function Me(e){return null!=e&&je(e.length)&&!Ne(e)}function Ne(e){var t=Le(e)?Q.call(e):"";return t==u||"[object GeneratorFunction]"==t}function je(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}function Le(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Re(e){return!!e&&"object"==typeof e}var De=N?function(e){return function(t){return e(t)}}(N):function(e){return Re(e)&&je(e.length)&&!!A[Q.call(e)]};function Pe(e){return Me(e)?ve(e):Ee(e)}n.exports=function(e,t,n){var r=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===r?we(e,t,n):!!r}}).call(this,n(93),n(219)(e))},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.invisibleCss=void 0;var l=a(n(0)),c=n(6),u=a(n(1)),d=s(n(778));t.invisibleCss=(0,u.css)(f||(f=r(["\n  clip: rect(0, 0, 0, 0);\n  height: 0;\n  overflow: hidden;\n  position: absolute;\n  width: 0;\n"],["\n  clip: rect(0, 0, 0, 0);\n  height: 0;\n  overflow: hidden;\n  position: absolute;\n  width: 0;\n"])));var f,p,m,h,g,y=u.default.span(p||(p=r(["\n  display: inline-block;\n  ","\n"],["\n  display: inline-block;\n  ","\n"])),t.invisibleCss),v=u.default.fieldset(m||(m=r(["\n  border: none;\n  display: inline-flex;\n  gap: 0 3px;\n  margin: 0 4px 0 0;\n  padding: 0;\n\n  /* <legend> is not shown visually. */\n  & > legend {\n    ","\n  }\n"],["\n  border: none;\n  display: inline-flex;\n  gap: 0 3px;\n  margin: 0 4px 0 0;\n  padding: 0;\n\n  /* <legend> is not shown visually. */\n  & > legend {\n    ","\n  }\n"])),t.invisibleCss),b="#666",w="#333",x=(0,u.css)(h||(h=r(["\n  box-shadow: rgba(0, 0, 0, 0.1) 0 0 20px;\n"],["\n  box-shadow: rgba(0, 0, 0, 0.1) 0 0 20px;\n"]))),E=u.default.span(g||(g=r(["\n  position: relative;\n\n  & > label {\n    background: #fff;\n    border-radius: 5px;\n    border: 2px solid ",";\n    cursor: pointer;\n    display: inline-flex;\n    padding: 0.75rem 0.75rem;\n    transition: all 250ms cubic-bezier(0.27, 0.01, 0.38, 1.06);\n    user-select: none;\n    justify-content: center;\n    aspect-ratio: 1/1; /* stylelint-disable-line property-no-unknown */\n  }\n\n  &:not(:last-of-type) > label {\n    border-bottom-right-radius: 0;\n    border-top-right-radius: 0;\n  }\n  &:not(:first-of-type) > label {\n    border-bottom-left-radius: 0;\n    border-top-left-radius: 0;\n  }\n  & > label:hover {\n    background: #eee;\n    border-color: ",";\n    ","\n  }\n\n  & > input {\n    ","\n    /* Firefox will still render (tiny) controls, even if their bounds are empty,\n       so move them out of sight. */\n    left: -20px;\n    position: absolute;\n  }\n\n  & > button {\n    ","\n    background: none;\n    border: none;\n    /* Lateral position is offset so that the button outline is visible when focused. */\n    bottom: 0;\n    left: 4px;\n    position: absolute;\n  }\n\n  & > button:focus {\n    clip: initial;\n    height: initial;\n    width: calc(100% - 8px);\n  }\n\n  & > input:checked + label {\n    background: ",";\n  }\n\n  & > input:checked + label,\n  & > input:checked ~ button {\n    color: white;\n    fill: ",";\n  }\n\n  & > input:focus + label {\n    outline: 5px auto blue;\n    /* This next line enhances the visuals in Chromium (webkit) browsers */\n    outline: 5px auto -webkit-focus-ring-color;\n    /* Render the focus outline inside and distinct from the border for both Chrome and Firefox. */\n    outline-offset: -4px;\n  }\n\n  & > input:checked + label:hover {\n    background: ",";\n  }\n\n  & > label > svg {\n    color: ",";\n    display: inline-block;\n    height: 32px;\n    margin: auto;\n    vertical-align: middle;\n    width: 32px;\n    fill: ",";\n  }\n\n  & > input:checked + label > svg {\n    color: #eee;\n  }\n"],["\n  position: relative;\n\n  & > label {\n    background: #fff;\n    border-radius: 5px;\n    border: 2px solid ",";\n    cursor: pointer;\n    display: inline-flex;\n    padding: 0.75rem 0.75rem;\n    transition: all 250ms cubic-bezier(0.27, 0.01, 0.38, 1.06);\n    user-select: none;\n    justify-content: center;\n    aspect-ratio: 1/1; /* stylelint-disable-line property-no-unknown */\n  }\n\n  &:not(:last-of-type) > label {\n    border-bottom-right-radius: 0;\n    border-top-right-radius: 0;\n  }\n  &:not(:first-of-type) > label {\n    border-bottom-left-radius: 0;\n    border-top-left-radius: 0;\n  }\n  & > label:hover {\n    background: #eee;\n    border-color: ",";\n    ","\n  }\n\n  & > input {\n    ","\n    /* Firefox will still render (tiny) controls, even if their bounds are empty,\n       so move them out of sight. */\n    left: -20px;\n    position: absolute;\n  }\n\n  & > button {\n    ","\n    background: none;\n    border: none;\n    /* Lateral position is offset so that the button outline is visible when focused. */\n    bottom: 0;\n    left: 4px;\n    position: absolute;\n  }\n\n  & > button:focus {\n    clip: initial;\n    height: initial;\n    width: calc(100% - 8px);\n  }\n\n  & > input:checked + label {\n    background: ",";\n  }\n\n  & > input:checked + label,\n  & > input:checked ~ button {\n    color: white;\n    fill: ",";\n  }\n\n  & > input:focus + label {\n    outline: 5px auto blue;\n    /* This next line enhances the visuals in Chromium (webkit) browsers */\n    outline: 5px auto -webkit-focus-ring-color;\n    /* Render the focus outline inside and distinct from the border for both Chrome and Firefox. */\n    outline-offset: -4px;\n  }\n\n  & > input:checked + label:hover {\n    background: ",";\n  }\n\n  & > label > svg {\n    color: ",";\n    display: inline-block;\n    height: 32px;\n    margin: auto;\n    vertical-align: middle;\n    width: 32px;\n    fill: ",";\n  }\n\n  & > input:checked + label > svg {\n    color: #eee;\n  }\n"])),(function(e){return e.accentColor||b}),(function(e){return e.activeHoverColor||w}),x,t.invisibleCss,t.invisibleCss,(function(e){return e.accentColor||b}),(function(e){return!1===e.fillModeIcons?"inherit":"currentcolor"}),(function(e){return e.activeHoverColor||w}),(function(e){return e.accentColor||b}),(function(e){return!1===e.fillModeIcons?"inherit":"currentcolor"}));function _(e){var t,n=e.accentColor,r=e.activeHoverColor,i=e.fillModeIcons,o=e.id,a=e.modeButton,s=e.onToggle,u=(0,c.useIntl)(),f="metro-mode-selector-mode-".concat(o),p=(0,d.default)(a.key,u,a.label);return l.default.createElement(E,{accentColor:n,activeHoverColor:r,fillModeIcons:i},l.default.createElement("input",{"aria-label":p,checked:null!==(t=a.enabled)&&void 0!==t?t:void 0,id:f,onChange:s,type:"checkbox"}),l.default.createElement("label",{htmlFor:f,title:p},l.default.createElement(a.Icon,{"aria-hidden":!0,size:32}),l.default.createElement(y,null,p)))}t.default=function(e){var t=e.accentColor,n=e.activeHoverColor,r=e.fillModeIcons,i=e.label,o=e.modeButtons,a=void 0===o?[]:o,s=e.onSettingsUpdate,c=e.onToggleModeButton;return l.default.createElement(v,{className:"metro-mode-selector"},l.default.createElement("legend",null,i),a.map((function(e){return l.default.createElement(_,{accentColor:t,activeHoverColor:n,fillModeIcons:r,id:e.key,key:e.label,modeButton:e,onSettingsUpdate:s,onToggle:(0,l.useCallback)((function(){c(e.key,!e.enabled)}),[e,c])})})))}},function(e,t,n){"use strict";var r=n(313),i=n.n(r),o=n(177),a=n.n(o),s=n(24),l=n(28),c=n(29),u=n.n(c),d=n(2),f=n.n(d),p=n(0),m=n.n(p),h=n(319),g=n.n(h),y=(n(275),n(13)),v=n(57),b=n(333),w={onEnter:f.a.func,onEntering:f.a.func,onEntered:f.a.func,onExit:f.a.func,onExiting:f.a.func,onExited:f.a.func},x={$bs_panel:f.a.shape({headingId:f.a.string,bodyId:f.a.string,bsClass:f.a.string,expanded:f.a.bool})},E=function(e){function t(){return e.apply(this,arguments)||this}return Object(l.a)(t,e),t.prototype.render=function(){var e=this.props.children,t=this.context.$bs_panel||{},n=t.headingId,r=t.bodyId,i=t.bsClass,o=t.expanded,a=Object(y.f)(this.props),l=a[0],c=a[1];return l.bsClass=i||l.bsClass,n&&r&&(c.id=r,c.role=c.role||"tabpanel",c["aria-labelledby"]=n),m.a.createElement(b.a,Object(s.a)({in:o},c),m.a.createElement("div",{className:Object(y.e)(l,"collapse")},e))},t}(m.a.Component);E.propTypes=w,E.contextTypes=x;var _=Object(y.a)("panel",E),A={collapsible:f.a.bool.isRequired},O={$bs_panel:f.a.shape({bsClass:f.a.string})},S=function(e){function t(){return e.apply(this,arguments)||this}return Object(l.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=e.collapsible,i=(this.context.$bs_panel||{}).bsClass,o=Object(y.g)(this.props,["collapsible"]),a=o[0],l=o[1];a.bsClass=i||a.bsClass;var c=m.a.createElement("div",Object(s.a)({},l,{className:u()(n,Object(y.e)(a,"body"))}),t);return r&&(c=m.a.createElement(_,null,c)),c},t}(m.a.Component);S.propTypes=A,S.defaultProps={collapsible:!1},S.contextTypes=O;var T=Object(y.a)("panel",S),I=n(37),k=n(245),C=n.n(k),M={componentClass:C.a},N={$bs_panel:f.a.shape({headingId:f.a.string,bsClass:f.a.string})},j=function(e){function t(){return e.apply(this,arguments)||this}return Object(l.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=e.componentClass,i=Object(I.a)(e,["children","className","componentClass"]),o=this.context.$bs_panel||{},a=o.headingId,l=o.bsClass,c=Object(y.f)(i),d=c[0],f=c[1];return d.bsClass=l||d.bsClass,a&&(f.role=f.role||"tab",f.id=a),m.a.createElement(r,Object(s.a)({},f,{className:u()(n,Object(y.e)(d,"heading"))}),t)},t}(m.a.Component);j.propTypes=M,j.defaultProps={componentClass:"div"},j.contextTypes=N;var L=Object(y.a)("panel",j),R=n(64),D=n(314),P=n(67),B={onClick:f.a.func,componentClass:C.a},F={componentClass:D.a},U={$bs_panel:f.a.shape({bodyId:f.a.string,onToggle:f.a.func,expanded:f.a.bool})},z=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleToggle=t.handleToggle.bind(Object(R.a)(Object(R.a)(t))),t}Object(l.a)(t,e);var n=t.prototype;return n.handleToggle=function(e){var t=(this.context.$bs_panel||{}).onToggle;t&&t(e)},n.render=function(){var e=this.props,t=e.onClick,n=e.className,r=e.componentClass,i=Object(I.a)(e,["onClick","className","componentClass"]),o=this.context.$bs_panel||{},a=o.expanded,s=o.bodyId,l=r;return i.onClick=Object(P.a)(t,this.handleToggle),i["aria-expanded"]=a,i.className=u()(n,!a&&"collapsed"),s&&(i["aria-controls"]=s),m.a.createElement(l,i)},t}(m.a.Component);z.propTypes=B,z.defaultProps=F,z.contextTypes=U;var V=z,G={componentClass:C.a,toggle:f.a.bool},H={$bs_panel:f.a.shape({bsClass:f.a.string})},W=function(e){function t(){return e.apply(this,arguments)||this}return Object(l.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=e.toggle,i=e.componentClass,o=Object(I.a)(e,["children","className","toggle","componentClass"]),a=(this.context.$bs_panel||{}).bsClass,l=Object(y.f)(o),c=l[0],d=l[1];return c.bsClass=a||c.bsClass,r&&(t=m.a.createElement(V,null,t)),m.a.createElement(i,Object(s.a)({},d,{className:u()(n,Object(y.e)(c,"title"))}),t)},t}(m.a.Component);W.propTypes=G,W.defaultProps={componentClass:"div"},W.contextTypes=H;var Y=Object(y.a)("panel",W),Q={$bs_panel:f.a.shape({bsClass:f.a.string})},Z=function(e){function t(){return e.apply(this,arguments)||this}return Object(l.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=(this.context.$bs_panel||{}).bsClass,i=Object(y.f)(this.props),o=i[0],a=i[1];return o.bsClass=r||o.bsClass,m.a.createElement("div",Object(s.a)({},a,{className:u()(n,Object(y.e)(o,"footer"))}),t)},t}(m.a.Component);Z.contextTypes=Q;var X=Object(y.a)("panel",Z),J=Object.prototype.hasOwnProperty,q=function(e,t){return e?e+"--"+t:null},K={expanded:f.a.bool,onToggle:f.a.func,eventKey:f.a.any,id:f.a.string},$={$bs_panelGroup:f.a.shape({getId:f.a.func,activeKey:f.a.any,onToggle:f.a.func})},ee={$bs_panel:f.a.shape({headingId:f.a.string,bodyId:f.a.string,bsClass:f.a.string,onToggle:f.a.func,expanded:f.a.bool})},te=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleToggle=function(e){var n=t.context.$bs_panelGroup,r=!t.getExpanded();n&&n.onToggle?n.onToggle(t.props.eventKey,r,e):t.props.onToggle(r,e)},t}Object(l.a)(t,e);var n=t.prototype;return n.getChildContext=function(){var e,t=this.props,n=t.eventKey,r=t.id,i=null==n?r:n;if(null!==i){var o=this.context.$bs_panelGroup,a=o&&o.getId||q;e={headingId:a(i,"heading"),bodyId:a(i,"body")}}return{$bs_panel:Object(s.a)({},e,{bsClass:this.props.bsClass,expanded:this.getExpanded(),onToggle:this.handleToggle})}},n.getExpanded=function(){var e=this.context.$bs_panelGroup;return e&&J.call(e,"activeKey")?e.activeKey===this.props.eventKey:!!this.props.expanded},n.render=function(){var e=this.props,t=e.className,n=e.children,r=Object(y.g)(this.props,["onToggle","eventKey","expanded"]),i=r[0],o=r[1];return m.a.createElement("div",Object(s.a)({},o,{className:u()(t,Object(y.d)(i))}),n)},t}(m.a.Component);te.propTypes=K,te.contextTypes=$,te.childContextTypes=ee;var ne=g()(Object(y.a)("panel",Object(y.c)(a()(v.d).concat([v.e.DEFAULT,v.e.PRIMARY]),v.e.DEFAULT,te)),{expanded:"onToggle"});i()(ne,{Heading:L,Title:Y,Body:T,Footer:X,Toggle:V,Collapse:_});t.a=ne},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(86),l=n(43),c=a(n(7)),u=a(n(0)),d=n(6),f=n(166),p=o(n(63)),m=n(87),h=c.default.time,g=h.getUserTimezone,y=h.getCurrentDate;function v(e){switch(e.dayDiff){case-1:return u.default.createElement(d.FormattedMessage,{defaultMessage:m.defaultMessages["otpUi.TransitLegBody.AlertsBody.yesterday"],description:"Yesterday",id:"otpUi.TransitLegBody.AlertsBody.yesterday"});case 0:return u.default.createElement(d.FormattedMessage,{defaultMessage:m.defaultMessages["otpUi.TransitLegBody.AlertsBody.today"],description:"Today",id:"otpUi.TransitLegBody.AlertsBody.today"});case 1:return u.default.createElement(d.FormattedMessage,{defaultMessage:m.defaultMessages["otpUi.TransitLegBody.AlertsBody.tomorrow"],description:"Tomorrow",id:"otpUi.TransitLegBody.AlertsBody.tomorrow"});default:return null}}t.default=function(e){var t=e.agencyName,n=e.alerts,r=e.AlertIcon,i=void 0===r?p.DefaultAlertBodyIcon:r,o=e.showAlertEffectiveDateTimeText,a=void 0===o||o,c=e.timeZone,h=void 0===c?g():c;return"object"!=typeof n?null:u.default.createElement(p.TransitAlerts,{className:"alert-body"},n.sort((function(e,t){return t.effectiveStartDate-e.effectiveStartDate})).map((function(e,n){var r=e.alertDescriptionText,o=e.alertHeaderText,c=e.alertUrl,g=e.effectiveStartDate,b=(0,l.toDate)(y(h)),w=(0,l.utcToZonedTime)(new Date(g),h),x=(0,s.differenceInCalendarDays)(w,b);return u.default.createElement(p.TransitAlert,{key:n},u.default.createElement(p.TransitAlertIconContainer,null,u.default.createElement(i,null)),o&&u.default.createElement(p.TransitAlertHeader,null,o),u.default.createElement(p.TransitAlertBody,null,r),a&&u.default.createElement(p.TransitAlertEffectiveDate,null,Math.abs(x)<=1?u.default.createElement(d.FormattedMessage,{defaultMessage:m.defaultMessages["otpUi.TransitLegBody.AlertsBody.effectiveTimeAndDate"],description:"Text with the time and date an alert takes effect",id:"otpUi.TransitLegBody.AlertsBody.effectiveTimeAndDate",values:{dateTime:1e3*g,day:u.default.createElement(v,{dayDiff:x})}}):u.default.createElement(d.FormattedMessage,{defaultMessage:m.defaultMessages["otpUi.TransitLegBody.AlertsBody.effectiveDate"],description:"Text with the date an alert takes effect",id:"otpUi.TransitLegBody.AlertsBody.effectiveDate",values:{dateTime:1e3*g}}),(null==c?void 0:c.trim())&&u.default.createElement(p.TransitAlertExternalLink,{href:c,target:"_blank"},u.default.createElement(f.ExternalLinkAlt,{height:10}),t?u.default.createElement(d.FormattedMessage,{defaultMessage:m.defaultMessages["otpUi.TransitLegBody.AlertsBody.alertLinkText"],description:"Describes how link directs to agency website",id:"otpUi.TransitLegBody.AlertsBody.alertLinkText",values:{agency:t}}):u.default.createElement(d.FormattedMessage,{defaultMessage:m.defaultMessages["otpUi.TransitLegBody.AlertsBody.noAgencyAlertLinkText"],description:"Describes how link directs to agency website, but does not name agency",id:"otpUi.TransitLegBody.AlertsBody.noAgencyAlertLinkText"}),u.default.createElement(p.InvisibleAdditionalDetails,null," ",u.default.createElement(d.FormattedMessage,{id:"otpUi.TransitLegBody.AlertsBody.linkOpensNewWindow"})))))})))}},,,function(e,t,n){e.exports=n(779)},function(e,t,n){var r,i,o;i=[],void 0===(o="function"==typeof(r=function(){"use strict";var e,t,n=Math,r=Number,i=Object.defineProperty,o={sinh:function(e){if(0===e)return e;var t=n.exp(e);return t/2-.5/t},cosh:function(e){var t=n.exp(e);return t/2+.5/t},tanh:function(e){return 0===e?e:e<0?((t=n.exp(2*e))-1)/(t+1):(1-(t=n.exp(-2*e)))/(1+t);var t},asinh:function(e){return e===-1/0?-1/0:n.log(e+n.sqrt(e*e+1))},acosh:function(e){return e>=1?n.log(e+n.sqrt(e*e-1)):NaN},atanh:function(e){return e>=-1&&e<=1?n.log((1+e)/(1-e))/2:NaN},expm1:function(e){return 0===e?e:n.exp(e)-1},log10:function(e){return n.log(e)/n.LN10},log2:function(e){return n.log(e)/n.LN2},log1p:function(e){return 0===e?e:n.log(1+e)},sign:function(e){return isNaN(e)?NaN:e<0?-1:e>0?1:+e},cbrt:function(e){return 0===e?e:e<0?-n.pow(-e,1/3):n.pow(e,1/3)},hypot:function(e,t){for(var r=0,i=0,o=arguments;r<o.length;r++)i+=o[r]*o[r];return n.sqrt(i)},trunc:function(e){return 0===e?e:e<0?n.ceil(e):n.floor(e)},fround:"function"==typeof Float32Array?(t=new Float32Array(1),function(e){return t[0]=e,t[0]}):function(e){return e},clz32:function(e){if(e===-1/0)return 32;if(e<0||(e|=0)<0)return 0;if(!e)return 32;for(var t=31;e>>=1;)t--;return t},imul:function(e,t){return(0|e)*(0|t)|0}},a={isNaN:function(e){return"number"==typeof e&&e!=e},isFinite:function(e){return"number"==typeof e&&e==e&&e!==1/0&&e!==-1/0},isInteger:function(e){return"number"==typeof e&&e!==1/0&&e!==-1/0&&n.floor(e)===e},isSafeInteger:function(e){return"number"==typeof e&&e>-9007199254740992&&e<9007199254740992&&n.floor(e)===e},parseFloat:parseFloat,parseInt:parseInt},s={EPSILON:2220446049250313e-31,MAX_SAFE_INTEGER:9007199254740991,MIN_SAFE_INTEGER:-9007199254740991};for(e in o)"function"!=typeof n[e]&&(n[e]=o[e]);for(e in a)"function"!=typeof r[e]&&(r[e]=a[e]);try{for(e in i(e={},0,{}),s)e in r||i(r,e,{value:s[e]})}catch(t){for(e in s)e in r||(r[e]=s[e])}})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){"use strict";var r=n(416),i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,u=i?Symbol.for("react.provider"):60109,d=i?Symbol.for("react.context"):60110,f=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,m=i?Symbol.for("react.memo"):60115,h=i?Symbol.for("react.lazy"):60116,g="function"==typeof Symbol&&Symbol.iterator;function y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||v}function x(){}function E(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||v}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(y(85));this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=w.prototype;var _=E.prototype=new x;_.constructor=E,r(_,w.prototype),_.isPureReactComponent=!0;var A={current:null},O=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,n){var r,i={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)O.call(t,r)&&!S.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:A.current}}function I(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var k=/\/+/g,C=[];function M(e,t,n,r){if(C.length){var i=C.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function N(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>C.length&&C.push(e)}function j(e,t,n,r){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var s=!1;if(null===e)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case o:case a:s=!0}}if(s)return n(r,e,""===t?"."+R(e,0):t),1;if(s=0,t=""===t?".":t+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=t+R(i=e[l],l);s+=j(i,c,n,r)}else if(null===e||"object"!=typeof e?c=null:c="function"==typeof(c=g&&e[g]||e["@@iterator"])?c:null,"function"==typeof c)for(e=c.call(e),l=0;!(i=e.next()).done;)s+=j(i=i.value,c=t+R(i,l++),n,r);else if("object"===i)throw n=""+e,Error(y(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return s}function L(e,t,n){return null==e?0:j(e,"",t,n)}function R(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function D(e,t){e.func.call(e.context,t,e.count++)}function P(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?B(e,r,n,(function(e){return e})):null!=e&&(I(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(k,"$&/")+"/")+n)),r.push(e))}function B(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(k,"$&/")+"/"),L(e,P,t=M(t,o,r,i)),N(t)}var F={current:null};function U(){var e=F.current;if(null===e)throw Error(y(321));return e}var z={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:A,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return B(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;L(e,D,t=M(null,null,t,n)),N(t)},count:function(e){return L(e,(function(){return null}),null)},toArray:function(e){var t=[];return B(e,t,null,(function(e){return e})),t},only:function(e){if(!I(e))throw Error(y(143));return e}},t.Component=w,t.Fragment=s,t.Profiler=c,t.PureComponent=E,t.StrictMode=l,t.Suspense=p,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,t.cloneElement=function(e,t,n){if(null==e)throw Error(y(267,e));var i=r({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=A.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)O.call(t,u)&&!S.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];i.children=c}return{$$typeof:o,type:e.type,key:a,ref:s,props:i,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:f,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:m,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return U().useCallback(e,t)},t.useContext=function(e,t){return U().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return U().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return U().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return U().useLayoutEffect(e,t)},t.useMemo=function(e,t){return U().useMemo(e,t)},t.useReducer=function(e,t,n){return U().useReducer(e,t,n)},t.useRef=function(e){return U().useRef(e)},t.useState=function(e){return U().useState(e)},t.version="16.14.0"},function(e,t,n){"use strict";var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,m=r?Symbol.for("react.suspense"):60113,h=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,v=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,w=r?Symbol.for("react.responder"):60118,x=r?Symbol.for("react.scope"):60119;function E(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case f:case a:case l:case s:case m:return e;default:switch(e=e&&e.$$typeof){case u:case p:case y:case g:case c:return e;default:return t}}case o:return t}}}function _(e){return E(e)===f}t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=u,t.ContextProvider=c,t.Element=i,t.ForwardRef=p,t.Fragment=a,t.Lazy=y,t.Memo=g,t.Portal=o,t.Profiler=l,t.StrictMode=s,t.Suspense=m,t.isAsyncMode=function(e){return _(e)||E(e)===d},t.isConcurrentMode=_,t.isContextConsumer=function(e){return E(e)===u},t.isContextProvider=function(e){return E(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return E(e)===p},t.isFragment=function(e){return E(e)===a},t.isLazy=function(e){return E(e)===y},t.isMemo=function(e){return E(e)===g},t.isPortal=function(e){return E(e)===o},t.isProfiler=function(e){return E(e)===l},t.isStrictMode=function(e){return E(e)===s},t.isSuspense=function(e){return E(e)===m},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===f||e===l||e===s||e===m||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===g||e.$$typeof===c||e.$$typeof===u||e.$$typeof===p||e.$$typeof===b||e.$$typeof===w||e.$$typeof===x||e.$$typeof===v)},t.typeOf=E},function(e,t,n){"use strict";var r=n(0),i=n(416),o=n(532);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));function s(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var l=!1,c=null,u=!1,d=null,f={onError:function(e){l=!0,c=e}};function p(e,t,n,r,i,o,a,u,d){l=!1,c=null,s.apply(f,arguments)}var m=null,h=null,g=null;function y(e,t,n){var r=e.type||"unknown-event";e.currentTarget=g(n),function(e,t,n,r,i,o,s,f,m){if(p.apply(this,arguments),l){if(!l)throw Error(a(198));var h=c;l=!1,c=null,u||(u=!0,d=h)}}(r,t,void 0,e),e.currentTarget=null}var v=null,b={};function w(){if(v)for(var e in b){var t=b[e],n=v.indexOf(e);if(!(-1<n))throw Error(a(96,e));if(!E[n]){if(!t.extractEvents)throw Error(a(97,e));for(var r in E[n]=t,n=t.eventTypes){var i=void 0,o=n[r],s=t,l=r;if(_.hasOwnProperty(l))throw Error(a(99,l));_[l]=o;var c=o.phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&x(c[i],s,l);i=!0}else o.registrationName?(x(o.registrationName,s,l),i=!0):i=!1;if(!i)throw Error(a(98,r,e))}}}}function x(e,t,n){if(A[e])throw Error(a(100,e));A[e]=t,O[e]=t.eventTypes[n].dependencies}var E=[],_={},A={},O={};function S(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!b.hasOwnProperty(t)||b[t]!==r){if(b[t])throw Error(a(102,t));b[t]=r,n=!0}}n&&w()}var T=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),I=null,k=null,C=null;function M(e){if(e=h(e)){if("function"!=typeof I)throw Error(a(280));var t=e.stateNode;t&&(t=m(t),I(e.stateNode,e.type,t))}}function N(e){k?C?C.push(e):C=[e]:k=e}function j(){if(k){var e=k,t=C;if(C=k=null,M(e),t)for(e=0;e<t.length;e++)M(t[e])}}function L(e,t){return e(t)}function R(e,t,n,r,i){return e(t,n,r,i)}function D(){}var P=L,B=!1,F=!1;function U(){null===k&&null===C||(D(),j())}function z(e,t,n){if(F)return e(t,n);F=!0;try{return P(e,t,n)}finally{F=!1,U()}}var V=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,G=Object.prototype.hasOwnProperty,H={},W={};function Y(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var Q={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){Q[e]=new Y(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];Q[t]=new Y(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){Q[e]=new Y(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){Q[e]=new Y(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){Q[e]=new Y(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){Q[e]=new Y(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){Q[e]=new Y(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){Q[e]=new Y(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){Q[e]=new Y(e,5,!1,e.toLowerCase(),null,!1)}));var Z=/[\-:]([a-z])/g;function X(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(Z,X);Q[t]=new Y(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(Z,X);Q[t]=new Y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(Z,X);Q[t]=new Y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){Q[e]=new Y(e,1,!1,e.toLowerCase(),null,!1)})),Q.xlinkHref=new Y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){Q[e]=new Y(e,1,!1,e.toLowerCase(),null,!0)}));var J=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function q(e,t,n,r){var i=Q.hasOwnProperty(t)?Q[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!G.call(W,e)||!G.call(H,e)&&(V.test(e)?W[e]=!0:(H[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}J.hasOwnProperty("ReactCurrentDispatcher")||(J.ReactCurrentDispatcher={current:null}),J.hasOwnProperty("ReactCurrentBatchConfig")||(J.ReactCurrentBatchConfig={suspense:null});var K=/^(.*)[\\\/]/,$="function"==typeof Symbol&&Symbol.for,ee=$?Symbol.for("react.element"):60103,te=$?Symbol.for("react.portal"):60106,ne=$?Symbol.for("react.fragment"):60107,re=$?Symbol.for("react.strict_mode"):60108,ie=$?Symbol.for("react.profiler"):60114,oe=$?Symbol.for("react.provider"):60109,ae=$?Symbol.for("react.context"):60110,se=$?Symbol.for("react.concurrent_mode"):60111,le=$?Symbol.for("react.forward_ref"):60112,ce=$?Symbol.for("react.suspense"):60113,ue=$?Symbol.for("react.suspense_list"):60120,de=$?Symbol.for("react.memo"):60115,fe=$?Symbol.for("react.lazy"):60116,pe=$?Symbol.for("react.block"):60121,me="function"==typeof Symbol&&Symbol.iterator;function he(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=me&&e[me]||e["@@iterator"])?e:null}function ge(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case ie:return"Profiler";case re:return"StrictMode";case ce:return"Suspense";case ue:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case ae:return"Context.Consumer";case oe:return"Context.Provider";case le:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case de:return ge(e.type);case pe:return ge(e.render);case fe:if(e=1===e._status?e._result:null)return ge(e)}return null}function ye(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=ge(e.type);n=null,r&&(n=ge(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(K,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}function ve(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function we(e){e._valueTracker||(e._valueTracker=function(e){var t=be(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function xe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=be(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Ee(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function _e(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ve(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Ae(e,t){null!=(t=t.checked)&&q(e,"checked",t,!1)}function Oe(e,t){Ae(e,t);var n=ve(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Te(e,t.type,n):t.hasOwnProperty("defaultValue")&&Te(e,t.type,ve(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Se(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Te(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ie(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ke(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ve(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Ce(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Me(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ve(n)}}function Ne(e,t){var n=ve(t.value),r=ve(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function je(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Le="http://www.w3.org/1999/xhtml",Re="http://www.w3.org/2000/svg";function De(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?De(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Be,Fe,Ue=(Fe=function(e,t){if(e.namespaceURI!==Re||"innerHTML"in e)e.innerHTML=t;else{for((Be=Be||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Be.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return Fe(e,t)}))}:Fe);function ze(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Ve(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ge={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},He={},We={};function Ye(e){if(He[e])return He[e];if(!Ge[e])return e;var t,n=Ge[e];for(t in n)if(n.hasOwnProperty(t)&&t in We)return He[e]=n[t];return e}T&&(We=document.createElement("div").style,"AnimationEvent"in window||(delete Ge.animationend.animation,delete Ge.animationiteration.animation,delete Ge.animationstart.animation),"TransitionEvent"in window||delete Ge.transitionend.transition);var Qe=Ye("animationend"),Ze=Ye("animationiteration"),Xe=Ye("animationstart"),Je=Ye("transitionend"),qe="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ke=new("function"==typeof WeakMap?WeakMap:Map);function $e(e){var t=Ke.get(e);return void 0===t&&(t=new Map,Ke.set(e,t)),t}function et(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function tt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function nt(e){if(et(e)!==e)throw Error(a(188))}function rt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=et(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return nt(i),e;if(o===r)return nt(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function it(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function ot(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var at=null;function st(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)y(e,t[r],n[r]);else t&&y(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function lt(e){if(null!==e&&(at=it(at,e)),e=at,at=null,e){if(ot(e,st),at)throw Error(a(95));if(u)throw e=d,u=!1,d=null,e}}function ct(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ut(e){if(!T)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var dt=[];function ft(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>dt.length&&dt.push(e)}function pt(e,t,n,r){if(dt.length){var i=dt.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function mt(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=Mn(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=ct(e.nativeEvent);r=e.topLevelType;var o=e.nativeEvent,a=e.eventSystemFlags;0===n&&(a|=64);for(var s=null,l=0;l<E.length;l++){var c=E[l];c&&(c=c.extractEvents(r,t,o,i,a))&&(s=it(s,c))}lt(s)}}function ht(e,t,n){if(!n.has(e)){switch(e){case"scroll":Xt(t,"scroll",!0);break;case"focus":case"blur":Xt(t,"focus",!0),Xt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ut(e)&&Xt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===qe.indexOf(e)&&Zt(e,t)}n.set(e,null)}}var gt,yt,vt,bt=!1,wt=[],xt=null,Et=null,_t=null,At=new Map,Ot=new Map,St=[],Tt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),It="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function kt(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function Ct(e,t){switch(e){case"focus":case"blur":xt=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":_t=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=kt(t,n,r,i,o),null!==t&&(null!==(t=Nn(t))&&yt(t)),e):(e.eventSystemFlags|=r,e)}function Nt(e){var t=Mn(e.target);if(null!==t){var n=et(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=tt(n)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){vt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;var t=$t(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Nn(t);return null!==n&&yt(n),e.blockedOn=t,!1}return!0}function Lt(e,t,n){jt(e)&&n.delete(t)}function Rt(){for(bt=!1;0<wt.length;){var e=wt[0];if(null!==e.blockedOn){null!==(e=Nn(e.blockedOn))&&gt(e);break}var t=$t(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:wt.shift()}null!==xt&&jt(xt)&&(xt=null),null!==Et&&jt(Et)&&(Et=null),null!==_t&&jt(_t)&&(_t=null),At.forEach(Lt),Ot.forEach(Lt)}function Dt(e,t){e.blockedOn===t&&(e.blockedOn=null,bt||(bt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Rt)))}function Pt(e){function t(t){return Dt(t,e)}if(0<wt.length){Dt(wt[0],e);for(var n=1;n<wt.length;n++){var r=wt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==xt&&Dt(xt,e),null!==Et&&Dt(Et,e),null!==_t&&Dt(_t,e),At.forEach(t),Ot.forEach(t),n=0;n<St.length;n++)(r=St[n]).blockedOn===e&&(r.blockedOn=null);for(;0<St.length&&null===(n=St[0]).blockedOn;)Nt(n),null===n.blockedOn&&St.shift()}var Bt={},Ft=new Map,Ut=new Map,zt=["abort","abort",Qe,"animationEnd",Ze,"animationIteration",Xe,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Je,"transitionEnd","waiting","waiting"];function Vt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:t},Ut.set(r,t),Ft.set(r,o),Bt[i]=o}}Vt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Vt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Vt(zt,2);for(var Gt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ht=0;Ht<Gt.length;Ht++)Ut.set(Gt[Ht],0);var Wt=o.unstable_UserBlockingPriority,Yt=o.unstable_runWithPriority,Qt=!0;function Zt(e,t){Xt(t,e,!1)}function Xt(e,t,n){var r=Ut.get(t);switch(void 0===r?2:r){case 0:r=Jt.bind(null,t,1,e);break;case 1:r=qt.bind(null,t,1,e);break;default:r=Kt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Jt(e,t,n,r){B||D();var i=Kt,o=B;B=!0;try{R(i,e,t,n,r)}finally{(B=o)||U()}}function qt(e,t,n,r){Yt(Wt,Kt.bind(null,e,t,n,r))}function Kt(e,t,n,r){if(Qt)if(0<wt.length&&-1<Tt.indexOf(e))e=kt(null,e,t,n,r),wt.push(e);else{var i=$t(e,t,n,r);if(null===i)Ct(e,r);else if(-1<Tt.indexOf(e))e=kt(i,e,t,n,r),wt.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return xt=Mt(xt,e,t,n,r,i),!0;case"dragenter":return Et=Mt(Et,e,t,n,r,i),!0;case"mouseover":return _t=Mt(_t,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return At.set(o,Mt(At.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ot.set(o,Mt(Ot.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){Ct(e,r),e=pt(e,r,null,t);try{z(mt,e)}finally{ft(e)}}}}function $t(e,t,n,r){if(null!==(n=Mn(n=ct(r)))){var i=et(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=tt(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=pt(e,r,n,t);try{z(mt,e)}finally{ft(e)}return null}var en={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tn=["Webkit","ms","Moz","O"];function nn(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||en.hasOwnProperty(e)&&en[e]?(""+t).trim():t+"px"}function rn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=nn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(en).forEach((function(e){tn.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),en[t]=en[e]}))}));var on=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function an(e,t){if(t){if(on[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62,""))}}function sn(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ln=Le;function cn(e,t){var n=$e(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=O[t];for(var r=0;r<t.length;r++)ht(t[r],e,n)}function un(){}function dn(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function fn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pn(e,t){var n,r=fn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fn(r)}}function mn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?mn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hn(){for(var e=window,t=dn();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=dn((e=t.contentWindow).document)}return t}function gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yn="$?",vn="$!",bn=null,wn=null;function xn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function En(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var _n="function"==typeof setTimeout?setTimeout:void 0,An="function"==typeof clearTimeout?clearTimeout:void 0;function On(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Sn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||n===vn||n===yn){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Tn=Math.random().toString(36).slice(2),In="__reactInternalInstance$"+Tn,kn="__reactEventHandlers$"+Tn,Cn="__reactContainere$"+Tn;function Mn(e){var t=e[In];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Cn]||n[In]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Sn(e);null!==e;){if(n=e[In])return n;e=Sn(e)}return t}n=(e=n).parentNode}return null}function Nn(e){return!(e=e[In]||e[Cn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function jn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Ln(e){return e[kn]||null}function Rn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Dn(e,t){var n=e.stateNode;if(!n)return null;var r=m(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}function Pn(e,t,n){(t=Dn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Bn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Rn(t);for(t=n.length;0<t--;)Pn(n[t],"captured",e);for(t=0;t<n.length;t++)Pn(n[t],"bubbled",e)}}function Fn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Dn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Un(e){e&&e.dispatchConfig.registrationName&&Fn(e._targetInst,null,e)}function zn(e){ot(e,Bn)}var Vn=null,Gn=null,Hn=null;function Wn(){if(Hn)return Hn;var e,t,n=Gn,r=n.length,i="value"in Vn?Vn.value:Vn.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Hn=i.slice(e,1<t?1-t:void 0)}function Yn(){return!0}function Qn(){return!1}function Zn(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Yn:Qn,this.isPropagationStopped=Qn,this}function Xn(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Jn(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function qn(e){e.eventPool=[],e.getPooled=Xn,e.release=Jn}i(Zn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Yn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Yn)},persist:function(){this.isPersistent=Yn},isPersistent:Qn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Qn,this._dispatchInstances=this._dispatchListeners=null}}),Zn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Zn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,qn(n),n},qn(Zn);var Kn=Zn.extend({data:null}),$n=Zn.extend({data:null}),er=[9,13,27,32],tr=T&&"CompositionEvent"in window,nr=null;T&&"documentMode"in document&&(nr=document.documentMode);var rr=T&&"TextEvent"in window&&!nr,ir=T&&(!tr||nr&&8<nr&&11>=nr),or=String.fromCharCode(32),ar={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},sr=!1;function lr(e,t){switch(e){case"keyup":return-1!==er.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function cr(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var ur=!1;var dr={eventTypes:ar,extractEvents:function(e,t,n,r){var i;if(tr)e:{switch(e){case"compositionstart":var o=ar.compositionStart;break e;case"compositionend":o=ar.compositionEnd;break e;case"compositionupdate":o=ar.compositionUpdate;break e}o=void 0}else ur?lr(e,n)&&(o=ar.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=ar.compositionStart);return o?(ir&&"ko"!==n.locale&&(ur||o!==ar.compositionStart?o===ar.compositionEnd&&ur&&(i=Wn()):(Gn="value"in(Vn=r)?Vn.value:Vn.textContent,ur=!0)),o=Kn.getPooled(o,t,n,r),i?o.data=i:null!==(i=cr(n))&&(o.data=i),zn(o),i=o):i=null,(e=rr?function(e,t){switch(e){case"compositionend":return cr(t);case"keypress":return 32!==t.which?null:(sr=!0,or);case"textInput":return(e=t.data)===or&&sr?null:e;default:return null}}(e,n):function(e,t){if(ur)return"compositionend"===e||!tr&&lr(e,t)?(e=Wn(),Hn=Gn=Vn=null,ur=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ir&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=$n.getPooled(ar.beforeInput,t,n,r)).data=e,zn(t)):t=null,null===i?t:null===t?i:[i,t]}},fr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!fr[e.type]:"textarea"===t}var mr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function hr(e,t,n){return(e=Zn.getPooled(mr.change,e,t,n)).type="change",N(n),zn(e),e}var gr=null,yr=null;function vr(e){lt(e)}function br(e){if(xe(jn(e)))return e}function wr(e,t){if("change"===e)return t}var xr=!1;function Er(){gr&&(gr.detachEvent("onpropertychange",_r),yr=gr=null)}function _r(e){if("value"===e.propertyName&&br(yr))if(e=hr(yr,e,ct(e)),B)lt(e);else{B=!0;try{L(vr,e)}finally{B=!1,U()}}}function Ar(e,t,n){"focus"===e?(Er(),yr=n,(gr=t).attachEvent("onpropertychange",_r)):"blur"===e&&Er()}function Or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return br(yr)}function Sr(e,t){if("click"===e)return br(t)}function Tr(e,t){if("input"===e||"change"===e)return br(t)}T&&(xr=ut("input")&&(!document.documentMode||9<document.documentMode));var Ir={eventTypes:mr,_isInputEventSupported:xr,extractEvents:function(e,t,n,r){var i=t?jn(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=wr;else if(pr(i))if(xr)a=Tr;else{a=Or;var s=Ar}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=Sr);if(a&&(a=a(e,t)))return hr(a,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Te(i,"number",i.value)}},kr=Zn.extend({view:null,detail:null}),Cr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cr[e])&&!!t[e]}function Nr(){return Mr}var jr=0,Lr=0,Rr=!1,Dr=!1,Pr=kr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Nr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=jr;return jr=e.screenX,Rr?"mousemove"===e.type?e.screenX-t:0:(Rr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Lr;return Lr=e.screenY,Dr?"mousemove"===e.type?e.screenY-t:0:(Dr=!0,0)}}),Br=Pr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Fr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Ur={eventTypes:Fr,extractEvents:function(e,t,n,r,i){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0==(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?Mn(t):null)&&(t!==et(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null;if(a===t)return null;if("mouseout"===e||"mouseover"===e)var s=Pr,l=Fr.mouseLeave,c=Fr.mouseEnter,u="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Br,l=Fr.pointerLeave,c=Fr.pointerEnter,u="pointer");if(e=null==a?o:jn(a),o=null==t?o:jn(t),(l=s.getPooled(l,a,n,r)).type=u+"leave",l.target=e,l.relatedTarget=o,(n=s.getPooled(c,t,n,r)).type=u+"enter",n.target=o,n.relatedTarget=e,u=t,(r=a)&&u)e:{for(c=u,a=0,e=s=r;e;e=Rn(e))a++;for(e=0,t=c;t;t=Rn(t))e++;for(;0<a-e;)s=Rn(s),a--;for(;0<e-a;)c=Rn(c),e--;for(;a--;){if(s===c||s===c.alternate)break e;s=Rn(s),c=Rn(c)}s=null}else s=null;for(c=s,s=[];r&&r!==c&&(null===(a=r.alternate)||a!==c);)s.push(r),r=Rn(r);for(r=[];u&&u!==c&&(null===(a=u.alternate)||a!==c);)r.push(u),u=Rn(u);for(u=0;u<s.length;u++)Fn(s[u],"bubbled",l);for(u=r.length;0<u--;)Fn(r[u],"captured",n);return 0==(64&i)?[l]:[l,n]}};var zr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Vr=Object.prototype.hasOwnProperty;function Gr(e,t){if(zr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Vr.call(t,n[r])||!zr(e[n[r]],t[n[r]]))return!1;return!0}var Hr=T&&"documentMode"in document&&11>=document.documentMode,Wr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Yr=null,Qr=null,Zr=null,Xr=!1;function Jr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Xr||null==Yr||Yr!==dn(n)?null:("selectionStart"in(n=Yr)&&gn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Zr&&Gr(Zr,n)?null:(Zr=n,(e=Zn.getPooled(Wr.select,Qr,e,t)).type="select",e.target=Yr,zn(e),e))}var qr={eventTypes:Wr,extractEvents:function(e,t,n,r,i,o){if(!(o=!(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=$e(i),o=O.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break e}i=!0}o=!i}if(o)return null;switch(i=t?jn(t):window,e){case"focus":(pr(i)||"true"===i.contentEditable)&&(Yr=i,Qr=t,Zr=null);break;case"blur":Zr=Qr=Yr=null;break;case"mousedown":Xr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Xr=!1,Jr(n,r);case"selectionchange":if(Hr)break;case"keydown":case"keyup":return Jr(n,r)}return null}},Kr=Zn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),$r=Zn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ei=kr.extend({relatedTarget:null});function ti(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var ni={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ri={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ii=kr.extend({key:function(e){if(e.key){var t=ni[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ti(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ri[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Nr,charCode:function(e){return"keypress"===e.type?ti(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ti(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),oi=Pr.extend({dataTransfer:null}),ai=kr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Nr}),si=Zn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),li=Pr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),ci={eventTypes:Bt,extractEvents:function(e,t,n,r){var i=Ft.get(e);if(!i)return null;switch(e){case"keypress":if(0===ti(n))return null;case"keydown":case"keyup":e=ii;break;case"blur":case"focus":e=ei;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Pr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=oi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=ai;break;case Qe:case Ze:case Xe:e=Kr;break;case Je:e=si;break;case"scroll":e=kr;break;case"wheel":e=li;break;case"copy":case"cut":case"paste":e=$r;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Br;break;default:e=Zn}return zn(t=e.getPooled(i,t,n,r)),t}};if(v)throw Error(a(101));v=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),w(),m=Ln,h=Nn,g=jn,S({SimpleEventPlugin:ci,EnterLeaveEventPlugin:Ur,ChangeEventPlugin:Ir,SelectEventPlugin:qr,BeforeInputEventPlugin:dr});var ui=[],di=-1;function fi(e){0>di||(e.current=ui[di],ui[di]=null,di--)}function pi(e,t){di++,ui[di]=e.current,e.current=t}var mi={},hi={current:mi},gi={current:!1},yi=mi;function vi(e,t){var n=e.type.contextTypes;if(!n)return mi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function bi(e){return null!=(e=e.childContextTypes)}function wi(){fi(gi),fi(hi)}function xi(e,t,n){if(hi.current!==mi)throw Error(a(168));pi(hi,t),pi(gi,n)}function Ei(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,ge(t)||"Unknown",o));return i({},n,{},r)}function _i(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||mi,yi=hi.current,pi(hi,e),pi(gi,gi.current),!0}function Ai(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ei(e,t,yi),r.__reactInternalMemoizedMergedChildContext=e,fi(gi),fi(hi),pi(hi,e)):fi(gi),pi(gi,n)}var Oi=o.unstable_runWithPriority,Si=o.unstable_scheduleCallback,Ti=o.unstable_cancelCallback,Ii=o.unstable_requestPaint,ki=o.unstable_now,Ci=o.unstable_getCurrentPriorityLevel,Mi=o.unstable_ImmediatePriority,Ni=o.unstable_UserBlockingPriority,ji=o.unstable_NormalPriority,Li=o.unstable_LowPriority,Ri=o.unstable_IdlePriority,Di={},Pi=o.unstable_shouldYield,Bi=void 0!==Ii?Ii:function(){},Fi=null,Ui=null,zi=!1,Vi=ki(),Gi=1e4>Vi?ki:function(){return ki()-Vi};function Hi(){switch(Ci()){case Mi:return 99;case Ni:return 98;case ji:return 97;case Li:return 96;case Ri:return 95;default:throw Error(a(332))}}function Wi(e){switch(e){case 99:return Mi;case 98:return Ni;case 97:return ji;case 96:return Li;case 95:return Ri;default:throw Error(a(332))}}function Yi(e,t){return e=Wi(e),Oi(e,t)}function Qi(e,t,n){return e=Wi(e),Si(e,t,n)}function Zi(e){return null===Fi?(Fi=[e],Ui=Si(Mi,Ji)):Fi.push(e),Di}function Xi(){if(null!==Ui){var e=Ui;Ui=null,Ti(e)}Ji()}function Ji(){if(!zi&&null!==Fi){zi=!0;var e=0;try{var t=Fi;Yi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Fi=null}catch(t){throw null!==Fi&&(Fi=Fi.slice(e+1)),Si(Mi,Xi),t}finally{zi=!1}}}function qi(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Ki(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var $i={current:null},eo=null,to=null,no=null;function ro(){no=to=eo=null}function io(e){var t=$i.current;fi($i),e.type._context._currentValue=t}function oo(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function ao(e,t){eo=e,no=to=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(La=!0),e.firstContext=null)}function so(e,t){if(no!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(no=e,t=1073741823),t={context:e,observedBits:t,next:null},null===to){if(null===eo)throw Error(a(308));to=t,eo.dependencies={expirationTime:0,firstContext:t,responders:null}}else to=to.next=t;return e._currentValue}var lo=!1;function co(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function uo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function fo(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function po(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function mo(e,t){var n=e.alternate;null!==n&&uo(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function ho(e,t,n,r){var o=e.updateQueue;lo=!1;var a=o.baseQueue,s=o.shared.pending;if(null!==s){if(null!==a){var l=a.next;a.next=s.next,s.next=l}a=s,o.shared.pending=null,null!==(l=e.alternate)&&(null!==(l=l.updateQueue)&&(l.baseQueue=s))}if(null!==a){l=a.next;var c=o.baseState,u=0,d=null,f=null,p=null;if(null!==l)for(var m=l;;){if((s=m.expirationTime)<r){var h={expirationTime:m.expirationTime,suspenseConfig:m.suspenseConfig,tag:m.tag,payload:m.payload,callback:m.callback,next:null};null===p?(f=p=h,d=c):p=p.next=h,s>u&&(u=s)}else{null!==p&&(p=p.next={expirationTime:1073741823,suspenseConfig:m.suspenseConfig,tag:m.tag,payload:m.payload,callback:m.callback,next:null}),pl(s,m.suspenseConfig);e:{var g=e,y=m;switch(s=t,h=n,y.tag){case 1:if("function"==typeof(g=y.payload)){c=g.call(h,c,s);break e}c=g;break e;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null==(s="function"==typeof(g=y.payload)?g.call(h,c,s):g))break e;c=i({},c,s);break e;case 2:lo=!0}}null!==m.callback&&(e.effectTag|=32,null===(s=o.effects)?o.effects=[m]:s.push(m))}if(null===(m=m.next)||m===l){if(null===(s=o.shared.pending))break;m=a.next=s.next,s.next=l,o.baseQueue=a=s,o.shared.pending=null}}null===p?d=c:p.next=f,o.baseState=d,o.baseQueue=p,ml(u),e.expirationTime=u,e.memoizedState=c}}function go(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!=typeof r)throw Error(a(191,r));r.call(i)}}}var yo=J.ReactCurrentBatchConfig,vo=(new r.Component).refs;function bo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var wo={isMounted:function(e){return!!(e=e._reactInternalFiber)&&et(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=el(),i=yo.suspense;(i=fo(r=tl(r,e,i),i)).payload=t,null!=n&&(i.callback=n),po(e,i),nl(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=el(),i=yo.suspense;(i=fo(r=tl(r,e,i),i)).tag=1,i.payload=t,null!=n&&(i.callback=n),po(e,i),nl(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=el(),r=yo.suspense;(r=fo(n=tl(n,e,r),r)).tag=2,null!=t&&(r.callback=t),po(e,r),nl(e,n)}};function xo(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Gr(n,r)||!Gr(i,o))}function Eo(e,t,n){var r=!1,i=mi,o=t.contextType;return"object"==typeof o&&null!==o?o=so(o):(i=bi(t)?yi:hi.current,o=(r=null!=(r=t.contextTypes))?vi(e,i):mi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=wo,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function _o(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&wo.enqueueReplaceState(t,t.state,null)}function Ao(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=vo,co(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=so(o):(o=bi(t)?yi:hi.current,i.context=vi(e,o)),ho(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(bo(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&wo.enqueueReplaceState(i,i.state,null),ho(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}var Oo=Array.isArray;function So(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===vo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function To(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Io(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ll(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Pl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=So(e,t,n),r.return=e,r):((r=Rl(n.type,n.key,n.props,null,e.mode,r)).ref=So(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Dl(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Pl(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Rl(t.type,t.key,t.props,null,e.mode,n)).ref=So(e,null,t),n.return=e,n;case te:return(t=Bl(t,e.mode,n)).return=e,t}if(Oo(t)||he(t))return(t=Dl(t,e.mode,n,null)).return=e,t;To(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===i?n.type===ne?d(e,t,n.props.children,r,i):c(e,t,n,r):null;case te:return n.key===i?u(e,t,n,r):null}if(Oo(n)||he(n))return null!==i?null:d(e,t,n,r,null);To(e,n)}return null}function m(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?d(t,e,r.props.children,i,r.key):c(t,e,r,i);case te:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Oo(r)||he(r))return d(t,e=e.get(n)||null,r,i,null);To(t,r)}return null}function h(i,a,s,l){for(var c=null,u=null,d=a,h=a=0,g=null;null!==d&&h<s.length;h++){d.index>h?(g=d,d=null):g=d.sibling;var y=p(i,d,s[h],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(i,d),a=o(y,a,h),null===u?c=y:u.sibling=y,u=y,d=g}if(h===s.length)return n(i,d),c;if(null===d){for(;h<s.length;h++)null!==(d=f(i,s[h],l))&&(a=o(d,a,h),null===u?c=d:u.sibling=d,u=d);return c}for(d=r(i,d);h<s.length;h++)null!==(g=m(d,i,h,s[h],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?h:g.key),a=o(g,a,h),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),c}function g(i,s,l,c){var u=he(l);if("function"!=typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,h=s,g=s=0,y=null,v=l.next();null!==h&&!v.done;g++,v=l.next()){h.index>g?(y=h,h=null):y=h.sibling;var b=p(i,h,v.value,c);if(null===b){null===h&&(h=y);break}e&&h&&null===b.alternate&&t(i,h),s=o(b,s,g),null===d?u=b:d.sibling=b,d=b,h=y}if(v.done)return n(i,h),u;if(null===h){for(;!v.done;g++,v=l.next())null!==(v=f(i,v.value,c))&&(s=o(v,s,g),null===d?u=v:d.sibling=v,d=v);return u}for(h=r(i,h);!v.done;g++,v=l.next())null!==(v=m(h,i,g,v.value,c))&&(e&&null!==v.alternate&&h.delete(null===v.key?g:v.key),s=o(v,s,g),null===d?u=v:d.sibling=v,d=v);return e&&h.forEach((function(e){return t(i,e)})),u}return function(e,r,o,l){var c="object"==typeof o&&null!==o&&o.type===ne&&null===o.key;c&&(o=o.props.children);var u="object"==typeof o&&null!==o;if(u)switch(o.$$typeof){case ee:e:{for(u=o.key,c=r;null!==c;){if(c.key===u){switch(c.tag){case 7:if(o.type===ne){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}break;default:if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=So(e,c,o),r.return=e,e=r;break e}}n(e,c);break}t(e,c),c=c.sibling}o.type===ne?((r=Dl(o.props.children,e.mode,l,o.key)).return=e,e=r):((l=Rl(o.type,o.key,o.props,null,e.mode,l)).ref=So(e,r,o),l.return=e,e=l)}return s(e);case te:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Bl(o,e.mode,l)).return=e,e=r}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Pl(o,e.mode,l)).return=e,e=r),s(e);if(Oo(o))return h(e,r,o,l);if(he(o))return g(e,r,o,l);if(u&&To(e,o),void 0===o&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return n(e,r)}}var ko=Io(!0),Co=Io(!1),Mo={},No={current:Mo},jo={current:Mo},Lo={current:Mo};function Ro(e){if(e===Mo)throw Error(a(174));return e}function Do(e,t){switch(pi(Lo,t),pi(jo,e),pi(No,Mo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Pe(null,"");break;default:t=Pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}fi(No),pi(No,t)}function Po(){fi(No),fi(jo),fi(Lo)}function Bo(e){Ro(Lo.current);var t=Ro(No.current),n=Pe(t,e.type);t!==n&&(pi(jo,e),pi(No,n))}function Fo(e){jo.current===e&&(fi(No),fi(jo))}var Uo={current:0};function zo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===yn||n.data===vn))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Vo(e,t){return{responder:e,props:t}}var Go=J.ReactCurrentDispatcher,Ho=J.ReactCurrentBatchConfig,Wo=0,Yo=null,Qo=null,Zo=null,Xo=!1;function Jo(){throw Error(a(321))}function qo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!zr(e[n],t[n]))return!1;return!0}function Ko(e,t,n,r,i,o){if(Wo=o,Yo=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Go.current=null===e||null===e.memoizedState?xa:Ea,e=n(r,i),t.expirationTime===Wo){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(a(301));o+=1,Zo=Qo=null,t.updateQueue=null,Go.current=_a,e=n(r,i)}while(t.expirationTime===Wo)}if(Go.current=wa,t=null!==Qo&&null!==Qo.next,Wo=0,Zo=Qo=Yo=null,Xo=!1,t)throw Error(a(300));return e}function $o(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Zo?Yo.memoizedState=Zo=e:Zo=Zo.next=e,Zo}function ea(){if(null===Qo){var e=Yo.alternate;e=null!==e?e.memoizedState:null}else e=Qo.next;var t=null===Zo?Yo.memoizedState:Zo.next;if(null!==t)Zo=t,Qo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Qo=e).memoizedState,baseState:Qo.baseState,baseQueue:Qo.baseQueue,queue:Qo.queue,next:null},null===Zo?Yo.memoizedState=Zo=e:Zo=Zo.next=e}return Zo}function ta(e,t){return"function"==typeof t?t(e):t}function na(e){var t=ea(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Qo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=s=o=null,c=i;do{var u=c.expirationTime;if(u<Wo){var d={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(s=l=d,o=r):l=l.next=d,u>Yo.expirationTime&&(Yo.expirationTime=u,ml(u))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),pl(u,c.suspenseConfig),r=c.eagerReducer===e?c.eagerState:e(r,c.action);c=c.next}while(null!==c&&c!==i);null===l?o=r:l.next=s,zr(r,t.memoizedState)||(La=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ra(e){var t=ea(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);zr(o,t.memoizedState)||(La=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ia(e){var t=$o();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ta,lastRenderedState:e}).dispatch=ba.bind(null,Yo,e),[t.memoizedState,e]}function oa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Yo.updateQueue)?(t={lastEffect:null},Yo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function aa(){return ea().memoizedState}function sa(e,t,n,r){var i=$o();Yo.effectTag|=e,i.memoizedState=oa(1|t,n,void 0,void 0===r?null:r)}function la(e,t,n,r){var i=ea();r=void 0===r?null:r;var o=void 0;if(null!==Qo){var a=Qo.memoizedState;if(o=a.destroy,null!==r&&qo(r,a.deps))return void oa(t,n,o,r)}Yo.effectTag|=e,i.memoizedState=oa(1|t,n,o,r)}function ca(e,t){return sa(516,4,e,t)}function ua(e,t){return la(516,4,e,t)}function da(e,t){return la(4,2,e,t)}function fa(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function pa(e,t,n){return n=null!=n?n.concat([e]):null,la(4,2,fa.bind(null,t,e),n)}function ma(){}function ha(e,t){return $o().memoizedState=[e,void 0===t?null:t],e}function ga(e,t){var n=ea();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&qo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ya(e,t){var n=ea();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&qo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function va(e,t,n){var r=Hi();Yi(98>r?98:r,(function(){e(!0)})),Yi(97<r?97:r,(function(){var r=Ho.suspense;Ho.suspense=void 0===t?null:t;try{e(!1),n()}finally{Ho.suspense=r}}))}function ba(e,t,n){var r=el(),i=yo.suspense;i={expirationTime:r=tl(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===Yo||null!==o&&o===Yo)Xo=!0,i.expirationTime=Wo,Yo.expirationTime=Wo;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.eagerReducer=o,i.eagerState=s,zr(s,a))return}catch(e){}nl(e,r)}}var wa={readContext:so,useCallback:Jo,useContext:Jo,useEffect:Jo,useImperativeHandle:Jo,useLayoutEffect:Jo,useMemo:Jo,useReducer:Jo,useRef:Jo,useState:Jo,useDebugValue:Jo,useResponder:Jo,useDeferredValue:Jo,useTransition:Jo},xa={readContext:so,useCallback:ha,useContext:so,useEffect:ca,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,sa(4,2,fa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return sa(4,2,e,t)},useMemo:function(e,t){var n=$o();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=$o();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ba.bind(null,Yo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},$o().memoizedState=e},useState:ia,useDebugValue:ma,useResponder:Vo,useDeferredValue:function(e,t){var n=ia(e),r=n[0],i=n[1];return ca((function(){var n=Ho.suspense;Ho.suspense=void 0===t?null:t;try{i(e)}finally{Ho.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ia(!1),n=t[0];return t=t[1],[ha(va.bind(null,t,e),[t,e]),n]}},Ea={readContext:so,useCallback:ga,useContext:so,useEffect:ua,useImperativeHandle:pa,useLayoutEffect:da,useMemo:ya,useReducer:na,useRef:aa,useState:function(){return na(ta)},useDebugValue:ma,useResponder:Vo,useDeferredValue:function(e,t){var n=na(ta),r=n[0],i=n[1];return ua((function(){var n=Ho.suspense;Ho.suspense=void 0===t?null:t;try{i(e)}finally{Ho.suspense=n}}),[e,t]),r},useTransition:function(e){var t=na(ta),n=t[0];return t=t[1],[ga(va.bind(null,t,e),[t,e]),n]}},_a={readContext:so,useCallback:ga,useContext:so,useEffect:ua,useImperativeHandle:pa,useLayoutEffect:da,useMemo:ya,useReducer:ra,useRef:aa,useState:function(){return ra(ta)},useDebugValue:ma,useResponder:Vo,useDeferredValue:function(e,t){var n=ra(ta),r=n[0],i=n[1];return ua((function(){var n=Ho.suspense;Ho.suspense=void 0===t?null:t;try{i(e)}finally{Ho.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ra(ta),n=t[0];return t=t[1],[ga(va.bind(null,t,e),[t,e]),n]}},Aa=null,Oa=null,Sa=!1;function Ta(e,t){var n=Nl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ia(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function ka(e){if(Sa){var t=Oa;if(t){var n=t;if(!Ia(e,t)){if(!(t=On(n.nextSibling))||!Ia(e,t))return e.effectTag=-1025&e.effectTag|2,Sa=!1,void(Aa=e);Ta(Aa,n)}Aa=e,Oa=On(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Sa=!1,Aa=e}}function Ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Aa=e}function Ma(e){if(e!==Aa)return!1;if(!Sa)return Ca(e),Sa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!En(t,e.memoizedProps))for(t=Oa;t;)Ta(e,t),t=On(t.nextSibling);if(Ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Oa=On(e.nextSibling);break e}t--}else"$"!==n&&n!==vn&&n!==yn||t++}e=e.nextSibling}Oa=null}}else Oa=Aa?On(e.stateNode.nextSibling):null;return!0}function Na(){Oa=Aa=null,Sa=!1}var ja=J.ReactCurrentOwner,La=!1;function Ra(e,t,n,r){t.child=null===e?Co(t,null,n,r):ko(t,e.child,n,r)}function Da(e,t,n,r,i){n=n.render;var o=t.ref;return ao(t,i),r=Ko(e,t,n,r,o,i),null===e||La?(t.effectTag|=1,Ra(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Ka(e,t,i))}function Pa(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||jl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rl(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ba(e,t,a,r,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:Gr)(i,r)&&e.ref===t.ref)?Ka(e,t,o):(t.effectTag|=1,(e=Ll(a,r)).ref=t.ref,e.return=t,t.child=e)}function Ba(e,t,n,r,i,o){return null!==e&&Gr(e.memoizedProps,r)&&e.ref===t.ref&&(La=!1,i<o)?(t.expirationTime=e.expirationTime,Ka(e,t,o)):Ua(e,t,n,r,o)}function Fa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Ua(e,t,n,r,i){var o=bi(n)?yi:hi.current;return o=vi(t,o),ao(t,i),n=Ko(e,t,n,r,o,i),null===e||La?(t.effectTag|=1,Ra(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Ka(e,t,i))}function za(e,t,n,r,i){if(bi(n)){var o=!0;_i(t)}else o=!1;if(ao(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Eo(t,n,r),Ao(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"==typeof c&&null!==c?c=so(c):c=vi(t,c=bi(n)?yi:hi.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==c)&&_o(t,a,r,c),lo=!1;var f=t.memoizedState;a.state=f,ho(t,r,a,i),l=t.memoizedState,s!==r||f!==l||gi.current||lo?("function"==typeof u&&(bo(t,n,u,r),l=t.memoizedState),(s=lo||xo(t,n,s,r,f,l,c))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,uo(e,t),s=t.memoizedProps,a.props=t.type===t.elementType?s:Ki(t.type,s),l=a.context,"object"==typeof(c=n.contextType)&&null!==c?c=so(c):c=vi(t,c=bi(n)?yi:hi.current),(d="function"==typeof(u=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==c)&&_o(t,a,r,c),lo=!1,l=t.memoizedState,a.state=l,ho(t,r,a,i),f=t.memoizedState,s!==r||l!==f||gi.current||lo?("function"==typeof u&&(bo(t,n,u,r),f=t.memoizedState),(u=lo||xo(t,n,s,r,l,f,c))?(d||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,c),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,c)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=c,r=u):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),r=!1);return Va(e,t,n,r,o,i)}function Va(e,t,n,r,i,o){Fa(e,t);var a=0!=(64&t.effectTag);if(!r&&!a)return i&&Ai(t,n,!1),Ka(e,t,o);r=t.stateNode,ja.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=ko(t,e.child,null,o),t.child=ko(t,null,s,o)):Ra(e,t,s,o),t.memoizedState=r.state,i&&Ai(t,n,!0),t.child}function Ga(e){var t=e.stateNode;t.pendingContext?xi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&xi(0,t.context,!1),Do(e,t.containerInfo)}var Ha,Wa,Ya,Qa={dehydrated:null,retryTime:0};function Za(e,t,n){var r,i=t.mode,o=t.pendingProps,a=Uo.current,s=!1;if((r=0!=(64&t.effectTag))||(r=0!=(2&a)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),pi(Uo,1&a),null===e){if(void 0!==o.fallback&&ka(t),s){if(s=o.fallback,(o=Dl(null,i,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Dl(s,i,n,null)).return=t,o.sibling=n,t.memoizedState=Qa,t.child=o,n}return i=o.children,t.memoizedState=null,t.child=Co(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(o=o.fallback,(n=Ll(e,e.pendingProps)).return=t,0==(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=Ll(i,o)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=Qa,t.child=n,i}return n=ko(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=o.fallback,(o=Dl(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Dl(s,i,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=Qa,t.child=o,n}return t.memoizedState=null,t.child=ko(t,e,o.children,n)}function Xa(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),oo(e.return,t)}function Ja(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function qa(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ra(e,t,r.children,n),0!=(2&(r=Uo.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Xa(e,n);else if(19===e.tag)Xa(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(pi(Uo,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===zo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ja(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===zo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ja(t,!0,n,null,o,t.lastEffect);break;case"together":Ja(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Ka(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&ml(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ll(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ll(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $a(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function es(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return bi(t.type)&&wi(),null;case 3:return Po(),fi(gi),fi(hi),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Ma(t)||(t.effectTag|=4),null;case 5:Fo(t),n=Ro(Lo.current);var o=t.type;if(null!==e&&null!=t.stateNode)Wa(e,t,o,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Ro(No.current),Ma(t)){r=t.stateNode,o=t.type;var s=t.memoizedProps;switch(r[In]=t,r[kn]=s,o){case"iframe":case"object":case"embed":Zt("load",r);break;case"video":case"audio":for(e=0;e<qe.length;e++)Zt(qe[e],r);break;case"source":Zt("error",r);break;case"img":case"image":case"link":Zt("error",r),Zt("load",r);break;case"form":Zt("reset",r),Zt("submit",r);break;case"details":Zt("toggle",r);break;case"input":_e(r,s),Zt("invalid",r),cn(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Zt("invalid",r),cn(n,"onChange");break;case"textarea":Me(r,s),Zt("invalid",r),cn(n,"onChange")}for(var l in an(o,s),e=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"==typeof c?r.textContent!==c&&(e=["children",c]):"number"==typeof c&&r.textContent!==""+c&&(e=["children",""+c]):A.hasOwnProperty(l)&&null!=c&&cn(n,l)}switch(o){case"input":we(r),Se(r,s,!0);break;case"textarea":we(r),je(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=un)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(l=9===n.nodeType?n:n.ownerDocument,e===ln&&(e=De(o)),e===ln?"script"===o?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(o,{is:r.is}):(e=l.createElement(o),"select"===o&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,o),e[In]=t,e[kn]=r,Ha(e,t),t.stateNode=e,l=sn(o,r),o){case"iframe":case"object":case"embed":Zt("load",e),c=r;break;case"video":case"audio":for(c=0;c<qe.length;c++)Zt(qe[c],e);c=r;break;case"source":Zt("error",e),c=r;break;case"img":case"image":case"link":Zt("error",e),Zt("load",e),c=r;break;case"form":Zt("reset",e),Zt("submit",e),c=r;break;case"details":Zt("toggle",e),c=r;break;case"input":_e(e,r),c=Ee(e,r),Zt("invalid",e),cn(n,"onChange");break;case"option":c=Ie(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},c=i({},r,{value:void 0}),Zt("invalid",e),cn(n,"onChange");break;case"textarea":Me(e,r),c=Ce(e,r),Zt("invalid",e),cn(n,"onChange");break;default:c=r}an(o,c);var u=c;for(s in u)if(u.hasOwnProperty(s)){var d=u[s];"style"===s?rn(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&Ue(e,d):"children"===s?"string"==typeof d?("textarea"!==o||""!==d)&&ze(e,d):"number"==typeof d&&ze(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(A.hasOwnProperty(s)?null!=d&&cn(n,s):null!=d&&q(e,s,d,l))}switch(o){case"input":we(e),Se(e,r,!1);break;case"textarea":we(e),je(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ve(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?ke(e,!!r.multiple,n,!1):null!=r.defaultValue&&ke(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof c.onClick&&(e.onclick=un)}xn(o,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Ya(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));n=Ro(Lo.current),Ro(No.current),Ma(t)?(n=t.stateNode,r=t.memoizedProps,n[In]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[In]=t,t.stateNode=n)}return null;case 13:return fi(Uo),r=t.memoizedState,0!=(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Ma(t):(r=null!==(o=e.memoizedState),n||null===o||null!==(o=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=o,o.nextEffect=s):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!r&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Uo.current)?Rs===Is&&(Rs=ks):(Rs!==Is&&Rs!==ks||(Rs=Cs),0!==Us&&null!==Ns&&(zl(Ns,Ls),Vl(Ns,Us)))),(n||r)&&(t.effectTag|=4),null);case 4:return Po(),null;case 10:return io(t),null;case 17:return bi(t.type)&&wi(),null;case 19:if(fi(Uo),null===(r=t.memoizedState))return null;if(o=0!=(64&t.effectTag),null===(s=r.rendering)){if(o)$a(r,!1);else if(Rs!==Is||null!==e&&0!=(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=zo(s))){for(t.effectTag|=64,$a(r,!1),null!==(o=e.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)s=n,(o=r).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(e=o.alternate)?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,s=e.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return pi(Uo,1&Uo.current|2),t.child}s=s.sibling}}else{if(!o)if(null!==(e=zo(s))){if(t.effectTag|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),$a(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Gi()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,o=!0,$a(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=r.last)?n.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Gi()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Gi(),n.sibling=null,t=Uo.current,pi(Uo,o?1&t|2:1&t),n):null}throw Error(a(156,t.tag))}function ts(e){switch(e.tag){case 1:bi(e.type)&&wi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Po(),fi(gi),fi(hi),0!=(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return Fo(e),null;case 13:return fi(Uo),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return fi(Uo),null;case 4:return Po(),null;case 10:return io(e),null;default:return null}}function ns(e,t){return{value:e,source:t,stack:ye(t)}}Ha=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Wa=function(e,t,n,r,o){var a=e.memoizedProps;if(a!==r){var s,l,c=t.stateNode;switch(Ro(No.current),e=null,n){case"input":a=Ee(c,a),r=Ee(c,r),e=[];break;case"option":a=Ie(c,a),r=Ie(c,r),e=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":a=Ce(c,a),r=Ce(c,r),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(c.onclick=un)}for(s in an(n,r),n=null,a)if(!r.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(l in c=a[s])c.hasOwnProperty(l)&&(n||(n={}),n[l]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(A.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var u=r[s];if(c=null!=a?a[s]:void 0,r.hasOwnProperty(s)&&u!==c&&(null!=u||null!=c))if("style"===s)if(c){for(l in c)!c.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in u)u.hasOwnProperty(l)&&c[l]!==u[l]&&(n||(n={}),n[l]=u[l])}else n||(e||(e=[]),e.push(s,n)),n=u;else"dangerouslySetInnerHTML"===s?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(e=e||[]).push(s,u)):"children"===s?c===u||"string"!=typeof u&&"number"!=typeof u||(e=e||[]).push(s,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(A.hasOwnProperty(s)?(null!=u&&cn(o,s),e||c===u||(e=[])):(e=e||[]).push(s,u))}n&&(e=e||[]).push("style",n),o=e,(t.updateQueue=o)&&(t.effectTag|=4)}},Ya=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var rs="function"==typeof WeakSet?WeakSet:Set;function is(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ye(n)),null!==n&&ge(n.type),t=t.value,null!==e&&1===e.tag&&ge(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function os(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Sl(e,t)}else t.current=null}function as(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ki(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function ss(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function ls(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function cs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void ls(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:Ki(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&go(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}go(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&xn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Pt(n)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function us(e,t,n){switch("function"==typeof Cl&&Cl(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Yi(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(e){Sl(i,e)}}e=e.next}while(e!==r)}))}break;case 1:os(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Sl(e,t)}}(t,n);break;case 5:os(t);break;case 4:gs(e,t,n)}}function ds(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&ds(t)}function fs(e){return 5===e.tag||3===e.tag||4===e.tag}function ps(e){e:{for(var t=e.return;null!==t;){if(fs(t)){var n=t;break e}t=t.return}throw Error(a(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&(ze(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||fs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?ms(e,n,t):hs(e,n,t)}function ms(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=un));else if(4!==r&&null!==(e=e.child))for(ms(e,t,n),e=e.sibling;null!==e;)ms(e,t,n),e=e.sibling}function hs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(hs(e,t,n),e=e.sibling;null!==e;)hs(e,t,n),e=e.sibling}function gs(e,t,n){for(var r,i,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(a(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag){e:for(var l=e,c=o,u=n,d=c;;)if(us(l,d,u),null!==d.child&&4!==d.tag)d.child.return=d,d=d.child;else{if(d===c)break e;for(;null===d.sibling;){if(null===d.return||d.return===c)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i?(l=r,c=o.stateNode,8===l.nodeType?l.parentNode.removeChild(c):l.removeChild(c)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(us(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function ys(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void ss(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[kn]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Ae(n,r),sn(e,i),t=sn(e,r),i=0;i<o.length;i+=2){var s=o[i],l=o[i+1];"style"===s?rn(n,l):"dangerouslySetInnerHTML"===s?Ue(n,l):"children"===s?ze(n,l):q(n,s,l,t)}switch(e){case"input":Oe(n,r);break;case"textarea":Ne(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?ke(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?ke(n,!!r.multiple,r.defaultValue,!0):ke(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Pt(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Vs=Gi()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,r?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=null!=(i=e.memoizedProps.style)&&i.hasOwnProperty("display")?i.display:null,o.style.display=nn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void vs(t);case 19:return void vs(t);case 17:return}throw Error(a(163))}function vs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new rs),t.forEach((function(t){var r=Il.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var bs="function"==typeof WeakMap?WeakMap:Map;function ws(e,t,n){(n=fo(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hs||(Hs=!0,Ws=r),is(e,t)},n}function xs(e,t,n){(n=fo(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return is(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Ys?Ys=new Set([this]):Ys.add(this),is(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var Es,_s=Math.ceil,As=J.ReactCurrentDispatcher,Os=J.ReactCurrentOwner,Ss=16,Ts=32,Is=0,ks=3,Cs=4,Ms=0,Ns=null,js=null,Ls=0,Rs=Is,Ds=null,Ps=1073741823,Bs=1073741823,Fs=null,Us=0,zs=!1,Vs=0,Gs=null,Hs=!1,Ws=null,Ys=null,Qs=!1,Zs=null,Xs=90,Js=null,qs=0,Ks=null,$s=0;function el(){return 0!=(48&Ms)?1073741821-(Gi()/10|0):0!==$s?$s:$s=1073741821-(Gi()/10|0)}function tl(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var r=Hi();if(0==(4&t))return 99===r?1073741823:1073741822;if(0!=(Ms&Ss))return Ls;if(null!==n)e=qi(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=qi(e,150,100);break;case 97:case 96:e=qi(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==Ns&&e===Ls&&--e,e}function nl(e,t){if(50<qs)throw qs=0,Ks=null,Error(a(185));if(null!==(e=rl(e,t))){var n=Hi();1073741823===t?0!=(8&Ms)&&0==(48&Ms)?sl(e):(ol(e),0===Ms&&Xi()):ol(e),0==(4&Ms)||98!==n&&99!==n||(null===Js?Js=new Map([[e,t]]):(void 0===(n=Js.get(e))||n>t)&&Js.set(e,t))}}function rl(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Ns===i&&(ml(t),Rs===Cs&&zl(i,Ls)),Vl(i,t)),i}function il(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Ul(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function ol(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Zi(sl.bind(null,e));else{var t=il(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=el();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Di&&Ti(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Zi(sl.bind(null,e)):Qi(r,al.bind(null,e),{timeout:10*(1073741821-t)-Gi()}),e.callbackNode=t}}}function al(e,t){if($s=0,t)return Gl(e,t=el()),ol(e),null;var n=il(e);if(0!==n){if(t=e.callbackNode,0!=(48&Ms))throw Error(a(327));if(_l(),e===Ns&&n===Ls||ul(e,n),null!==js){var r=Ms;Ms|=Ss;for(var i=fl();;)try{gl();break}catch(t){dl(e,t)}if(ro(),Ms=r,As.current=i,1===Rs)throw t=Ds,ul(e,n),zl(e,n),ol(e),t;if(null===js)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=Rs,Ns=null,r){case Is:case 1:throw Error(a(345));case 2:Gl(e,2<n?2:n);break;case ks:if(zl(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=bl(i)),1073741823===Ps&&10<(i=Vs+500-Gi())){if(zs){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,ul(e,n);break}}if(0!==(o=il(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=_n(wl.bind(null,e),i);break}wl(e);break;case Cs:if(zl(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=bl(i)),zs&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,ul(e,n);break}if(0!==(i=il(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Bs?r=10*(1073741821-Bs)-Gi():1073741823===Ps?r=0:(r=10*(1073741821-Ps)-5e3,0>(r=(i=Gi())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_s(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=_n(wl.bind(null,e),r);break}wl(e);break;case 5:if(1073741823!==Ps&&null!==Fs){o=Ps;var s=Fs;if(0>=(r=0|s.busyMinDurationMs)?r=0:(i=0|s.busyDelayMs,r=(o=Gi()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=i?0:i+r-o),10<r){zl(e,n),e.timeoutHandle=_n(wl.bind(null,e),r);break}}wl(e);break;default:throw Error(a(329))}if(ol(e),e.callbackNode===t)return al.bind(null,e)}}return null}function sl(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!=(48&Ms))throw Error(a(327));if(_l(),e===Ns&&t===Ls||ul(e,t),null!==js){var n=Ms;Ms|=Ss;for(var r=fl();;)try{hl();break}catch(t){dl(e,t)}if(ro(),Ms=n,As.current=r,1===Rs)throw n=Ds,ul(e,t),zl(e,t),ol(e),n;if(null!==js)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Ns=null,wl(e),ol(e)}return null}function ll(e,t){var n=Ms;Ms|=1;try{return e(t)}finally{0===(Ms=n)&&Xi()}}function cl(e,t){var n=Ms;Ms&=-2,Ms|=8;try{return e(t)}finally{0===(Ms=n)&&Xi()}}function ul(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,An(n)),null!==js)for(n=js.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&wi();break;case 3:Po(),fi(gi),fi(hi);break;case 5:Fo(r);break;case 4:Po();break;case 13:case 19:fi(Uo);break;case 10:io(r)}n=n.return}Ns=e,js=Ll(e.current,null),Ls=t,Rs=Is,Ds=null,Bs=Ps=1073741823,Fs=null,Us=0,zs=!1}function dl(e,t){for(;;){try{if(ro(),Go.current=wa,Xo)for(var n=Yo.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Wo=0,Zo=Qo=Yo=null,Xo=!1,null===js||null===js.return)return Rs=1,Ds=t,js=null;e:{var i=e,o=js.return,a=js,s=t;if(t=Ls,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"==typeof s&&"function"==typeof s.then){var l=s;if(0==(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.expirationTime=c.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var u=0!=(1&Uo.current),d=o;do{var f;if(f=13===d.tag){var p=d.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var m=d.memoizedProps;f=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!u)}}if(f){var h=d.updateQueue;if(null===h){var g=new Set;g.add(l),d.updateQueue=g}else h.add(l);if(0==(2&d.mode)){if(d.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var y=fo(1073741823,null);y.tag=2,po(a,y)}a.expirationTime=1073741823;break e}s=void 0,a=t;var v=i.pingCache;if(null===v?(v=i.pingCache=new bs,s=new Set,v.set(l,s)):void 0===(s=v.get(l))&&(s=new Set,v.set(l,s)),!s.has(a)){s.add(a);var b=Tl.bind(null,i,l,a);l.then(b,b)}d.effectTag|=4096,d.expirationTime=t;break e}d=d.return}while(null!==d);s=Error((ge(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ye(a))}5!==Rs&&(Rs=2),s=ns(s,a),d=o;do{switch(d.tag){case 3:l=s,d.effectTag|=4096,d.expirationTime=t,mo(d,ws(d,l,t));break e;case 1:l=s;var w=d.type,x=d.stateNode;if(0==(64&d.effectTag)&&("function"==typeof w.getDerivedStateFromError||null!==x&&"function"==typeof x.componentDidCatch&&(null===Ys||!Ys.has(x)))){d.effectTag|=4096,d.expirationTime=t,mo(d,xs(d,l,t));break e}}d=d.return}while(null!==d)}js=vl(js)}catch(e){t=e;continue}break}}function fl(){var e=As.current;return As.current=wa,null===e?wa:e}function pl(e,t){e<Ps&&2<e&&(Ps=e),null!==t&&e<Bs&&2<e&&(Bs=e,Fs=t)}function ml(e){e>Us&&(Us=e)}function hl(){for(;null!==js;)js=yl(js)}function gl(){for(;null!==js&&!Pi();)js=yl(js)}function yl(e){var t=Es(e.alternate,e,Ls);return e.memoizedProps=e.pendingProps,null===t&&(t=vl(e)),Os.current=null,t}function vl(e){js=e;do{var t=js.alternate;if(e=js.return,0==(2048&js.effectTag)){if(t=es(t,js,Ls),1===Ls||1!==js.childExpirationTime){for(var n=0,r=js.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}js.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=js.firstEffect),null!==js.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=js.firstEffect),e.lastEffect=js.lastEffect),1<js.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=js:e.firstEffect=js,e.lastEffect=js))}else{if(null!==(t=ts(js)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=js.sibling))return t;js=e}while(null!==js);return Rs===Is&&(Rs=5),null}function bl(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function wl(e){var t=Hi();return Yi(99,xl.bind(null,e,t)),null}function xl(e,t){do{_l()}while(null!==Zs);if(0!=(48&Ms))throw Error(a(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=bl(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Ns&&(js=Ns=null,Ls=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=Ms;Ms|=Ts,Os.current=null,bn=Qt;var s=hn();if(gn(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{var c=(l=(l=s.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(c&&0!==c.rangeCount){l=c.anchorNode;var u=c.anchorOffset,d=c.focusNode;c=c.focusOffset;try{l.nodeType,d.nodeType}catch(e){l=null;break e}var f=0,p=-1,m=-1,h=0,g=0,y=s,v=null;t:for(;;){for(var b;y!==l||0!==u&&3!==y.nodeType||(p=f+u),y!==d||0!==c&&3!==y.nodeType||(m=f+c),3===y.nodeType&&(f+=y.nodeValue.length),null!==(b=y.firstChild);)v=y,y=b;for(;;){if(y===s)break t;if(v===l&&++h===u&&(p=f),v===d&&++g===c&&(m=f),null!==(b=y.nextSibling))break;v=(y=v).parentNode}y=b}l=-1===p||-1===m?null:{start:p,end:m}}else l=null}l=l||{start:0,end:0}}else l=null;wn={activeElementDetached:null,focusedElem:s,selectionRange:l},Qt=!1,Gs=i;do{try{El()}catch(e){if(null===Gs)throw Error(a(330));Sl(Gs,e),Gs=Gs.nextEffect}}while(null!==Gs);Gs=i;do{try{for(s=e,l=t;null!==Gs;){var w=Gs.effectTag;if(16&w&&ze(Gs.stateNode,""),128&w){var x=Gs.alternate;if(null!==x){var E=x.ref;null!==E&&("function"==typeof E?E(null):E.current=null)}}switch(1038&w){case 2:ps(Gs),Gs.effectTag&=-3;break;case 6:ps(Gs),Gs.effectTag&=-3,ys(Gs.alternate,Gs);break;case 1024:Gs.effectTag&=-1025;break;case 1028:Gs.effectTag&=-1025,ys(Gs.alternate,Gs);break;case 4:ys(Gs.alternate,Gs);break;case 8:gs(s,u=Gs,l),ds(u)}Gs=Gs.nextEffect}}catch(e){if(null===Gs)throw Error(a(330));Sl(Gs,e),Gs=Gs.nextEffect}}while(null!==Gs);if(E=wn,x=hn(),w=E.focusedElem,l=E.selectionRange,x!==w&&w&&w.ownerDocument&&mn(w.ownerDocument.documentElement,w)){null!==l&&gn(w)&&(x=l.start,void 0===(E=l.end)&&(E=x),"selectionStart"in w?(w.selectionStart=x,w.selectionEnd=Math.min(E,w.value.length)):(E=(x=w.ownerDocument||document)&&x.defaultView||window).getSelection&&(E=E.getSelection(),u=w.textContent.length,s=Math.min(l.start,u),l=void 0===l.end?s:Math.min(l.end,u),!E.extend&&s>l&&(u=l,l=s,s=u),u=pn(w,s),d=pn(w,l),u&&d&&(1!==E.rangeCount||E.anchorNode!==u.node||E.anchorOffset!==u.offset||E.focusNode!==d.node||E.focusOffset!==d.offset)&&((x=x.createRange()).setStart(u.node,u.offset),E.removeAllRanges(),s>l?(E.addRange(x),E.extend(d.node,d.offset)):(x.setEnd(d.node,d.offset),E.addRange(x))))),x=[];for(E=w;E=E.parentNode;)1===E.nodeType&&x.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"==typeof w.focus&&w.focus(),w=0;w<x.length;w++)(E=x[w]).element.scrollLeft=E.left,E.element.scrollTop=E.top}Qt=!!bn,wn=bn=null,e.current=n,Gs=i;do{try{for(w=e;null!==Gs;){var _=Gs.effectTag;if(36&_&&cs(w,Gs.alternate,Gs),128&_){x=void 0;var A=Gs.ref;if(null!==A){var O=Gs.stateNode;switch(Gs.tag){case 5:x=O;break;default:x=O}"function"==typeof A?A(x):A.current=x}}Gs=Gs.nextEffect}}catch(e){if(null===Gs)throw Error(a(330));Sl(Gs,e),Gs=Gs.nextEffect}}while(null!==Gs);Gs=null,Bi(),Ms=o}else e.current=n;if(Qs)Qs=!1,Zs=e,Xs=t;else for(Gs=i;null!==Gs;)t=Gs.nextEffect,Gs.nextEffect=null,Gs=t;if(0===(t=e.firstPendingTime)&&(Ys=null),1073741823===t?e===Ks?qs++:(qs=0,Ks=e):qs=0,"function"==typeof kl&&kl(n.stateNode,r),ol(e),Hs)throw Hs=!1,e=Ws,Ws=null,e;return 0!=(8&Ms)||Xi(),null}function El(){for(;null!==Gs;){var e=Gs.effectTag;0!=(256&e)&&as(Gs.alternate,Gs),0==(512&e)||Qs||(Qs=!0,Qi(97,(function(){return _l(),null}))),Gs=Gs.nextEffect}}function _l(){if(90!==Xs){var e=97<Xs?97:Xs;return Xs=90,Yi(e,Al)}}function Al(){if(null===Zs)return!1;var e=Zs;if(Zs=null,0!=(48&Ms))throw Error(a(331));var t=Ms;for(Ms|=Ts,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:ss(5,n),ls(5,n)}}catch(t){if(null===e)throw Error(a(330));Sl(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return Ms=t,Xi(),!0}function Ol(e,t,n){po(e,t=ws(e,t=ns(n,t),1073741823)),null!==(e=rl(e,1073741823))&&ol(e)}function Sl(e,t){if(3===e.tag)Ol(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Ol(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ys||!Ys.has(r))){po(n,e=xs(n,e=ns(t,e),1073741823)),null!==(n=rl(n,1073741823))&&ol(n);break}}n=n.return}}function Tl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Ns===e&&Ls===n?Rs===Cs||Rs===ks&&1073741823===Ps&&Gi()-Vs<500?ul(e,Ls):zs=!0:Ul(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,ol(e)))}function Il(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=tl(t=el(),e,null)),null!==(e=rl(e,t))&&ol(e)}Es=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||gi.current)La=!0;else{if(r<n){switch(La=!1,t.tag){case 3:Ga(t),Na();break;case 5:if(Bo(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:bi(t.type)&&_i(t);break;case 4:Do(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,pi($i,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Za(e,t,n):(pi(Uo,1&Uo.current),null!==(t=Ka(e,t,n))?t.sibling:null);pi(Uo,1&Uo.current);break;case 19:if(r=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(r)return qa(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),pi(Uo,Uo.current),!r)return null}return Ka(e,t,n)}La=!1}}else La=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=vi(t,hi.current),ao(t,n),i=Ko(null,t,r,e,i,n),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,bi(r)){var o=!0;_i(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,co(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&bo(t,r,s,e),i.updater=wo,t.stateNode=i,i._reactInternalFiber=t,Ao(t,r,e,n),t=Va(null,t,r,!0,o,n)}else t.tag=0,Ra(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,o=t.tag=function(e){if("function"==typeof e)return jl(e)?1:0;if(null!=e){if((e=e.$$typeof)===le)return 11;if(e===de)return 14}return 2}(i),e=Ki(i,e),o){case 0:t=Ua(null,t,i,e,n);break e;case 1:t=za(null,t,i,e,n);break e;case 11:t=Da(null,t,i,e,n);break e;case 14:t=Pa(null,t,i,Ki(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ua(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 1:return r=t.type,i=t.pendingProps,za(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 3:if(Ga(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,uo(e,t),ho(t,r,null,n),(r=t.memoizedState.element)===i)Na(),t=Ka(e,t,n);else{if((i=t.stateNode.hydrate)&&(Oa=On(t.stateNode.containerInfo.firstChild),Aa=t,i=Sa=!0),i)for(n=Co(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Ra(e,t,r,n),Na();t=t.child}return t;case 5:return Bo(t),null===e&&ka(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,En(r,i)?s=null:null!==o&&En(r,o)&&(t.effectTag|=16),Fa(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Ra(e,t,s,n),t=t.child),t;case 6:return null===e&&ka(t),null;case 13:return Za(e,t,n);case 4:return Do(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ko(t,null,r,n):Ra(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Da(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 7:return Ra(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ra(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var l=t.type._context;if(pi($i,l._currentValue),l._currentValue=o,null!==s)if(l=s.value,0===(o=zr(l,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(s.children===i.children&&!gi.current){t=Ka(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){s=l.child;for(var u=c.firstContext;null!==u;){if(u.context===r&&0!=(u.observedBits&o)){1===l.tag&&((u=fo(n,null)).tag=2,po(l,u)),l.expirationTime<n&&(l.expirationTime=n),null!==(u=l.alternate)&&u.expirationTime<n&&(u.expirationTime=n),oo(l.return,n),c.expirationTime<n&&(c.expirationTime=n);break}u=u.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Ra(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,ao(t,n),r=r(i=so(i,o.unstable_observedBits)),t.effectTag|=1,Ra(e,t,r,n),t.child;case 14:return o=Ki(i=t.type,t.pendingProps),Pa(e,t,i,o=Ki(i.type,o),r,n);case 15:return Ba(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ki(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,bi(r)?(e=!0,_i(t)):e=!1,ao(t,n),Eo(t,r,i),Ao(t,r,i,n),Va(null,t,r,!0,e,n);case 19:return qa(e,t,n)}throw Error(a(156,t.tag))};var kl=null,Cl=null;function Ml(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Nl(e,t,n,r){return new Ml(e,t,n,r)}function jl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ll(e,t){var n=e.alternate;return null===n?((n=Nl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rl(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)jl(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case ne:return Dl(n.children,i,o,t);case se:s=8,i|=7;break;case re:s=8,i|=1;break;case ie:return(e=Nl(12,n,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=o,e;case ce:return(e=Nl(13,n,t,i)).type=ce,e.elementType=ce,e.expirationTime=o,e;case ue:return(e=Nl(19,n,t,i)).elementType=ue,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case oe:s=10;break e;case ae:s=9;break e;case le:s=11;break e;case de:s=14;break e;case fe:s=16,r=null;break e;case pe:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Nl(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function Dl(e,t,n,r){return(e=Nl(7,e,r,t)).expirationTime=n,e}function Pl(e,t,n){return(e=Nl(6,e,null,t)).expirationTime=n,e}function Bl(e,t,n){return(t=Nl(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fl(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Ul(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function zl(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Vl(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Gl(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Hl(e,t,n,r){var i=t.current,o=el(),s=yo.suspense;o=tl(o,i,s);e:if(n){t:{if(et(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(bi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var c=n.type;if(bi(c)){n=Ei(n,c,l);break e}}n=l}else n=mi;return null===t.context?t.context=n:t.pendingContext=n,(t=fo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),po(i,t),nl(i,o),o}function Wl(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Yl(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Ql(e,t){Yl(e,t),(e=e.alternate)&&Yl(e,t)}function Zl(e,t,n){var r=new Fl(e,t,n=null!=n&&!0===n.hydrate),i=Nl(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,co(i),e[Cn]=r.current,n&&0!==t&&function(e,t){var n=$e(t);Tt.forEach((function(e){ht(e,t,n)})),It.forEach((function(e){ht(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function Xl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jl(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=Wl(a);s.call(e)}}Hl(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Zl(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var l=i;i=function(){var e=Wl(a);l.call(e)}}cl((function(){Hl(t,a,e,i)}))}return Wl(a)}function ql(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Kl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xl(t))throw Error(a(200));return ql(e,t,null,n)}Zl.prototype.render=function(e){Hl(e,this._internalRoot,null,null)},Zl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Hl(null,e,null,(function(){t[Cn]=null}))},gt=function(e){if(13===e.tag){var t=qi(el(),150,100);nl(e,t),Ql(e,t)}},yt=function(e){13===e.tag&&(nl(e,3),Ql(e,3))},vt=function(e){if(13===e.tag){var t=el();nl(e,t=tl(t,e,null)),Ql(e,t)}},I=function(e,t,n){switch(t){case"input":if(Oe(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ln(r);if(!i)throw Error(a(90));xe(r),Oe(r,i)}}}break;case"textarea":Ne(e,n);break;case"select":null!=(t=n.value)&&ke(e,!!n.multiple,t,!1)}},L=ll,R=function(e,t,n,r,i){var o=Ms;Ms|=4;try{return Yi(98,e.bind(null,t,n,r,i))}finally{0===(Ms=o)&&Xi()}},D=function(){0==(49&Ms)&&(function(){if(null!==Js){var e=Js;Js=null,e.forEach((function(e,t){Gl(t,e),ol(t)})),Xi()}}(),_l())},P=function(e,t){var n=Ms;Ms|=2;try{return e(t)}finally{0===(Ms=n)&&Xi()}};var $l={Events:[Nn,jn,Ln,S,_,zn,function(e){ot(e,Un)},N,j,Kt,lt,_l,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);kl=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},Cl=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:J.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Mn,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$l,t.createPortal=Kl,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=rt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!=(48&Ms))throw Error(a(187));var n=Ms;Ms|=1;try{return Yi(99,e.bind(null,t))}finally{Ms=n,Xi()}},t.hydrate=function(e,t,n){if(!Xl(t))throw Error(a(200));return Jl(null,e,t,!0,n)},t.render=function(e,t,n){if(!Xl(t))throw Error(a(200));return Jl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xl(e))throw Error(a(40));return!!e._reactRootContainer&&(cl((function(){Jl(null,null,e,!1,(function(){e._reactRootContainer=null,e[Cn]=null}))})),!0)},t.unstable_batchedUpdates=ll,t.unstable_createPortal=function(e,t){return Kl(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xl(n))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return Jl(e,t,n,!1,r)},t.version="16.14.0"},function(e,t,n){"use strict";e.exports=n(533)},function(e,t,n){"use strict";var r,i,o,a,s;if("undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,c=null,u=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(e){throw setTimeout(u,0),e}},d=Date.now();t.unstable_now=function(){return Date.now()-d},r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(u,0))},i=function(e,t){c=setTimeout(e,t)},o=function(){clearTimeout(c)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var f=window.performance,p=window.Date,m=window.setTimeout,h=window.clearTimeout;if("undefined"!=typeof console){var g=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof f&&"function"==typeof f.now)t.unstable_now=function(){return f.now()};else{var y=p.now();t.unstable_now=function(){return p.now()-y}}var v=!1,b=null,w=-1,x=5,E=0;a=function(){return t.unstable_now()>=E},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):x=0<e?Math.floor(1e3/e):5};var _=new MessageChannel,A=_.port2;_.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();E=e+x;try{b(!0,e)?A.postMessage(null):(v=!1,b=null)}catch(e){throw A.postMessage(null),e}}else v=!1},r=function(e){b=e,v||(v=!0,A.postMessage(null))},i=function(e,n){w=m((function(){e(t.unstable_now())}),n)},o=function(){h(w),w=-1}}function O(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<I(i,t)))break e;e[r]=t,e[n]=i,n=r}}function S(e){return void 0===(e=e[0])?null:e}function T(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>I(a,n))void 0!==l&&0>I(l,a)?(e[r]=l,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==l&&0>I(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function I(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var k=[],C=[],M=1,N=null,j=3,L=!1,R=!1,D=!1;function P(e){for(var t=S(C);null!==t;){if(null===t.callback)T(C);else{if(!(t.startTime<=e))break;T(C),t.sortIndex=t.expirationTime,O(k,t)}t=S(C)}}function B(e){if(D=!1,P(e),!R)if(null!==S(k))R=!0,r(F);else{var t=S(C);null!==t&&i(B,t.startTime-e)}}function F(e,n){R=!1,D&&(D=!1,o()),L=!0;var r=j;try{for(P(n),N=S(k);null!==N&&(!(N.expirationTime>n)||e&&!a());){var s=N.callback;if(null!==s){N.callback=null,j=N.priorityLevel;var l=s(N.expirationTime<=n);n=t.unstable_now(),"function"==typeof l?N.callback=l:N===S(k)&&T(k),P(n)}else T(k);N=S(k)}if(null!==N)var c=!0;else{var u=S(C);null!==u&&i(B,u.startTime-n),c=!1}return c}finally{N=null,j=r,L=!1}}function U(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var z=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||L||(R=!0,r(F))},t.unstable_getCurrentPriorityLevel=function(){return j},t.unstable_getFirstCallbackNode=function(){return S(k)},t.unstable_next=function(e){switch(j){case 1:case 2:case 3:var t=3;break;default:t=j}var n=j;j=t;try{return e()}finally{j=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=z,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=j;j=e;try{return t()}finally{j=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();if("object"==typeof a&&null!==a){var l=a.delay;l="number"==typeof l&&0<l?s+l:s,a="number"==typeof a.timeout?a.timeout:U(e)}else a=U(e),l=s;return e={id:M++,callback:n,priorityLevel:e,startTime:l,expirationTime:a=l+a,sortIndex:-1},l>s?(e.sortIndex=l,O(C,e),null===S(k)&&e===S(C)&&(D?o():D=!0,i(B,l-s))):(e.sortIndex=a,O(k,e),R||L||(R=!0,r(F))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();P(e);var n=S(k);return n!==N&&null!==N&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<N.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=j;return function(){var n=j;j=t;try{return e.apply(this,arguments)}finally{j=n}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logger=t.defaults=void 0;var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(535),a=n(417),s=n(538),l=(r=s)&&r.__esModule?r:{default:r};function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i({},l.default,e),n=t.logger,r=t.transformer,s=t.stateTransformer,c=t.errorTransformer,u=t.predicate,d=t.logErrors,f=t.diffPredicate;if(void 0===n)return function(){return function(e){return function(t){return e(t)}}};if(r&&console.error("Option 'transformer' is deprecated, use 'stateTransformer' instead!"),e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n\n\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\n\nconst logger = createLogger({\n  // ...options\n});\n\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var p=[];return function(e){var n=e.getState;return function(e){return function(r){if("function"==typeof u&&!u(n,r))return e(r);var l={};p.push(l),l.started=a.timer.now(),l.startedTime=new Date,l.prevState=s(n()),l.action=r;var m=void 0;if(d)try{m=e(r)}catch(e){l.error=c(e)}else m=e(r);l.took=a.timer.now()-l.started,l.nextState=s(n());var h=t.diff&&"function"==typeof f?f(n,r):t.diff;if((0,o.printBuffer)(p,i({},t,{diff:h})),p.length=0,l.error)throw l.error;return m}}}}var u=c();t.defaults=l.default,t.logger=u,t.default=c,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.printBuffer=function(e,t){var n=t.logger,r=t.actionTransformer,i=t.titleFormatter,a=void 0===i?function(e){var t=e.timestamp,n=e.duration;return function(e,r,i){var o=["action"];return o.push("%c"+String(e.type)),t&&o.push("%c@ "+r),n&&o.push("%c(in "+i.toFixed(2)+" ms)"),o.join(" ")}}(t):i,c=t.collapsed,u=t.colors,d=t.level,f=t.diff;e.forEach((function(i,p){var m=i.started,h=i.startedTime,g=i.action,y=i.prevState,v=i.error,b=i.took,w=i.nextState,x=e[p+1];x&&(w=x.prevState,b=x.started-m);var E=r(g),_="function"==typeof c?c((function(){return w}),g,i):c,A=(0,o.formatTime)(h),O=u.title?"color: "+u.title(E)+";":"",S=["color: gray; font-weight: lighter;"];S.push(O),t.timestamp&&S.push("color: gray; font-weight: lighter;"),t.duration&&S.push("color: gray; font-weight: lighter;");var T=a(E,A,b);try{_?u.title?n.groupCollapsed.apply(n,["%c "+T].concat(S)):n.groupCollapsed(T):u.title?n.group.apply(n,["%c "+T].concat(S)):n.group(T)}catch(e){n.log(T)}var I=l(d,E,[y],"prevState"),k=l(d,E,[E],"action"),C=l(d,E,[v,y],"error"),M=l(d,E,[w],"nextState");I&&(u.prevState?n[I]("%c prev state","color: "+u.prevState(y)+"; font-weight: bold",y):n[I]("prev state",y)),k&&(u.action?n[k]("%c action    ","color: "+u.action(E)+"; font-weight: bold",E):n[k]("action    ",E)),v&&C&&(u.error?n[C]("%c error     ","color: "+u.error(v,y)+"; font-weight: bold;",v):n[C]("error     ",v)),M&&(u.nextState?n[M]("%c next state","color: "+u.nextState(w)+"; font-weight: bold",w):n[M]("next state",w)),f&&(0,s.default)(y,w,n,_);try{n.groupEnd()}catch(e){n.log(" log end ")}}))};var i,o=n(417),a=n(536),s=(i=a)&&i.__esModule?i:{default:i};function l(e,t,n,i){switch(void 0===e?"undefined":r(e)){case"object":return"function"==typeof e[i]?e[i].apply(e,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n)):e[i];case"function":return e(t);default:return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var i=(0,o.default)(e,t);try{r?n.groupCollapsed("diff"):n.group("diff")}catch(e){n.log("diff")}i?i.forEach((function(e){var t=e.kind,r=function(e){var t=e.kind,n=e.path,r=e.lhs,i=e.rhs,o=e.index,a=e.item;switch(t){case"E":return[n.join("."),r,"",i];case"N":return[n.join("."),i];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+o+"]",a];default:return[]}}(e);n.log.apply(n,["%c "+a[t].text,s(t)].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(r)))})):n.log(" no diff ");try{n.groupEnd()}catch(e){n.log(" diff end  ")}};var r,i=n(537),o=(r=i)&&r.__esModule?r:{default:r};var a={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}};function s(e){return"color: "+a[e].color+"; font-weight: bold"}e.exports=t.default},function(e,t,n){(function(n){var r;!function(i,o){"use strict";void 0===(r=function(){return function(e){var t,r,i=[];t="object"==typeof n&&n?n:"undefined"!=typeof window?window:{};(r=t.DeepDiff)&&i.push((function(){void 0!==r&&t.DeepDiff===m&&(t.DeepDiff=r,r=e)}));function o(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function a(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function s(e,t,n){s.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function l(e,t){l.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function c(e,t){c.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function u(e,t,n){u.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function d(e,t,n){var r=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,r),e}function f(e){var t=typeof e;return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":void 0!==e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function p(t,n,r,i,o,a,m){var h=(o=o||[]).slice(0);if(void 0!==a){if(i){if("function"==typeof i&&i(h,a))return;if("object"==typeof i){if(i.prefilter&&i.prefilter(h,a))return;if(i.normalize){var g=i.normalize(h,a,t,n);g&&(t=g[0],n=g[1])}}}h.push(a)}"regexp"===f(t)&&"regexp"===f(n)&&(t=t.toString(),n=n.toString());var y=typeof t,v=typeof n;if("undefined"===y)"undefined"!==v&&r(new l(h,n));else if("undefined"===v)r(new c(h,t));else if(f(t)!==f(n))r(new s(h,t,n));else if("[object Date]"===Object.prototype.toString.call(t)&&"[object Date]"===Object.prototype.toString.call(n)&&t-n!=0)r(new s(h,t,n));else if("object"===y&&null!==t&&null!==n){if((m=m||[]).indexOf(t)<0){if(m.push(t),Array.isArray(t)){var b;t.length;for(b=0;b<t.length;b++)b>=n.length?r(new u(h,b,new c(e,t[b]))):p(t[b],n[b],r,i,h,b,m);for(;b<n.length;)r(new u(h,b,new l(e,n[b++])))}else{var w=Object.keys(t),x=Object.keys(n);w.forEach((function(o,a){var s=x.indexOf(o);s>=0?(p(t[o],n[o],r,i,h,o,m),x=d(x,s)):p(t[o],e,r,i,h,o,m)})),x.forEach((function(t){p(e,n[t],r,i,h,t,m)}))}m.length=m.length-1}}else t!==n&&("number"===y&&isNaN(t)&&isNaN(n)||r(new s(h,t,n)))}function m(t,n,r,i){return i=i||[],p(t,n,(function(e){e&&i.push(e)}),r),i.length?i:e}function h(e,t,n){if(n.path&&n.path.length){var r,i=e[t],o=n.path.length-1;for(r=0;r<o;r++)i=i[n.path[r]];switch(n.kind){case"A":h(i[n.path[r]],n.index,n.item);break;case"D":delete i[n.path[r]];break;case"E":case"N":i[n.path[r]]=n.rhs}}else switch(n.kind){case"A":h(e[t],n.index,n.item);break;case"D":e=d(e,t);break;case"E":case"N":e[t]=n.rhs}return e}function g(e,t,n){if(e&&t&&n&&n.kind){for(var r=e,i=-1,o=n.path?n.path.length-1:0;++i<o;)void 0===r[n.path[i]]&&(r[n.path[i]]="number"==typeof n.path[i]?[]:{}),r=r[n.path[i]];switch(n.kind){case"A":h(n.path?r[n.path[i]]:r,n.index,n.item);break;case"D":delete r[n.path[i]];break;case"E":case"N":r[n.path[i]]=n.rhs}}}function y(e,t,n){if(n.path&&n.path.length){var r,i=e[t],o=n.path.length-1;for(r=0;r<o;r++)i=i[n.path[r]];switch(n.kind){case"A":y(i[n.path[r]],n.index,n.item);break;case"D":case"E":i[n.path[r]]=n.lhs;break;case"N":delete i[n.path[r]]}}else switch(n.kind){case"A":y(e[t],n.index,n.item);break;case"D":case"E":e[t]=n.lhs;break;case"N":e=d(e,t)}return e}function v(e,t,n){if(e&&t&&n&&n.kind){var r,i,o=e;for(i=n.path.length-1,r=0;r<i;r++)void 0===o[n.path[r]]&&(o[n.path[r]]={}),o=o[n.path[r]];switch(n.kind){case"A":y(o[n.path[r]],n.index,n.item);break;case"D":case"E":o[n.path[r]]=n.lhs;break;case"N":delete o[n.path[r]]}}}function b(e,t,n){e&&t&&p(e,t,(function(r){n&&!n(e,t,r)||g(e,t,r)}))}return o(s,a),o(l,a),o(c,a),o(u,a),Object.defineProperties(m,{diff:{value:m,enumerable:!0},observableDiff:{value:p,enumerable:!0},applyDiff:{value:b,enumerable:!0},applyChange:{value:g,enumerable:!0},revertChange:{value:v,enumerable:!0},isConflict:{value:function(){return void 0!==r},enumerable:!0},noConflict:{value:function(){return i&&(i.forEach((function(e){e()})),i=null),m},enumerable:!0}}),m}()}.apply(t,[]))||(e.exports=r)}()}).call(this,n(93))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},e.exports=t.default},function(e,t,n){"use strict";var r=n(540);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){},function(e,t,n){e.exports=function(){var e,t=["navigation","request","process","log","user","state","error","manual"],n=function(e,t,n){for(var r=n,i=0,o=e.length;i<o;i++)r=t(r,e[i],i,e);return r},r=function(e,t){return n(e,(function(e,n,r,i){return t(n,r,i)?e.concat(n):e}),[])},i=function(e,t){return n(e,(function(e,n,r,i){return!0===e||n===t}),!1)},o=function(e){return"[object Array]"===Object.prototype.toString.call(e)},a=!{toString:null}.propertyIsEnumerable("toString"),s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);if(!a)return n;for(var r=0,i=s.length;r<i;r++)Object.prototype.hasOwnProperty.call(e,s[r])&&n.push(s[r]);return n},c=function(e,t){return void 0===e&&(e=1),void 0===t&&(t=1/0),function(n){return"number"==typeof n&&parseInt(""+n,10)===n&&n>=e&&n<=t}},u=function(e){return"function"==typeof e||o(e)&&r(e,(function(e){return"function"==typeof e})).length===e.length},d=function(e){return"string"==typeof e&&!!e.length},f={},p=function(){return{unhandledExceptions:!0,unhandledRejections:!0}};f.schema={apiKey:{defaultValue:function(){return null},message:"is required",validate:d},appVersion:{defaultValue:function(){},message:"should be a string",validate:function(e){return void 0===e||d(e)}},appType:{defaultValue:function(){},message:"should be a string",validate:function(e){return void 0===e||d(e)}},autoDetectErrors:{defaultValue:function(){return!0},message:"should be true|false",validate:function(e){return!0===e||!1===e}},enabledErrorTypes:{defaultValue:function(){return p()},message:"should be an object containing the flags { unhandledExceptions:true|false, unhandledRejections:true|false }",allowPartialObject:!0,validate:function(e){if("object"!=typeof e||!e)return!1;var t=l(e),n=l(p());return!(r(t,(function(e){return i(n,e)})).length<t.length||r(l(e),(function(t){return"boolean"!=typeof e[t]})).length>0)}},onError:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:u},onSession:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:u},onBreadcrumb:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:u},endpoints:{defaultValue:function(){return{notify:"https://notify.bugsnag.com",sessions:"https://sessions.bugsnag.com"}},message:"should be an object containing endpoint URLs { notify, sessions }",validate:function(e){return e&&"object"==typeof e&&d(e.notify)&&d(e.sessions)&&0===r(l(e),(function(e){return!i(["notify","sessions"],e)})).length}},autoTrackSessions:{defaultValue:function(e){return!0},message:"should be true|false",validate:function(e){return!0===e||!1===e}},enabledReleaseStages:{defaultValue:function(){return null},message:"should be an array of strings",validate:function(e){return null===e||o(e)&&r(e,(function(e){return"string"==typeof e})).length===e.length}},releaseStage:{defaultValue:function(){return"production"},message:"should be a string",validate:function(e){return"string"==typeof e&&e.length}},maxBreadcrumbs:{defaultValue:function(){return 25},message:"should be a number 100",validate:function(e){return c(0,100)(e)}},enabledBreadcrumbTypes:{defaultValue:function(){return t},message:"should be null or a list of available breadcrumb types ("+t.join(",")+")",validate:function(e){return null===e||o(e)&&n(e,(function(e,n){return!1===e?e:i(t,n)}),!0)}},context:{defaultValue:function(){},message:"should be a string",validate:function(e){return void 0===e||"string"==typeof e}},user:{defaultValue:function(){return{}},message:"should be an object with { id, email, name } properties",validate:function(e){return null===e||e&&n(l(e),(function(e,t){return e&&i(["id","email","name"],t)}),!0)}},metadata:{defaultValue:function(){return{}},message:"should be an object",validate:function(e){return"object"==typeof e&&null!==e}},logger:{defaultValue:function(){},message:"should be null or an object with methods { debug, info, warn, error }",validate:function(e){return!e||e&&n(["debug","info","warn","error"],(function(t,n){return t&&"function"==typeof e[n]}),!0)}},redactedKeys:{defaultValue:function(){return["password"]},message:"should be an array of strings|regexes",validate:function(e){return o(e)&&e.length===r(e,(function(e){return"string"==typeof e||e&&"function"==typeof e.test})).length}},plugins:{defaultValue:function(){return[]},message:"should be an array of plugin objects",validate:function(e){return o(e)&&e.length===r(e,(function(e){return e&&"object"==typeof e&&"function"==typeof e.load})).length}},featureFlags:{defaultValue:function(){return[]},message:'should be an array of objects that have a "name" property',validate:function(e){return o(e)&&e.length===r(e,(function(e){return e&&"object"==typeof e&&"string"==typeof e.name})).length}}};var m=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h=function(e,t){return n(e,(function(e,n,r,i){return e.concat(t(n,r,i))}),[])};function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var y=f.schema,v={releaseStage:m({},y.releaseStage,{defaultValue:function(){return/^localhost(:\d+)?$/.test(window.location.host)?"development":"production"}}),appType:g({},y.appType,{defaultValue:function(){return"browser"}}),logger:m({},y.logger,{defaultValue:function(){return"undefined"!=typeof console&&"function"==typeof console.debug?b():void 0}})},b=function(){var e={},t=console.log;return h(["debug","info","warn","error"],(function(n){var r=console[n];e[n]="function"==typeof r?r.bind(console,"[bugsnag]"):t.bind(console,"[bugsnag]")})),e},w=function(){function e(e,t,n,r){void 0===r&&(r=new Date),this.type=n,this.message=e,this.metadata=t,this.timestamp=r}return e.prototype.toJSON=function(){return{type:this.type,name:this.message,timestamp:this.timestamp,metaData:this.metadata}},e}(),x={};!function(t,n){"use strict";"function"==typeof e&&e.amd?e("stackframe",[],n):"object"==typeof x?x=n():t.StackFrame=n()}(this,(function(){"use strict";function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function t(e){return e.charAt(0).toUpperCase()+e.substring(1)}function n(e){return function(){return this[e]}}var r=["isConstructor","isEval","isNative","isToplevel"],i=["columnNumber","lineNumber"],o=["fileName","functionName","source"],a=["args"],s=r.concat(i,o,a);function l(e){if(e instanceof Object)for(var n=0;n<s.length;n++)e.hasOwnProperty(s[n])&&void 0!==e[s[n]]&&this["set"+t(s[n])](e[s[n]])}l.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof l)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new l(e)}},toString:function(){return(this.getFunctionName()||"{anonymous}")+"("+(this.getArgs()||[]).join(",")+")"+(this.getFileName()?"@"+this.getFileName():"")+(e(this.getLineNumber())?":"+this.getLineNumber():"")+(e(this.getColumnNumber())?":"+this.getColumnNumber():"")}};for(var c=0;c<r.length;c++)l.prototype["get"+t(r[c])]=n(r[c]),l.prototype["set"+t(r[c])]=function(e){return function(t){this[e]=Boolean(t)}}(r[c]);for(var u=0;u<i.length;u++)l.prototype["get"+t(i[u])]=n(i[u]),l.prototype["set"+t(i[u])]=function(t){return function(n){if(!e(n))throw new TypeError(t+" must be a Number");this[t]=Number(n)}}(i[u]);for(var d=0;d<o.length;d++)l.prototype["get"+t(o[d])]=n(o[d]),l.prototype["set"+t(o[d])]=function(e){return function(t){this[e]=String(t)}}(o[d]);return l}));var E={};!function(t,n){"use strict";"function"==typeof e&&e.amd?e("error-stack-parser",["stackframe"],n):"object"==typeof E?E=n(x):t.ErrorStackParser=n(t.StackFrame)}(this,(function(e){"use strict";var t=/(^|@)\S+\:\d+/,n=/^\s*at .*(\S+\:\d+|\(native\))/m,r=/^(eval@)?(\[native code\])?$/;return{parse:function(e){if(void 0!==e.stacktrace||void 0!==e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(n))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/.exec(e.replace(/[\(\)]/g,""));return[t[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(t){return t.stack.split("\n").filter((function(e){return!!e.match(n)}),this).map((function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var n=t.replace(/^\s+/,"").replace(/\(eval code/g,"("),r=n.match(/ (\((.+):(\d+):(\d+)\)$)/),i=(n=r?n.replace(r[0],""):n).split(/\s+/).slice(1),o=this.extractLocation(r?r[1]:i.pop()),a=i.join(" ")||void 0,s=["eval","<anonymous>"].indexOf(o[0])>-1?void 0:o[0];return new e({functionName:a,fileName:s,lineNumber:o[1],columnNumber:o[2],source:t})}),this)},parseFFOrSafari:function(t){return t.stack.split("\n").filter((function(e){return!e.match(r)}),this).map((function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),-1===t.indexOf("@")&&-1===t.indexOf(":"))return new e({functionName:t});var n=/((.*".+"[^@]*)?[^@]*)(?:@)/,r=t.match(n),i=r&&r[1]?r[1]:void 0,o=this.extractLocation(t.replace(n,""));return new e({functionName:i,fileName:o[0],lineNumber:o[1],columnNumber:o[2],source:t})}),this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)/i,r=t.message.split("\n"),i=[],o=2,a=r.length;o<a;o+=2){var s=n.exec(r[o]);s&&i.push(new e({fileName:s[2],lineNumber:s[1],source:r[o]}))}return i},parseOpera10:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=t.stacktrace.split("\n"),i=[],o=0,a=r.length;o<a;o+=2){var s=n.exec(r[o]);s&&i.push(new e({functionName:s[3]||void 0,fileName:s[2],lineNumber:s[1],source:r[o]}))}return i},parseOpera11:function(n){return n.stack.split("\n").filter((function(e){return!!e.match(t)&&!e.match(/^Error created at/)}),this).map((function(t){var n,r=t.split("@"),i=this.extractLocation(r.pop()),o=r.shift()||"",a=o.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;o.match(/\(([^\)]*)\)/)&&(n=o.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var s=void 0===n||"[arguments not available]"===n?void 0:n.split(",");return new e({functionName:a,args:s,fileName:i[0],lineNumber:i[1],columnNumber:i[2],source:t})}),this)}}}));var _=E,A=function(e,t,n,r){var i=r&&r.redactedKeys?r.redactedKeys:[],o=r&&r.redactedPaths?r.redactedPaths:[];return JSON.stringify(D(e,i,o),t,n)},O=20,S=25e3,T=8,I="...";function k(e){return e instanceof Error||/^\[object (Error|(Dom)?Exception)\]$/.test(Object.prototype.toString.call(e))}function C(e){return"[Throws: "+(e?e.message:"?")+"]"}function M(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return!0;return!1}function N(e,t){for(var n=0,r=e.length;n<r;n++)if(0===t.indexOf(e[n]))return!0;return!1}function j(e,t){for(var n=0,r=e.length;n<r;n++){if("string"==typeof e[n]&&e[n].toLowerCase()===t.toLowerCase())return!0;if(e[n]&&"function"==typeof e[n].test&&e[n].test(t))return!0}return!1}function L(e){return"[object Array]"===Object.prototype.toString.call(e)}function R(e,t){try{return e[t]}catch(e){return C(e)}}function D(e,t,n){var r=[],i=0;function o(e,a){function s(){return a.length>T&&i>S}if(i++,a.length>O)return I;if(s())return I;if(null===e||"object"!=typeof e)return e;if(M(r,e))return"[Circular]";if(r.push(e),"function"==typeof e.toJSON)try{i--;var l=o(e.toJSON(),a);return r.pop(),l}catch(e){return C(e)}if(k(e)){i--;var c=o({name:e.name,message:e.message},a);return r.pop(),c}if(L(e)){for(var u=[],d=0,f=e.length;d<f;d++){if(s()){u.push(I);break}u.push(o(e[d],a.concat("[]")))}return r.pop(),u}var p={};try{for(var m in e)if(Object.prototype.hasOwnProperty.call(e,m))if(N(n,a.join("."))&&j(t,m))p[m]="[REDACTED]";else{if(s()){p[m]=I;break}p[m]=o(R(e,m),a.concat(m))}}catch(e){}return r.pop(),p}return o(e,[])}function P(e,t,n){"string"==typeof t&&(void 0===n?n=null:null!==n&&"string"!=typeof n&&(n=A(n)),e[t]=n)}function B(e,t){if(o(t))for(var n=0;n<t.length;++n){var r=t[n];null!==r&&"object"==typeof r&&P(e,r.name,r.variant)}}function F(e){return h(l(e),(function(t){var n={featureFlag:t};return"string"==typeof e[t]&&(n.variant=e[t]),n}))}var U={add:P,merge:B,toEventApi:F},z=function(e){return!(!e||!e.stack&&!e.stacktrace&&!e["opera#sourceloc"]||"string"!=typeof(e.stack||e.stacktrace||e["opera#sourceloc"])||e.stack===e.name+": "+e.message)};function V(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}}var G=V,H=function(e,t,n,r){var i;if(t){var o;if(null===n)return W(e,t);"object"==typeof n&&(o=n),"string"==typeof n&&((i={})[n]=r,o=i),o&&(e[t]||(e[t]={}),e[t]=m({},e[t],o))}},W=function(e,t,n){"string"==typeof t&&(n?e[t]&&delete e[t][n]:delete e[t])},Y={add:H,get:function(e,t,n){if("string"==typeof t)return n?e[t]?e[t][n]:void 0:e[t]},clear:W},Q={};!function(t,n){"use strict";"function"==typeof e&&e.amd?e("stack-generator",["stackframe"],n):"object"==typeof Q?Q=n(x):t.StackGenerator=n(t.StackFrame)}(this,(function(e){return{backtrace:function(t){var n=[],r=10;"object"==typeof t&&"number"==typeof t.maxStackSize&&(r=t.maxStackSize);for(var i=arguments.callee;i&&n.length<r&&i.arguments;){for(var o=new Array(i.arguments.length),a=0;a<o.length;++a)o[a]=i.arguments[a];/function(?:\s+([\w$]+))+\s*\(/.test(i.toString())?n.push(new e({functionName:RegExp.$1||void 0,args:o})):n.push(new e({args:o}));try{i=i.caller}catch(e){break}}return n}}}));var Z=function(){function e(t,n,r,i,o){void 0===r&&(r=[]),void 0===i&&(i=q()),this.apiKey=void 0,this.context=void 0,this.groupingHash=void 0,this.originalError=o,this._handledState=i,this.severity=this._handledState.severity,this.unhandled=this._handledState.unhandled,this.app={},this.device={},this.request={},this.breadcrumbs=[],this.threads=[],this._metadata={},this._features={},this._user={},this._session=void 0,this.errors=[$(t,n,e.__type,r)]}var t=e.prototype;return t.addMetadata=function(e,t,n){return Y.add(this._metadata,e,t,n)},t.getMetadata=function(e,t){return Y.get(this._metadata,e,t)},t.clearMetadata=function(e,t){return Y.clear(this._metadata,e,t)},t.addFeatureFlag=function(e,t){void 0===t&&(t=null),U.add(this._features,e,t)},t.addFeatureFlags=function(e){U.merge(this._features,e)},t.clearFeatureFlag=function(e){delete this._features[e]},t.clearFeatureFlags=function(){this._features={}},t.getUser=function(){return this._user},t.setUser=function(e,t,n){this._user={id:e,email:t,name:n}},t.toJSON=function(){return{payloadVersion:"4",exceptions:h(this.errors,(function(e){return m({},e,{message:e.errorMessage})})),severity:this.severity,unhandled:this._handledState.unhandled,severityReason:this._handledState.severityReason,app:this.app,device:this.device,request:this.request,breadcrumbs:this.breadcrumbs,context:this.context,groupingHash:this.groupingHash,metaData:this._metadata,user:this._user,session:this._session,featureFlags:U.toEventApi(this._features)}},e}(),X=function(e){var t={file:e.fileName,method:J(e.functionName),lineNumber:e.lineNumber,columnNumber:e.columnNumber,code:void 0,inProject:void 0};return t.lineNumber>-1&&!t.file&&!t.method&&(t.file="global code"),t},J=function(e){return/^global code$/i.test(e)?"global code":e},q=function(){return{unhandled:!1,severity:"warning",severityReason:{type:"handledException"}}},K=function(e){return"string"==typeof e?e:""};function $(e,t,r,i){return{errorClass:K(e),errorMessage:K(t),type:r,stacktrace:n(i,(function(e,t){var n=X(t);try{return"{}"===JSON.stringify(n)?e:e.concat(n)}catch(t){return e}}),[])}}function ee(e){return e.cause?[e].concat(ee(e.cause)):[e]}Z.getStacktrace=function(e,t,n){if(z(e))return _.parse(e).slice(t);try{return r(Q.backtrace(),(function(e){return-1===(e.functionName||"").indexOf("StackGenerator$$")})).slice(1+n)}catch(e){return[]}},Z.create=function(e,t,n,r,i,o){void 0===i&&(i=0);var a,s=ne(e,t,r,o),l=s[0],c=s[1];try{var u=Z.getStacktrace(l,c>0?1+c+i:0,1+i);a=new Z(l.name,l.message,u,n,e)}catch(t){a=new Z(l.name,l.message,[],n,e)}if("InvalidError"===l.name&&a.addMetadata(""+r,"non-error parameter",te(e)),l.cause){var d,f=ee(l).slice(1),p=h(f,(function(e){var t=G(e)&&z(e)?_.parse(e):[],n=ne(e,!0,"error cause")[0];return"InvalidError"===n.name&&a.addMetadata("error cause",te(e)),$(n.name,n.message,Z.__type,t)}));(d=a.errors).push.apply(d,p)}return a};var te=function(e){return null===e?"null":void 0===e?"undefined":e},ne=function(e,t,n,r){var i,o=0,a=function(e){var t="error cause"===n?"was":"received";r&&r.warn(n+" "+t+' a non-error: "'+e+'"');var i=new Error(n+" "+t+' a non-error. See "'+n+'" tab for more detail.');return i.name="InvalidError",i};if(t)switch(typeof e){case"string":case"number":case"boolean":i=new Error(String(e)),o+=1;break;case"function":i=a("function"),o+=2;break;case"object":null!==e&&G(e)?i=e:null!==e&&re(e)?((i=new Error(e.message||e.errorMessage)).name=e.name||e.errorClass,o+=1):(i=a(null===e?"null":"unsupported object"),o+=2);break;default:i=a("nothing"),o+=2}else G(e)?i=e:(i=a(typeof e),o+=2);if(!z(i))try{throw i}catch(e){z(e)&&(i=e,o=1)}return[i,o]};Z.__type="browserjs";var re=function(e){return!("string"!=typeof e.name&&"string"!=typeof e.errorClass||"string"!=typeof e.message&&"string"!=typeof e.errorMessage)},ie=Z,oe=function(e,t,n){var r=0,i=function(){if(r>=e.length)return n(null,!0);t(e[r],(function(e,t){return e?n(e):!1===t?n(null,!1):(r++,void i())}))};i()},ae=function(e,t,n,r){oe(e,(function(e,r){if("function"!=typeof e)return r(null);try{if(2!==e.length){var i=e(t);return i&&"function"==typeof i.then?i.then((function(e){return setTimeout((function(){return r(null,e)}))}),(function(e){setTimeout((function(){return n(e),r(null,!0)}))})):r(null,i)}e(t,(function(e,t){if(e)return n(e),r(null);r(null,t)}))}catch(e){n(e),r(null)}}),r)},se=function(e,t,n,r){for(var i=!1,o=e.slice();!i&&o.length;)try{i=!1===o.pop()(t)}catch(e){r.error("Error occurred in "+n+" callback, continuing anyway"),r.error(e)}return i},le=function(e,t){var n="000000000"+e;return n.substr(n.length-t)},ce="object"==typeof window?window:self,ue=0;for(var de in ce)Object.hasOwnProperty.call(ce,de)&&ue++;var fe=navigator.mimeTypes?navigator.mimeTypes.length:0,pe=le((fe+navigator.userAgent.length).toString(36)+ue.toString(36),4),me=function(){return pe},he=0,ge=4,ye=36,ve=Math.pow(ye,ge);function be(){return le((Math.random()*ve<<0).toString(ye),ge)}function we(){return he=he<ve?he:0,++he-1}function xe(){return"c"+(new Date).getTime().toString(ye)+le(we().toString(ye),ge)+me()+(be()+be())}xe.fingerprint=me;var Ee=xe,_e=function(){function e(){this.id=Ee(),this.startedAt=new Date,this._handled=0,this._unhandled=0,this._user={},this.app={},this.device={}}var t=e.prototype;return t.getUser=function(){return this._user},t.setUser=function(e,t,n){this._user={id:e,email:t,name:n}},t.toJSON=function(){return{id:this.id,startedAt:this.startedAt,events:{handled:this._handled,unhandled:this._unhandled}}},t._track=function(e){this[e._handledState.unhandled?"_unhandled":"_handled"]+=1},e}(),Ae=function(){},Oe=function(){function e(t,n,r,i){var o=this;void 0===n&&(n=f.schema),void 0===r&&(r=[]),this._notifier=i,this._config={},this._schema=n,this._delivery={sendSession:Ae,sendEvent:Ae},this._logger={debug:Ae,info:Ae,warn:Ae,error:Ae},this._plugins={},this._breadcrumbs=[],this._session=null,this._metadata={},this._features={},this._context=void 0,this._user={},this._cbs={e:[],s:[],sp:[],b:[]},this.Client=e,this.Event=ie,this.Breadcrumb=w,this.Session=_e,this._config=this._configure(t,r),h(r.concat(this._config.plugins),(function(e){e&&o._loadPlugin(e)})),this._depth=1;var a=this,s=this.notify;this.notify=function(){return s.apply(a,arguments)}}var o=e.prototype;return o.addMetadata=function(e,t,n){return Y.add(this._metadata,e,t,n)},o.getMetadata=function(e,t){return Y.get(this._metadata,e,t)},o.clearMetadata=function(e,t){return Y.clear(this._metadata,e,t)},o.addFeatureFlag=function(e,t){void 0===t&&(t=null),U.add(this._features,e,t)},o.addFeatureFlags=function(e){U.merge(this._features,e)},o.clearFeatureFlag=function(e){delete this._features[e]},o.clearFeatureFlags=function(){this._features={}},o.getContext=function(){return this._context},o.setContext=function(e){this._context=e},o._configure=function(e,t){var r=n(t,(function(e,t){return t&&t.configSchema?m({},e,t.configSchema):e}),this._schema),i=n(l(r),(function(t,n){var i=r[n].defaultValue(e[n]);return void 0!==e[n]?r[n].validate(e[n])?r[n].allowPartialObject?t.config[n]=m(i,e[n]):t.config[n]=e[n]:(t.errors[n]=r[n].message,t.config[n]=i):t.config[n]=i,t}),{errors:{},config:{}}),o=i.errors,a=i.config;if(r.apiKey){if(!a.apiKey)throw new Error("No Bugsnag API Key set");/^[0-9a-f]{32}$/i.test(a.apiKey)||(o.apiKey="should be a string of 32 hexadecimal characters")}return this._metadata=m({},a.metadata),U.merge(this._features,a.featureFlags),this._user=m({},a.user),this._context=a.context,a.logger&&(this._logger=a.logger),a.onError&&(this._cbs.e=this._cbs.e.concat(a.onError)),a.onBreadcrumb&&(this._cbs.b=this._cbs.b.concat(a.onBreadcrumb)),a.onSession&&(this._cbs.s=this._cbs.s.concat(a.onSession)),l(o).length&&this._logger.warn(Se(o,e)),a},o.getUser=function(){return this._user},o.setUser=function(e,t,n){this._user={id:e,email:t,name:n}},o._loadPlugin=function(e){var t=e.load(this);return e.name&&(this._plugins["~"+e.name+"~"]=t),this},o.getPlugin=function(e){return this._plugins["~"+e+"~"]},o._setDelivery=function(e){this._delivery=e(this)},o.startSession=function(){var e=new _e;return e.app.releaseStage=this._config.releaseStage,e.app.version=this._config.appVersion,e.app.type=this._config.appType,e._user=m({},this._user),se(this._cbs.s,e,"onSession",this._logger)?(this._logger.debug("Session not started due to onSession callback"),this):this._sessionDelegate.startSession(this,e)},o.addOnError=function(e,t){void 0===t&&(t=!1),this._cbs.e[t?"unshift":"push"](e)},o.removeOnError=function(e){this._cbs.e=r(this._cbs.e,(function(t){return t!==e}))},o._addOnSessionPayload=function(e){this._cbs.sp.push(e)},o.addOnSession=function(e){this._cbs.s.push(e)},o.removeOnSession=function(e){this._cbs.s=r(this._cbs.s,(function(t){return t!==e}))},o.addOnBreadcrumb=function(e,t){void 0===t&&(t=!1),this._cbs.b[t?"unshift":"push"](e)},o.removeOnBreadcrumb=function(e){this._cbs.b=r(this._cbs.b,(function(t){return t!==e}))},o.pauseSession=function(){return this._sessionDelegate.pauseSession(this)},o.resumeSession=function(){return this._sessionDelegate.resumeSession(this)},o.leaveBreadcrumb=function(e,n,r){if(e="string"==typeof e?e:"",r="string"==typeof r&&i(t,r)?r:"manual",n="object"==typeof n&&null!==n?n:{},e){var o=new w(e,n,r);se(this._cbs.b,o,"onBreadcrumb",this._logger)?this._logger.debug("Breadcrumb not attached due to onBreadcrumb callback"):(this._breadcrumbs.push(o),this._breadcrumbs.length>this._config.maxBreadcrumbs&&(this._breadcrumbs=this._breadcrumbs.slice(this._breadcrumbs.length-this._config.maxBreadcrumbs)))}},o._isBreadcrumbTypeEnabled=function(e){var t=this._config.enabledBreadcrumbTypes;return null===t||i(t,e)},o.notify=function(e,t,n){void 0===n&&(n=Ae);var r=ie.create(e,!0,void 0,"notify()",this._depth+1,this._logger);this._notify(r,t,n)},o._notify=function(t,n,r){var o=this;if(void 0===r&&(r=Ae),t.app=m({},t.app,{releaseStage:this._config.releaseStage,version:this._config.appVersion,type:this._config.appType}),t.context=t.context||this._context,t._metadata=m({},t._metadata,this._metadata),t._features=m({},t._features,this._features),t._user=m({},t._user,this._user),t.breadcrumbs=this._breadcrumbs.slice(),null!==this._config.enabledReleaseStages&&!i(this._config.enabledReleaseStages,this._config.releaseStage))return this._logger.warn("Event not sent due to releaseStage/enabledReleaseStages configuration"),r(null,t);var a=t.severity,s=function(e){o._logger.error("Error occurred in onError callback, continuing anyway"),o._logger.error(e)},l=[].concat(this._cbs.e).concat(n);ae(l,t,s,(function(n,i){if(n&&s(n),!i)return o._logger.debug("Event not sent due to onError callback"),r(null,t);o._isBreadcrumbTypeEnabled("error")&&e.prototype.leaveBreadcrumb.call(o,t.errors[0].errorClass,{errorClass:t.errors[0].errorClass,errorMessage:t.errors[0].errorMessage,severity:t.severity},"error"),a!==t.severity&&(t._handledState.severityReason={type:"userCallbackSetSeverity"}),t.unhandled!==t._handledState.unhandled&&(t._handledState.severityReason.unhandledOverridden=!0,t._handledState.unhandled=t.unhandled),o._session&&(o._session._track(t),t._session=o._session),o._delivery.sendEvent({apiKey:t.apiKey||o._config.apiKey,notifier:o._notifier,events:[t]},(function(e){return r(e,t)}))}))},e}(),Se=function(e,t){return new Error("Invalid configuration\n"+h(l(e),(function(n){return"  - "+n+" "+e[n]+", got "+Te(t[n])})).join("\n\n"))},Te=function(e){switch(typeof e){case"string":case"number":case"object":return JSON.stringify(e);default:return String(e)}},Ie=Oe,ke={},Ce=["events.[].metaData","events.[].breadcrumbs.[].metaData","events.[].request"];ke.event=function(e,t){var n=A(e,null,null,{redactedPaths:Ce,redactedKeys:t});if(n.length>1e6&&(e.events[0]._metadata={notifier:"WARNING!\nSerialized payload was "+n.length/1e6+"MB (limit = 1MB)\nmetadata was removed"},(n=A(e,null,null,{redactedPaths:Ce,redactedKeys:t})).length>1e6))throw new Error("payload exceeded 1MB limit");return n},ke.session=function(e,t){var n=A(e,null,null);if(n.length>1e6)throw new Error("payload exceeded 1MB limit");return n};var Me={};Me=function(e,t){return void 0===t&&(t=window),{sendEvent:function(n,r){void 0===r&&(r=function(){});var i=Ne(e._config,"notify","4",t),o=new t.XDomainRequest;o.onload=function(){r(null)},o.open("POST",i),setTimeout((function(){try{o.send(ke.event(n,e._config.redactedKeys))}catch(t){e._logger.error(t),r(t)}}),0)},sendSession:function(n,r){void 0===r&&(r=function(){});var i=Ne(e._config,"sessions","1",t),o=new t.XDomainRequest;o.onload=function(){r(null)},o.open("POST",i),setTimeout((function(){try{o.send(ke.session(n,e._config.redactedKeys))}catch(t){e._logger.error(t),r(t)}}),0)}}};var Ne=function(e,t,n,r){var i=JSON.parse(JSON.stringify(new Date));return je(e.endpoints[t],r.location.protocol)+"?apiKey="+encodeURIComponent(e.apiKey)+"&payloadVersion="+n+"&sentAt="+encodeURIComponent(i)},je=Me._matchPageProtocol=function(e,t){return"http:"===t?e.replace(/^https:/,"http:"):e},Le=function(e,t){return void 0===t&&(t=window),{sendEvent:function(n,r){void 0===r&&(r=function(){});try{var i=e._config.endpoints.notify,o=new t.XMLHttpRequest;o.onreadystatechange=function(){o.readyState===t.XMLHttpRequest.DONE&&r(null)},o.open("POST",i),o.setRequestHeader("Content-Type","application/json"),o.setRequestHeader("Bugsnag-Api-Key",n.apiKey||e._config.apiKey),o.setRequestHeader("Bugsnag-Payload-Version","4"),o.setRequestHeader("Bugsnag-Sent-At",(new Date).toISOString()),o.send(ke.event(n,e._config.redactedKeys))}catch(t){e._logger.error(t)}},sendSession:function(n,r){void 0===r&&(r=function(){});try{var i=e._config.endpoints.sessions,o=new t.XMLHttpRequest;o.onreadystatechange=function(){o.readyState===t.XMLHttpRequest.DONE&&r(null)},o.open("POST",i),o.setRequestHeader("Content-Type","application/json"),o.setRequestHeader("Bugsnag-Api-Key",e._config.apiKey),o.setRequestHeader("Bugsnag-Payload-Version","1"),o.setRequestHeader("Bugsnag-Sent-At",(new Date).toISOString()),o.send(ke.session(n,e._config.redactedKeys))}catch(t){e._logger.error(t)}}}},Re=new Date,De=function(){Re=new Date},Pe={name:"appDuration",load:function(e){return e.addOnError((function(e){var t=new Date;e.app.duration=t-Re}),!0),{reset:De}}},Be=function(e){return void 0===e&&(e=window),{load:function(t){t.addOnError((function(t){void 0===t.context&&(t.context=e.location.pathname)}),!0)}}},Fe=function(e,t){var n="000000000"+e;return n.substr(n.length-t)},Ue="object"==typeof window?window:self,ze=0;for(var Ve in Ue)Object.hasOwnProperty.call(Ue,Ve)&&ze++;var Ge=navigator.mimeTypes?navigator.mimeTypes.length:0,He=Fe((Ge+navigator.userAgent.length).toString(36)+ze.toString(36),4),We=function(){return He},Ye=0,Qe=4,Ze=36,Xe=Math.pow(Ze,Qe);function Je(){return Fe((Math.random()*Xe<<0).toString(Ze),Qe)}function qe(){return Ye=Ye<Xe?Ye:0,++Ye-1}function Ke(){return"c"+(new Date).getTime().toString(Ze)+Fe(qe().toString(Ze),Qe)+We()+(Je()+Je())}Ke.fingerprint=We;var $e=Ke,et="bugsnag-anonymous-id",tt=function(){try{var e=window.localStorage,t=e.getItem(et);return t&&/^c[a-z0-9]{20,32}$/.test(t)||(t=$e(),e.setItem(et,t)),t}catch(e){}},nt=function(e,t){return void 0===e&&(e=navigator),void 0===t&&(t=window.screen),{load:function(n){var r={locale:e.browserLanguage||e.systemLanguage||e.userLanguage||e.language,userAgent:e.userAgent};t&&t.orientation&&t.orientation.type?r.orientation=t.orientation.type:r.orientation=document.documentElement.clientWidth>document.documentElement.clientHeight?"landscape":"portrait",n._config.generateAnonymousId&&(r.id=tt()),n.addOnSession((function(e){e.device=m({},e.device,r),n._config.collectUserIp||rt(e)})),n.addOnError((function(e){e.device=m({},e.device,r,{time:new Date}),n._config.collectUserIp||rt(e)}),!0)},configSchema:{generateAnonymousId:{validate:function(e){return!0===e||!1===e},defaultValue:function(){return!0},message:"should be true|false"}}}},rt=function(e){var t=e.getUser();t&&t.id||e.setUser(e.device.id)},it=function(e){return void 0===e&&(e=window),{load:function(t){t.addOnError((function(t){t.request&&t.request.url||(t.request=m({},t.request,{url:e.location.href}))}),!0)}}},ot={load:function(e){e._sessionDelegate=at}},at={startSession:function(e,t){var n=e;return n._session=t,n._pausedSession=null,null===n._config.enabledReleaseStages||i(n._config.enabledReleaseStages,n._config.releaseStage)?(n._delivery.sendSession({notifier:n._notifier,device:t.device,app:t.app,sessions:[{id:t.id,startedAt:t.startedAt,user:t._user}]}),n):(n._logger.warn("Session not sent due to releaseStage/enabledReleaseStages configuration"),n)},resumeSession:function(e){return e._session?e:e._pausedSession?(e._session=e._pausedSession,e._pausedSession=null,e):e.startSession()},pauseSession:function(e){e._pausedSession=e._session,e._session=null}},st={load:function(e){e._config.collectUserIp||e.addOnError((function(e){e._user&&void 0===e._user.id&&delete e._user.id,e._user=m({id:"[REDACTED]"},e._user),e.request=m({clientIp:"[REDACTED]"},e.request)}))},configSchema:{collectUserIp:{defaultValue:function(){return!0},message:"should be true|false",validate:function(e){return!0===e||!1===e}}}},lt={load:function(e){!/^(local-)?dev(elopment)?$/.test(e._config.releaseStage)&&e._isBreadcrumbTypeEnabled("log")&&h(ct,(function(t){var r=console[t];console[t]=function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];e.leaveBreadcrumb("Console output",n(o,(function(e,t,n){var r="[Unknown value]";try{r=String(t)}catch(e){}if("[object Object]"===r)try{r=JSON.stringify(t)}catch(e){}return e["["+n+"]"]=r,e}),{severity:0===t.indexOf("group")?"log":t}),"log"),r.apply(console,o)},console[t]._restore=function(){console[t]=r}}))}},ct=r(["log","debug","info","warn","error"],(function(e){return"undefined"!=typeof console&&"function"==typeof console[e]})),ut=200,dt=5e5,ft=function(e,t){return void 0===e&&(e=document),void 0===t&&(t=window),{load:function(i){if(i._config.trackInlineScripts){var o=t.location.href,a="",s=e.attachEvent?"complete"===e.readyState:"loading"!==e.readyState,l=function(){return e.documentElement.outerHTML};a=l();var c=e.onreadystatechange;e.onreadystatechange=function(){"interactive"===e.readyState&&(a=l(),s=!0);try{c.apply(this,arguments)}catch(e){}};var u=null,d=function(e){u=e},f=function(){var t=e.currentScript||u;if(!t&&!s){var n=e.scripts||e.getElementsByTagName("script");t=n[n.length-1]}return t},p=function(e){s&&a||(a=l());var t=["\x3c!-- DOC START --\x3e"].concat(a.split("\n")),r=e-1,i=Math.max(r-3,0),o=Math.min(r+3,t.length);return n(t.slice(i,o),(function(e,t,n){return e[i+1+n]=t.length<=ut?t:t.substr(0,ut),e}),{})};i.addOnError((function(e){e.errors[0].stacktrace=r(e.errors[0].stacktrace,(function(e){return!/__trace__$/.test(e.method)}));var t=e.errors[0].stacktrace[0];if(!t||!t.file||t.file.replace(/#.*$/,"")===o.replace(/#.*$/,"")){var n=f();if(n){var i=n.innerHTML;e.addMetadata("script","content",i.length<=dt?i:i.substr(0,dt)),t&&t.lineNumber&&(t.code=p(t.lineNumber))}}}),!0);var m=h(["setTimeout","setInterval","setImmediate","requestAnimationFrame"],(function(e){return pt(t,e,(function(e){return g(e,(function(e){return{get:function(){return e[0]},replace:function(t){e[0]=t}}}))}))}))[0];h(["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],(function(e){t[e]&&t[e].prototype&&Object.prototype.hasOwnProperty.call(t[e].prototype,"addEventListener")&&(pt(t[e].prototype,"addEventListener",(function(e){return g(e,mt)})),pt(t[e].prototype,"removeEventListener",(function(e){return g(e,mt,!0)})))}))}function g(e,t,n){return void 0===n&&(n=!1),function(){var r=[].slice.call(arguments);try{var i=t(r),o=i.get();if(n&&e.apply(this,r),"function"!=typeof o)return e.apply(this,r);if(o.__trace__)i.replace(o.__trace__);else{var a=f();o.__trace__=function(){d(a),m((function(){d(null)}),0);var e=o.apply(this,arguments);return d(null),e},o.__trace__.__trace__=o.__trace__,i.replace(o.__trace__)}}catch(e){}if(e.apply)return e.apply(this,r);switch(r.length){case 1:return e(r[0]);case 2:return e(r[0],r[1]);default:return e()}}}},configSchema:{trackInlineScripts:{validate:function(e){return!0===e||!1===e},defaultValue:function(){return!0},message:"should be true|false"}}}};function pt(e,t,n){var r=e[t];if(!r)return r;var i=n(r);return e[t]=i,r}function mt(e){var t=!!e[1]&&"function"==typeof e[1].handleEvent;return{get:function(){return t?e[1].handleEvent:e[1]},replace:function(n){t?e[1].handleEvent=n:e[1]=n}}}var ht=function(e){return void 0===e&&(e=window),{load:function(t){"addEventListener"in e&&t._isBreadcrumbTypeEnabled("user")&&e.addEventListener("click",(function(n){var r,i;try{r=gt(n.target),i=yt(n.target,e)}catch(e){r="[hidden]",i="[hidden]",t._logger.error("Cross domain error when tracking click event. See docs: https://tinyurl.com/yy3rn63z")}t.leaveBreadcrumb("UI click",{targetText:r,targetSelector:i},"user")}),!0)}}},gt=function(e){var t=e.textContent||e.innerText||"";return t||"submit"!==e.type&&"button"!==e.type||(t=e.value),vt(t=t.replace(/^\s+|\s+$/g,""),140)};function yt(e,t){var n=[e.tagName];if(e.id&&n.push("#"+e.id),e.className&&e.className.length&&n.push("."+e.className.split(" ").join(".")),!t.document.querySelectorAll||!Array.prototype.indexOf)return n.join("");try{if(1===t.document.querySelectorAll(n.join("")).length)return n.join("")}catch(e){return n.join("")}if(e.parentNode.childNodes.length>1){var r=Array.prototype.indexOf.call(e.parentNode.childNodes,e)+1;n.push(":nth-child("+r+")")}return 1===t.document.querySelectorAll(n.join("")).length?n.join(""):e.parentNode?yt(e.parentNode,t)+" > "+n.join(""):n.join("")}function vt(e,t){var n="(...)";return e&&e.length<=t?e:e.slice(0,t-n.length)+n}var bt={};bt=function(e){return void 0===e&&(e=window),{load:function(t){if("addEventListener"in e&&t._isBreadcrumbTypeEnabled("navigation")){var n=function(e){return function(){return t.leaveBreadcrumb(e,{},"navigation")}};e.addEventListener("pagehide",n("Page hidden"),!0),e.addEventListener("pageshow",n("Page shown"),!0),e.addEventListener("load",n("Page loaded"),!0),e.document.addEventListener("DOMContentLoaded",n("DOMContentLoaded"),!0),e.addEventListener("load",(function(){return e.addEventListener("popstate",n("Navigated back"),!0)})),e.addEventListener("hashchange",(function(n){var r=n.oldURL?{from:wt(n.oldURL,e),to:wt(n.newURL,e),state:_t(e)}:{to:wt(e.location.href,e)};t.leaveBreadcrumb("Hash changed",r,"navigation")}),!0),e.history.replaceState&&Et(t,e.history,"replaceState",e),e.history.pushState&&Et(t,e.history,"pushState",e)}}}};var wt=function(e,t){var n=t.document.createElement("A");return n.href=e,""+n.pathname+n.search+n.hash},xt=function(e,t,n,r){var i=wt(e.location.href,e);return{title:n,state:t,prevState:_t(e),to:r||i,from:i}},Et=function(e,t,n,r){var i=t[n];t[n]=function(o,a,s){e.leaveBreadcrumb("History "+n,xt(r,o,a,s),"navigation"),"function"==typeof e.resetEventCount&&e.resetEventCount(),e._config.autoTrackSessions&&e.startSession(),i.apply(t,[o,a].concat(void 0!==s?s:[]))}},_t=function(e){try{return e.history.state}catch(e){}},At="request",Ot=function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=window),{load:function(n){if(n._isBreadcrumbTypeEnabled("request")){var r=[n._config.endpoints.notify,n._config.endpoints.sessions].concat(e);s(),u();var o=function(e,t,r){var i={status:e.status,request:t+" "+r};e.status>=400?n.leaveBreadcrumb("fetch() failed",i,At):n.leaveBreadcrumb("fetch() succeeded",i,At)},a=function(e,t){n.leaveBreadcrumb("fetch() error",{request:e+" "+t},At)}}function s(){if("addEventListener"in t.XMLHttpRequest.prototype){var e=t.XMLHttpRequest.prototype.open;t.XMLHttpRequest.prototype.open=function(t,n){var r=this,i=!1,o=function(){return c(t,n)},a=function(){return l(t,n,r.status)};i&&(this.removeEventListener("load",a),this.removeEventListener("error",o)),this.addEventListener("load",a),this.addEventListener("error",o),i=!0,e.apply(this,arguments)}}}function l(e,t,o){if(void 0!==t){if("string"!=typeof t||!i(r,t.replace(/\?.*$/,""))){var a={status:o,request:e+" "+t};o>=400?n.leaveBreadcrumb("XMLHttpRequest failed",a,At):n.leaveBreadcrumb("XMLHttpRequest succeeded",a,At)}}else n._logger.warn("The request URL is no longer present on this XMLHttpRequest. A breadcrumb cannot be left for this request.")}function c(e,t){void 0!==t?"string"==typeof t&&i(r,t.replace(/\?.*$/,""))||n.leaveBreadcrumb("XMLHttpRequest error",{request:e+" "+t},At):n._logger.warn("The request URL is no longer present on this XMLHttpRequest. A breadcrumb cannot be left for this request.")}function u(){if("fetch"in t&&!t.fetch.polyfill){var e=t.fetch;t.fetch=function(){var t,n=arguments,r=arguments[0],i=arguments[1],s=null;return r&&"object"==typeof r?(s=r.url,i&&"method"in i?t=i.method:r&&"method"in r&&(t=r.method)):(s=r,i&&"method"in i&&(t=i.method)),void 0===t&&(t="GET"),new Promise((function(r,i){e.apply(void 0,n).then((function(e){o(e,t,s),r(e)})).catch((function(e){a(t,s),i(e)}))}))}}}}}},St={load:function(e){var t=0;e.addOnError((function(n){if(t>=e._config.maxEvents)return e._logger.warn("Cancelling event send due to maxEvents per session limit of "+e._config.maxEvents+" being reached"),!1;t++})),e.resetEventCount=function(){t=0}},configSchema:{maxEvents:{defaultValue:function(){return 10},message:"should be a positive integer 100",validate:function(e){return c(1,100)(e)}}}},Tt={},It=(Tt={load:function(e){e.addOnError((function(e){var t=n(e.errors,(function(e,t){return e.concat(t.stacktrace)}),[]);h(t,(function(e){e.file=It(e.file)}))}))}})._strip=function(e){return"string"==typeof e?e.replace(/\?.*$/,"").replace(/#.*$/,""):e},kt=function(e){return void 0===e&&(e=window),{load:function(t){if(t._config.autoDetectErrors&&t._config.enabledErrorTypes.unhandledExceptions){var n=e.onerror;e.onerror=r}function r(e,r,i,o,a){if(0===i&&/Script error\.?/.test(e))t._logger.warn("Ignoring cross-domain or eval script error. See docs: https://tinyurl.com/yy3rn63z");else{var s,l={severity:"error",unhandled:!0,severityReason:{type:"unhandledException"}};if(a)s=t.Event.create(a,!0,l,"window onerror",1),Ct(s.errors[0].stacktrace,r,i,o);else if("object"!=typeof e||null===e||r&&"string"==typeof r||i||o||a)s=t.Event.create(e,!0,l,"window onerror",1),Ct(s.errors[0].stacktrace,r,i,o);else{var c=e.type?"Event: "+e.type:"Error",u=e.message||e.detail||"";(s=t.Event.create({name:c,message:u},!0,l,"window onerror",1)).originalError=e,s.addMetadata("window onerror",{event:e,extraParameters:r})}t._notify(s)}"function"==typeof n&&n.apply(this,arguments)}}}},Ct=function(e,t,n,r){e[0]||e.push({});var i=e[0];i.file||"string"!=typeof t||(i.file=t),!i.lineNumber&&Mt(n)&&(i.lineNumber=n),i.columnNumber||(Mt(r)?i.columnNumber=r:window.event&&Mt(window.event.errorCharacter)&&(i.columnNumber=window.event.errorCharacter))},Mt=function(e){return"number"==typeof e&&"NaN"!==String.call(e)},Nt=function(e){return void 0===e&&(e=window),{load:function(t){if(t._config.autoDetectErrors&&t._config.enabledErrorTypes.unhandledRejections){var n=function(e){var n=e.reason,r=!1;try{e.detail&&e.detail.reason&&(n=e.detail.reason,r=!0)}catch(e){}var i=t.Event.create(n,!1,{severity:"error",unhandled:!0,severityReason:{type:"unhandledPromiseRejection"}},"unhandledrejection handler",1,t._logger);r&&h(i.errors[0].stacktrace,jt(n)),t._notify(i,(function(e){var t;G(e.originalError)&&!e.originalError.stack&&e.addMetadata("unhandledRejection handler",((t={})[Object.prototype.toString.call(e.originalError)]={name:e.originalError.name,message:e.originalError.message,code:e.originalError.code},t))}))};"addEventListener"in e?e.addEventListener("unhandledrejection",n):e.onunhandledrejection=function(e,t){n({detail:{reason:e,promise:t}})}}}}},jt=function(e){return function(t){t.file!==e.toString()&&t.method&&(t.method=t.method.replace(/^\s+/,""))}},Lt={},Rt="Bugsnag JavaScript",Dt="7.16.7",Pt="https://github.com/bugsnag/bugsnag-js",Bt=m({},f.schema,v),Ft={_client:null,createClient:function(e){"string"==typeof e&&(e={apiKey:e}),e||(e={});var t=[Pe,nt(),Be(),it(),St,ot,st,Tt,kt(),Nt(),bt(),ht(),Ot(),lt,ft()],n=new Ie(e,Bt,t,{name:Rt,version:Dt,url:Pt});return n._setDelivery(window.XDomainRequest?Me:Le),n._logger.debug("Loaded!"),n.leaveBreadcrumb("Bugsnag loaded",{},"state"),n._config.autoTrackSessions?n.startSession():n},start:function(e){return Ft._client?(Ft._client._logger.warn("Bugsnag.start() was called more than once. Ignoring."),Ft._client):(Ft._client=Ft.createClient(e),Ft._client)},isStarted:function(){return null!=Ft._client}};return h(["resetEventCount"].concat(l(Ie.prototype)),(function(e){/^_/.test(e)||(Ft[e]=function(){if(!Ft._client)return console.log("Bugsnag."+e+"() was called before Bugsnag.start()");Ft._client._depth+=1;var t=Ft._client[e].apply(Ft._client,arguments);return Ft._client._depth-=1,t})})),(Lt=Ft).Client=Ie,Lt.Event=ie,Lt.Session=_e,Lt.Breadcrumb=w,Lt.default=Ft,Lt}()},function(e,t,n){var r=n(40).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(419);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(40).default;function i(){"use strict";e.exports=i=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var t,n={},o=Object.prototype,a=o.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},l="function"==typeof Symbol?Symbol:{},c=l.iterator||"@@iterator",u=l.asyncIterator||"@@asyncIterator",d=l.toStringTag||"@@toStringTag";function f(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(t){f=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var i=t&&t.prototype instanceof b?t:b,o=Object.create(i.prototype),a=new N(r||[]);return s(o,"_invoke",{value:I(e,n,a)}),o}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=p;var h="suspendedStart",g="executing",y="completed",v={};function b(){}function w(){}function x(){}var E={};f(E,c,(function(){return this}));var _=Object.getPrototypeOf,A=_&&_(_(j([])));A&&A!==o&&a.call(A,c)&&(E=A);var O=x.prototype=b.prototype=Object.create(E);function S(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(i,o,s,l){var c=m(e[i],e,o);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==r(d)&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,l)}))}l(c.arg)}var i;s(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}})}function I(e,n,r){var i=h;return function(o,a){if(i===g)throw new Error("Generator is already running");if(i===y){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var l=k(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=g;var c=m(e,n,r);if("normal"===c.type){if(i=r.done?y:"suspendedYield",c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=y,r.method="throw",r.arg=c.arg)}}}function k(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,k(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=m(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function j(e){if(e||""===e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(a.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(r(e)+" is not iterable")}return w.prototype=x,s(O,"constructor",{value:x,configurable:!0}),s(x,"constructor",{value:w,configurable:!0}),w.displayName=f(x,d,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,f(e,d,"GeneratorFunction")),e.prototype=Object.create(O),e},n.awrap=function(e){return{__await:e}},S(T.prototype),f(T.prototype,u,(function(){return this})),n.AsyncIterator=T,n.async=function(e,t,r,i,o){void 0===o&&(o=Promise);var a=new T(p(e,t,r,i),o);return n.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(O),f(O,d,"Generator"),f(O,c,(function(){return this})),f(O,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=j,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!e)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;M(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:j(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},n}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=n(549),s=n(550),l=n(551),c=n(552),u=n(553);n(421).polyfill(),n(422);var d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e),this.options=t,this.endpoint=this.options.endpoint||"https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer/",this.cache={},this.options.client_id&&this.options.client_secret&&(this.arcgisauth=new u({client_id:this.options.client_id,client_secret:this.options.client_secret}))}return i(e,[{key:"findAddressCandidates",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.forStorage?this._runAuth("findAddressCandidates",e,t):this._run("findAddressCandidates",e,t)}},{key:"geocode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.forStorage?this._runAuth("findAddressCandidates",e,t):this._run("findAddressCandidates",e,t)}},{key:"reverse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.forStorage?this._runAuth("reverseGeocode",e,t):this._run("reverseGeocode",e,t)}},{key:"suggest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._run("suggest",e,t)}},{key:"geocodeAddresses",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._runAuth("geocodeAddresses",e,t)}},{key:"_getQuery",value:function(e,t,n){var r=void 0;switch(e){case"find":r=this._getQueryGeocode(t,n);break;case"reverseGeocode":r=this._getQueryReverse(t,n);break;case"suggest":r=this._getQuerySuggest(t,n);break;case"findAddressCandidates":r=this._getQueryFindAddressCandidates(t,n);break;case"geocodeAddresses":r=this._getQueryGeocodeAddresses(t,n)}return r.f=n.f||"json",r=Object.assign(n,r)}},{key:"_getQueryGeocode",value:function(e,t){return{text:e,outFields:t.outFields||"*",maxLocations:t.maxLocations||10}}},{key:"_getQueryReverse",value:function(e,t){return this.validateLngLat(e)?{location:e,maxLocations:t.maxLocations||10}:{error:"LatLng wrong!"}}},{key:"_getQuerySuggest",value:function(e,t){return{text:e,outFields:t.outFields||"*",maxSuggestions:t.maxSuggestions||10}}},{key:"_getQueryFindAddressCandidates",value:function(e){return l(e)?{SingleLine:e}:c(e)?e:void 0}},{key:"_getQueryGeocodeAddresses",value:function(e){var t=[];return e.forEach((function(e,n){l(e)?t.push({attributes:{OBJECTID:n,SingleLine:e}}):(e.OBJECTID||(e.OBJECTID=n),t.push({attributes:e}))})),{addresses:{records:t}}}},{key:"_run",value:function(e,t,n){var r=this;return new Promise((function(i,o){var a=r._getQuery(e,t,n);a.error&&o(a.error),r._execute(r.endpoint,e,a).then(i).catch(o)}))}},{key:"_runAuth",value:function(e,t,n){var r=this;if(!this.arcgisauth)throw new Error("Please specify client_id and client_secret!");return new Promise((function(i,o){r.arcgisauth.auth().then((function(a){var s=r._getQuery(e,t,n);s.token=a,s.error&&o(s.error),r._execute(r.endpoint,e,s).then(i).catch(o)})).catch(o)}))}},{key:"_execute",value:function(e,t,n){var i=this;return new Promise((function(o,s){var l=void 0,c=void 0;if("geocodeAddresses"===t){c=""+e+t;var u=new a;Object.keys(n).forEach((function(e){var t=n[e];u.append(e,"object"===(void 0===t?"undefined":r(t))?JSON.stringify(t):t)})),l={body:u,method:"POST"}}else{var d=i.getQueryString(n);c=""+e+t+"?"+d,l={method:"GET",qs:n}}fetch(c,l).then((function(e){return e.status>=400&&s({code:404,msg:"Bad request to "+c}),e.json()})).then((function(e){o(e)})).catch(console.log)}))}},{key:"getQueryString",value:function(e){return Object.keys(e).map((function(t){return Array.isArray(e[t])?e[t].map((function(e){return encodeURIComponent(t)+"[]="+encodeURIComponent(e)})).join("&"):encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}},{key:"parseError",value:function(e){return 400===e.code&&e.details&&e.details.length?{code:e.code,msg:s(e,"details")[0]||"Error"}:e}},{key:"validateLngLat",value:function(e){var t=e.split(",");if(2===t.length){var n=Number(t[1]),r=Number(t[0]);if(r>-180&&r<180&&n>-90&&n<90)return!0}}}]),e}();e.exports=d},function(e,t){e.exports="object"==typeof self?self.FormData:window.FormData},function(e,t,n){(function(t){var n="__lodash_hash_undefined__",r="[object Function]",i="[object GeneratorFunction]",o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/,s=/^\./,l=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,c=/\\(\\)?/g,u=/^\[object .+?Constructor\]$/,d="object"==typeof t&&t&&t.Object===Object&&t,f="object"==typeof self&&self&&self.Object===Object&&self,p=d||f||Function("return this")();var m,h=Array.prototype,g=Function.prototype,y=Object.prototype,v=p["__core-js_shared__"],b=(m=/[^.]+$/.exec(v&&v.keys&&v.keys.IE_PROTO||""))?"Symbol(src)_1."+m:"",w=g.toString,x=y.hasOwnProperty,E=y.toString,_=RegExp("^"+w.call(x).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),A=p.Symbol,O=h.splice,S=P(p,"Map"),T=P(Object,"create"),I=A?A.prototype:void 0,k=I?I.toString:void 0;function C(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function M(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function N(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function j(e,t){for(var n,r,i=e.length;i--;)if((n=e[i][0])===(r=t)||n!=n&&r!=r)return i;return-1}function L(e,t){for(var n,r=0,i=(t=function(e,t){if(z(e))return!1;var n=typeof e;if("number"==n||"symbol"==n||"boolean"==n||null==e||G(e))return!0;return a.test(e)||!o.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:z(n=t)?n:B(n)).length;null!=e&&r<i;)e=e[F(t[r++])];return r&&r==i?e:void 0}function R(e){return!(!V(e)||(t=e,b&&b in t))&&(function(e){var t=V(e)?E.call(e):"";return t==r||t==i}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?_:u).test(function(e){if(null!=e){try{return w.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}function D(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function P(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return R(n)?n:void 0}C.prototype.clear=function(){this.__data__=T?T(null):{}},C.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},C.prototype.get=function(e){var t=this.__data__;if(T){var r=t[e];return r===n?void 0:r}return x.call(t,e)?t[e]:void 0},C.prototype.has=function(e){var t=this.__data__;return T?void 0!==t[e]:x.call(t,e)},C.prototype.set=function(e,t){return this.__data__[e]=T&&void 0===t?n:t,this},M.prototype.clear=function(){this.__data__=[]},M.prototype.delete=function(e){var t=this.__data__,n=j(t,e);return!(n<0)&&(n==t.length-1?t.pop():O.call(t,n,1),!0)},M.prototype.get=function(e){var t=this.__data__,n=j(t,e);return n<0?void 0:t[n][1]},M.prototype.has=function(e){return j(this.__data__,e)>-1},M.prototype.set=function(e,t){var n=this.__data__,r=j(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},N.prototype.clear=function(){this.__data__={hash:new C,map:new(S||M),string:new C}},N.prototype.delete=function(e){return D(this,e).delete(e)},N.prototype.get=function(e){return D(this,e).get(e)},N.prototype.has=function(e){return D(this,e).has(e)},N.prototype.set=function(e,t){return D(this,e).set(e,t),this};var B=U((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(G(e))return k?k.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var n=[];return s.test(e)&&n.push(""),e.replace(l,(function(e,t,r,i){n.push(r?i.replace(c,"$1"):t||e)})),n}));function F(e){if("string"==typeof e||G(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function U(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(U.Cache||N),n}U.Cache=N;var z=Array.isArray;function V(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function G(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==E.call(e)}e.exports=function(e,t,n){var r=null==e?void 0:L(e,t);return void 0===r?n:r}}).call(this,n(93))},function(e,t){var n=Object.prototype.toString,r=Array.isArray;e.exports=function(e){return"string"==typeof e||!r(e)&&function(e){return!!e&&"object"==typeof e}(e)&&"[object String]"==n.call(e)}},function(e,t){e.exports=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n(421).polyfill(),n(422);var o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(i(this,e),this.options=t,this.options.client_secret=t.client_secret||null,this.options.client_id=t.client_id||null,this.authendpoint=t.authendpoint||"https://www.arcgis.com/sharing/oauth2/token",!this.options.client_id||!this.options.client_secret)throw new Error("Please specify client_id and client_secret!");this.cache={}}return r(e,[{key:"putToken",value:function(e,t){this.cache.token=e,this.cache.tokenExp=(new Date).getTime()+(t-30)}},{key:"getToken",value:function(){return this.cache&&(new Date).getTime()<=this.cache.tokenExp?this.cache.token:null}},{key:"auth",value:function(){var e=this;return new Promise((function(t,n){var r=e.getToken();if(null===r){var i={url:e.authendpoint,qs:{client_secret:e.options.client_secret,client_id:e.options.client_id,grant_type:"client_credentials",expiration:1440,f:"json"},method:"POST"},o=a(i.qs),s=i.url+"?"+o;fetch(s,i).then((function(e){return e.status>=400&&n({code:404,msg:"Bad request to "+s}),e.json()})).then((function(n){var r=(new Date).getTime()+n.expires_in,i=n.access_token;e.putToken(i,r),t(i),t(n)})).catch(console.log)}else t(r)}))}}]),e}(),a=function(e){return Object.keys(e).map((function(t){return Array.isArray(e[t])?e[t].map((function(e){return encodeURIComponent(t)+"[]="+encodeURIComponent(e)})).join("&"):encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")};e.exports=o},function(e,t,n){n(341),e.exports=self.fetch.bind(self)},function(e,t,n){"use strict";var r=n(556),i=n(425),o=n(344),a=Object.prototype.hasOwnProperty,s={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},l=Array.isArray,c=Array.prototype.push,u=function(e,t){c.apply(e,l(t)?t:[t])},d=Date.prototype.toISOString,f=o.default,p={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:i.encode,encodeValuesOnly:!1,format:f,formatter:o.formatters[f],indices:!1,serializeDate:function(e){return d.call(e)},skipNulls:!1,strictNullHandling:!1},m={},h=function e(t,n,o,a,s,c,d,f,h,g,y,v,b,w,x,E,_,A){for(var O,S=t,T=A,I=0,k=!1;void 0!==(T=T.get(m))&&!k;){var C=T.get(t);if(I+=1,void 0!==C){if(C===I)throw new RangeError("Cyclic object value");k=!0}void 0===T.get(m)&&(I=0)}if("function"==typeof g?S=g(n,S):S instanceof Date?S=b(S):"comma"===o&&l(S)&&(S=i.maybeMap(S,(function(e){return e instanceof Date?b(e):e}))),null===S){if(c)return h&&!E?h(n,p.encoder,_,"key",w):n;S=""}if("string"==typeof(O=S)||"number"==typeof O||"boolean"==typeof O||"symbol"==typeof O||"bigint"==typeof O||i.isBuffer(S))return h?[x(E?n:h(n,p.encoder,_,"key",w))+"="+x(h(S,p.encoder,_,"value",w))]:[x(n)+"="+x(String(S))];var M,N=[];if(void 0===S)return N;if("comma"===o&&l(S))E&&h&&(S=i.maybeMap(S,h)),M=[{value:S.length>0?S.join(",")||null:void 0}];else if(l(g))M=g;else{var j=Object.keys(S);M=y?j.sort(y):j}var L=f?n.replace(/\./g,"%2E"):n,R=a&&l(S)&&1===S.length?L+"[]":L;if(s&&l(S)&&0===S.length)return R+"[]";for(var D=0;D<M.length;++D){var P=M[D],B="object"==typeof P&&void 0!==P.value?P.value:S[P];if(!d||null!==B){var F=v&&f?P.replace(/\./g,"%2E"):P,U=l(S)?"function"==typeof o?o(R,F):R:R+(v?"."+F:"["+F+"]");A.set(t,I);var z=r();z.set(m,A),u(N,e(B,U,o,a,s,c,d,f,"comma"===o&&E&&l(S)?null:h,g,y,v,b,w,x,E,_,z))}}return N};e.exports=function(e,t){var n,i=e,c=function(e){if(!e)return p;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.encodeDotInKeys&&"boolean"!=typeof e.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||p.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=o.default;if(void 0!==e.format){if(!a.call(o.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r,i=o.formatters[n],c=p.filter;if(("function"==typeof e.filter||l(e.filter))&&(c=e.filter),r=e.arrayFormat in s?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":p.arrayFormat,"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u=void 0===e.allowDots?!0===e.encodeDotInKeys||p.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:p.addQueryPrefix,allowDots:u,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:p.allowEmptyArrays,arrayFormat:r,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:p.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:void 0===e.delimiter?p.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:p.encode,encodeDotInKeys:"boolean"==typeof e.encodeDotInKeys?e.encodeDotInKeys:p.encodeDotInKeys,encoder:"function"==typeof e.encoder?e.encoder:p.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:p.encodeValuesOnly,filter:c,format:n,formatter:i,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:p.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:p.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:p.strictNullHandling}}(t);"function"==typeof c.filter?i=(0,c.filter)("",i):l(c.filter)&&(n=c.filter);var d=[];if("object"!=typeof i||null===i)return"";var f=s[c.arrayFormat],m="comma"===f&&c.commaRoundTrip;n||(n=Object.keys(i)),c.sort&&n.sort(c.sort);for(var g=r(),y=0;y<n.length;++y){var v=n[y];c.skipNulls&&null===i[v]||u(d,h(i[v],v,f,m,c.allowEmptyArrays,c.strictNullHandling,c.skipNulls,c.encodeDotInKeys,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.format,c.formatter,c.encodeValuesOnly,c.charset,g))}var b=d.join(c.delimiter),w=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?w+="utf8=%26%2310003%3B&":w+="utf8=%E2%9C%93&"),b.length>0?w+b:""}},function(e,t,n){"use strict";var r=n(218),i=n(567),o=n(572),a=n(255),s=r("%WeakMap%",!0),l=r("%Map%",!0),c=i("WeakMap.prototype.get",!0),u=i("WeakMap.prototype.set",!0),d=i("WeakMap.prototype.has",!0),f=i("Map.prototype.get",!0),p=i("Map.prototype.set",!0),m=i("Map.prototype.has",!0),h=function(e,t){for(var n,r=e;null!==(n=r.next);r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n,n};e.exports=function(){var e,t,n,r={assert:function(e){if(!r.has(e))throw new a("Side channel does not contain "+o(e))},get:function(r){if(s&&r&&("object"==typeof r||"function"==typeof r)){if(e)return c(e,r)}else if(l){if(t)return f(t,r)}else if(n)return function(e,t){var n=h(e,t);return n&&n.value}(n,r)},has:function(r){if(s&&r&&("object"==typeof r||"function"==typeof r)){if(e)return d(e,r)}else if(l){if(t)return m(t,r)}else if(n)return function(e,t){return!!h(e,t)}(n,r);return!1},set:function(r,i){s&&r&&("object"==typeof r||"function"==typeof r)?(e||(e=new s),u(e,r,i)):l?(t||(t=new l),p(t,r,i)):(n||(n={key:{},next:null}),function(e,t,n){var r=h(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}}(n,r,i))}};return r}},function(e,t,n){"use strict";e.exports=Error},function(e,t,n){"use strict";e.exports=EvalError},function(e,t,n){"use strict";e.exports=RangeError},function(e,t,n){"use strict";e.exports=ReferenceError},function(e,t,n){"use strict";e.exports=URIError},function(e,t,n){"use strict";var r="undefined"!=typeof Symbol&&Symbol,i=n(563);e.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&i())))}},function(e,t,n){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},function(e,t,n){"use strict";var r={foo:{}},i=Object;e.exports=function(){return{__proto__:r}.foo===r.foo&&!({__proto__:null}instanceof i)}},function(e,t,n){"use strict";var r="Function.prototype.bind called on incompatible ",i=Object.prototype.toString,o=Math.max,a="[object Function]",s=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var i=0;i<t.length;i+=1)n[i+e.length]=t[i];return n},l=function(e,t){for(var n=[],r=t||0,i=0;r<e.length;r+=1,i+=1)n[i]=e[r];return n},c=function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n};e.exports=function(e){var t=this;if("function"!=typeof t||i.apply(t)!==a)throw new TypeError(r+t);for(var n,u=l(arguments,1),d=function(){if(this instanceof n){var r=t.apply(this,s(u,arguments));return Object(r)===r?r:this}return t.apply(e,s(u,arguments))},f=o(0,t.length-u.length),p=[],m=0;m<f;m++)p[m]="$"+m;if(n=Function("binder","return function ("+c(p,",")+"){ return binder.apply(this,arguments); }")(d),t.prototype){var h=function(){};h.prototype=t.prototype,n.prototype=new h,h.prototype=null}return n}},function(e,t,n){"use strict";var r=Function.prototype.call,i=Object.prototype.hasOwnProperty,o=n(342);e.exports=o.call(r,i)},function(e,t,n){"use strict";var r=n(218),i=n(568),o=i(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"==typeof n&&o(e,".prototype.")>-1?i(n):n}},function(e,t,n){"use strict";var r=n(342),i=n(218),o=n(569),a=n(255),s=i("%Function.prototype.apply%"),l=i("%Function.prototype.call%"),c=i("%Reflect.apply%",!0)||r.call(l,s),u=n(343),d=i("%Math.max%");e.exports=function(e){if("function"!=typeof e)throw new a("a function is required");var t=c(r,l,arguments);return o(t,1+d(0,e.length-(arguments.length-1)),!0)};var f=function(){return c(r,s,arguments)};u?u(e.exports,"apply",{value:f}):e.exports.apply=f},function(e,t,n){"use strict";var r=n(218),i=n(570),o=n(571)(),a=n(424),s=n(255),l=r("%Math.floor%");e.exports=function(e,t){if("function"!=typeof e)throw new s("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||l(t)!==t)throw new s("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],r=!0,c=!0;if("length"in e&&a){var u=a(e,"length");u&&!u.configurable&&(r=!1),u&&!u.writable&&(c=!1)}return(r||c||!n)&&(o?i(e,"length",t,!0,!0):i(e,"length",t)),e}},function(e,t,n){"use strict";var r=n(343),i=n(423),o=n(255),a=n(424);e.exports=function(e,t,n){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new o("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new o("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new o("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new o("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new o("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new o("`loose`, if provided, must be a boolean");var s=arguments.length>3?arguments[3]:null,l=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,u=arguments.length>6&&arguments[6],d=!!a&&a(e,t);if(r)r(e,t,{configurable:null===c&&d?d.configurable:!c,enumerable:null===s&&d?d.enumerable:!s,value:n,writable:null===l&&d?d.writable:!l});else{if(!u&&(s||l||c))throw new i("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=n}}},function(e,t,n){"use strict";var r=n(343),i=function(){return!!r};i.hasArrayLengthDefineBug=function(){if(!r)return null;try{return 1!==r([],"length",{value:1}).length}catch(e){return!0}},e.exports=i},function(e,t,n){(function(t){var r="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=r&&i&&"function"==typeof i.get?i.get:null,a=r&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=s&&l&&"function"==typeof l.get?l.get:null,u=s&&Set.prototype.forEach,d="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,f="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,p="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,m=Boolean.prototype.valueOf,h=Object.prototype.toString,g=Function.prototype.toString,y=String.prototype.match,v=String.prototype.slice,b=String.prototype.replace,w=String.prototype.toUpperCase,x=String.prototype.toLowerCase,E=RegExp.prototype.test,_=Array.prototype.concat,A=Array.prototype.join,O=Array.prototype.slice,S=Math.floor,T="function"==typeof BigInt?BigInt.prototype.valueOf:null,I=Object.getOwnPropertySymbols,k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,C="function"==typeof Symbol&&"object"==typeof Symbol.iterator,M="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===C||"symbol")?Symbol.toStringTag:null,N=Object.prototype.propertyIsEnumerable,j=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function L(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||E.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var r=e<0?-S(-e):S(e);if(r!==e){var i=String(r),o=v.call(t,i.length+1);return b.call(i,n,"$&_")+"."+b.call(b.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(t,n,"$&_")}var R=n(573),D=R.custom,P=V(D)?D:null;function B(e,t,n){var r="double"===(n.quoteStyle||t)?'"':"'";return r+e+r}function F(e){return b.call(String(e),/"/g,"&quot;")}function U(e){return!("[object Array]"!==W(e)||M&&"object"==typeof e&&M in e)}function z(e){return!("[object RegExp]"!==W(e)||M&&"object"==typeof e&&M in e)}function V(e){if(C)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!k)return!1;try{return k.call(e),!0}catch(e){}return!1}e.exports=function e(n,r,i,s){var l=r||{};if(H(l,"quoteStyle")&&"single"!==l.quoteStyle&&"double"!==l.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(H(l,"maxStringLength")&&("number"==typeof l.maxStringLength?l.maxStringLength<0&&l.maxStringLength!==1/0:null!==l.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var h=!H(l,"customInspect")||l.customInspect;if("boolean"!=typeof h&&"symbol"!==h)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(H(l,"indent")&&null!==l.indent&&"\t"!==l.indent&&!(parseInt(l.indent,10)===l.indent&&l.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(H(l,"numericSeparator")&&"boolean"!=typeof l.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var w=l.numericSeparator;if(void 0===n)return"undefined";if(null===n)return"null";if("boolean"==typeof n)return n?"true":"false";if("string"==typeof n)return Q(n,l);if("number"==typeof n){if(0===n)return 1/0/n>0?"0":"-0";var E=String(n);return w?L(n,E):E}if("bigint"==typeof n){var S=String(n)+"n";return w?L(n,S):S}var I=void 0===l.depth?5:l.depth;if(void 0===i&&(i=0),i>=I&&I>0&&"object"==typeof n)return U(n)?"[Array]":"[Object]";var D=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;n=A.call(Array(e.indent+1)," ")}return{base:n,prev:A.call(Array(t+1),n)}}(l,i);if(void 0===s)s=[];else if(Y(s,n)>=0)return"[Circular]";function G(t,n,r){if(n&&(s=O.call(s)).push(n),r){var o={depth:l.depth};return H(l,"quoteStyle")&&(o.quoteStyle=l.quoteStyle),e(t,o,i+1,s)}return e(t,l,i+1,s)}if("function"==typeof n&&!z(n)){var Z=function(e){if(e.name)return e.name;var t=y.call(g.call(e),/^function\s*([\w$]+)/);if(t)return t[1];return null}(n),ee=$(n,G);return"[Function"+(Z?": "+Z:" (anonymous)")+"]"+(ee.length>0?" { "+A.call(ee,", ")+" }":"")}if(V(n)){var te=C?b.call(String(n),/^(Symbol\(.*\))_[^)]*$/,"$1"):k.call(n);return"object"!=typeof n||C?te:X(te)}if(function(e){if(!e||"object"!=typeof e)return!1;if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement)return!0;return"string"==typeof e.nodeName&&"function"==typeof e.getAttribute}(n)){for(var ne="<"+x.call(String(n.nodeName)),re=n.attributes||[],ie=0;ie<re.length;ie++)ne+=" "+re[ie].name+"="+B(F(re[ie].value),"double",l);return ne+=">",n.childNodes&&n.childNodes.length&&(ne+="..."),ne+="</"+x.call(String(n.nodeName))+">"}if(U(n)){if(0===n.length)return"[]";var oe=$(n,G);return D&&!function(e){for(var t=0;t<e.length;t++)if(Y(e[t],"\n")>=0)return!1;return!0}(oe)?"["+K(oe,D)+"]":"[ "+A.call(oe,", ")+" ]"}if(function(e){return!("[object Error]"!==W(e)||M&&"object"==typeof e&&M in e)}(n)){var ae=$(n,G);return"cause"in Error.prototype||!("cause"in n)||N.call(n,"cause")?0===ae.length?"["+String(n)+"]":"{ ["+String(n)+"] "+A.call(ae,", ")+" }":"{ ["+String(n)+"] "+A.call(_.call("[cause]: "+G(n.cause),ae),", ")+" }"}if("object"==typeof n&&h){if(P&&"function"==typeof n[P]&&R)return R(n,{depth:I-i});if("symbol"!==h&&"function"==typeof n.inspect)return n.inspect()}if(function(e){if(!o||!e||"object"!=typeof e)return!1;try{o.call(e);try{c.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(n)){var se=[];return a&&a.call(n,(function(e,t){se.push(G(t,n,!0)+" => "+G(e,n))})),q("Map",o.call(n),se,D)}if(function(e){if(!c||!e||"object"!=typeof e)return!1;try{c.call(e);try{o.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(n)){var le=[];return u&&u.call(n,(function(e){le.push(G(e,n))})),q("Set",c.call(n),le,D)}if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{f.call(e,f)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(n))return J("WeakMap");if(function(e){if(!f||!e||"object"!=typeof e)return!1;try{f.call(e,f);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(n))return J("WeakSet");if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{return p.call(e),!0}catch(e){}return!1}(n))return J("WeakRef");if(function(e){return!("[object Number]"!==W(e)||M&&"object"==typeof e&&M in e)}(n))return X(G(Number(n)));if(function(e){if(!e||"object"!=typeof e||!T)return!1;try{return T.call(e),!0}catch(e){}return!1}(n))return X(G(T.call(n)));if(function(e){return!("[object Boolean]"!==W(e)||M&&"object"==typeof e&&M in e)}(n))return X(m.call(n));if(function(e){return!("[object String]"!==W(e)||M&&"object"==typeof e&&M in e)}(n))return X(G(String(n)));if("undefined"!=typeof window&&n===window)return"{ [object Window] }";if(n===t)return"{ [object globalThis] }";if(!function(e){return!("[object Date]"!==W(e)||M&&"object"==typeof e&&M in e)}(n)&&!z(n)){var ce=$(n,G),ue=j?j(n)===Object.prototype:n instanceof Object||n.constructor===Object,de=n instanceof Object?"":"null prototype",fe=!ue&&M&&Object(n)===n&&M in n?v.call(W(n),8,-1):de?"Object":"",pe=(ue||"function"!=typeof n.constructor?"":n.constructor.name?n.constructor.name+" ":"")+(fe||de?"["+A.call(_.call([],fe||[],de||[]),": ")+"] ":"");return 0===ce.length?pe+"{}":D?pe+"{"+K(ce,D)+"}":pe+"{ "+A.call(ce,", ")+" }"}return String(n)};var G=Object.prototype.hasOwnProperty||function(e){return e in this};function H(e,t){return G.call(e,t)}function W(e){return h.call(e)}function Y(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function Q(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return Q(v.call(e,0,t.maxStringLength),t)+r}return B(b.call(b.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Z),"single",t)}function Z(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+w.call(t.toString(16))}function X(e){return"Object("+e+")"}function J(e){return e+" { ? }"}function q(e,t,n,r){return e+" ("+t+") {"+(r?K(n,r):A.call(n,", "))+"}"}function K(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+A.call(e,","+n)+"\n"+t.prev}function $(e,t){var n=U(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=H(e,i)?t(e[i],e):""}var o,a="function"==typeof I?I(e):[];if(C){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var l in e)H(e,l)&&(n&&String(Number(l))===l&&l<e.length||C&&o["$"+l]instanceof Symbol||(E.call(/[^\w$]/,l)?r.push(t(l,e)+": "+t(e[l],e)):r.push(l+": "+t(e[l],e))));if("function"==typeof I)for(var c=0;c<a.length;c++)N.call(e,a[c])&&r.push("["+t(a[c])+"]: "+t(e[a[c]],e));return r}}).call(this,n(93))},function(e,t){},function(e,t,n){"use strict";var r=n(425),i=Object.prototype.hasOwnProperty,o=Array.isArray,a={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:r.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},s=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},l=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},c=function(e,t,n,r){if(e){var o=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,s=n.depth>0&&/(\[[^[\]]*])/.exec(o),c=s?o.slice(0,s.index):o,u=[];if(c){if(!n.plainObjects&&i.call(Object.prototype,c)&&!n.allowPrototypes)return;u.push(c)}for(var d=0;n.depth>0&&null!==(s=a.exec(o))&&d<n.depth;){if(d+=1,!n.plainObjects&&i.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(s[1])}if(s){if(!0===n.strictDepth)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");u.push("["+o.slice(s.index)+"]")}return function(e,t,n,r){for(var i=r?t:l(t,n),o=e.length-1;o>=0;--o){var a,s=e[o];if("[]"===s&&n.parseArrays)a=n.allowEmptyArrays&&(""===i||n.strictNullHandling&&null===i)?[]:[].concat(i);else{a=n.plainObjects?Object.create(null):{};var c="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,u=n.decodeDotInKeys?c.replace(/%2E/g,"."):c,d=parseInt(u,10);n.parseArrays||""!==u?!isNaN(d)&&s!==u&&String(d)===u&&d>=0&&n.parseArrays&&d<=n.arrayLimit?(a=[])[d]=i:"__proto__"!==u&&(a[u]=i):a={0:i}}i=a}return i}(u,t,n,r)}};e.exports=function(e,t){var n=function(e){if(!e)return a;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.decodeDotInKeys&&"boolean"!=typeof e.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?a.charset:e.charset,n=void 0===e.duplicates?a.duplicates:e.duplicates;if("combine"!==n&&"first"!==n&&"last"!==n)throw new TypeError("The duplicates option must be either combine, first, or last");return{allowDots:void 0===e.allowDots?!0===e.decodeDotInKeys||a.allowDots:!!e.allowDots,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:a.allowEmptyArrays,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:a.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:a.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:a.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:a.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:a.comma,decodeDotInKeys:"boolean"==typeof e.decodeDotInKeys?e.decodeDotInKeys:a.decodeDotInKeys,decoder:"function"==typeof e.decoder?e.decoder:a.decoder,delimiter:"string"==typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:a.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:a.depth,duplicates:n,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:a.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:a.plainObjects,strictDepth:"boolean"==typeof e.strictDepth?!!e.strictDepth:a.strictDepth,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:a.strictNullHandling}}(t);if(""===e||null==e)return n.plainObjects?Object.create(null):{};for(var u="string"==typeof e?function(e,t){var n={__proto__:null},c=t.ignoreQueryPrefix?e.replace(/^\?/,""):e;c=c.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var u,d=t.parameterLimit===1/0?void 0:t.parameterLimit,f=c.split(t.delimiter,d),p=-1,m=t.charset;if(t.charsetSentinel)for(u=0;u<f.length;++u)0===f[u].indexOf("utf8=")&&("utf8=%E2%9C%93"===f[u]?m="utf-8":"utf8=%26%2310003%3B"===f[u]&&(m="iso-8859-1"),p=u,u=f.length);for(u=0;u<f.length;++u)if(u!==p){var h,g,y=f[u],v=y.indexOf("]="),b=-1===v?y.indexOf("="):v+1;-1===b?(h=t.decoder(y,a.decoder,m,"key"),g=t.strictNullHandling?null:""):(h=t.decoder(y.slice(0,b),a.decoder,m,"key"),g=r.maybeMap(l(y.slice(b+1),t),(function(e){return t.decoder(e,a.decoder,m,"value")}))),g&&t.interpretNumericEntities&&"iso-8859-1"===m&&(g=s(g)),y.indexOf("[]=")>-1&&(g=o(g)?[g]:g);var w=i.call(n,h);w&&"combine"===t.duplicates?n[h]=r.combine(n[h],g):w&&"last"!==t.duplicates||(n[h]=g)}return n}(e,n):e,d=n.plainObjects?Object.create(null):{},f=Object.keys(u),p=0;p<f.length;++p){var m=f[p],h=c(m,u[m],n,"string"==typeof e);d=r.merge(d,h,n)}return!0===n.allowSparse?d:r.compact(d)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.search=t.reverse=t.autocomplete=void 0;var a=n(62),s=n(226),l="https://autosuggest.search.hereapi.com/v1/autosuggest";function c(e){this.message=e,this.name="GeocoderException"}function u(e){var t=e.options,n=e.query,r=e.url;return fetch("".concat(r,"?").concat((0,s.stringify)(n)),t).then((function(e){return e.json()}))}t.autocomplete=function(e){var t=e.apiKey,n=e.boundary,r=e.focusPoint,s=e.options,c=e.size,d=void 0===c?20:c,f=e.text;return i(this,void 0,void 0,(function(){var e,i,c,p,m,h,g;return o(this,(function(o){switch(o.label){case 0:return e={apiKey:t,limit:d,q:f,show:"details"},r?(i=(0,a.normalize)(r),c=i.lat,p=i.lon,e.at="".concat(c,",").concat(p),[4,u({options:s,query:e,url:l})]):[3,2];case 1:return m=o.sent(),(null==n?void 0:n.rect)&&m.items&&(m.items=m.items.filter(function(e){var t=e.rect;return function(e){var n=e.position;if(!n)return!0;var r=t.maxLat,i=t.maxLon,o=t.minLat,a=t.minLon,s=n.lat,l=n.lng;return l<=i&&l>=a&&s<=r&&s>=o}}(n))),[2,m];case 2:return n&&(h=n.country,g=n.rect,h&&(e.in="countryCode:".concat(h)),g&&(e.in="bbox:".concat([g.minLon,g.minLat,g.maxLon,g.maxLat].join(",")))),[2,u({options:s,query:e,url:l})]}}))}))},t.search=function(e){var t=e.apiKey,n=e.focusPoint,r=e.options,i=e.size,o=void 0===i?10:i,s=e.text;if(!s)return Promise.resolve({items:[]});var l={apiKey:t,limit:o,q:s};if(n){var c=(0,a.normalize)(n),d=c.lat,f=c.lon;l.at="".concat(d,",").concat(f)}return u({options:r,query:l,url:"https://geocode.search.hereapi.com/v1/geocode"})},t.reverse=function(e){var t=e.apiKey,n=e.options,i=e.point,o={apiKey:t};if(!i)throw new c("No point provided for reverse geocoder.");var s=(0,a.normalize)(i),l=s.lat,d=s.lon;return o.at="".concat(l,",").concat(d),u({options:n,query:o,url:"https://revgeocode.search.hereapi.com/v1/revgeocode"}).then((function(e){return r(r({},e),{point:i})}))}},function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,o){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var l=1e3;o&&"number"==typeof o.maxKeys&&(l=o.maxKeys);var c=e.length;l>0&&c>l&&(c=l);for(var u=0;u<c;++u){var d,f,p,m,h=e[u].replace(s,"%20"),g=h.indexOf(n);g>=0?(d=h.substr(0,g),f=h.substr(g+1)):(d=h,f=""),p=decodeURIComponent(d),m=decodeURIComponent(f),r(a,p)?i(a[p])?a[p].push(m):a[p]=[a[p],m]:a[p]=m}return a};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?o(a(e),(function(a){var s=encodeURIComponent(r(a))+n;return i(e[a])?o(e[a],(function(e){return s+encodeURIComponent(r(e))})).join(t):s+encodeURIComponent(r(e[a]))})).join(t):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.search=t.reverse=t.autocomplete=void 0;var a=n(62),s=n(226);function l(e){this.message=e,this.name="GeocoderException"}function c(e){var t=e.options,n=e.query,r=e.url;return fetch("".concat(r,"?").concat((0,s.stringify)(n)),t).then((function(e){return e.json()}))}t.autocomplete=function(e){var t=e.boundary,n=e.focusPoint,r=e.options,s=e.size,l=void 0===s?20:s,u=e.text,d=e.url,f=void 0===d?"https://photon.komoot.io/api":d;return i(this,void 0,void 0,(function(){var e,i,s,d,p,m;return o(this,(function(o){switch(o.label){case 0:return e={limit:l,q:u},n?(i=(0,a.normalize)(n),s=i.lat,d=i.lon,e.lat=s.toString(),e.lon=d.toString(),[4,c({options:r,query:e,url:f})]):[3,2];case 1:return[2,o.sent()];case 2:return t&&(p=t.country,m=t.rect,p&&(e.in="countryCode:".concat(p)),m&&(e.in="bbox:".concat([m.minLon,m.minLat,m.maxLon,m.maxLat].join(",")))),[2,c({options:r,query:e,url:f})]}}))}))},t.search=function(e){var t=e.focusPoint,n=e.options,r=e.size,i=void 0===r?10:r,o=e.text,s=e.url,l=void 0===s?"https://photon.komoot.io/api":s;if(!o)return Promise.resolve({items:[]});var u={limit:i,q:o};if(t){var d=(0,a.normalize)(t),f=d.lat,p=d.lon;u.lat=f.toString(),u.lon=p.toString()}return c({options:n,query:u,url:l})},t.reverse=function(e){var t=e.options,n=e.point,i=e.url,o=void 0===i?"https://photon.komoot.io/reverse":i,s={};if(!n)throw new l("No point provided for reverse geocoder.");var u=(0,a.normalize)(n),d=u.lat,f=u.lon;return s.lat=d.toString(),s.lon=f.toString(),c({options:t,query:s,url:o}).then((function(e){return r(r({},e),{point:n})}))}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function o(e){var t=e.query,n=e.url;return fetch("".concat(n,"/geocode/stopClusters?query=").concat(t)).then((function(e){return e.text()})).then((function(e){var t={results:[]};try{t=JSON.parse('{"results": '.concat(e,"}"))}catch(e){console.warn("Invalid response from OTP Geocoder!")}return t}))}function a(e){var t=e.url,n=e.text;return r(this,void 0,void 0,(function(){return i(this,(function(e){return[2,o({query:n,url:t})]}))}))}Object.defineProperty(t,"__esModule",{value:!0}),t.search=t.reverse=t.autocomplete=void 0,t.autocomplete=a,t.search=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){return[2,a(e)]}))}))},t.reverse=function(){return console.warn("Not implemented"),null}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.search=t.reverse=t.autocomplete=void 0;var a=o(n(368));function s(e){var t=e.items,n=e.text;return r(this,void 0,void 0,(function(){var e;return i(this,(function(r){return e=new a.default,[2,e.filter(t.map((function(e){return e.label})),n).map((function(e){return t[e]}))]}))}))}t.autocomplete=s,t.search=function(e){return s(e)},t.reverse=function(){return console.warn("Not implemented"),null}},function(e,t,n){"use strict";var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(62),o=r(n(197));class a extends o.default{getLocationFromGeocodedFeature(e){return e.geometry?o.default.prototype.getLocationFromGeocodedFeature(e):this.api.search({magicKey:e.magicKey,text:e.text}).then((e=>{const t=e.features[0],n=(0,i.fromCoordinates)(t.geometry.coordinates);return n.name=t.properties.label,n.rawGeocodedFeature=t,n}))}rewriteAutocompleteResponse(e){return{features:e.features.filter((e=>!e.isCollection)).map((e=>({...e,properties:{label:e.text}})))}}rewriteReverseResponse(e){var t;if(null!==(t=this.geocoderConfig)&&void 0!==t&&t.reverseUseFeatureCollection)return e;const{features:n,query:r}=e,{lat:o,lon:a}=(0,i.normalize)(r),s=n[0];return{lat:o,lon:a,name:s.properties.label,rawGeocodedFeature:s}}}t.default=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(62),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.autocomplete=function(e){return this.parseCoordinateString(e.text)},t.prototype.reverse=function(e){var t,n=e.point,r=n.lat,i=n.lon,o={geometry:{coordinates:[r=this.roundGPSDecimal(r),i=this.roundGPSDecimal(i)],type:"Point"},properties:{name:"".concat(r,", ").concat(i)},type:"Feature"};return(null===(t=this.geocoderConfig)||void 0===t?void 0:t.reverseUseFeatureCollection)?Promise.resolve({type:"FeatureCollection",features:[o],rawGeocodedFeature:o}):Promise.resolve({lat:r,lon:i,name:o.properties.name,rawGeocodedFeature:o})},t.prototype.search=function(e){return this.parseCoordinateString(e.text)},t.prototype.parseCoordinateString=function(e){var t;try{t={geometry:{coordinates:(0,a.toCoordinates)((0,a.fromLatFirstString)(e)),type:"Point"},properties:{label:e}}}catch(e){return Promise.resolve({features:[],type:"FeatureCollection"})}return Promise.resolve({features:[t],type:"FeatureCollection"})},t.prototype.roundGPSDecimal=function(e){var t=1e5;return Math.round(e*t)/t},t}(o(n(197)).default);t.default=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(197)),l="address,venue,street,intersection",c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getAutocompleteQuery=function(e){var t=this.geocoderConfig,n=t.apiKey,r=t.baseUrl,i=t.boundary,a=t.focusPoint,s=t.layers,c=void 0===s?l:s,u=t.options,d=t.sources;return o({apiKey:n,boundary:i,focusPoint:a,layers:c,options:u,sources:d||null,url:r?"".concat(r,"/autocomplete"):void 0},e)},t.prototype.getSearchQuery=function(e){var t=this.geocoderConfig,n=t.apiKey,r=t.baseUrl,i=t.boundary,a=t.layers,s=void 0===a?l:a,c=t.focusPoint,u=t.options,d=t.sources;return o({apiKey:n,boundary:i,layers:s,focusPoint:c,options:u,sources:d||null,url:r?"".concat(r,"/search"):void 0,format:!1},e)},t.prototype.rewriteReverseResponse=function(e){var t;if(null===(t=this.geocoderConfig)||void 0===t?void 0:t.reverseUseFeatureCollection)return e;var n=e.isomorphicMapzenSearchQuery.point,r=n.lat,i=n.lon,o=e[0];return{lat:r,lon:i,name:o.label,rawGeocodedFeature:o}},t}(s.default);t.default=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(197)),l={houseNumber:"address",place:"venue"},c=function(e){var t=e.scoring,n=e.categories,r=e.address,i=e.resultType,a=e.title,s=e.position,c={};return t&&(c.confidence=t.queryScore),n&&(c.addendum={categories:n}),{geometry:{type:"Point",coordinates:[s.lng,s.lat]},properties:o(o({country:r.countryName,country_a:r.countryCode,country_code:r.countryCode,county:r.county,housenumber:r.houseNumber,label:r.label,layer:l[i]?l[i]:i},c),{locality:r.city,name:a,neighbourhood:r.district,postalcode:r.postalCode,region:r.state,source:"here",street:r.street}),type:"Feature"}},u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.rewriteReverseResponse=function(e){var t,n=e.items,r=e.point;if(null===(t=this.geocoderConfig)||void 0===t?void 0:t.reverseUseFeatureCollection)return{features:n.map(c),type:"FeatureCollection"};var i=n[0];return o(o({},r),{name:i.title,rawGeocodedFeature:c(i)})},t.prototype.rewriteAutocompleteResponse=function(e){var t=e.items;return{features:null==t?void 0:t.filter((function(e){return!!e.position})).map(c),type:"FeatureCollection"}},t.prototype.rewriteSearchResponse=function(e){return{features:e.items.map(c),type:"FeatureCollection"}},t}(s.default);t.default=u},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(197)),l=function(e){var t=[];return["name","street","district","state","postcode","city","country"].forEach((function(n){if(void 0!==e[n]){var r="".concat(e[n]);r.length>0&&t.push(r)}})),t.join(", ")},c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getAutocompleteQuery=function(e){var t=this.geocoderConfig,n=t.baseUrl,r=t.boundary,i=t.focusPoint,a=t.options,s=t.size;return o({boundary:r,focusPoint:i,options:a,size:s,url:n?"".concat(n,"/api"):void 0},e)},t.prototype.getSearchQuery=function(e){var t=this.geocoderConfig,n=t.baseUrl,r=t.boundary,i=t.focusPoint,a=t.options,s=t.size;return o({boundary:r,focusPoint:i,options:a,size:s,url:n?"".concat(n,"/api"):void 0},e)},t.prototype.rewriteAutocompleteResponse=function(e){return e.features.forEach((function(e){e.properties.label=l(e.properties)})),e},t.prototype.rewriteReverseResponse=function(e){var t;if(null===(t=this.geocoderConfig)||void 0===t?void 0:t.reverseUseFeatureCollection)return e.features.forEach((function(e){e.properties.label=l(e.properties)})),e;var n=e.point,r=n.lat,i=n.lon,o=e.features[0];return{lat:r,lon:i,name:l(o.properties),rawGeocodedFeature:o}},t.prototype.rewriteSearchResponse=function(e){return this.rewriteAutocompleteResponse(e)},t}(s.default);t.default=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(197)),l=function(e){var t,n,r,i,o=e.agencies,a=null==o?void 0:o.find((function(t){var n;return t.name===(null===(n=e.feedPublisher)||void 0===n?void 0:n.name)})),s=null===(t=e.id.split(":"))||void 0===t?void 0:t[0],l=null==o?void 0:o.find((function(e){return e.id.split(":")[0]===s})),c="";return a?c+=a.name:l?c+=l.name:(null===(r=null===(n=null==e?void 0:e.agencies)||void 0===n?void 0:n[0])||void 0===r?void 0:r.name)?c+=e.agencies[0].name:(null===(i=null==e?void 0:e.feedPublisher)||void 0===i?void 0:i.name)&&(c+=e.feedPublisher.name),(null==e?void 0:e.code)&&(""!==c&&(c+=" "),c+=e.code),""===c?e.name:"".concat(e.name," (").concat(c,")")},c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getAutocompleteQuery=function(e){var t=this.geocoderConfig.baseUrl;return o({url:t},e)},t.prototype.getSearchQuery=function(e){return this.getAutocompleteQuery(e)},t.prototype.rewriteAutocompleteResponse=function(e){var t;return{features:null===(t=null==e?void 0:e.results)||void 0===t?void 0:t.map((function(e){var t=e.primary,n=e.secondaries;return{geometry:{type:"Point",coordinates:[t.coordinate.lon,t.coordinate.lat]},id:t.id,properties:{layer:"stops",source:"otp",modes:t.modes,name:t.name,label:l(t),secondaryLabels:"STATION"!==t.type?n.map((function(e){return l(e)})):[]},type:"Feature"}})),type:"FeatureCollection"}},t}(s.default);t.default=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getAutocompleteQuery=function(e){return o({},e)},t.prototype.getSearchQuery=function(e){return o({},e)},t.prototype.rewriteAutocompleteResponse=function(e){return{features:null==e?void 0:e.map((function(e,t){return{geometry:{type:"Point",coordinates:[e.lon,e.lat]},properties:{id:"custom-".concat(t),label:e.label,layer:"custom",name:e.label,source:"offline"},type:"Feature"}})),type:"FeatureCollection"}},t.prototype.rewriteSearchResponse=function(e){return this.rewriteAutocompleteResponse(e)},t}(a(n(197)).default);t.default=s},function(e,t,n){"use strict";var r=n(36).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,a.default)(1,arguments),!(0,i.default)(e)&&"number"!=typeof e)return!1;var t=(0,o.default)(e);return!isNaN(Number(t))};var i=r(n(589)),o=r(n(146)),a=r(n(117));e.exports=t.default},function(e,t,n){"use strict";var r=n(36).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,o.default)(1,arguments),e instanceof Date||"object"===(0,i.default)(e)&&"[object Date]"===Object.prototype.toString.call(e)};var i=r(n(40)),o=r(n(117));e.exports=t.default},function(e,t,n){"use strict";var r=n(36).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var n=(0,a.default)(t);return(0,i.default)(e,-n)};var i=r(n(591)),o=r(n(117)),a=r(n(176));e.exports=t.default},function(e,t,n){"use strict";var r=n(36).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var n=(0,o.default)(e).getTime(),r=(0,i.default)(t);return new Date(n+r)};var i=r(n(176)),o=r(n(146)),a=r(n(117));e.exports=t.default},function(e,t,n){"use strict";var r=n(36).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(593)),o=r(n(594)),a=r(n(426)),s=r(n(596)),l=r(n(427)),c=r(n(428)),u=r(n(598)),d="midnight",f="noon",p="morning",m="afternoon",h="evening",g="night";function y(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),o=r%60;if(0===o)return n+String(i);var a=t||"";return n+String(i)+a+(0,c.default)(o,2)}function v(e,t){return e%60==0?(e>0?"-":"+")+(0,c.default)(Math.abs(e)/60,2):b(e,t)}function b(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e);return r+(0,c.default)(Math.floor(i/60),2)+n+(0,c.default)(i%60,2)}var w={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return u.default.y(e,t)},Y:function(e,t,n,r){var i=(0,l.default)(e,r),o=i>0?i:1-i;if("YY"===t){var a=o%100;return(0,c.default)(a,2)}return"Yo"===t?n.ordinalNumber(o,{unit:"year"}):(0,c.default)(o,t.length)},R:function(e,t){var n=(0,a.default)(e);return(0,c.default)(n,t.length)},u:function(e,t){var n=e.getUTCFullYear();return(0,c.default)(n,t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return(0,c.default)(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return(0,c.default)(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return u.default.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return(0,c.default)(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var i=(0,s.default)(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):(0,c.default)(i,t.length)},I:function(e,t,n){var r=(0,o.default)(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):(0,c.default)(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):u.default.d(e,t)},D:function(e,t,n){var r=(0,i.default)(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):(0,c.default)(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return(0,c.default)(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return(0,c.default)(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return(0,c.default)(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,i=e.getUTCHours();switch(r=12===i?f:0===i?d:i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,i=e.getUTCHours();switch(r=i>=17?h:i>=12?m:i>=4?p:g,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return u.default.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):u.default.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):(0,c.default)(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):(0,c.default)(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):u.default.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):u.default.s(e,t)},S:function(e,t){return u.default.S(e,t)},X:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return v(i);case"XXXX":case"XX":return b(i);case"XXXXX":case"XXX":default:return b(i,":")}},x:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return v(i);case"xxxx":case"xx":return b(i);case"xxxxx":case"xxx":default:return b(i,":")}},O:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+y(i,":");case"OOOO":default:return"GMT"+b(i,":")}},z:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+y(i,":");case"zzzz":default:return"GMT"+b(i,":")}},t:function(e,t,n,r){var i=r._originalDate||e,o=Math.floor(i.getTime()/1e3);return(0,c.default)(o,t.length)},T:function(e,t,n,r){var i=(r._originalDate||e).getTime();return(0,c.default)(i,t.length)}};t.default=w,e.exports=t.default},function(e,t,n){"use strict";var r=n(36).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,o.default)(1,arguments);var t=(0,i.default)(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),s=n-r;return Math.floor(s/a)+1};var i=r(n(146)),o=r(n(117)),a=864e5;e.exports=t.default},function(e,t,n){"use strict";var r=n(36).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,s.default)(1,arguments);var t=(0,i.default)(e),n=(0,o.default)(t).getTime()-(0,a.default)(t).getTime();return Math.round(n/l)+1};var i=r(n(146)),o=r(n(345)),a=r(n(595)),s=r(n(117)),l=6048e5;e.exports=t.default},function(e,t,n){"use strict";var r=n(36).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,i.default)(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=(0,o.default)(n);return r};var i=r(n(426)),o=r(n(345)),a=r(n(117));e.exports=t.default},function(e,t,n){"use strict";var r=n(36).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,s.default)(1,arguments);var n=(0,i.default)(e),r=(0,o.default)(n,t).getTime()-(0,a.default)(n,t).getTime();return Math.round(r/l)+1};var i=r(n(146)),o=r(n(346)),a=r(n(597)),s=r(n(117)),l=6048e5;e.exports=t.default},function(e,t,n){"use strict";var r=n(36).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n,r,c,u,d,f,p,m;(0,o.default)(1,arguments);var h=(0,l.getDefaultOptions)(),g=(0,s.default)(null!==(n=null!==(r=null!==(c=null!==(u=null==t?void 0:t.firstWeekContainsDate)&&void 0!==u?u:null==t||null===(d=t.locale)||void 0===d||null===(f=d.options)||void 0===f?void 0:f.firstWeekContainsDate)&&void 0!==c?c:h.firstWeekContainsDate)&&void 0!==r?r:null===(p=h.locale)||void 0===p||null===(m=p.options)||void 0===m?void 0:m.firstWeekContainsDate)&&void 0!==n?n:1),y=(0,i.default)(e,t),v=new Date(0);v.setUTCFullYear(y,0,g),v.setUTCHours(0,0,0,0);var b=(0,a.default)(v,t);return b};var i=r(n(427)),o=r(n(117)),a=r(n(346)),s=r(n(176)),l=n(279);e.exports=t.default},function(e,t,n){"use strict";var r=n(36).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(428)),o={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return(0,i.default)("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):(0,i.default)(n+1,2)},d:function(e,t){return(0,i.default)(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return(0,i.default)(e.getUTCHours()%12||12,t.length)},H:function(e,t){return(0,i.default)(e.getUTCHours(),t.length)},m:function(e,t){return(0,i.default)(e.getUTCMinutes(),t.length)},s:function(e,t){return(0,i.default)(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds(),o=Math.floor(r*Math.pow(10,n-3));return(0,i.default)(o,t.length)}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},i=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},o={p:i,P:function(e,t){var n,o=e.match(/(P+)(p+)?/)||[],a=o[1],s=o[2];if(!s)return r(e,t);switch(a){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;case"PPPP":default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",r(a,t)).replace("{{time}}",i(s,t))}};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isProtectedDayOfYearToken=function(e){return-1!==r.indexOf(e)},t.isProtectedWeekYearToken=function(e){return-1!==i.indexOf(e)},t.throwProtectedError=function(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))};var r=["D","DD"],i=["YY","YYYY"]},function(e,t,n){"use strict";var r=n(36).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(602)).default;t.default=i,e.exports=t.default},function(e,t,n){"use strict";var r=n(36).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(603)),o=r(n(604)),a=r(n(606)),s=r(n(607)),l=r(n(609)),c={code:"en-US",formatDistance:i.default,formatLong:o.default,formatRelative:a.default,localize:s.default,match:l.default,options:{weekStartsOn:0,firstWeekContainsDate:1}};t.default=c,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},i=function(e,t,n){var i,o=r[e];return i="string"==typeof o?o:1===t?o.one:o.other.replace("{{count}}",t.toString()),null!=n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};t.default=i,e.exports=t.default},function(e,t,n){"use strict";var r=n(36).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(605)),o={date:(0,i.default)({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:(0,i.default)({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:(0,i.default)({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},i=function(e,t,n,i){return r[e]};t.default=i,e.exports=t.default},function(e,t,n){"use strict";var r=n(36).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(608)),o={ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:(0,i.default)({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:(0,i.default)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:(0,i.default)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:(0,i.default)({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:(0,i.default)({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n){var r;if("formatting"===(null!=n&&n.context?String(n.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=null!=n&&n.width?String(n.width):i;r=e.formattingValues[o]||e.formattingValues[i]}else{var a=e.defaultWidth,s=null!=n&&n.width?String(n.width):e.defaultWidth;r=e.values[s]||e.values[a]}return r[e.argumentCallback?e.argumentCallback(t):t]}},e.exports=t.default},function(e,t,n){"use strict";var r=n(36).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(610)),o={ordinalNumber:(0,r(n(611)).default)({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:(0,i.default)({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:(0,i.default)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:(0,i.default)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,i.default)({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:(0,i.default)({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function i(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.width,a=o&&e.matchPatterns[o]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;var l,c=s[0],u=o&&e.parsePatterns[o]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(u)?i(u,(function(e){return e.test(c)})):r(u,(function(e){return e.test(c)}));l=e.valueCallback?e.valueCallback(d):d,l=n.valueCallback?n.valueCallback(l):l;var f=t.slice(c.length);return{value:l,rest:f}}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var i=r[0],o=t.match(e.parsePattern);if(!o)return null;var a=e.valueCallback?e.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;var s=t.slice(i.length);return{value:a,rest:s}}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},e.exports=t.default},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(347),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(430)(Object.getPrototypeOf,Object);e.exports=r},function(e,t,n){var r=n(618),i=n(619),o=n(620);e.exports=function(e,t,n){return t==t?o(e,t,n):r(e,i,n)}},function(e,t){e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},function(e,t){e.exports=function(e){return e!=e}},function(e,t){e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},function(e,t,n){var r=n(622);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},function(e,t,n){var r=n(623),i=1/0;e.exports=function(e){return e?(e=r(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},function(e,t,n){var r=n(624),i=n(348),o=n(289),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},function(e,t,n){var r=n(625),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},function(e,t){var n=/\s/;e.exports=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}},function(e,t,n){var r=n(627),i=n(628);e.exports=function(e){return null==e?[]:r(e,i(e))}},function(e,t,n){var r=n(432);e.exports=function(e,t){return r(t,(function(t){return e[t]}))}},function(e,t,n){var r=n(629),i=n(436),o=n(349);e.exports=function(e){return o(e)?r(e):i(e)}},function(e,t,n){var r=n(630),i=n(433),o=n(201),a=n(434),s=n(633),l=n(435),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&i(e),d=!n&&!u&&a(e),f=!n&&!u&&!d&&l(e),p=n||u||d||f,m=p?r(e.length,String):[],h=m.length;for(var g in e)!t&&!c.call(e,g)||p&&("length"==g||d&&("offset"==g||"parent"==g)||f&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,h))||m.push(g);return m}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(198),i=n(220);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},function(e,t){e.exports=function(){return!1}},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(198),i=n(431),o=n(220),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(429),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}).call(this,n(219)(e))},function(e,t,n){var r=n(430)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(639),i=n(644),o=n(645),a=n(646),s=n(647),l=n(198),c=n(438),u="[object Map]",d="[object Promise]",f="[object Set]",p="[object WeakMap]",m="[object DataView]",h=c(r),g=c(i),y=c(o),v=c(a),b=c(s),w=l;(r&&w(new r(new ArrayBuffer(1)))!=m||i&&w(new i)!=u||o&&w(o.resolve())!=d||a&&w(new a)!=f||s&&w(new s)!=p)&&(w=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case h:return m;case g:return u;case y:return d;case v:return f;case b:return p}return t}),e.exports=w},function(e,t,n){var r=n(256)(n(175),"DataView");e.exports=r},function(e,t,n){var r=n(122),i=n(641),o=n(348),a=n(438),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,f=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?f:s).test(a(e))}},function(e,t,n){var r,i=n(642),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},function(e,t,n){var r=n(175)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(256)(n(175),"Map");e.exports=r},function(e,t,n){var r=n(256)(n(175),"Promise");e.exports=r},function(e,t,n){var r=n(256)(n(175),"Set");e.exports=r},function(e,t,n){var r=n(256)(n(175),"WeakMap");e.exports=r},function(e,t,n){var r=n(347),i=n(432),o=n(201),a=n(289),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){},function(e,t,n){var r=n(654).getCoord,i=n(655).radiansToDistance;e.exports=function(e,t,n){var o=Math.PI/180,a=r(e),s=r(t),l=o*(s[1]-a[1]),c=o*(s[0]-a[0]),u=o*a[1],d=o*s[1],f=Math.pow(Math.sin(l/2),2)+Math.pow(Math.sin(c/2),2)*Math.cos(u)*Math.cos(d);return i(2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),n)}},function(e,t){function n(e){if(!e)throw new Error("obj is required");var t;if(e.length?t=e:e.coordinates?t=e.coordinates:e.geometry&&e.geometry.coordinates&&(t=e.geometry.coordinates),t)return r(t),t;throw new Error("No valid coordinates")}function r(e){if(e.length>1&&"number"==typeof e[0]&&"number"==typeof e[1])return!0;if(Array.isArray(e[0])&&e[0].length)return r(e[0]);throw new Error("coordinates must only contain numbers")}function i(e){if(!e)throw new Error("geojson is required");if(void 0!==e.geometry)return e.geometry;if(e.coordinates||e.geometries)return e;throw new Error("geojson must be a valid Feature or Geometry Object")}e.exports={geojsonType:function(e,t,n){if(!t||!n)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+e.type)},collectionOf:function(e,t,n){if(!e)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var r=0;r<e.features.length;r++){var i=e.features[r];if(!i||"Feature"!==i.type||!i.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!i.geometry||i.geometry.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+i.geometry.type)}},featureOf:function(e,t,n){if(!e)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+e.geometry.type)},getCoord:function(e){if(!e)throw new Error("obj is required");var t=n(e);if(t.length>1&&"number"==typeof t[0]&&"number"==typeof t[1])return t;throw new Error("Coordinate is not a valid Point")},getCoords:n,containsNumber:r,getGeom:i,getGeomType:function(e){if(!e)throw new Error("geojson is required");var t=i(e);if(t)return t.type}}},function(e,t){function n(e,t,n,r){if(void 0===e)throw new Error("geometry is required");if(t&&t.constructor!==Object)throw new Error("properties must be an Object");if(n&&4!==n.length)throw new Error("bbox must be an Array of 4 numbers");if(r&&-1===["string","number"].indexOf(typeof r))throw new Error("id must be a number or a string");var i={type:"Feature"};return r&&(i.id=r),n&&(i.bbox=n),i.properties=t||{},i.geometry=e,i}function r(e,t,r,i){if(!e)throw new Error("No coordinates passed");if(void 0===e.length)throw new Error("Coordinates must be an array");if(e.length<2)throw new Error("Coordinates must be at least 2 numbers long");if(!m(e[0])||!m(e[1]))throw new Error("Coordinates must contain numbers");return n({type:"Point",coordinates:e},t,r,i)}function i(e,t,r,i){if(!e)throw new Error("No coordinates passed");for(var o=0;o<e.length;o++){var a=e[o];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<a[a.length-1].length;s++){if(0===o&&0===s&&!m(a[0][0])||!m(a[0][1]))throw new Error("Coordinates must contain numbers");if(a[a.length-1][s]!==a[0][s])throw new Error("First and last Position are not equivalent.")}}return n({type:"Polygon",coordinates:e},t,r,i)}function o(e,t,r,i){if(!e)throw new Error("No coordinates passed");if(e.length<2)throw new Error("Coordinates must be an array of two or more positions");if(!m(e[0][1])||!m(e[0][1]))throw new Error("Coordinates must contain numbers");return n({type:"LineString",coordinates:e},t,r,i)}function a(e,t,r,i){if(!e)throw new Error("No coordinates passed");return n({type:"MultiLineString",coordinates:e},t,r,i)}function s(e,t,r,i){if(!e)throw new Error("No coordinates passed");return n({type:"MultiPoint",coordinates:e},t,r,i)}function l(e,t,r,i){if(!e)throw new Error("No coordinates passed");return n({type:"MultiPolygon",coordinates:e},t,r,i)}var c={miles:3960,nauticalmiles:3441.145,degrees:57.2957795,radians:1,inches:250905600,yards:6969600,meters:6373e3,metres:6373e3,centimeters:6373e5,centimetres:6373e5,kilometers:6373,kilometres:6373,feet:20908792.65},u={kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,centimetres:1e4,millimeter:1e6,acres:247105e-9,miles:386e-9,yards:1.195990046,feet:10.763910417,inches:1550.003100006};function d(e,t){if(null==e)throw new Error("radians is required");var n=c[t||"kilometers"];if(!n)throw new Error("units is invalid");return e*n}function f(e,t){if(null==e)throw new Error("distance is required");var n=c[t||"kilometers"];if(!n)throw new Error("units is invalid");return e/n}function p(e){if(null==e)throw new Error("radians is required");return 180*(e%(2*Math.PI))/Math.PI}function m(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}e.exports={feature:n,geometry:function(e,t,n){if(!e)throw new Error("type is required");if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(n&&4!==n.length)throw new Error("bbox must be an Array of 4 numbers");var c;switch(e){case"Point":c=r(t).geometry;break;case"LineString":c=o(t).geometry;break;case"Polygon":c=i(t).geometry;break;case"MultiPoint":c=s(t).geometry;break;case"MultiLineString":c=a(t).geometry;break;case"MultiPolygon":c=l(t).geometry;break;default:throw new Error(e+" is invalid")}return n&&(c.bbox=n),c},featureCollection:function(e,t,n){if(!e)throw new Error("No features passed");if(!Array.isArray(e))throw new Error("features must be an Array");if(t&&4!==t.length)throw new Error("bbox must be an Array of 4 numbers");if(n&&-1===["string","number"].indexOf(typeof n))throw new Error("id must be a number or a string");var r={type:"FeatureCollection"};return n&&(r.id=n),t&&(r.bbox=t),r.features=e,r},geometryCollection:function(e,t,r,i){if(!e)throw new Error("geometries is required");if(!Array.isArray(e))throw new Error("geometries must be an Array");return n({type:"GeometryCollection",geometries:e},t,r,i)},point:r,multiPoint:s,lineString:o,multiLineString:a,polygon:i,multiPolygon:l,radiansToDistance:d,distanceToRadians:f,distanceToDegrees:function(e,t){return p(f(e,t))},radians2degrees:p,degrees2radians:function(e){if(null==e)throw new Error("degrees is required");return e%360*Math.PI/180},bearingToAngle:function(e){if(null==e)throw new Error("bearing is required");var t=e%360;return t<0&&(t+=360),t},convertDistance:function(e,t,n){if(null==e)throw new Error("distance is required");if(!(e>=0))throw new Error("distance must be a positive number");return d(f(e,t),n||"kilometers")},convertArea:function(e,t,n){if(null==e)throw new Error("area is required");if(!(e>=0))throw new Error("area must be a positive number");var r=u[t||"meters"];if(!r)throw new Error("invalid original units");var i=u[n||"kilometers"];if(!i)throw new Error("invalid final units");return e/r*i},round:function(e,t){if(null==e||isNaN(e))throw new Error("num is required");if(t&&!(t>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,t||0);return Math.round(e*n)/n},isNumber:m}},function(e,t,n){"use strict";function r(e,t,n){if(null!==e){var i,o,a,s,l,c,u,d,f,p,m=0,h=0,g=e.type,y="FeatureCollection"===g,v="Feature"===g,b=y?e.features.length:1;for(i=0;i<b;i++)for(u=(p=!!(f=y?e.features[i].geometry:v?e.geometry:e)&&"GeometryCollection"===f.type)?f.geometries.length:1,o=0;o<u;o++){var w=0;if(null!==(c=p?f.geometries[o]:f)){d=c.coordinates;var x=c.type;switch(m=!n||"Polygon"!==x&&"MultiPolygon"!==x?0:1,x){case null:break;case"Point":t(d,h,i,w),h++,w++;break;case"LineString":case"MultiPoint":for(a=0;a<d.length;a++)t(d[a],h,i,w),h++,"MultiPoint"===x&&w++;"LineString"===x&&w++;break;case"Polygon":case"MultiLineString":for(a=0;a<d.length;a++){for(s=0;s<d[a].length-m;s++)t(d[a][s],h,i,w),h++;"MultiLineString"===x&&w++}"Polygon"===x&&w++;break;case"MultiPolygon":for(a=0;a<d.length;a++){for(s=0;s<d[a].length;s++)for(l=0;l<d[a][s].length-m;l++)t(d[a][s][l],h,i,w),h++;w++}break;case"GeometryCollection":for(a=0;a<c.geometries.length;a++)r(c.geometries[a],t,n);break;default:throw new Error("Unknown Geometry Type")}}}}}function i(e,t,n,i){var o=n;return r(e,(function(e,r,i,a){o=0===r&&void 0===n?e:t(o,e,r,i,a)}),i),o}function o(e,t){var n;switch(e.type){case"FeatureCollection":for(n=0;n<e.features.length;n++)t(e.features[n].properties,n);break;case"Feature":t(e.properties,0)}}function a(e,t,n){var r=n;return o(e,(function(e,i){r=0===i&&void 0===n?e:t(r,e,i)})),r}function s(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var n=0;n<e.features.length;n++)t(e.features[n],n)}function l(e,t,n){var r=n;return s(e,(function(e,i){r=0===i&&void 0===n?e:t(r,e,i)})),r}function c(e){var t=[];return r(e,(function(e){t.push(e)})),t}function u(e,t){var n,r,i,o,a,s,l,c,u=0,d="FeatureCollection"===e.type,f="Feature"===e.type,p=d?e.features.length:1;for(n=0;n<p;n++){for(s=d?e.features[n].geometry:f?e.geometry:e,c=d?e.features[n].properties:f?e.properties:{},a=(l=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,i=0;i<a;i++)if(null!==(o=l?s.geometries[i]:s))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":t(o,u,c);break;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)t(o.geometries[r],u,c);break;default:throw new Error("Unknown Geometry Type")}else t(null,u,c);u++}}function d(e,t,n){var r=n;return u(e,(function(e,i,o){r=0===i&&void 0===n?e:t(r,e,i,o)})),r}function f(e,t){u(e,(function(e,n,r){var i,o=null===e?null:e.type;switch(o){case null:case"Point":case"LineString":case"Polygon":return void t(g(e,r),n,0)}switch(o){case"MultiPoint":i="Point";break;case"MultiLineString":i="LineString";break;case"MultiPolygon":i="Polygon"}e.coordinates.forEach((function(e,o){t(g({type:i,coordinates:e},r),n,o)}))}))}function p(e,t,n){var r=n;return f(e,(function(e,i,o){r=0===i&&0===o&&void 0===n?e:t(r,e,i,o)})),r}function m(e,t){f(e,(function(e,n,r){var o=0;if(e.geometry){var a=e.geometry.type;"Point"!==a&&"MultiPoint"!==a&&i(e,(function(i,a){var s=y([i,a],e.properties);return t(s,n,r,o),o++,a}))}}))}function h(e,t,n){var r=n,i=!1;return m(e,(function(e,o,a,s){r=!1===i&&void 0===n?e:t(r,e,o,a,s),i=!0})),r}function g(e,t){if(void 0===e)throw new Error("No geometry passed");return{type:"Feature",properties:t||{},geometry:e}}function y(e,t){if(!e)throw new Error("No coordinates passed");if(e.length<2)throw new Error("Coordinates must be an array of two or more positions");return{type:"Feature",properties:t||{},geometry:{type:"LineString",coordinates:e}}}function v(e,t){if(!e)throw new Error("geojson is required");var n=e.geometry?e.geometry.type:e.type;if(!n)throw new Error("invalid geojson");if("FeatureCollection"===n)throw new Error("FeatureCollection is not supported");if("GeometryCollection"===n)throw new Error("GeometryCollection is not supported");var r=e.geometry?e.geometry.coordinates:e.coordinates;if(!r)throw new Error("geojson must contain coordinates");switch(n){case"LineString":return void t(r,0,0);case"Polygon":case"MultiLineString":for(var i=0,o=0;o<r.length;o++)"MultiLineString"===n&&(i=o),t(r[o],o,i);return;case"MultiPolygon":for(var a=0;a<r.length;a++)for(var s=0;s<r[a].length;s++)t(r[a][s],s,a);return;default:throw new Error(n+" geometry not supported")}}function b(e,t,n){var r=n;return v(e,(function(e,i,o){r=0===i&&void 0===n?e:t(r,e,i,o)})),r}n.r(t),n.d(t,"coordEach",(function(){return r})),n.d(t,"coordReduce",(function(){return i})),n.d(t,"propEach",(function(){return o})),n.d(t,"propReduce",(function(){return a})),n.d(t,"featureEach",(function(){return s})),n.d(t,"featureReduce",(function(){return l})),n.d(t,"coordAll",(function(){return c})),n.d(t,"geomEach",(function(){return u})),n.d(t,"geomReduce",(function(){return d})),n.d(t,"flattenEach",(function(){return f})),n.d(t,"flattenReduce",(function(){return p})),n.d(t,"segmentEach",(function(){return m})),n.d(t,"segmentReduce",(function(){return h})),n.d(t,"feature",(function(){return g})),n.d(t,"lineString",(function(){return y})),n.d(t,"lineEach",(function(){return v})),n.d(t,"lineReduce",(function(){return b}))},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=c(e),a=r[0],s=r[1],l=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),u=0,d=s>0?a-4:a;for(n=0;n<d;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,l[u++]=255&t);1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t);return l},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=16383,s=0,l=n-i;s<l;s+=a)o.push(u(e,s,s+a>l?l:s+a));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?i-1:0,f=n?-1:1,p=e[t+d];for(d+=f,o=p&(1<<-u)-1,p>>=-u,u+=s;u>0;o=256*o+e[t+d],d+=f,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=r;u>0;a=256*a+e[t+d],d+=f,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=c}return(p?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,l,c=8*o-i-1,u=(1<<c)-1,d=u>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,m=r?1:-1,h=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?f/l:f*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*l-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[n+p]=255&s,p+=m,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+p]=255&a,p+=m,a/=256,c-=8);e[n+p-m]|=128*h}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){var r={"./base-map/i18n/en-US.yml":[797,43],"./base-map/i18n/es.yml":[798,44],"./base-map/i18n/fr.yml":[799,45],"./base-map/i18n/ko.yml":[800,46],"./base-map/i18n/ru.yml":[801,47],"./base-map/i18n/tl.yml":[802,48],"./base-map/i18n/vi.yml":[803,49],"./base-map/i18n/zh_Hans.yml":[804,50],"./building-blocks/i18n/en-US.yml":[805,51],"./building-blocks/i18n/fr.yml":[806,52],"./endpoints-overlay/i18n/ar.yml":[807,53],"./endpoints-overlay/i18n/en-US.yml":[380],"./endpoints-overlay/i18n/es.yml":[808,54],"./endpoints-overlay/i18n/fr.yml":[809,55],"./endpoints-overlay/i18n/ko.yml":[810,56],"./endpoints-overlay/i18n/nb_NO.yml":[811,57],"./endpoints-overlay/i18n/pl.yml":[812,58],"./endpoints-overlay/i18n/ru.yml":[813,59],"./endpoints-overlay/i18n/th.yml":[814,60],"./endpoints-overlay/i18n/tl.yml":[815,61],"./endpoints-overlay/i18n/tr.yml":[816,62],"./endpoints-overlay/i18n/vi.yml":[817,63],"./endpoints-overlay/i18n/zh_Hans.yml":[818,64],"./endpoints-overlay/i18n/zh_Hant.yml":[819,65],"./from-to-location-picker/i18n/ar.yml":[820,66],"./from-to-location-picker/i18n/en-US.yml":[378],"./from-to-location-picker/i18n/es.yml":[821,67],"./from-to-location-picker/i18n/fr.yml":[822,68],"./from-to-location-picker/i18n/ko.yml":[823,69],"./from-to-location-picker/i18n/nb_NO.yml":[824,70],"./from-to-location-picker/i18n/pl.yml":[825,71],"./from-to-location-picker/i18n/ru.yml":[826,72],"./from-to-location-picker/i18n/th.yml":[827,73],"./from-to-location-picker/i18n/tl.yml":[828,74],"./from-to-location-picker/i18n/tr.yml":[829,75],"./from-to-location-picker/i18n/vi.yml":[830,76],"./from-to-location-picker/i18n/zh_Hans.yml":[831,77],"./from-to-location-picker/i18n/zh_Hant.yml":[832,78],"./itinerary-body/i18n/ar.yml":[833,79],"./itinerary-body/i18n/en-US.yml":[290],"./itinerary-body/i18n/es.yml":[834,80],"./itinerary-body/i18n/fr.yml":[835,81],"./itinerary-body/i18n/ko.yml":[836,82],"./itinerary-body/i18n/nb_NO.yml":[837,83],"./itinerary-body/i18n/pl.yml":[838,84],"./itinerary-body/i18n/ru.yml":[839,85],"./itinerary-body/i18n/th.yml":[840,86],"./itinerary-body/i18n/tl.yml":[841,87],"./itinerary-body/i18n/tr.yml":[842,88],"./itinerary-body/i18n/vi.yml":[843,89],"./itinerary-body/i18n/zh_Hans.yml":[844,90],"./itinerary-body/i18n/zh_Hant.yml":[845,91],"./location-field/i18n/ar.yml":[846,92],"./location-field/i18n/en-US.yml":[376],"./location-field/i18n/es.yml":[847,93],"./location-field/i18n/fr.yml":[848,94],"./location-field/i18n/ko.yml":[849,95],"./location-field/i18n/nb_NO.yml":[850,96],"./location-field/i18n/pl.yml":[851,97],"./location-field/i18n/ru.yml":[852,98],"./location-field/i18n/th.yml":[853,99],"./location-field/i18n/tl.yml":[854,100],"./location-field/i18n/tr.yml":[855,101],"./location-field/i18n/vi.yml":[856,102],"./location-field/i18n/zh_Hans.yml":[857,103],"./location-field/i18n/zh_Hant.yml":[858,104],"./map-popup/i18n/ar.yml":[859,105],"./map-popup/i18n/en-US.yml":[379],"./map-popup/i18n/es.yml":[860,106],"./map-popup/i18n/fr.yml":[861,107],"./map-popup/i18n/ko.yml":[862,108],"./map-popup/i18n/nb_NO.yml":[863,109],"./map-popup/i18n/pl.yml":[864,110],"./map-popup/i18n/ru.yml":[865,111],"./map-popup/i18n/th.yml":[866,112],"./map-popup/i18n/tl.yml":[867,113],"./map-popup/i18n/tr.yml":[868,114],"./map-popup/i18n/vi.yml":[869,115],"./map-popup/i18n/zh_Hans.yml":[870,116],"./park-and-ride-overlay/node_modules/@opentripplanner/base-map/i18n/en-US.yml":[871,117],"./park-and-ride-overlay/node_modules/@opentripplanner/base-map/i18n/es.yml":[872,118],"./park-and-ride-overlay/node_modules/@opentripplanner/base-map/i18n/fr.yml":[873,119],"./park-and-ride-overlay/node_modules/@opentripplanner/base-map/i18n/ko.yml":[874,120],"./park-and-ride-overlay/node_modules/@opentripplanner/base-map/i18n/ru.yml":[875,121],"./park-and-ride-overlay/node_modules/@opentripplanner/base-map/i18n/tl.yml":[876,122],"./park-and-ride-overlay/node_modules/@opentripplanner/base-map/i18n/vi.yml":[877,123],"./park-and-ride-overlay/node_modules/@opentripplanner/base-map/i18n/zh_Hans.yml":[878,124],"./park-and-ride-overlay/node_modules/@opentripplanner/from-to-location-picker/i18n/ar.yml":[879,125],"./park-and-ride-overlay/node_modules/@opentripplanner/from-to-location-picker/i18n/en-US.yml":[382],"./park-and-ride-overlay/node_modules/@opentripplanner/from-to-location-picker/i18n/es.yml":[880,126],"./park-and-ride-overlay/node_modules/@opentripplanner/from-to-location-picker/i18n/fr.yml":[881,127],"./park-and-ride-overlay/node_modules/@opentripplanner/from-to-location-picker/i18n/ko.yml":[882,128],"./park-and-ride-overlay/node_modules/@opentripplanner/from-to-location-picker/i18n/nb_NO.yml":[883,129],"./park-and-ride-overlay/node_modules/@opentripplanner/from-to-location-picker/i18n/pl.yml":[884,130],"./park-and-ride-overlay/node_modules/@opentripplanner/from-to-location-picker/i18n/ru.yml":[885,131],"./park-and-ride-overlay/node_modules/@opentripplanner/from-to-location-picker/i18n/th.yml":[886,132],"./park-and-ride-overlay/node_modules/@opentripplanner/from-to-location-picker/i18n/tl.yml":[887,133],"./park-and-ride-overlay/node_modules/@opentripplanner/from-to-location-picker/i18n/tr.yml":[888,134],"./park-and-ride-overlay/node_modules/@opentripplanner/from-to-location-picker/i18n/vi.yml":[889,135],"./park-and-ride-overlay/node_modules/@opentripplanner/from-to-location-picker/i18n/zh_Hans.yml":[890,136],"./park-and-ride-overlay/node_modules/@opentripplanner/from-to-location-picker/i18n/zh_Hant.yml":[891,137],"./printable-itinerary/i18n/ar.yml":[892,138],"./printable-itinerary/i18n/en-US.yml":[786,139],"./printable-itinerary/i18n/es.yml":[893,140],"./printable-itinerary/i18n/fr.yml":[894,141],"./printable-itinerary/i18n/ko.yml":[895,142],"./printable-itinerary/i18n/nb_NO.yml":[896,143],"./printable-itinerary/i18n/pl.yml":[897,144],"./printable-itinerary/i18n/ru.yml":[898,145],"./printable-itinerary/i18n/th.yml":[899,146],"./printable-itinerary/i18n/tl.yml":[900,147],"./printable-itinerary/i18n/tr.yml":[901,148],"./printable-itinerary/i18n/vi.yml":[902,149],"./printable-itinerary/i18n/zh_Hans.yml":[903,150],"./printable-itinerary/i18n/zh_Hant.yml":[904,151],"./printable-itinerary/node_modules/@opentripplanner/itinerary-body/i18n/ar.yml":[905,152],"./printable-itinerary/node_modules/@opentripplanner/itinerary-body/i18n/en-US.yml":[785,153],"./printable-itinerary/node_modules/@opentripplanner/itinerary-body/i18n/es.yml":[906,154],"./printable-itinerary/node_modules/@opentripplanner/itinerary-body/i18n/fr.yml":[907,155],"./printable-itinerary/node_modules/@opentripplanner/itinerary-body/i18n/ko.yml":[908,156],"./printable-itinerary/node_modules/@opentripplanner/itinerary-body/i18n/nb_NO.yml":[909,157],"./printable-itinerary/node_modules/@opentripplanner/itinerary-body/i18n/pl.yml":[910,158],"./printable-itinerary/node_modules/@opentripplanner/itinerary-body/i18n/ru.yml":[911,159],"./printable-itinerary/node_modules/@opentripplanner/itinerary-body/i18n/th.yml":[912,160],"./printable-itinerary/node_modules/@opentripplanner/itinerary-body/i18n/tl.yml":[913,161],"./printable-itinerary/node_modules/@opentripplanner/itinerary-body/i18n/tr.yml":[914,162],"./printable-itinerary/node_modules/@opentripplanner/itinerary-body/i18n/vi.yml":[915,163],"./printable-itinerary/node_modules/@opentripplanner/itinerary-body/i18n/zh_Hans.yml":[916,164],"./printable-itinerary/node_modules/@opentripplanner/itinerary-body/i18n/zh_Hant.yml":[917,165],"./route-viewer-overlay/node_modules/@opentripplanner/base-map/i18n/en-US.yml":[918,166],"./route-viewer-overlay/node_modules/@opentripplanner/base-map/i18n/es.yml":[919,167],"./route-viewer-overlay/node_modules/@opentripplanner/base-map/i18n/fr.yml":[920,168],"./route-viewer-overlay/node_modules/@opentripplanner/base-map/i18n/ko.yml":[921,169],"./route-viewer-overlay/node_modules/@opentripplanner/base-map/i18n/ru.yml":[922,170],"./route-viewer-overlay/node_modules/@opentripplanner/base-map/i18n/tl.yml":[923,171],"./route-viewer-overlay/node_modules/@opentripplanner/base-map/i18n/vi.yml":[924,172],"./route-viewer-overlay/node_modules/@opentripplanner/base-map/i18n/zh_Hans.yml":[925,173],"./scripts/src/__tests__/__mocks__/i18n1/en-US.yml":[926,174],"./scripts/src/__tests__/__mocks__/i18n1/fr.yml":[927,175],"./scripts/src/__tests__/__mocks__/i18n2/en-US.yml":[928,176],"./stop-viewer-overlay/node_modules/@opentripplanner/base-map/i18n/en-US.yml":[929,177],"./stop-viewer-overlay/node_modules/@opentripplanner/base-map/i18n/es.yml":[930,178],"./stop-viewer-overlay/node_modules/@opentripplanner/base-map/i18n/fr.yml":[931,179],"./stop-viewer-overlay/node_modules/@opentripplanner/base-map/i18n/ko.yml":[932,180],"./stop-viewer-overlay/node_modules/@opentripplanner/base-map/i18n/ru.yml":[933,181],"./stop-viewer-overlay/node_modules/@opentripplanner/base-map/i18n/tl.yml":[934,182],"./stop-viewer-overlay/node_modules/@opentripplanner/base-map/i18n/vi.yml":[935,183],"./stop-viewer-overlay/node_modules/@opentripplanner/base-map/i18n/zh_Hans.yml":[936,184],"./stops-overlay/node_modules/@opentripplanner/base-map/i18n/en-US.yml":[937,185],"./stops-overlay/node_modules/@opentripplanner/base-map/i18n/es.yml":[938,186],"./stops-overlay/node_modules/@opentripplanner/base-map/i18n/fr.yml":[939,187],"./stops-overlay/node_modules/@opentripplanner/base-map/i18n/ko.yml":[940,188],"./stops-overlay/node_modules/@opentripplanner/base-map/i18n/ru.yml":[941,189],"./stops-overlay/node_modules/@opentripplanner/base-map/i18n/tl.yml":[942,190],"./stops-overlay/node_modules/@opentripplanner/base-map/i18n/vi.yml":[943,191],"./stops-overlay/node_modules/@opentripplanner/base-map/i18n/zh_Hans.yml":[944,192],"./stops-overlay/node_modules/@opentripplanner/from-to-location-picker/i18n/ar.yml":[945,193],"./stops-overlay/node_modules/@opentripplanner/from-to-location-picker/i18n/en-US.yml":[383],"./stops-overlay/node_modules/@opentripplanner/from-to-location-picker/i18n/es.yml":[946,194],"./stops-overlay/node_modules/@opentripplanner/from-to-location-picker/i18n/fr.yml":[947,195],"./stops-overlay/node_modules/@opentripplanner/from-to-location-picker/i18n/ko.yml":[948,196],"./stops-overlay/node_modules/@opentripplanner/from-to-location-picker/i18n/nb_NO.yml":[949,197],"./stops-overlay/node_modules/@opentripplanner/from-to-location-picker/i18n/pl.yml":[950,198],"./stops-overlay/node_modules/@opentripplanner/from-to-location-picker/i18n/ru.yml":[951,199],"./stops-overlay/node_modules/@opentripplanner/from-to-location-picker/i18n/th.yml":[952,200],"./stops-overlay/node_modules/@opentripplanner/from-to-location-picker/i18n/tl.yml":[953,201],"./stops-overlay/node_modules/@opentripplanner/from-to-location-picker/i18n/tr.yml":[954,202],"./stops-overlay/node_modules/@opentripplanner/from-to-location-picker/i18n/vi.yml":[955,203],"./stops-overlay/node_modules/@opentripplanner/from-to-location-picker/i18n/zh_Hans.yml":[956,204],"./stops-overlay/node_modules/@opentripplanner/from-to-location-picker/i18n/zh_Hant.yml":[957,205],"./stops-overlay/node_modules/@opentripplanner/map-popup/i18n/ar.yml":[958,206],"./stops-overlay/node_modules/@opentripplanner/map-popup/i18n/en-US.yml":[384],"./stops-overlay/node_modules/@opentripplanner/map-popup/i18n/es.yml":[959,207],"./stops-overlay/node_modules/@opentripplanner/map-popup/i18n/fr.yml":[960,208],"./stops-overlay/node_modules/@opentripplanner/map-popup/i18n/ko.yml":[961,209],"./stops-overlay/node_modules/@opentripplanner/map-popup/i18n/nb_NO.yml":[962,210],"./stops-overlay/node_modules/@opentripplanner/map-popup/i18n/pl.yml":[963,211],"./stops-overlay/node_modules/@opentripplanner/map-popup/i18n/ru.yml":[964,212],"./stops-overlay/node_modules/@opentripplanner/map-popup/i18n/th.yml":[965,213],"./stops-overlay/node_modules/@opentripplanner/map-popup/i18n/tl.yml":[966,214],"./stops-overlay/node_modules/@opentripplanner/map-popup/i18n/tr.yml":[967,215],"./stops-overlay/node_modules/@opentripplanner/map-popup/i18n/vi.yml":[968,216],"./stops-overlay/node_modules/@opentripplanner/map-popup/i18n/zh_Hans.yml":[969,217],"./transit-vehicle-overlay/i18n/ar.yml":[970,218],"./transit-vehicle-overlay/i18n/en-US.yml":[385],"./transit-vehicle-overlay/i18n/es.yml":[971,219],"./transit-vehicle-overlay/i18n/fr.yml":[972,220],"./transit-vehicle-overlay/i18n/ko.yml":[973,221],"./transit-vehicle-overlay/i18n/nb_NO.yml":[974,222],"./transit-vehicle-overlay/i18n/pl.yml":[975,223],"./transit-vehicle-overlay/i18n/ru.yml":[976,224],"./transit-vehicle-overlay/i18n/th.yml":[977,225],"./transit-vehicle-overlay/i18n/tl.yml":[978,226],"./transit-vehicle-overlay/i18n/tr.yml":[979,227],"./transit-vehicle-overlay/i18n/vi.yml":[980,228],"./transit-vehicle-overlay/i18n/zh_Hans.yml":[981,229],"./transit-vehicle-overlay/i18n/zh_Hant.yml":[982,230],"./trip-details/__mocks__/custom-english-messages.yml":[983,231],"./trip-details/__mocks__/custom-french-messages.yml":[984,232],"./trip-details/i18n/ar.yml":[985,233],"./trip-details/i18n/en-US.yml":[247],"./trip-details/i18n/es.yml":[986,234],"./trip-details/i18n/fr.yml":[987,235],"./trip-details/i18n/ko.yml":[988,236],"./trip-details/i18n/nb_NO.yml":[989,237],"./trip-details/i18n/pl.yml":[990,238],"./trip-details/i18n/ru.yml":[991,239],"./trip-details/i18n/th.yml":[992,240],"./trip-details/i18n/tl.yml":[993,241],"./trip-details/i18n/tr.yml":[994,242],"./trip-details/i18n/vi.yml":[995,243],"./trip-details/i18n/zh_Hans.yml":[996,244],"./trip-details/i18n/zh_Hant.yml":[997,245],"./trip-form/i18n/ar.yml":[998,246],"./trip-form/i18n/en-US.yml":[152],"./trip-form/i18n/es.yml":[999,247],"./trip-form/i18n/fr.yml":[1e3,248],"./trip-form/i18n/ko.yml":[1001,249],"./trip-form/i18n/nb_NO.yml":[1002,250],"./trip-form/i18n/pl.yml":[1003,251],"./trip-form/i18n/ru.yml":[1004,252],"./trip-form/i18n/th.yml":[1005,253],"./trip-form/i18n/tl.yml":[1006,254],"./trip-form/i18n/tr.yml":[1007,255],"./trip-form/i18n/vi.yml":[1008,256],"./trip-form/i18n/zh_Hans.yml":[1009,257],"./trip-form/i18n/zh_Hant.yml":[1010,258],"./trip-form/modeSettings.yml":[350],"./trip-viewer-overlay/node_modules/@opentripplanner/base-map/i18n/en-US.yml":[1011,259],"./trip-viewer-overlay/node_modules/@opentripplanner/base-map/i18n/es.yml":[1012,260],"./trip-viewer-overlay/node_modules/@opentripplanner/base-map/i18n/fr.yml":[1013,261],"./trip-viewer-overlay/node_modules/@opentripplanner/base-map/i18n/ko.yml":[1014,262],"./trip-viewer-overlay/node_modules/@opentripplanner/base-map/i18n/ru.yml":[1015,263],"./trip-viewer-overlay/node_modules/@opentripplanner/base-map/i18n/tl.yml":[1016,264],"./trip-viewer-overlay/node_modules/@opentripplanner/base-map/i18n/vi.yml":[1017,265],"./trip-viewer-overlay/node_modules/@opentripplanner/base-map/i18n/zh_Hans.yml":[1018,266],"./vehicle-rental-overlay/node_modules/@opentripplanner/base-map/i18n/en-US.yml":[1019,267],"./vehicle-rental-overlay/node_modules/@opentripplanner/base-map/i18n/es.yml":[1020,268],"./vehicle-rental-overlay/node_modules/@opentripplanner/base-map/i18n/fr.yml":[1021,269],"./vehicle-rental-overlay/node_modules/@opentripplanner/base-map/i18n/ko.yml":[1022,270],"./vehicle-rental-overlay/node_modules/@opentripplanner/base-map/i18n/ru.yml":[1023,271],"./vehicle-rental-overlay/node_modules/@opentripplanner/base-map/i18n/tl.yml":[1024,272],"./vehicle-rental-overlay/node_modules/@opentripplanner/base-map/i18n/vi.yml":[1025,273],"./vehicle-rental-overlay/node_modules/@opentripplanner/base-map/i18n/zh_Hans.yml":[1026,274],"./vehicle-rental-overlay/node_modules/@opentripplanner/from-to-location-picker/i18n/ar.yml":[1027,275],"./vehicle-rental-overlay/node_modules/@opentripplanner/from-to-location-picker/i18n/en-US.yml":[386],"./vehicle-rental-overlay/node_modules/@opentripplanner/from-to-location-picker/i18n/es.yml":[1028,276],"./vehicle-rental-overlay/node_modules/@opentripplanner/from-to-location-picker/i18n/fr.yml":[1029,277],"./vehicle-rental-overlay/node_modules/@opentripplanner/from-to-location-picker/i18n/ko.yml":[1030,278],"./vehicle-rental-overlay/node_modules/@opentripplanner/from-to-location-picker/i18n/nb_NO.yml":[1031,279],"./vehicle-rental-overlay/node_modules/@opentripplanner/from-to-location-picker/i18n/pl.yml":[1032,280],"./vehicle-rental-overlay/node_modules/@opentripplanner/from-to-location-picker/i18n/ru.yml":[1033,281],"./vehicle-rental-overlay/node_modules/@opentripplanner/from-to-location-picker/i18n/th.yml":[1034,282],"./vehicle-rental-overlay/node_modules/@opentripplanner/from-to-location-picker/i18n/tl.yml":[1035,283],"./vehicle-rental-overlay/node_modules/@opentripplanner/from-to-location-picker/i18n/tr.yml":[1036,284],"./vehicle-rental-overlay/node_modules/@opentripplanner/from-to-location-picker/i18n/vi.yml":[1037,285],"./vehicle-rental-overlay/node_modules/@opentripplanner/from-to-location-picker/i18n/zh_Hans.yml":[1038,286],"./vehicle-rental-overlay/node_modules/@opentripplanner/from-to-location-picker/i18n/zh_Hant.yml":[1039,287],"./vehicle-rental-overlay/node_modules/@opentripplanner/map-popup/i18n/ar.yml":[1040,288],"./vehicle-rental-overlay/node_modules/@opentripplanner/map-popup/i18n/en-US.yml":[387],"./vehicle-rental-overlay/node_modules/@opentripplanner/map-popup/i18n/es.yml":[1041,289],"./vehicle-rental-overlay/node_modules/@opentripplanner/map-popup/i18n/fr.yml":[1042,290],"./vehicle-rental-overlay/node_modules/@opentripplanner/map-popup/i18n/ko.yml":[1043,291],"./vehicle-rental-overlay/node_modules/@opentripplanner/map-popup/i18n/nb_NO.yml":[1044,292],"./vehicle-rental-overlay/node_modules/@opentripplanner/map-popup/i18n/pl.yml":[1045,293],"./vehicle-rental-overlay/node_modules/@opentripplanner/map-popup/i18n/ru.yml":[1046,294],"./vehicle-rental-overlay/node_modules/@opentripplanner/map-popup/i18n/th.yml":[1047,295],"./vehicle-rental-overlay/node_modules/@opentripplanner/map-popup/i18n/tl.yml":[1048,296],"./vehicle-rental-overlay/node_modules/@opentripplanner/map-popup/i18n/tr.yml":[1049,297],"./vehicle-rental-overlay/node_modules/@opentripplanner/map-popup/i18n/vi.yml":[1050,298],"./vehicle-rental-overlay/node_modules/@opentripplanner/map-popup/i18n/zh_Hans.yml":[1051,299]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n.t(i,7)}))}i.keys=function(){return Object.keys(r)},i.id=660,e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMatchingLocations=function(e,t){if((null==e?void 0:e.length)>0&&t&&""!==t){const n=t.toLowerCase();return e.filter((e=>-1!==e.displayName.toLowerCase().indexOf(n)))}return[]},t.GeocoderResultsConstants=t.getGeocoderErrorMessage=t.addInParentheses=t.getCombinedLabel=t.generateLabel=void 0;const r={address:e=>{const{housenumber:t,locality:n,name:r,neighbourhood:i,region_a:o,region:a,street:s}=e;return{main:t?`${t} ${s}`:r,secondary:[n,i,o||a].filter((e=>!!e)).join(", ")}},venue:e=>{const{locality:t,name:n,neighbourhood:r,region_a:i,street:o}=e;return{main:n,secondary:[o,r,t,i].filter((e=>!!e)).join(", ")}},neighbourhood:e=>{const{name:t,county:n,locality:r,region_a:i}=e;return{main:t,secondary:[n,r,i].filter((e=>!!e)).join(", ")}}},i=e=>{const t=r[e.layer];return t?t(e):{main:e.label}};t.generateLabel=i;t.getCombinedLabel=e=>{const{main:t,secondary:n}=i(e);return t&&n?`${t}, ${n}`:(null==e?void 0:e.label)||""};const o=(e,t,n)=>n&&""!==n?e.formatMessage({id:"otpUi.LocationField.parenthesisFormat"},{detail:n,main:t}):t;t.addInParentheses=o;t.getGeocoderErrorMessage=(e,t)=>{const n=e.formatMessage({description:"Geocoder unreachable status",id:"otpUi.LocationField.geocoderUnreachable"});return o(e,n,t)};t.GeocoderResultsConstants={STATIONS:"STATIONS",STOPS:"STOPS",OTHER:"OTHER"}},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},function(e,t,n){n(666),e.exports=n(138).Object.values},function(e,t,n){var r=n(162),i=n(453)(!1);r(r.S,"Object",{values:function(e){return i(e)}})},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(448),i=n(452);e.exports=n(199)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(356),i=n(284),o=n(670)(!1),a=n(457)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),l=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~o(c,n)||c.push(n));return c}},function(e,t,n){var r=n(284),i=n(671),o=n(672);e.exports=function(e){return function(t,n,a){var s,l=r(t),c=i(l.length),u=o(a,c);if(e&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}}},function(e,t,n){var r=n(456),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(456),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(138),i=n(257),o="__core-js_shared__",a=i[o]||(i[o]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(674)?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports=!0},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){n(677),e.exports=n(138).Object.keys},function(e,t,n){var r=n(459),i=n(283);n(678)("keys",(function(){return function(e){return i(r(e))}}))},function(e,t,n){var r=n(162),i=n(138),o=n(258);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o((function(){n(1)})),"Object",a)}},function(e,t,n){n(680),e.exports=n(138).Object.assign},function(e,t,n){var r=n(162);r(r.S+r.F,"Object",{assign:n(681)})},function(e,t,n){"use strict";var r=n(199),i=n(283),o=n(682),a=n(358),s=n(459),l=n(454),c=Object.assign;e.exports=!c||n(258)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=r}))?function(e,t){for(var n=s(e),c=arguments.length,u=1,d=o.f,f=a.f;c>u;)for(var p,m=l(arguments[u++]),h=d?i(m).concat(d(m)):i(m),g=h.length,y=0;g>y;)p=h[y++],r&&!f.call(m,p)||(n[p]=m[p]);return n}:c},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){n(684);var r=n(138).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){var r=n(162);r(r.S,"Object",{create:n(685)})},function(e,t,n){var r=n(281),i=n(686),o=n(458),a=n(457)("IE_PROTO"),s=function(){},l=function(){var e,t=n(450)("iframe"),r=o.length;for(t.style.display="none",n(687).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;r--;)delete l.prototype[o[r]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=l(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(448),i=n(281),o=n(283);e.exports=n(199)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,l=0;s>l;)r.f(e,n=a[l++],t[n]);return e}},function(e,t,n){var r=n(257).document;e.exports=r&&r.documentElement},function(e,t,n){n(689),e.exports=n(138).Object.setPrototypeOf},function(e,t,n){var r=n(162);r(r.S,"Object",{setPrototypeOf:n(690).set})},function(e,t,n){var r=n(282),i=n(281),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(447)(Function.call,n(691).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},function(e,t,n){var r=n(358),i=n(452),o=n(284),a=n(451),s=n(356),l=n(449),c=Object.getOwnPropertyDescriptor;t.f=n(199)?c:function(e,t){if(e=o(e),t=a(t,!0),l)try{return c(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){n(693),e.exports=n(138).Object.entries},function(e,t,n){var r=n(162),i=n(453)(!0);r(r.S,"Object",{entries:function(e){return i(e)}})},function(e,t,n){var r=n(439);e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=n(407),o=n(461);function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p,m,h,g=function(e){function t(){return l(this,t),u(this,d(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.color,n=e.highlightColor,r=e.children,o=(0,i.css)(".react-loading-skeleton{background-color:",t,";background-image:linear-gradient( 90deg,",t,",",n,",",t," );};label:SkeletonTheme;");return(0,i.jsx)("div",{css:o},r)}}])&&c(n.prototype,r),o&&c(n,o),t}(r.Component);t.default=g,p=g,m="defaultProps",h={color:o.defaultBaseColor,highlightColor:o.defaultHighlightColor},m in p?Object.defineProperty(p,m,{value:h,enumerable:!0,configurable:!0,writable:!0}):p[m]=h},function(e,t,n){"use strict";var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(4)),o=r(n(0));var a=({title:e,...t})=>o.default.createElement("svg",(0,i.default)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 819.17 455.95"},t),e?o.default.createElement("title",null,e):null,o.default.createElement("path",{d:"M584.66 299.85a60.42 60.42 0 1 1-58.55-75.71h254.44a43 43 0 0 0 38.62-39.63H526.11a100 100 0 1 0 99 115.35zM483 281.81h202.34A43 43 0 0 0 724 242.18H518.23A43.54 43.54 0 0 0 483 281.81zm-248.49 18a60.41 60.41 0 1 0 58.54-75.71H38.64A43 43 0 0 1 0 184.5h293.07a100 100 0 1 1-99 115.35zm101.64-18H133.8a43 43 0 0 1-38.63-39.61H301a43.57 43.57 0 0 1 35.21 39.63zM409.59 44a184.19 184.19 0 0 1 171.47 117.25H548a153.69 153.69 0 0 0-276.81 0h-33.06A184.15 184.15 0 0 1 409.59 44zm0-44a228.22 228.22 0 0 1 218.05 161.25h-20.36a208.67 208.67 0 0 0-395.36 0h-20.37A228.19 228.19 0 0 1 409.59 0zm143.63 405A228 228 0 0 1 266 405a123.16 123.16 0 0 0 27.11 3c3.5 0 7-.14 10.41-.43a208.75 208.75 0 0 0 212.22 0q5.17.44 10.41.43a123.23 123.23 0 0 0 27.11-3z"}));t.default=a},function(e,t,n){"use strict";var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(4)),o=r(n(0));var a=({title:e,...t})=>o.default.createElement("img",(0,i.default)({alt:e?o.default.createElement("title",null,e):"Bird icon",height:"100%",width:"100%",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABaUAAAYICAYAAACKLqaSAAAACXBIWXMAAC4jAAAuIwF4pT92AAAgAElEQVR4nOzd/1FcV7Y24L1uzf/gCMAR4ImAuRFINwIrA+uLwGQwmghGE4E1EViKQCgCowgEEeyvjjgSoO4Guvv0OfvH81S55l6gyrC23Op+Wf3uyDknAAAAAACYw/+YMgAAAAAAcxFKAwAAAAAwG6E0AAAAAACzEUoDAAAAADAboTQAAAAAALMRSgMAAAAAMBuhNAAAAAAAsxFKAwAAAAAwG6E0AAAAAACzEUoDAAAAADAboTQAAAAAALMRSgMAAAAAMBuhNAAAAAAAsxFKAwAAAAAwG6E0AAAAAACzEUoDAAAAADAboTQAAAAAALMRSgMAAAAAMBuhNAAAAAAAsxFKAwAAAAAwG6E0AAAAAACzEUoDAAAAADAboTQAAAAAALMRSgMAAAAAMBuhNAAAAAAAsxFKAwAAAAAwG6E0AAAAAACzEUoDAAAAADAboTQAAAAAALMRSgMAAAAAMBuhNAAAAAAAs/mbUQMcRkS8Sin923gBAOjIh2f+qNcppcuVjz7+uauc89XKRwGojlAa4HB+MVsAADpzvsWP+2LlI0+IiB+/4NMYYn/zY6D94/9/mXO+TgAsKnLOTgDgACJiePJ7ZrYAAFCkm3uB9fWm/zvnvG5rG4A9CKUBDiQiPMACAEA7Pg8VIuNP837836vxH+E1wBaE0gAHEBH/SCn9abYAANCdb5UiVz/8I7gGGOmUBjiMf5grAAB06VuF30q/9tiJ/a025PqH/3WRI9ANm9IABxAR73a5uAUAAOjepx8C6/e2rIHWCKUBDiAihiePR2YLAABM6NO9oPpbPchlzvnakIGaCKUBJhYRpymlv8wVAACYybdKkMtvQbWwGiiZUBpgYhHxKqX0b3MFAAAWdj+s/tZb/d6hAEtz0SHA9H4xUwAAoABH44WL3y9dHC9b/HRvo/q9rWpgbjalASYWEe/X3bQNAABQsM9jUP3+Xv3HlQMDDkEoDTCxiPDACgAAtODmXkhtoxqYjFAaYEIR8Y+U0p9mCgAANOrz/aA653zpoIFtCaUBJhQRr1NK/zRTAACgIx9+CKptUwOPEkoDTCgi3qWUXpgpAADQsU8/hNS6qYEHhNIAE4qI4cnWiZkCAAB8963y472QGkhCaYDpRMRpSukvIwUAAHiUkBo6J5QGmEhEvEwp/WGeAAAAW/n0Q0itkxoa9zcHDDCZX4wSAABga2fjP7+l24Wfbxcnvss5XxontMemNMBEImJ40nRungAAAJO5GcLpeyG1LWpogFAaYCIR4QEVAADgsD6NIbUtaqiYUBpgAhExVHd8NEsAAIDZfL63Qf3O2KEe/+OsACbxD2MEAACY1UlK6dfhwvnhnasR8S4iXkXEsWOAstmUBphARLwdnwwBAACwvA/3aj6unAeURSgNMIGIuBp/Sw8AAEBZhh7qtwJqKIdQGmBP41vDvpgjAABA8QTUUAChNMCeIuLl0GFmjgAAAFURUMNCXHQIsL9fzBAAAKA6Zymlf6aU/nJJIszLpjTAniLifUrp3BwBAACa8J9xe/qd44TDEEoD7CkirlNKR+YIAADQlJux3uNtzvnS0cJ0hNIAe4iIobrjoxkCAAA07dO9gPraUcN+dEoD7EefNAAAQPu+9U9/iYi344X3wI6E0gD7+Yf5AQAAdOXXlNIfEXEVERcRcer4YTvqOwD2EBGX42/MAQAA6Nd/x2oPlyPCMwilAXYUEcfDW7fMDwAAgNHnlNIb3dPwOPUdALvTJw0AAMB9Jz90T3vdCGsIpQF2p08aAACATYbu6Y8R8T4iXm34GuiSUBpgd37jDQAAwFPOU0r/vncx4vETXw/N0ykNsKOIGPrBjswPAACALdyklIYLES9yzlcGR4+E0gA7iIjTlNJfZgcAAMAe/jtcjJhzfm+I9ER9B8Bu9EkDAACwrxcppT/H3umXpkkvhNIAu9EnDQAAwFSG3uk/xt5plyLSPKE0wG5sSgMAADC1k3uXIgqnaZZOaYAdRIQHTwAAAA7tc0rp7dg7fW3atEIoDbCliBi2pP80NwAAAGZyMwTTwmlaob4DYHuqOwAAAJjTUUrp95TSUOtxERHHpk/NhNIA23PJIQAAAEu4H07rnKZaQmmA7QmlAQAAWNKRCxGpmVAaYAsRcTrehgwAAABLOxFOUyOhNMB2bEkDAABQmm/h9Pvxcn4omlAaYDv+cgcAAKBU5ymlP8dw+tQpUSqhNMB2bEoDAABQuiGc/isi3kbEsdOiNJFzdigAzxQRHjQBAACoyU1K6U3O+cKpUQqb0gDPpJcLAACACh2llH4fL0N86QApgVAa4PlUdwAAAFCr4TLEP8a+aa9vWZRQGuD5/KUNAABA7Ya+6Y8R8UbfNEvRKQ3wTMNbncbfLAMAAEALhr7p1znnt06TOQmlAZ5h/O3xF7MCAACgQR/GcPrS4TIH9R0Az+OSQwAAAFql0oNZCaUBnkefNAAAAK37LaV0GREvnTSHJJQGeB6b0gAAAPRguEvpj4h4Z2uaQ9EpDfAMEeHBEgAAgN4MFyFe5JzfOHmmZFMa4AkRoboDAACAHh2llP4ZEe8j4tSfAKYilAZ4muoOAAAAenY+dk2/9qeAKQilAZ5mUxoAAIDe2ZpmMkJpgKcJpQEAAOCWrWn25qJDgEeMNw1/2fwVAAAA0K0PKaWXOedrfwTYhk1pgMfZkgYAAID1hq3pq4h4ufazsIFQGuBxLjkEAACAzYau6T8i4u34bmN4klAa4HFCaQAAAHjar2PXtHcc8yShNMDj/GUKAAAAz3OSUvoYERfmxWNcdAiwwfjb3Y/rPwsAAAA8wiWIbGRTGmAzW9IAAACwm2+XIKrFZIVQGmAzf3ECAADA7oZLEP9U58GPhNIAm9mUBgAAgP39HhHvI+LYLEk6pQE2iwgPkAAAADCdm+FdyTnnSzPtm01pgDV0XgEAAMDkhjqPjxHx2mj7JpQGWE8oDQAAAIfxz4h4q86jX0JpgPX0SQMAAMDh/JpSGnqmT824PzqlAdaIiOvxbUUAAADA4eiZ7pBNaYAfjL+lFUgDAADA4X3rmX5l1v0QSgOs0icNAAAA8/r30DNt5n0QSgOs0icNAAAA8/s1It67ALF9QmmAVUJpAAAAWMa5CxDb56JDgB9EhAdGAAAAWJYLEBtmUxrgnojQJw0AAADLOxo3pl2A2CChNMBDqjsAAACgDEfjBYiC6cYIpQEesikNAAAAZRmC6TfOpB1CaYCHbEoDAABAeX6LiLfOpQ1CaYDReLPviXkAAABAkX6NiHcRcex46iaUBrhjSxoAAADK9mK8AFEwXTGhNMAdfdIAAABQvjPBdN2E0gB3bEoDAABAHQTTFYucc+8zAPgqIjwgAgAAQF0+p5Re5pwvnVs9bEoD3AbStqQBAACgPifjxrTX9RURSgPc0icNAAAAdToSTNdFKA1wy19cAAAAUC/BdEWE0gC3bEoDAABA3QTTlXDRIdC98abeL73PAQAAABpxMyyfufywXDalAWxJAwAAQEtsTBdOKA2gTxoAAABaI5gumFAawKY0AAAAtOhbMH3sdMsilAawKQ0AAACtEkwXSCgNdG18G89R73MAAACAhp0JpssilAZ6Z0saAAAA2ieYLohQGuidPmkAAADowxBMv3XWyxNKA72zKQ0AAAD9eBERgumFRc656wEA/RrfsvPFHwEAAADozr9yzq8d+zJsSgM9syUNAAAAffotIl45+2UIpYGe6ZMGAACAfv1bML0MoTTQM6E0AAAA9O1NRHgn9cx0SgPdiojrlNKRPwEAAADQtZuh4jPnfNX7IOZiUxroUkScCqQBAACAMR94FxHHhjEPoTTQK9UdAAAAwDdnQzBtGvMQSgO90hcFAAAA3HceEW9M5PCE0kCvbEoDAAAAP/otIl6tfJRJuegQ6FJEePADAAAANvl7zvlyw+fYk01poDsRYUsaAAAAeMx7Fx8ejlAa6JFQGgAAAHjM0RBMP/J59iCUBnrkkkMAAADgKWcR8faJr2EHQmmgR0JpAAAA4Dl+dfHh9Fx0CHQlIk5TSn85dQAAAOCZboYqUBcfTsemNNAbW9IAAADANoZ+6XcuPpyOUBrojUsOAQAAgG2dpJT0S09EKA30xqY0AAAAsIsXEfHa5PanUxroSkR40AMAAAD28Xf90vuxKQ10IyJUdwAAAAD7eqtfej9CaaAnqjsAAACAfZ2llN6Y4u6E0kBPbEoDAAAAU/g1Il6a5G50SgPdiIir8bZcAAAAgH3dDO/KzjlfmeR2bEoDXRi7ngTSAAAAwFSOhn5p09yeUBroheoOAAAAYGrnEfHaVLcjlAZ64ZJDAAAA4BD+GRFyhy0IpYFe2JQGAAAADkWNxxaE0kAvzp00AAAAcCBnEXFhuM8TOecavk+AnY1vofloggAAAMCB/T3nfGnIj7MpDfRAdQcAAAAwBzUezyCUBnrgsgEAAABgDmo8nkF9B9C8iBjeNnPmpAEAAICZ/JxzvjLs9WxKA02LiGOBNAAAADAzNR6PEEoDrVPdAQAAAMztPCJem/p6QmmgdS45BAAAAJZwMb6Dmx8IpYHWCaUBAACAJRyllN6Y/CoXHQJNi4jr8S8BAAAAgCX8b875vcnfsSkNNCsifhFIAwAAAAtz6eEPhNJAy1xyCAAAACztJCIunMIdoTTQMn3SAAAAQAleu/TwjlAaaJlNaQAAAKAELj28x0WHQLMiwgMcAAAAUJLuLz1MNqWBVkWE6g4AAACgNN13SyehNNAwoTQAAABQmvOIeNX7qQilgVbpkwYAAABKdNH7pYdCaaBVNqUBAACAEp2klF73fDIuOgSaExGnKaW/nCwAAABQqJuU0mnO+brHA7IpDbTIljQAAABQsqOeLz0USgMt0icNAAAAlO638d3e3RFKAy0SSgMAAAA16HJbWqc00JyI8MAGAAAA1OLnnPNVT6dlUxpoSkTokwYAAABq8qa30xJKA61R3QEAAADU5EVvS3ZCaaA1NqUBAACA2nTVLS2UBlpjUxoAAACozXlP29JCaaAZEXGaUjpxogAAAECFutmWFkoDLbElDQAAANSqm21poTTQEn3SAAAAQM262JYWSgMtsSkNAAAA1Ox8rCdtmlAaaMm50wQAAAAq1/y2dOScVz4IUJuIGLakPzo4AAAAoAE/55yvWj1Im9JAK/RJAwAAAK1oeltaKA20Qp80AAAA0IpfI+K41dMUSgOtsCkNAAAAtOR1q6epUxqo3vibwy9OEgAAAGjITUrpNOd83dqh2pQGWmBLGgAAAGjNUUrpZYunKpQGWqBPGgAAAGhRkxceCqWBFtiUBgAAAFp0EhHN5R46pYHqRcT1+JYWAAAAgNZ8yDk3FUzblAaqFhG/CKQBAACAhp1HxGlLP55QGqidPmkAAACgda9b+vmE0kDt9EkDAAAArXsVEcet/IxCaaB2NqUBAACA1g3VpS9b+RlddAhUa/wN4RcnCAAAAHTgU865ieU8m9JAzWxJAwAAAL04iwihNMDC9EkDAAAAPWniwkOhNFAzoTQAAADQk5ctXHgolAZqpr4DAAAA6EkTFx4KpYEqRcTp+EAMAAAA0JNXtf+sQmmgVqo7AAAAgB6dj8t61RJKA7VS3QEAAAD0quptaaE0UCub0gAAAECvqg6lI+e88kGA0kWEBy8AAACgZ/+bc35f489vUxqoTkTYkgYAAAB6V+22tFAaqJFQGgAAAOjdy1p/fqE0UCOXHAIAAAC9O4qIKoNpoTRQI6E0AAAAQKXb0i46BKoSEacppb+cGgAAAMBXP+Wcr2sahU1poDa2pAEAAADuVLctLZQGauOSQwAAAIA7QmmAA7MpDQAAAHDnRUQc1zQPoTRQm3MnBgAAAPBAVdvSQmmgGhGhugMAAABgVVWZiVAaqInqDgAAAIBVNqUBDsSmNAAAAMCqo4ioJpgWSgM1sSkNAAAAsF41oXTknFc+CFCa8RbZLw4GAAAAYK3POefTdZ8ojU1poBaqOwAAAAA2O4mIKt5lLpQGaqG6AwAAAOBxVVR4CKWBWtiUBgAAAHhcFaG0TmmgChHhwQoAAADgaT/lnK9LnpNNaaB4tfQhAQAAABSg+G1poTRQA9UdAAAAAM9TfI4ilAZqYFMaAAAA4HlsSgNMQCgNAAAA8DxHpVehCqWBokXEcUrpzCkBAAAAPFvRFR5CaaB0tqQBAAAAtlN0hYdQGiidSw4BAAAAtnNe8ryE0kDphNIAAAAAW4qIYjMVoTRQOvUdAAAAANsTSgNsa7wp9sjgAAAAALYmlAbYgS1pAAAAgN0U2ystlAZKpk8aAAAAYEel9koLpYGS2ZQGAAAA2J1QGmBLZwYGAAAAsDOhNMBzlfr2EgAAAICKFPkudKE0UCqhNAAAAMB+jiKiuGBaKA2USp80AAAAwP6KW/wTSgOlsikNAAAAsD+b0gBPiYjT4e0lT3wZAAAAAE+zKQ3wDLakAQAAAKZxEhHHJc1SKA2USJ80AAAAwHSKylqE0kCJhNIAAAAA0ynqXelCaaBE504FAAAAYDI2pQE2iQh90gAAAADTEkoDPEJ1BwAAAMC0irrsUCgNlMamNAAAAMD0ilkEFEoDpbEpDQAAADC9YhYBhdJAMSLidHg7iRMBAAAAmJxNaYA1bEkDAAAAHMZpKXMVSgMl0ScNAAAAcBhnpcxVKA2UxKY0AAAAwIFERBELgUJpoCTnTgMAAADgYIqo8BBKA0WICFvSAAAAAIcllAa4R580AAAAwGGp7wC4x6Y0AAAAwGEVsSkdOeeVDwLMLSKuUkonBg8AAABwODnnWHq8NqWBxUXEsUAaAAAA4PAiYvEKD6E0UAJ90gAAAADzOF56zkJpoAT6pAEAAADmsXgOI5QGSmBTGgAAAGAeQmkAm9IAAAAAs1m8viNyzisfBJhLRAyB9EcDBwAAAJhHzjmWHLVNaWBptqQBAAAAOiKUBpamTxoAAABgRhGxaB4jlAaWZlMaAAAAYF6L9koLpYHFRMTwAHjmBAAAAABmteiSoFAaWJItaQAAAID52ZQGuqVPGgAAAGB+NqWBbgmlAQAAAOa36KZ05JxXPggwh4i4TikdGTYAAADAvHLOsdTIbUoDi4iIU4E0AAAAQH+E0sBSVHcAAAAALCQiFstmhNLAUhYt1AcAAABgGUJpYCk2pQEAAACWs9jCoFAaWMqZyQMAAAAs5nipf7FQGpjdkp1FAAAAAHwllAa6IpQGAAAAWJb6DqArLjkEAAAA6JRQGliCUBoAAABgWadL/dsj57zyQYCDPehEDA94f618AgAAAIBZ5ZxjiYnblAbmZksaAAAAoGNCaWBuLjkEAAAAKMD4jvbZCaWBudmUBgAAACiDUBrowrljBgAAAOiXUBqYTUSo7gAAAAAox/ES34lQGpiT6g4AAACAciyS1QilgTnZlAYAAADonFAamJNNaQAAAIDOCaWBWUTE0FF0YtoAAAAAxThd4hsRSgNzUd0BAAAAUBahNNA01R0AAAAACKWB2diUBgAAAEAoDczm3KgBAAAAiJxz90MADisihuqOj8YMAAAAUJacc8z9DdmUBuagugMAAACAr4TSwBxccggAAADAV0JpYA5CaQAAAAC+0ikNHFREHKeUvpgyAAAAQHl0SgMtsiUNAAAAwHdCaeDQXHIIAAAAUKiImH2hUCgNHJpQGgAAAKBcx3N/Z0Jp4NDUdwAAAADwnVAaOJjx7R9HJgwAAADAN0Jp4JBsSQMAAADwgFAaOCR90gAAAAA8IJQGDsmmNAAAAAAPCKWBQzozXQAAAADuE0oDBxERqjsAAAAAWCGUBg5FKA0AAADACqE0cCj6pAEAAABYIZQGDsWmNAAAAAArhNLA5CLiNKV0ZLIAAAAA/EgoDRyCLWkAAAAA1hJKA4egTxoAAACAtYTSwCHYlAYAAABgLaE0cAhnpgoAAADAOkJpYFIRYUsaAAAAgI2E0sDU9EkDAAAAsJFQGpiaTWkAAAAANhJKA1OzKQ0AAADARkJpYDIRcZpSOjFRAAAAADYRSgNTsiUNAAAAwKP+9tgnAbakTxrgcf8vpXT56FcAwG5ep5RemB0ANRBKA1OyKQ3wuLc55+tHvwIAthQRvwikAaiJ+g5gSuemCbDRJ4E0AAfy1mABqIlQGpjEuJ0BwGbvN34GAHYUERcppTPzA2BXOefZX6sIpYGp6JMGeJxQGoBJjYshv5sqALURSgNTsSkN8DihNABTU9sBQJWE0sBUbEoDbPZBnzQAU1LbAUDNhNLA3iLiOKV0YpIAG9mSBmAyajsAqJ1QGpiCLWmAxwmlAZiS2g4AqiaUBqagTxrgEUvcZg1Am9R2ADCxz0sMVCgNTMGmNMBmHzZ+BgC2EBGnKaXXZgbAhK6WGKZQGpjCuSkCbGRLGoCpDLUdR6YJQO2E0sBexktWANhMKA3A3iLitWUQAFohlAb2JZQGeIQ+aQD2NdZ2XBgkAK0QSgP70icNsJk+aQCmoLYDgEO5XGKyQmlgXzalATazJQ3AXtR2AHBg10sMWCgN7CwijlNKZyYIsJFQGoCdqe0AoFVCaWAftqQBNrvRJw3AntR2ANAkoTSwD33SAJsJpAHYmdoOAGaiUxqojlAaYDOhNAA7UdsBwIx0SgPVUd8BsJlQGoBdqe0AoGlCaWAn4/aGJ8oA6w190ou8DQ6AuqntAGBmNqWBqqjuANjMljQAW1PbAcDcllqmEUoDu1LdAbCZUBqAXajtAKALQmlgVzalATYTSgOwFbUdAPQkcs4OHNhaRHjwAFhv6JM+XvsZAFhjrO24tCUNwMw+5JwXWTq0KQ1sLSJsSQNsZksagG2p7QCgK0JpYBdCaYDNhNIAPFtEvFLbAUBvhNLALlxyCLCZUBqAZ4mIoe7pjWkBsJDFXrsIpYFd2JQGWO9zzvly7WcAYJXaDgC6JJQGtjJewuKJM8B6tqQBeJaIeJlSemFaACzoeql/tVAa2JbqDoDNhNIAPGms7XhrUgAsbLF3eQqlgW2p7gDYTCgNwHOo7QCga0JpYFs2pQHWG/qkr9Z+BgBGajsAKIhNaaAa544KYC1b0gA8Sm0HACXJOeuUBsoXEao7ADYTSgPwFLUdAJTiZslvRCgNbEN1B8BmQmkANlLbAUBhFqvuSEJpYEs2pQHW0ycNwEZqOwDgIaE0sA2b0gDr2ZIG4DFqOwAozaKvYYTSwLOM2x0npgWwllAagLXUdgDAKqE08FyqOwA2E0oDsEJtBwAF0ykNVEF1B8B6n/RJA7CB2g4ASnW95PcllAaey6Y0wHq2pAFYobYDgMItulgTOeeVDwKsPFhEeLAAWO//cs7v1n4GgC6NtR1XtqQBKFXOOZb81mxKA0+KCNUdAJvZlAbgR2o7ACjZ56W/N6E08ByqOwDWG/qkF+1iA6AsEfEPtR0AFG7xO3GE0sBz2JQGWM+WNADfjbUdb00EgMIJpYEq2JQGWE8oDcB9FymlExMBoHBCaaBs47aHJ9YA6wmlAfhqrO34zTQAqIBQGiie6g6A9fRJA/CV2g4AKiOUBoqnugNgPVvSAHyjtgOAmgilgeIJpQHWE0oDoLYDgOrknBcPpSPnvPJBgO8PEhHDW9OPDARgxU/qOwD6NtZ2XNqSBqAiQw3h4lWtNqWBjSLiF4E0wFofBNIAqO0AoEJFvI4RSgOPcckhwHqqOwA6p7YDgEoV8VpGKA08Rp80wHpCaYCOjbUdb/0ZAKBCNqWB4tmUBlgj5yyUBuib2g4AanVZwvctlAYec/bI5wB69cHJA/RLbQcAlbsq4dsXSgNrjU+2AVhlSxqgU2o7AKhdzlkoDRRNKA2wnlAaoF9qOwCoWTHv+hRKA5vokwZYQ580QJ/UdgDQgCIuOUxCaeARNqUBVumTBuiQ2g4AGlHEJYdJKA2sExGnKaWjNZ8C6J0taYA+qe0AoAVCaaBotqQB1hNKA3QmIn5R2wFAI9R3AEXTJw2w6kafNECX1HYA0ISSXs8IpYF1bEoDrBJIA3QmIobajjPnDkADPpf0IwilgXU88QZYJZQG6MhY2/G7MwegEVcl/RhCaeCBiLAlDbCeUBqgL2o7AGhJUa9nhNLAj/RJA6wa+qSLuakagMNS2wFAg2xKA0WzKQ2wypY0QCfUdgDQKKE0UDSb0gCrhNIA/VDbAUBzcs7qO4AyRcRpSunE8QCsEEoDdEBtBwCN+lTajyWUBu6zJQ2wSp80QAfUdgDQsKKqO5JQGviBPmmAVbakAfqgtgOAVhW3ZCOUBu6zKQ2wSigN0Di1HQA0rrhQOnLOKx8E+hQRHhAAVv1dfQdAu8bajo+OGICG/ZxzLqrCw6Y08NX4ZByAhz4LpAGap7YDgJbdlBZIJ6E0cI8+aYBVqjsAGqa2A4AOFLlkI5QGvrEpDbBKKA3QqPGdgr87XwAaJ5QGimZTGmCVUBqgXWo7AOiBUBooU0Qcp5ROHA/AA59L7F4DYH9qOwDoiFAaKJYtaYBVtqQBGhQRpyml184WgB6UenG7UBpI+qQB1hJKA7RpqO04crYAdOBDqT+iUBpINqUB1hJKAzQmIoYN6XPnCkAniq0jFEoDyRNzgBX6pAEaM9Z2XDhXADpSZHVHEkoDEaG6A2CVLWmA9qjtAKA3QmmgWEJpgFVCaYCGqO0AoEc552Jf1wilAX3SAKuE0gCNUNsBQKeKveQwCaUBm9IAKz7pkwZoitoOAHpUbHVHEkpD3yLiOKV01vscAH5gSxqgEWo7AOiYUBooli1pgFVCaYAGqO0AoHNCaaBY+qQBVgmlAdqgtgOAbuWchdJAsYTSAA8NfdLXKx8FoCpqOwDoXNGXHCahNHRPfQfAQ7akASqntgMAyn9dI5SGTo1P1r2dEeAhoTRA/dR2ANC7oqs7klAauqa6A2CVUBqgYmo7AOArm9JAsVR3ADykTxqgYmo7AOCrzzW8rhFKQ79sSgM8ZEsaoG5qO2TYqEcAACAASURBVACgktc1Qmno15mzB3hAKA1QqYh4qbYDAL4qvk86CaWhTxFhSxpglVAaoEIRcTxuSQMANqWBggmlAR76oE8aoFpqOwBglHO2KQ0UyyWHAA/Zkgao0Fjb8cLZAcBXH2oZg1Aa+mRTGuAhoTRAZdR2AMCKal7XCKWhMxFx6u2NAA/lnIXSAPVR2wEADwmlgWKp7gB4qJq3uAFwS20HAKxVRZ90EkpDl1R3ADxkSxqgImo7AGCtTzVd3i6Uhv7YlAZ4SCgNUBe1HQCwqqrXNZFzXvkg0K6I8B89wD055zAPgDqMtR1/OC4AWPF/Oed3Kx8tlE1p6EhEqO4AeEifNEAl1HYAwKOq2pQWSkNfVHcAPKS6A6AeajsAYL3PNfVJJ6E0dMemNMBDQmmACoy1HS+cFQCsVd3rGqE09MWmNMCdm5yzUBqgcGo7AOBJQmmgTOOT+RPHA/CdQBqgDmo7AOBxQmmgWKo7AB4SSgMUTm0HADxp6JO+qm1MQmnoh+oOgIeE0gAFU9sBAM9S5esaoTT0w6Y0wJ2hT/rSPACK9kZtBwA8SSgNFO3c8QB8Z0saoGARMSxU/OqMAOBJQmmgTBGhugPgIaE0QKHUdgDAs32qsU86CaWhG6o7AB4SSgOU6yKldOJ8AOBJ1b6uEUpDH2xKA9zRJw1QqLG24zfnAwDPIpQGimZTGuCOLWmAAqntAICtCaWBMo1P7r39EeCOUBqgTGo7AOD5hj7p61rnJZSG9qnuAHhIKA1QGLUdALC1ql/XCKWhfao7AO581icNUBa1HQCwk3c1j00oDe0TSgPcsSUNUB61HQCwpZyzTWmgaOo7AO4IpQEKorYDAHby39rHJpSGhkXEEEgfOWOA74TSAIVQ2wEAO6v+dY1QGtpmSxrgztAnfWUeAMVQ2wEAuxFKA0XTJw1wx5Y0QCHUdgDAzpq4vF0oDW2zKQ1wRygNUAC1HQCwlyZe1wiloW1nzhfgO6E0QBnUdgDA7t61MLvIOa98EKjf+JbIPx0lwFfDW9xOjQJgWZ6jAsDefso5X698tDI2paFd+qQB7tiSBliY2g4A2NuHFgLpJJSGpumTBrgjlAZY3mu1HQCwlyaqO5L6DmhXRAy/OTtyxABf/ZxzvjIKgGVExLAw8dH4AWAvzbyusSkNDYqIU4E0wHefBNIAi1PbAQD7+dzS6xqhNLRJnzTAHdUdAAuKiIuU0pkzAIC9NFPdkYTS0Cx90gB3hNIACxlrO343fwDYW1PvOtIpDQ2KiEvbKADf/dTKDdUAtfG8FAAmcZNzPm5plDaloU2e+APc+iSQBliG2g4AmExT1R1JKA3tiQh90gB3VHcALEBtBwBMSigNFE+fNMAdoTTAMprqvQSABQ3VHUJpoHg2pQHuCKUBZqa2AwAm1VwgnYTS0CSb0gC39EkDzExtBwBMrslFG6E0NCQiTlNKJ84U4Ctb0gDzU9sBANOyKQ0Uz5Y0wB2hNMCM1HYAwOT+2+q7P4XS0BZ90gB3hNIAM1HbAQAH0eSWdBJKQ3NsSgPc+qBPGmBWajsAYHpCaaAK544J4Ctb0gAzUdsBAAfRbHVHEkpDO8a3TAJwSygNMAO1HQBwMM1uSSehNDRFnzTAKOcslAaYh9oOAJjejVAaqIVNaYBbH8wB4PAi4rXaDgA4iHet35EjlIZ22JQGuGVLGuDAIuI0pXRhzgBwEE1vSSehNLQhIo5TSieOE+AroTTA4Q21HUfmDACTu8k5C6WBKtiSBhjpkwY4rLG249yYAeAgmg+kk1AamqFPGuCWPmmAA1LbAQAH18UlwkJpaINNaYBbtqQBDkttBwAczude3vkplIY2ePskwC2hNMCBqO0AgIProrpjEDnnlQ8C9YiIobrjoyMD+HohyLExAExvrO24tCUNAAf1c875qocR25SG+umTBrhlSxrgcNR2AMBhfeolkE5CaWiCPmmAW0JpgANQ2wEAs3jT05jVd0DlImJ4G+WZcwRIf885XxoDwHTUdgDAbH7KOV/3Mm6b0lCxiDgWSAN8dSOQBjgItR0AcHj/6SmQTkJpqJ4+aYBbqjsAJqa2AwBm8663UQuloW76pAFuCaUBJjTWdlyYKQAc3Oecs1AaqIpQGuCWUBpgWmo7AGAeb3ucs4sOoWIRce3FAsDXPuljYwCYxljb8U/jBIBZ/Jxzvupt1DaloVLjWyoF0gC2pAEmo7YDAGb13x4D6SSUhqqp7gC4JZQGmI7aDgCYT3dd0t8IpaFevzg7gK+E0gATiIiXKaVzswSAWQw1hF32SSehNFTNpjTA7U3Vl+YAsJ+IOO71oiUAWEjXf+8KpaFeZ84OwJY0wETUdgDAvN70PG+hNFQoImxJA9wSSgPsaazteGGOADCbbi84/EYoDXUSSgPcEkoD7EFtBwAsovu/e4XSUCeXHALc9kl3vV0AMAG1HQAwr+F1zLveZy6UhjrZlAawJQ2wF7UdALCI7rekk1Aa6hMRp7ZZAL4SSgPsSG0HACym6wsOvxFKQ31UdwDcEkoD7E5tBwDM7z8552tzF0pDjVR3AOiTBtiZ2g4AWIwt6ZFQGupjUxrAljTATtR2AMBiPuScL43/llAa6nPuzACE0gA7UtsBAMvwS+F7hNJQkYhQ3QFwSygNsCW1HQCwmKF+UCh9j1Aa6qK6AyClT/qkAbajtgMAFuXv4B8IpaEuNqUBbEkD7EJtBwAs48YFh6uE0lAXm9IAQmmArajtAIBFvcs5XzuChyLnvPJBoDzjWy6/OBqA9JMndQDPMz6HvLIlDQCL+Vn94Cqb0lAP1R0At33SAmmA53sjkAaAxfxXIL2eUBrqoboDQHUHwLNFxLDU8KuJAcBidElvIJSGetiUBhBKAzzLWNvhpn8AWM6HnLPXLxsIpaEe584KQCgN8EwXKaUTwwKAxfjl8CNcdAgViIihuuOjswI6N/RJqzICeMJY2/Hn418FABzQ55zzqQFvZlMa6qC6A8CWNMCT1HYAQBEuHMPjhNJQB5uBAEJpgOdQ2wEAyxq2pP2C+AlCaaiDTWkAoTTAo8bajt8e+xoA4ODeGPHTdEpD4ca3YH5xTkDnhpur/YIOYIPxOeOlLWkAWNRNSuk053ztGB5nUxrKp7oDwJY0wFPUdgDA8t4IpJ9HKA3lsxkIIJQG2EhtBwAU4UZ1x/MJpaF8QmmgezlnoTTAGmNth8uUAGB5tqS3IJSG8qnvAHr3ofcBADxCbQcALM+W9JaE0lCwiBgC6SNnBHTOljTAGmo7AKAYtqS3JJSGstmSBhBKA6xQ2wEAxbAlvQOhNJRNnzTQPX3SAGup7QCAMtiS3oFQGspmUxronT5pgB+o7QCAYtiS3pFQGsp25nyAztmSBliltgMAymBLekdCaSjUuAED0DuhNMA9EaG2AwDKYEt6D0JpKJdQGujdjT5pgDsRMVS7/W4kAFAEW9J7EEpDufRJA70TSAM8pLYDAMpgS3pPQmkol01poHdCaYDRWNvhvhEAKIMt6T1FzrnqHwBaFBGnKaW/HC7Qub/nnC97HwLAWNvxsftBAEAZhi3pU6H0fmxKQ5lsSQO9uxFIA3yntgMAynEhkN6fUBrKpE8a6J3qDgC1HQBQms85Z13SExBKQ5lsSgO9E0oD3RtrO37vfQ4AUJALhzENndJQoIjwHybQO33SQPci4tKWNAAUY9iSPnUc07ApDYWJCFvSQO/0SQPdU9sBAMV55UimI5SG8uiTBnqnugPomtoOACjOh5yz1ykTEkpDeWxKA73zZA/o3dveBwAAhdElPTGhNJTHpjTQO6E00C21HQBQnP/Ykp6eiw6hIBExFOb/5UyAjrk8BOjWWNvx0Z8AACjKzznnK0cyLZvSUBZb0kDvbCAAPVPbAQBl+ZdA+jCE0lAWfdJA74TSQJfUdgBAcW50SR+OUBrKYlMa6J1QGujOWNvxu5MHgKJc5JyvHclh6JSGgkSE/yCBnumTBroUEcMv5M6dPgAUw2uTA7MpDYWICNUdQO9sSQPdiYjXAmkAKM4rR3JYQmkoh+oOoHdCaaArEXGqqxIAivMh5+y1yYEJpaEcQmmgd574Ab15m1I6cuoAUBRb0jMQSkM51HcAPRs62678CQB6obYDAIr0L69L5uGiQyhARBynlL44C6Bj/8k520gAujDWdlzakgaAotyklE5zzteO5fBsSkMZbEkDvVPdAfREbQcAlOe1QHo+Qmkogz5poHdCaaALajsAoEifcs5vHc18hNJQBpvSQM8+6W0DejDWdlw4bAAozmtHMi+hNJTBtgzQM1vSQC/UdgBAeYb7bbwmmZlQGhYWEao7gN55Agg0T20HABTpxpb0MoTSsDyhNNA7oTTQNLUdAFCsC5cbLkMoDcvTJw307JMngUAH1HYAQHmG1yJvnMsyhNKwPJvSQM9sSQNNU9sBAMV65WiWI5SGBUXEcUrpzBkAHRNKA81S2wEAxfpXzvnS8SxHKA3LsiUN9E4oDbRMbQcAlOfGL42XJ5SGZemTBnqmTxpoltoOACjWK69DlieUhmUJpYGe2ZIGmqS2A4D/z969ndV1ZG0Drfk/fS85AugI0BcB7ghEBqIjEB2BcASiIzCOoHEE3URgiMAQQUME9T/LLrt1AMRhH6pqjnFp+UY1JbT2u+d6i26d11rPjGf7hNKwXeo7gMyE0sCsTtR2AEB3bl1u2A+hNGxJRLzxYQVITigNTCciDkopb00WALpzXGu9MpY+CKVhe2xJA5md63EDZhMRr9vlhgBAX5b7bE7MpB9CadgeoTSQmS1pYEan3oQDgC6p7eiMUBq2xyWHQGZCaWAqajsAoFs/1FovjKcvUWvNfgawFRHhLx+QVq01TB+YRavtuLIlDQDduV7eVFcd2B+b0rAFEWFLGsjs3PSByajtAIA+HQqk+ySUhu0QSgOZqe4ApqG2AwC69c9aq88enRJKw3a45BDIzIMhMIVW23FqmgDQnaW249hY+qVTGrYgIm684glkpU8amEVEnNmSBoAu/c2WdN9sSsOGRcSuQBpITJ80MAW1HQDQLbUdAxBKw+ap7gAy83AIDE9tBwB0S23HIITSsHkuOQQyE0oDMzj15hsAdOmw1npjNP0TSsPm2ZQGsrr1Gh0wOrUdANAttR0DcdEhbFhE+EsHZPVzrfXA9IFRtdqOK1vSANCdpbbjjS3pcdiUhg2KCNUdQGa2FoDRqe0AgD4dCKTHIpSGzVLdAWQmlAaGpbYDALr1Q631wnjGor4DNigiznyYAZJa+qRfGz4wIrUdANCty1qrBcAB2ZSGzfKDEsjKljQwsmOBNAB057aUcmgsYxJKw4ZExG4pZcd5A0kJpYEhtTtB3pseAHTnWG3HuITSsDm2pIHMhNLAcFptx6nJAUB3fq61nhjLuITSsDlCaSCrWxsMwKCOvekGAN1R2zEBoTRszvfOGkjKljQwHLUdANCtw1rrjfGMTSgNm7PvrIGkhNLAUNR2AEC3/llrPTOe8QmlYQMiQnUHkJlQGhiN2g4A6M9lrfXIXOYglIbNUN0BZHWtTxoYidoOAOiSHunJCKVhM2xKA1nZkgaGobYDALp1ZNllLkJp2Ayb0kBWQmlgJGo7AKA/P9dafWk8mai1Zj8DWKu2cfNfpwwk9dda65XhA71rtR3/NigA6Mr18vZ5rfXGWOZiUxrWT3UHkNW1QBoYgdoOAOjWgUB6TkJpWD/VHUBWqjuAUajtAID+/EOP9LyE0rB+QmkgK6E00L1W2/HepACgK0uP9ImRzEunNKxZRCyvmbxyzkBC+qSBrrXajgtb0gDQFT3SCdiUhjWKiDcCaSApfdLACNR2AEB/9EgnIJSG9XLJIZCV6g6ga2o7AKBLeqSTEErDeumTBrISSgO9OzUhAOjKT3qk8xBKw3rZlAayEkoD3YoItR0A0JfLUsqRmeThokNYk3Zxzn+dL5DQZa3Vl3JAl9qdH7+YDgB043Z501xtRy42pWF9BDJAVrakgZ6p7QCAvhwJpPMRSsP66JMGshJKA11qtR17pgMA3fhnrdUXxgmp74A1iYizUspb5wsk9F2t9cbggZ6o7QCA7pzXWi30JSWUhjWJiCWQeeV8gWT0SQNdiogLW9IA0I2lR3rXMkte6jtgDSJiVyANJKW6A+iO2g4A6M73AunchNKwHl4/AbISSgNdabUdH0wFALrxdxcbIpSG9fDqOpCVUBrojcuTAKAfP7nYkCKUhrWxKQ1kdOkVPKAnajsAoCvL54VDI6EIpWFtfPgBMrIlDXRDbQcAdOXaAh+fEkrDikWEH7JAVkJpoCdeDQaAPtyWUg68VcmnhNKwevqkgayE0kAX1HYAQFeOXGzIl4TSsHo2pYGMzm0+AD1Q2wEAXfnBxYbcRSgNq2dTGsjIljTQCx98AaAPP9Vaj82CuwilYYUiYreUsuNMgYSE0sDWqe0AgG5cLrUdxsF9otZ6zy8BTxURB6WUfzk4IJtaaxg6sE2ttuMXQwCArVsuNtxV78dDbErDaumTBjI6N3WgAyeGAABbtwTS3wuk+RahNKyWPmkgI9UdwFZFxPJ68L4pAMDWHdVaL4yBb1HfASsUEf5CARn9rdYqmAa2ot3psXz4fWUCALBV/6i1enOJR7EpDSsSEao7gJQE0sCWnQqkAWDrfhJI8xRCaVgd1R1ARvqkga1R2wEAXTivtR4aBU8hlIbVEUoDGdmSBrai1XYcO30A2KrLUsqBEfBUQmlYHfUdQEZCaWBb1HYAwHbdLoF0rfXGHHgqoTSsQES8LqXsOEsgmVt90sA2qO0AgK1bAunva61XRsFzCKVhNWxJAxkJpIGNU9sBAF04rLVeGAXPJZSG1dAnDWQklAa2QW0HAGzX32utZ2bASwilYTVsSgMZCaWBjVLbAQBb90Ot9dQYeKmotTpEeKGI8BcJyGbpk35t6sCmtNqOC1vSALA1P9VaDx0/q2BTGl4oIlR3ABnZkgY2TW0HAGzPzwJpVkkoDS8nlAYyEkoDG6O2AwC26nK52NAIWCWhNLycPmkgI6E0sBGttuPYaQPAViyB9Pe11hvHzyoJpeHlbEoD2Sx90hemDmyI2g4A2I5bgTTrIpSGF4iI5ZKvPWcIJGNLGtgItR0AsDUCadZKKA0vY0sayEgoDayd2g4A2Jo/AmlvR7I2Qml4GX3SQEZCaWATTtR2AMBWCKRZO6E0vIxQGsjm2gMqsG4RcVBKeeugAWDj/u55n00QSsPLqO8AsrElDaxVu7Pj1CkDwMYtgbR/g9kIoTQ8U0S88UopkJBQGli3U89YALBxAmk2SigNz2dLGshIKA2sjdoOANiKHwTSbJpQGp5PKA1ks/RJX5k6sA5qOwBgK36qtR47ejZNKA3P55JDIBtb0sA6qe0AgM1aAulDZ842CKXh+facHZCMUBpYC7UdALBxAmm2SigNzxARtqSBjITSwMqp7QCAjRNIs3VCaXgeoTSQjT5pYF3UdgDA5gik6YJQGp7HJYdANrakgZVT2wEAGyWQphtCaXgem9JANkJpYKXUdgDARv0skKYnQml4oojY9YopkJBQGlg1tR0AsBmXpRSBNF0RSsPTqe4AsrnUJw2sktoOANiYJZD+vtZ648jpiVAank51B5CNLWlgZdR2AMDGCKTpllAans6mNJCNUBpYJbUdALB+Amm6FrVWE4IniAh/aYBsvvMwC6xCq+34l8MEgLUSSNM9m9LwBBGhugPI5tLDLLAKrbbjxGECwFoJpBmCUBqeRnUHkI3qDmBVjkspO04TANbmZ4E0o/iLScGT2JQGshFKAy/W3jZ77yQBYG1+qrUeOl5GoVManiAirmz4AMnokwZepNV2XHiGAoC1EUgzHPUd8EgRsevDFJCMPmlgFdR2AMD6CKQZklAaHk+fNJCN6g7gRdR2AMBaCaQZllAaHk8oDWQjlAaerdV2nDpBAFgLgTRDE0rD47nkEMhGKA28hNoOAFgPgTTDc9EhPFJE+MsCZHJea/VlHPAsrbbj304PAFbuh1rrsWNldH8xQfi2iFDdAWRjSxp4FrUdALA2f6+1+jeWKajvgMexLQhkI5QGnkttBwCsnkCaqQil4XFsSgOp1FqF0sCTtdqO904OAFZKIM101HfA49iUBjI5N23gqdR2AMDK3ZZSDiyMMCOhNHxD+4DlFVQgEw+9wHOo7QCA1VkC6e9rrRfOlBmp74BvU90BZCOUBp5EbQcArJRAmukJpeHbVHcAqXg9EHgKtR0AsFKXy3KcQJrZqe+AbxNKA5nokwaeSm0HAKzGZduQvnGezM6mNHyb+g4gE1vSwKOp7QCAlTkXSJOJUBoeEBFLIP3q/v8DYDpCaeApTpwWALzYT7VWgTSpCKXhYbakgUxu9UkDjxURS23HngMDgBdZAulDR0g2Qml4mD5pIBOBNPAo7W2yD04LAF7k7wJpshJKw8NsSgOZCKWBxzp1UgDwIksg7d9T0vqL0cPdIuK1V1KBZITSwDep7QCAF7ltFxpeOEYyi1qrPwBwh3ab/L+//hWAKS190q+NFnhIq+345YH/BQC433Up5UAgDTal4SH6pIFMbEkDj+E1YwB4nsu2IX3j/ECnNDxEnzSQiVAaeJDaDgB4tp8F0vA59R1wj4hY/rF4dfevAkzn/7xGCNxHbQcAPNtPtdZDxwefE0rDHSJit5Ty69e/AjAlfdLAgyLiwpY0ADzZ32utqq/gDjql4W76pIFMVHcA91LbAQBPdltKOay1njk6uJtQGu6mTxrIRCgN3KnVdny469cAgDvdtv5o1XjwABcdwt1sSgOZCKWB+3jlGAAe77KUsiuQhm8TSsPdvKIKZHHtoRm4i9oOAHiSn9qG9I1jg28TSsMXIsKWNJCJLWngK2o7AOBJfqi1Hgqk4fF0SsPX9EkDmQilgbuo7QCAb1v6o49qrf7dhCcSSsPXbEoDmQilgc+o7QCAR3GhIbxA1FqdH3wiIq5KKTvOBEhg6ZPeNWjgDxGx/Ez41YEAwIMu9UfDy+iUhk+0D2ICaSALW9LAl7x+DAAP+6nW+kYgDS8jlIbP6ZMGMhFKA3+KiKNSyr4TAYB7/WO50PC+XwQeT6c0fE6fNJCJUBr4TXtb7NhpAMCdlv7og1qr52dYEZvS8Dmb0kAWS5/0lWkDzVLb8cphAMBXlv7oNwJpWC2hNHzOK6tAFh6qgd+o7QCAe/3ULjS0zAErpr4DmohQ3QFkIpQG1HYAwP2W/uiTe38VeBGhNPyP6g4gE6E0UNR2AMBX9EfDBqjvgP8RSgNZXHoFEVDbAQBf0R8NGyKUhv9R3wFk4SEbklPbAQBf0R8NG6S+A37/YPa6lLLjLIAkhNKA2g4A+J+/11pPnQdsjlAafmdLGshEKA2Jqe0AgD9dt/7oC0cCm6W+A36nTxrIYumTvjFtyEltBwD86bz1RwukYQuE0vA7m9JAFrakITe1HQBQyg+11u8ta8D2qO+A33mFFchCKA1Jqe0AgHLb6jo8E8OWRa3VDEgtIpbqjl+ynwOQxnc2QiCfVttxYUsagMTOWyDtWRg6oL4D9EkDeeiThrzUdgCQmboO6Iz6DtAnDeThNUVISG0HAImp64BO2ZQGm9JAHh7GIZmIeF1KOTZ3ABJa6jp2BdLQJ6E0qbUPanvZzwFIwwM55KO2A4CM1HVA59R3kJ0taSCLcw/lkEtEHJRS3ho7AImo64BB2JQmO33SQBYezCGR9jbYqZkDkMjP6jpgHEJpshNKA1l4OIdc1HYAkMk/aq0H3gyEcUSt1bhIKyJufGADMqi1hkFDDq2241/GDUACl6WUw1rrhWHDWGxKk1ZEvBFIA0mcGzTkoLYDgET+ubz9LJCGMbnokMxccghkoboD8lDbAcDsbtt29JlJw7iE0mQmlAayEEpDAq22461ZAzCx5Q1A3dEwAZ3SpBURyys+e/4EALPTJw3za7UdV7akAZjYcpnhiQHDHGxKk5lAGshAnzTkoLYDgFm5zBAm5KJDUoqI700eSEJ1B0xObQcAE/tnrfWNQBrmY1OarITSQBZCaZhYq+04NWMAJnPdtqM9y8KkbEqTlUsOgQxuPcjD9NR2ADCbn5bP7J5jYW42pcnKpjSQgQd5mJjaDgAmc9u2o88MFuZnU5p0ImLXRhGQhFAaJqW2A4DJ/FxK2RVIQx42pclIdQeQhVAa5qW2A4AZ2I6GpGxKk5HqDiCDW7eUw5zUdgAwCdvRkJhNaTKyKQ1kYEsaJtRqO07MFoCB2Y4GbEqT0r6xAwkIpWFOx6WUHbMFYFC2o4Hf2JQmlYhQ3QFkIZSGybTnmPfmCsCAbEcDn7EpTTaqO4AM9EnDZFptx6m5AjAg29HAV2xKk41NaSADW9IwH7UdAIzGdjRwL5vSZGNTGshAKA0TUdsBwID+aTsaeIhNadKIiF0bRkASQmmYhNoOAAZz3bajPY8CD7IpTSa2pIEMrvVJw1TUdgAwih+Wz90CaeAxbEqTiVAayMCHAJiE2g4ABnFeSjmyGAE8hU1pMnHJIZCBUBomoLYDgAEsFxn+o9b6vUAaeCqb0mSyb9pAAkJpmIPaDgB69nPbjr4yJeA5hNKkEBGqO4AMrn0wgPGp7QCgYy4yBFZCfQdZqO4AMvDhAAantgOAjrnIEFgZm9JkYVMayMAHBBif2g4AenPetqO9kQesTNRanSbTi4grH/CABP7qwwKMq9V2/NsIAejEbeuN9gYPsHJCaabXXoP9r0kDk1v6pHcNGcbUnlcufIkOQCf+uby9U2u9MRBgHdR3kIHqDiAD1R0wNrUdAPTgvG1HX5gGsE5CaTJwySGQgVAaBhURu+1L9HMzhLVY/n69crTwoOu2Ga2qA9gI9R1MLyKWoGbfpIHJ6ZMGgC/oaodH+aGUcqKqA9gkoTTTi4gbmxHA5C5rraqKAOATrav9ymcBuNfyhs6hxQZgG9R3MLWI8KoekIHqUTk+IQAAIABJREFUDgD42pnPAnCvn2utB/f9IsC6/T8nzORsDgIZCKUB4BMRcaLCDx70dqm6bG8UAGycUJrZueQQyEAoDQBNRCzbn++dB3zT8sXNVeteB9gooTSzsykNzO7SpTQA8LuI2C2lnDoOeLSl4ubfEXHsyIBNEkozrfYa0p4JA5OzJQ0A/3v+1yMNz/NBnQewSUJpZmZLGshAKA0AvzuxlAIvos4D2BihNDPzDymQgVAagPQi4rCU8i77OcAKqPMANkIozcxsSgOz0ycNQHoR8aZtSQOro84DWCuhNDOzKQ3MzpY0AKnpkYa1Wuo8LtoXPwArJZRmSu3WbQ+mwOyE0gBkd1pK2cl+CLBGy9+vXyLiyCEDqySUZla2pIEMhNIApNVCsrf+BMBGfIyIU3UewKoIpZmV14uA2Z3rkwYgq4hYllA++gMAG7VcJvofdR7AKgilmZVNaWB2tqQBSOmTHmlg8/ZaMH3g7IGXEEozqz2TBSYnlAYgKxcbwnYtf//+FRHH5gA8l1Ca6bRX+QCmVmsVSgOQTgvB9k0euvAhIv6jZxp4DqE0M9JvBczu3IQByKbVBXwweOjK8iXRhZ5p4KmE0szIpjQwO1vSAKQSEbullFNThy7t6JkGnkoozYx8QwvMTigNQDZ6pKFveqaBJ4laqxNjGm2D4lcTBWZWaw0DBiCLiFg2pN8ZOAzjp1LKUa31xsiA+9iUZja2pIHZ6ZMGII2IOBRIw3DetToPFyAC9xJKMxt90sDsVHcAkEK7OO3EtGFIe6WUKxcgAvcRSjMb/+ABsxNKAzC9tmF5qkcahvaqbUwfGiPwJZ3STCUi/IEGZnZba/UaJADTi4jlYsO3Jg3T+Eet1ZsPwJ9sSjONiFDdAczOljQA04uII4E0TOdju7QU4DdCaWaiugOYnVAagKm1/tmPpgxTehcRLkAEfiOUZiZCaWB2QmkAptWCqjMThqntt55pwTQkp1OaaUTEVSllx0SBSemTBmBqywZlC6yA+d2WUr6vtV6YNeRkU5optG9ZBdLAzGxJAzCtiDgWSEMqr9rGtDeeISmhNLNwySEwO6E0AFNqF5Z/MF1I549g+tDoIR+hNLPw7SowO6E0ANOJiF090pDaEkz/KJiGfITSzMKmNDCzW317AEzqrIVSQG5LMH2U/RAgE6E0s9A/B8zMljQA04mIk1LKnskCzceIOHUYkINQmuG5GAFIQCgNwFTaq/rvTRX4wjvBNOQglGYGQmlgdkJpAKbRlkpOTBS4h2AaEhBKMwN90sDMrvVJAzCLiHhdSjnVIw18g2AaJieUZgY2pYGZ2ZIGYCZ6pIHH+i2Ybl9mAZMRSjO09o+Th1pgZkJpAKbQeqTfmSbwBMvPjP8IpmE+QmlGZ0samJ1QGoDhtR7pH00SeIY9wTTMRyjN6PRJAzNb+qSvTBiAkbUg6cwQgRcQTMNkhNKMTigNzMyWNAAzWC4r2zFJ4IUE0zARoTSjU98BzEwoDcDQIuK4lPLWFIEV2WtfdAGDi1qrGTKk1kv3i+kBE/ur+g4ARhURy1uN/zZAYA1+qrUeOlgYl01pRmZLGpiZPmkAhqVHGlizdxFhYxoGJpRmZEJpYGaqOwAY2fLv2CsTBNZIMA0DE0ozMpccAjMTSgMwpIg4ab2vAOsmmIZB6ZRmWBHhDy8wM33SAAwnIg5KKf8yOWDD/lFrPXHoMA6b0gypXZoCMKtLgTQAo2kXkdtYBLbhY0S4+BAGIpRmVEJpYGaqOwAYSrvY8FSPNLBFPwqmYRxCaUblkkNgZkJpAEajRxrowY/trQ2gczqlGVJE3NjCACb2Xa31xoABGEHbTPzRsIBO3C5vV9daLwwE+iWUZjgRsVtK+dXkgEktfdK2OwAYQttI/I+FEaAzSzC9a9ED+qW+gxHpkwZmproDgCG0HukzgTTQoeXn0n/azymgQ0JpRmSDEJiZUBqAUSwXG+6YFtCpvfZzCuiQUJoRCaWBmQmlAeheRByVUt6aFNC5txEhmIYO6ZRmOBHhDy0wK33SAHQvIpY6vX+bFDCQv9dahdPQEZvSDKU9AAPMypY0AF37pEcaYCQ/yhOgL0JpRmODEJiZUBqA3rnYEBjVWUTsmh70QSjNaHyzCcxMKA1AtyLipJSyb0LAoF61YPq1AcL2CaUZjU1pYFbntdYb0wWgRxFxUEp5bzjA4PZKKbqloQNCaYbRXrPZMTFgUrakAehSew4X4gCzeBsRx6YJ2yWUZiS2pIGZCaUB6JUeaWA2H1x8CNsllGYkQmlgWrVWoTQA3YmI0/a6O8BsXHwIWySUZiS+xQRmdW6yAPQmIg5LKe8MBpjUq/YmCLAFQmlG4qZvYFa2pAHoSkQsbymemAowub2I8LMOtkAozRDaQzHArITSAHQjIl63iw31SAMZvI+IA5OGzRJKMwrVHcC09EkD0Bk90kA2p/qlYbOE0ozCpjQwK33SAHQjIo5KKW9NBEhGvzRsmFCaUdiUBmZlSxqALrTKvI+mASSlXxo2KGqtzpuutU67/5oSMKn/q7VeGC4A29Seua/0SAOUv6nXg/WzKc0IbEkDs7oVSAPQiTOBNMBvztoXdcAaCaUZgT5pYFY2MADYuog4LqXsmwTAb161C1+BNRJKMwKb0sCshNIAbFVELM/aH0wB4DNvI+LQkcD66JSmexFx41VCYFL6pAHYmojYLaVceNYGuNPt8uZ2rfXqrl8EXsamNF1rN4B7SAZmpE8agG3TIw1wPzUesEZCaXqnTxqYleoOALYmIk5KKXsmAPCg/Yg4euh/AJ5HKE3v9EkDsxJKA7AVrSf1vdMHeJTjVncErJBQmt7ZlAZmJZQGYONaPd6Jkwd4NDUesAYuOqRbEfG6lPJfEwImtPRJvzZYADapPV//R20HwLP8o9bqSz1YEZvS9MyWNDArW9IAbIMeaYDnO25f7gErIJSmZ/qkgVkJpQHYqHZR1zunDvBsajxghYTS9MymNDCrM5MFYFNaj/RHBw7wYm8jwgIdrIBOaboVETftm0iAmVzXWt3eDcBGtFfNL0opO04cYCWulyW6WuuN44TnsylNlyJiVyANTEp1BwCbdCaQBlip5WfqkSOFlxFK0yuvwwCzEkoDsBERcVxK2XfaACv3oS3TAc8klKZX+qSBWQmlAVi71nn6wUkDrI1LD+EFhNL0yqY0MKOlT/rKZAFYp9Yj7VJdgPXaj4gDZwzPI5SmV3smA0zIljQAm/Af97MAbMSJY4bnEUrTnfaqIcCMhNIArFVEnFjwANiYndbfDzyRUJoeCaWBWQmlAVib9hr5eycMsFFHrTYJeAKhND1yySEwI33SAKxNRLxx6RbAVrxS4wFPJ5SmR0JpYEa2pAFYi7ahd6pHGmBr3kXEruOHxxNK05X2Q3zHVIAJCaUBWBc90gDb520VeAKhNL2xJQ3M6sxkAVi1iDhcNvQcLMDW7UeEO7LgkYTS9MYPcGBGl7XWG5MFYJVaj/SPDhWgG8dGAY8jlKY3NqWBGanuAGClWo+0t3AA+rLf3mABvkEoTW/2TQSYkFAagFU7dRcLQJdsS8MjCKXphu4lYGJCaQBWJiKOSilvnShAl3ZsS8O3CaXpieoOYEb6pAFYmbbI8dGJAnTNtjR8g1CangilgRnZkgZgJfRIAwzDtjR8g1CanqjvAGYklAZgVZZA+pXTBBiCbWl4gFCaLrStDxe1ADMSSgPwYhFx4lJwgKHYloYHCKXphS1pYEb6pAF4sYg4KKW8d5IAw7EtDfcQStMLfdLAjGxJA/AiEbFbSjl1igBDsi0N9xBK0wub0sCMhNIAPNsnFxvqkQYY15HZwdei1vrVf4RNiwh/EIHp1FrDVAF4rohYNqTfOUCA4f2t1mphBT5hU5qtiwjVHcCMzk0VgOdqr3sLpAHmoFsaviCUpgeqO4AZ2YQA4Fna0saJ0wOYxr6FPPicUJoe+MEMzEgoDcCTtR7pUz3SANPRLQ2f0CnN1kXERSllzySAmeiTBuA5ImK52PCtwwOY0l9rrVdGCzal2bK2CSKQBmajTxqAJ4uII4E0wNQOjRd+J5Rm21R3ADNS3QHAk7Su0Y9ODWBqKjygEUqzbS45BGYklAbg0drbg/7tAJjfq4iwLU16RShNB4TSwHRqrYIFAJ7izMWGAGnYlia9IpSmA+o7gNnokwbg0SLiuJSy78QA0thrlU2QmlCarWk/hG2EALOxJQ3Ao0TEQSnlg9MCSMe2NOkJpdkm3wwCMzozVQC+JSJ2Symn3/jfAJjTQbtPANISSrNNQmlgNre11gtTBeAR9EgD5LX8/D8wfzITSrNNLjkEZqO6A4BviohlQ3rPSQGkpsKD1ITSbJMHcWA2QmkAHhQRh6WUdw/9PwCk4MJDUhNKsxURYUsamJFQGoB7tfDh5L5fByCdQyMnK6E02yKUBmajTxqAe7ULrU71SAPwCaE0aQml2RavqACzsSUNwENO1NcB8IVXEeHCQ1ISSrMtNqWB2QilAbhTRBzpkQbgHralSSlqrSbPRkXEbinlV6cOTOb/1HcA8KXWI/3LV78AAP/zXa31xnmQiU1ptsGWNDAbfdIAfKX1SJ999QsA8DkVHqQjlGYb9EkDs1HdAcBdlkB6547/DgCfEkqTjlCabRBKA7MRSgPwmYg4LqXsOxUAHuFtqzqFNITSbIOHc2A2Xs0G4E8RsdTVfXAiADyBbWlSEUqzUe0BHWAm17XWKxMFoPzvUm9fVgLwVIdOjEyE0mya6g5gNqo7APjUEki/ciIAPNGeCg8yEUqzaTalgdkIpQH4TUScLKGC0wDgmWQmpCGUZtNsSgOzEUoDsATSSxfoeycBwAvolSaNqLWaNhvRXkP51WkDE1n6pL1iB5BcRLxpX1Kq7QDgpb6rtd44RWZnU5pNsiUNzMaWNEByEfG6lHIqkAZgRWxLk4JQmk0SSgOzEUoDoEcagFXSK00KQmk2yQ9WYDZCaYDEIuKwlPLOnwEAVsimNCnolGZjIsIfNmAm+qQBEms90r/4MwDAGvyt1moBhqnZlGYj2kM7wEw8JAIk1Xqkz8wfgDWxLc30hNJsiuoOYDZCaYC8losNd8wfgDWRoTA9oTSbYlMamI0NOYCEIuK4lPLW7AFYo72IUBXI1ITSbIpv+YCZXNZab0wUIJeIWJ5pPxg7ABsgR2FqQmnWrnXueb0RmInqDoBk9EgDsGFCaaYmlGYT/CAFZiOUBshnCaRfmTsAG+KyQ6YmlGYT9EkDsxFKAyQSESellH0zB2CDXkWEPIVpCaXZBJvSwEz0SQMkEhHLptp7MwdgC+QpTEsozSb4Zg+YiS1pgCQiYreUcmreAGyJUJppCaVZq/aqie49YCZCaYAEPrnY0LMsANsilGZaQmnWzZY0MBuhNEAOS4/0nlkDsEV6pZmWUJp1860eMBN90gAJRMRhKeWdWQPQAbkKUxJKs26+0QNmYksaYHJtI+3EnAHohFCaKQmlWZvWw+eVR2AmQmmAiemRBqBDlv2YklCadfKDE5hKrfXMRAGmdlpK2TFiADqyExG7BsJshNKsk1dMgJmcmybAvCLiqJTy1ogB6JClP6YjlGad/NAEZqK6A2BSEbEsU3w0XwA6ZemP6QilWSc/NIGZCKUBJvRJjzQA9MrSH9OJWqupsnKt7+hXJwvMotYahgkwn4hYvnTcN1oAeubzCLOxKc262JIGZqJPGmBCEXEskAZgBBFhW5qpCKVZFz8sgZmo7gCYTEQclFI+mCsAg5CzMBWhNOtiUxqYiVAaYCKtau7UTAEYiFCaqeiUZi0iwh8sYBr62wDmEhEXpZQ9YwVgIOe1VguATMOmNCsXEX5IAjPRJw0wkYg4FUgDMCB3IDAVoTTrIJQGZqK6A2ASEXFYSnlnngCMyGWHzEQozTr4IQnM5Mw0AcbXPsifGCUAA9s1PGYhlGYdhNLALG5rrRemCTC2iHjdLjZ8ZZQADEzewjSE0qxUu8l8x6kCk1DdATAHPdIAzEAozTSE0qyaH5DATITSAIOLiKNSyltzBGAC6juYhlCaVXPJITAToTTAwFqP9EczBGAS3vphGkJpVs2mNDALfdIAA2s90i6rBWAq7QtXGJ5QmlXbd6LAJGxJA4ztzF0nAExIhQdT+IsxsioRoboDmMnriDg2URK6qrWeGjwjaz+/LUsAMKM33gRiBkJpVskrJMBM9gUaJPVTKUUozbDaosQHEwRgUjalmYL6DlZJKA0A41Ndw7AiYtf2GACTE0ozhai1miQrERFXevsAYHh/rbVeGSMjiojlgto9wwNgYsuF7K8NmNHZlGYl2u3mAmkAGNu1QJpRRcSJQBqABF4ZMjMQSrMqLjkEgPGpPWBIEXFYSnlvegBk0O5PgKEJpVkVfdIAMD590gwnIpbn0BOTAyAR9R0MTyjNqviWDgDGJ5RmKK1C7tSrzAAkYzGQ4QmlWZV9JwkAQ7ustd4YIYPRIw0AMCChNC/WXpkEAMamT5qhtB7pd6YGQELeVmd4QmlWwQ9DABif6g6G0ZYifjQxAIAxCaVZBZvSADC4WqtQmiG0Hmmb/QBkpkKV4QmlWQWhNACM7dz8GMhyseGOgQEAjEsozYu0TRWXywDA2GydMoSIOC6lvDUtALJzvxejE0rzUn4IAsD4VHfQvYhY7jH5YFIA8JvXjoGRCaV5KZccAsDYbmutF2ZIz/RIAwDMRSjNSwmlAWBstqQZwfLn9JVJAcCf5DEMTSjNS6nvAICx2T6laxFx4g4TAIC5CKV5tlaqb2MFAMZmU5puRcRBKeW9CQHAV3RKMzShNC9hSxoAxnZda70yQ3rUFiBODQcA7iSTYWhCaV7CD0AAGJstabrULjY89VYeAMCchNK8hFJ9ABibPml6pUcaAB6mvoOhRa3VBHmWiPCHBwDG9l2t9cYM6UlEHJZSfjQUAHhYrTUe/B+gYzaleZaIsCUNAGO7FEjTm9YjfWIwAABzE0rzXEJpABibPmm60nqkz/RIAwDMTyjNc7nkEADGJpSmN8vFhjumAgCPExG7jopRCaV5LpvSADCwWqtLDulGRByVUt6aCAA8iVCaYQmlebL2TZzXKgFgXOdmRy/aXSUfDQQAIA+hNM9hSxoAxqa6gy580iMNAEAiQmmeQ580AIxNCEgvXGwIAJCQUJrnEEoDwLhua60X5se2RcRJKWXfIADg2eQzDEsozXP48AAA41LdwdZFxEEp5b1JAMCLvHZ8jEoozZO0i2gAgHEJpdmqdmn2qSkAAOQllOapvBoCAGPTJ8226ZEGAEhOKM1T2ZQGgHFd11qvzI9tiYhlQ3rPAAAAchNK81Q2pQFgXKo72JqIOCylvDMBAACE0jxa6//bcWIAMCyhNFsREctiw4nTBwCgCKV5IlvSADA2oTQbFxGv28WGeqQBYLV2nSejEkrzFEJpABjXpT5ptkSPNACsh1CaYQmleQqXHALAuGxJs3ERcVRKeevkAQD4lFCap9h3WgAwLKE0G9V6pD86dQAAviSU5lHahwoAYFxCaTam9Uj7MwcAwJ2E0jyW6g4AGNd5rfXG/NigMxcbAgBwH6E0j2VTGgDGZWOVjYmIY7VvAAA8RCjNY9mUBoBxCaXZiIhYnhk/OG0AAB4ilOabWifgjpMCgCHd1lqF0qxdROy22g4AAHiQUJrHsCUNAOMSSLMpeqQBAHgUoTSPoU8aAMYllGbtIuKklLLnpAEAeAyhNI9hUxoAxiWUZq0i4rCU8t4pAwDwWEJpHsOmNACM6brWemF2rEtELM+JJw4YAICnEErzoPZBQzcgAIzJljRr0y7DPvWsCADAUwml+RZb0gAwLqE066RHGgCAZxFK8y36pAFgXEJp1iIijkop75wuAGzVjeNnVEJpvsWmNACMaemTvjI7Vq3Vu310sACwde4OYVhCae7VegK9kgkAYzozN1atPR/6swUAwIsIpXmILWkAGJfqDtZhCaR3nCwAAC8hlOYh+qQBYFxCaVYqIo5LKftOFQCAlxJK8xCb0gAwpstaq4tvWJmIWJYVPjhRAABWQSjNQ2xKA8CYdP6yMnqkAQBYNaE0d4qI3VLKq7t+DQDonuoOVuk/ngsBAFgloTT3sSUNAIOqtQqlWYmIOCml7DlNAOjShbEwKqE099EnDQBj+tncWIWIOCilvHeYANAtd4gwLKE097EpDQBjsiXNi0XEsqBw6iQBAFgHoTT38ZomAIxJKM2LtIsNT/VIAwCwLkJpvhIRtqQBYEy3tVbdgryUHmkAANZKKM1dhNIAMCZb0rxIRByWUt45RQAYgmUEhiWU5i4uOQSAMZ2ZG8/VeqR/dIAAMIZaq4sOGZZQmrsIpQFgTDaleZbWI+1LDQAANkIozWciYreUsuNUAGA417XWK2PjmU49AwIAsClCab5kSxoAxmRLmmeJiKNSylunBwBDuTQuRiaU5ksuOQSAMale4MkiYnn2++jkAGA4+qQZmlCaL9mUBoAx2ZTmSfRIAwCwLUJpvrT/1X8BAHp36fZ1nmEJpF85OAAYkmc/hiaU5k/t9U0AYDy2pHmSiDixjAAAQ7swPkYmlOZTqjsAYEwqGHi0iDgopbx3YgAAbItQmk8JpQFgQLVWm9I8SkTsllJOnRYADE99B0MTSvMp9R0AMJ5zM+MxPrnYUI80AIxPfQdDE0rzm/YhZcdpAMBwbEnzWEuP9J7TAgBg24TS/MGWNACMSZ803xQRh6WUd04KAKZxZZSMTCjNH/RJA8B4bmutXt3kQRHxpm1JAwCTqLUKpRmaUJo/2JQGgPGo7uBBraLtVI80AAA9EUrzh30nAQDDEUrzLad6pAFgOi66ZnhCaf54pRMAGI8+ae4VEUellLf3/ToAAGyLUJqiugMAhnStS5D7tKWDj/f8MgAwNs+ADE8oTXHJIQAMSXUHd2o90v58AMC8hNIMTyhNEUoDwJCEjtznzMWGADC1G+NldELp5NomjctvAGA8+qT5SkQcu8AaAKZ3YcSMTiiNLWkAGM9lrdWGDJ+JiINSygenAgBA74TSuOQQAMajuoPPRMRuKeXUqQDA/GqtngUZnlAaoTQAjMcHEb6kRxoAgGEIpVHfAQCDqbXqk+ZPEXHqjhAASOPSqJmBUDqxiHhjowYAhnNuZPwhIg5LKe8cCACk4V4RpiCUzs2WNACMR3UHv2kLBidOAwBSuTBuZiCUzk0oDQDjEUqzBNKv28WG3noDgFxsSjMFoXRuLjkEgLHcum2d5kSPNACk5FmQKQilc/NBBgDG4kMIy5b0kR5pAABGJpROKiJsSQPAeITSybUe6Y/ZzwEAsvLWHLMQSucllAaA8fgQkljrkT7Lfg4AkNit4TMLoXReLjkEgLFc11rdtp7bEkjvZD8EAEjMsyDTEErnZVMaAMZiSzqxiDgupexnPwcASO4q+wEwD6F0QhGxW0p5lf0cAGAwQumk2l0gH7KfAwAglGYeQumcbEkDwHiE0gm1ZQI90gBAUd/BTITSOemTBoCxXNZabcbkdOYNNwCguXEQzEIonZNQGgDGYks6oYg4KaXsZT8HAOB3tVbPhExDKJ2TS3IAYCw+gCQTEQellPfZzwEA+NO1o2AmQulk2kU5AMBYhNKJRMTyVttp9nMAAD6jyo2pCKXzUd0BAGNZ+qT1ByYREa9bIK1HGgD4lCUFpiKUzsemNACM5cy8UtEjDQDcxZICUxFK52NTGgDGYismiYg4LKW8y34OAMCdLu76jzCqqLUaXhIRsVtK+TX7OQDASGqtYWDzaz3Sv2Q/BwDgXt+pdGMmNqVzsSUNAGP52bzm13qk1bQAAPe5FUgzG6F0LvqkAWAsqjtyWC423Ml+CADAvVR3MB2hdC42pQFgLELpyUXEcSnlbfZzAAAe5JmQ6Qilc9nPfgAAMJDlNU1bMROLiOUttg/ZzwEA+KYrR8RshNJJtMtzAIBx6BiemB5pAOAJhNJMRyidhz5pABiL1zTntgTSr7IfAgDwbbVWz4VMRyidh01pABiLDx+TiogTtWoAwCNdOihmJJTOw6Y0AIzjutbqNc0JRcRBKeV99nMAAB7NMyFTEkon0DoLd7KfAwAMRNfwhCJit5Rymv0cAIAncfE1UxJK52BLGgDGorpjMp9cbKhHGgB4Cs+FTEkonYM+aQAYiw8f81l6pPeyHwIA8GQ2pZmSUDoHm9IAMI7LWuuNec0jIg5LKe+ynwMA8GS3nguZlVA6B5vSADAOW9ITiYg3bUsaAOCpbEkzLaH05NoHId2FADAOlxxOQo80APBClhWYllB6frakAWAgtVYfPuZxWkrZyX4IAMCz2ZRmWkLp+emTBoBxnJvVHCLiqJTyNvs5AAAvIpRmWkLp+dmUBoBxqO6YQEQsSwEfs58DAPAiyyWHV46QWQmlJ9Z6DPeynwMADER1x+A+6ZEGAHgJz4VMTSg9N1vSADCOZRvGK5rjc7EhALAKnguZmlB6bvqkAWActmEGFxHHpZT97OcAAKyEZ0OmJpSem1AaAMah8mFgEXFQSvmQ/RwAgJWxKc3UotZqwpOKiBuvjwLAMP7qMpsxRcRu++DouQsAWIXrWuuuk2RmNqUn1T4c+WAEAGO4FkgPTY80ALBKqjuYnlB6Xqo7AGAcPngMKiJOSyl72c8BAFgp1R1MTyg9rzfZDwAABiKUHlBEHJZS3mU/BwBg5TwbMj2d0pOKiAtbOwAwjO9qrTfGNY6IeNM+MKrtAABWqtYaTpTZ2ZSel0AaAMZwKZAeS0S8LqWcCqQBgDU4d6hkIJSeUETokwaAcXg9czx6pAGAdfFsSApC6TkJpQFgHD54DCQijkopb7OfAwCwNi45JAWd0hOKiDMflgBgDDoDx9F6pH/Jfg4AwFq5a4QUbErP6U32AwCAQegMHETrkT7Lfg4AwFq5a4Q0hNKTiYjdUspO9nMAgEGo7hjHmWcsAGDNVHeQhlB6PrakAWCq3CLOAAAgAElEQVQcNm8HEBHHpZT97OcAAKydhQXSEErPxyWHADCG21qrbZjORcTybPUh+zkAABshlCYNofR8bEoDwBh86Ohcq0WzzQ4AbMJ1rfXKSZOFUHo+Xi0FgDEIpfu3BNKvsh8CALARng1JRSg9kfZ6KQAwBh88OhYRJ6WUveznAABsjFo3UhFKz0V1BwCM4VqfdL8i4rCU8j77OQAAG2VhgVSE0nOxKQ0AY/Cho1MRsXzJf5L9HACAjXIBNukIpediUxoAxiCU7lBEvC6lnOqRBgA2zLMh6QilJ9E+RO1kPwcAGIQPHn3SIw0AbINnQ9IRSs9DdQcAjOGy1nplVn1pPdLvsp8DALAVQmnSEUrPQ3UHAIzBh47OtB7pH7OfAwCwFfqkSUkoPQ+b0gAwBqF0R1oF2ln2cwAAtsZzCCkJpeexn/0AAGAQQum+nLqXAwDYIs+GpCSUnkB75RQA6N95rfXGnPoQEcellLfZzwEA2CqhNCkJpeegugMAxuBDRyciYnl++pD9HACArbp2ATZZCaXnYFMaAMYglO6AHmkAoBOeDUlLKD0HoTQA9G+5Wd0Hjz4sc3iV/RAAgK3zJTlpCaUH1zZ99rKfAwAMQCDdgYg48ewEAHTC8yFpCaXHZ0saAMbgQ8eWRcRBKeV96kMAAHpx6QJsMhNKj88lhwAwBqH0FkXE8kX+adoDAAB649mQ1ITS4xNKA0D/lj7pC3PajlZ3dqpHGgDoiD5pUhNKj099BwD0z4eO7dIjDQB0xQXYZCeUHlh7DdXGDwD0z4eOLYmIw1LKu5S/eQCgVz+bDNkJpcdmSxoAxiCU3oL2Bf5Jut84ANA7z4akJ5Qemz5pAOjfda31ypw2q/VIn3mrDADokGo30hNKj82mNAD0z4eO7VguNtzJ+BsHALpmYYH0ilB6eC7sAYD+eT1zwyLiqJTyNtVvGgAYhYUF0itC6XFFhOoOABiDUHqD2jPSxzS/YQBgNJ4NSa8IpYcmlAaA/l3WWm/MaTM+6ZEGAOhSrdWzCukVofTQ9EkDQP986NgsFxsCAD372XTgd0LpcdmUBoD+eT1zQyLipJSyn+I3CwCMyrMhNFFrdRaDiYjdUsqv2c8BAHpXaw1DWr+IOCil/Gv23ycAMLy/1lqvjBFsSo/KljQA9O/cjNavfVl/OvvvEwAY3rVAGv5HKD0mfdIA0D990puhRxoAGIFnQ/iEUHpMQmkA6J/OwDWLiGVDem/q3yQAMAuhNHxCp/SAIsLQAKBvt7XW12a0PhFxWEr5cdbfHwAwFc+G8AWb0oOJCH3SANA/W9JrFBHLW2Mn0/4GAYDZeDaELwilx6O6AwD65/XMNYmI1+1iQz3SAMAoPBvCF4TS47EpDQD9sw2zPnqkAYDRCKXhC0Lp8diUBoC+Xddar8xo9SLiqJTydrbfFwAwtfNa640Rw+eE0gOJiN1Syk72cwCAztmSXoPWI/1xut8YADA7W9JwB6H0WGxJA0D/fPBYsdYjLewHAEbk2RDuIJQeiz5pAOif8HT1zlxsCAAM6FKtG9xNKD0Wm9IA0LdLnYGrFRHHpZT9mX5PAEAa/7+9ez2O48jSAJp3Y/6TYwEhC8i1gLMWiGsBIQtEWSDQAoEWDGjBghYMYYEACwawgGgL7kZJhRGkwqMf9ciqOidCMRFIxrA7c2LU/eHWl4YV4BFC6XnxhQwA6uaLR48ionlK7OfFvCEAYG3OnDg8TCg9E+3lPgBA3YTSPWkveNbBCADM1U1mXjo9eJhQej70SQNA5TJTiNofPdIAwJz5XAhPEErPh0lpAKjbhfPpR0ScllJeL+G9AACrJZSGJwil58OkNADUTXVHDyLiuJTy4+zfCACwZpvM9NkQniCUnoGIeFlKebX2fQCAypmGOVB7h8bprN8EAIDPhfAsofQ8mJIGgLptXGRzmPaX8Gd6pAGABRBKwzOE0vOgTxoA6ubxzMPpkQYAlmDj8mt4nlB6HkxKA0DdhNIHiIgPpZT3s30DAAB/EEjDFiIz7VPlIuLWo6wAULXvMvPaEe2u7ZH+dW6vGwDgEf9rUhqeJ5SunC9qAFC9m8w8cky7a3ukL13oDAAsRFPd8dJhwvPUd9RPnzQA1E11x/7OBdIAwIKYkIYtCaXrp08aAOomlN5DRJyUUt7O7oUDADxOKA1bUt9RuYi4dBM9AFTt75l564i2FxHNL93/NZfXCwCwBdUdsAOT0hVrexYF0gBQryuB9G7azzemiACApfH5BnYglK6bPmkAqJvqjt01e/Zibi8aAOAZQmnYgVC6bvqkAaBuQukdRMSpp8AAgAVqqjuE0rADoXTdhNIAUDeh9JYi4l0p5cdZvFgAgN0IpGFHQum6qe8AgHpd6JPeTkQ0n2nO5vBaAQD24HMO7EgoXamIONK3CABVMyW9hfZiwzOfawCAhbrJTJ8LYUdC6Xqp7gCAuvnysR090gDAkqnugD0IpeulugMA6rUxEfO8iDgupbyv/XUCABxAdQfsQShdL5PSAFAvgfQz2h7pfz79pwAAZq2p7rh0hLA7oXS9POYKAPUSSj+h7ZH2KCsAsHSmpGFPQukKRYQpaQCom1D6ac0XtFdP/gkAgPkTSsOehNJ1EkoDQL08pvmEiPhQSvn+8T8BALAIV5l57ShhP0LpOrnkEADqZUr6Ee3TXr88vAoAsCinjhP2J5Suk1AaAOollH6AHmkAYGV87oEDCKUrExFHOhgBoGpC6Yc1X8xePLgCALAsXzLz1pnC/oTS9TElDQD1utEd2BURzeOrbzsLAADL5IJDOJBQuj4uOQSAenlM8y8i4l0p5cfOAgDAMm0y02dCOJBQuj4mpQGgXqo77mlrx0wKAQBrIpCGHkRm2seKRIQDAYB6/V1/4O/aiw2bkP51ZxEAYLn+OzMvnS8cxqR0RSJCdQcA1OtKIP0npwJpAGBlbgTS0A+hdF1UdwBAvTyq2YqI41LK+84CAMCynTpf6IdQui4mpQGgXvqkfw+k3/hCBgCslCEF6IlQui4mpQGgUpm5+lC67ZFuLjZ80VkEAFi2L5l57YyhH0LpSrRf8l6tfR8AoFJfHMxvzvRIAwArdebgoT9C6Xqo7gCAepmSjvhQSvm+swAAsHybzFTdAT0SStdDdQcA1GvVoXTbI/1LZwEAYB1MSUPPIjPtaQUiovmy+3bt+wAAFWomY16u9WDairFrPdIAwIp9p08a+mVSuh4CaQCo09qrO84F0gDAil0JpKF/QukKtI/EAgB1Wm1/YESc+MU5ALByp2vfABiCULoOLjkEgHqtclI6It6VUn7uLAAArMdmzQMKMCShdB1MSgNAnW7W+LhmRBy50AcAoJxn5q1tgP4JpesglAaAOq21T1qPNACA6g4YjFB6Yu2N9q9XvQkAUK/VPa4ZEWc+mwAA/HbB4aVtgGEIpadnShoA6rWqSemIOC6lvO8sAACsjylpGJBQenouOQSAOl2tqUMwIt748gUA8BsXHMLAhNLTE0oDQJ1WMyXd1omd6ZEGAPiNCw5hYELp6anvAIA6rWk65lSPNADAf3h6DAYmlJ5Q+5isiSQAqFBmrmJSOiI+6JEGAPiPCxccwvCE0tMyJQ0AdbpYw7m0vyD/pbMAALBeZ84ehieUnpY+aQCo0+KrO9oeaRf4AAD8YZOZQmkYgVB6WialAaBOa6juaALpV52fAgCsly5pGElkpr2eSETYfACoTzMh83LJ5xIRJ6WUnzsLAADr9l1mXq99E2AMJqUnEhGqOwCgTouekm4/gwikAQD+7ItAGsYjlJ6OUBoA6rTYUDoijvRIAwA8SHUHjEgoPR190gBQpyWHts17e9H5KQDAut1k5hruFIFqCKWnY1IaAOpzs9THNiOimf553VkAAOBk9TsAIxNKT6B9dNaUEgDUZ5ETMhHxrpTyY2cBAICNejMYn1B6GqakAaBOiwulI6KpDDvrLAAA0DjLzFs7AeMSSk9DnzQA1GlRUzIR8bINpD2hBQDwMBccwgSE0tMQSgNAfa4WOCWjRxoA4HFflnqfCNROKD2Nt2t80wBQuUVVd0TEcSnlfWcBAIA7pqRhIkLpkUWEPmkAqNNiQum2R/qfnQUAAO40T8kt8pJrmAOh9PhUdwBAhTJzEX3SbY+0G+QBAJ5mShomJJQen0lpAKjPxYLOpLnY8FXnpwAA3Nlk5pndgOkIpcdnUhoA6rOIRzcj4qSU8n1nAQCA+0xJw8QiM53BSCLiqJTy71W8WQCYl/+Ze6dge2/FvzoLAADctymlHGXmrV2B6ZiUHpcpaQCoz2YBgbQeaQCA7ZwLpGF6Qulx6ZMGgPosobqjeQ8vOj8FAOCvTjo/AUYnlB6XSWkAqM/cp6SbTsTXnQUAAP7qS2Zed34KjE6n9IgiwmYDQH3+OzMv53guEfGulPJ/nQUAAB4y+3tEYClMSo8kIkxJA0B9bmYcSDcXKJ91FgAAeMiFQBrqIZQejz5pAKjPLL+Y3LvYUI80AMB2Tu0T1EMoPR6T0gBQn7lOy+iRBgDYXvN03Ln9gnoIpcdjUhoA6jO7UDoijksp7zsLAAA85uSRnwMTcdHhCNpHbL8t/o0CwLxcZeasnmRq76j4qrYDAGBrzZT0ke2CupiUHocpaQCoz6ympPVIAwDsxcXQUCGh9Dj0SQNAfeZW3dF8oXrV+SkAAI/ZuOAQ6iSUHodJaQCoz2xC6Yj4UEr5vrMAAMBTTjPz9ol1YCI6pUcQEbcetQWAqlxk5ix+aRwRzev8V2cBAICnNFPSR0JpqJNJ6YG1FxIJpAGgLrOYkr7XIw0AwG5MSUPFhNLD0ycNAPWZS3WHiw0BAPbjgkOomFB6ePqkAaAymVl9KB0RJ6WUt50FAACe8zkzr5/5M8CEhNLDMykNAHX5Uvt5RMS7UsrPnQUAALZxYpegbkLpAbU9kK8X+wYBYJ6qnpKOiCOPmwIA7M2UNMyAUHpYpqQBoD61V3fokQYA2J8paZgBofSw9EkDQF02mXlZ65lExJmnrAAA9mZKGmZCKD0soTQA1OW81vOIiONSyvvOAgAA2zIlDTMhlB6W+g4AqEuV1R0R0XxmOO0sAACwLVPSMCORmc5rAO0lRf9e3BsDgHn7rrYvK+3FyF/VdgAAHKS6z3nA40xKD0d1BwDU5abSLyp6pAEADmNKGmZGKD0c1R0AUJfq+qQj4kMp5fvOAgAAu9AlDTMjlB6OSWkAqEtVfdJtj/QvnQUAAHZhShpmSKf0QCLCxgJAXf6embc1vKK2R/qylPKqswgAwC50ScMMmZQeQESYkgaAulzVEki3zgXSAAAHMyUNMyWUHoZQGgDqUk11R0Q0nYdvOwsAAOxKlzTMlFB6GC45BIC6VHHJYfs01c+dBQAAdmVKGmZMp/QAIuLaI7kAUI/MjKlfTEQctT3SLzqLAADsSpc0zJhJ6Z61XzgF0gBQj4tKXsm5QBoAoBcfBdIwb0Lp/qnuAIC6TF7dERGnpZTXnQUAAHa1KaWc2jWYN6F0/1xyCAB1mfSSw4g4LqX82FkAAGAfp5l5a+dg3nRK9ywivrpRHwCqscnMl1O9mIh404biajsAAA7XTEkfCaVh/kxK908gDQD1mGxKOiKaMPxMIA0A0BtT0rAQQukeRYTqDgCoy5R90nqkAQD6c5OZJ/YTlkEo3S+XHAJAXSaZlI6ID6WU950FAAD2JZCGBdEp3aOIaKaxvl/MGwKAeWumaY7Gfgdtj/SvnQUAAPY1yec6YDgmpftlUhoA6jH6lHTbIz1lZQgAwBIdO1VYFqF0T9ovoa8W8WYAYBmmqO4483kAAKBXF5k52eXVwDCE0v1xySEA1GXUieWIOFHjBQDQO13SsEBC6f6o7gCAelxl5u1YryYiml9O/9xZAADgEF9MScMyCaX7Y1IaAOox2pcXPdIAAIP5YGthmYTS/Xm7lDcCAAsw5kRN83e96PwUAIBDfMrMazsIyxSZ6WgPFBFNdcevs34TALAgmRljvJuIOC2l/NhZAADgEJtSytGYdWzAuExK90N1BwDU42KMVxIR7wTSAACDOBVIw7IJpfvhkkMAqMfg1R3tU1JnnQUAAA51k5kndhGWTSjdD6E0ANRj0EsH24sNz/RIAwAMwuWGsAI6pQ/UfjH9Nus3AQDLscnMl0O+m4hoAun3nQUAAA51kZkqUmEFTEofzpQ0ANRj0OqOiDgWSAMADEZtB6yEUPpwfoMHAPUYLJRue6RPOwsAAPThc2YOfjcIUAf1HQeKiOb/MN/O+k0AwHJ8l5nXfb+btq7rspTyqrMIAMChNs2T6EN8jgPqZFL6cOo7AKAONwN+kTkTSAMADOZUIA3rIpQ+QPsYr5v3AaAOgzzuGRHNDfDfdxYAAOjDjYo0WB+h9GFMSQNAPXoPpSOiuTvil84CAAB9+ZCZt3YT1kUofRiXHAJAPXoNpdse6fPOAgAAfbnITJ+3YIWE0ocxKQ0AdbgaoIfwXE0XAMCgPtheWCeh9GFez/nFA8CC9D0l3fQavu0sAADQl0+ZeWk3YZ2E0ntqOyYBgDr0FkpHxLtSyo+dBQAA+rIppZzYTVgvofT+hNIAUI9eQumIOCqlnHUWAADok8sNYeWE0vvTJw0Adbjo8UuNHmkAgGE1n90MAcDKCaX3Z1IaAOrQ15T0mfsiAAAG53JDQCi9j/bRXlNUAFCHg0PpiDgupbzvLAAA0CeXGwK/icy0Eztqv7j+c1YvGgCWaZOZLw95ZxHxpg22/cIZAGA4zeWGR7qkgWJSem/6pAGgDgdNSUfEy/ZiQ4E0AMCwXG4I/IdQej9CaQCow6HVHXqkAQCG53JD4E+E0vt5O8cXDQALtHcoHRHNJTvfdxYAAOibyw2BPxFK7ygi/jGrFwwAy7XZ96Kctkf6l84CAAB9++hyQ+CvhNK7U90BAHU43+dVtD3Sh9Z+AADwvJtSyql9Av5KKL07k9IAUId9g+VzFxsCAIzC5YbAg4TSuzMpDQB12DmUjogTd0MAAIziS2bu9WQbsHyRmY55SxFxVEr59yxeLAAs201mHu3yDiPiXSnl/zoLAAD0bVNKOTIlDTzGpPRuTEkDQB12mrppf7F81lkAAGAIJwJp4ClC6d3okwaAOuxa3aFHGgBgHBeZ6XJD4ElC6d2YlAaAOmwdSkdE86XodWcBAIAhfLCrwHOE0rtxMRIATO9q28dBI+K4lPJjZwEAgCF8zMxLOws8Ryi9pYgwJQ0AddiqT7r9d7dHRwEAxtFcRH1ir4FtCKW3p08aAOrwbHVHRLxsLzbUIw0AMI5j+wxsSyi9PZPSAFCBzNymT1qPNADAeD5t+RkN4DdC6e2ZlAaA6V089woiorlc531nAQCAIdyUUtR2ADsRSm+hfQT4VfUvFACW78k+6bZH+pfOAgAAQzne9hJqgDtC6e2YkgaAOjz6WGj7S+QnQ2sAAHqltgPYi1B6O/qkAWB6m8y8fOJVnHuyCQBgNGo7gL0JpbdjUhoApvfoFE5ENF+I3nYWAAAYyge1HcC+hNLbMSkNANN7sJojIppfHv/cWQAAYChfMvPBz2YA24jMtFFPaC9M+vXxPwEAjOS7zLy+/1e1PdLNz144BACAUWxKKUempIFDmJR+nilpAJjezV8D6dZXgTQAwKjeCaSBQwmln6dPGgCm1+mTjojTUsprZwMAMJpPmdn5XAawK6H080xKA8D0/tRZGBHvSik/OhcAgNHclFJObDfQB53ST2h7Kr89/icAgJH8/e4x0fa+B7UdAADj+h9T0kBfTEo/zZQ0AEzv6l4g3fzC+EwgDQAwKrUdQK+E0k/TJw0A07v/BUiPNADAuNR2AL0TSj9NKA0A0/utTzoijksp750HAMCo3t09tQbQF53ST4iIW48HA8C0MjPaHulfHQUAwKg+ZqYpaaB3JqUfERFHAmkAmNxF2yN97igAAEZ1JZAGhiKUfpzqDgCY3tf2YsNXzgIAYDSbprbDdgNDEUo/7s2jKwDAWJonl7632wAAozrJzGtbDgxFp/QjIuLS7f4AAADAynzJTFPSwKCE0o+ICBsDAAAArElT23GUmbdOHRiS+o4HRIQ+aQAAAGBt3gmkgTEIpR8mlAYAAADW5FNmfnXiwBiE0g9zySEAAACwFleZ+cFpA2PRKf2AiGgeVXnRXQEAAABYlKZH+h+ZeelYgbGYlP6LiDgSSAMAAAArcSKQBsYmlO5S3QEAAACswZfMPHXSwNiE0l0uOQQAAACW7qaUcuyUgSkIpbtMSgMAAABL9y4zb50yMAWhdNfbzk8AAAAAluMnPdLAlITS90SE6g4AAABgyS70SANTE0r/meoOAAAAYKk2TW2H0wWmJpT+M5PSAAAAwFLpkQaqIJT+M5PSAAAAwBJ9zMyvThaoQWSmg/i9T/plKeVbZwEAAABg3r5kptoOoBompf+gugMAAABYmptSyrFTBWoilP6D6g4AAABgafRIA9URSv/BpDQAAACwJD9l5qUTBWqjU7oVETYCAAAAWIrPmam2A6iSSenfA2nVHQAAAMBSXJVSPjhNoFZC6d+p7gAAAACWYNNcbKhHGqiZUPp3JqUBAACAJTjWIw3UTij9O5PSAAAAwNx9ysxzpwjUbvUXHUbEy1LKt84CAAAAwHxcZKahO2AWTEqr7gAAAADm7aaU8s4ZAnMhlFbdAQAAAMxXc7HhOxcbAnMilBZKAwAAAPP1wcWGwNwIpdV3AAAAAPPUXGx45uyAuVn1RYcR0QTSv3YWAAAAAOrmYkNgttY+KW1KGgAAAJgbFxsCs7b2UNpvFAEAAIA5cbEhMHtrD6VNSgMAAABzcuxiQ2Du1h5Kv+78BAAAAKBOHzPz3NkAc7faUDoiVHcAAAAAc/E5M0+cFrAEa56UFkoDAAAAc3BVSvngpIClWHMorU8aAAAAqF1zseE/XGwILIlJaQAAAIA6CaSBRVplKB0RR6WUF50FAAAAgHp8yMxL5wEszVonpU1JAwAAADX7mJlnTghYorWG0vqkAQAAgFp9zswTpwMsVWTm6g43IppHX153FgAAAACmdZWZhumARVtrKL2+Nw0AAADU7srFhsAarK6+IyL0SQMAAAC12ZRSjgXSwBqssVPaIzAAAABATTbthPSlUwHWYI2htElpAAAAoCYfBNLAmpiUBgAAAJjOD5l5Zv+BNVlVKB0RR6WUV50FAAAAgPF9FkgDa7S2SWlT0gAAAEANmkD62EkAa7S2UFqfNAAAADC1q6ZH2ikAa2VSGgAAAGA8TSD9j8y8tefAWkVmruatR8R63iwAAABQm00zMJeZ104GWLPVTEpHhClpAAAAYCqbdkJaIA2s3prqO/RJAwAAAFO4C6Qv7T7AukJpk9IAAADAFD4IpAH+YFIaAAAAYDg/ZOaZ/QX4wypC6Yh4WUp51VkAAAAAGM5PAmmArrVMSpuSBgAAAMb0OTNP7ThA11pCaX3SAAAAwFiaQPrYbgM8zKQ0AAAAQH8E0gDPiMx8+k8sQEQs/00CAAAAU7vKTE9rAzxj8ZPSEeFfBgAAAMDQrjypDbCdNdR3CKUBAACAIf0WSGfmrV0GeN4aQmm/pQQAAACGIpAG2JFJaQAAAID9CKQB9rDoiw4j4mUp5VtnAQAAAOAwm2YQLjOv7SPAbpY+KW1KGgAAAOjbpp2QFkgD7GHpobQ+aQAAAKBPd4H0pV0F2I9QGgAAAGA7AmmAHiy9U7q5aOBFZwEAAABgNwJpgJ4sdlI6Io4E0gAAAEAPBNIAPVpyfYfqDgAAAOBQAmmAni05lH7T+QkAAADA9gTSAAMwKQ0AAADQJZAGGMhiLzqMiOXe4AgAAAAMSSANMKBFTkpHhClpAAAAYB8CaYCBLbW+QygNAAAA7EogDTCCpYbSLjkEAAAAdiGQBhjJIjulI+K2lPKiswAAAADQJZAGGNHiJqUj4kggDQAAAGxJIA0wsiXWd6juAAAAALYhkAaYwBJDaZccAgAAAM+5EkgDTONvC9x3k9IAAADAU+4C6dsn/gwAA1ncRYcRsbybGwEAAIC+CKQBJrao+o6IUN0BAAAAPEYgDVCBpXVKq+4AAAAAHiKQBqjE0kJpk9IAAADAX33OzDcCaYA6mJQGAAAAlqwJpI+dMEA9FnPRYUS8LKV86ywAAAAAayWQBqjQkialVXcAAAAAd34SSAPU6W8LOhfVHQAAAEDjh8w8sxMAdTIpDQAAACyJQBqgckvqlF7GGwEAAAD2sWkG1jLz0u4B1G0Rk9IRoboDAAAA1ksgDTAjS6nvUN0BAAAA63TV3DMlkAaYj6VcdGhSGgAAANbnqp2QvnX2APNhUhoAAACYo88CaYB5mv1FhxHxspTyrbMAAAAALNXnzDx2ugDztIRJadUdAAAAsB4/CaQB5m0JndKqOwAAAGAdfsjMM2cNMG9CaQAAAKB2m7Y/+tJJAcyf+g4AAACgZlcCaYBlmfWkdEQ0gfSLzgIAAACwBHeB9K3TBFiOuU9Km5IGAACAZfqcmW8E0gDLM/dQWp80AAAALM/HzDx2rgDLNPeLDk1KAwAAwLL8kJlnzhRguSIzZ/vmImK+Lx4AAAC4b+NCQ4B1mG19R0So7gAAAIBlaC40fCOQBliHOXdKC6UBAABg/r60E9LXzhJgHeYcSuuTBgAAgHlrLjR8l5m3zhFgPWbbKR0Rzb+wXnQWAAAAgNo1/dEfXGgIsE5/m+O7jogjgTQAAADM0k0p5Z3+aID1mmUorU8aAAAAZumq7Y9W1wGwYnPtlNYnDQAAAPPyOTPfCKQBmGsobVIaAAAA5uOHzDx2XgCUuV50GBHzvJ0RAAAA1mXT1nXojwbgP2Y3KR0RpqQBAACgfk1/9JFAGoC/mmN9hz5pAAAAqNsn/dEAPOZvj/y8ZialAQAAoE5NXceHzDxzPgA8Zo6htElpAAAAqE9T13GsrgOA58yqviMijkoprzoLAAAAwJS+uPvOkF0AAAo1SURBVNAQgG3NrVPalDQAAADU5afMfKc/GoBtza2+Q580AAAA1KHpj27C6K/OA4BdmJQGAAAAdnVRSjkSSAOwj8jM2WxcRMznxQIAAMAyfczME2cLwL5mU98REaakAQAAYDrqOgDoxZzqO/RJAwAAwDTUdQDQmzmF0ialAQAAYHxNXcc/MvPW3gPQh9nUd5iUBgAAgFGp6wBgELOYlI6Il6WUV50FAAAAYAhf1HUAMJS51HeYkgYAAIBx/JSZ79R1ADCUudR36JMGAACAYV2VUo4z89I+AzAkk9IAAADAp+a7t0AagDFEZla/0RFR/4sEAACA+dm009Hnzg6AsVRf3xERqjsAAACgfxelFN3RAIxuDvUdQmkAAADoV3OZ4T8E0gBMYQ4XHeqTBgAAgH64zBCAyZmUBgAAgHX4mJlvBNIATK3qiw4j4mUp5VtnAQAAANjWTTsd/dWOAVCD2ielTUkDAADA/j41360F0gDUpPZOaX3SAAAAsLtNKeWdMBqAGtU+KS2UBgAAgN18KaUcCaQBqFXtndK3pZQXnQUAAADgrzZtd/R5ZwUAKlLtpHREHAmkAQAAYCt309ECaQCqV3OntOoOAAAAeJrpaABmp+ZO6TednwAAAAB3TEcDMEs1h9ImpQEAAKDrppTyv5n5LjNvO6sAULlqLzqMiHpvYAQAAIBpfCqlnAijAZizKjulI8KUNAAAAPzhpu2O/mpPAJi7Wus7hNIAAADwu4/NvUsCaQCWospJaZccAgAAQLlqp6MvbQUAS2JSGgAAAOqyKaX8lJlvBNIALFF1k9IRcVRKedFZAAAAgOX7Ukr5kJnXzhqApaqxvkN1BwAAAGtz04bR504egKWrsb5DdQcAAABr8qm9yFAgDcAqmJQGAACAaVy009F6owFYlcjMqt5vRNT1ggAAAKBfmzaMPrOvAKxRVfUdEaG6AwAAgCX7XEo5EkgDsGa11Xeo7gAAAGCJrtrp6K9OF4C1qy2UNikNAADAkqjqAIC/qKq+w6Q0AAAAC/JJVQcAdFVz0WFEvCylfOssAAAAwLxctNPRl84NALpqqu9Q3QEAAMCc3bRh9LlTBIDH1RRKq+4AAABgjpre6NPmn8y8dYIA8DST0gAAALC/z6WUk8y8tocAsJ2aOqXreCEAAADwvIs2jP5qrwBgN1VMSkeE6g4AAADm4KYNo8+cFgDsp5b6DtUdAAAA1GzTdkafOCUAOEwtobRJaQAAAGr1qZ2OdokhAPTApDQAAAA8zCWGADCAyS86jIiXpZRvnQUAAACYhksMAWBANUxKq+4AAACgBs0lhsfCaAAY1n9VsL+qOwAAAJhSE0b/kJlHAmkAGF4Nk9JCaQAAAKawaWs6Tu0+AIynhk7p5vbiF50FAAAAGEYTRjdB9Glm3tpjABjXpJPSEfFGIA0AAMBIhNEAUIGp6ztccggAAMAYPgqjAaAOU4fS+qQBAAAY0ue2N/raLgNAHUxKAwAAsETCaACo1KQXHUbEtLcsAgAAsDTCaACo3GST0hGhugMAAIC+CKMBYCamrO8QSgMAAHAoYTQAzMyUobQ+aQAAAPaxKaWcllLOhNEAMD+TdUpHxG0p5UVnAQAAAB52F0afZubtg38CAKjeJJPSEXEkkAYAAGBLwmgAWJCp6jv0SQMAAPCcm6YvupRyLowGgOWYKpTWJw0AAMBjbtrLC88eWQcAZsykNAAAALW4aMPor04EAJZrkosOI2Ka2xUBAACo0edSypkwGgDWYfRJ6YgwJQ0AAEBzeeF5Oxl9vfrdAIAVmaK+Q580AADAejV90U1X9KnLCwFgnaYIpU1KAwAArM9VG0S7vBAAVs6kNAAAAEP60obR+qIBgN+MGkpHxFEp5VVnAQAAgCXZ3Kvo0BcNAPzJ2JPSpqQBAACWq+mLPmkuMNQXDQA8ZuxQWp80AADA8qjoAAC2ZlIaAACAfTQVHadNTYeKDgBgF5GZo21YRIz3lwEAADCEizaIPrO7AMA+RpuUjghT0gAAAPPUTEWfN33RpqIBgEONWd+hTxoAAGBertqKDhcXAgC9GTOUNikNAABQv7up6ObiwkvnBQD0zaQ0AAAA5a4r2lQ0ADC0US46jIiXpZRvnQUAAACmdHNvKlpXNAAwirEmpU1JAwAA1ONLMxWdmefOBAAY21ihtD5pAACAaV219Rxn6jkAgCmZlAYAAFiuu3qOM5cWAgC1GKtTevi/BAAAgDuf2wsL1XMAANUZfFI6IlR3AAAADO9LOxV9rp4DAKjZGPUdQmkAAIBh3PVEN0H0tT0GAOZgjFBanzQAAEB/mp7oU0E0ADBXJqUBAADq58JCAGAxBr3oMCJellK+dRYAAAB4jiAaAFikoSelTUkDAABsTxANACze0KG0PmkAAICnCaIBgFURSgMAAIzvqgmhSylfBdEAwNoM3Sl9W0p50VkAAABYn4t2Ivo8M6+dPwCwVoNNSkfEkUAaAABYsU0zCX0viL71PwYAgGHrO1R3AAAAa3PXD93Ucpw7fQCAriFD6TednwAAACzPxb0gWj80AMAzTEoDAADsZnMXQqvlAADY3WAXHUbEcDcoAgAAjOviXghtGhoA4ACDTEpHhClpAABgzm7uXVL41TQ0AEB/hqrvEEoDAABzsmlD6Ltp6GunBwAwjKFCaZccAgAAtVPJAQAwgUE6pSOiebTtRWcBAABgOnchdFPH8dU5AABMo/dJ6Yg4EkgDAAAVEEIDAFRoiPoO1R0AAMAUhNAAADMwRCjtkkMAAGBo9y8mvBRCAwDMh0lpAABgDq6a8PneJPS1UwMAmKfeLzqMiP5vTgQAANZkcz+Abiehb/0vAABgGXqdlI4I1R0AAMCuLtoQ+tIUNADA8vVd36G6AwAAeMr9ALqZgL584s8CALBAfYfSJqUBAIA7AmgAADpMSgMAAIe63wHd/Oe1ABoAgMf0FkpHxFEp5VVnAQAAWJJm+vm6/cclhAAA7KzPSWlT0gAAsBxXbfB8v37DBYQAABxMKA0AAOt1V7txf/L5WvgMAMCQ+gylXXIIAAB1aio3bv8SQKvdAABgEpGZvfy9EdHPfxEAALCru4lnwTMAANXrZVI6IlR3AADAsC7a//av9/8zM7/adwAA5qSv+g7VHQAAsL+7wPlu2vlu0vk2My/tKwAAS9JXKG1SGgAA/uyuUqPcC5nLvUlnFwoCALBKJqUBAGA7N/eC5dt7gXO5FzSr0wAAgGccfNFhRLwspXzrLAAAQD2u2iD5vvvTy+WBoFl1BgAADKCPUPqolHLcWQAAgP5dPhAu33eZmU+tAwAAEzs4lAYAAAAAgG39l50CAAAAAGAsQmkAAAAAAEYjlAYAAAAAYDRCaQAAAAAARiOUBgAAAABgNEJpAAAAAABGI5QGAAAAAGA0QmkAAAAAAEYjlAYAAAAAYDRCaQAAAAAARiOUBgAAAABgNEJpAAAAAABGI5QGAAAAAGA0QmkAAAAAAMZRSvl/Znl6DqVlkFwAAAAASUVORK5CYII="},t));t.default=a},function(e,t,n){"use strict";var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(4)),o=r(n(0));var a=({title:e,...t})=>o.default.createElement("svg",(0,i.default)({version:"1.1",viewBox:"0 0 693.7 407",style:{enableBackground:"new 0 0 693.7 407"}},t),e?o.default.createElement("title",null,e):null,o.default.createElement("g",null,o.default.createElement("polygon",{points:"557.6,0 557.6,306 485.6,306 485.6,15.3 \t"}),o.default.createElement("g",null,o.default.createElement("path",{d:"M352.6,86.9c-61.3,0-111.1,49.7-111.1,111.1s49.7,111.1,111.1,111.1c61.3,0,111.1-49.7,111.1-111.1 S413.9,86.9,352.6,86.9z M352.6,234c-19.9,0-36-16.1-36-36s16.1-36,36-36s36,16.1,36,36S372.5,234,352.6,234z"}),o.default.createElement("circle",{cx:"352.6",cy:"371",r:"36"})),o.default.createElement("path",{d:"M192.4,144.2c9-14.4,14.1-31.5,14.1-49.7C206.5,42.3,164.2,0,112,0H72H0v306h72h54c52.2,0,94.5-42.3,94.5-94.5 C220.6,185.2,209.8,161.4,192.4,144.2z M72.1,72h40c12.4,0,22.5,10.1,22.5,22.5S124.5,117,112.1,117h-40V72z M126.1,234h-54v-45h54 c12.4,0,22.5,10.1,22.5,22.5S138.5,234,126.1,234z"}),o.default.createElement("path",{d:"M693.6,163V91h-36V36l-72,15.3V163l0,0v74.1c0,0.1,0,0.2,0,0.3c0,0.1,0,0.2,0,0.2c0,43.9,27.3,69.2,67.5,71.3 c0.4,0,0.9,0.1,1.3,0.1c0.2,0,0.4,0,0.7,0c0.9,0,1.7,0.1,2.6,0.1l0,0c0.3,0,0.6,0,0.9,0c20.2,0,35.1-9,35.1-9v-53 c0,0-6.8,2.1-16.1,2.1c-14.4,0-19.9-12.6-19.9-29.7V163H693.6z"})));t.default=a},function(e,t,n){"use strict";var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(4)),o=r(n(0));var a=({title:e,...t})=>o.default.createElement("svg",(0,i.default)({version:"1.1",viewBox:"0 0 1024 672",height:"100%",width:"100%"},t),e?o.default.createElement("title",null,e):null,o.default.createElement("path",{id:"path7755",d:"M92.5,0C45.8,0,0,45.8,0,92.5v124.3c0,46.7,45.8,92.5,92.5,92.5h216.8v-60.6H92.5c-30.6,0-31.8-28.6-31.9-31.9V92.5c0-3.2,1.2-31.9,31.9-31.9h216.8V0H92.5z"}),o.default.createElement("path",{id:"path7759",d:"M92.5,362.7C19.3,362.7,0,423.2,0,455.2v9.6h60.5l0.1-9.5c0-3.3,1.2-31.9,31.9-31.9h125.6c25.3,0,30.6,17.4,30.6,31.9c0,21.4-10.4,31.9-31.9,31.9H93.8C45.6,487.1,0,533,0,581.5V672h309.3v-60.6H60.6v-29.9c0-3.4,1.2-33.8,31.9-33.8h124.4c47.5,0,92.5-44.9,92.5-92.5c0-49.3-42.9-92.5-91.8-92.5H92.5z"}),o.default.createElement("path",{id:"path7763",d:"M576.1,0H451.8c-46.7,0-92.5,45.8-92.5,92.5v216.8h60.6v-82.9H608v82.9h60.6V92.5C668.6,45.8,622.8,0,576.1,0M608,165.8H419.9V92.5c0-16.1,15.8-31.9,31.9-31.9h124.4c16.7,0,31.9,15.2,31.9,31.9V165.8z"}),o.default.createElement("path",{id:"path7767",d:"M451.8,362.7c-46.7,0-92.5,45.5-92.5,91.8v125.6c0,46.3,45.8,91.8,92.5,91.8h216.8V487.1h-185v60H608v64.4H451.8c-30.8,0-32.4-27.6-32.5-30.8V455.2c0-3.2,1.2-31.9,31.9-31.9h217.5v-60.6H451.8z"}),o.default.createElement("path",{id:"path7771",d:"M998.9,156.1c11.7-10.9,29-32.2,29-63.6C1027.9,45.8,982,0,935.4,0H718.6v309.3h60.6V185h156.2c30.6,0,31.8,28.6,31.9,31.9v92.4h60.6v-91.9C1027.9,185.8,1010.7,166.1,998.9,156.1 M934.1,124.4H779.2V60.6h156.2c30.6,0,31.8,28.6,31.9,31.9C967.1,95.4,965,124.4,934.1,124.4"}),o.default.createElement("path",{id:"path7775",d:"M935.4,362.7H811c-46.7,0-92.5,45.8-92.5,92.5v124.3c0,46.7,45.8,92.5,92.5,92.5h124.3c46.7,0,92.5-45.8,92.5-92.5V455.2C1027.8,408.5,982,362.7,935.4,362.7 M967.2,579.5c0,30.7-28.7,31.8-31.9,31.9H811c-3.2-0.1-31.9-1.2-31.9-31.9V455.2c0-30.6,28.6-31.8,31.9-31.9h124.3c3.2,0.1,31.9,1.3,31.9,31.9V579.5z"}));t.default=a},function(e,t,n){"use strict";var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(4)),o=r(n(0));var a=({title:e,...t})=>o.default.createElement("svg",(0,i.default)({version:"1.1",viewBox:"0 0 693.7 407",style:{enableBackground:"new 0 0 693.7 407"}},t),e?o.default.createElement("title",null,e):null,o.default.createElement("g",null,o.default.createElement("path",{d:"M256.7,77.6c7.1-4.1,12.9-8.1,19.3-10.8c9.6-4.1,19.3-8.5,29.3-10.4c12.2-2.4,22.6,5.1,25.8,16.1 c3.4,11.6-1.6,22.4-13,28.3c-11.4,5.9-23.1,11.5-34.1,18c-6.7,3.9-12.8,9.1-18.7,14.2c-6.5,5.8-9.6,13.2-9.1,22.2 c0.4,7.8,0.2,15.7,0.1,23.6c-0.3,14.6-10.5,25.3-23.8,25.1c-13-0.2-22.8-10.8-22.9-25.3c-0.1-39.1-0.1-78.1,0-117.2 c0-13.7,9.4-23.8,22.2-24.5c12-0.7,22.2,8.2,24,21.3C256.5,64.2,256.4,70.3,256.7,77.6z"}),o.default.createElement("path",{d:"M348.8,126.8c-0.4-14.9,6.5-24.7,17.1-26c12-1.5,21.6,6.9,22.8,19.9c0.2,2.8,0.1,5.7,0.6,8.5 c3.2,20.4,19.2,33,40.4,32c19.3-0.9,34-15.6,35.5-35.4c0.2-3,0.2-6.1,0.9-9.1c2.3-10,10-16.2,19.5-16c9.5,0.2,17.4,6.5,18.9,16.7 c2.3,15.4-1.3,30-8.2,43.7c-15.4,31-48.7,47.3-83.6,41.3c-32.7-5.6-58.7-33.4-62.7-66.9C349.3,132,349,128.5,348.8,126.8z"}),o.default.createElement("path",{d:"M462.5,74.8c-10.3,0.1-18.4-7.8-18.3-18c0-10,7.7-17.8,17.7-17.9c10.1-0.2,18.5,7.9,18.5,18 C480.3,66.7,472.4,74.7,462.5,74.8z"}),o.default.createElement("path",{d:"M411.3,56.7c0.1,10.4-7.7,18.2-18.1,18.1c-9.8-0.1-17.9-8-18-17.8c-0.1-10,8.2-18.2,18.3-18.1 C403.5,39,411.2,46.6,411.3,56.7z"}),o.default.createElement("path",{d:"M692.9,54.1c-2.4-10-10.9-16.2-21-16.6c-11.4-0.4-19.5,4.7-23.4,15.2c-12.2,32.9-24.3,65.9-36.5,98.9 c-1,2.6-2.1,5.2-3.7,9.3c-1.5-3.6-2.5-5.7-3.3-7.9c-12.4-33.3-24.7-66.7-37.1-100c-4.7-12.7-17.7-18.8-30.4-14.3 c-11.8,4.1-18.2,17.5-14,30c15.6,46.8,31.3,93.5,47,140.2c1.6,4.9,3.2,9.8,5,15.4c-3.4,0.2-5.7,0.4-8.1,0.4 c-128.8,0-257.6,0-386.4,0c-8.4,0-8.4,0-8.4-8.8c0-55.9,0-111.8,0-167.6c0-2.6,0.1-5.3-0.1-7.9c-1.1-12-10.7-20.9-22.6-21.1 c-12.4-0.2-22.5,8.3-24,20.4c-0.3,2.1-0.4,4.3-0.7,7.5c-18.8-9.2-37.5-12.4-57-8.4c-19.8,4.1-36.1,14-48.7,29.8 c-21.8,27.5-25,65.5-5.9,94.3c27.7,41.7,66.2,48.8,112,31c0,8.4-0.2,16.4,0.1,24.4c0.2,4.9-1.6,6.6-6.4,6.5c-12-0.2-24-0.2-36,0 c-54.8,1-93.3,52.3-79.1,105.1c9.3,34.5,42.5,60.2,79,61.1c40.5,1,71.8-20.7,83.2-57.7c5.3-17.1,6.2-34.7,6.2-52.5c0-8.9,0-9,8.8-9 c95.8,0,191.7,0,287.5,0c44.7,0,89.5,0,134.2,0c15,0,24-5.9,28.7-20.4c19.9-61.2,40.6-122.1,60.8-183.2 C694.1,63.9,694,58.6,692.9,54.1z M84.3,349.7c-23.2-0.1-41.8-18.9-41.7-42.2c0.1-23.1,19.1-41.9,42.2-41.8 c23,0.2,42.1,19.4,41.9,42.3C126.5,331.1,107.5,349.8,84.3,349.7z M84.7,162.4c-23.3-0.1-41.9-18.8-41.8-42.1 C42.9,97.1,61.8,78.3,85,78.4c23,0.1,42.1,19.2,42,42.2C126.9,143.6,107.8,162.4,84.7,162.4z"})));t.default=a},function(e,t,n){"use strict";var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(4)),o=r(n(0));var a=({title:e,...t})=>o.default.createElement("img",(0,i.default)({alt:e?o.default.createElement("title",null,e):"Hopr Icon",height:"100%",width:"100%",src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIGlua3NjYXBlOnZlcnNpb249IjEuMGJldGExICgzMmQ0ODEyLCAyMDE5LTA5LTE5KSIKICAgc29kaXBvZGk6ZG9jbmFtZT0iMTkuMDEuMjFfZm9vdGVyLWZyb2cucG5nLnN2ZyIKICAgdmlld0JveD0iMCAwIDE5Mi42NjY2NyAxNzYuNjY2NjciCiAgIGhlaWdodD0iMTc2LjY2NjY3IgogICB3aWR0aD0iMTkyLjY2NjY3IgogICBpZD0ic3ZnNjIiCiAgIHZlcnNpb249IjEuMSI+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNjgiPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgICAgPGRjOnRpdGxlPjwvZGM6dGl0bGU+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM2NiIgLz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ic3ZnNjIiCiAgICAgaW5rc2NhcGU6d2luZG93LW1heGltaXplZD0iMCIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMjMiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjAiCiAgICAgaW5rc2NhcGU6Y3k9Ijg5Ljg2Njg5OSIKICAgICBpbmtzY2FwZTpjeD0iODcuMDczMTI3IgogICAgIGlua3NjYXBlOnpvb209IjIuNTIwMTMyNCIKICAgICBzaG93Z3JpZD0iZmFsc2UiCiAgICAgaWQ9Im5hbWVkdmlldzY0IgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9IjgwNyIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjE0NDAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMCIKICAgICBndWlkZXRvbGVyYW5jZT0iMTAiCiAgICAgZ3JpZHRvbGVyYW5jZT0iMTAiCiAgICAgb2JqZWN0dG9sZXJhbmNlPSIxMCIKICAgICBib3JkZXJvcGFjaXR5PSIxIgogICAgIGlua3NjYXBlOmRvY3VtZW50LXJvdGF0aW9uPSIwIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIgLz4KICA8ZwogICAgIGlkPSJnNzAiCiAgICAgaW5rc2NhcGU6bGFiZWw9IkltYWdlIgogICAgIGlua3NjYXBlOmdyb3VwbW9kZT0ibGF5ZXIiPgogICAgPGltYWdlCiAgICAgICBpZD0iaW1hZ2U3MiIKICAgICAgIHhsaW5rOmhyZWY9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBU0VBQUFFSkNBWUFBQURiNHBGQUFBQUFDWEJJV1hNQUFCWWxBQUFXSlFGSlVpVHdBQUFVCnpFbEVRVlI0bk8zZDJWRWN5UmJHOGRURXZBL3owcTlYdEFPU0xCQ1VBd0lMQUFzUUZpQXNRTEtBbGdVZ0I1cVdCZlE0VUxSZTYrWDIKV0hCdnBIUmFLa0V2dGVSeU11di9peUFVdzBoUTlQSnhjcW1UTHd5UW9hS3NYaHRqN01kTFk4elNHRE9mamtjem5tdDlDQ0ZrcFNpcgpVMlBNdVFUUVV3dGp6TlYwUEpyd3JPdEJDQ0VMUlZudEdXTnVqVEVIRFg0ZVd4RWRUOGVqSmM5K2ZJUVFraWNCZEwraCt0bGtLVUhVCmFZZ20zL08xaE40clk4enF2L2VrNHJJZlg0d3hkOVB4YU1HcmJETkNDRW5yR0VCMUV4bWliUTBLK1Q0MmNON0tuMjIrMzhmcGVIVEIKSzIwOVFnaEpLOHJxMmhqejNzSFBZQ3VpcjZ0SjdGcFY4MG9tdDd1RzNJcjltb2NNQVo4amhKQ3NvcXhzT0R3bWRQMTJhSGFzNERwVQorV1BvRHdDU2RwVFl4Ui9KNmgxcUNDR2s3RjJDMTM2cDRCcFVJWVNRc3IwRXIvMmxiS1NFSUlTQThKcnNaUm9NUWdncFMzV2xLY1VLCnpodENDQ2xqRTJBRy9oejZBNEQwRkdWbFY4VnVxQ2p5UUNXRXBNZ1M5eTBCbEE5Q0NNbVFWYVdiREo0eGhwRTFoQkJTY3AzSnMwVmYKb3hwdTIwQVNFcnhGWTVQRmREemExM2xwY1ZBSklSWG5tVHhUZHdxdVFSVkNDS2xJN1Q2eFRUN3B2S3g0Q0NHb0p4UFNMek40cG1ZMApPSHVPZlVKSXdVa216OUtWcnk4c1RkY3VhMzJQNXFrMFVtTmlHdW9WWmZYZ29LbFliTFlLT3ZSeERiSjM2bnJOM3FuREZFNFlvUktDCmFySXFsc05kNTg2cmtxS3NEcVQ2U2ZxR1dFSUkydVd3S2phWmprZHpWMTlNaGw2Mjh0bldJRzJaeWpsclRFeER1OVJYeFpZdXE2Q2kKck43TGZxbGRIUnFUMlFwQUpRUzFaSzRqOVZXeEt4Zk43V1hvZGRQdzhWajZuQVIzalJDQ1pxbTNRclc3b3ovMitRSXlKM2Jkc2lMOApsTkpXQUVJSUttVlNCWjMxK2NkRldYMlFPYkUySFFOczhIM284MzFESTRTZ1ZlcFYwS3pINmE1SFV2MTBDZUZld1JjRElRUjFaUEkxCitibWd0djlBaGw0M1BaYmM1Nm1zaU5VUlFsQ2x0dk0zWllzMllTQS84M3NIUC9lWEZCOHpRZ2phNU5DMnRmSHkrSmJkem9QQlBpR28KSWNPd0hPNlcvM2ZYWDdBMzVSWmxkZTg0ZEUra3Frb0tJUVFWNUU3NVhFNG4vV3ZULzdBaFVaU1ZyWHdlUE54dVllZVU3bE1MSW01ZwpSWFR5cG5uSXBGM0h5cHVudDJwSXBYY1pZT2kxbEwxQ1NTelZFMEtJU2dMb1BwT2JWSithR0dPK3llZE9Jb1RzWE82a1YzMUlKQlBUCmlPMDYwd0F5RGU3djhtMDF4RlhkVjRoS0NORVVaWFdqNEkwNkJIOXJyb2FvaEJDY0RNRnVNdW9icmQxcnpjY01FVUlJS3ZNNUlLMVUKendteFJJOWdaQm4ra1FBS2F1YXlvWm9QaEJDQ2tEdkNIemhEUGlpbkRkVjhZV0lhWGtuMWM1MTZIK1FFMlRtZ0MrMVZrQ0dFNEl2RAptekxSemxMQ1o1TEs0MFlJd2JtQU80UHgzUEYwUEVycXFHbENDRTVJNVhNazRaUFQ3UmNwc2YyRTNxUjIwU3pSbzVmYXNLdHRHMUs0CmwrUVIwNFFRT3BFdWdKZnNlRzVsTG5NMkx6MVZpMG4rRWlDRTBJcjBQejVudGFzUlc1bDgyclJYUjQ3eGVTZkRXQmVobE9Rd21Ea2gKN0NSRHJsTUpIK1o3ZGx2SWVXT05WNmlrdytLNWc0MmNxdThUVzRjUXdrYTFJZGNSOHoyTlRXU0p2Rk1RU0JqMW1kdy9USzNaUFNHRQpaNWp2NmV5aTcyR0hwdjhlSzBJSTZTSjhlcmx5M2NtdzQyNXpRZ2pwcVIyejg1Nm5yNU83NlhoMDdPdUx0OWo4YVk4YTJ2ZDFIYjV3CkErdkF5UnpFSXdIVTJkTDNxYWN5eEhzajgwMmIyT3Z3Rm9RK1VRa05GSTNGbkhFK0ROdEdsdlZYV3lUMkpIenU1RHFTM0t4SUNBMlEKekRYY3MrTFZtdzJBL2RTV3hMVmhPRFl3TXZ3aWdOeVlFRUQ5c1dONlFDU0Fib2IrT0RqME9adWZKQ0tHWXdOQkFEbVg1RXFVUmd6SApCb0FBOGlLcHZUaWFFVUtacTIxNGcxdmZlRHpkSUlReVZsdUdaeExhUFNvaFJ3aWh2RjF5dkE2MEk0UXlKZmVCc1FzYTZoRkMrZUtVCkN5U0JFTXFRVkVIY0NZOGtFRUo1T2gvNkF4QUFIU1lkaWI1alduNXIyNDlsQ3FkRkpvS2JVdjBqaEJ5SkZrTHJldGdVWlRXVHc5dTQKSDZlaldxakRyMWM4dm01RUdZNUpBTjJ2V2IwNVlHTmRieXpKaDhIajdFandFS29GMEtZbmtRblZmbmh6aFBGU3FrNzBGR000ZHNNYgpCWms0Mk5IdE1DdFNRS3pldTNOWDB5WkJRNmdvcXlhZC9MS2VuSzQ5a1FjeXI3QzM1VVRPUmUxb1gvdTQvQ3QvTHBqRVYrSGRFRUpvClE4UDlaVkZXWjlQeDZLN3YxKy9jeXFNMnNYd3FiNVF2eHBpUG05SlJBcWpKVU11ZVZublk5Ym8wa3NmS2h1K0o0NU5MNS9MeGoveG0KbWhWbDlZR05pa0VsZDloZ0d6dTZjTnFmKzAzZnRySjlLcUg2dk01citUaVJkUHg1YzErSFhzWko5c2xkcDNaKzFMbW5tMGhmMTRlMgpSVmtaZVdFZ25LUE1xNkhiTGEvZFZTSFNxOUYvcHhDUzM3YnI1blhza09LK0tLdTVWRWF2YWcyNW04cWlSVUtMWTFwYzQ0NzVzRTV5CkRhR2lySnFja2QrN3NtOGRRbEtlN1NyM1h3OTE4bG1xbjF2SHd5N29kV0JYeVZJNTZVSk82ekFOSjViZk5maVNkcFZ3cjgrUTlBL2IKZGE4b3EvL0p4ODIyWmNmYTBNcW5aSWNURXRDUEJORGdxSitEczFWTlVWYi9sV2tVKy9Fb3I5ZE5mLytneFhhWlhnWEhIMUpPcnB6Swp4VDBMb3diN2UxeEpjdFdIWTNRRzdWVHpuaUVKbEtkek8zdWJOZ2JMYS9rMjFQWDlzYUh5V0lYUlExRlcxN0t5OWNqK252VUlJQ2l2CmhqWmQyNEgwSC84cHhwRlFMeFMrZ1pJNjBGOHF4RWNDQ0hJUW9xcTVJYW5RSG5mOHRUdFpsVzR5RWIzT216NzcxdjYwLzdnb3F3dE8KWStpTUNnZ3I5ajJrYlk5Ymsvbkp2bDBYMWdhdi9JSStrQkhVMjlyLytpcjdBYjhYR3k5cS8rQmFTVHZRWkNvaFJZOFo5RGgyc1l2WQpsVUN2MGRWNStLdnROZjlwdUVMK3ZXdkdienVtaTdLNlY3Q3lrMFFJeVI2S1lKTjNTSWFxOCttVnZLZTNtVHk5aS81WXdSSzUrdFd4ClFGc1ZrQ1p0cnczdDIwV09mZ3NoU2Urb1k5cEU3c1BoTEM5c2N5UTc1cU9TYWwyOVovMkVaSmE3MTcwZ09aTW5sdmFwNlpvRk9yancKV2tFSU5ObnhITnZkeHJ2b1c5ejE3bHF2NVQ2ZldJNVBscjIzNjlQVDE1VnNUem55ZUlQeFV1WTRnNytlNVdkN0NQMTlXL28rZjdheApzK0owUERxTE5EK2orUTNPTUN3dE01a2tQbHNYQlBaejAvSEkzb3k5Yjl2UWVQako5dVNHN2hpYmZMVzNTWjVMUUM5M3RYYzlwRFhFCkR6TEdaeGlXRHR2YjZyREo1a0g3UnBpT1J4ZWVYdS9CZzBpNlhHaWVrTDZxVjRoYlEwZ21pWStEWFpwU3N1dVVSbUhwT0pOUWFVVzIKaHZnS29vZW50MGo0SU45RDYydDFJcFhwaC9vQzFNNUc5L0xFdEg1Q003T3RzUk4wc1JWUTUvNCs4dHZaMXdqZ1JtNE85L0pha2dwSQo0OWFSbWN6MW5xMnJUQnVkdGpFZGp6NE9xYUYzblV6UWMrTnVHaVpkS3FDblBBZlJxVlJGem9iMnRsS1hUWW5hS3FDWkRMdTJUczYzCk9mTG5JdEJFdFpxS1EwcGJqaUJLdzl4bHhTNXZHbDhqQUR1OHY3WEJVV3N5MXBxRXp3ZUZQYXpxNGJOek8wU3JSdmN5Ti9MZ09TaXUKWk1VaUtubHgzTWUrRGpUaWJTbThLS3ZiQUFzU2RvanlTVzdxM1BvejFBNU5lS2R3b1dRbTc5OVcrN0JhdFhlMTQ3bWlySTV6ZjNPRwpidXFFM3E0ODdzVzU2TkFudmEyWHF5WDFvcXlXcTJPZGFqZUUvaVZUQWxxUCtPNFVQaXVkanZ6eGZLeE0xRXFJQm1YSnVadU9SMTVYCmNEbEdhYU9KdkY5NzlWRHFjKzZZcnpJMTJybGpVdW8rS1AxdGcrY1dzdXJpZlM5YlVWYVB2QzYrVzlaMm9EdHA0TmJuM0xFemVWS3kKV0RtcURjRjRvYVhqT09BTnp4Y0RINkt2NXEwbXJoL3p6cFdROFRkMHNVY2M3enY4ZWpzeEJFdlNXWi85UUYwazBKdkhoNWxVUGQ0YQp0YlZab24vRzB4MzNRU3VSUUFHMFZOS3JLUmU5TmlUMmNEV1F4M2NwOTlMdHl6SzcxMDZSdlVMSS9BaWlPOWRQVHFqN2JHUWZrTzh0CkIwWithOTl4TDU0VFRqWWtkaUdyUHpsdjJwMUpVV0hENXlKVTAvNWV3N0U2eDZXcTkxSTdZSC9vMzM0VzJXdDF5eTdzVGliUzNTR2EKRE51NU9KOW9ic3RsQ0xsY1dmTDJZZ3NjQW12RHROWWVscnZ5bTRzZVFDdlNVVUY3cTR4ZDdPdnlpNGFtL001Q3lMaWZYL25iOVN5OAozSzhUcWlmUXptcE9Yc3lYVElqdnBDYUFWZ0x0cEhiTkJzNFgyVnVsWmxyQWFRaVpYL01zTHU3a2RiWnBNVUxsMFhnNEtaWFpEZWZYCmJ4UjhGYXlKZ01laTkyVVhqejVMOEtnNm1ISEZlUWdaZDYxaGw3SVJyZGNERjZIYTZQU21rU3J0bW4xS1AwVnJqZHFVNHEwZGQzTEEKb05yZ3FmTVNRdWJIRS9UZzRMZkV6eGFRSGI3L2dieXBRLzJtY3ZLbXFUV2xHbklZM1VtWXExOUpWQkpFUzFuWlVqZlVhc0puQ0xtNgo0NzVWRUVuNFhBWWUzamovclMwL3gvbkFKcStYTWd6MzBlL1pHeG1hM1FaK3pjMVh3WlBLaWNXYmVBc2g0L2FVMG9XOE9OY09jMnJ0CkRVNGl6SzEwcnRhYWVOSzZ3ZmZkM0RIWjUvWWl0ZC9pZFo2SC9zdmFNR3VXd2pDckthOGhaTnp2eDFsSStuK3JmZTV0eEVuZFdlRDcKbDNJOC83NVhHd2h0NUpmR3FmeEM3RE1Wc0pCZmNGK2I5QmxLbWZjUU12bmVjeE44MlRpUnM2U2F5aXA4MXBFcGlRT1ozM3NyZjJWUAp3bW41cEZQcDE5cm41aWxYaEcyRkNxSGNkcGxleEppM3lDVE03YkRyYzg3aGczYUNoSkRKcDEzcXNuWWZXRkFPOTEvRnNOcXI0cndOCkJOSVhMSVJNK2gzcTVoSkFNWTcwVGEyU3JDOFpaeldKQ3ZmNk5EVnJ6ZTZBTHNvcTVrUnlWN0gzcmJ4WEhFQ3JZZFhYMWNJQm9ZTTIKZ2xaQ0pyM2Y2a3VaLzRsMjI0Q3l4OHRKVDJHZ3JuYy9vYmFrbW9qU1E3cWwxYW1Sc2U5Yk9sSVUySHNFRUZ3TEhrTEcvOEZ5ZmEwbQpudytWdk9IT0ZWekRDbmY3dzdrb0lXVDBIaTI5YW1tcDRycGtYNUNtdTdScHhBYm5nazVNcjNFaEwrellMKzZaelAxbzI1VjZvdUFhCjZxaUU0RnkwU3NqOG1oK0syUUIrM3VUQS9vam92SWpzQlY4ZFd5ZkM3UWhiYjRqVlFQRXRHdnRNVHNPbHFKWFFpcWVqZzlhWlNlV2oKWnQ1bkM2MTdxV2k2QnFkVWhKRDVFVVFUbVJqMllTTEw3WWNKM2JQMHRzSGZBWklYZTJMNk4vYXNvMW9yaEw2OEhWc2JDRDJuTVFpcQpRc2o4Q0tLem9xeE14eUJheUMwV24xUHV2eUx6UWF4RVlSRFVoWkQ1RlVSZnBVZjByamZqb3RibU12b1pTbzR3NzRMQlVCbENSdWFJCmlySzZrMlhxdDAvZW1EWjQvc200NDV6bVRZRzA0b0JUS3BibzhUdk5CK3ROeHlOZU0zQkt6ZW9ZZnNOOEVBYURFTktKZTdRd0dJU1EKVHRvYm1BSE9FRUlBb2lLRWxKRTlRbHBsZS9ZVjRpR0U5TkU4S2YydmdtdEFaZ2dodE1HY0VKd2poTkFHTFR6Z0hDR0VwcGIwRVlJUApoQkNhWWxJYVhoQkNhT29yanhSOElJVFFGSlVRdkNDRTBCUXJZL0NDRUVJVDgwUzdVeUlCaEpBK0dsZWdxSUxnRFNHa2pOSmxjQ2FsCjRRMGhoQ2FvaE9BTklZUmRac3dId1NkQ1NDZE55K0ZmRkZ3RE1rWUk2YVNwOHNqbEJCTW9SUWpwcENXRTV0d3ZCdDhJSVozK1VYSlYKbnhWY0F6SkhDR0ViaG1Md2poRFNTY09TT0VNeEJFRUlZWk5QUERJSWdSQlNhRG9lYWFpRUdJb2hDRUlJNjB6WW9JaFFDQ0c5WWxaRApiRkJFTUlTUVhyRXFrY1YwUEdJb2htQUlJYjFpN1JWaWJ4Q0NJb1QwaW5YLzJNY1VIaHprZ3hEU0s4WndqQWxwQkVjSUtSVnBtWjZoCkdJTDdrNGZjcjZLc0R1UWJ2SzZkTS8rWC9IZmQ4c2s4MEZ3K0YrcHMrcm1TL1VrWUdFTElrYUtzYkZnY1NMaThOY2E4bEk4MmppTCsKQ095UVJoUXZlTmk3SzhycVNBTG5ZRTFsa3hLN0xMK2Y4UFVqWVZSQ0xSVmxkV3FNZVJlNWFuR051U0JFUXdnMVVKU1ZyWExPSlhoQwp6ZEdFc21SWkhqRVJRbHRJMVhNaXc2MWNzU3lQcUFpaE5TUjhManRNTEtlSUNXbEVSUWpWREN4OGpGUkJOQzVEVklUUXJ6bWY2OHlIClhldGM2YnNrRE0yZ1EwajI5dGpLNTcyQ3l3bU5LZ2dxRERhRVpDZnp6WUNHWGsreExBOFZCbm52V0ZGV2R1aDFQK0FBbW5HTEJyUVkKVkNWVWxKVU5uZHZFZHplN3dGd1ExQmhNQ01uazgzMkdtdzNib2dxQ0tvTVlqc25TK3dNQjlCMVZFRlRKUG9Ra2dHNFVYSW9HVkVGUQpKK3NRSW9DZW9RcUNPdG1HRUFIMERGVVFWTW95aEdvN29QRUxWUkJVeWk2RVpCZjBEWlBRdjZFS2dsbzVWa0tYN0FONmhpb0lhbVhWCjNsVTJJejRxdUJSTjdEMWlaME4vRUtCWGJwWFFwWUpyME1RMks3c1krb01BM2JLcGhLaUMxanBrTGdqYTVWUUpuU3U0QmsydUNDQ2sKSUtjUU9sVndEVnJZZWFBUFEzOFFrSVlzUWtqTy8ySkovb2NMSnFLUmtsd3FvWGNLcmlFMk8vUjZNeDJQT0w0SFNjbWxsVWRPQnhHMgpZVmUvN215WFJPWi9rS3JrUTBqYXRBNWhLTFlLbWJreDVwdjlrK0JCRG5Lb2hGSWFpczJsZW5uNnVYOXIvMTBQbGprSEV5SjNPWVJRCjEyTjZGaktVK2RMbHpTNFZtQ0VvZ0g2UzNxellZNFBpQlJPNGdBNnBWMEp0cTZDbDdDS2VlN29lQUMybHZrVGZkajdvakFBQ2RFbDIKT0NaOWcvN2I0cDl3TnptZ1VNcVZVTnVoR0QxMUFJVlNEcUUyUTdFN3psMEhkRW81aE5yc2t2N2k4VG9BOUpCa0NNbEpHbTEyU2JPegpHRkFxMVVxb3pWQnN3VkFNMEN1NUVKSlZzVFpETVFJSVVDekZTcWh0ODdLdm5xNERnQU1waHRDSmdtc0E0RWhTSVNRbnE3WTlVNHhKCmFVQ3gxQ29obXRrRG1Va21oRHBNU0s4d01RMG9sbElsMUttWlBjdnpnRzRwaFJDbnF3SVpTaUtFNUVpZmx3b3VCWUJqcVZSQ1hTZWsKV1JrRGxGTWZRcklzMzdXUE5BRGxVcWlFV0pZSE1xWTZoS1NSUFdmTUF4blRYZ214SWdaa1RtMElVUVVCdzZDNUVuSlJCYkZSRVZCTwpaUWc1cklLK09mZ2FBRHpTV2dreEZ3UU1oTG9Ra2pQZW1Rc0NCa0pqSlVRVkJBeUlxaENTZThSYzdvNSs1ZkJyQWZCQVd5VjA3ZmpyCnRXNzlBU0FzTlNGVWxOVUg3cFFIaGtkRkNNbVNQUGVJQVFPa3BSSzZadWdFREZQMEVKSWwrUzY5b3dGa0lHb0lTZlA2RzQvZmdqa20KUUxuWWxkQ2w1NkFnaEFEbG9vV1FETVBlOHdJQmhpMUtDQVVZaGdGSVJLeEt5UGN3N0NlcHVBQW9GVHlFR0lZQnFBc2FRaklNdXczOApETEQvQ0ZBc2RDVjBFeUVVWGdmK2ZnQmFDQlpDUlZtOVoxTWlnS2VDaEpBY1lPajZEdm1tM2tiNnZnQWE4QjVDa2VhQkFDUWlSQ1YwCkUzbm5Na3YwZ0dKZVEwaDZCRVdmQjVKcURJQkMza0tvS0t0VFJmMmlXU0VEbFBJU1FwRW5vdGZoUmxaQUtWK1ZVSXo5UU5zUVFvQlMKemtOSTVvRzBEWDlZcGdlVWNocENNZ0dzc1ZjMGMwS0FVcTRyb1ZPbDkycnRzVUlHNk9RNmhEUVBlNmlHQUlWY2g1RG1hb05OaTRCQwpya1BvaytJbm1TT2hBWVZldUw0azJTTzAyaVU5TjhZc3BRcDVGWG4zOUdJNkh1MUgvUDRBMW5BZVF0dklTYXVYTW9FZDNIUThDdnJ6CkF0Z3R5cHRTcXFYYndKc0lsOVB4Nk8rQTN3OUFBMUVhM1UvSEl6dE1leVBEdGE3c01PK2pNZWJRR0xNdmYzNlV6Njh6aWZHekF0Z3UKNnZCRTl1N2NkMWcrdDJGek5SMlBuZ1hPaGlIZnpCaHp2Tzd2QTRncitoeUpCTkZEdzZIWlFzSmtad1VsWWZSU2htRjlLaTRBSHFtWQpxSlZqZ081My9EV3FHU0JEYWxhTGlySzYzbkllMldRNkhwMEZ2aVFBQVVRN2kzNk5xdzJUeWdRUWtERTFJU1REckxzbm43NGdnSUM4Ci9hbnNwN3N3eG55VEcyRS9UY2VqcDZFRUlDZkdtUDhENVZMMmdTaHBoa1FBQUFBQVNVVk9SSzVDWUlJPQoiCiAgICAgICBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIgogICAgICAgaGVpZ2h0PSIxNzYuNjY2NjciCiAgICAgICB3aWR0aD0iMTkyLjY2NjY3IiAvPgogIDwvZz4KICA8cGF0aAogICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiCiAgICAgaWQ9InBhdGg5NiIKICAgICBkPSJtIDEyMi41ODg2OSwwLjIwNzM1OTY3IGMgLTIuNDc3MTcsMC4yMzE3Nzg0OCAtNC42OTkxOCwyLjMzMTY5OTUzIC01LjY0MTI5LDQuNTM5MjI3MTMgLTAuMTU4OTMsMS42ODg0MDUgLTAuMDEzMSwzLjYxMjEyOTggLTEuNzE4Miw0LjU4NjUwMjggLTIuNTc1ODYsMy4zMzkxNjE0IC0yLjk5OTcxLDcuNzgwNTAxNCAtNS4zNDgzMywxMS4yODQxMjk0IC0xLjgzMjYyLDIuNzA4NzUyIC0zLjgxODg1LDUuNTMxOTA2IC02LjcwMTUxLDcuMTUwMjMyIC0xLjM0MjM3LDEuMTI5Nzc2IC0yLjg5OTU5LDIuMDk3Nzg3IC00LjM5OTcyNCwyLjg0ODE1OCAtNS42MTAxNTgsMi42NDUzMjMgLTExLjkwNTIwOCw0LjU0NTI0OSAtMTYuNDM4MTAxLDguOTE1NTUgLTIuNjUwNzc4LDIuNDQ5MTk2IC00LjkxNTkyOSw1LjYzNDY5OSAtNC42NjcyNTEsOS40MjI5OTIgMC41MDQ4NywxLjk3MTM0MSAtMi4yMTc0MTksMS4zMDEyNjUgLTMuMzE0NDAyLDAuODUzMDAzIC00LjE4MTg0MywtMC43OTY4NTUgLTguNjA2Njc4LC0wLjcwMjM2OCAtMTIuODIzMjk4LC0wLjE1MTkwMSAtMy4zNTk5ODMsMS40MzE4NzcgLTYuOTc4MzQ0LDMuMjY0NDM2IC04LjcyMTk1MSw2LjYwNjE3NyAtMi41ODgxNzMsMy4yNjkzNTYgLTQuNTg3NTY0LDcuMDUyMTA2IC03Ljc3ODU2NCw5Ljg1NDQ3OCAtMy45NjE3MiwzLjYzODYzMSAtOC4zMTQ5MTQsNy42MDIxNDEgLTEzLjc1NTgzMiw4LjY2ODIzMiAtMi42NzQ4OSwwLjI1MzU2NiAtNS4wOTYyNzcsLTIuMDA0NDg2IC01Ljc1OTA5MSwtNC40Mjc2MjUgLTEuMTA0MTAxLC0xLjc3MDk1OSAtMC42NjM2NjksLTQuMzE3MDU1IC0xLjAxMTk4NCwtNi4zNDg5MzIgLTAuMjk1MzUsLTUuMTU1OTE2IC0wLjQwMzA3OCwtMTAuMzk5MTQ5IDAuMzg4ODc3LC0xNS41MTQwNyAtMC4yODk5NDMsLTIuMTU3MTQ1IC0zLjEzOTEwMSwtMi45MTMyNzYgLTQuNTAxMjUyLC0xLjE5OTcxMSAtMS45NjczNTUsMS41MTk4NTYgLTMuOTcyOTEsNS4xODM0NzcgLTYuODc1MTA0LDMuNTA0NTg5IEMgMTEuOTQ3Mzg3LDQ5LjUzMDMwMyA5LjYwNDczNDgsNDkuOTAwOTI3IDguNjgzMzAyNiw1MS43NTg2MjcgNy44MDM2OTI4LDUzLjA5MDYgNi4zNTMwNzk4LDU0Ljg4MDg2IDQuNjA1MjA1Nyw1My43MTYyOTggMy4zMDI3MDczLDUzLjUxNzY4MSAxLjIzNDIyODgsNTEuMTU1NjIzIDAuMzMzMzU2NTksNTIuODk0Nzg5IGMgLTAuMjAwNzU1NTEsMi45OTY5ODYgMi43MDAwNjIwMSw1LjExODIgNC4xNTc5MjI1MSw3LjQ1ODY4OCA2LjkwOTM4MTksNy45NjE1ODYgMTIuNTkzNzQ2OSwxNi45MTIxMzUgMTkuNjQ0MTUwOSwyNC43NDYwMzQgMi4zNjU1NzcsMi44OTg1NyA2LjQwNzc3NywyLjQwMDA2OCA5LjU0NDIzNCwxLjI3MjU2NCA1LjYxNDExNSwtMS44NTg4MTkgMTAuOTc0Mzc4LC00LjY3NTA5NiAxNS43NzkxODEsLTguMDEwNDkyIDMuODU5MTIzLC0zLjAwNjMwMyA3LjQ0MTk5OCwtNi4zNDg4OTcgMTAuODkxOTc2LC05LjgxMjM5IDMuMzQ3NjE3LDIuOTM5MzQyIDcuMzM5Mzg4LDUuMzg1NzQ1IDExLjY1NjkwNyw2LjQ1MzQ5OSAtMC40MDc0NzQsMS41MDcxNDMgLTIuMTIyOTQ4LDIuMDY0ODQ4IC0yLjA2NjE3MywzLjcyMDgyIC0yLjcyOTY1NCw1LjMwMDUzNSAtMi43NjA3ODQsMTEuMzg1NjcyIC0yLjk2MjcxNywxNy4yMDUxOCAtMC4wOTU3NSw0Ljc1NzcyOCAxLjE4NjIzOSw5LjQwNTQxOCAxLjIwMzQ0OCwxNC4xNjc5NTggLTYuNjkzNjMyLDAuMjAxMjggLTEzLjgzOTM2NCwwLjAzNTggLTE5LjkwNDU1MywzLjI2MzU2IC03LjQ0OTgwOCwyLjkwNzUgLTE0LjQzMzU1OCw4LjcyMDQyIC0xNi4xMjg5MjQsMTYuODY4MzQgLTAuMzcxMzg2LDEuMjUyMTUgLTAuMzM5NzMxLDIuNTExMjkgLTEuMjYzODI2LDMuNDExMzIgLTEuNDMyNDY1LDYuNTUwNTcgLTQuODY5Nzk1LDEyLjUzMDIzIC03Ljk3Nzk0MiwxOC40MzY2OCAtMS4wMzQyNTMsMS42MTQwNiAtMS44OTE1MDIsMy4yOTE4OCAtMy4xMjQ4MzYsNC43NDY5MyAtMC41OTcxNTIsMS4yNDI4NCAtMS43NTQ2NCwxLjg1NDUyIC0yLjE1ODQsMy4yMTQ3NCAtMS44NzU2NzUsMi44MDkzOCAtNS4xMTMyNjUsNS4zNDMyNyAtNC42NTkzNTMsOS4xMTAyMyAxLjA2MzMyNiwxLjUxNDI4IDMuNjI2NDk5LDAuMTU2OSA1LjIzNjczNSwxLjEwMjA2IDEuOTA1MzA1LDAuODQzNTcgMy41MTcyNzUsMi4zODY2IDQuNDE3NTUsNC4xODE5NSAwLjU0MjY4OSwwLjkxMTI4IDEuNDkxNjg4LDIuNzMyNzggMi45NzUyNiwxLjkzMjg3IDIuNjAzMTI0LC0xLjc0MDUxIDUuMDE1MTQ0LC01LjM4Nzk2IDguNjMxMjc0LC00LjI1MDkyIDEuNTk4MjUsMC40MTQ4MiAzLjcxODI5NSwxLjcwOTUgNC44NzAxNTYsLTAuMjY0MjggMS4zOTU1MjgsLTEuNjAwMjggLTAuNDc4OTQzLC0zLjczNTg0IC0wLjI0NzIyOCwtNS40NzU0NCAtMC4xODI0ODIsLTMuNDU5MzkgLTEuNDEwMDg3LC02LjYzODQ4IC0xLjMyMjU3LC0xMC4xMDE0NCAtMC40NTQ2MjEsLTcuMDk5NiAtMC4zNjI0MjIsLTE0LjM4NzYgMS4yNTgyNDQsLTIxLjM2NjI0IDAuOTM1NTY0LC0yLjY4OTE2IDMuNzA0MTMyLC00LjE2MzM1IDYuNDcyNDUxLC0zLjgwNDk5IDguNDk0ODk5LC0wLjQ2NDYzIDE3LjE1ODIyNiwwLjAzMTQgMjUuNjIwNjY2LC0xLjAwNDcyIDEuNTM4NDE5LC0wLjU5MDEzIDMuNDMyMTg5LC0wLjA0MzYgNC43Njg2MywtMS4yMDk3OSAzLjk5NjMxLC0xLjI3ODA0IDUuNDQ5NTQ4LC01LjgzNDQzIDcuMzgyOTk0LC05LjEzMjg2IDIuMzk2NTk2LC01LjAzMTcxIDQuODkyMDc2LC05Ljk5MDE5IDYuNzMwODE3LC0xNS4yNDAyMiAxLjQxNzk0OSwtMy4zMjc0OSAyLjA1NDg0OCwtNi44NjA4NTcgMy4wMzU0ODcsLTEwLjMwMTgzOSAwLjkwMjY4MywtNC45ODIyOTMgMS4wMzMxOTIsLTEwLjA2OTkyNyAwLjc1MTg1NywtMTUuMTE2MzAxIDMuMTA5NDIxLC0wLjE3Nzg0IDYuMDYxNjE1LC0xLjAxMzg0NyA5LjA0NTEzNSwtMS42NTg1MiA0LjcyNTUyLC0yLjIwODQ5OSA5LjUzMjA4LC00LjU3MDc0OCAxMi44Njc0NywtOC43Mzc5MzQgMy4yMjQ3NiwtMy4xNjkwMiA1LjI2NjI1LC04LjI1MDU5IDEwLjExNjk2LC05LjI0NDU5OCAwLjk3NzQ4LC0wLjQ3NzYwOSAyLjAwMTA0LDAuNzQ1OTY5IDMuMTEzMjIsMC43ODg5NjMgMi44NzA0MywxLjUzMTEzOCA0Ljk5MzY3LDQuMDkyMDY3IDYuMjQ1MDIsNy4wNTU2NzcgMS45Mzk4MywyLjg0NDE5NiAzLjg0NjE4LDYuMjUwMTEyIDcuMDk5MDgsNy42OTgxNjcgMS4yMDMxNiwwLjM5ODgyNCAyLjM5NzUxLDEuMDU1NDY0IDMuODAwNjQsMC44MzYyMzQgMS4wMTg2NCwwLjIwMjUwMSAxLjg5MjQ4LDAuOTA1OTAxIDIuOTQxMTYsMC4yNDY0NTEgNC42NDUxLC0wLjU4MDU2MSA5LjI4Njk3LC0xLjI5MTA4MyAxMy42NzUwNywtMi45OTQ2MzIgOS42NTQ2NCwtMi45MDAxNzMgMTguOTg3NTksLTYuOTM0NDQ5IDI3LjgyMTIzLC0xMS44MTAzNjQgMC44Mzc1MywtMC43ODI3NzYgMi4yMjkxMSwtMS4wNjY1MTEgMi4zNTgzNiwtMi4zMTQ5NSAxLjYxMzg2LC0xLjM5NjQwMyAtMS4xMjM2NiwtMy4wNTkzMjMgLTIuMzY2MTEsLTMuNDc5MDE1IC0yLjUwMTIzLC0wLjU0NDA0MyAtNS4xNDYzNywxLjIzMzY1NyAtNy41NzU3MSwwLjM0ODc1NSAtMC4xNzgxLC0yLjM2NDg3NiAtMC4yNDY5NSwtNi4wNjk0MzkgLTMuMDU4MTgsLTYuNzg1MjAzIC0yLjYwNTc4LC0wLjUyNDA0OCAtMy43NDMyLDIuMTAzNDA5IC00Ljc5MzQ0LDMuOTA2ODE4IC0wLjg4NjgxLDEuNDM4OTY1IC0zLjQxNTEsMi43ODgxNCAtNC4yNTQwMiwwLjUyMTU4NCAtMS4xOTc4LC0yLjQxOTY2MiAtNC40ODA2NiwtMC44NzQ4MjcgLTQuNzA5NzMsMS4zOTI2ODkgLTAuODA3MzIsMi44NTIzNSAtMS41NTE2Nyw1Ljk1NTk1MyAtNC4yMTgzNyw3LjY4MDMzOSAtNC45NzQ2NCwzLjYyMzk0NCAtMTIuNDU0MzMsMi4zMTI2MjggLTE2LjQ4NzU0LC0yLjIzOTAwMiAtMS4yOTU3OSwtMS4xMjU2MjcgLTIuMzkwMDEsLTIuNDgwMjAzIC0zLjEyNjM5LC0zLjk2MjYyMSAtMS44MTgxMiwtMi4wOTk3ODcgLTIuNzkwNzUsLTUuMDI5MTAxIC0zLjY0ODc0LC03LjY5MTE4NyAtMC40MTMwNCwtMy4xOTEyODUgLTEuMTg4NTYsLTYuNjA4ODI0IDAuMzA3NjgsLTkuNjA3Nzg1IDEuNTI0MjUsLTQuODczNDggNy44MjYyLC04LjA0MTQyMyAxMi40MTA5OSwtNS4xNzkzODUgMy4wMDgxMiwxLjM5MTg1IDUuNjEzOTMsMy45OTI4OTEgOC44ODkzNiw0LjYwNTg3OCAyLjQzNjA5LC0wLjU4MDM0NCAzLjk3NjksLTMuMjM2NzIzIDIuODI4NzgsLTUuNTgxNjE0IC0xLjM5NjU4LC0yLjY3NTkxOCAyLjg1NTc3LC0zLjMzNTk0MSAzLjI3OTg0LC01LjU5MDEzOSAxLjA1OTMsLTIuNzY0ODk0IC0yLjIyNjAxLC0zLjY5MzY2NyAtMy40NjY2MiwtNS40NjQ1ODggLTAuMjcwNDgsLTIuNTU2OTUyIDIuNzgyNDgsLTQuNDY3OTQgMi4zNjY4OCwtNi45OTY3OCAtMS42OTY5OCwtMS43Njc1OTIgLTQuMjM4MzIsLTAuMTMyMjA5IC01Ljc3MDY5LDEuMDM1OTA0IC00LjM3ODM0LDIuNjA0NTE2IC04LjkwNTQ0LDUuMDIzNTQ5IC0xMy4xNDI2Myw3Ljc5Njg3MiAtMS40MDAzLDAuNjE0NDM5IC00LjEzNjM3LDAuNDEzNjYzIC0zLjQyODY0LC0xLjc3Mzk5NSAxLjMzODY4LC00Ljg0Mjg1NSA1LjgxMjU3LC04LjgzNDU3MSA1LjAxODE4LC0xNC4yMTU5ODg3IDAuMjgyMjMsLTIuOTMyODYxIC0yLjQ0NzM5LC01LjQ0Mzc4NTcgLTUuMTY4NTMsLTUuNzA5NDkwNCAtMS4yNDEyOCwtMS4wMjgzMzYyNyAtMi43ODA4NSwwLjY2MDk2NTYgLTQuMjIyMjUsMC4yNjExNzggLTMuMDU5MjMsMS4xOTk1MjYgLTYuNTY0OSwxLjEyODYxMjUgLTkuNzkzNzksMC42NjM0MDc2IC0xLjQ4MjgzLC0xLjUyNDkwNzggLTMuNzc0NDQsLTIuNjI2MDE4NDQgLTUuOTExNzYsLTIuNjkwMDU1ODMgeiBNIDM3LjcyNzUzNiwxNjEuMzUzNDEgYyAwLjE0ODA4OSwwLjA5MjEgLTAuMTc2NzIsLTAuMDczNCAwLDAgeiIKICAgICBzdHlsZT0iZmlsbDojMDAwMDAwO3N0cm9rZS13aWR0aDowLjM5NjgwNSIgLz4KPC9zdmc+Cg=="},t));t.default=a},function(e,t,n){"use strict";var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(4)),o=r(n(0));var a=({title:e,...t})=>o.default.createElement("svg",(0,i.default)({version:"1.1",viewBox:"0 0 1186 406.9",style:{enableBackground:"new 0 0 1186 406.9"}},t),e?o.default.createElement("title",null,e):null,o.default.createElement("g",null,o.default.createElement("path",{d:"M476.4,292.1l-1.3-105.8c0-50.5-51.8-58.5-124.8-58.5c-25.9,0-31.2,9.8-31.2,16.9c0,19,20.4,16.9,40.2,16.9 c17.7,0,34.9,0.5,34.9,13.8c0,13.5-5.6,17.2-37,17.2c-75.4,0-106.3,36.5-102.1,68.2c4,30.9,35.4,49.7,87.8,49.7h108.7 C467.7,310.9,478.2,306.1,476.4,292.1 M382.5,276.8c-24.6,11.6-50.3,8.7-57.4-6.1c-6.9-14.8,7.4-36.2,32.3-47.6 c24.6-11.6,50.3-8.7,57.4,6.1C421.6,244,407.4,265.4,382.5,276.8"}),o.default.createElement("path",{d:"M202.9,235.8c-2.6-3.4-3.4-7.7-3.4-12.7c0-5.6,4.5-11.9,14-19.8c7.1-4.5,12.2-7.9,15.9-10.6 c4.5-3.4,7.1-5.6,13.2-13.5c7.1-10.6,10.6-21.2,10.6-33.1c0-46.6-37.8-72.7-102.9-72.7H76.5c-32.8,0-74.6,6.6-74.6,71.9v137.5 c0,26.4,14,27.2,37,27.2c20.1,0,41.3-3.4,41.3-21.7v-41.3c0-10.1,7.9-17.2,18.2-17.2c15.6,0,16.9,3.4,39.4,30.4l31.7,36 c7.1,6.9,17.5,14,32.5,14h31.7c15.9,0,25.7-4.2,23.8-11.4C252.9,285.2,202.9,235.8,202.9,235.8 M134.7,184.7 c-29.1,13.5-59.2,10.3-67.4-7.1s8.7-42.6,37.8-56.1s59.2-10.3,67.4,7.1C180.7,146.1,163.8,171,134.7,184.7"}),o.default.createElement("path",{d:"M664.4,277h-32.8c-16.4,0-43.1-0.5-22.2-21.2c3.7-3.7,68.5-74.1,68.5-74.1c12.4-12.4,23.5-20.6,29.6-36.8 c4-10.8-4.8-17.2-19.8-17.2H552c-15.9,0-25.9,6.3-25.9,16.4c0,11.9,10.3,17.2,22.5,17.2h14.5c15.3,0,45.8-1.3,32.3,12.2 c-7.7,7.4-81.5,82.8-81.5,82.8c-12.7,11.6-24.1,27-24.1,37.3c0,14.3,6.6,17.5,22,17.5h141.8c21.4,0,41.5-5.8,43.1-16.7 C698,285.5,682.4,277,664.4,277"}),o.default.createElement("path",{d:"M1106.1,128.4c-17.2,0-37.6-1.9-78.8,5.8c-41,7.7-52.9,15.3-52.9,32.3v116.9c0,17.7,4.8,27.2,40.7,27.2 c37.6,0,42.8-8.7,42.8-25.9l-0.3-20.4c0-71.9-7.4-95.7,40.7-102.6c38.4-5.3,85.4,20.4,85.4-11.4 C1183.9,137.7,1152.4,128.4,1106.1,128.4"}),o.default.createElement("path",{d:"M953,190l-0.3-1.1l-0.3-1.3c-12.7-40.7-73.3-62.2-118.8-62.2H825c-45.2,0-105.8,21.4-118.5,62.2L706,189 l-0.3,1.1c-2.6,9.5-4.2,19.6-4.2,29.9c0,10.6,1.3,20.4,4,30.2l0.5,1.6c11.6,41.3,72.7,61.9,118.5,61.9h9 c46.8,0,110.3-21.7,119.8-64.8c2.4-9.3,3.7-19,3.7-28.8C957,209.6,955.6,199.5,953,190 M849.8,262.2c-38.6,18-79.1,13.8-89.9-9.3 c-10.8-23.3,11.9-56.9,50.5-74.9c38.9-18,79.1-13.8,89.9,9.5C911.2,210.7,888.7,244.2,849.8,262.2"})));t.default=a},function(e,t,n){"use strict";var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(4)),o=r(n(0));var a=({title:e,...t})=>o.default.createElement("svg",(0,i.default)({viewBox:"0 0 83.7 85.1",height:"100%",width:"100%"},t),e?o.default.createElement("title",null,e):null,o.default.createElement("path",{d:"M42.9,331l-4.5-15a3,3,0,0,1,.6-2.6l18.9-21.2a2.43,2.43,0,0,1,2.4-.8l10.2,2,2.9-15.9H32.6a10.82,10.82,0,0,0-10.7,10.9v49.87Z",transform:"translate(-21.9 -277.5)"}),o.default.createElement("path",{d:"M75,344.3l16.8-19-7.2-23.7-10-2-4.7,26.2a2.49,2.49,0,0,1-1.7,2l-18.7,6.5,1.6,5.2Z",transform:"translate(-21.9 -277.5)"}),o.default.createElement("path",{d:"M94.9,277.5H78.6l-3.1,17,11.6,2.3a2.63,2.63,0,0,1,2,1.8l8.1,26.6a2.61,2.61,0,0,1-.6,2.6L77.8,349.1a2.43,2.43,0,0,1-2.4.8l-26.9-5.4a2.63,2.63,0,0,1-2-1.8l-2-6.6-22.6,7.77v7.83a10.82,10.82,0,0,0,10.7,10.9H94.9a10.82,10.82,0,0,0,10.7-10.9V288.4A10.82,10.82,0,0,0,94.9,277.5Z",transform:"translate(-21.9 -277.5)"}),o.default.createElement("path",{d:"M60.7,296.9l-16.8,19L48,329.3s17.1-6,17-5.9l4.5-24.7Z",transform:"translate(-21.9 -277.5)"}));t.default=a},function(e,t,n){"use strict";var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(4)),o=r(n(0));var a=({title:e,...t})=>o.default.createElement("svg",(0,i.default)({version:"1.1",viewBox:"0 0 1186 406.9",style:{enableBackground:"new 0 0 1186 406.9"}},t),e?o.default.createElement("title",null,e):null,o.default.createElement("g",null,o.default.createElement("path",{d:"M1182,335.7c-14.6,0-29.1,0-44.2,0c-1-8.4-2-16.7-3.1-25.5c-0.7,0.8-1,1.1-1.3,1.5 c-11.6,16.4-27.8,25.2-47.4,27.6c-20.3,2.6-40-0.1-58.6-8.9c-25.2-11.9-41.2-31.8-48.4-58.5c-6.4-23.6-6-47.3,1.4-70.6 c10.8-34,34.7-53.5,69.4-60.3c20.2-3.9,39.8-2.2,58.6,6.7c10,4.7,18.9,10.8,25.2,20.1c0.1,0.2,0.5,0.3,1,0.7c0-35,0-69.7,0-104.8 c16,0,31.6,0,47.3,0C1182,154.4,1182,245,1182,335.7z M1072.1,183.7c-17.8,0.6-34.7,9.6-44.4,30.1c-4.9,10.4-6.1,21.6-4.9,33.1 c4.2,39.3,42,58.6,75.7,44.7c20.1-8.4,30.3-24.4,32.8-45.8C1135.2,212.1,1110.1,183.7,1072.1,183.7z"}),o.default.createElement("path",{d:"M236.8,62.4c0,34.2,0.1,68.4,0.1,102.7c0,1.1,0,2.2,0,4c1.5-1.8,2.6-2.9,3.6-4.1 c13.2-15.1,29.9-22.9,49.8-24.1c14.2-0.8,28.1,0.6,41.2,6.4c19.7,8.7,31.2,24.4,37.5,44.3c4.3,13.6,5.8,27.6,5.8,41.8 c0,33,0,65.9,0,98.9c0,0.9-0.1,1.9-0.2,3c-15.7,0-31.2,0-47.3,0c0-1.3,0-2.6,0-4c0-31.8,0.1-63.6-0.1-95.4c0-6.7-0.7-13.6-2.3-20.2 c-5.8-24.4-25.1-32.4-45.3-30.6c-24.3,2.2-39.4,22.1-42.1,43.9c-0.5,3.8-0.6,7.7-0.6,11.6c0,30.1,0,60.3,0,90.4c0,1.3,0,2.7,0,4.3 c-15.8,0-31.4,0-47.3,0c-0.1-1.2-0.2-2.5-0.2-3.7c0-88.8,0-177.5,0-266.3c0-1,0.1-2.1,0.2-3.1C205.4,62.4,221.1,62.4,236.8,62.4z"}),o.default.createElement("path",{d:"M81.5,342.6c-6.5-0.8-13.1-1.4-19.6-2.5c-22.1-3.9-40.8-14.2-56.4-30.1c-1-1-1.8-1.9-0.7-3.4 c7.4-10.7,14.7-21.4,22.1-32.3c0.6,0.4,1,0.6,1.3,0.9c19.3,17.3,42.3,25,67.8,25.7c8.6,0.2,16.8-2.4,23.7-7.9 c4-3.1,6.9-7.1,7.6-12.2c1.2-8.5-2.1-14.4-10.1-17.8c-8.9-3.9-18.5-4.3-28-5.1c-17.1-1.4-33.9-4.5-49.3-12.5 c-15.3-8-25.9-19.8-28.8-37.3c-4-24.2,5.8-44.7,27.1-57c12.5-7.3,26.2-11.1,40.6-12.3c18.5-1.7,36.9-0.6,54.6,5.4 c12.1,4.1,22.7,10.7,32.4,19.4c-8.8,10.4-17.5,20.7-26.3,31.2c-0.6-0.4-1.1-0.6-1.4-1c-12-11-26.5-15.9-42.5-15.9 c-7.7,0-15.4,1.3-23,2.3c-2.1,0.3-4.2,1.4-6.1,2.4c-5.6,2.9-9.2,7.3-9.3,13.8c-0.2,6.7,3,11.6,8.7,14.9c6.1,3.6,12.9,4.9,19.8,5.7 c13.1,1.7,26.2,2.8,39.2,5.2c7.1,1.3,14.1,4.1,20.7,7.2c19,9.2,28.3,25,29.1,45.7c1.2,29-14.4,51.2-42.9,61.3 c-9.1,3.3-18.6,5.1-28.2,5.8c-1,0.1-2.1,0.3-3.1,0.5C94.1,342.6,87.8,342.6,81.5,342.6z"}),o.default.createElement("path",{d:"M962.5,256.6c-49.8,0-99.2,0-149.3,0c1.1,3.9,1.8,7.5,3.2,10.8c6.4,15.5,18.8,24,34.6,27.7 c21.2,5,41.4,1.8,60.5-8.3c3.6-1.9,6.7-4.6,10.1-6.9c9.7,9.9,19.5,19.9,29.6,30.2c-0.3,0.4-1.1,1.3-2,2.1 c-14,13.1-30.8,20.7-49.3,25c-23.3,5.4-46.6,5.2-69.5-2.1c-36.4-11.6-57.3-37.1-64.1-74.2c-3.7-20.1-2.9-40.1,4-59.5 c12.4-34.8,37.5-54.8,73.4-61.7c19.1-3.6,38.2-2.9,56.9,2.6c32.4,9.4,51.5,31.4,59.4,63.7c3.7,15.4,4,31.1,3,46.8 C963,253.9,962.7,255.1,962.5,256.6z M814.5,216.8c34.3,0,68.2,0,102.3,0c-0.1-0.9-0.1-1.6-0.2-2.2c-0.1-0.7-0.2-1.4-0.4-2.2 c-3.3-14.2-11.9-23.7-25.5-28.7c-10.5-3.9-21.5-4.7-32.5-3.1c-20.1,2.8-34.9,12.7-42.5,32.2C815.2,214,814.9,215.3,814.5,216.8z"}),o.default.createElement("path",{d:"M667.7,335.6c-15.9,0-31.4,0-47.2,0c0-64,0-127.9,0-192c1.1-0.1,2.1-0.2,3.1-0.2c12.6,0,25.2,0,37.7-0.1 c2.3,0,3.1,0.6,3.3,2.9c0.8,6,1.9,12,2.9,18.3c0.6-0.6,1.1-0.8,1.3-1.2c10.4-15.8,25.3-23.6,43.9-24.8c17-1.1,33.2,1.6,48,10.5 c3.3,2,6.2,4.6,9.3,7c-1.4,3.5-2.6,7-4.3,10.3c-4.8,9.6-9.8,19.2-14.8,28.7c-0.5,0.9-1,1.8-1.7,2.9c-1.5-1.1-2.9-2.1-4.1-3.1 c-16.5-13.1-44.5-11.1-58.7-1.4c-11.2,7.6-16.5,18.6-18.1,31.6c-0.5,4.1-0.6,8.3-0.6,12.5c0,31.2,0,62.4,0,93.6 C667.7,332.5,667.7,333.9,667.7,335.6z"}),o.default.createElement("path",{d:"M551.2,143.5c-0.5,8.4-1,16.7-1.6,25c-0.2,0.1-0.5,0.2-0.7,0.3c-0.2-0.4-0.4-0.8-0.6-1.1 c-8.5-12.7-20.6-20.3-34.8-24.9c-15.8-5.1-31.8-4.9-47.8-1.8c-34.6,6.6-59,25.9-70.7,59.6c-6.4,18.3-7.2,37.3-5,56.4 c2,17,7.2,32.8,16.8,47.1c23.9,35.2,73,43.7,103.7,33.8c13.9-4.5,26.3-11.4,35.3-23.4c1.2-1.6,2.3-3.4,3.8-5.7 c0.8,9.4,1.6,18.1,2.3,26.7c15.1,0,29.8,0,44.4,0c0-64.2,0-128,0-191.9C581.2,143.5,566.4,143.5,551.2,143.5z M548.4,246.2 c-0.7,7.8-2.7,15.3-6.3,22.2c-9.5,18.3-24.7,27.9-45.2,29.2c-23.1,1.5-46.3-9.1-55.7-33.4c-2.8-7.1-3.8-14.9-5.6-22.4 c0.3-0.1,0.6-0.1,0.9-0.2c-0.6-25.4,10.7-46.4,33-55.7c23-9.6,50.1-4.2,65.2,13.5C546.1,212.9,549.9,228.9,548.4,246.2z"})));t.default=a},function(e,t,n){"use strict";var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(4)),o=r(n(0));var a=({title:e,...t})=>o.default.createElement("svg",(0,i.default)({version:"1.1",viewBox:"0 0 976 406.9",style:{enableBackground:"new 0 0 976 406.9"}},t),e?o.default.createElement("title",null,e):null,o.default.createElement("g",null,o.default.createElement("path",{d:"M645.8,364.7c2.5-10.4,4.8-20.8,7.4-31.2c13.8-55.4,27.6-110.7,41.4-166.1c4.6-18.5,9.3-37.1,13.8-55.6 c0.7-2.9,1.7-3.6,4.7-2.9c24.2,6.1,48.4,12.2,72.7,18.1c2.8,0.7,4,2,4.7,4.7c19.8,70.6,39.7,141.1,59.6,211.7 c0.4,1.3,0.9,2.6,2.3,3.9c1.7-6.8,3.5-13.6,5.2-20.4c13.8-55.6,27.7-111.3,41.5-166.9c0.6-2.5,1.5-4.3,4.6-3.5 c21.7,5.5,43.4,11,65.1,16.4c0.4,0.1,0.8,0.4,1.1,0.6c0,0.9,0,1.7,0,2.6c-0.6,1.6-1.4,3.1-1.8,4.7C955.1,233.4,942,286,928.9,338.6 c-2.2,8.7-4.1,17.4-6.1,26.1c-46.3,0-92.6,0-138.9,0c-11.2-39.8-22.3-79.5-33.9-120.6c-0.9,3-1.6,4.7-2,6.5 c-3.2,12.9-6.4,25.7-9.6,38.6c-6.3,25.2-12.6,50.4-18.9,75.5C695,364.7,670.4,364.7,645.8,364.7z"}),o.default.createElement("path",{d:"M123.5,42.3c-1.4,1.5-2.9,2.8-4.1,4.4c-7,9.3-6.4,20.9,2.8,27.9c7.4,5.6,15.9,10.1,24.4,14 c16.2,7.3,33,13.4,49.3,20.8c14,6.4,26.6,15,37.6,25.9c22,21.7,29.1,48.1,24.3,78c-2.7,17-8.5,32.8-18.8,46.8 c-15.6,21.1-37.2,32.1-62.6,36.9c-7.8,1.5-14.7-1.1-21.8-2.8c-32.6-8-65.1-16.3-97.6-24.2c-6.8-1.7-11.5-6.2-16.4-10.4 c-19-16.4-31-36.7-33.6-62.1c-0.1-1.1-0.6-2.2-0.9-3.3c0-3.7,0-7.4,0-11.1c0.9-4.6,1.9-9.2,2.6-13.8c0.6-3.8,1.9-5.3,6.2-4.2 c20.8,5.4,41.8,10.6,62.7,15.7c3,0.7,4.5,1.8,3.5,5.3c-0.6,2.1-0.4,4.6,0.2,6.7c2.3,9.4,8.7,15.9,16.2,21.4 c15.1,10.9,32.3,15.5,50.7,15.8c8.2,0.1,16.2-1.5,23.4-5.9c13.2-8.1,16.6-24.8,7.2-37.1c-3-3.9-6.6-7.8-10.8-10.2 c-9.2-5.1-18.6-10-28.4-13.7c-21.4-8.1-42.6-16.5-61.3-30c-26.9-19.4-41.1-44.9-37.5-78.9c0.4-4,1-7.9,1.5-11.8 C69.2,42.3,96.3,42.3,123.5,42.3z"}),o.default.createElement("path",{d:"M525.7,364.7c21-84.6,42.1-169.1,63.1-253.7c2.3-9.1,4.7-18.2,6.9-27.4c0.7-3,1.9-3.6,4.8-2.9 c20.7,5.3,41.5,10.5,62.3,15.6c2.8,0.7,3.6,1.6,2.9,4.7c-13.4,53.5-26.7,107.1-40,160.7c-8.3,33.4-16.6,66.7-24.9,100.1 c-0.2,0.9-0.3,1.9-0.4,2.9C575.5,364.7,550.6,364.7,525.7,364.7z"}),o.default.createElement("path",{d:"M270.2,42.3c6.1,16.9,6.4,34,2.3,51.4c-0.9,3.8-2.4,4.7-6.2,3.7c-20.6-5.2-41.3-10.2-61.9-15.1 c-3.3-0.8-4.9-1.8-3.9-5.8c2.8-10.9-2.3-19.2-9.7-26.3c-3.2-3-7.1-5.3-10.6-7.9C210.1,42.3,240.1,42.3,270.2,42.3z"}),o.default.createElement("path",{d:"M546.3,138.9c-4.1-45.4-33.5-79.7-77.7-90.9c-7-1.8-14-3.8-21-5.8c-38.9,0-77.8,0-116.6,0 c-0.2,0.4-0.4,0.8-0.5,1.2c-14.8,59.5-29.6,119-44.4,178.5c-7.8,31.1-15.6,62.2-23.3,93.4c-1.4,5.5-1.3,5.5,4,6.9 c19.6,4.9,39.3,9.9,58.9,14.8c5.4,1.4,5.5,1.4,7-4.4c6.3-25,12.5-50.1,18.8-75.1c2-8.1,4.1-16.2,6.1-24.4c1.5,0.2,2.5,0.2,3.5,0.4 c17.4,4.3,35,8.4,52.3,13.2c19.7,5.4,39.3,6.6,59.1,0.9C519.1,234.3,550.8,187.8,546.3,138.9z M459.2,176.5 c-8.1,5.8-17.2,7.4-26.9,5c-18.3-4.6-36.6-9.1-54.8-13.7c-0.9-0.2-1.9-0.6-3.4-1.2c5.6-22.6,11.2-45.1,16.9-67.9 c12.1,3,23.7,5.8,35.3,8.7c7.5,1.8,15,3.7,22.4,5.6c15.5,3.9,23.7,14.6,25.9,29.6C476.9,156.9,470.9,168.2,459.2,176.5z"})));t.default=a},function(e,t,n){"use strict";var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(4)),o=r(n(0));var a=({title:e,...t})=>o.default.createElement("svg",(0,i.default)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 926.91 321.78",height:"100%",width:"100%"},t),e?o.default.createElement("title",null,e):null,o.default.createElement("path",{d:"M53.33,229.81A79.25,79.25,0,0,0,69.6,256.47a70,70,0,0,0,24.63,16.95,80.36,80.36,0,0,0,31,5.88,76.61,76.61,0,0,0,30.51-6.1A75,75,0,0,0,180.55,256,77.86,77.86,0,0,0,197,229.58a95.52,95.52,0,0,0,5.88-34.35V0h47.45V316.35h-47V287a109,109,0,0,1-37.29,25.76,118.16,118.16,0,0,1-46.32,9A125.42,125.42,0,0,1,72.54,313a110.58,110.58,0,0,1-38-25.08A118.32,118.32,0,0,1,9.27,248.79Q0,226,0,197.95V0H47.45V195.24A97.36,97.36,0,0,0,53.33,229.81Z"}),o.default.createElement("path",{d:"M332.17,0V115.24a120.88,120.88,0,0,1,36.61-25.08A109.74,109.74,0,0,1,414,80.9a119.18,119.18,0,0,1,47.45,9.49,119.55,119.55,0,0,1,64.18,64.18,118.06,118.06,0,0,1,9.49,47,116.44,116.44,0,0,1-9.49,46.77,120.14,120.14,0,0,1-64.17,63.95A119.18,119.18,0,0,1,414,321.78a111.31,111.31,0,0,1-45.42-9.27,120.06,120.06,0,0,1-36.83-25.08v28.92H286.52V0h45.64Zm5.2,232.75a78.63,78.63,0,0,0,16.95,25.31,81.78,81.78,0,0,0,25.31,17.17,76.94,76.94,0,0,0,31.18,6.33,75.83,75.83,0,0,0,30.73-6.33,79.06,79.06,0,0,0,25.08-17.17,83.82,83.82,0,0,0,16.95-25.31,76.93,76.93,0,0,0,6.33-31.18,78.54,78.54,0,0,0-6.33-31.41,83.07,83.07,0,0,0-16.95-25.53,76.09,76.09,0,0,0-25.08-16.95,79.45,79.45,0,0,0-86.77,16.95,81.07,81.07,0,0,0-17.17,25.53,78.54,78.54,0,0,0-6.33,31.41A79.38,79.38,0,0,0,337.36,232.75Z"}),o.default.createElement("path",{d:"M560.84,155a123,123,0,0,1,24.86-38.19A119.57,119.57,0,0,1,716.31,90.39a109.34,109.34,0,0,1,36.61,25.08,114.65,114.65,0,0,1,24,38,129.58,129.58,0,0,1,8.59,47.68V216H597.9a77.29,77.29,0,0,0,9,26,78.34,78.34,0,0,0,16.95,20.79,77.45,77.45,0,0,0,23,13.78,75.27,75.27,0,0,0,27.34,5q41.13,0,66.43-33.9l33,24.4a122.74,122.74,0,0,1-42.48,36.15q-25.31,13.11-56.94,13.11a127.27,127.27,0,0,1-48.13-9A117.2,117.2,0,0,1,587.28,287a120.06,120.06,0,0,1-26-38.19A123.31,123.31,0,0,1,560.84,155Zm63.5-17.85q-19.21,16-25.53,42.71H739.36q-5.88-26.66-25.08-42.71t-45-16Q643.55,121.12,624.34,137.16Z"}),o.default.createElement("path",{d:"M870.87,142.36q-14.46,15.82-14.46,42.93V316.35H810.76V85.87H856v28.47a64.24,64.24,0,0,1,22.37-22.15q13.78-8.14,32.77-8.14h15.82v42.48h-19Q885.33,126.54,870.87,142.36Z"}));t.default=a},function(e,t,n){"use strict";t.__esModule=!0,t.uncontrolledPropTypes=function(e,t){var n={};return Object.keys(e).forEach((function(e){n[o(e)]=i})),n},t.isProp=function(e,t){return void 0!==e[t]},t.defaultKey=o,t.isReactComponent=function(e){return!!(e&&e.prototype&&e.prototype.isReactComponent)};var r;(r=n(118))&&r.__esModule;var i=function(){};function o(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){function t(t,n,r,i,o,a){var s=i||"<<anonymous>>",l=a||r;if(null==n[r])return t?new Error("Required "+o+" `"+l+"` was not specified in `"+s+"`."):null;for(var c=arguments.length,u=Array(c>6?c-6:0),d=6;d<c;d++)u[d-6]=arguments[d];return e.apply(void 0,[n,r,s,o,l].concat(u))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}},function(e,t,n){n(710),e.exports=n(138).parseInt},function(e,t,n){var r=n(162),i=n(711);r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(e,t,n){var r=n(257).parseInt,i=n(712).trim,o=n(464),a=/^[-+]?0[xX]/;e.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(e,t){var n=i(String(e),3);return r(n,t>>>0||(a.test(n)?16:10))}:r},function(e,t,n){var r=n(162),i=n(357),o=n(258),a=n(464),s="["+a+"]",l=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),u=function(e,t,n){var i={},s=o((function(){return!!a[e]()||""!=""[e]()})),l=i[e]=s?t(d):a[e];n&&(i[n]=l),r(r.P+r.F*s,"String",i)},d=u.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(c,"")),e};e.exports=u},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return e.replace(r,(function(e,t){return t.toUpperCase()}))};var r=/-(.)/g;e.exports=t.default},function(e,t,n){"use strict";var r=n(36);t.__esModule=!0,t.default=function(e){return(0,i.default)(e).replace(o,"-ms-")};var i=r(n(715)),o=/^ms-/;e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return e.replace(r,"-$1").toLowerCase()};var r=/([A-Z])/g;e.exports=t.default},function(e,t,n){"use strict";var r=n(36);t.__esModule=!0,t.default=function(e){if(!e)throw new TypeError("No Element passed to `getComputedStyle()`");var t=e.ownerDocument;return"defaultView"in t?t.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):window.getComputedStyle(e,null):{getPropertyValue:function(t){var n=e.style;"float"==(t=(0,i.default)(t))&&(t="styleFloat");var r=e.currentStyle[t]||null;if(null==r&&n&&n[t]&&(r=n[t]),a.test(r)&&!o.test(t)){var s=n.left,l=e.runtimeStyle,c=l&&l.left;c&&(l.left=e.currentStyle.left),n.left="fontSize"===t?"1em":r,r=n.pixelLeft+"px",n.left=s,c&&(l.left=c)}return r}}};var i=r(n(465)),o=/^(top|right|bottom|left)$/,a=/^([+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|))(?!px)[a-z%]+$/i;e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return"removeProperty"in e.style?e.style.removeProperty(t):e.style.removeAttribute(t)},e.exports=t.default},function(e,t,n){"use strict";var r=n(36);t.__esModule=!0,t.default=t.animationEnd=t.animationDelay=t.animationTiming=t.animationDuration=t.animationName=t.transitionEnd=t.transitionDuration=t.transitionDelay=t.transitionTiming=t.transitionProperty=t.transform=void 0;var i,o,a,s,l,c,u,d,f,p,m,h=r(n(163)),g="transform";if(t.transform=g,t.animationEnd=a,t.transitionEnd=o,t.transitionDelay=u,t.transitionTiming=c,t.transitionDuration=l,t.transitionProperty=s,t.animationDelay=m,t.animationTiming=p,t.animationDuration=f,t.animationName=d,h.default){var y=function(){for(var e,t,n=document.createElement("div").style,r={O:function(e){return"o"+e.toLowerCase()},Moz:function(e){return e.toLowerCase()},Webkit:function(e){return"webkit"+e},ms:function(e){return"MS"+e}},i=Object.keys(r),o="",a=0;a<i.length;a++){var s=i[a];if(s+"TransitionProperty"in n){o="-"+s.toLowerCase(),e=r[s]("TransitionEnd"),t=r[s]("AnimationEnd");break}}!e&&"transitionProperty"in n&&(e="transitionend");!t&&"animationName"in n&&(t="animationend");return n=null,{animationEnd:t,transitionEnd:e,prefix:o}}();i=y.prefix,t.transitionEnd=o=y.transitionEnd,t.animationEnd=a=y.animationEnd,t.transform=g=i+"-"+g,t.transitionProperty=s=i+"-transition-property",t.transitionDuration=l=i+"-transition-duration",t.transitionDelay=u=i+"-transition-delay",t.transitionTiming=c=i+"-transition-timing-function",t.animationName=d=i+"-animation-name",t.animationDuration=f=i+"-animation-duration",t.animationTiming=p=i+"-animation-delay",t.animationDelay=m=i+"-animation-timing-function"}var v={transform:g,end:o,property:s,timing:c,delay:u,duration:l};t.default=v},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return!(!e||!r.test(e))};var r=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var r;(r=n(2))&&r.__esModule;t.timeoutsShape=null;t.classNamesShape=null},function(e,t,n){n(722),e.exports=n(138).Array.isArray},function(e,t,n){var r=n(162);r(r.S,"Array",{isArray:n(723)})},function(e,t,n){var r=n(455);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){"use strict";t.__esModule=!0;var r=c(n(2)),i=c(n(285)),o=c(n(0)),a=c(n(50)),s=c(n(286)),l=c(n(223));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var n,r;u(this,t);for(var i=arguments.length,c=Array(i),f=0;f<i;f++)c[f]=arguments[f];return n=r=d(this,e.call.apply(e,[this].concat(c))),r._mountOverlayTarget=function(){r._overlayTarget||(r._overlayTarget=document.createElement("div"),r._portalContainerNode=(0,s.default)(r.props.container,(0,l.default)(r).body),r._portalContainerNode.appendChild(r._overlayTarget))},r._unmountOverlayTarget=function(){r._overlayTarget&&(r._portalContainerNode.removeChild(r._overlayTarget),r._overlayTarget=null),r._portalContainerNode=null},r._renderOverlay=function(){var e=r.props.children?o.default.Children.only(r.props.children):null;if(null!==e){r._mountOverlayTarget();var t=!r._overlayInstance;r._overlayInstance=a.default.unstable_renderSubtreeIntoContainer(r,e,r._overlayTarget,(function(){t&&r.props.onRendered&&r.props.onRendered()}))}else r._unrenderOverlay(),r._unmountOverlayTarget()},r._unrenderOverlay=function(){r._overlayTarget&&(a.default.unmountComponentAtNode(r._overlayTarget),r._overlayInstance=null)},r.getMountNode=function(){return r._overlayTarget},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this._isMounted=!0,this._renderOverlay()},t.prototype.componentDidUpdate=function(){this._renderOverlay()},t.prototype.componentWillReceiveProps=function(e){this._overlayTarget&&e.container!==this.props.container&&(this._portalContainerNode.removeChild(this._overlayTarget),this._portalContainerNode=(0,s.default)(e.container,(0,l.default)(this).body),this._portalContainerNode.appendChild(this._overlayTarget))},t.prototype.componentWillUnmount=function(){this._isMounted=!1,this._unrenderOverlay(),this._unmountOverlayTarget()},t.prototype.render=function(){return null},t}(o.default.Component);f.displayName="Portal",f.propTypes={container:r.default.oneOfType([i.default,r.default.func]),onRendered:r.default.func},t.default=f,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=p(n(29)),o=p(n(2)),a=p(n(285)),s=n(0),l=p(s),c=p(n(50)),u=p(n(726)),d=p(n(286)),f=p(n(223));function p(e){return e&&e.__esModule?e:{default:e}}function m(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var h=function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r));return i.getTarget=function(){var e=i.props.target,t="function"==typeof e?e():e;return t&&c.default.findDOMNode(t)||null},i.maybeUpdatePosition=function(e){var t=i.getTarget();(i.props.shouldUpdatePosition||t!==i._lastTarget||e)&&i.updatePosition(t)},i.state={positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null},i._needsFlush=!1,i._lastTarget=null,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.updatePosition(this.getTarget())},t.prototype.componentWillReceiveProps=function(){this._needsFlush=!0},t.prototype.componentDidUpdate=function(e){this._needsFlush&&(this._needsFlush=!1,this.maybeUpdatePosition(this.props.placement!==e.placement))},t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,o=m(e,["children","className"]),a=this.state,c=a.positionLeft,u=a.positionTop,d=m(a,["positionLeft","positionTop"]);delete o.target,delete o.container,delete o.containerPadding,delete o.shouldUpdatePosition;var f=l.default.Children.only(t);return(0,s.cloneElement)(f,r({},o,d,{positionLeft:c,positionTop:u,className:(0,i.default)(n,f.props.className),style:r({},f.props.style,{left:c,top:u})}))},t.prototype.updatePosition=function(e){if(this._lastTarget=e,e){var t=c.default.findDOMNode(this),n=(0,d.default)(this.props.container,(0,f.default)(this).body);this.setState((0,u.default)(this.props.placement,t,e,n,this.props.containerPadding))}else this.setState({positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null})},t}(l.default.Component);h.propTypes={target:o.default.oneOfType([a.default,o.default.func]),container:o.default.oneOfType([a.default,o.default.func]),containerPadding:o.default.number,placement:o.default.oneOf(["top","right","bottom","left"]),shouldUpdatePosition:o.default.bool},h.displayName="Position",h.defaultProps={containerPadding:0,placement:"right",shouldUpdatePosition:!1},t.default=h,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n,o,a){var s="BODY"===o.tagName?(0,r.default)(n):(0,i.default)(n,o),c=(0,r.default)(t),u=c.height,d=c.width,f=void 0,p=void 0,m=void 0,h=void 0;if("left"===e||"right"===e){p=s.top+(s.height-u)/2,f="left"===e?s.left-d:s.left+s.width;var g=function(e,t,n,r){var i=l(n),o=i.scroll,a=i.height,s=e-r-o,c=e+r-o+t;return s<0?-s:c>a?a-c:0}(p,u,o,a);p+=g,h=50*(1-2*g/u)+"%",m=void 0}else{if("top"!==e&&"bottom"!==e)throw new Error('calcOverlayPosition(): No such placement of "'+e+'" found.');f=s.left+(s.width-d)/2,p="top"===e?s.top-u:s.top+s.height;var y=function(e,t,n,r){var i=l(n).width,o=e-r,a=e+r+t;if(o<0)return-o;if(a>i)return i-a;return 0}(f,d,o,a);f+=y,m=50*(1-2*y/d)+"%",h=void 0}return{positionLeft:f,positionTop:p,arrowOffsetLeft:m,arrowOffsetTop:h}};var r=s(n(468)),i=s(n(727)),o=s(n(469)),a=s(n(223));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=void 0,n=void 0,i=void 0;if("BODY"===e.tagName)t=window.innerWidth,n=window.innerHeight,i=(0,o.default)((0,a.default)(e).documentElement)||(0,o.default)(e);else{var s=(0,r.default)(e);t=s.width,n=s.height,i=(0,o.default)(e)}return{width:t,height:n,scroll:i}}e.exports=t.default},function(e,t,n){"use strict";var r=n(36);t.__esModule=!0,t.default=function(e,t){var n,r={top:0,left:0};"fixed"===(0,c.default)(e,"position")?n=e.getBoundingClientRect():(t=t||(0,a.default)(e),n=(0,o.default)(e),"html"!==function(e){return e.nodeName&&e.nodeName.toLowerCase()}(t)&&(r=(0,o.default)(t)),r.top+=parseInt((0,c.default)(t,"borderTopWidth"),10)-(0,s.default)(t)||0,r.left+=parseInt((0,c.default)(t,"borderLeftWidth"),10)-(0,l.default)(t)||0);return(0,i.default)({},n,{top:n.top-r.top-(parseInt((0,c.default)(e,"marginTop"),10)||0),left:n.left-r.left-(parseInt((0,c.default)(e,"marginLeft"),10)||0)})};var i=r(n(4)),o=r(n(468)),a=r(n(728)),s=r(n(469)),l=r(n(729)),c=r(n(232));e.exports=t.default},function(e,t,n){"use strict";var r=n(36);t.__esModule=!0,t.default=function(e){var t=(0,i.default)(e),n=e&&e.offsetParent;for(;n&&"html"!==a(e)&&"static"===(0,o.default)(n,"position");)n=n.offsetParent;return n||t.documentElement};var i=r(n(200)),o=r(n(232));function a(e){return e.nodeName&&e.nodeName.toLowerCase()}e.exports=t.default},function(e,t,n){"use strict";var r=n(36);t.__esModule=!0,t.default=function(e,t){var n=(0,i.default)(e);if(void 0===t)return n?"pageXOffset"in n?n.pageXOffset:n.document.documentElement.scrollLeft:e.scrollLeft;n?n.scrollTo(t,"pageYOffset"in n?n.pageYOffset:n.document.documentElement.scrollTop):e.scrollLeft=t};var i=r(n(287));e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=c(n(224)),i=c(n(2)),o=c(n(0)),a=c(n(50)),s=c(n(470)),l=c(n(223));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,i));return o.addEventListeners=function(){var e=o.props.event,t=(0,l.default)(o);o.documentMouseCaptureListener=(0,s.default)(t,e,o.handleMouseCapture,!0),o.documentMouseListener=(0,s.default)(t,e,o.handleMouse),o.documentKeyupListener=(0,s.default)(t,"keyup",o.handleKeyUp)},o.removeEventListeners=function(){o.documentMouseCaptureListener&&o.documentMouseCaptureListener.remove(),o.documentMouseListener&&o.documentMouseListener.remove(),o.documentKeyupListener&&o.documentKeyupListener.remove()},o.handleMouseCapture=function(e){var t;o.preventMouseRootClose=!!((t=e).metaKey||t.altKey||t.ctrlKey||t.shiftKey)||!function(e){return 0===e.button}(e)||(0,r.default)(a.default.findDOMNode(o),e.target)},o.handleMouse=function(e){!o.preventMouseRootClose&&o.props.onRootClose&&o.props.onRootClose(e)},o.handleKeyUp=function(e){27===e.keyCode&&o.props.onRootClose&&o.props.onRootClose(e)},o.preventMouseRootClose=!1,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.props.disabled||this.addEventListeners()},t.prototype.componentDidUpdate=function(e){!this.props.disabled&&e.disabled?this.addEventListeners():this.props.disabled&&!e.disabled&&this.removeEventListeners()},t.prototype.componentWillUnmount=function(){this.props.disabled||this.removeEventListeners()},t.prototype.render=function(){return this.props.children},t}(o.default.Component);u.displayName="RootCloseWrapper",u.propTypes={onRootClose:i.default.func,children:i.default.element,disabled:i.default.bool,event:i.default.oneOf(["click","mousedown"])},u.defaultProps={event:"click"},t.default=u,e.exports=t.default},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getSummaryMode=void 0;var l=n(148),c=s(n(0)),u=n(6),d=s(n(7)),f=a(n(63)),p=n(87);function m(e,t){switch(e.mode){case"BICYCLE":return t.formatMessage({defaultMessage:p.defaultMessages["otpUi.AccessLegBody.summaryMode.bike"],description:"Bike to somewhere",id:"otpUi.AccessLegBody.summaryMode.bike"});case"BICYCLE_RENT":return t.formatMessage({defaultMessage:p.defaultMessages["otpUi.AccessLegBody.summaryMode.bikeshare"],description:"Bikeshare to somewhere",id:"otpUi.AccessLegBody.summaryMode.bikeshare"});case"CAR":return e.rideHailingEstimate?t.formatMessage({defaultMessage:p.defaultMessages["otpUi.AccessLegBody.summaryMode.carHail"],description:"Ride in a car/taxi to somewhere",id:"otpUi.AccessLegBody.summaryMode.carHail"}):t.formatMessage({defaultMessage:p.defaultMessages["otpUi.AccessLegBody.summaryMode.carDrive"],description:"Drive somewhere",id:"otpUi.AccessLegBody.summaryMode.carDrive"});case"MICROMOBILITY":case"MICROMOBILITY_RENT":case"SCOOTER":return t.formatMessage({defaultMessage:p.defaultMessages["otpUi.AccessLegBody.summaryMode.escooter"],description:"Use an e-scooter",id:"otpUi.AccessLegBody.summaryMode.escooter"});case"WALK":return t.formatMessage({defaultMessage:p.defaultMessages["otpUi.AccessLegBody.summaryMode.walk"],description:"Walk to somewhere",id:"otpUi.AccessLegBody.summaryMode.walk"});default:return e.mode}}t.getSummaryMode=m,t.default=function(e){var t=e.className,n=e.config,i=e.leg,o=e.style,a=(0,u.useIntl)(),s=r(r({},i.to),{vertexType:"BIKESHARE"===i.to.vertexType?"VEHICLE":i.to.vertexType}),h=m(i,a),g=c.default.createElement(f.LegDescriptionPlace,null,(0,p.getPlaceName)(s,n.companies,a)),y=i.to.stopId===i.from.stopId;return c.default.createElement("span",{className:t,style:o},i.distance>0?c.default.createElement(u.FormattedMessage,{defaultMessage:"{mode} {distance} to {place}",description:"Summarizes an access leg, including distance",id:"otpUi.AccessLegBody.summaryAndDistance",values:{distance:(0,l.humanizeDistanceString)(i.distance,!1,a),duration:(null==n?void 0:n.formatDuration)&&n.formatDuration(i.duration,a,!1),mode:h,place:g}}):y?c.default.createElement(u.FormattedMessage,{defaultMessage:"Transfer, wait {duration}",description:"Summarizes a transfer leg",id:"otpUi.AccessLegBody.transfer",values:{duration:a.formatMessage({id:"otpUi.ItineraryBody.common.durationShort"},r({approximatePrefix:!1},d.default.time.toHoursMinutesSeconds(i.duration)))}}):c.default.createElement(u.FormattedMessage,{defaultMessage:"{mode} to {place}",description:"Summarizes an access leg",id:"otpUi.AccessLegBody.summary",values:{mode:h,place:g}}))}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Action=void 0;var i,o=r(n(0)),a=n(6);!function(e){e.circleClockwise="CIRCLE_CLOCKWISE",e.circleCounterClockwise="CIRCLE_COUNTERCLOCKWISE",e.continue="CONTINUE",e.enterStation="ENTER_STATION",e.exitStation="EXIT_STATION",e.followSigns="FOLLOW_SIGNS",e.hardLeft="HARD_LEFT",e.hardRight="HARD_RIGHT",e.left="LEFT",e.right="RIGHT",e.slightlyLeft="SLIGHTLY_LEFT",e.slightlyRight="SLIGHTLY_RIGHT",e.uTurnLeft="UTURN_LEFT",e.uTurnRight="UTURN_RIGHT"}(i=t.Action||(t.Action={})),t.default=function(e){var t=e.action;switch(t){case i.circleClockwise:return o.default.createElement(a.FormattedMessage,{defaultMessage:t,description:"Step action circle clockwise",id:"otpUi.AccessLegBody.step.circleClockwise"});case i.circleCounterClockwise:return o.default.createElement(a.FormattedMessage,{defaultMessage:t,description:"Step action circle counter-clockwise",id:"otpUi.AccessLegBody.step.circleCounterClockwise"});case i.continue:return o.default.createElement(a.FormattedMessage,{defaultMessage:t,description:"Step action continue",id:"otpUi.AccessLegBody.step.continue"});case i.hardLeft:return o.default.createElement(a.FormattedMessage,{defaultMessage:t,description:"Step action hard left",id:"otpUi.AccessLegBody.step.hardLeft"});case i.hardRight:return o.default.createElement(a.FormattedMessage,{defaultMessage:t,description:"Step action hard right",id:"otpUi.AccessLegBody.step.hardRight"});case i.left:return o.default.createElement(a.FormattedMessage,{defaultMessage:t,description:"Step action left",id:"otpUi.AccessLegBody.step.left"});case i.right:return o.default.createElement(a.FormattedMessage,{defaultMessage:t,description:"Step action right",id:"otpUi.AccessLegBody.step.right"});case i.slightlyLeft:return o.default.createElement(a.FormattedMessage,{defaultMessage:t,description:"Step action slightly left",id:"otpUi.AccessLegBody.step.slightlyLeft"});case i.slightlyRight:return o.default.createElement(a.FormattedMessage,{defaultMessage:t,description:"Step action slightly right",id:"otpUi.AccessLegBody.step.slightlyRight"});case i.uTurnLeft:return o.default.createElement(a.FormattedMessage,{defaultMessage:t,description:"Step action u-turn left",id:"otpUi.AccessLegBody.step.uTurnLeft"});case i.uTurnRight:return o.default.createElement(a.FormattedMessage,{defaultMessage:t,description:"Step action u-turn right",id:"otpUi.AccessLegBody.step.uTurnRight"});case i.enterStation:return o.default.createElement(a.FormattedMessage,{defaultMessage:t,description:"Step action enter station",id:"otpUi.AccessLegBody.step.enterStation"});case i.exitStation:return o.default.createElement(a.FormattedMessage,{defaultMessage:t,description:"Step action exit station",id:"otpUi.AccessLegBody.step.exitStation"});default:return o.default.createElement(o.default.Fragment,null)}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Heading=void 0;var i,o=r(n(0)),a=n(6);!function(e){e.east="EAST",e.north="NORTH",e.northeast="NORTHEAST",e.northwest="NORTHWEST",e.south="SOUTH",e.southeast="SOUTHEAST",e.southwest="SOUTHWEST",e.west="WEST"}(i=t.Heading||(t.Heading={})),t.default=function(e){var t=e.heading;switch(t){case i.east:return o.default.createElement(a.FormattedMessage,{defaultMessage:t,description:"Compass direction east",id:"otpUi.AccessLegBody.stepHeading.east"});case i.north:return o.default.createElement(a.FormattedMessage,{defaultMessage:t,description:"Compass direction north",id:"otpUi.AccessLegBody.stepHeading.north"});case i.northeast:return o.default.createElement(a.FormattedMessage,{defaultMessage:t,description:"Compass direction northeast",id:"otpUi.AccessLegBody.stepHeading.northeast"});case i.northwest:return o.default.createElement(a.FormattedMessage,{defaultMessage:t,description:"Compass direction northwest",id:"otpUi.AccessLegBody.stepHeading.northwest"});case i.south:return o.default.createElement(a.FormattedMessage,{defaultMessage:t,description:"Compass direction south",id:"otpUi.AccessLegBody.stepHeading.south"});case i.southeast:return o.default.createElement(a.FormattedMessage,{defaultMessage:t,description:"Compass direction southeast",id:"otpUi.AccessLegBody.stepHeading.southeast"});case i.southwest:return o.default.createElement(a.FormattedMessage,{defaultMessage:t,description:"Compass direction southwest",id:"otpUi.AccessLegBody.stepHeading.southwest"});case i.west:return o.default.createElement(a.FormattedMessage,{defaultMessage:t,description:"Compass direction west",id:"otpUi.AccessLegBody.stepHeading.west"});default:throw new Error("Invalid heading: ".concat(t))}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),o=n(6),a=n(87);t.default=function(e){var t=e.rawStreetName;switch(t){case"road":return i.default.createElement(o.FormattedMessage,{defaultMessage:a.defaultMessages["otpUi.AccessLegBody.unnamedRoad"],description:"Text for an unnamed road",id:"otpUi.AccessLegBody.unnamedRoad"});case"path":return i.default.createElement(o.FormattedMessage,{defaultMessage:a.defaultMessages["otpUi.AccessLegBody.unnamedPath"],description:"Text for an unnamed path",id:"otpUi.AccessLegBody.unnamedPath"});default:return i.default.createElement(i.default.Fragment,null,t)}}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(42),l=a(n(71)),c=a(n(0)),u=n(6),d=a(n(736)),f=o(n(63)),p=n(87);function m(e,t){switch(e){case"BICYCLE":return t.formatMessage({defaultMessage:p.defaultMessages["otpUi.ItineraryBody.travelByMode.bike"],description:"Travel by bike",id:"otpUi.ItineraryBody.travelByMode.bike"});case"CAR":return t.formatMessage({defaultMessage:p.defaultMessages["otpUi.ItineraryBody.travelByMode.car"],description:"Travel by car",id:"otpUi.ItineraryBody.travelByMode.car"});case"MICROMOBILITY":case"SCOOTER":return t.formatMessage({defaultMessage:p.defaultMessages["otpUi.ItineraryBody.travelByMode.escooter"],description:"Travel by e-scooter",id:"otpUi.ItineraryBody.travelByMode.escooter"});case"WALK":return t.formatMessage({defaultMessage:p.defaultMessages["otpUi.ItineraryBody.travelByMode.walk"],description:"Travel by walking",id:"otpUi.ItineraryBody.travelByMode.walk"});default:return e}}t.default=function(e){var t=e.interline,n=e.isDestination,r=e.leg,i=e.LegIcon,o=e.toRouteAbbreviation,a=r.mode,h=r.routeColor,g=r.transitLeg,y=(0,u.useIntl)(),v=y.formatMessage({defaultMessage:p.defaultMessages["otpUi.ItineraryBody.travelBy"],description:"Instructs to travel using a mode",id:"otpUi.ItineraryBody.travelBy"},{mode:m(a,y)}),b=(0,s.getLegRouteShortName)(r);return c.default.createElement(f.LegLine,null,!n&&c.default.createElement(f.InnerLine,{mode:a,routeColor:h}),c.default.createElement(f.LineBadgeContainer,null,!t&&!n&&g&&c.default.createElement(d.default,{abbreviation:o(parseInt(b,10)||b),color:h,name:(0,s.getLegRouteLongName)(r)||""}),!t&&!n&&!g&&c.default.createElement(f.AccessBadge,{"aria-label":v,mode:a,routeColor:h},c.default.createElement(i,{leg:r,title:v,width:"66%"})),n&&c.default.createElement(f.Destination,null,c.default.createElement(l.default,{size:25,type:"to"}))))}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(0)),l=o(n(63));t.default=function(e){var t=e.color,n=void 0===t?"#084c8d":t,r=e.abbreviation,i=e.name;return s.default.createElement(l.RouteBadge,{routeColor:n},s.default.createElement(l.SRHidden,null,r),s.default.createElement(l.SROnly,null,i))}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(0)),l=n(6),c=o(n(63)),u=n(87),d=a(n(473));t.default=function(e){var t=e.config,n=e.interline,r=e.place;return s.default.createElement(s.default.Fragment,null,s.default.createElement(d.default,{config:t,interline:n,place:r}),r.stopId&&!n&&s.default.createElement(c.StopIdSpan,null,s.default.createElement(l.FormattedMessage,{defaultMessage:u.defaultMessages["otpUi.TransitLegBody.stopIdBasic"],description:"Displays a stop id",id:"otpUi.TransitLegBody.stopIdBasic",values:{stopId:r.stopId.split(":")[1]}})))}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(42),l=a(n(0)),c=o(n(63)),u=a(n(362));t.default=function(e){var t=e.leg,n=(0,s.getLegRouteShortName)(t);return l.default.createElement(c.LegDescriptionForTransit,null,n&&l.default.createElement("div",null,l.default.createElement(c.LegDescriptionRouteShortName,null,n)),l.default.createElement(c.LegDescriptionRouteLongName,null,l.default.createElement(u.default,{leg:t})))}},function(e,t){e.exports=function(e,t,n,r){var i=e[0],o=e[1],a=!1;void 0===n&&(n=0),void 0===r&&(r=t.length);for(var s=(r-n)/2,l=0,c=s-1;l<s;c=l++){var u=t[n+2*l+0],d=t[n+2*l+1],f=t[n+2*c+0],p=t[n+2*c+1];d>o!=p>o&&i<(f-u)*(o-d)/(p-d)+u&&(a=!a)}return a}},function(e,t){e.exports=function(e,t,n,r){var i=e[0],o=e[1],a=!1;void 0===n&&(n=0),void 0===r&&(r=t.length);for(var s=r-n,l=0,c=s-1;l<s;c=l++){var u=t[l+n][0],d=t[l+n][1],f=t[c+n][0],p=t[c+n][1];d>o!=p>o&&i<(f-u)*(o-d)/(p-d)+u&&(a=!a)}return a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=u(i),a=u(n(2)),s=u(n(354)),l=u(n(371)),c=u(n(742));function u(e){return e&&e.__esModule?e:{default:e}}var d={debounce:l.default,throttle:c.default},f={position:"absolute",width:0,height:0,visibility:"hidden",display:"none"},p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.createResizeObserver=function(e){var t=n.props,r=t.handleWidth,i=t.handleHeight,o=t.onResize;e.forEach((function(e){var t=e.contentRect,a=t.width,s=t.height,l=r&&n.width!==a,c=i&&n.height!==s;n.skipOnMount||!l&&!c||o(a,s),n.width=a,n.height=s,n.skipOnMount=!1}))};var r=e.skipOnMount,i=e.refreshMode,o=e.refreshRate;n.width=void 0,n.height=void 0,n.skipOnMount=r;var a=d[i]&&d[i](n.createResizeObserver,o)||n.createResizeObserver;return n.ro=new s.default(a),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){var e=this.props.resizableElementId,t=e?document.getElementById(e):this.el.parentElement;this.ro.observe(t)}},{key:"componentWillUnmount",value:function(){var e=this.props.resizableElementId,t=e?document.getElementById(e):this.el.parentElement;this.ro.unobserve(t)}},{key:"render",value:function(){var e=this;return o.default.createElement("div",{style:f,ref:function(t){e.el=t}})}}]),t}(i.PureComponent);t.default=p,p.propTypes={handleWidth:a.default.bool,handleHeight:a.default.bool,skipOnMount:a.default.bool,refreshRate:a.default.number,refreshMode:a.default.string,resizableElementId:a.default.string,onResize:a.default.func},p.defaultProps={handleWidth:!1,handleHeight:!1,skipOnMount:!1,refreshRate:1e3,refreshMode:void 0,resizableElementId:"",onResize:function(e){return e}}},function(e,t,n){(function(t){var n="Expected a function",r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt,l="object"==typeof t&&t&&t.Object===Object&&t,c="object"==typeof self&&self&&self.Object===Object&&self,u=l||c||Function("return this")(),d=Object.prototype.toString,f=Math.max,p=Math.min,m=function(){return u.Date.now()};function h(e,t,r){var i,o,a,s,l,c,u=0,d=!1,h=!1,v=!0;if("function"!=typeof e)throw new TypeError(n);function b(t){var n=i,r=o;return i=o=void 0,u=t,s=e.apply(r,n)}function w(e){return u=e,l=setTimeout(E,t),d?b(e):s}function x(e){var n=e-c;return void 0===c||n>=t||n<0||h&&e-u>=a}function E(){var e=m();if(x(e))return _(e);l=setTimeout(E,function(e){var n=t-(e-c);return h?p(n,a-(e-u)):n}(e))}function _(e){return l=void 0,v&&i?b(e):(i=o=void 0,s)}function A(){var e=m(),n=x(e);if(i=arguments,o=this,c=e,n){if(void 0===l)return w(c);if(h)return l=setTimeout(E,t),b(c)}return void 0===l&&(l=setTimeout(E,t)),s}return t=y(t)||0,g(r)&&(d=!!r.leading,a=(h="maxWait"in r)?f(y(r.maxWait)||0,t):a,v="trailing"in r?!!r.trailing:v),A.cancel=function(){void 0!==l&&clearTimeout(l),u=0,i=c=o=l=void 0},A.flush=function(){return void 0===l?s:_(m())},A}function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=o.test(e);return n||a.test(e)?s(e.slice(2),n?2:8):i.test(e)?NaN:+e}e.exports=function(e,t,r){var i=!0,o=!0;if("function"!=typeof e)throw new TypeError(n);return g(r)&&(i="leading"in r?!!r.leading:i,o="trailing"in r?!!r.trailing:o),h(e,t,{leading:i,maxWait:t,trailing:o})}}).call(this,n(93))},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AccessibilityRating=void 0;var s=a(n(0)),l=a(n(477));t.AccessibilityRating=l.default;var c=a(n(744)),u=o(n(63));function d(){}function f(e){return e.toString()}t.default=function(e){var t,n=e.accessibilityScoreGradationMap,r=e.AlertBodyIcon,i=e.AlertToggleIcon,o=e.alwaysCollapseAlerts,a=void 0!==o&&o,l=e.className,p=e.config,m=e.defaultFareSelector,h=e.diagramVisible,g=e.frameLeg,y=void 0===g?d:g,v=e.itinerary,b=e.LegIcon,w=e.LineColumnContent,x=e.mapillaryCallback,E=e.mapillaryKey,_=e.PlaceName,A=e.RouteDescription,O=e.RouteDescriptionFooter,S=e.routingType,T=void 0===S?"ITINERARY":S,I=e.setActiveLeg,k=e.setLegDiagram,C=e.setViewedTrip,M=e.showAgencyInfo,N=e.showAlertEffectiveDateTimeText,j=e.showApproximateAccessLegTravelTimes,L=e.showElevationProfile,R=e.showLegIcon,D=e.showMapButtonColumn,P=void 0===D||D,B=e.showViewTripButton,F=e.TimeColumnContent,U=e.toRouteAbbreviation,z=void 0===U?f:U,V=e.TransitLegSubheader,G=e.TransitLegSummary,H=[],W=!1;return v.legs.forEach((function(e,o){function l(l){H.push(s.default.createElement(c.default,{accessibilityScoreGradationMap:n,AlertToggleIcon:i,AlertBodyIcon:r,alwaysCollapseAlerts:a,key:o+(l?1:0),config:p,defaultFareSelector:m,diagramVisible:h,followsTransit:W,frameLeg:y,isDestination:l,lastLeg:t,leg:e,LegIcon:b,legIndex:o,LineColumnContent:w,mapillaryCallback:x,mapillaryKey:E,PlaceName:_,RouteDescription:A,RouteDescriptionFooter:O,routingType:T,setActiveLeg:I,setLegDiagram:k,setViewedTrip:C,showApproximateAccessLegTravelTimes:j,showAgencyInfo:M,showAlertEffectiveDateTimeText:N,showElevationProfile:L,showLegIcon:R,showMapButtonColumn:P,showViewTripButton:B,TimeColumnContent:F,toRouteAbbreviation:z,TransitLegSubheader:V,TransitLegSummary:G}))}l(!1),o===v.legs.length-1&&l(!0),e.transitLeg&&(W=!0),t=e})),s.default.createElement(u.ItineraryBody,{className:l},H)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(7)),c=s(n(0)),u=n(6),d=s(n(475)),f=s(n(745)),p=a(n(63)),m=s(n(750)),h=s(n(477)),g=n(87);t.default=function(e){var t=e.accessibilityScoreGradationMap,n=e.AlertBodyIcon,i=e.AlertToggleIcon,o=e.alwaysCollapseAlerts,a=e.config,s=e.defaultFareSelector,y=e.diagramVisible,v=e.followsTransit,b=e.frameLeg,w=e.isDestination,x=e.lastLeg,E=e.leg,_=e.LegIcon,A=e.legIndex,O=e.LineColumnContent,S=e.mapillaryCallback,T=e.mapillaryKey,I=e.PlaceName,k=e.RouteDescription,C=e.RouteDescriptionFooter,M=e.setActiveLeg,N=e.setLegDiagram,j=e.setViewedTrip,L=e.showAgencyInfo,R=e.showAlertEffectiveDateTimeText,D=e.showApproximateAccessLegTravelTimes,P=e.showElevationProfile,B=e.showLegIcon,F=e.showMapButtonColumn,U=e.showViewTripButton,z=e.TimeColumnContent,V=void 0===z?d.default:z,G=e.toRouteAbbreviation,H=e.TransitLegSubheader,W=e.TransitLegSummary,Y=!(w||!E.interlineWithPreviousLeg),Q=r({},w?E.to:E.from);Q.vertexType="SCOOTER"!==E.mode||w?Q.vertexType:"VEHICLERENTAL";var Z=(0,u.useIntl)().formatMessage({defaultMessage:g.defaultMessages["otpUi.ItineraryBody.viewOnMap"],description:"Text describing the view-on-map button",id:"otpUi.ItineraryBody.viewOnMap"}),X=function(e){return c.default.createElement(I,{config:a,interline:Y,place:e})};return c.default.createElement(p.PlaceRowWrapper,{className:"place-row-wrapper ".concat(E.transitLeg?"transit":""," ").concat(E.rentedBike?"rented-bike":""),key:A||"destination-place"},c.default.createElement(p.LineColumn,null,c.default.createElement(O,{interline:Y,isDestination:w,lastLeg:x,leg:E,LegIcon:_,legIndex:A,toRouteAbbreviation:G})),c.default.createElement(p.PlaceHeader,null,Y&&c.default.createElement(p.InterlineDot,null,""),c.default.createElement(p.PlaceName,{"aria-hidden":!0},c.default.createElement(I,{config:a,interline:Y,place:Q}))),c.default.createElement(p.TimeColumn,null,c.default.createElement(V,{isDestination:w,leg:E}),!w&&null!==E.accessibilityScore&&E.accessibilityScore>-1&&c.default.createElement(h.default,{gradationMap:t,isLeg:!0,score:E.accessibilityScore})),c.default.createElement(p.InvisibleAdditionalDetails,null,w?c.default.createElement(u.FormattedMessage,{id:"otpUi.TransitLegBody.arriveAt",defaultMessage:g.defaultMessages["otpUi.TransitLegBody.arriveAt"],description:"Identifies end of the trip to screenreaders",values:{place:X(E.to)}}):c.default.createElement(u.FormattedMessage,{description:"Add starting location for access legs",id:"otpUi.TransitLegBody.fromLocation",values:{location:X(E.from)}})),c.default.createElement(p.PlaceDetails,{className:"place-details ".concat(E.transitLeg?"transit":"")},!w&&(E.transitLeg?c.default.createElement(m.default,{AlertBodyIcon:n,AlertToggleIcon:i,alwaysCollapseAlerts:o,defaultFareSelector:s,leg:E,legDestination:X(E.to),LegIcon:_,legIndex:A,RouteDescription:k,RouteDescriptionFooter:C,setActiveLeg:M,setViewedTrip:j,showAgencyInfo:L,showAlertEffectiveDateTimeText:R,showViewTripButton:U,timeZone:a.homeTimezone,TransitLegSubheader:H,TransitLegSummary:W,transitOperator:l.default.route.getTransitOperatorFromLeg(E,a.transitOperators)}):c.default.createElement(f.default,{config:a,diagramVisible:y,followsTransit:v,leg:E,LegIcon:_,legIndex:A,mapillaryCallback:S,mapillaryKey:T,setActiveLeg:M,setLegDiagram:N,showApproximateTravelTime:D,showElevationProfile:P,showLegIcon:B,TransitLegSubheader:H}))),F&&c.default.createElement(p.MapButtonColumn,{hideBorder:"true"},c.default.createElement(p.MapButton,{"aria-label":Z,onClick:function(){return b({isDestination:w,leg:E,legIndex:A,place:Q})},title:Z},c.default.createElement(p.MapIcon,{title:Z}))))}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TNCLeg=t.Styled=t.RentedVehicleSubheader=t.LegDiagramPreview=t.AccessLegSummary=t.AccessLegSteps=void 0;var c=n(42),u=s(n(0)),d=l(n(124)),f=n(6),p=n(225),m=s(n(63));t.Styled=m;var h=l(n(746));t.AccessLegSteps=h.default;var g=l(n(479));t.AccessLegSummary=g.default;var y=l(n(747));t.LegDiagramPreview=y.default;var v=l(n(478)),b=l(n(748));t.RentedVehicleSubheader=b.default;var w=l(n(749));t.TNCLeg=w.default;var x=n(87),E=function(e){function t(t){var n=e.call(this,t)||this;return n.onStepsHeaderClick=function(){var e=n.state.expanded;n.setState({expanded:!e})},n.onSummaryClick=function(){var e=n.props,t=e.leg,r=e.legIndex;(0,e.setActiveLeg)(r,t)},n.state={expanded:!1},n}return i(t,e),t.prototype.render=function(){var e,t=this.props,n=t.config,r=t.diagramVisible,i=t.followsTransit,o=t.leg,a=t.LegIcon,s=t.mapillaryCallback,l=t.mapillaryKey,E=t.setLegDiagram,_=t.showApproximateTravelTime,A=t.showElevationProfile,O=t.showLegIcon,S=t.TransitLegSubheader,T=this.state.expanded,I=(null===(e=null==n?void 0:n.itinerary)||void 0===e?void 0:e.hideDrivingDirections)&&"CAR"===o.mode;if("CAR"===o.mode&&o.rideHailingEstimate)return u.default.createElement(w.default,{config:n,followsTransit:i,leg:o,LegIcon:a,onSummaryClick:this.onSummaryClick,showLegIcon:O});var k=u.default.createElement(v.default,{clickCallback:s,coords:o.from,mapillaryKey:l});return u.default.createElement(u.default.Fragment,null,o&&(o.rentedVehicle||o.rentedBike||o.rentedCar)&&u.default.createElement(b.default,{config:n,leg:o}),o.from.stopId&&S&&u.default.createElement(S,{leg:o}),u.default.createElement(m.LegBody,null,u.default.createElement(g.default,{config:n,leg:o,LegIcon:a,onSummaryClick:this.onSummaryClick,showLegIcon:O}),0!==o.distance&&u.default.createElement(m.LegDetails,null,I?u.default.createElement(m.StepsHeaderAndMapLink,null,u.default.createElement(m.StepsHeaderSpan,null,u.default.createElement(p.Duration,{seconds:o.duration})),k):u.default.createElement(u.default.Fragment,null,u.default.createElement(m.StepsHeaderAndMapLink,null,u.default.createElement(m.StepsHeaderButton,{"aria-expanded":T,onClick:this.onStepsHeaderClick},u.default.createElement(p.Duration,{seconds:o.duration,showApproximatePrefix:_&&!(0,c.isTransit)(o.mode)}),o.steps&&o.steps.length>0&&u.default.createElement(m.CaretToggle,{expanded:T}),u.default.createElement(m.InvisibleAdditionalDetails,null,u.default.createElement(f.FormattedMessage,{defaultMessage:x.defaultMessages["otpUi.TransitLegBody.expandDetails"],description:"Screen reader text added to expand steps",id:"otpUi.TransitLegBody.expandDetails"}))),k),u.default.createElement(d.default,{duration:500,height:T?"auto":0,style:{gridColumn:"1 / span 2"}},u.default.createElement(h.default,{mapillaryCallback:s,mapillaryKey:l,steps:o.steps}))),u.default.createElement(y.default,{diagramVisible:r,leg:o,setLegDiagram:E,showElevationProfile:A}))))},t}(u.Component);t.default=E},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(101),l=a(n(0)),c=o(n(63)),u=a(n(478)),d=a(n(471));t.default=function(e){var t=e.steps,n=e.mapillaryCallback,r=e.mapillaryKey;return l.default.createElement(c.Steps,null,t.map((function(e,t){var i=e.lat,o=e.lon,a=e.relativeDirection;return l.default.createElement(c.StepRow,{key:t},l.default.createElement(c.StepIconContainer,null,l.default.createElement(s.DirectionIcon,{relativeDirection:a})),l.default.createElement(c.StepDescriptionContainer,null,l.default.createElement(d.default,{step:e}),l.default.createElement(u.default,{clickCallback:n,coords:{lat:i,lon:o},mapillaryKey:r})))})))}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=l(n(7)),u=s(n(0)),d=n(6),f=l(n(392)),p=s(n(63)),m=n(87),h=3.28084;var g=function(e){function t(t){var n=e.call(this,t)||this;return n.onResize=function(e){e>0&&n.setState({width:e})},n.isActive=function(){var e=n.props,t=e.diagramVisible,r=e.leg;return t&&t.startTime===r.startTime},n.onExpandClick=function(){var e=n.props,t=e.leg,r=e.setLegDiagram;n.isActive()?r(null):r(t)},n.formatElevation=function(e){return"".concat(Math.round(e),"'")},n.state={width:null},n}return i(t,e),t.prototype.render=function(){var e=window.navigator.userAgent.match(/StorybookTestRunner/),t=this.props,n=t.intl,r=t.leg,i=t.showElevationProfile,o=this.state.width;if(!i)return null;var a=c.default.itinerary.getElevationProfile(r.steps);return r.distance<500||"CAR"===r.mode?null:u.default.createElement(p.PreviewContainer,{active:this.isActive()},u.default.createElement(p.PreviewDiagram,{onClick:this.onExpandClick,role:"button",tabIndex:0,title:n.formatMessage({defaultMessage:m.defaultMessages["otpUi.AccessLegBody.LegDiagramPreview.toggleElevationChart"],description:"Tooltip text describing the toggling of the elevation chart.",id:"otpUi.AccessLegBody.LegDiagramPreview.toggleElevationChart"})},u.default.createElement(p.PreviewDiagramTitle,null,u.default.createElement(d.FormattedMessage,{defaultMessage:m.defaultMessages["otpUi.AccessLegBody.LegDiagramPreview.elevationChart"],description:"Title text for elevation chart",id:"otpUi.AccessLegBody.LegDiagramPreview.elevationChart"}),u.default.createElement(p.PreviewDiagramElevationGain,null,"",this.formatElevation(a.gain*h)),u.default.createElement(p.PreviewDiagramElevationLoss,null,"",this.formatElevation(-a.loss*h))),a.points.length>0?function(e,t){var n=e.points,r=e.traversed,i=e.minElev,o=e.maxElev;i-=25,o+=25;var a=n.map((function(e){var n=e[0]/r*t,a=30-30*(e[1]-i)/(o-i);return"".concat(n,",").concat(a)})).join(" ");return u.default.createElement("svg",{height:30,width:t},u.default.createElement("polyline",{points:a,fill:"none",stroke:"black",strokeWidth:1.3}))}(a,e?"245":o):u.default.createElement(d.FormattedMessage,{defaultMessage:m.defaultMessages["otpUi.AccessLegBody.LegDiagramPreview.noElevationData"],description:"Text shown if no elevation data is available.",id:"otpUi.AccessLegBody.LegDiagramPreview.noElevationData"}),u.default.createElement(f.default,{handleWidth:!0,onResize:this.onResize})))},t}(u.Component);t.default=(0,d.injectIntl)(g)},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(7)),l=a(n(0)),c=n(6),u=o(n(63)),d=n(87);function f(e){switch(e.type){case"BIKEPARK":return l.default.createElement(c.FormattedMessage,{defaultMessage:d.defaultMessages["otpUi.AccessLegBody.RentedVehicleSubheader.vehicleType.bike"],description:"Bike vehicle type",id:"otpUi.AccessLegBody.RentedVehicleSubheader.vehicleType.bike"});case"BIKESHARE":return l.default.createElement(c.FormattedMessage,{defaultMessage:d.defaultMessages["otpUi.AccessLegBody.RentedVehicleSubheader.vehicleType.bikeshare"],description:"Bike vehicle type",id:"otpUi.AccessLegBody.RentedVehicleSubheader.vehicleType.bikeshare"});case"CARSHARE":return l.default.createElement(c.FormattedMessage,{defaultMessage:d.defaultMessages["otpUi.AccessLegBody.RentedVehicleSubheader.vehicleType.car"],description:"Bike vehicle type",id:"otpUi.AccessLegBody.RentedVehicleSubheader.vehicleType.car"});case"VEHICLERENTAL":return l.default.createElement(c.FormattedMessage,{defaultMessage:d.defaultMessages["otpUi.AccessLegBody.RentedVehicleSubheader.vehicleType.escooter"],description:"Bike vehicle type",id:"otpUi.AccessLegBody.RentedVehicleSubheader.vehicleType.escooter"});default:return l.default.createElement(c.FormattedMessage,{defaultMessage:d.defaultMessages["otpUi.AccessLegBody.RentedVehicleSubheader.vehicleType.vehicle"],description:"Bike vehicle type",id:"otpUi.AccessLegBody.RentedVehicleSubheader.vehicleType.vehicle"})}}t.default=function(e){var t,n=e.config,r=e.leg,i=n.companies||[],o=r.from,a=r.mode,p=r.rentedBike,m=r.walkingBike,h=o.name,g=o.networks,y=o.vertexType,v="SCOOTER"===a?"VEHICLERENTAL":y;if("WALK"===a||m)return l.default.createElement(u.PlaceSubheader,null,l.default.createElement(c.FormattedMessage,{defaultMessage:d.defaultMessages["otpUi.AccessLegBody.RentedVehicleSubheader.walkVehicle"],description:"Instructs to walk with a bike or scooter along a place.",id:"otpUi.AccessLegBody.RentedVehicleSubheader.walkVehicle",values:{place:h}}));if(g||p){var b=s.default.itinerary.getCompaniesLabelFromNetworks(g||[],i),w=r.rentedCar&&h?h:"";t=l.default.createElement(c.FormattedMessage,{defaultMessage:d.defaultMessages["otpUi.AccessLegBody.RentedVehicleSubheader.pickupRental"],description:"Instructs to pick up a rental vehicle",id:"otpUi.AccessLegBody.RentedVehicleSubheader.pickupRental",values:{company:b,vehicleName:w,vehicleType:l.default.createElement(f,{type:v})}})}else t=l.default.createElement(c.FormattedMessage,{defaultMessage:d.defaultMessages["otpUi.AccessLegBody.RentedVehicleSubheader.resumeRentalRide"],description:"Instructs to continue riding with a rental vehicle",id:"otpUi.AccessLegBody.RentedVehicleSubheader.resumeRentalRide"});return l.default.createElement(u.PlaceSubheader,null,t)}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(7)),l=a(n(0)),c=n(6),u=n(42),d=n(225),f=o(n(63)),p=n(87),m=a(n(479));t.default=function(e){var t,n=e.config,r=e.followsTransit,i=e.leg,o=e.LegIcon,a=e.LYFT_CLIENT_ID,h=void 0===a?"":a,g=e.onSummaryClick,y=e.showLegIcon,v=e.UBER_CLIENT_ID,b=void 0===v?"":v,w={uber:"https://m.uber.com/".concat(s.default.ui.isMobile()?"ul/":"","?client_id=").concat(b,"&action=setPickup&pickup[latitude]=").concat(i.from.lat,"&pickup[longitude]=").concat(i.from.lon,"&pickup[formatted_address]=").concat(encodeURI(i.from.name),"&dropoff[latitude]=").concat(i.to.lat,"&dropoff[longitude]=").concat(i.to.lon,"&dropoff[formatted_address]=").concat(encodeURI(i.to.name)),lyft:"https://lyft.com/ride?id=lyft&partner=".concat(h,"&pickup[latitude]=").concat(i.from.lat,"&pickup[longitude]=").concat(i.from.lon,"&destination[latitude]=").concat(i.to.lat,"&destination[longitude]=").concat(i.to.lon)},x=i.rideHailingEstimate;return x?l.default.createElement("div",null,l.default.createElement(f.PlaceSubheader,null,l.default.createElement(c.FormattedMessage,{defaultMessage:p.defaultMessages["otpUi.AccessLegBody.TncLeg.waitForPickup"],description:"Action text for waiting for a ride-hail vehicle.",id:"otpUi.AccessLegBody.TncLeg.waitForPickup",values:{company:null===(t=(0,u.getCompanyForNetwork)(x.provider.id,n.companies))||void 0===t?void 0:t.label,minutes:r?0:parseInt((0,p.parseOTP2Minute)(i.rideHailingEstimate.arrival),10)}})),l.default.createElement(f.LegBody,null,l.default.createElement(m.default,{config:n,leg:i,LegIcon:o,onSummaryClick:g,showLegIcon:y}),l.default.createElement(f.BookTNCRideButtonContainer,null,l.default.createElement(f.BookTNCRideButton,{href:w[x.provider.id],target:s.default.ui.isMobile()?"_self":"_blank"},l.default.createElement(c.FormattedMessage,{defaultMessage:p.defaultMessages["otpUi.AccessLegBody.TncLeg.bookRide"],description:"Action text to book a ride with a ride-hail company.",id:"otpUi.AccessLegBody.TncLeg.bookRide"})),r&&l.default.createElement(f.BookLaterPointer,null),r&&"number"==typeof i.startTime&&l.default.createElement(f.BookLaterContainer,null,l.default.createElement(f.BookLaterInnerContainer,null,l.default.createElement(f.BookLaterText,null,l.default.createElement(c.FormattedMessage,{defaultMessage:p.defaultMessages["otpUi.AccessLegBody.TncLeg.bookRideLater"],description:"Hint text to book a ride at a later time.",id:"otpUi.AccessLegBody.TncLeg.bookRideLater",values:{timeMillis:i.startTime-parseInt((0,p.parseOTP2Minute)(x.arrival),10)}}))))),l.default.createElement(f.TNCTravelTime,null,l.default.createElement(c.FormattedMessage,{defaultMessage:p.defaultMessages["otpUi.AccessLegBody.TncLeg.estimatedTravelTime"],description:"Describes the estimated travel time.",id:"otpUi.AccessLegBody.TncLeg.estimatedTravelTime",values:{duration:l.default.createElement(d.Duration,{seconds:i.duration})}})),x.minPrice&&l.default.createElement(f.TNCCost,null,l.default.createElement(c.FormattedMessage,{defaultMessage:p.defaultMessages["otpUi.AccessLegBody.TncLeg.estimatedCost"],description:"Shows the minimum and maximum fares for a TNC ride.",id:"otpUi.AccessLegBody.TncLeg.estimatedCost",values:{maxFare:l.default.createElement(c.FormattedNumber,{currency:x.maxPrice.currency.code,currencyDisplay:"narrowSymbol",style:"currency",value:x.maxPrice.amount}),minFare:l.default.createElement(c.FormattedNumber,{currency:x.minPrice.currency.code,currencyDisplay:"narrowSymbol",style:"currency",value:x.minPrice.amount})}})))):null}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ViewTripButton=t.IntermediateStops=t.AlertsBody=void 0;var c=l(n(7)),u=s(n(0)),d=l(n(124)),f=n(6),p=n(225),m=s(n(63)),h=n(87),g=l(n(524));t.AlertsBody=g.default;var y=l(n(751));t.IntermediateStops=y.default;var v=l(n(752));t.ViewTripButton=v.default;function b(e){var t,n,r,i=!!(null===(t=null==e?void 0:e.contactInfo)||void 0===t?void 0:t.phoneNumber),o=null===(n=null==e?void 0:e.latestBookingTime)||void 0===n?void 0:n.daysPrior,a=null===(r=null==e?void 0:e.contactInfo)||void 0===r?void 0:r.phoneNumber;return{action:i?u.default.createElement(f.FormattedMessage,{defaultMessage:h.defaultMessages["otpUi.ItineraryBody.flexCallNumber"],description:"For calling a phone number.",id:"otpUi.ItineraryBody.flexCallNumber",values:{phoneNumber:a}}):u.default.createElement(f.FormattedMessage,{defaultMessage:h.defaultMessages["otpUi.ItineraryBody.flexCallAhead"],description:"For calling ahead.",id:"otpUi.ItineraryBody.flexCallAhead"}),advanceNotice:o>0?u.default.createElement(f.FormattedMessage,{defaultMessage:h.defaultMessages["otpUi.ItineraryBody.flexAdvanceNotice"],description:"Advance notice for flex service.",id:"otpUi.ItineraryBody.flexAdvanceNotice",values:{leadDays:o}}):""}}var w=function(e){function t(t){var n=e.call(this,t)||this;return n.onToggleStopsClick=function(){var e=n.state.stopsExpanded;n.setState({stopsExpanded:!e})},n.onToggleAlertsClick=function(){var e=n.state.alertsExpanded;n.setState({alertsExpanded:!e})},n.onSummaryClick=function(){var e=n.props,t=e.leg,r=e.legIndex;(0,e.setActiveLeg)(r,t)},n.state={alertsExpanded:!1,stopsExpanded:!1},n}return i(t,e),t.prototype.render=function(){var e,t,n,r,i,o=this.props,a=o.AlertBodyIcon,s=o.AlertToggleIcon,l=void 0===s?m.DefaultAlertToggleIcon:s,w=o.alwaysCollapseAlerts,x=o.defaultFareSelector,E=o.intl,_=o.leg,A=o.legDestination,O=o.LegIcon,S=o.RouteDescription,T=o.RouteDescriptionFooter,I=o.setViewedTrip,k=o.showAgencyInfo,C=o.showAlertEffectiveDateTimeText,M=o.showViewTripButton,N=o.timeZone,j=o.TransitLegSubheader,L=o.TransitLegSummary,R=o.transitOperator,D=_.agencyBrandingUrl,P=_.agencyName,B=_.agencyUrl,F=_.alerts,U=this.state,z=U.alertsExpanded,V=U.stopsExpanded,G=c.default.itinerary.isReservationRequired(_),H=(null==R?void 0:R.name)||P,W=R&&R.logo?R.logo:D,Y=!((null===(e=_.alerts)||void 0===e?void 0:e.length)>2||w)||!_.alerts,Q=z||Y,Z=x&&c.default.itinerary.getLegCost(_,x.mediumId,x.riderCategoryId);return u.default.createElement(u.default.Fragment,null,j&&u.default.createElement(j,{leg:_}),u.default.createElement(m.LegBody,null,u.default.createElement(m.LegClickable,null,u.default.createElement(m.LegDescription,null,u.default.createElement("span",null,u.default.createElement(m.InvisibleAdditionalDetails,null," - ",u.default.createElement(f.FormattedMessage,{defaultMessage:h.defaultMessages["otpUi.TransitLegBody.ride"],description:"Prompt to ride a transit vehicle.",id:"otpUi.TransitLegBody.ride"})),u.default.createElement(S,{leg:_,LegIcon:O,transitOperator:R}),u.default.createElement(m.InvisibleAdditionalDetails,null," - ",u.default.createElement(f.FormattedMessage,{defaultMessage:h.defaultMessages["otpUi.TransitLegBody.disembarkAt"],description:"Prompt to exit a transit vehicle.",id:"otpUi.TransitLegBody.disembarkAt",values:{legDestination:A}}))),u.default.createElement(m.LegClickableButton,{className:"transit-leg-button",onClick:this.onSummaryClick},u.default.createElement(m.InvisibleAdditionalDetails,null,u.default.createElement(f.FormattedMessage,{defaultMessage:h.defaultMessages["otpUi.TransitLegBody.zoomToLeg"],description:"Identifies behavior of button",id:"otpUi.TransitLegBody.zoomToLeg"}))))),T&&u.default.createElement(T,{leg:_}),u.default.createElement("div",{className:"transit-leg-details-wrapper","aria-label":E.formatMessage({defaultMessage:h.defaultMessages["otpUi.TransitLegBody.legDetails"],description:"Identifies this section as trip leg details",id:"otpUi.TransitLegBody.legDetails"}),role:"group"},k&&u.default.createElement(m.AgencyInfo,{className:"agency-info"},u.default.createElement(f.FormattedMessage,{defaultMessage:h.defaultMessages["otpUi.TransitLegBody.operatedBy"],description:"Tells which agency operates the service",id:"otpUi.TransitLegBody.operatedBy",values:{agencyLink:u.default.createElement("a",{"aria-label":E.formatMessage({id:"otpUi.TransitLegBody.agencyExternalLink"},{agencyName:P}),href:B||"#",rel:"noopener noreferrer",target:"_blank"},H,W&&u.default.createElement("img",{alt:"",src:W,height:25}))}})),G&&_.pickupBookingInfo&&u.default.createElement(m.CallAheadWarning,null,u.default.createElement(f.FormattedMessage,{defaultMessage:h.defaultMessages["otpUi.ItineraryBody.flexPickupMessage"],description:"Instructions for booking and boarding the flex (on-demand) transit service.",id:"otpUi.ItineraryBody.flexPickupMessage",values:b(_.pickupBookingInfo)})),(null==F?void 0:F.length)>0&&u.default.createElement(m.TransitAlertToggle,{className:"alert-toggle",isButton:!Y,as:Y&&"div",onClick:this.onToggleAlertsClick},u.default.createElement(l,null)," ",u.default.createElement(f.FormattedMessage,{defaultMessage:h.defaultMessages["otpUi.TransitLegBody.alertsHeader"],description:"Number of alerts header",id:"otpUi.TransitLegBody.alertsHeader",values:{alertCount:F.length}}),!Y&&u.default.createElement(u.default.Fragment,null,u.default.createElement(m.CaretToggle,{expanded:z}),u.default.createElement(m.InvisibleAdditionalDetails,null,u.default.createElement(f.FormattedMessage,{defaultMessage:h.defaultMessages["otpUi.TransitLegBody.expandDetails"],description:"Screen reader text added to expand steps",id:"otpUi.TransitLegBody.expandDetails"})))),u.default.createElement(d.default,{duration:500,height:Q?"auto":0},u.default.createElement(g.default,{agencyName:P,alerts:_.alerts,AlertIcon:a,showAlertEffectiveDateTimeText:C,timeZone:N})),_.intermediateStops&&_.intermediateStops.length>0&&u.default.createElement(m.TransitLegDetails,{className:"transit-leg-details"},u.default.createElement(m.TransitLegDetailsHeader,null,u.default.createElement(L,{leg:_,onClick:this.onToggleStopsClick,stopsExpanded:V}),M&&u.default.createElement(v.default,{fromIndex:null===(t=_.from)||void 0===t?void 0:t.stopIndex,fromStopId:null===(n=null==_?void 0:_.from)||void 0===n?void 0:n.stopId,setViewedTrip:I,toIndex:null===(r=_.to)||void 0===r?void 0:r.stopIndex,toStopId:null===(i=null==_?void 0:_.to)||void 0===i?void 0:i.stopId,tripId:_.tripId})),u.default.createElement(d.default,{duration:500,height:V?"auto":0},u.default.createElement(m.TransitLegExpandedBody,null,u.default.createElement(y.default,{stops:_.intermediateStops}),(null==Z?void 0:Z.price)&&u.default.createElement(m.TransitLegFare,null,u.default.createElement(f.FormattedMessage,{defaultMessage:h.defaultMessages["otpUi.TransitLegBody.fare"],description:"Describes the fare for a leg",id:"otpUi.TransitLegBody.fare",values:{fare:u.default.createElement(f.FormattedNumber,{currency:Z.price.currency.code,currencyDisplay:"narrowSymbol",style:"currency",value:Z.price.amount})}})))),_.averageWait&&u.default.createElement("span",null,u.default.createElement(f.FormattedMessage,{defaultMessage:h.defaultMessages["otpUi.TransitLegBody.typicalWait"],description:"Describes the typical wait for a transit leg",id:"otpUi.TransitLegBody.typicalWait",values:{waitTime:u.default.createElement(p.Duration,{seconds:_.averageWait})}}))))))},t}(u.Component);t.default=(0,f.injectIntl)(w)},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(0)),l=o(n(63));t.default=function(e){var t=e.stops;return s.default.createElement(l.IntermediateStops,null,t.map((function(e,t){return s.default.createElement(l.StopRow,{key:t},s.default.createElement(l.StopMarker,null,""),s.default.createElement(l.StopName,null,e.name))})))}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(0)),c=n(6),u=s(n(63)),d=n(87),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(){var e=t.props,n=e.fromIndex,r=e.fromStopId,i=e.setViewedTrip,o=e.toIndex,a=e.toStopId,s=e.tripId;i(n||o?{fromIndex:n,toIndex:o,tripId:s}:{fromStopId:r,toStopId:a,tripId:s})},t}return i(t,e),t.prototype.render=function(){return l.default.createElement(u.ViewerButton,{onClick:this.onClick,role:"link"},l.default.createElement(c.FormattedMessage,{defaultMessage:d.defaultMessages["otpUi.TransitLegBody.tripViewer"],description:"Link text to the trip viewer",id:"otpUi.TransitLegBody.tripViewer"}))},t}(l.Component);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(754),o=(r=i)&&r.__esModule?r:{default:r};t.default=o.default,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyOpenClassName=t.portalClassName=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),a=m(o),s=m(n(50)),l=m(n(2)),c=m(n(755)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(482)),d=n(363),f=m(d),p=n(466);function m(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=t.portalClassName="ReactModalPortal",v=t.bodyOpenClassName="ReactModal__Body--open",b=d.canUseDOM&&void 0!==s.default.createPortal,w=function(e){return document.createElement(e)},x=function(){return b?s.default.createPortal:s.default.unstable_renderSubtreeIntoContainer};function E(e){return e()}var _=function(e){function t(){var e,n,i;h(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return n=i=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),i.removePortal=function(){!b&&s.default.unmountComponentAtNode(i.node);var e=E(i.props.parentSelector);e&&e.contains(i.node)?e.removeChild(i.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},i.portalRef=function(e){i.portal=e},i.renderPortal=function(e){var n=x()(i,a.default.createElement(c.default,r({defaultStyles:t.defaultStyles},e)),i.node);i.portalRef(n)},g(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){d.canUseDOM&&(b||(this.node=w("div")),this.node.className=this.props.portalClassName,E(this.props.parentSelector).appendChild(this.node),!b&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(e){return{prevParent:E(e.parentSelector),nextParent:E(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(e,t,n){if(d.canUseDOM){var r=this.props,i=r.isOpen,o=r.portalClassName;e.portalClassName!==o&&(this.node.className=o);var a=n.prevParent,s=n.nextParent;s!==a&&(a.removeChild(this.node),s.appendChild(this.node)),(e.isOpen||i)&&!b&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(d.canUseDOM&&this.node&&this.portal){var e=this.portal.state,t=Date.now(),n=e.isOpen&&this.props.closeTimeoutMS&&(e.closesAt||t+this.props.closeTimeoutMS);n?(e.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-t)):this.removePortal()}}},{key:"render",value:function(){return d.canUseDOM&&b?(!this.node&&b&&(this.node=w("div")),x()(a.default.createElement(c.default,r({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(e){u.setElement(e)}}]),t}(o.Component);_.propTypes={isOpen:l.default.bool.isRequired,style:l.default.shape({content:l.default.object,overlay:l.default.object}),portalClassName:l.default.string,bodyOpenClassName:l.default.string,htmlOpenClassName:l.default.string,className:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),overlayClassName:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),appElement:l.default.oneOfType([l.default.instanceOf(f.default),l.default.instanceOf(d.SafeHTMLCollection),l.default.instanceOf(d.SafeNodeList),l.default.arrayOf(l.default.instanceOf(f.default))]),onAfterOpen:l.default.func,onRequestClose:l.default.func,closeTimeoutMS:l.default.number,ariaHideApp:l.default.bool,shouldFocusAfterRender:l.default.bool,shouldCloseOnOverlayClick:l.default.bool,shouldReturnFocusAfterClose:l.default.bool,preventScroll:l.default.bool,parentSelector:l.default.func,aria:l.default.object,data:l.default.object,role:l.default.string,contentLabel:l.default.string,shouldCloseOnEsc:l.default.bool,overlayRef:l.default.func,contentRef:l.default.func,id:l.default.string,overlayElement:l.default.func,contentElement:l.default.func},_.defaultProps={isOpen:!1,portalClassName:y,bodyOpenClassName:v,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,t){return a.default.createElement("div",e,t)},contentElement:function(e,t){return a.default.createElement("div",e,t)}},_.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,p.polyfill)(_),t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),s=g(n(2)),l=h(n(756)),c=g(n(757)),u=h(n(482)),d=h(n(759)),f=n(363),p=g(f),m=g(n(483));function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function g(e){return e&&e.__esModule?e:{default:e}}n(760);var y={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},v=0,b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setOverlayRef=function(e){n.overlay=e,n.props.overlayRef&&n.props.overlayRef(e)},n.setContentRef=function(e){n.content=e,n.props.contentRef&&n.props.contentRef(e)},n.afterClose=function(){var e=n.props,t=e.appElement,r=e.ariaHideApp,i=e.htmlOpenClassName,o=e.bodyOpenClassName;o&&d.remove(document.body,o),i&&d.remove(document.getElementsByTagName("html")[0],i),r&&v>0&&0===(v-=1)&&u.show(t),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(l.returnFocus(n.props.preventScroll),l.teardownScopedFocus()):l.popWithoutFocus()),n.props.onAfterClose&&n.props.onAfterClose(),m.default.deregister(n)},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(l.setupScopedFocus(n.node),l.markForFocusLater()),n.setState({isOpen:!0},(function(){n.openAnimationFrame=requestAnimationFrame((function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen({overlayEl:n.overlay,contentEl:n.content})}))})))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus({preventScroll:!0})},n.closeWithTimeout=function(){var e=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:e},(function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())}))},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(e){9===e.keyCode&&(0,c.default)(n.content,e),n.props.shouldCloseOnEsc&&27===e.keyCode&&(e.stopPropagation(),n.requestClose(e))},n.handleOverlayOnClick=function(e){null===n.shouldClose&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(e):n.focusContent()),n.shouldClose=null},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(e){n.props.shouldCloseOnOverlayClick||e.target!=n.overlay||e.preventDefault()},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1},n.requestClose=function(e){return n.ownerHandlesClose()&&n.props.onRequestClose(e)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(e,t){var r="object"===(void 0===t?"undefined":i(t))?t:{base:y[e],afterOpen:y[e]+"--after-open",beforeClose:y[e]+"--before-close"},o=r.base;return n.state.afterOpen&&(o=o+" "+r.afterOpen),n.state.beforeClose&&(o=o+" "+r.beforeClose),"string"==typeof t&&t?o+" "+t:o},n.attributesFromObject=function(e,t){return Object.keys(t).reduce((function(n,r){return n[e+"-"+r]=t[r],n}),{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(e,t){this.props.isOpen&&!e.isOpen?this.open():!this.props.isOpen&&e.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!t.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var e=this.props,t=e.appElement,n=e.ariaHideApp,r=e.htmlOpenClassName,i=e.bodyOpenClassName;i&&d.add(document.body,i),r&&d.add(document.getElementsByTagName("html")[0],r),n&&(v+=1,u.hide(t)),m.default.register(this)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.className,i=e.overlayClassName,o=e.defaultStyles,a=e.children,s=n?{}:o.content,l=i?{}:o.overlay;if(this.shouldBeClosed())return null;var c={ref:this.setOverlayRef,className:this.buildClassName("overlay",i),style:r({},l,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},u=r({id:t,ref:this.setContentRef,style:r({},s,this.props.style.content),className:this.buildClassName("content",n),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",r({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),d=this.props.contentElement(u,a);return this.props.overlayElement(c,d)}}]),t}(a.Component);b.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},b.propTypes={isOpen:s.default.bool.isRequired,defaultStyles:s.default.shape({content:s.default.object,overlay:s.default.object}),style:s.default.shape({content:s.default.object,overlay:s.default.object}),className:s.default.oneOfType([s.default.string,s.default.object]),overlayClassName:s.default.oneOfType([s.default.string,s.default.object]),bodyOpenClassName:s.default.string,htmlOpenClassName:s.default.string,ariaHideApp:s.default.bool,appElement:s.default.oneOfType([s.default.instanceOf(p.default),s.default.instanceOf(f.SafeHTMLCollection),s.default.instanceOf(f.SafeNodeList),s.default.arrayOf(s.default.instanceOf(p.default))]),onAfterOpen:s.default.func,onAfterClose:s.default.func,onRequestClose:s.default.func,closeTimeoutMS:s.default.number,shouldFocusAfterRender:s.default.bool,shouldCloseOnOverlayClick:s.default.bool,shouldReturnFocusAfterClose:s.default.bool,preventScroll:s.default.bool,role:s.default.string,contentLabel:s.default.string,aria:s.default.object,data:s.default.object,children:s.default.node,shouldCloseOnEsc:s.default.bool,overlayRef:s.default.func,contentRef:s.default.func,id:s.default.string,overlayElement:s.default.func,contentElement:s.default.func,testId:s.default.string},t.default=b,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){a=[]},t.log=function(){return void 0;console.log("focusManager ----------"),a.forEach((function(e){var t=e||{};console.log(t.nodeName,t.className,t.id)})),console.log("end focusManager ----------")},t.handleBlur=c,t.handleFocus=u,t.markForFocusLater=function(){a.push(document.activeElement)},t.returnFocus=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=null;try{return void(0!==a.length&&(t=a.pop()).focus({preventScroll:e}))}catch(e){console.warn(["You tried to return focus to",t,"but it is not in the DOM anymore"].join(" "))}},t.popWithoutFocus=function(){a.length>0&&a.pop()},t.setupScopedFocus=function(e){s=e,window.addEventListener?(window.addEventListener("blur",c,!1),document.addEventListener("focus",u,!0)):(window.attachEvent("onBlur",c),document.attachEvent("onFocus",u))},t.teardownScopedFocus=function(){s=null,window.addEventListener?(window.removeEventListener("blur",c),document.removeEventListener("focus",u)):(window.detachEvent("onBlur",c),document.detachEvent("onFocus",u))};var r,i=n(481),o=(r=i)&&r.__esModule?r:{default:r};var a=[],s=null,l=!1;function c(){l=!0}function u(){if(l){if(l=!1,!s)return;setTimeout((function(){s.contains(document.activeElement)||((0,o.default)(s)[0]||s).focus()}),0)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,o.default)(e);if(!n.length)return void t.preventDefault();var r=void 0,i=t.shiftKey,a=n[0],s=n[n.length-1];if(e===document.activeElement){if(!i)return;r=s}s!==document.activeElement||i||(r=a);a===document.activeElement&&i&&(r=s);if(r)return t.preventDefault(),void r.focus();var l=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null==l||"Chrome"==l[1]||null!=/\biPod\b|\biPad\b/g.exec(navigator.userAgent))return;var c=n.indexOf(document.activeElement);c>-1&&(c+=i?-1:1);if(void 0===(r=n[c]))return t.preventDefault(),void(r=i?s:a).focus();t.preventDefault(),r.focus()};var r,i=n(481),o=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){var e=document.getElementsByTagName("html")[0];for(var t in r)o(e,r[t]);var n=document.body;for(var a in i)o(n,i[a]);r={},i={}},t.log=function(){return void 0;var e=document.getElementsByTagName("html")[0].className,t="Show tracked classes:\n\n";for(var n in t+="<html /> ("+e+"):\n",r)t+="  "+n+" "+r[n]+"\n";for(var o in e=document.body.className,t+="\n\ndoc.body ("+e+"):\n",i)t+="  "+o+" "+i[o]+"\n";t+="\n",console.log(t)};var r={},i={};function o(e,t){e.classList.remove(t)}t.add=function(e,t){return n=e.classList,o="html"==e.nodeName.toLowerCase()?r:i,void t.split(" ").forEach((function(e){!function(e,t){e[t]||(e[t]=0),e[t]+=1}(o,e),n.add(e)}));var n,o},t.remove=function(e,t){return n=e.classList,o="html"==e.nodeName.toLowerCase()?r:i,void t.split(" ").forEach((function(e){!function(e,t){e[t]&&(e[t]-=1)}(o,e),0===o[e]&&n.remove(e)}));var n,o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){for(var e=[a,s],t=0;t<e.length;t++){var n=e[t];n&&(n.parentNode&&n.parentNode.removeChild(n))}a=s=null,l=[]},t.log=function(){console.log("bodyTrap ----------"),console.log(l.length);for(var e=[a,s],t=0;t<e.length;t++){var n=e[t]||{};console.log(n.nodeName,n.className,n.id)}console.log("edn bodyTrap ----------")};var r,i=n(483),o=(r=i)&&r.__esModule?r:{default:r};var a=void 0,s=void 0,l=[];function c(){0!==l.length&&l[l.length-1].focusContent()}o.default.subscribe((function(e,t){a||s||((a=document.createElement("div")).setAttribute("data-react-modal-body-trap",""),a.style.position="absolute",a.style.opacity="0",a.setAttribute("tabindex","0"),a.addEventListener("focus",c),(s=a.cloneNode()).addEventListener("focus",c)),(l=t).length>0?(document.body.firstChild!==a&&document.body.insertBefore(a,document.body.firstChild),document.body.lastChild!==s&&document.body.appendChild(s)):(a.parentElement&&a.parentElement.removeChild(a),s.parentElement&&s.parentElement.removeChild(s))}))},function(e,t,n){"use strict";function r(e){return Number.isFinite(e)&&e>=-90&&e<=90}function i(e){return Number.isFinite(e)&&e>=-180&&e<=180}Object.defineProperty(t,"__esModule",{value:!0}),t.currentPositionToLocation=function(e){if(e.error||!e.coords)return console.warn("Cannot construct location from current position due to geolocation error or missing coordinates."),null;return{lat:e.coords.latitude,lon:e.coords.longitude,category:"CURRENT_LOCATION"}},t.coordsToString=function(e){return e.length&&e.map((e=>(+e).toFixed(5))).join(", ")},t.stringToCoords=function(e){return e&&e.split(",").map((e=>+e))||[]},t.constructLocation=function(e){return{lat:e.lat,lon:e.lng}},t.matchLatLon=function(e,t){return e&&t?e.lat===t.lat&&e.lon===t.lon:e===t},t.isBikeshareStation=function(e){return-1!==e.place_id.lastIndexOf("bicycle_rent_station")},t.isEScooterStation=function(e){return-1!==e.place_id.lastIndexOf("escooter_rent_station")},t.isCarWalkTransition=function(e){return-1!==e.place_id.lastIndexOf("itin_car_")},t.isValidLat=r,t.isValidLng=i,t.isValidLatLng=function(e){return Array.isArray(e)&&2===e.length&&r(e[0])&&i(e[1])}},function(e,t,n){"use strict";var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.formatPlace=u,t.getCustomQueryParams=function(e){if(!e)return f;const t=(0,i.default)(f);return Object.keys(e).forEach((n=>{const r=t.findIndex((e=>e.name===n));-1!==r&&(t[r]={...t[r],...e[n]})})),t},t.default=void 0;var i=r(n(165)),o=r(n(0)),a=n(129),s=n(42),l=n(249),c=n(144);function u(e,t){if(!e)return null;return`${e.name||`${t?`${t} `:""}(${e.lat},${e.lon})`}::${e.lat},${e.lon}`}const d=(0,l.getItem)("defaultQuery",{}),f=[{name:"from",routingTypes:["ITINERARY","PROFILE"],default:null,itineraryRewrite:e=>({fromPlace:u(e)}),profileRewrite:e=>({from:{lat:e.lat,lon:e.lon}})},{name:"to",routingTypes:["ITINERARY","PROFILE"],default:null,itineraryRewrite:e=>({toPlace:u(e)}),profileRewrite:e=>({to:{lat:e.lat,lon:e.lon}})},{name:"date",routingTypes:["ITINERARY","PROFILE"],default:c.getCurrentDate},{name:"time",routingTypes:["ITINERARY"],default:c.getCurrentTime},{name:"departArrive",routingTypes:["ITINERARY"],default:"NOW",itineraryRewrite:e=>({arriveBy:"ARRIVE"===e})},{name:"startTime",routingTypes:["PROFILE"],default:"07:00"},{name:"endTime",routingTypes:["PROFILE"],default:"09:00"},{name:"mode",routingTypes:["ITINERARY","PROFILE"],default:"WALK,TRANSIT",profileRewrite:e=>{const t=[],n=[],r=[];return e&&e.length>0&&e.split(",").forEach((e=>{(0,s.isTransit)(e)&&r.push(e),(0,s.isAccessMode)(e)&&(t.push(e),(0,s.isCar)(e)||n.push(e))})),{accessModes:t,directModes:n,transitModes:r}}},{name:"showIntermediateStops",routingTypes:["ITINERARY"],default:!0},{name:"maxWalkDistance",routingTypes:["ITINERARY"],applicable:e=>!e.otp2&&e.mode&&(0,s.hasTransit)(e.mode)&&-1!==e.mode.indexOf("WALK"),default:1609,selector:"DROPDOWN",label:"Maximum Walk",options:[{text:"1/10 mile",value:160.9},{text:"1/4 mile",value:402.3},{text:"1/2 mile",value:804.7},{text:"3/4 mile",value:1207},{text:"1 mile",value:1609},{text:"2 miles",value:3219},{text:"5 miles",value:8047}]},{name:"maxBikeDistance",routingTypes:["ITINERARY"],applicable:e=>e.mode&&(0,s.hasTransit)(e.mode)&&-1!==e.mode.indexOf("BICYCLE"),default:4828,selector:"DROPDOWN",label:"Maximum Bike",options:[{text:"1/4 mile",value:402.3},{text:"1/2 mile",value:804.7},{text:"3/4 mile",value:1207},{text:"1 mile",value:1609},{text:"2 miles",value:3219},{text:"3 miles",value:4828},{text:"5 miles",value:8047},{text:"10 miles",value:16093},{text:"20 miles",value:32187},{text:"30 miles",value:48280}],itineraryRewrite:e=>({maxWalkDistance:e,maxBikeDistance:e})},{name:"optimize",applicable:()=>!1,routingTypes:["ITINERARY"],default:"QUICK",selector:"DROPDOWN",label:"Optimize for",options:[{text:"Speed",value:"QUICK"},{text:"Fewest Transfers",value:"TRANSFERS"}]},{name:"optimizeBike",applicable:e=>!e.otp2&&(0,s.hasBike)(e.mode),routingTypes:["ITINERARY"],default:"SAFE",selector:"DROPDOWN",label:"Optimize for",options:()=>[{text:"Speed",value:"QUICK"},{text:"Bike-Friendly Trip",value:"SAFE"},{text:"Flat Trip",value:"FLAT"}],itineraryRewrite:e=>({optimize:e})},{name:"maxWalkTime",routingTypes:["PROFILE"],default:15,selector:"DROPDOWN",label:"Max Walk Time",applicable:e=>e.mode&&(0,s.hasTransit)(e.mode)&&-1!==e.mode.indexOf("WALK"),options:[{text:"5 minutes",value:5},{text:"10 minutes",value:10},{text:"15 minutes",value:15},{text:"20 minutes",value:20},{text:"30 minutes",value:30},{text:"45 minutes",value:45},{text:"1 hour",value:60}]},{name:"walkReluctance",routingTypes:["ITINERARY","PROFILE"],selector:"SLIDER",low:1,high:10,step:.5,label:"walk reluctance",labelLow:"More Walking",labelHigh:"More Transit",applicable:e=>!!e.otp2&&e.mode&&-1!==e.mode.indexOf("WALK")},{name:"maxBikeTime",routingTypes:["PROFILE"],default:20,selector:"DROPDOWN",label:"Max Bike Time",applicable:e=>e.mode&&(0,s.hasTransit)(e.mode)&&-1!==e.mode.indexOf("BICYCLE"),options:[{text:"5 minutes",value:5},{text:"10 minutes",value:10},{text:"15 minutes",value:15},{text:"20 minutes",value:20},{text:"30 minutes",value:30},{text:"45 minutes",value:45},{text:"1 hour",value:60}]},{name:"bikeSpeed",routingTypes:["ITINERARY","PROFILE"],default:3.58,selector:"DROPDOWN",label:"Bicycle Speed",applicable:e=>e.mode&&-1!==e.mode.indexOf("BICYCLE"),options:[{text:"6 MPH",value:2.68},{text:"8 MPH",value:3.58},{text:"10 MPH",value:4.47},{text:"12 MPH",value:5.36}]},{name:"maxEScooterDistance",routingTypes:["ITINERARY"],applicable:e=>e.mode&&(0,s.hasTransit)(e.mode)&&(0,s.hasMicromobility)(e.mode),default:4828,selector:"DROPDOWN",label:"Maximum E-scooter Distance",options:[{text:"1/4 mile",value:402.3},{text:"1/2 mile",value:804.7},{text:"3/4 mile",value:1207},{text:"1 mile",value:1609},{text:"2 miles",value:3219},{text:"3 miles",value:4828},{text:"5 miles",value:8047},{text:"10 miles",value:16093},{text:"20 miles",value:32187},{text:"30 miles",value:48280}],itineraryRewrite:e=>({maxWalkDistance:e,maxEScooterDistance:e})},{name:"watts",routingTypes:["ITINERARY","PROFILE"],default:250,selector:"DROPDOWN",label:"E-scooter Power",applicable:e=>e.mode&&-1!==e.mode.indexOf("MICROMOBILITY")&&-1===e.mode.indexOf("MICROMOBILITY_RENT")&&-1===e.mode.indexOf("SCOOTER"),options:[{text:"Kid's hoverboard (6mph)",value:125},{text:"Entry-level scooter (11mph)",value:250},{text:"Robust E-scooter (18mph)",value:500},{text:"Powerful E-scooter (24mph)",value:1500}],itineraryRewrite:e=>{const t=e;let n,r;switch(t){case 125:n=2.8,r=99;break;case 250:n=5,r=102.5;break;case 500:n=8,r=120;break;case 1e3:n=11,r=111}return{maximumMicromobilitySpeed:n,watts:t,weight:r}}},{name:"ignoreRealtimeUpdates",routingTypes:["ITINERARY"],default:!1},{name:"companies",routingTypes:["ITINERARY"]},{name:"wheelchair",routingTypes:["ITINERARY","PROFILE"],default:!1,selector:"CHECKBOX",label:"Prefer Wheelchair Accessible Routes",icon:o.default.createElement(a.Wheelchair,null),applicable:(e,t)=>{if(!e.mode||!t.modes)return!1;const n=(t.modes.accessModes||[]).concat(t.modes.transitModes||[]);return e.mode.split(",").some((t=>{const r=n.find((e=>e.mode===t));return!(!r||!r.showWheelchairSetting)&&!!(!r.company||e.companies&&e.companies.split(",").includes(r.company))}))}},{name:"bannedRoutes",routingTypes:["ITINERARY"]},{name:"numItineraries",routingTypes:["ITINERARY"],default:3},{name:"intermediatePlaces",default:[],routingTypes:["ITINERARY"],itineraryRewrite:e=>Array.isArray(e)&&e.length>0?{intermediatePlaces:e.map((e=>u(e)))}:void 0},{name:"otherThanPreferredRoutesPenalty",default:900,routingTypes:["ITINERARY"]},{name:"preferredRoutes",routingTypes:["ITINERARY"]},{name:"maxPreTransitTime",routingTypes:["ITINERARY"]},{name:"waitReluctance",routingTypes:["ITINERARY"]},{name:"driveDistanceReluctance",routingTypes:["ITINERARY"]},{name:"driveTimeReluctance",routingTypes:["ITINERARY"]},{name:"waitAtBeginningFactor",routingTypes:["ITINERARY"]},{name:"bikeSwitchTime",routingTypes:["ITINERARY"]},{name:"bikeSwitchCost",routingTypes:["ITINERARY"]},{name:"minTransferTime",routingTypes:["ITINERARY"]},{name:"preferredAgencies",routingTypes:["ITINERARY"]},{name:"unpreferredRoutes",routingTypes:["ITINERARY"]},{name:"unpreferredAgencies",routingTypes:["ITINERARY"]},{name:"walkBoardCost",routingTypes:["ITINERARY"]},{name:"bikeBoardCost",routingTypes:["ITINERARY"]},{name:"whiteListedRoutes",routingTypes:["ITINERARY"]},{name:"bannedAgencies",routingTypes:["ITINERARY"]},{name:"whiteListedAgencies",routingTypes:["ITINERARY"]},{name:"bannedTrips",routingTypes:["ITINERARY"]},{name:"bannedStops",routingTypes:["ITINERARY"]},{name:"bannedStopsHard",routingTypes:["ITINERARY"]},{name:"transferPenalty",routingTypes:["ITINERARY"]},{name:"nonpreferredTransferPenalty",routingTypes:["ITINERARY"]},{name:"maxTransfers",routingTypes:["ITINERARY"]},{name:"batch",routingTypes:["ITINERARY"]},{name:"startTransitStopId",routingTypes:["ITINERARY"]},{name:"startTransitTripId",routingTypes:["ITINERARY"]},{name:"clampInitialWait",routingTypes:["ITINERARY"]},{name:"reverseOptimizeOnTheFly",routingTypes:["ITINERARY"]},{name:"boardSlack",routingTypes:["ITINERARY"]},{name:"alightSlack",routingTypes:["ITINERARY"]},{name:"locale",routingTypes:["ITINERARY"]},{name:"disableRemainingWeightHeuristic",routingTypes:["ITINERARY"]},{name:"flexFlagStopBufferSize",routingTypes:["ITINERARY"]},{name:"flexUseReservationServices",routingTypes:["ITINERARY"]},{name:"flexUseEligibilityServices",routingTypes:["ITINERARY"]},{name:"flexIgnoreDrtAdvanceBookMin",routingTypes:["ITINERARY"]},{name:"maxHours",routingTypes:["ITINERARY"]},{name:"useRequestedDateTimeInMaxHours",routingTypes:["ITINERARY"]},{name:"disableAlertFiltering",routingTypes:["ITINERARY"]},{name:"geoidElevation",routingTypes:["ITINERARY"]},{name:"invalidDateStrategy",routingTypes:["ITINERARY"]},{name:"minTransitDistance",routingTypes:["ITINERARY"]},{name:"searchTimeout",routingTypes:["ITINERARY"]},{name:"pathComparator",routingTypes:["ITINERARY"]},{name:"onlyTransitTrips",routingTypes:["ITINERARY"]},{name:"minimumMicromobilitySpeed",routingTypes:["ITINERARY"]}];f.forEach((e=>{e.name in d&&(e.default=d[e.name],e.userDefaultOverride=!0)}));var p=f;t.default=p},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(764),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(93))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i,o,a,s,l=1,c={},u=!1,d=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){m(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){m(e.data)},r=function(e){o.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(i=d.documentElement,r=function(e){var t=d.createElement("script");t.onreadystatechange=function(){m(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(m,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&m(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(a+t,"*")}),f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return c[l]=i,r(l),l++},f.clearImmediate=p}function p(e){delete c[e]}function m(e){if(u)setTimeout(m,0,e);else{var t=c[e];if(t){u=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{p(e),u=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(93),n(254))},function(e,t,n){"use strict";var r=n(36);t.__esModule=!0,t.default=function(e,t){return function(n){var r=n.currentTarget,a=n.target;(0,o.default)(r,e).some((function(e){return(0,i.default)(e,a)}))&&t.call(this,n)}};var i=r(n(224)),o=r(n(766));e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n,o="#"===t[0],a="."===t[0],s=o||a?t.slice(1):t;if(r.test(s))return o?(e=e.getElementById?e:document,(n=e.getElementById(s))?[n]:[]):e.getElementsByClassName&&a?i(e.getElementsByClassName(s)):i(e.getElementsByTagName(t));return i(e.querySelectorAll(t))};var r=/^[\w-]*$/,i=Function.prototype.bind.call(Function.prototype.call,[].slice);e.exports=t.default},function(e,t,n){"use strict";var r=n(36);t.__esModule=!0,t.default=void 0;var i=r(n(163)),o=r(n(360)),a=r(n(361)),s=function(){};i.default&&(s=function(e,t,n,r){return(0,o.default)(e,t,n,r),function(){(0,a.default)(e,t,n,r)}});var l=s;t.default=l,e.exports=t.default},function(e,t,n){"use strict";var r=n(36);t.__esModule=!0,t.default=function(e){void 0===e&&(e=(0,i.default)());try{return e.activeElement}catch(e){}};var i=r(n(200));e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r,i=n(770),o=(r=i)&&r.__esModule?r:{default:r};var a={};function s(e,t){return function(n,r,i,s,l){var c=i||"<<anonymous>>",u=l||r;if(null!=n[r]){var d=i+"."+r;(0,o.default)(a[d],"The "+s+" `"+u+"` of `"+c+"` is deprecated. "+t+"."),a[d]=!0}for(var f=arguments.length,p=Array(f>5?f-5:0),m=5;m<f;m++)p[m-5]=arguments[m];return e.apply(void 0,[n,r,i,s,l].concat(p))}}s._resetWarned=function(){a={}},e.exports=t.default},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";t.__esModule=!0;var r=l(n(772)),i=l(n(232)),o=l(n(330)),a=l(n(391)),s=n(775);function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){return n=function(e){return-1!==e.modals.indexOf(t)},r=-1,e.some((function(e,t){if(n(e,t))return r=t,!0})),r;var n,r}function d(e,t){var n={overflow:"hidden"};e.style={overflow:t.style.overflow,paddingRight:t.style.paddingRight},e.overflowing&&(n.paddingRight=parseInt((0,i.default)(t,"paddingRight")||0,10)+(0,o.default)()+"px"),(0,i.default)(t,n)}function f(e,t){var n=e.style;Object.keys(n).forEach((function(e){return t.style[e]=n[e]}))}t.default=function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.hideSiblingNodes,o=void 0===i||i,l=n.handleContainerOverflow,p=void 0===l||l;c(this,e),this.add=function(e,n,i){var o=t.modals.indexOf(e),l=t.containers.indexOf(n);if(-1!==o)return o;if(o=t.modals.length,t.modals.push(e),t.hideSiblingNodes&&(0,s.hideSiblings)(n,e.mountNode),-1!==l)return t.data[l].modals.push(e),o;var c={modals:[e],classes:i?i.split(/\s+/):[],overflowing:(0,a.default)(n)};return t.handleContainerOverflow&&d(c,n),c.classes.forEach(r.default.addClass.bind(null,n)),t.containers.push(n),t.data.push(c),o},this.remove=function(e){var n=t.modals.indexOf(e);if(-1!==n){var i=u(t.data,e),o=t.data[i],a=t.containers[i];o.modals.splice(o.modals.indexOf(e),1),t.modals.splice(n,1),0===o.modals.length?(o.classes.forEach(r.default.removeClass.bind(null,a)),t.handleContainerOverflow&&f(o,a),t.hideSiblingNodes&&(0,s.showSiblings)(a,e.mountNode),t.containers.splice(i,1),t.data.splice(i,1)):t.hideSiblingNodes&&(0,s.ariaHidden)(!1,o.modals[o.modals.length-1].mountNode)}},this.isTopModal=function(e){return!!t.modals.length&&t.modals[t.modals.length-1]===e},this.hideSiblingNodes=o,this.handleContainerOverflow=p,this.modals=[],this.containers=[],this.data=[]},e.exports=t.default},function(e,t,n){"use strict";var r=n(36);t.__esModule=!0,t.default=void 0;var i=r(n(773));t.addClass=i.default;var o=r(n(774));t.removeClass=o.default;var a=r(n(489));t.hasClass=a.default;var s={addClass:i.default,removeClass:o.default,hasClass:a.default};t.default=s},function(e,t,n){"use strict";var r=n(36);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,i.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var i=r(n(489));e.exports=t.default},function(e,t,n){"use strict";function r(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=r(e.className,t):e.setAttribute("class",r(e.className&&e.className.baseVal||"",t))}},function(e,t,n){"use strict";t.__esModule=!0,t.ariaHidden=o,t.hideSiblings=function(e,t){i(e,t,(function(e){return o(!0,e)}))},t.showSiblings=function(e,t){i(e,t,(function(e){return o(!1,e)}))};var r=["template","script","style"],i=function(e,t,n){t=[].concat(t),[].forEach.call(e.children,(function(e){var i,o,a;-1===t.indexOf(e)&&(o=(i=e).nodeType,a=i.tagName,1===o&&-1===r.indexOf(a.toLowerCase()))&&n(e)}))};function o(e,t){t&&(e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))}},function(e,t,n){"use strict";t.__esModule=!0;var r=o(n(2)),i=o(n(0));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l={children:r.default.node},c=function(e){function t(){return a(this,t),s(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return this.props.children},t}(i.default.Component);c.propTypes=l,t.default=c,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=!document.addEventListener,n=void 0;t?(document.attachEvent("onfocusin",e),n=function(){return document.detachEvent("onfocusin",e)}):(document.addEventListener("focus",e,!0),n=function(){return document.removeEventListener("focus",e,!0)});return{remove:n}},e.exports=t.default},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.generateModeSettingLabels=void 0;var o=n(51),a=i(n(152)),s=(0,o.flatten)(a.default);function l(e,t){switch(e){case"walkReluctance":return t.formatMessage({defaultMessage:s["otpUi.ModeSelector.settings.walkReluctance-label"],description:"Metro Mode Selector Setting Label (Walk Reluctance)",id:"otpUi.ModeSelector.settings.walkReluctance-label"});case"walkTolerance":return t.formatMessage({defaultMessage:s["otpUi.ModeSelector.settings.walkTolerance-label"],description:"Metro Mode Selector Setting Label (Walk Tolerance)",id:"otpUi.ModeSelector.settings.walkTolerance-label"});case"carTolerance":return t.formatMessage({defaultMessage:s["otpUi.ModeSelector.settings.carTolerance-label"],description:"Metro Mode Selector Setting Label (Car Tolerance)",id:"otpUi.ModeSelector.settings.carTolerance-label"});case"bikeTolerance":return t.formatMessage({defaultMessage:s["otpUi.ModeSelector.settings.bikeTolerance-label"],description:"Metro Mode Selector Setting Label (Bike Tolerance)",id:"otpUi.ModeSelector.settings.bikeTolerance-label"});case"wheelchair":return t.formatMessage({defaultMessage:s["otpUi.ModeSelector.settings.wheelchair-label"],description:"Metro Mode Selector Setting Label (wheelchair)",id:"otpUi.ModeSelector.settings.wheelchair-label"});case"bus":return t.formatMessage({defaultMessage:s["otpUi.ModeSelector.settings.bus-label"],description:"Metro Mode Selector Setting Label (bus)",id:"otpUi.ModeSelector.settings.bus-label"});case"ferry":return t.formatMessage({defaultMessage:s["otpUi.ModeSelector.settings.ferry-label"],description:"Metro Mode Selector Setting Label (ferry)",id:"otpUi.ModeSelector.settings.ferry-label"});case"subway":return t.formatMessage({defaultMessage:s["otpUi.ModeSelector.settings.subway-label"],description:"Metro Mode Selector Setting Label (subway)",id:"otpUi.ModeSelector.settings.subway-label"});case"tram":return t.formatMessage({defaultMessage:s["otpUi.ModeSelector.settings.tram-label"],description:"Metro Mode Selector Setting Label (tram)",id:"otpUi.ModeSelector.settings.tram-label"});case"rail":return t.formatMessage({defaultMessage:s["otpUi.ModeSelector.settings.rail-label"],description:"Metro Mode Selector Setting Label (rail)",id:"otpUi.ModeSelector.settings.rail-label"});default:return t.formatMessage({defaultMessage:s["otpUi.ModeSelector.settings.".concat(e,"-label")],description:"Metro Mode Selector Setting Label (".concat(e,")"),id:"otpUi.ModeSelector.settings.".concat(e,"-label")})}}t.default=function(e,t,n){switch(e.toLocaleLowerCase()){case"transit":return t.formatMessage({defaultMessage:s["otpUi.ModeSelector.labels.transit"],description:"Metro Mode Selector Label (transit)",id:"otpUi.ModeSelector.labels.transit"});case"walk":return t.formatMessage({defaultMessage:s["otpUi.ModeSelector.labels.walk"],description:"Metro Mode Selector Label (walk)",id:"otpUi.ModeSelector.labels.walk"});case"bicycle":return t.formatMessage({defaultMessage:s["otpUi.ModeSelector.labels.bicycle"],description:"Metro Mode Selector Label (bicycle)",id:"otpUi.ModeSelector.labels.bicycle"});case"car":return t.formatMessage({defaultMessage:s["otpUi.ModeSelector.labels.car"],description:"Metro Mode Selector Label (car)",id:"otpUi.ModeSelector.labels.car"});case"rent":return t.formatMessage({defaultMessage:s["otpUi.ModeSelector.labels.rent"],description:"Metro Mode Selector Label (rent)",id:"otpUi.ModeSelector.labels.rent"});default:return t.formatMessage({defaultMessage:n||s["otpUi.ModeSelector.labels.".concat(e)],description:"Metro Mode Selector Label (".concat(e,")"),id:"otpUi.ModeSelector.labels.".concat(e)})}},t.generateModeSettingLabels=function(e,t,n,i){switch(e){case"SLIDER":return r({label:i||l(t,n)},function(e,t){switch(e){case"bikeTolerance":return{labelLow:t.formatMessage({defaultMessage:s["otpUi.ModeSelector.settings.bikeTolerance-labelLow"],description:"Metro Mode Selector Setting Slider Label Low (Bike Tolerance)",id:"otpUi.ModeSelector.settings.bikeTolerance-labelLow"}),labelHigh:t.formatMessage({defaultMessage:s["otpUi.ModeSelector.settings.bikeTolerance-labelHigh"],description:"Metro Mode Selector Setting Slider Label High (Bike Tolerance)",id:"otpUi.ModeSelector.settings.bikeTolerance-labelHigh"})};case"carTolerance":return{labelLow:t.formatMessage({defaultMessage:s["otpUi.ModeSelector.settings.carTolerance-labelLow"],description:"Metro Mode Selector Setting Slider Label Low (Car Tolerance)",id:"otpUi.ModeSelector.settings.carTolerance-labelLow"}),labelHigh:t.formatMessage({defaultMessage:s["otpUi.ModeSelector.settings.carTolerance-labelHigh"],description:"Metro Mode Selector Setting Slider Label High (Car Tolerance)",id:"otpUi.ModeSelector.settings.carTolerance-labelHigh"})};case"walkTolerance":return{labelLow:t.formatMessage({defaultMessage:s["otpUi.ModeSelector.settings.walkTolerance-labelLow"],description:"Metro Mode Selector Setting Slider Label Low (Walk Tolerance)",id:"otpUi.ModeSelector.settings.walkTolerance-labelLow"}),labelHigh:t.formatMessage({defaultMessage:s["otpUi.ModeSelector.settings.walkTolerance-labelHigh"],description:"Metro Mode Selector Setting Slider Label High (Walk Tolerance)",id:"otpUi.ModeSelector.settings.walkTolerance-labelHigh"})};default:return{labelLow:t.formatMessage({defaultMessage:s["otpUi.ModeSelector.settings.".concat(e,"-labelLow")],description:"Metro Mode Selector Slider Label High (".concat(e,")"),id:"otpUi.ModeSelector.settings.".concat(e,"-labelLow")}),labelHigh:t.formatMessage({defaultMessage:s["otpUi.ModeSelector.settings.".concat(e,"-labelHigh")],description:"Metro Mode Selector Slider Label Low (".concat(e,")"),id:"otpUi.ModeSelector.settings.".concat(e,"-labelHigh")})}}}(t,n));case"CHECKBOX":case"SUBMODE":case"DROPDOWN":default:return{label:i||l(t,n)}}}},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"addTrackers",(function(){return ie})),n.d(r,"initialize",(function(){return oe})),n.d(r,"ga",(function(){return ae})),n.d(r,"set",(function(){return se})),n.d(r,"send",(function(){return le})),n.d(r,"pageview",(function(){return ce})),n.d(r,"modalview",(function(){return ue})),n.d(r,"timing",(function(){return de})),n.d(r,"event",(function(){return fe})),n.d(r,"exception",(function(){return pe})),n.d(r,"plugin",(function(){return me})),n.d(r,"outboundLink",(function(){return he})),n.d(r,"testModeAPI",(function(){return ge})),n.d(r,"default",(function(){return ye}));n(528);var i=n(18);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var l="function"==typeof Symbol&&Symbol.observable||"@@observable",c=function(){return Math.random().toString(36).substring(7).split("").join(".")},u={INIT:"@@redux/INIT"+c(),REPLACE:"@@redux/REPLACE"+c(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+c()}};function d(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var p=n(8),m=n(50),h=(n(534),n(0)),g=n.n(h),y=n(2),v=n.n(y);function b(e){console.warn("[react-ga]",e)}function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C(e);if(t){var i=C(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return I(this,n)}}function I(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?k(e):t}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N="_blank",j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(o,e);var t,n,r,i=T(o);function o(){var e;A(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return M(k(e=i.call.apply(i,[this].concat(n))),"handleClick",(function(t){var n=e.props,r=n.target,i=n.eventLabel,a=n.to,s=n.onClick,l=n.trackerNames,c={label:i},u=r!==N,d=!(t.ctrlKey||t.shiftKey||t.metaKey||1===t.button);u&&d?(t.preventDefault(),o.trackLink(c,(function(){window.location.href=a}),l)):o.trackLink(c,(function(){}),l),s&&s(t)})),e}return t=o,(n=[{key:"render",value:function(){var e=this.props,t=e.to,n=e.target,r=E(E({},_(e,["to","target"])),{},{target:n,href:t,onClick:this.handleClick});return n===N&&(r.rel="".concat(r.rel?r.rel:""," noopener noreferrer").trim()),delete r.eventLabel,delete r.trackerNames,g.a.createElement("a",r)}}])&&O(t.prototype,n),r&&O(t,r),o}(h.Component);M(j,"trackLink",(function(){b("ga tracking not enabled")})),j.propTypes={eventLabel:v.a.string.isRequired,target:v.a.string,to:v.a.string,onClick:v.a.func,trackerNames:v.a.arrayOf(v.a.string)},j.defaultProps={target:null,to:null,onClick:null,trackerNames:null};function L(e){return"string"==typeof(t=e)&&-1!==t.indexOf("@")?(b("This arg looks like an email address, redacting."),"REDACTED (Potential Email Address)"):e;var t}function R(e){return e&&e.toString().replace(/^\s+|\s+$/g,"")}var D=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function P(e){return R(e).replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,(function(e,t,n){return t>0&&t+e.length!==n.length&&e.search(D)>-1&&":"!==n.charAt(t-2)&&("-"!==n.charAt(t+e.length)||"-"===n.charAt(t-1))&&n.charAt(t-1).search(/[^\s-]/)<0?e.toLowerCase():e.substr(1).search(/[A-Z]|\../)>-1?e:e.charAt(0).toUpperCase()+e.substr(1)}))}var B=!1;function F(e){console.info("[react-ga]",e)}var U=[],z={calls:U,ga:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];U.push([].concat(t))},resetCalls:function(){U.length=0}};function V(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e){return function(e){if(Array.isArray(e))return Q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Z="undefined"==typeof window||"undefined"==typeof document,X=!1,J=!0,q=!1,K=!0,$=!0,ee=function(){var e;return q?z.ga.apply(z,arguments):!Z&&(window.ga?(e=window).ga.apply(e,arguments):b("ReactGA.initialize must be called first or GoogleAnalytics should be loaded manually"))};function te(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=e||"";return(arguments.length>1?arguments[1]:void 0)&&(n=P(e)),t&&(n=L(n)),n}(e,J,$)}function ne(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n[0];"string"==typeof i?(!K&&Array.isArray(e)||ee.apply(void 0,n),Array.isArray(e)&&e.forEach((function(e){ee.apply(void 0,Y(["".concat(e,".").concat(i)].concat(n.slice(1))))}))):b("ga command must be a string")}function re(e,t){e?t&&(t.debug&&!0===t.debug&&(X=!0),!1===t.titleCase&&(J=!1),!1===t.redactEmail&&($=!1),t.useExistingGa)||(t&&t.gaOptions?ee("create",e,t.gaOptions):ee("create",e,"auto")):b("gaTrackingID is required in initialize()")}function ie(e,t){return Array.isArray(e)?e.forEach((function(e){"object"===W(e)?re(e.trackingId,e):b("All configs must be an object")})):re(e,t),!0}function oe(e,t){if(t&&!0===t.testMode)q=!0;else{if(Z)return;t&&!0===t.standardImplementation||function(e){if(!B){B=!0;var t="https://www.google-analytics.com/analytics.js";e&&e.gaAddress?t=e.gaAddress:e&&e.debug&&(t="https://www.google-analytics.com/analytics_debug.js");var n,r,i,o,a,s,l,c=e&&e.onerror;n=window,r=document,i="script",o=t,a="ga",n.GoogleAnalyticsObject=a,n.ga=n.ga||function(){(n.ga.q=n.ga.q||[]).push(arguments)},n.ga.l=1*new Date,s=r.createElement(i),l=r.getElementsByTagName(i)[0],s.async=1,s.src=o,s.onerror=c,l.parentNode.insertBefore(s,l)}}(t)}K=!t||"boolean"!=typeof t.alwaysSendToDefaultTracker||t.alwaysSendToDefaultTracker,ie(e,t)}function ae(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length>0&&(ee.apply(void 0,t),X&&(F("called ga('arguments');"),F("with arguments: ".concat(JSON.stringify(t))))),window.ga}function se(e,t){e?"object"===W(e)?(0===Object.keys(e).length&&b("empty `fieldsObject` given to .set()"),ne(t,"set",e),X&&(F("called ga('set', fieldsObject);"),F("with fieldsObject: ".concat(JSON.stringify(e))))):b("Expected `fieldsObject` arg to be an Object"):b("`fieldsObject` is required in .set()")}function le(e,t){ne(t,"send",e),X&&(F("called ga('send', fieldObject);"),F("with fieldObject: ".concat(JSON.stringify(e))),F("with trackers: ".concat(JSON.stringify(t))))}function ce(e,t,n){if(e){var r=R(e);if(""!==r){var i={};if(n&&(i.title=n),ne(t,"send",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({hitType:"pageview",page:r},i)),X){F("called ga('send', 'pageview', path);");var o="";n&&(o=" and title: ".concat(n)),F("with path: ".concat(r).concat(o))}}else b("path cannot be an empty string in .pageview()")}else b("path is required in .pageview()")}function ue(e,t){if(e){var n,r="/"===(n=R(e)).substring(0,1)?n.substring(1):n;if(""!==r){var i="/modal/".concat(r);ne(t,"send","pageview",i),X&&(F("called ga('send', 'pageview', path);"),F("with path: ".concat(i)))}else b("modalName cannot be an empty string or a single / in .modalview()")}else b("modalName is required in .modalview(modalName)")}function de(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.category,n=e.variable,r=e.value,i=e.label,o=arguments.length>1?arguments[1]:void 0;if(t&&n&&"number"==typeof r){var a={hitType:"timing",timingCategory:te(t),timingVar:te(n),timingValue:r};i&&(a.timingLabel=te(i)),le(a,o)}else b("args.category, args.variable AND args.value are required in timing() AND args.value has to be a number")}function fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.category,n=e.action,r=e.label,i=e.value,o=e.nonInteraction,a=e.transport,s=V(e,["category","action","label","value","nonInteraction","transport"]),l=arguments.length>1?arguments[1]:void 0;if(t&&n){var c={hitType:"event",eventCategory:te(t),eventAction:te(n)};r&&(c.eventLabel=te(r)),void 0!==i&&("number"!=typeof i?b("Expected `args.value` arg to be a Number."):c.eventValue=i),void 0!==o&&("boolean"!=typeof o?b("`args.nonInteraction` must be a boolean."):c.nonInteraction=o),void 0!==a&&("string"!=typeof a?b("`args.transport` must be a string."):(-1===["beacon","xhr","image"].indexOf(a)&&b("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),c.transport=a)),Object.keys(s).filter((function(e){return"dimension"===e.substr(0,"dimension".length)})).forEach((function(e){c[e]=s[e]})),Object.keys(s).filter((function(e){return"metric"===e.substr(0,"metric".length)})).forEach((function(e){c[e]=s[e]})),le(c,l)}else b("args.category AND args.action are required in event()")}function pe(e,t){var n=e.description,r=e.fatal,i={hitType:"exception"};n&&(i.exDescription=te(n)),void 0!==r&&("boolean"!=typeof r?b("`args.fatal` must be a boolean."):i.exFatal=r),le(i,t)}var me={require:function(e,t,n){if(e){var r=R(e);if(""!==r){var i=n?"".concat(n,".require"):"require";if(t){if("object"!==W(t))return void b("Expected `options` arg to be an Object");0===Object.keys(t).length&&b("Empty `options` given to .require()"),ae(i,r,t),X&&F("called ga('require', '".concat(r,"', ").concat(JSON.stringify(t)))}else ae(i,r),X&&F("called ga('require', '".concat(r,"');"))}else b("`name` cannot be an empty string in .require()")}else b("`name` is required in .require()")},execute:function(e,t){for(var n,r,i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];if(1===o.length?n=o[0]:(r=o[0],n=o[1]),"string"!=typeof e)b("Expected `pluginName` arg to be a String.");else if("string"!=typeof t)b("Expected `action` arg to be a String.");else{var s="".concat(e,":").concat(t);n=n||null,r&&n?(ae(s,r,n),X&&(F("called ga('".concat(s,"');")),F('actionType: "'.concat(r,'" with payload: ').concat(JSON.stringify(n))))):n?(ae(s,n),X&&(F("called ga('".concat(s,"');")),F("with payload: ".concat(JSON.stringify(n))))):(ae(s),X&&F("called ga('".concat(s,"');")))}}};function he(e,t,n){if("function"==typeof t)if(e&&e.label){var r={hitType:"event",eventCategory:"Outbound",eventAction:"Click",eventLabel:te(e.label)},i=!1,o=setTimeout((function(){i=!0,t()}),250);r.hitCallback=function(){clearTimeout(o),i||t()},le(r,n)}else b("args.label is required in outboundLink()");else b("hitCallback function is required")}var ge=z,ye={initialize:oe,ga:ae,set:se,send:le,pageview:ce,modalview:ue,timing:de,event:fe,exception:pe,plugin:me,outboundLink:he,testModeAPI:z};function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){we(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function we(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}j.origTrackLink=j.trackLink,j.trackLink=he;var xe=j,Ee=be(be({},r),{},{OutboundLink:xe});function _e(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"==typeof i?i(n,r,e):t(i)}}}}var Ae=_e();Ae.withExtraArgument=_e;var Oe=Ae,Se=n(492),Te=n(174),Ie=n(102),ke=(n(541),n(187)),Ce=n(156),Me=n(166),Ne=n(188),je=n(239),Le=n(4),Re=n.n(Le),De=n(10),Pe=h.forwardRef((function(e,t){return h.createElement(De.a,Re()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 384 512"},e,{ref:t}),h.createElement("path",{fill:"currentColor",d:"M16 64C16 28.7 44.7 0 80 0h224c35.3 0 64 28.7 64 64v384c0 35.3-28.7 64-64 64H80c-35.3 0-64-28.7-64-64V64zm208 384c0-17.7-14.3-32-32-32s-32 14.3-32 32 14.3 32 32 32 32-14.3 32-32zm80-384H80v320h224V64z"}))}));Pe.displayName="MobileAlt";var Be=h.forwardRef((function(e,t){return h.createElement(De.a,Re()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 448 512"},e,{ref:t}),h.createElement("path",{fill:"currentColor",d:"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32v144H48c-17.7 0-32 14.3-32 32s14.3 32 32 32h144v144c0 17.7 14.3 32 32 32s32-14.3 32-32V288h144c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"}))}));Be.displayName="Plus";var Fe=n(323),Ue=h.forwardRef((function(e,t){return h.createElement(De.a,Re()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),h.createElement("path",{fill:"currentColor",d:"M313.4 479.1c26-5.2 42.9-30.5 37.7-56.5l-2.3-11.4c-5.3-26.7-15.1-52.1-28.8-75.2h144c26.5 0 48-21.5 48-48 0-25.3-19.5-46-44.3-47.9 7.7-8.5 12.3-19.8 12.3-32.1 0-23.4-16.8-42.9-38.9-47.1 4.4-7.3 6.9-15.8 6.9-24.9 0-21.3-13.9-39.4-33.1-45.6.7-3.3 1.1-6.8 1.1-10.4 0-26.5-21.5-48-48-48h-73.5c-19 0-37.5 5.6-53.3 16.1l-38.5 25.7C176 91.6 160 121.6 160 153.7V264.9c0 29.2 13.3 56.7 36 75l7.4 5.9c26.5 21.2 44.6 51 51.2 84.2l2.3 11.4c5.2 26 30.5 42.9 56.5 37.7zM32 320h64c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32H32C14.3 32 0 46.3 0 64v224c0 17.7 14.3 32 32 32z"}))}));Ue.displayName="ThumbsDown";var ze=h.forwardRef((function(e,t){return h.createElement(De.a,Re()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:t}),h.createElement("path",{fill:"currentColor",d:"M313.4 32.9c26 5.2 42.9 30.5 37.7 56.5l-2.3 11.4c-5.3 26.7-15.1 52.1-28.8 75.2h144c26.5 0 48 21.5 48 48 0 25.3-19.5 46-44.3 47.9 7.7 8.5 12.3 19.8 12.3 32.1 0 23.4-16.8 42.9-38.9 47.1 4.4 7.2 6.9 15.8 6.9 24.9 0 21.3-13.9 39.4-33.1 45.6.7 3.3 1.1 6.8 1.1 10.4 0 26.5-21.5 48-48 48h-73.5c-19 0-37.5-5.6-53.3-16.1l-38.5-25.7C176 420.4 160 390.4 160 358.3V247.1c0-29.2 13.3-56.7 36-75l7.4-5.9c26.5-21.2 44.6-51 51.2-84.2l2.3-11.4c5.2-26 30.5-42.9 56.5-37.7zM32 192h64c17.7 0 32 14.3 32 32v224c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32V224c0-17.7 14.3-32 32-32z"}))}));ze.displayName="ThumbsUp";var Ve=h.forwardRef((function(e,t){return h.createElement(De.a,Re()({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 448 512"},e,{ref:t}),h.createElement("path",{fill:"currentColor",d:"M416 0c-16 0-128 32-128 176v112c0 35.3 28.7 64 64 64h32v128c0 17.7 14.3 32 32 32s32-14.3 32-32V32c0-17.7-14.3-32-32-32zM64 16C64 7.8 57.9 1 49.7.1S34.2 4.6 32.4 12.5L2.1 148.8C.7 155.1 0 161.5 0 167.9c0 45.9 35.1 83.6 80 87.7V480c0 17.7 14.3 32 32 32s32-14.3 32-32V255.6c44.9-4.1 80-41.8 80-87.7 0-6.4-.7-12.8-2.1-19.1L191.6 12.5c-1.8-8-9.3-13.3-17.4-12.4S160 7.8 160 16v134.2c0 5.4-4.4 9.8-9.8 9.8-5.1 0-9.3-3.9-9.8-9L127.9 14.6C127.2 6.3 120.3 0 112 0S96.8 6.3 96.1 14.6L83.7 151c-.5 5.1-4.7 9-9.8 9-5.4 0-9.8-4.4-9.8-9.8V16zm48.3 152h-.6l.3-.7.3.7z"}))}));Ve.displayName="Utensils";var Ge,He=n(393),We=n.n(He),Ye=n(494),Qe=n.n(Ye),Ze=n(120);function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){qe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ke=n(490);Ke.title&&(document.title=Ke.title);var $e=n(491).configure(Ke),et=null==Ke||null===(Ge=Ke.bugsnag)||void 0===Ge?void 0:Ge.key;et&&We.a.start({apiKey:et,plugins:[new Qe.a]});var tt=et?We.a.getPlugin("react").createErrorBoundary(g.a):g.a.Fragment,nt=$e.getCustomIcon,rt=$e.ItineraryBody,it=$e.ItineraryPreviewSupplement,ot=$e.LegIcon,at=$e.MainPanel,st=$e.MobileResultsScreen,lt=$e.MobileSearchScreen,ct=$e.ModeIcon,ut=$e.RouteRenderer,dt={ItineraryBody:rt,LegIcon:ot,MainPanel:at,MobileResultsScreen:st,MobileSearchScreen:lt,ModeIcon:ct},ft=Object.keys(dt).filter((function(e){return!dt[e]}));if(ft.length>0)throw new Error("The following required components are missing from config.js: ".concat(ft.join(", ")));var pt=function(e){var t=e.className,n=e.iconName,r=e.style,i=nt&&nt(n);if(i)return g.a.createElement(i,{className:t,style:r});switch(n){case"mobile":return g.a.createElement(Pe,{className:t,style:r});case"thumbs-down":return g.a.createElement(Ue,{className:t,style:r});case"question-circle":return g.a.createElement(Fe.a,{className:t,style:r});case"thumbs-up":return g.a.createElement(ze,{className:t,style:r});case"briefcase":return g.a.createElement(ke.a,{className:t,style:r});case"home":return g.a.createElement(Ne.a,{className:t,style:r});case"map-marker":return g.a.createElement(je.a,{className:t,style:r});case"cutlery":return g.a.createElement(Ve,{className:t,style:r});case"plus":return g.a.createElement(Be,{className:t,style:r});case"clock-o":return g.a.createElement(Ce.a,{className:t,style:r});default:return console.warn("Custom icon provider not found for icon ".concat(n,". Using fallback icon ExternalLinkAlt.")),g.a.createElement(Me.ExternalLinkAlt,{className:t,style:r})}};pt.propTypes={className:y.string,iconName:y.string,style:y.object};var mt=!!Ke.datastoreUrl,ht={defaultMobileTitle:function(){return g.a.createElement("div",{className:"navbar-title"},"OpenTripPlanner")},getCustomMapOverlays:function(){return[]},getTransitiveRouteLabel:function(e){return e.routeShortName},ItineraryBody:Ze.d,ItineraryPreviewSupplement:it,MainPanel:Ze.b,MapWindows:mt?$e.MapWindows:null,MobileResultsScreen:Ze.a,MobileSearchScreen:Ze.c,ModeIcon:ct,RouteRenderer:ut,SvgIcon:pt,TermsOfService:function(){return g.a.createElement(g.a.Fragment,null,g.a.createElement("h1",null,"Terms of Service"),g.a.createElement("p",null,"Content for terms of service."))},TermsOfStorage:function(){return g.a.createElement(g.a.Fragment,null,g.a.createElement("h1",null,"Terms of Storage"),g.a.createElement("p",null,"Content for terms of storage."))}},gt=function(){return g.a.createElement(tt,null,g.a.createElement(Ze.f,{components:Je(Je({},ht),$e)}))};n.e(11).then(n.t.bind(null,1176,7));var yt=n(490),vt=n(491).configure(yt);yt.api.planQuery=vt.planQuery;var bt=Object(Ie.b)(),wt=[Oe,Object(Se.a)(bt)];var xt=function e(t,n,r){var i;if("function"==typeof n&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error(s(0));if("function"==typeof n&&void 0===r&&(r=n,n=void 0),void 0!==r){if("function"!=typeof r)throw new Error(s(1));return r(e)(t,n)}if("function"!=typeof t)throw new Error(s(2));var o=t,a=n,c=[],f=c,p=!1;function m(){f===c&&(f=c.slice())}function h(){if(p)throw new Error(s(3));return a}function g(e){if("function"!=typeof e)throw new Error(s(4));if(p)throw new Error(s(5));var t=!0;return m(),f.push(e),function(){if(t){if(p)throw new Error(s(6));t=!1,m();var n=f.indexOf(e);f.splice(n,1),c=null}}}function y(e){if(!d(e))throw new Error(s(7));if(void 0===e.type)throw new Error(s(8));if(p)throw new Error(s(9));try{p=!0,a=o(a,e)}finally{p=!1}for(var t=c=f,n=0;n<t.length;n++){(0,t[n])()}return e}function v(e){if("function"!=typeof e)throw new Error(s(10));o=e,y({type:u.REPLACE})}function b(){var e,t=g;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(s(11));function n(){e.next&&e.next(h())}return n(),{unsubscribe:t(n)}}})[l]=function(){return this},e}return y({type:u.INIT}),(i={dispatch:y,subscribe:g,getState:h,replaceReducer:v})[l]=b,i}(function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"==typeof e[i]&&(n[i]=e[i])}var o,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:u.INIT}))throw new Error(s(12));if(void 0===n(void 0,{type:u.PROBE_UNKNOWN_ACTION()}))throw new Error(s(13))}))}(n)}catch(e){o=e}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},l=0;l<a.length;l++){var c=a[l],u=n[c],d=e[c],f=u(d,t);if(void 0===f){t&&t.type;throw new Error(s(14))}i[c]=f,r=r||f!==d}return(r=r||a.length!==Object.keys(e).length)?i:e}}({callTaker:Object(Ze.g)(yt),otp:Object(Ze.h)(yt),router:Object(Te.b)(bt),user:Object(Ze.i)(yt)}),f(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(s(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return r=f.apply(void 0,o)(n.dispatch),a(a({},n),{},{dispatch:r})}}}.apply(void 0,wt)));Object(m.render)(g.a.createElement(p.a,{store:xt},g.a.createElement(gt,null)),document.getElementById("main")),yt.analytics&&yt.analytics.google&&(Ee.initialize(yt.analytics.google.globalSiteTag),Ee.pageview(window.location.pathname+window.location.search))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));function r(e,t,n){if(void 0===n&&(n=Error),!e)throw new n(t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(17),i=n(103),o=n(90),a=n(396);function s(e,t){return t?Object.keys(e).reduce((function(n,i){var o,a;return n[i]=(o=e[i],(a=t[i])?Object(r.a)(Object(r.a)(Object(r.a)({},o||{}),a||{}),Object.keys(o).reduce((function(e,t){return e[t]=Object(r.a)(Object(r.a)({},o[t]),a[t]||{}),e}),{})):o),n}),Object(r.a)({},e)):e}function l(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}var c=function(){function e(t,n,i,c){var u,d=this;if(void 0===n&&(n=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=d.formatToParts(e);if(1===t.length)return t[0].value;var n=t.reduce((function(e,t){return e.length&&t.type===a.a.literal&&"string"==typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e}),[]);return n.length<=1?n[0]||"":n},this.formatToParts=function(e){return Object(a.b)(d.ast,d.locales,d.formatters,d.formats,e,void 0,d.message)},this.resolvedOptions=function(){return{locale:Intl.NumberFormat.supportedLocalesOf(d.locales)[0]}},this.getAst=function(){return d.ast},"string"==typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=e.__parse(t,{ignoreTag:null==c?void 0:c.ignoreTag})}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=s(e.formats,i),this.locales=n,this.formatters=c&&c.formatters||(void 0===(u=this.formatterCache)&&(u={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:Object(o.a)((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,Object(r.d)([void 0],t)))}),{cache:l(u.number),strategy:o.b.variadic}),getDateTimeFormat:Object(o.a)((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,Object(r.d)([void 0],t)))}),{cache:l(u.dateTime),strategy:o.b.variadic}),getPluralRules:Object(o.a)((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,Object(r.d)([void 0],t)))}),{cache:l(u.pluralRules),strategy:o.b.variadic})})}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.__parse=i.m,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}()},function(e,t,n){"use strict";var r=n(65),i=n(94),o=n(97);function a(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var s=n(0),l=n.n(s),c=n(50),u=n.n(c),d=!1,f=n(252),p=function(e){return e.scrollTop},m="unmounted",h="exited",g="entering",y="entered",v="exiting",b=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=h,r.appearStatus=g):i=y:i=t.unmountOnExit||t.mountOnEnter?m:h,r.state={status:i},r.nextCallback=null,r}Object(o.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===m?{status:h}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==g&&n!==y&&(t=g):n!==g&&n!==y||(t=v)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===g){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:u.a.findDOMNode(this);n&&p(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===h&&this.setState({status:m})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[u.a.findDOMNode(this),r],o=i[0],a=i[1],s=this.getTimeouts(),l=r?s.appear:s.enter;!e&&!n||d?this.safeSetState({status:y},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:g},(function(){t.props.onEntering(o,a),t.onTransitionEnd(l,(function(){t.safeSetState({status:y},(function(){t.props.onEntered(o,a)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:u.a.findDOMNode(this);t&&!d?(this.props.onExit(r),this.safeSetState({status:v},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:h},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:h},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:u.a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===m)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Object(i.a)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return l.a.createElement(f.a.Provider,{value:null},"function"==typeof n?n(e,r):l.a.cloneElement(l.a.Children.only(n),r))},t}(l.a.Component);function w(){}b.contextType=f.a,b.propTypes={},b.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:w,onEntering:w,onEntered:w,onExit:w,onExiting:w,onExited:w},b.UNMOUNTED=m,b.EXITED=h,b.ENTERING=g,b.ENTERED=y,b.EXITING=v;var x=b,E=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"==typeof n.className?n.className=a(n.className,r):n.setAttribute("class",a(n.className&&n.className.baseVal||"",r)));var n,r}))},_=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1];t.removeClasses(i,"exit"),t.addClass(i,o?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]?"appear":"enter";t.addClass(i,o,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]?"appear":"enter";t.removeClasses(i,o),t.addClass(i,o,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,i=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}Object(o.a)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(r+=" "+i),"active"===n&&e&&p(e),r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"==typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,o=n.done;this.appliedClasses[t]={},r&&E(e,r),i&&E(e,i),o&&E(e,o)},n.render=function(){var e=this.props,t=(e.classNames,Object(i.a)(e,["classNames"]));return l.a.createElement(x,Object(r.a)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(l.a.Component);_.defaultProps={classNames:""},_.propTypes={};t.a=_},function(e,t,n){"use strict";var r=n(37),i=n(28),o=n(64),a=n(24),s=n(29),l=n.n(s),c=n(402),u=n.n(c),d=n(200),f=n.n(d),p=n(163),m=n.n(p),h=n(330),g=n.n(h),y=n(0),v=n.n(y),b=n(2),w=n.n(b),x=n(50),E=n.n(x),_=n(253),A=n.n(_),O=n(391),S=n.n(O),T=n(78),I=n.n(T),k=n(251),C=n(13),M={componentClass:I.a},N=function(e){function t(){return e.apply(this,arguments)||this}return Object(i.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,i=Object(r.a)(e,["componentClass","className"]),o=Object(C.f)(i),s=o[0],c=o[1],u=Object(C.d)(s);return v.a.createElement(t,Object(a.a)({},c,{className:l()(n,u)}))},t}(v.a.Component);N.propTypes=M,N.defaultProps={componentClass:"div"};var j=Object(C.a)("modal-body",N),L=n(57),R={dialogClassName:w.a.string},D=function(e){function t(){return e.apply(this,arguments)||this}return Object(i.a)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.dialogClassName,i=t.className,o=t.style,s=t.children,c=Object(r.a)(t,["dialogClassName","className","style","children"]),u=Object(C.f)(c),d=u[0],f=u[1],p=Object(C.e)(d),m=Object(a.a)({display:"block"},o),h=Object(a.a)({},Object(C.d)(d),((e={})[p]=!1,e[Object(C.e)(d,"dialog")]=!0,e));return v.a.createElement("div",Object(a.a)({},f,{tabIndex:"-1",role:"dialog",style:m,className:l()(i,p)}),v.a.createElement("div",{className:l()(n,h)},v.a.createElement("div",{className:Object(C.e)(d,"content"),role:"document"},s)))},t}(v.a.Component);D.propTypes=R;var P=Object(C.a)("modal",Object(C.b)([L.c.LARGE,L.c.SMALL],D)),B={componentClass:I.a},F=function(e){function t(){return e.apply(this,arguments)||this}return Object(i.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,i=Object(r.a)(e,["componentClass","className"]),o=Object(C.f)(i),s=o[0],c=o[1],u=Object(C.d)(s);return v.a.createElement(t,Object(a.a)({},c,{className:l()(n,u)}))},t}(v.a.Component);F.propTypes=B,F.defaultProps={componentClass:"div"};var U=Object(C.a)("modal-footer",F),z=n(67),V=n(329),G={closeLabel:w.a.string,closeButton:w.a.bool,onHide:w.a.func},H={$bs_modal:w.a.shape({onHide:w.a.func})},W=function(e){function t(){return e.apply(this,arguments)||this}return Object(i.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.closeLabel,n=e.closeButton,i=e.onHide,o=e.className,s=e.children,c=Object(r.a)(e,["closeLabel","closeButton","onHide","className","children"]),u=this.context.$bs_modal,d=Object(C.f)(c),f=d[0],p=d[1],m=Object(C.d)(f);return v.a.createElement("div",Object(a.a)({},p,{className:l()(o,m)}),n&&v.a.createElement(V.a,{label:t,onClick:Object(z.a)(u&&u.onHide,i)}),s)},t}(v.a.Component);W.propTypes=G,W.defaultProps={closeLabel:"Close",closeButton:!1},W.contextTypes=H;var Y=Object(C.a)("modal-header",W),Q={componentClass:I.a},Z=function(e){function t(){return e.apply(this,arguments)||this}return Object(i.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,i=Object(r.a)(e,["componentClass","className"]),o=Object(C.f)(i),s=o[0],c=o[1],u=Object(C.d)(s);return v.a.createElement(t,Object(a.a)({},c,{className:l()(n,u)}))},t}(v.a.Component);Z.propTypes=Q,Z.defaultProps={componentClass:"h4"};var X=Object(C.a)("modal-title",Z),J=n(267),q=n.n(J);var K=Object(a.a)({},A.a.propTypes,P.propTypes,{backdrop:w.a.oneOf(["static",!0,!1]),backdropClassName:w.a.string,keyboard:w.a.bool,animation:w.a.bool,dialogComponentClass:I.a,autoFocus:w.a.bool,enforceFocus:w.a.bool,restoreFocus:w.a.bool,show:w.a.bool,onHide:w.a.func,onEnter:w.a.func,onEntering:w.a.func,onEntered:w.a.func,onExit:w.a.func,onExiting:w.a.func,onExited:w.a.func,container:A.a.propTypes.container}),$=Object(a.a)({},A.a.defaultProps,{animation:!0,dialogComponentClass:P}),ee={$bs_modal:w.a.shape({onHide:w.a.func})};function te(e){return v.a.createElement(k.a,Object(a.a)({},e,{timeout:re.TRANSITION_DURATION}))}function ne(e){return v.a.createElement(k.a,Object(a.a)({},e,{timeout:re.BACKDROP_TRANSITION_DURATION}))}var re=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).handleEntering=r.handleEntering.bind(Object(o.a)(Object(o.a)(r))),r.handleExited=r.handleExited.bind(Object(o.a)(Object(o.a)(r))),r.handleWindowResize=r.handleWindowResize.bind(Object(o.a)(Object(o.a)(r))),r.handleDialogClick=r.handleDialogClick.bind(Object(o.a)(Object(o.a)(r))),r.setModalRef=r.setModalRef.bind(Object(o.a)(Object(o.a)(r))),r.state={style:{}},r}Object(i.a)(t,e);var n=t.prototype;return n.getChildContext=function(){return{$bs_modal:{onHide:this.props.onHide}}},n.componentWillUnmount=function(){this.handleExited()},n.setModalRef=function(e){this._modal=e},n.handleDialogClick=function(e){e.target===e.currentTarget&&this.props.onHide()},n.handleEntering=function(){u.a.on(window,"resize",this.handleWindowResize),this.updateStyle()},n.handleExited=function(){u.a.off(window,"resize",this.handleWindowResize)},n.handleWindowResize=function(){this.updateStyle()},n.updateStyle=function(){if(m.a){var e=this._modal.getDialogElement(),t=e.scrollHeight,n=f()(e),r=S()(E.a.findDOMNode(this.props.container||n.body)),i=t>n.documentElement.clientHeight;this.setState({style:{paddingRight:r&&!i?g()():void 0,paddingLeft:!r&&i?g()():void 0}})}},n.render=function(){var e=this.props,t=e.backdrop,n=e.backdropClassName,i=e.animation,o=e.show,s=e.dialogComponentClass,c=e.className,u=e.style,d=e.children,f=e.onEntering,p=e.onExited,m=Object(r.a)(e,["backdrop","backdropClassName","animation","show","dialogComponentClass","className","style","children","onEntering","onExited"]),h=function(e,t){var n=t.propTypes,r={},i={};return q()(e).forEach((function(e){var t=e[0],o=e[1];n[t]?r[t]=o:i[t]=o})),[r,i]}(m,A.a),g=h[0],y=h[1],b=o&&!i&&"in";return v.a.createElement(A.a,Object(a.a)({},g,{ref:this.setModalRef,show:o,containerClassName:Object(C.e)(m,"open"),transition:i?te:void 0,backdrop:t,backdropTransition:i?ne:void 0,backdropClassName:l()(Object(C.e)(m,"backdrop"),n,b),onEntering:Object(z.a)(f,this.handleEntering),onExited:Object(z.a)(p,this.handleExited)}),v.a.createElement(s,Object(a.a)({},y,{style:Object(a.a)({},this.state.style,u),className:l()(c,b),onClick:!0===t?this.handleDialogClick:null}),d))},t}(v.a.Component);re.propTypes=K,re.defaultProps=$,re.childContextTypes=ee,re.Body=j,re.Header=Y,re.Title=X,re.Footer=U,re.Dialog=P,re.TRANSITION_DURATION=300,re.BACKDROP_TRANSITION_DURATION=150;t.a=Object(C.a)("modal",Object(C.b)([L.c.LARGE,L.c.SMALL],re))},function(e,t,n){"use strict";var r=n(94),i=n(65),o=n(22),a=n(97),s=n(0),l=n.n(s),c=n(252);function u(e,t){var n=Object.create(null);return e&&s.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&Object(s.isValidElement)(e)?t(e):e}(e)})),n}function d(e,t,n){return null!=n[t]?n[t]:e.props[t]}function f(e,t,n){var r=u(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var c=i[l][r];s[i[l][r]]=n(c)}s[l]=n(l)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}(t,r);return Object.keys(i).forEach((function(o){var a=i[o];if(Object(s.isValidElement)(a)){var l=o in t,c=o in r,u=t[o],f=Object(s.isValidElement)(u)&&!u.props.in;!c||l&&!f?c||!l||f?c&&l&&Object(s.isValidElement)(u)&&(i[o]=Object(s.cloneElement)(a,{onExited:n.bind(null,a),in:u.props.in,exit:d(a,"exit",e),enter:d(a,"enter",e)})):i[o]=Object(s.cloneElement)(a,{in:!1}):i[o]=Object(s.cloneElement)(a,{onExited:n.bind(null,a),in:!0,exit:d(a,"exit",e),enter:d(a,"enter",e)})}})),i}var p=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},m=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(Object(o.a)(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}Object(a.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,i=t.children,o=t.handleExited;return{children:t.firstRender?(n=e,r=o,u(n.children,(function(e){return Object(s.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:d(e,"appear",n),enter:d(e,"enter",n),exit:d(e,"exit",n)})}))):f(e,i,o),firstRender:!1}},n.handleExited=function(e,t){var n=u(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=Object(i.a)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,i=Object(r.a)(e,["component","childFactory"]),o=this.state.contextValue,a=p(this.state.children).map(n);return delete i.appear,delete i.enter,delete i.exit,null===t?l.a.createElement(c.a.Provider,{value:o},a):l.a.createElement(c.a.Provider,{value:o},l.a.createElement(t,i,a))},t}(l.a.Component);m.propTypes={},m.defaultProps={component:"div",childFactory:function(e){return e}};t.a=m},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(24),i=n(37),o=n(28),a=n(29),s=n.n(a),l=n(0),c=n.n(l),u=n(2),d=n.n(u),f=n(318),p=n.n(f),m=n(509),h=n(13),g={vertical:d.a.bool,justified:d.a.bool,block:p()(d.a.bool,(function(e){var t=e.block,n=e.vertical;return t&&!n?new Error("`block` requires `vertical` to be set to have any effect"):null}))},y=function(e){function t(){return e.apply(this,arguments)||this}return Object(o.a)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.block,o=t.justified,a=t.vertical,l=t.className,u=Object(i.a)(t,["block","justified","vertical","className"]),d=Object(h.f)(u),f=d[0],p=d[1],g=Object(r.a)({},Object(h.d)(f),((e={})[Object(h.e)(f)]=!a,e[Object(h.e)(f,"vertical")]=a,e[Object(h.e)(f,"justified")]=o,e[Object(h.e)(m.a.defaultProps,"block")]=n,e));return c.a.createElement("div",Object(r.a)({},p,{className:s()(l,g)}))},t}(c.a.Component);y.propTypes=g,y.defaultProps={block:!1,justified:!1,vertical:!1},t.a=Object(h.a)("btn-group",y)},function(e,t,n){"use strict";var r=n(177),i=n.n(r),o=n(24),a=n(37),s=n(28),l=n(29),c=n.n(l),u=n(0),d=n.n(u),f=n(2),p=n.n(f),m=n(13),h=n(57),g=n(329),y={onDismiss:p.a.func,closeLabel:p.a.string},v=function(e){function t(){return e.apply(this,arguments)||this}return Object(s.a)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.onDismiss,r=t.closeLabel,i=t.className,s=t.children,l=Object(a.a)(t,["onDismiss","closeLabel","className","children"]),u=Object(m.f)(l),f=u[0],p=u[1],h=!!n,y=Object(o.a)({},Object(m.d)(f),((e={})[Object(m.e)(f,"dismissable")]=h,e));return d.a.createElement("div",Object(o.a)({},p,{role:"alert",className:c()(i,y)}),h&&d.a.createElement(g.a,{onClick:n,label:r}),s)},t}(d.a.Component);v.propTypes=y,v.defaultProps={closeLabel:"Close alert"},t.a=Object(m.c)(i()(h.d),h.d.INFO,Object(m.a)("alert",v))},function(e,t,n){"use strict";var r=n(177),i=n.n(r),o=n(24),a=n(37),s=n(28),l=n(29),c=n.n(l),u=n(0),d=n.n(u),f=n(13),p=n(57),m=function(e){function t(){return e.apply(this,arguments)||this}Object(s.a)(t,e);var n=t.prototype;return n.hasContent=function(e){var t=!1;return d.a.Children.forEach(e,(function(e){t||(e||0===e)&&(t=!0)})),t},n.render=function(){var e=this.props,t=e.className,n=e.children,r=Object(a.a)(e,["className","children"]),i=Object(f.f)(r),s=i[0],l=i[1],u=Object(o.a)({},Object(f.d)(s),{hidden:!this.hasContent(n)});return d.a.createElement("span",Object(o.a)({},l,{className:c()(t,u)}),n)},t}(d.a.Component);t.a=Object(f.a)("label",Object(f.c)(i()(p.d).concat([p.e.DEFAULT,p.e.PRIMARY]),p.e.DEFAULT,m))},function(e,t,n){"use strict";var r=n(24),i=n(37),o=n(28),a=n(29),s=n.n(a),l=n(0),c=n.n(l),u=n(78),d=n.n(u),f=n(13),p={componentClass:d.a},m=function(e){function t(){return e.apply(this,arguments)||this}return Object(o.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,o=Object(i.a)(e,["componentClass","className"]),a=Object(f.f)(o),l=a[0],u=a[1],d=Object(f.d)(l);return c.a.createElement(t,Object(r.a)({},u,{className:s()(n,d)}))},t}(c.a.Component);m.propTypes=p,m.defaultProps={componentClass:"div"},t.a=Object(f.a)("row",m)},function(e,t,n){"use strict";var r=n(24),i=n(37),o=n(28),a=n(29),s=n.n(a),l=n(0),c=n.n(l),u=n(2),d=n.n(u),f=n(78),p=n.n(f),m=n(13),h=n(57),g={componentClass:p.a,xs:d.a.number,sm:d.a.number,md:d.a.number,lg:d.a.number,xsHidden:d.a.bool,smHidden:d.a.bool,mdHidden:d.a.bool,lgHidden:d.a.bool,xsOffset:d.a.number,smOffset:d.a.number,mdOffset:d.a.number,lgOffset:d.a.number,xsPush:d.a.number,smPush:d.a.number,mdPush:d.a.number,lgPush:d.a.number,xsPull:d.a.number,smPull:d.a.number,mdPull:d.a.number,lgPull:d.a.number},y=function(e){function t(){return e.apply(this,arguments)||this}return Object(o.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,o=Object(i.a)(e,["componentClass","className"]),a=Object(m.f)(o),l=a[0],u=a[1],d=[];return h.a.forEach((function(e){function t(t,n){var r=""+e+t,i=u[r];null!=i&&d.push(Object(m.e)(l,""+e+n+"-"+i)),delete u[r]}t("",""),t("Offset","-offset"),t("Push","-push"),t("Pull","-pull");var n=e+"Hidden";u[n]&&d.push("hidden-"+e),delete u[n]})),c.a.createElement(t,Object(r.a)({},u,{className:s()(n,d)}))},t}(c.a.Component);y.propTypes=g,y.defaultProps={componentClass:"div"},t.a=Object(m.a)("col",y)},function(e,t,n){"use strict";function r(e){return 9===e||32===e}n.d(t,"a",(function(){return g}));const i=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function o(e){return a[e.charCodeAt(0)]}const a=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];function s(e,t){if(!Boolean(e))throw new Error(t)}function l(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return function(e,t){if(null===e)return"null";if(t.includes(e))return"[Circular]";const n=[...t,e];if(function(e){return"function"==typeof e.toJSON}(e)){const t=e.toJSON();if(t!==e)return"string"==typeof t?t:l(t,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";const n=Math.min(10,e.length),r=e.length-n,i=[];for(let r=0;r<n;++r)i.push(l(e[r],t));1===r?i.push("... 1 more item"):r>1&&i.push(`... ${r} more items`);return"["+i.join(", ")+"]"}(e,n);return function(e,t){const n=Object.entries(e);if(0===n.length)return"{}";if(t.length>2)return"["+function(e){const t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){const t=e.constructor.name;if("string"==typeof t&&""!==t)return t}return t}(e)+"]";return"{ "+n.map((([e,n])=>e+": "+l(n,t))).join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}Symbol.toStringTag;Symbol.toStringTag;const c={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},u=new Set(Object.keys(c));function d(e){const t=null==e?void 0:e.kind;return"string"==typeof t&&u.has(t)}var f,p;!function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"}(f||(f={})),function(e){e.NAME="Name",e.DOCUMENT="Document",e.OPERATION_DEFINITION="OperationDefinition",e.VARIABLE_DEFINITION="VariableDefinition",e.SELECTION_SET="SelectionSet",e.FIELD="Field",e.ARGUMENT="Argument",e.FRAGMENT_SPREAD="FragmentSpread",e.INLINE_FRAGMENT="InlineFragment",e.FRAGMENT_DEFINITION="FragmentDefinition",e.VARIABLE="Variable",e.INT="IntValue",e.FLOAT="FloatValue",e.STRING="StringValue",e.BOOLEAN="BooleanValue",e.NULL="NullValue",e.ENUM="EnumValue",e.LIST="ListValue",e.OBJECT="ObjectValue",e.OBJECT_FIELD="ObjectField",e.DIRECTIVE="Directive",e.NAMED_TYPE="NamedType",e.LIST_TYPE="ListType",e.NON_NULL_TYPE="NonNullType",e.SCHEMA_DEFINITION="SchemaDefinition",e.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",e.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",e.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",e.FIELD_DEFINITION="FieldDefinition",e.INPUT_VALUE_DEFINITION="InputValueDefinition",e.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",e.UNION_TYPE_DEFINITION="UnionTypeDefinition",e.ENUM_TYPE_DEFINITION="EnumTypeDefinition",e.ENUM_VALUE_DEFINITION="EnumValueDefinition",e.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",e.DIRECTIVE_DEFINITION="DirectiveDefinition",e.SCHEMA_EXTENSION="SchemaExtension",e.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",e.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",e.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",e.UNION_TYPE_EXTENSION="UnionTypeExtension",e.ENUM_TYPE_EXTENSION="EnumTypeExtension",e.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"}(p||(p={}));const m=Object.freeze({});function h(e,t){const n=e[t];return"object"==typeof n?n:"function"==typeof n?{enter:n,leave:void 0}:{enter:e.enter,leave:e.leave}}function g(e){return function(e,t,n=c){const r=new Map;for(const e of Object.values(p))r.set(e,h(t,e));let i,o,a,u=Array.isArray(e),f=[e],g=-1,y=[],v=e;const b=[],w=[];do{g++;const e=g===f.length,c=e&&0!==y.length;if(e){if(o=0===w.length?void 0:b[b.length-1],v=a,a=w.pop(),c)if(u){v=v.slice();let e=0;for(const[t,n]of y){const r=t-e;null===n?(v.splice(r,1),e++):v[r]=n}}else{v=Object.defineProperties({},Object.getOwnPropertyDescriptors(v));for(const[e,t]of y)v[e]=t}g=i.index,f=i.keys,y=i.edits,u=i.inArray,i=i.prev}else if(a){if(o=u?g:f[g],v=a[o],null==v)continue;b.push(o)}let p;if(!Array.isArray(v)){var x,E;d(v)||s(!1,`Invalid AST Node: ${A=v,l(A,[])}.`);const n=e?null===(x=r.get(v.kind))||void 0===x?void 0:x.leave:null===(E=r.get(v.kind))||void 0===E?void 0:E.enter;if(p=null==n?void 0:n.call(t,v,o,a,b,w),p===m)break;if(!1===p){if(!e){b.pop();continue}}else if(void 0!==p&&(y.push([o,p]),!e)){if(!d(p)){b.pop();continue}v=p}}var _;void 0===p&&c&&y.push([o,v]),e?b.pop():(i={inArray:u,index:g,keys:f,edits:y,prev:i},u=Array.isArray(v),f=u?v:null!==(_=n[v.kind])&&void 0!==_?_:[],g=-1,y=[],a&&w.push(a),a=v)}while(void 0!==i);var A;return 0!==y.length?y[y.length-1][1]:e}(e,y)}const y={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>v(e.definitions,"\n\n")},OperationDefinition:{leave(e){const t=w("(",v(e.variableDefinitions,", "),")"),n=v([e.operation,v([e.name,t]),v(e.directives," ")]," ");return("query"===n?"":n+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:n,directives:r})=>e+": "+t+w(" = ",n)+w(" ",v(r," "))},SelectionSet:{leave:({selections:e})=>b(e)},Field:{leave({alias:e,name:t,arguments:n,directives:r,selectionSet:i}){const o=w("",e,": ")+t;let a=o+w("(",v(n,", "),")");return a.length>80&&(a=o+w("(\n",x(v(n,"\n")),"\n)")),v([a,v(r," "),i]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+w(" ",v(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:n})=>v(["...",w("on ",e),v(t," "),n]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:n,directives:r,selectionSet:i})=>`fragment ${e}${w("(",v(n,", "),")")} on ${t} ${w("",v(r," ")," ")}`+i},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?function(e,t){const n=e.replace(/"""/g,'\\"""'),i=n.split(/\r\n|[\n\r]/g),o=1===i.length,a=i.length>1&&i.slice(1).every((e=>0===e.length||r(e.charCodeAt(0)))),s=n.endsWith('\\"""'),l=e.endsWith('"')&&!s,c=e.endsWith("\\"),u=l||c,d=!(null!=t&&t.minimize)&&(!o||e.length>70||u||a||s);let f="";const p=o&&r(e.charCodeAt(0));return(d&&!p||a)&&(f+="\n"),f+=n,(d||u)&&(f+="\n"),'"""'+f+'"""'}(e):`"${e.replace(i,o)}"`},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+v(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+v(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+w("(",v(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:n})=>w("",e,"\n")+v(["schema",v(t," "),b(n)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:n})=>w("",e,"\n")+v(["scalar",t,v(n," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:r,fields:i})=>w("",e,"\n")+v(["type",t,w("implements ",v(n," & ")),v(r," "),b(i)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:n,type:r,directives:i})=>w("",e,"\n")+t+(E(n)?w("(\n",x(v(n,"\n")),"\n)"):w("(",v(n,", "),")"))+": "+r+w(" ",v(i," "))},InputValueDefinition:{leave:({description:e,name:t,type:n,defaultValue:r,directives:i})=>w("",e,"\n")+v([t+": "+n,w("= ",r),v(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:r,fields:i})=>w("",e,"\n")+v(["interface",t,w("implements ",v(n," & ")),v(r," "),b(i)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:n,types:r})=>w("",e,"\n")+v(["union",t,v(n," "),w("= ",v(r," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:n,values:r})=>w("",e,"\n")+v(["enum",t,v(n," "),b(r)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:n})=>w("",e,"\n")+v([t,v(n," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:n,fields:r})=>w("",e,"\n")+v(["input",t,v(n," "),b(r)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:n,repeatable:r,locations:i})=>w("",e,"\n")+"directive @"+t+(E(n)?w("(\n",x(v(n,"\n")),"\n)"):w("(",v(n,", "),")"))+(r?" repeatable":"")+" on "+v(i," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>v(["extend schema",v(e," "),b(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>v(["extend scalar",e,v(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>v(["extend type",e,w("implements ",v(t," & ")),v(n," "),b(r)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>v(["extend interface",e,w("implements ",v(t," & ")),v(n," "),b(r)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:n})=>v(["extend union",e,v(t," "),w("= ",v(n," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:n})=>v(["extend enum",e,v(t," "),b(n)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:n})=>v(["extend input",e,v(t," "),b(n)]," ")}};function v(e,t=""){var n;return null!==(n=null==e?void 0:e.filter((e=>e)).join(t))&&void 0!==n?n:""}function b(e){return w("{\n",x(v(e,"\n")),"\n}")}function w(e,t,n=""){return null!=t&&""!==t?e+t+n:""}function x(e){return w("  ",e.replace(/\n/g,"\n  "))}function E(e){var t;return null!==(t=null==e?void 0:e.some((e=>e.includes("\n"))))&&void 0!==t&&t}},function(e,t,n){"use strict";var r=n(24),i=n(37),o=n(28),a=n(64),s=n(29),l=n.n(s),c=n(0),u=n.n(c),d=n(2),f=n.n(d),p=n(78),m=n.n(p),h=n(319),g=n.n(h),y=n(519),v=n(13),b={$bs_navbar:f.a.shape({bsClass:f.a.string})},w=function(e){function t(){return e.apply(this,arguments)||this}return Object(o.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,o=Object(i.a)(e,["className","children"]),a=this.context.$bs_navbar||{bsClass:"navbar"},s=Object(v.e)(a,"brand");return u.a.isValidElement(n)?u.a.cloneElement(n,{className:l()(n.props.className,t,s)}):u.a.createElement("span",Object(r.a)({},o,{className:l()(t,s)}),n)},t}(u.a.Component);w.contextTypes=b;var x=w,E=n(333),_={$bs_navbar:f.a.shape({bsClass:f.a.string,expanded:f.a.bool})},A=function(e){function t(){return e.apply(this,arguments)||this}return Object(o.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=Object(i.a)(e,["children"]),o=this.context.$bs_navbar||{bsClass:"navbar"},a=Object(v.e)(o,"collapse");return u.a.createElement(E.a,Object(r.a)({in:o.expanded},n),u.a.createElement("div",{className:a},t))},t}(u.a.Component);A.contextTypes=_;var O=A,S={$bs_navbar:f.a.shape({bsClass:f.a.string})},T=function(e){function t(){return e.apply(this,arguments)||this}return Object(o.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=Object(i.a)(e,["className"]),o=this.context.$bs_navbar||{bsClass:"navbar"},a=Object(v.e)(o,"header");return u.a.createElement("div",Object(r.a)({},n,{className:l()(t,a)}))},t}(u.a.Component);T.contextTypes=S;var I=T,k=n(67),C={onClick:f.a.func,children:f.a.node},M={$bs_navbar:f.a.shape({bsClass:f.a.string,expanded:f.a.bool,onToggle:f.a.func.isRequired})},N=function(e){function t(){return e.apply(this,arguments)||this}return Object(o.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.onClick,n=e.className,o=e.children,a=Object(i.a)(e,["onClick","className","children"]),s=this.context.$bs_navbar||{bsClass:"navbar"},c=Object(r.a)({type:"button"},a,{onClick:Object(k.a)(t,s.onToggle),className:l()(n,Object(v.e)(s,"toggle"),!s.expanded&&"collapsed")});return o?u.a.createElement("button",c,o):u.a.createElement("button",c,u.a.createElement("span",{className:"sr-only"},"Toggle navigation"),u.a.createElement("span",{className:"icon-bar"}),u.a.createElement("span",{className:"icon-bar"}),u.a.createElement("span",{className:"icon-bar"}))},t}(u.a.Component);N.propTypes=C,N.contextTypes=M;var j=N,L=n(57),R={fixedTop:f.a.bool,fixedBottom:f.a.bool,staticTop:f.a.bool,inverse:f.a.bool,fluid:f.a.bool,componentClass:m.a,onToggle:f.a.func,onSelect:f.a.func,collapseOnSelect:f.a.bool,expanded:f.a.bool,role:f.a.string},D={$bs_navbar:f.a.shape({bsClass:f.a.string,expanded:f.a.bool,onToggle:f.a.func.isRequired,onSelect:f.a.func})},P=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).handleToggle=r.handleToggle.bind(Object(a.a)(Object(a.a)(r))),r.handleCollapse=r.handleCollapse.bind(Object(a.a)(Object(a.a)(r))),r}Object(o.a)(t,e);var n=t.prototype;return n.getChildContext=function(){var e=this.props,t=e.bsClass,n=e.expanded,r=e.onSelect,i=e.collapseOnSelect;return{$bs_navbar:{bsClass:t,expanded:n,onToggle:this.handleToggle,onSelect:Object(k.a)(r,i?this.handleCollapse:null)}}},n.handleCollapse=function(){var e=this.props,t=e.onToggle;e.expanded&&t(!1)},n.handleToggle=function(){var e=this.props;(0,e.onToggle)(!e.expanded)},n.render=function(){var e,t=this.props,n=t.componentClass,o=t.fixedTop,a=t.fixedBottom,s=t.staticTop,c=t.inverse,d=t.fluid,f=t.className,p=t.children,m=Object(i.a)(t,["componentClass","fixedTop","fixedBottom","staticTop","inverse","fluid","className","children"]),h=Object(v.g)(m,["expanded","onToggle","onSelect","collapseOnSelect"]),g=h[0],b=h[1];void 0===b.role&&"nav"!==n&&(b.role="navigation"),c&&(g.bsStyle=L.e.INVERSE);var w=Object(r.a)({},Object(v.d)(g),((e={})[Object(v.e)(g,"fixed-top")]=o,e[Object(v.e)(g,"fixed-bottom")]=a,e[Object(v.e)(g,"static-top")]=s,e));return u.a.createElement(n,Object(r.a)({},b,{className:l()(f,w)}),u.a.createElement(y.a,{fluid:d},p))},t}(u.a.Component);P.propTypes=R,P.defaultProps={componentClass:"nav",fixedTop:!1,fixedBottom:!1,staticTop:!1,inverse:!1,fluid:!1,collapseOnSelect:!1},P.childContextTypes=D,Object(v.a)("navbar",P);var B=g()(P,{expanded:"onToggle"});function F(e,t,n){var o=function(e,n){var o=e.componentClass,a=e.className,s=e.pullRight,c=e.pullLeft,d=Object(i.a)(e,["componentClass","className","pullRight","pullLeft"]),f=n.$bs_navbar,p=void 0===f?{bsClass:"navbar"}:f;return u.a.createElement(o,Object(r.a)({},d,{className:l()(a,Object(v.e)(p,t),s&&Object(v.e)(p,"right"),c&&Object(v.e)(p,"left"))}))};return o.displayName=n,o.propTypes={componentClass:m.a,pullRight:f.a.bool,pullLeft:f.a.bool},o.defaultProps={componentClass:e,pullRight:!1,pullLeft:!1},o.contextTypes={$bs_navbar:f.a.shape({bsClass:f.a.string})},o}B.Brand=x,B.Header=I,B.Toggle=j,B.Collapse=O,B.Form=F("div","form","NavbarForm"),B.Text=F("p","text","NavbarText"),B.Link=F("a","link","NavbarLink");t.a=Object(v.c)([L.e.DEFAULT,L.e.INVERSE],L.e.DEFAULT,B)},function(e,t,n){"use strict";var r=n(37),i=n(28),o=n(64),a=n(24),s=n(513),l=n.n(s),c=n(224),u=n.n(c),d=n(0),f=n.n(d),p=n(2),m=n.n(p),h=n(50),g=n.n(h),y=(n(275),n(29)),v=n.n(y),b=n(401),w=n.n(b),x=n(78),E=n.n(x),_=n(251),A=Object(a.a)({},w.a.propTypes,{show:m.a.bool,rootClose:m.a.bool,onHide:m.a.func,animation:m.a.oneOfType([m.a.bool,E.a]),onEnter:m.a.func,onEntering:m.a.func,onEntered:m.a.func,onExit:m.a.func,onExiting:m.a.func,onExited:m.a.func,placement:m.a.oneOf(["top","right","bottom","left"])}),O={animation:_.a,rootClose:!1,show:!1,placement:"right"},S=function(e){function t(){return e.apply(this,arguments)||this}return Object(i.a)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.animation,i=t.children,o=Object(r.a)(t,["animation","children"]),s=!0===n?_.a:n||null;return e=s?i:Object(d.cloneElement)(i,{className:v()(i.props.className,"in")}),f.a.createElement(w.a,Object(a.a)({},o,{transition:s}),e)},t}(f.a.Component);S.propTypes=A,S.defaultProps=O;var T=S,I=n(67);function k(e,t){return l()(t)?t.indexOf(e)>=0:e===t}var C=m.a.oneOf(["click","hover","focus"]),M=Object(a.a)({},T.propTypes,{trigger:m.a.oneOfType([C,m.a.arrayOf(C)]),delay:m.a.number,delayShow:m.a.number,delayHide:m.a.number,defaultOverlayShown:m.a.bool,overlay:m.a.node.isRequired,onBlur:m.a.func,onClick:m.a.func,onFocus:m.a.func,onMouseOut:m.a.func,onMouseOver:m.a.func,target:m.a.oneOf([null]),onHide:m.a.oneOf([null]),show:m.a.oneOf([null])}),N=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).handleToggle=r.handleToggle.bind(Object(o.a)(Object(o.a)(r))),r.handleDelayedShow=r.handleDelayedShow.bind(Object(o.a)(Object(o.a)(r))),r.handleDelayedHide=r.handleDelayedHide.bind(Object(o.a)(Object(o.a)(r))),r.handleHide=r.handleHide.bind(Object(o.a)(Object(o.a)(r))),r.handleMouseOver=function(e){return r.handleMouseOverOut(r.handleDelayedShow,e,"fromElement")},r.handleMouseOut=function(e){return r.handleMouseOverOut(r.handleDelayedHide,e,"toElement")},r._mountNode=null,r.state={show:t.defaultOverlayShown},r}Object(i.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._mountNode=document.createElement("div"),this.renderOverlay()},n.componentDidUpdate=function(){this.renderOverlay()},n.componentWillUnmount=function(){g.a.unmountComponentAtNode(this._mountNode),this._mountNode=null,clearTimeout(this._hoverShowDelay),clearTimeout(this._hoverHideDelay)},n.handleDelayedHide=function(){var e=this;if(null!=this._hoverShowDelay)return clearTimeout(this._hoverShowDelay),void(this._hoverShowDelay=null);if(this.state.show&&null==this._hoverHideDelay){var t=null!=this.props.delayHide?this.props.delayHide:this.props.delay;t?this._hoverHideDelay=setTimeout((function(){e._hoverHideDelay=null,e.hide()}),t):this.hide()}},n.handleDelayedShow=function(){var e=this;if(null!=this._hoverHideDelay)return clearTimeout(this._hoverHideDelay),void(this._hoverHideDelay=null);if(!this.state.show&&null==this._hoverShowDelay){var t=null!=this.props.delayShow?this.props.delayShow:this.props.delay;t?this._hoverShowDelay=setTimeout((function(){e._hoverShowDelay=null,e.show()}),t):this.show()}},n.handleHide=function(){this.hide()},n.handleMouseOverOut=function(e,t,n){var r=t.currentTarget,i=t.relatedTarget||t.nativeEvent[n];i&&i===r||u()(r,i)||e(t)},n.handleToggle=function(){this.state.show?this.hide():this.show()},n.hide=function(){this.setState({show:!1})},n.makeOverlay=function(e,t){return f.a.createElement(T,Object(a.a)({},t,{show:this.state.show,onHide:this.handleHide,target:this}),e)},n.show=function(){this.setState({show:!0})},n.renderOverlay=function(){g.a.unstable_renderSubtreeIntoContainer(this,this._overlay,this._mountNode)},n.render=function(){var e=this.props,t=e.trigger,n=e.overlay,i=e.children,o=e.onBlur,a=e.onClick,s=e.onFocus,l=e.onMouseOut,c=e.onMouseOver,u=Object(r.a)(e,["trigger","overlay","children","onBlur","onClick","onFocus","onMouseOut","onMouseOver"]);delete u.delay,delete u.delayShow,delete u.delayHide,delete u.defaultOverlayShown;var p=f.a.Children.only(i),m=p.props,h={};return this.state.show&&(h["aria-describedby"]=n.props.id),h.onClick=Object(I.a)(m.onClick,a),k("click",t)&&(h.onClick=Object(I.a)(h.onClick,this.handleToggle)),k("hover",t)&&(h.onMouseOver=Object(I.a)(m.onMouseOver,c,this.handleMouseOver),h.onMouseOut=Object(I.a)(m.onMouseOut,l,this.handleMouseOut)),k("focus",t)&&(h.onFocus=Object(I.a)(m.onFocus,s,this.handleDelayedShow),h.onBlur=Object(I.a)(m.onBlur,o,this.handleDelayedHide)),this._overlay=this.makeOverlay(n,u),Object(d.cloneElement)(p,h)},t}(f.a.Component);N.propTypes=M,N.defaultProps={defaultOverlayShown:!1,trigger:["hover","focus"]};t.a=N}]);