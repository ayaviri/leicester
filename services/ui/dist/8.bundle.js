(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1071:function(e,t,n){"use strict";var r=n(8),a=n(105),o=n(216),i=n(0),c=n.n(i),l=n(21),u=n(38),s=n(32),m=n(340),f=n(339),d=n(69),p=n(104),b=n(272),v=function(e){var t=e.title;return c.a.createElement(b.f,null,c.a.createElement("div",{className:"container"},c.a.createElement("h1",{style:{display:"inline",paddingTop:"10px"}},t||c.a.createElement(d.a,{id:"components.SubNav.myAccount"})),c.a.createElement(b.g,{className:"pull-right"},c.a.createElement(p.a,{to:u.s,tracking:!0},c.a.createElement(d.a,{id:"components.SubNav.trips"})),c.a.createElement(p.a,{to:u.b,tracking:!0},c.a.createElement(d.a,{id:"components.SubNav.settings"})))))},h=n(274);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C(e);if(t){var a=C(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(i,e);var t,n,r,o=P(i);function i(){var e;E(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return k(w(e=o.call.apply(o,[this].concat(n))),"_checkAccountCreated",(function(){var t=e.props,n=t.isTermsOrVerifyPage,r=t.loggedInUser,o=t.routeTo;r.hasConsentedToTerms||n||o(u.e,null,a.e)})),e}return t=i,(n=[{key:"componentDidMount",value:function(){this._checkAccountCreated()}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.popupContent,r=e.setPopupContent,a=e.subnav,o=void 0===a||a;return c.a.createElement(m.a,{SubNav:o&&v},c.a.createElement(f.a,{content:n,hideModal:function(){r&&r(null)}}),t)}}])&&g(t.prototype,n),r&&g(t,r),i}(i.Component),x={routeTo:l.d,setPopupContent:l.l};t.a=Object(h.a)(Object(o.d)(Object(r.c)((function(e){var t=e.router.location.pathname;return{isTermsOrVerifyPage:t===u.g||t===u.h,loggedInUser:e.user.loggedInUser,popupContent:e.otp.ui.popup}}),x)(S),s.b),!0)},1077:function(e,t,n){"use strict";var r,a=n(1056),o=n(69),i=n(0),c=n.n(i),l=n(1),u=n(47);var s,m,f=Object(l.default)(a.a)(r||(s=["\n  padding: 0.2em 0.5em 0.2em !important;\n"],m||(m=s.slice(0)),r=Object.freeze(Object.defineProperties(s,{raw:{value:Object.freeze(m)}}))));t.a=function(e){var t=e.status;return c.a.createElement(c.a.Fragment,null,c.a.createElement(u.a,null," ("),function(e){switch(null==e?void 0:e.toLowerCase()){case"pending":return c.a.createElement(f,{bsStyle:"warning"},c.a.createElement(o.a,{id:"components.StatusBadge.pending"}));case"confirmed":return c.a.createElement(f,{style:{background:"green"}},c.a.createElement(o.a,{id:"components.StatusBadge.verified"}));case"invalid":return c.a.createElement(f,null,c.a.createElement(o.a,{id:"components.StatusBadge.invalid"}));default:return null}}(t),c.a.createElement(u.a,null,") "))}},1078:function(e,t,n){"use strict";var r,a,o,i=n(1191),c=n(509),l=n(84),u=n(0),s=n.n(u),m=n(1);function f(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var d=Object(m.default)(i.a)(r||(r=f(["\n  padding: 20px 0px;\n  margin-bottom: 100px;\n"]))),p=Object(m.default)(c.a)(a||(a=f(["\n  float: left;\n"]))),b=Object(m.default)(c.a)(o||(o=f(["\n  float: right;\n"])));t.a=function(e){var t=e.backButton,n=e.extraButton,r=e.okayButton,a=Object(l.a)();return s.a.createElement(d,null,s.a.createElement("nav",{"aria-label":a.formatMessage({id:"components.FormNavigationButtons.ariaLabel"})},t&&(t.content||s.a.createElement(p,{disabled:t.disabled,onClick:t.onClick,type:"button"},t.text)),r&&s.a.createElement(b,{bsStyle:"primary",disabled:r.disabled,onClick:r.onClick,type:r.type||"button"},r.text),null==n?void 0:n.content))}},1098:function(e,t,n){"use strict";var r,a=n(0),o=n.n(a),i=n(1),c=n(272);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var u,s,m=i.default.summary(r||(u=["\n  /* Revert display:block set by Bootstrap that hides the native expand/collapse caret. */\n  display: revert-layer;\n  font-size: 24px;\n  /* Format summary as labels */\n  font-weight: 500;\n  margin-bottom: 0.5em;\n  margin-top: 0.5em;\n\n  &::before {\n    content: '';\n    display: inline-block;\n    width: 0.5em; /* Adjust this value to increase or decrease space */\n  }\n"],s||(s=u.slice(0)),r=Object.freeze(Object.defineProperties(u,{raw:{value:Object.freeze(s)}}))));t.a=function(e){var t=e.canceling,n=e.panes,r=e.title;return o.a.createElement(o.a.Fragment,null,o.a.createElement(c.c,null,r),n.map((function(e,n){var r=e.collapsible,a=e.hidden,i=e.pane,u=e.props,s=e.title;return!a&&o.a.createElement(c.e,{key:n},r?o.a.createElement("details",null,o.a.createElement(m,null,s),o.a.createElement(i,l({canceled:t},u))):o.a.createElement(o.a.Fragment,null,s&&o.a.createElement("h3",null,s),o.a.createElement("div",null,o.a.createElement(i,l({canceled:t},u)))))})))}},1099:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return m})),n.d(t,"a",(function(){return f}));var r=n(1062),a=n(1217),o=n(84),i=n(0),c=n.n(i),l=function(e){var t=e.Control,n=void 0===t?a.a:t,o=e.children,i=e.defaultValue,l=e.label,u=e.name,s=e.onChange,m={as:n,componentClass:"select",defaultValue:i,id:u,name:u,onChange:s};return s||delete m.onChange,c.a.createElement(c.a.Fragment,null,l&&c.a.createElement("label",{htmlFor:u},l),c.a.createElement(r.Field,m,o))};function u(e){var t=e.defaultValue,n=e.hideDefaultIndication,r=e.options,a=Object(o.a)();return c.a.createElement(c.a.Fragment,null,r.map((function(e,r){var o=e.text,i=e.value;return c.a.createElement("option",{key:r,value:i},n||i!==t?o:a.formatMessage({id:"common.forms.defaultValue"},{value:o}))})))}var s=[{id:"yes",value:"true"},{id:"no",value:"false"}];function m(e){var t=e.defaultValue,n=e.hideDefaultIndication,r=Object(o.a)(),a=s.map((function(e){var t=e.id,n=e.value;return{text:r.formatMessage({id:"common.forms.".concat(t)}),value:n}}));return c.a.createElement(u,{defaultValue:(t||!1).toString(),hideDefaultIndication:n,options:a})}function f(e){var t=e.decoratorFunc,n=e.defaultValue,r=e.minuteOptions,a=Object(o.a)(),i=r.map((function(e){return{text:60===e?a.formatMessage({id:"components.TripNotificationsPane.oneHour"}):a.formatMessage({id:"common.time.tripDurationFormat"},{hours:0,minutes:e,seconds:0}),value:e}})),l=t?i.map((function(e){var n=e.text,r=e.value;return{text:t(n,a),value:r}})):i;return c.a.createElement(u,{defaultValue:n,options:l})}},1100:function(e,t,n){"use strict";var r,a=n(111),o=n(69),i=n(0),c=n.n(i),l=n(1),u=n(20),s=n(104);var m,f,d=Object(l.default)(s.a)(r||(m=["\n  display: block;\n"],f||(f=m.slice(0)),r=Object.freeze(Object.defineProperties(m,{raw:{value:Object.freeze(f)}}))));t.a=function(){return c.a.createElement(d,{to:"/"},c.a.createElement(u.b,{Icon:a.a},c.a.createElement(o.a,{id:"components.BackToTripPlanner.backToTripPlanner"})))}},1213:function(e,t,n){"use strict";n.r(t);var r=n(8),a=n(1062),o=n(153),i=n(58),c=n(216),l=n(75),u=n.n(l),s=n(0),m=n.n(s),f=n(1),d=n(227),p=n.n(d),b=n(88),v=n(52),h=n(38),y=n(32),E=n(277),g=n(1071),O=n(84),P=n(69),j=n(110),w=n(1191),C=n(1194),k=function(e){var t=e.handleBlur,n=e.handleChange,r=e.values.accessibilityRoutingByDefault;return m.a.createElement(w.a,null,m.a.createElement(C.a,{checked:r,name:"accessibilityRoutingByDefault",onBlur:t,onChange:n},m.a.createElement(P.a,{id:"components.A11yPrefs.accessibilityRoutingByDefault"})))},S=n(1100),x=n(1193),N=n(1123),_=n(476),T=n(20),D=n(182),R=n(1074),M=n(1217),I=n(1192),V=n(272),F=n(509),U=n(128),z=n(47),A=["as","children","isSubmitting"];function B(){return(B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function L(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var H,q,W=function(e){var t=e.as,n=void 0===t?F.a:t,r=e.children,a=e.isSubmitting,o=L(e,A);return m.a.createElement(n,B({bsStyle:"primary"},o,{disabled:a,type:"submit"}),a?m.a.createElement(U.a,null):r,m.a.createElement(z.a,{role:"status"},a&&m.a.createElement(P.a,{id:"common.forms.submitting"})))};function K(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var $,J,G,Q,X=Object(f.default)(M.a)(H||(H=K(["\n  ","\n  width: 100%;\n"])),V.n),Y=f.default.span(q||(q=K(["\n  display: flex;\n\n  input {\n    margin-right: 10px;\n  }\n"]))),Z=R.d({newEmail:R.e().email().required()}),ee=function(e){var t=e.id,n=e.label,r=e.onSubmit,o=e.placeholder,i=e.submitText;return m.a.createElement(a.Formik,{initialValues:{newEmail:""},onSubmit:r,validateOnBlur:!0,validateOnChange:!1,validationSchema:Z},(function(e){var r,c=e.errors,l=(e.isSubmitting,e.touched),u=e.values,s=c.newEmail&&l.newEmail&&(null===(r=u.newEmail)||void 0===r?void 0:r.length)>0;return m.a.createElement(w.a,{validationState:s?"error":null},m.a.createElement(x.a,null,n),m.a.createElement(Y,null,m.a.createElement(a.Form,{id:t,name:t,noValidate:!0}),m.a.createElement(a.Field,{"aria-invalid":s,"aria-required":!0,as:X,form:t,name:"newEmail",placeholder:o,type:"email"}),m.a.createElement(W,{form:t},i)),m.a.createElement(I.a,{role:"alert"},s&&"Invalid email"))}))},te=n(1077);function ne(e){return function(e){if(Array.isArray(e))return ce(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ie(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function ae(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){re(o,r,a,i,c,"next",e)}function c(e){re(o,r,a,i,c,"throw",e)}i(void 0)}))}}function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||ie(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){if(e){if("string"==typeof e)return ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ce(e,t):void 0}}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function le(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var ue,se=f.default.li($||($=le(["\n  align-items: center;\n  display: flex;\n  justify-content: space-between;\n  list-style-type: none;\n  margin-top: 20px;\n  width: 100%;\n"]))),me=f.default.ul(J||(J=le(["\n  margin-bottom: 30px;\n"]))),fe=f.default.div(G||(G=le(["\n  align-items: center;\n  display: flex;\n  gap: 40px;\n"]))),de=f.default.div(Q||(Q=le(["\n  align-items: center;\n  display: flex;\n  gap: 20px;\n"]))),pe=function(e){var t=e.companionInfo,n=e.onDelete,r=Object(O.a)(),a=t.email,o=t.status,i=oe(Object(s.useState)(!1),2),c=i[0],l=i[1],u=Object(s.useCallback)(ae(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm(r.formatMessage({id:"components.CompanionsPane.confirmDeleteCompanion"},{email:a}))){e.next=5;break}return l(!0),e.next=4,n(a);case 4:l(!1);case 5:case"end":return e.stop()}}),e)}))),[a,r,n]);return m.a.createElement(se,null,m.a.createElement(fe,null,m.a.createElement(T.c,null,m.a.createElement(_.a,null)),a),m.a.createElement(de,null,m.a.createElement(te.a,{status:o}),m.a.createElement(W,{as:D.a,disabled:c,onClick:u,title:r.formatMessage({id:"components.CompanionsPane.deleteCompanion"},{email:a})},m.a.createElement(T.c,null,m.a.createElement(N.a,null)),m.a.createElement(z.a,null,m.a.createElement(P.a,{id:"components.CompanionsPane.deleteCompanion",values:{email:a}})))))},be=function(e){var t=e.handleChange,n=e.setFieldValue,r=e.values.relatedUsers,a=void 0===r?[]:r,o="add-companion-form",i=Object(O.a)(),c=Object(s.useCallback)(function(){var e=ae(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n("relatedUsers",r),e.next=3,t({target:document.getElementById(o)});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,n]),l=Object(s.useCallback)(function(){var e=ae(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.newEmail,o=n.resetForm,Object(v.m)(a,r)){e.next=8;break}return e.next=5,c([].concat(ne(a),[{email:r,status:"PENDING"}]));case 5:o(),e.next=9;break;case 8:alert(i.formatMessage({id:"components.CompanionsPane.companionAlreadyAdded"},{email:r}));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[a,i,c]),u=Object(s.useCallback)(function(){var e=ae(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(a.filter((function(e){return e.email!==t})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[a,c]);return m.a.createElement("div",null,m.a.createElement("p",null,m.a.createElement(P.a,{id:"components.CompanionsPane.companionExplanation"})),m.a.createElement(w.a,null,m.a.createElement(x.a,null,m.a.createElement(P.a,{id:"components.CompanionsPane.currentCompanionsLabel"})),0===a.length?m.a.createElement("p",null,m.a.createElement(P.a,{id:"components.CompanionsPane.noCompanions"})):m.a.createElement(me,null,a.map((function(e){return m.a.createElement(pe,{companionInfo:e,key:e.email,onDelete:u})})))),m.a.createElement(ee,{id:o,label:m.a.createElement(P.a,{id:"components.CompanionsPane.addNewCompanion"}),onSubmit:l,placeholder:"friend.email@example.com",submitText:m.a.createElement(P.a,{id:"components.CompanionsPane.submitNewCompanion"})}))},ve=n(26);var he,ye,Ee=Object(f.default)(F.a)(ue||(he=["\n  background-color: white;\n  border-color: ",";\n  color: ",";\n  :active,\n  :focus,\n  :focus:active,\n  :hover {\n    border-color: ",";\n    color: ",";\n  }\n"],ye||(ye=he.slice(0)),ue=Object.freeze(Object.defineProperties(he,{raw:{value:Object.freeze(ye)}}))),ve.f,ve.f,ve.f,ve.f),ge={deleteUser:b.i},Oe=Object(r.c)(null,ge)((function(e){var t=e.block,n=e.deleteUser,r=e.size,a=Object(c.b)(),o=Object(O.a)(),i=Object(s.useCallback)((function(e){e.preventDefault(),window.confirm(o.formatMessage({id:"components.UserAccountScreen.confirmDelete"}))&&n(a,o)}),[a,n,o]);return m.a.createElement(Ee,{block:t,bsSize:r,onClick:i},m.a.createElement(P.a,{id:"components.DeleteUser.deleteMyAccount"}))})),Pe=n(80),je=n(294),we={deleteLoggedInUserPlace:b.h},Ce=Object(r.c)((function(e){return{isCreating:e.router.location.pathname===h.f,loggedInUser:e.user.loggedInUser}}),we)((function(e){var t=e.deleteLoggedInUserPlace,n=e.isCreating,r=e.loggedInUser,a=Object(O.a)(),o=Object(v.i)(n),i=a.formatMessage({id:"components.FavoritePlaceList.editThisPlace"});return m.a.createElement("div",null,m.a.createElement(x.a,null,m.a.createElement(P.a,{id:"components.FavoritePlaceList.description"})),m.a.createElement(Pe.e,null,r.savedLocations.map((function(e,n){return m.a.createElement(je.a,{actionText:i,detailText:Object(v.j)(e,a),icon:e.icon,key:n,mainText:Object(v.k)(e,a),onDelete:Object(y.i)(e.address)?null:function(){return t(n,a)},path:"".concat(o,"/").concat(n),title:i})}))),m.a.createElement(je.a,{icon:"plus",mainText:m.a.createElement(P.a,{id:"components.FavoritePlaceList.addAnotherPlace"}),path:"".concat(o,"/new"),tag:"div",title:""}))})),ke=n(6),Se=n(104),xe=function(e){var t=e.values.mobilityProfile||{},n=t.isMobilityLimited,r=t.mobilityDevices,a=void 0===r?[]:r,o=t.visionLimitation,i=a.length?a:v.b;return m.a.createElement("div",null,m.a.createElement("p",null,m.a.createElement(P.a,{id:"components.MobilityProfile.MobilityPane.mobilityDevices"}),m.a.createElement(ke.FormattedList,{style:"narrow",type:"conjunction",value:i.map((function(e){return m.a.createElement(P.a,{id:"components.MobilityProfile.DevicesPane.devices.".concat(e),key:e})}))}),m.a.createElement("br",null),m.a.createElement(P.a,{id:"components.MobilityProfile.MobilityPane.mobilityLimitations"}),n?m.a.createElement(P.a,{id:"common.forms.yes"}):m.a.createElement(P.a,{id:"common.forms.no"}),m.a.createElement("br",null),m.a.createElement(P.a,{id:"components.MobilityProfile.MobilityPane.visionLimitations"}),m.a.createElement(P.a,{id:"components.MobilityProfile.LimitationsPane.visionLimitations.".concat(o)})),m.a.createElement(Se.a,{className:"btn btn-primary",to:"/account/mobilityProfile/"},m.a.createElement(P.a,{id:"components.MobilityProfile.MobilityPane.button"})))},Ne=n(1169),_e=n(1200),Te=n(1140);var De,Re=n(1172);function Me(){return(Me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ie,Ve,Fe=Object(f.default)(Re.a)(De||(De=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  ","\n"])),V.n),Ue=R.d({phoneNumber:R.e().required().test("phone-number-format","invalidPhoneNumber",(function(e){return e&&Object(Te.b)(e)}))}),ze="phone-change-form",Ae=function(e){var t=e.errors,n=e.handleBlur,r=e.handleChange,o=e.isSubmitting,i=e.onCancel,c=e.phoneFormatOptions,l=e.showCancel,u=e.touched,f=e.values,d=Object(O.a)(),p=Object(s.useRef)(),b=t.phoneNumber&&u.phoneNumber;Object(s.useEffect)((function(){var e;l&&(null===(e=p.current)||void 0===e||e.focus())}),[p,l]);var v=Object(s.useCallback)((function(e){"Escape"===e.key&&l&&"function"==typeof i&&(e.preventDefault(),i())}),[i,l]),h=Object(s.useCallback)((function(e){return r({target:{name:"phoneNumber",value:e}})}),[r]);return m.a.createElement(w.a,{onKeyDown:v,validationState:b?"error":null},m.a.createElement(a.Form,{id:ze,noValidate:!0}),m.a.createElement(x.a,{htmlFor:"phone-number"},m.a.createElement(P.a,{id:"components.PhoneNumberEditor.prompt"})),m.a.createElement(V.a,null,m.a.createElement(Fe,{"aria-invalid":b,"aria-required":!0,className:"form-control",country:c.countryCode,form:ze,id:"phone-number",name:"phoneNumber",onBlur:n,onChange:h,placeholder:d.formatMessage({id:"components.PhoneNumberEditor.placeholder"}),ref:p,type:"tel",value:f.phoneNumber}),m.a.createElement(F.a,{bsStyle:"primary",disabled:o,form:ze,type:"submit"},o?m.a.createElement(U.a,null):m.a.createElement(P.a,{id:"components.PhoneNumberEditor.sendVerificationText"}),m.a.createElement(z.a,{role:"status"},o&&m.a.createElement(P.a,{id:"common.forms.submitting"}))),l&&m.a.createElement(F.a,{onClick:i},m.a.createElement(P.a,{id:"common.forms.cancel"})),m.a.createElement(I.a,{role:"alert"},b&&m.a.createElement(P.a,{id:"components.PhoneNumberEditor.invalidPhone"})),m.a.createElement(I.a,null,m.a.createElement(P.a,{id:"components.PhoneNumberEditor.smsConsent"}))))},Be=function(e){return m.a.createElement(a.Formik,{initialValues:{phoneNumber:""},onSubmit:e.onSubmit,validateOnBlur:!0,validateOnChange:!1,validationSchema:Ue},(function(t){return m.a.createElement(Ae,Me({},t,e))}))};function Le(){return(Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function He(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var qe,We=Object(f.default)(M.a)(Ie||(Ie=He(["\n  ","\n"])),V.n),Ke=Object(f.default)(F.a)(Ve||(Ve=He(["\n  padding-left: 0;\n  padding-right: 0;\n"]))),$e=R.d({validationCode:R.e().required().matches(/^\d{6}$/)}),Je=function(e){var t=e.errors,n=e.isSubmitting,r=e.isValid,o=e.isValidating,i=e.onRequestCode,c=e.resetForm,l=e.submitCount,u=e.touched,f=!n&&l&&r&&!o;Object(s.useEffect)((function(){f&&setTimeout((function(){var e;c(),null===(e=document.getElementById("validation-code"))||void 0===e||e.focus()}),200)}),[f,c]);var d=Object(y.e)(e).validationCode,p=!(!u.validationCode||!t.validationCode),b="phone-verification-form";return m.a.createElement(w.a,{validationState:d},m.a.createElement(a.Form,{id:b,noValidate:!0}),m.a.createElement("p",null,m.a.createElement(P.a,{id:"components.PhoneNumberEditor.verificationInstructions"})),m.a.createElement(x.a,{htmlFor:"validation-code"},m.a.createElement(P.a,{id:"components.PhoneNumberEditor.verificationCode"})),m.a.createElement(V.a,null,m.a.createElement(a.Field,{"aria-invalid":p,"aria-required":!0,as:We,form:b,id:"validation-code",maxLength:6,name:"validationCode",placeholder:"123456",type:"tel"}),m.a.createElement(F.a,{bsStyle:"primary",disabled:n,form:b,type:"submit"},n?m.a.createElement(U.a,null):m.a.createElement(P.a,{id:"components.PhoneNumberEditor.verify"}),m.a.createElement(z.a,{role:"status"},n&&m.a.createElement(P.a,{id:"common.forms.submitting"}))),m.a.createElement(I.a,{role:"alert"},p&&m.a.createElement(P.a,{id:"components.PhoneNumberEditor.invalidCode"}))),m.a.createElement(Ke,{bsStyle:"link",onClick:i},m.a.createElement(P.a,{id:"components.PhoneNumberEditor.requestNewCode"})))},Ge=function(e){return m.a.createElement(a.Formik,{initialValues:{validationCode:""},onSubmit:e.onSubmit,validateOnBlur:!0,validateOnChange:!1,validationSchema:$e},(function(t){return m.a.createElement(Je,Le({},t,e))}))};function Qe(e){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xe(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function Ye(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Xe(o,r,a,i,c,"next",e)}function c(e){Xe(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function et(e,t){return(et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=at(e);if(t){var a=at(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return nt(this,n)}}function nt(e,t){if(t&&("object"===Qe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return rt(e)}function rt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function at(e){return(at=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){ct(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lt=f.default.a(qe||(qe=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  color: ",";\n  &:hover {\n    text-decoration: none;\n  }\n"])),ve.e),ut={isEditing:!1,phoneNumberReceived:!1,phoneNumberVerified:!1,submittedCode:"",submittedNumber:""};function st(e){var t=e.initialPhoneNumber,n=e.initialPhoneNumberVerified,r=void 0!==n&&n;return it(it({},ut),{},{isEditing:Object(y.i)(t),phoneNumberVerified:r})}var mt,ft=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&et(e,t)}(o,e);var t,n,r,a=tt(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),ct(rt(t=a.call(this,e)),"_changeRef",Object(s.createRef)()),ct(rt(t),"_handleEditNumber",(function(){return t.setState({isEditing:!0})})),ct(rt(t),"_handleCancelEditNumber",(function(){t.setState(st(t.props))})),ct(rt(t),"_handleRequestCode",function(){var e=Ye(regeneratorRuntime.mark((function e(n){var r,a,o,i,c,l,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.props,a=r.initialPhoneNumber,o=r.initialPhoneNumberVerified,i=r.intl,c=r.requestPhoneVerificationSms,!(l="phoneNumber"in n?n.phoneNumber:null)||l===a&&o?t._isPhoneNumberPending()&&(u=a):u=l,!u){e.next=7;break}return t.setState({submittedNumber:u}),e.next=7,c(u,i);case 7:t._handleCancelEditNumber();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ct(rt(t),"_handleSubmitCode",function(){var e=Ye(regeneratorRuntime.mark((function e(n){var r,a,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.props,a=r.intl,o=r.verifyPhoneNumber,!(i="validationCode"in n?n.validationCode:null)){e.next=7;break}return t.setState({submittedCode:i}),e.next=6,o(i,a);case 6:t.setState({submittedCode:""});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ct(rt(t),"_isPhoneNumberPending",(function(){var e=t.props,n=e.initialPhoneNumber,r=e.initialPhoneNumberVerified;return!Object(y.i)(n)&&!r})),t.state=st(e),t}return t=o,(n=[{key:"componentDidUpdate",value:function(e,t){var n,r=this.props,a=r.initialPhoneNumber,o=r.initialPhoneNumberVerified,i=a!==e.initialPhoneNumber,c=o!==e.initialPhoneNumberVerified;(i||c)&&this._handleCancelEditNumber(),i&&!o&&this.setState({phoneNumberReceived:!0}),!i&&c&&o&&this.setState({phoneNumberVerified:!0}),t.isEditing&&!this.state.isEditing&&""===this.state.submittedNumber&&(null===(n=this._changeRef.current)||void 0===n||n.focus())}},{key:"render",value:function(){var e,t,n=this.props,r=n.descriptorId,a=n.initialPhoneNumber,o=n.phoneFormatOptions,i=this.state,c=i.isEditing,l=i.phoneNumberReceived,u=i.phoneNumberVerified,s=i.submittedCode,f=i.submittedNumber,d=!Object(y.i)(f),p=!Object(y.i)(s),b=d||this._isPhoneNumberPending(),v=c&&d||p,h=d?f:a,E=Object(Te.a)(h),g=(e=Object(Te.a)(a),"".concat(e.replace(/\s*\(\s*/g,"").replace(/\s*\)\s*/g,".").replace("-",".").replace(/\s*(\d)/g," $1").trim(),"."));return l?t=m.a.createElement(m.a.Fragment,null,m.a.createElement(P.a,{id:"components.PhoneNumberEditor.phoneNumberSubmitted",values:{phoneNumber:g}})," ",m.a.createElement(P.a,{id:"components.PhoneNumberEditor.verificationInstructions"})):u&&(t=m.a.createElement(P.a,{id:"components.PhoneNumberEditor.phoneNumberVerified",values:{phoneNumber:g}})),m.a.createElement(m.a.Fragment,null,c?m.a.createElement(Be,{isSubmitting:d,onCancel:this._handleCancelEditNumber,onSubmit:this._handleRequestCode,phoneFormatOptions:o,showCancel:!!a}):m.a.createElement(w.a,null,m.a.createElement(V.a,null,m.a.createElement(lt,{"aria-label":g,href:"tel:".concat(h),id:r},E),m.a.createElement(z.a,null," ("),m.a.createElement(te.a,{status:b?"pending":u?"verified":""}),m.a.createElement(z.a,null,")"),m.a.createElement("button",{className:"btn btn-default",onClick:this._handleEditNumber,ref:this._changeRef,style:{padding:"2px 12px"}},m.a.createElement(P.a,{id:"components.PhoneNumberEditor.changeNumber"})))),m.a.createElement(z.a,{"aria-busy":v,as:"div",role:"alert"},t),b&&!c&&m.a.createElement(Ge,{onRequestCode:this._handleRequestCode,onSubmit:this._handleSubmitCode}))}}])&&Ze(t.prototype,n),r&&Ze(t,r),o}(s.Component),dt={requestPhoneVerificationSms:b.s,verifyPhoneNumber:b.y},pt=Object(r.c)((function(e){return{phoneFormatOptions:e.otp.config.phoneFormatOptions}}),dt)(Object(o.c)(ft));var bt,vt=["email","sms","push"],ht=["email","sms"],yt=Object(f.default)(Ne.a)(mt||(mt=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  align-items: flex-start;\n  display: flex;\n\n  /* Match bootstrap's spacing between checkbox and label */\n  & > span:first-child {\n    flex-shrink: 0;\n    width: 20px;\n  }\n\n  label {\n    display: block;\n    font-weight: normal;\n    margin-bottom: 0;\n  }\n  label::first-letter {\n    text-transform: uppercase;\n  }\n  label + span {\n    color: ",";\n  }\n"])),ve.e),Et=Object(r.c)((function(e){var t,n=e.otp.config.persistence;return{allowedNotificationChannels:!(!n||!("otp_middleware"in n))&&(null===(t=n.otp_middleware)||void 0===t?void 0:t.supportsPushNotifications)?vt:ht}}))((function(e){var t=e.allowedNotificationChannels,n=e.handleChange,r=e.values,o=r.email,i=r.isPhoneNumberVerified,c=r.phoneNumber,l=r.pushDevices;return m.a.createElement(V.b,null,m.a.createElement("legend",null,m.a.createElement(P.a,{id:"components.NotificationPrefsPane.notificationChannelPrompt"})),m.a.createElement(_e.a,null,t.map((function(e){var t="notification-channel-".concat(e),r="".concat(t,"-description");return m.a.createElement(yt,{key:e},m.a.createElement("span",null,m.a.createElement(a.Field,{"aria-describedby":r,disabled:"push"===e&&!l,id:t,name:"notificationChannel",onChange:n,type:"checkbox",value:e})),m.a.createElement("span",null,m.a.createElement("label",{htmlFor:t},m.a.createElement(P.a,{id:"common.notifications.".concat(e)})),"email"===e?m.a.createElement("span",{id:r},o):"sms"===e?m.a.createElement(pt,{descriptorId:r,initialPhoneNumber:c,initialPhoneNumberVerified:i}):m.a.createElement("span",{id:r},l?m.a.createElement(P.a,{id:"components.NotificationPrefsPane.devicesRegistered",values:{count:l}}):m.a.createElement(P.a,{id:"components.NotificationPrefsPane.noDeviceForPush"}))))}))))})),gt=n(1098);!function(e){e.HIDDEN_CHECKED="hidden-checked",e.HIDDEN_UNCHECKED="hidden-unchecked",e.VISIBLE_CHECKED="visible-checked",e.VISIBLE_UNCHECKED="visible-unchecked"}(bt||(bt={}));var Ot=n(231),Pt=Object(r.c)((function(e){var t,n;return{locale:null===(t=e.otp.ui)||void 0===t?void 0:t.locale,termsOfServiceLink:e.otp.config.termsOfServiceLink,termsOfStorageDefault:null===(n=e.otp.config.persistence)||void 0===n?void 0:n.termsOfStorageDefault}}))((function(e){var t=e.disableCheckTerms,n=e.handleBlur,r=e.handleChange,a=e.locale,o=e.setFieldValue,i=e.termsOfServiceLink,c=e.termsOfStorageDefault,l=void 0===c?bt.VISIBLE_UNCHECKED:c,u=e.values,f=Object(O.a)(),d=u.hasConsentedToTerms,p=u.id,b=u.storeTripHistory,v=(null==i?void 0:i.replace("{locale}",a))||"/#".concat(h.p),y=l.startsWith("visible-");return Object(s.useEffect)((function(){p||l!==bt.HIDDEN_CHECKED&&l!==bt.VISIBLE_CHECKED||o("storeTripHistory",!0)}),[p,o,l]),m.a.createElement("div",null,m.a.createElement(x.a,null,m.a.createElement(P.a,{id:"components.TermsOfUsePane.mustAgreeToTerms"})),m.a.createElement(w.a,null,m.a.createElement(C.a,{checked:d,disabled:t,name:"hasConsentedToTerms",onBlur:t?void 0:n,onChange:t?void 0:r},m.a.createElement(P.a,{id:"components.TermsOfUsePane.termsOfServiceStatement",values:{termsOfUseLink:function(e){return m.a.createElement(Ot.a,{contents:e,inline:!0,url:v})}}}))),y?m.a.createElement(w.a,null,m.a.createElement(C.a,{checked:b,name:"storeTripHistory",onBlur:n,onChange:function(e){b&&!confirm(f.formatMessage({id:"components.TermsOfUsePane.confirmDeletionPrompt"}))||r(e)}},m.a.createElement(P.a,{id:"components.TermsOfUsePane.termsOfStorageStatement",values:{termsOfStorageLink:function(e){return m.a.createElement(Ot.a,{contents:e,inline:!0,url:"/#".concat(h.q)})}}}))):null)}));function jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(n),!0).forEach((function(t){Ct(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kt,St=Object(r.c)((function(e){var t,n=e.otp.config,r=n.mobilityProfile;return{mobilityProfileEnabled:void 0!==r&&r,wheelchairEnabled:null===(t=n.modes.accessModes)||void 0===t?void 0:t.some((function(e){return e.showWheelchairSetting}))}}))((function(e){var t=e.mobilityProfileEnabled,n=e.wheelchairEnabled,r=Object(O.a)(),a=[{pane:Ce,props:e,title:m.a.createElement(P.a,{id:"components.ExistingAccountDisplay.places"})},{hidden:!t,pane:xe,props:e,title:m.a.createElement(P.a,{id:"components.MobilityProfile.MobilityPane.header"})},{hidden:!t,pane:be,props:e,title:m.a.createElement(P.a,{id:"components.CompanionsPane.title"})},{pane:Et,props:e,title:m.a.createElement(P.a,{id:"components.ExistingAccountDisplay.notifications"})},{hidden:!n,pane:k,props:e,title:m.a.createElement(P.a,{id:"components.ExistingAccountDisplay.a11y"})},{pane:Pt,props:wt(wt({},e),{},{disableCheckTerms:!0}),title:m.a.createElement(P.a,{id:"components.ExistingAccountDisplay.terms"})},{pane:Oe,props:{block:!0,size:"large"}}],o=r.formatMessage({id:"components.SubNav.settings"}),i=r.formatMessage({id:"components.SubNav.myAccount"});return m.a.createElement("div",null,m.a.createElement(S.a,null),m.a.createElement(j.a,{title:[o,i]}),m.a.createElement(gt.a,{panes:a,title:m.a.createElement(P.a,{id:"components.ExistingAccountDisplay.mainTitle"})}))})),xt=n(105),Nt=n(21),_t=n(1078),Tt=function(){return m.a.createElement("div",null,m.a.createElement("p",null,m.a.createElement(P.a,{id:"components.AccountSetupFinishPane.message"})))};var Dt,Rt=["none","white cane","manual walker","wheeled walker","cane","crutches","stroller","service animal","mobility scooter","electric wheelchair","manual wheelchair"],Mt=f.default.span(kt||(kt=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  align-items: center;\n  display: inline-flex;\n  gap: 0.5em;\n  margin-bottom: 5px;\n  min-width: 300px;\n  width: 50%;\n\n  label {\n    font-weight: normal;\n    margin: 4px 0 0; /* match bootstrap's checkbox for better vert. align */\n  }\n"]))),It=function(e){var t=e.handleChange;return m.a.createElement("div",null,m.a.createElement("p",null,m.a.createElement(P.a,{id:"components.MobilityProfile.intro"})),m.a.createElement(V.b,null,m.a.createElement("legend",null,m.a.createElement(P.a,{id:"components.MobilityProfile.DevicesPane.prompt"})),m.a.createElement("div",null,Rt.map((function(e){var n="device-option-".concat(e);return m.a.createElement(Mt,{key:e},m.a.createElement(a.Field,{id:n,name:"mobilityProfile.mobilityDevices",onChange:t,type:"checkbox",value:e}),m.a.createElement("label",{htmlFor:n},m.a.createElement(P.a,{id:"components.MobilityProfile.DevicesPane.devices.".concat(e)})))})))))},Vt=n(1099),Ft=["none","low-vision","legally-blind"];var Ut=f.default.div(Dt||(Dt=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  select {\n    width: unset; /* Otherwise, it is 100% per bootstrap. */\n  }\n"])));function zt(){var e=Object(O.a)(),t=Ft.map((function(t){return{text:e.formatMessage({id:"components.MobilityProfile.LimitationsPane.visionLimitations.".concat(t)}),value:t}}));return m.a.createElement(Vt.b,{options:t})}var At,Bt=function(e){var t=e.handleChange;e.values;return m.a.createElement(Ut,null,m.a.createElement("p",null,m.a.createElement(P.a,{id:"components.MobilityProfile.intro"})),m.a.createElement(w.a,null,m.a.createElement(Vt.c,{defaultValue:!1,label:m.a.createElement(P.a,{id:"components.MobilityProfile.LimitationsPane.mobilityPrompt"}),name:"mobilityProfile.isMobilityLimited",onChange:t},m.a.createElement(Vt.d,{hideDefaultIndication:!0}))),m.a.createElement(w.a,null,m.a.createElement(Vt.c,{label:m.a.createElement(P.a,{id:"components.MobilityProfile.LimitationsPane.visionPrompt"}),name:"mobilityProfile.visionLimitation",onChange:t},m.a.createElement(zt,null))))},Lt={companions:{id:"companions",pane:be,title:m.a.createElement(P.a,{id:"components.CompanionsPane.title"})},finish:{id:"finish",pane:Tt,title:m.a.createElement(P.a,{id:"components.NewAccountWizard.finish"})},mobilityDevices:{id:"mobilityDevices",pane:It,title:m.a.createElement(P.a,{id:"components.MobilityProfile.title"})},mobilityLimitations:{id:"mobilityLimitations",pane:Bt,title:m.a.createElement(P.a,{id:"components.MobilityProfile.title"})},notifications:{getInvalidMessage:function(e){return e.formatMessage({id:"components.PhoneNumberEditor.verifySms"})},id:"notifications",isInvalid:function(e){var t=e.isPhoneNumberVerified,n=e.notificationChannel,r=e.phoneNumber;return(null==n?void 0:n.includes("sms"))&&(!r||!t)},pane:Et,title:m.a.createElement(P.a,{id:"components.NewAccountWizard.notifications"})},places:{id:"places",pane:Ce,title:m.a.createElement(P.a,{id:"components.NewAccountWizard.places"})},terms:{backButton:Oe,getInvalidMessage:function(e){return e.formatMessage({id:"components.TermsOfUsePane.mustAgreeToTerms"})},id:"terms",isInvalid:function(e){return!e.hasConsentedToTerms},pane:Pt,title:m.a.createElement(P.a,{id:"components.NewAccountWizard.createNewAccount"})}};function Ht(e){return(Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qt(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function Wt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){qt(o,r,a,i,c,"next",e)}function c(e){qt(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Kt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jt(e,t){return(Jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yt(e);if(t){var a=Yt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Qt(this,n)}}function Qt(e,t){if(t&&("object"===Ht(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Xt(e)}function Xt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yt(e){return(Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var en,tn,nn=f.default.p(At||(At=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  color: ",";\n  font-size: 40%;\n  margin: -1em 0 0 0;\n"])),ve.e),rn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jt(e,t)}(i,e);var t,n,r,o=Gt(i);function i(){var e;Kt(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Zt(Xt(e=o.call.apply(o,[this].concat(n))),"_routeTo",(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xt.d,r=e.props,a=r.parentPath,o=r.routeTo;o("".concat(a,"/").concat(t),void 0,n)})),Zt(Xt(e),"h1Ref",m.a.createRef()),Zt(Xt(e),"_focusHeader",(function(){var t,n;null===(t=e.h1Ref)||void 0===t||null===(n=t.current)||void 0===n||n.focus()})),Zt(Xt(e),"_handleToNextPane",function(){var t=Wt(regeneratorRuntime.mark((function t(n){var r,a,o,i,c,l,u,s,m,f,d,p,b,v,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.props,a=r.activePane,o=r.activePaneIndex,i=r.formikProps,c=r.intl,l=r.onNext,u=r.pages,s=r.returnTo,m=void 0===s?"/":s,f=r.routeTo,d=r.title,!(o<u.length-1)){t.next=15;break}if(n.preventDefault(),p=a.getInvalidMessage,b=void 0===p?function(e){return""}:p,v=a.isInvalid,!(void 0===v?function(){return!1}:v)(i.values)){t.next=8;break}alert(b(c)),t.next=13;break;case 8:if(h=u[o+1],!l){t.next=12;break}return t.next=12,l(u[o]);case 12:e._routeTo(h);case 13:t.next=17;break;case 15:Object(E.b)(d,c.formatMessage({id:"actions.user.preferencesSaved"})),f(m);case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Zt(Xt(e),"_handleToPrevPane",(function(){var t=e.props,n=t.activePaneIndex,r=t.pages;if(n>0){var a=r[n-1];a&&e._routeTo(a)}})),e}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.activePaneIndex,n=e.pages;this._focusHeader(),-1===t&&this._routeTo(n[0],xt.e)}},{key:"componentDidUpdate",value:function(e){e.activePane!==this.props.activePane&&this._focusHeader()}},{key:"render",value:function(){var e=this.props,t=e.activePane,n=e.activePaneIndex,r=e.formikProps,o=e.pages,i=e.title,c=t||{},l=c.backButton,u=c.pane,s=c.title;return m.a.createElement(a.Form,{id:"user-settings-form",noValidate:!0},m.a.createElement(j.a,{title:i}),m.a.createElement("h1",{ref:this.h1Ref,tabIndex:-1},m.a.createElement(nn,null,m.a.createElement(P.a,{id:"components.SequentialPaneDisplay.stepNumber",values:{step:n+1,total:o.length}})),s),m.a.createElement(V.d,null,u&&m.a.createElement(u,r)),m.a.createElement(_t.a,{backButton:l&&{content:m.a.createElement(l,null)}||n>0&&{onClick:this._handleToPrevPane,text:m.a.createElement(P.a,{id:"common.forms.back"})},okayButton:{onClick:this._handleToNextPane,text:n<o.length-1?m.a.createElement(P.a,{id:"common.forms.next"}):m.a.createElement(P.a,{id:"common.forms.finish"}),type:"submit"}}))}}])&&$t(t.prototype,n),r&&$t(t,r),i}(s.Component),an={routeTo:Nt.d},on=Object(r.c)((function(e,t){var n=t.pages,r=e.router.location.pathname,a=r.lastIndexOf("/"),o=r.substr(Math.min(a+1,r.length)),i=n.indexOf(o);return{activePane:Lt[n[i]],activePaneIndex:i,parentPath:r.substr(0,a)}}),an)(Object(o.c)(rn)),cn=function(e){var t=e.formikProps,n=Object(O.a)().formatMessage({id:"components.MobilityProfile.MobilityPane.header"});return m.a.createElement(on,{formikProps:t,pages:["mobilityDevices","mobilityLimitations"],returnTo:"/account/settings",title:n})},ln=Object(r.c)((function(e){return{pages:e.otp.config.mobilityProfile?["terms","mobilityDevices","mobilityLimitations","companions","notifications","places","finish"]:["terms","notifications","places","finish"]}}))((function(e){var t=e.formikProps,n=e.onCreate,r=e.pages,a=t.values,o=Object(O.a)(),i=Object(s.useCallback)((function(e){"terms"===e&&(a.id||n(a))}),[n,a]),c=o.formatMessage({id:"components.NewAccountWizard.createNewAccount"});return m.a.createElement(on,{formikProps:t,onNext:i,pages:r,title:c})})),un={resendVerificationEmail:b.t,routeTo:Nt.d},sn=Object(r.c)(null,un)((function(e){var t,n=e.resendVerificationEmail,r=e.routeTo,a=Object(O.a)(),o=Object(c.b)(),i=null===(t=o.user)||void 0===t?void 0:t.email_verified,l=o.logout,u=Object(s.useCallback)((function(){l(),window.location.reload()}),[l]),f=Object(s.useCallback)((function(){n(a)}),[n,a]);Object(s.useEffect)((function(){i&&r(h.g)}),[i,r]);var d=a.formatMessage({id:"components.NewAccountWizard.verify"});return m.a.createElement(m.a.Fragment,null,m.a.createElement(j.a,{title:d}),m.a.createElement("h1",null,d),m.a.createElement("p",null,m.a.createElement(P.a,{id:"components.VerifyEmailPane.instructions1"})),m.a.createElement("p",null,m.a.createElement(P.a,{id:"components.VerifyEmailPane.instructions2"})),m.a.createElement("div",{style:{margin:"1.5em 0"}},m.a.createElement(F.a,{bsSize:"large",bsStyle:"primary",onClick:u},m.a.createElement(P.a,{id:"components.VerifyEmailPane.emailIsVerified"}))),m.a.createElement("div",null,m.a.createElement(F.a,{bsStyle:"link",onClick:f,style:{padding:"0px"}},m.a.createElement(P.a,{id:"components.VerifyEmailPane.resendVerification"}))),m.a.createElement("div",{style:{marginTop:"3em"}},m.a.createElement(Oe,{size:"large"})))})),mn=n(274);function fn(e){return(fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dn(Object(n),!0).forEach((function(t){wn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bn(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function vn(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){bn(o,r,a,i,c,"next",e)}function c(e){bn(o,r,a,i,c,"throw",e)}i(void 0)}))}}function hn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function En(e,t){return(En=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jn(e);if(t){var a=jn(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return On(this,n)}}function On(e,t){if(t&&("object"===fn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Pn(e)}function Pn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jn(e){return(jn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var kn=Object(f.css)(en||(en=Cn(["\n  border-radius: 2px;\n  cursor: wait;\n  outline: 1px solid blue;\n  /* This next line enhances the visuals in Chromium (webkit) browsers */\n  outline: 1px solid -webkit-focus-ring-color;\n"]))),Sn=f.default.div(tn||(tn=Cn(["\n  @keyframes dive-in {\n    0% {\n      ","\n      outline-offset: 2px;\n    }\n    100% {\n      ","\n      outline-offset: -8px;\n    }\n  }\n"])),kn,kn),xn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&En(e,t)}(c,e);var t,n,r,o=gn(c);function c(){var e;hn(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return wn(Pn(e=o.call.apply(o,[this].concat(n))),"_updateUserPrefs",function(){var t=vn(regeneratorRuntime.mark((function t(n){var r,a,o,i,c,l,s,m,f=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=f.length>1&&void 0!==f[1]&&f[1],o=e.props,i=o.createOrUpdateUser,c=o.intl,l=o.loggedInUser,s=pn(pn({},u()(n)),{},{notificationChannel:n.notificationChannel.join(",")}),Object(v.d)(s.mobilityProfile,null===(r=l.mobilityProfile)||void 0===r?void 0:r.mobilityDevices),t.next=6,i(s,c);case 6:return(m=t.sent)!==b.a.SUCCESS||a||p.a.success(c.formatMessage({id:"actions.user.preferencesSaved"})),t.abrupt("return",m);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),wn(Pn(e),"_handleCreateNewUser",(function(t){e._updateUserPrefs(t,!0)})),wn(Pn(e),"_submitForm",function(){var t=vn(regeneratorRuntime.mark((function t(n,r){var a,o,i,c,l,u,s,m;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.props,i=o.intl,c=o.isWizard,l=null===(a=n.labels)||void 0===a?void 0:a[0],n.disabled=!0,u=n.style.animation,n.style.animation="dive-in 1s linear infinite",s=l?l.style.cursor:"",l&&(l.style.cursor="wait"),m=c?void 0:p.a.loading(i.formatMessage({id:"components.UserAccountScreen.updating"})),t.prev=8,t.next=11,r();case 11:c||Object(E.b)(i.formatMessage({defaultMessage:null==l?void 0:l.innerText,id:"components.UserAccountScreen.fields.".concat(n.name)}),i.formatMessage({id:"components.UserAccountScreen.fieldUpdated"}),m),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(8),p.a.remove(),alert(i.formatMessage({id:"components.UserAccountScreen.errorUpdatingProfile"}));case 18:return t.prev=18,l&&(l.style.cursor=s),n.disabled=!1,n.style.animation=u,n.focus(),t.finish(18);case 24:case"end":return t.stop()}}),t,null,[[8,14,18,24]])})));return function(e,n){return t.apply(this,arguments)}}()),wn(Pn(e),"_handleInputChange",(function(t){return function(n){var r=t.handleChange,a=t.submitForm,o=t.values;r(n);var i=n.target;"hasConsentedToTerms"===i.name||"storeTripHistory"===i.name&&!o.id||e._submitForm(i,a)}})),wn(Pn(e),"_handleFieldChange",function(){var t=vn(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._updateUserPrefs(n,!0);case 2:if(t.sent===b.a.SUCCESS){t.next=5;break}throw new Error("User update failed.");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e}return t=c,(n=[{key:"render",value:function(){var e,t=this,n=this.props,r=n.isWizard,o=n.loggedInUser,c=pn(pn({},o),{},{notificationChannel:(null===(e=o.notificationChannel)||void 0===e?void 0:e.split(","))||[]});return m.a.createElement(g.a,{subnav:!r},m.a.createElement(Sn,null,m.a.createElement(a.Formik,{enableReinitialize:!0,initialValues:c,onSubmit:this._handleFieldChange},(function(e){var n=pn(pn({},e),{},{handleChange:t._handleInputChange(e)});return m.a.createElement(i.e,null,m.a.createElement(i.c,{exact:!0,path:h.h},m.a.createElement(sn,null)),m.a.createElement(i.c,{path:h.e},m.a.createElement(ln,{formikProps:n,onCreate:t._handleCreateNewUser})),m.a.createElement(i.c,{path:h.l},m.a.createElement(cn,{formikProps:n})),m.a.createElement(i.c,null,m.a.createElement(St,n)))}))))}}])&&yn(t.prototype,n),r&&yn(t,r),c}(s.Component),Nn={createOrUpdateUser:b.e};t.default=Object(mn.a)(Object(c.d)(Object(r.c)((function(e){var t=e.router.location.pathname;return{isWizard:!![h.e,h.l].find((function(e){return t.startsWith(e)})),loggedInUser:e.user.loggedInUser}}),Nn)(Object(o.c)(xn)),y.b),!0)}}]);